import{e as J,i as X,o as Y,p as ee,q as te,w as ie}from"./chunk-AUZY6O5Y.js";import{$a as T,$b as U,Ab as j,Bb as N,Cc as Z,D as B,Da as o,Db as P,Fb as d,Gb as u,Hb as K,Ib as $,Jb as V,Kb as G,Na as R,Ta as M,Ua as O,_ as y,ac as v,bb as p,bc as q,cb as m,da as h,ea as f,eb as I,fb as k,gb as E,gc as g,hb as b,hc as Q,ib as r,ic as W,jb as l,kb as _,ma as H,rb as x,sa as F,sb as C,ub as c,x as L,zb as A}from"./chunk-DWRMJDZW.js";var oe=["pageInput"];function se(i,t){if(i&1&&(r(0,"option",18),u(1),l()),i&2){let e=t.$implicit;b("value",e),o(),K(e)}}function re(i,t){if(i&1){let e=x();r(0,"div",4)(1,"label",16),u(2," Items por p\xE1gina: "),l(),r(3,"select",17),C("ngModelChange",function(a){h(e);let s=c(2);return f(s.onPageSizeChange(a))}),k(4,se,2,2,"option",18,I),l()()}if(i&2){let e=c(2);o(),P("d-none",e.screenSize()==="xs"||e.screenSize()==="sm"),o(2),d(e.pageSizeSelectClasses),b("ngModel",e.pageSize()),o(),E(e.pageSizeOptions())}}function le(i,t){i&1&&_(0,"i",20)}function ce(i,t){i&1&&(_(0,"i",21),r(1,"span",22),u(2,"Primera"),l())}function ge(i,t){if(i&1){let e=x();r(0,"li")(1,"button",19),C("click",function(){h(e);let a=c(2);return f(a.goToPage(1))}),p(2,le,1,0,"i",20)(3,ce,3,0),l()()}if(i&2){let e=c(2);d(e.pageItemClasses),P("disabled",e.currentPage()<=1),o(),d(e.pageLinkClasses),b("disabled",e.currentPage()<=1),o(),m(e.screenSize()==="xs"?2:3)}}function de(i,t){i&1&&_(0,"i",9)}function pe(i,t){i&1&&(_(0,"i",23),r(1,"span"),u(2,"Anterior"),l())}function me(i,t){if(i&1&&(r(0,"li")(1,"span"),u(2,"..."),l()()),i&2){let e=c(4);d(e.pageItemClasses+" disabled"),o(),d(e.pageLinkClasses)}}function ue(i,t){if(i&1){let e=x();r(0,"li")(1,"button",26),C("click",function(){h(e);let a=c().$implicit,s=c(3);return f(s.goToPage(a))}),u(2),l()()}if(i&2){let e=c().$implicit,n=c(3);d(n.pageItemClasses),P("active",e===n.currentPage()),o(),d(n.pageLinkClasses),T("aria-current",e===n.currentPage()?"page":null)("aria-label","P\xE1gina "+e),o(),$(" ",e," ")}}function _e(i,t){if(i&1&&p(0,me,3,4,"li",24)(1,ue,3,9,"li",25),i&2){let e,n=t.$implicit;m((e=n)==="ellipsis"?0:1)}}function Ce(i,t){if(i&1&&k(0,_e,2,1,null,null,I),i&2){let e=c(2);E(e.visiblePages())}}function he(i,t){i&1&&_(0,"i",11)}function fe(i,t){i&1&&(r(0,"span"),u(1,"Siguiente"),l(),_(2,"i",27))}function be(i,t){i&1&&_(0,"i",29)}function xe(i,t){i&1&&(r(0,"span",22),u(1,"\xDAltima"),l(),_(2,"i",30))}function Pe(i,t){if(i&1){let e=x();r(0,"li")(1,"button",28),C("click",function(){h(e);let a=c(2);return f(a.goToPage(a.totalPages()))}),p(2,be,1,0,"i",29)(3,xe,3,0),l()()}if(i&2){let e=c(2);d(e.pageItemClasses),P("disabled",e.currentPage()>=e.totalPages()),o(),d(e.pageLinkClasses),b("disabled",e.currentPage()>=e.totalPages()),o(),m(e.screenSize()==="xs"?2:3)}}function ve(i,t){if(i&1){let e=x();r(0,"div",14)(1,"input",31,0),C("keydown.enter",function(){h(e);let a=N(2),s=c(2);return f(s.goToSpecificPage(a))}),l(),r(3,"button",32),C("click",function(){h(e);let a=N(2),s=c(2);return f(s.goToSpecificPage(a))}),_(4,"i",33),l()()}if(i&2){let e=c(2);o(),b("max",e.totalPages())("value",e.currentPage())}}function Se(i,t){if(i&1&&(r(0,"span",34),u(1),l()),i&2){let e=c(3);o(),V("",e.currentPage(),"/",e.totalPages())}}function we(i,t){if(i&1&&(r(0,"span",35),u(1),l()),i&2){let e=c(3);o(),V("",e.currentPage(),"/",e.totalPages())}}function ze(i,t){if(i&1&&(r(0,"span",36),u(1),l()),i&2){let e=c(3);o(),G("",e.rangeStart(),"-",e.rangeEnd()," de ",e.totalItems())}}function ye(i,t){if(i&1&&(r(0,"div",15),p(1,Se,2,2,"span",34)(2,we,2,2,"span",35)(3,ze,2,3,"span",36),l()),i&2){let e=c(2);o(),m(e.screenSize()==="xs"?1:e.screenSize()==="sm"?2:3)}}function Me(i,t){if(i&1){let e=x();r(0,"div",2)(1,"div",3),p(2,re,6,5,"div",4),l(),r(3,"div",5)(4,"nav",6)(5,"ul"),p(6,ge,4,8,"li",7),r(7,"li")(8,"button",8),C("click",function(){h(e);let a=c();return f(a.goToPage(a.currentPage()-1))}),p(9,de,1,0,"i",9)(10,pe,3,0),l()(),p(11,Ce,2,0),r(12,"li")(13,"button",10),C("click",function(){h(e);let a=c();return f(a.goToPage(a.currentPage()+1))}),p(14,he,1,0,"i",11)(15,fe,3,0),l()(),p(16,Pe,4,8,"li",7),l()()(),r(17,"div",12)(18,"div",13),p(19,ve,5,2,"div",14),p(20,ye,4,1,"div",15),l()()()}if(i&2){let e=c();d(e.containerClasses),T("aria-label","Paginaci\xF3n, p\xE1gina "+e.currentPage()+" de "+e.totalPages()),o(2),m(e.showPageSizeSelector()&&e.isVisible("pageSizeSelector",e.screenSize())?2:-1),o(2),d(e.navClasses),o(),d(e.paginationClasses),o(),m(e.showFirstLastButtons()&&e.isVisible("firstLastButtons",e.screenSize())?6:-1),o(),d(e.pageItemClasses),P("disabled",e.currentPage()<=1),o(),d(e.pageLinkClasses),b("disabled",e.currentPage()<=1),o(),m(e.screenSize()==="xs"||e.screenSize()==="sm"?9:10),o(2),m(e.isVisible("pageNumbers",e.screenSize())?11:-1),o(),d(e.pageItemClasses),P("disabled",e.currentPage()>=e.totalPages()),o(),d(e.pageLinkClasses),b("disabled",e.currentPage()>=e.totalPages()),o(),m(e.screenSize()==="xs"||e.screenSize()==="sm"?14:15),o(2),m(e.showFirstLastButtons()&&e.isVisible("firstLastButtons",e.screenSize())?16:-1),o(3),m(e.showGoToPage()&&e.isVisible("goToPage",e.screenSize())?19:-1),o(),m(e.showRangeInfo()&&e.isVisible("rangeInfo",e.screenSize())?20:-1)}}var ne=class i{elementRef=y(F);cdr=y(W);totalItems=g.required();pageSize=g.required();currentPage=g(1);pageSizeOptions=g([10,25,50,100]);maxVisiblePages=g(5);showPageSizeSelector=g(!0);showGoToPage=g(!0);showRangeInfo=g(!0);showFirstLastButtons=g(!0);density=g("normal");class=g("");pageItemClass=g("");pageLinkClass=g("");pageSelectClass=g("");containerClass=g("");navClass=g("");visibilityConfig=g({pageSizeSelector:["sm","md","lg","xl"],pageNumbers:["xs","sm","md","lg","xl"],firstLastButtons:["md","lg","xl"],goToPage:["lg","xl"],rangeInfo:["xs","sm","md","lg","xl"]});pageInputRef=Q("pageInput");screenSize=H("md");pageChange=new M;pageSizeChange=new M;totalPages=v(()=>{let t=Math.ceil(this.totalItems()/this.pageSize());return t<=0?1:t});rangeStart=v(()=>this.totalItems()===0?0:(this.currentPage()-1)*this.pageSize()+1);rangeEnd=v(()=>Math.min(this.rangeStart()+this.pageSize()-1,this.totalItems()));shouldShowPagination=v(()=>this.totalPages()>1||this.totalItems()>0&&this.showRangeInfo());visiblePages=v(()=>{let t=this.totalPages(),e=this.currentPage(),n=this.maxVisiblePages(),a=this.screenSize()==="xs"?Math.min(3,n):this.screenSize()==="sm"?Math.min(5,n):n;if(t<=a||a<=0)return Array.from({length:t},(z,ae)=>ae+1);let s=Math.floor((a-3)/2),S=Math.min(Math.max(e-s,2),t-a+2),D=Math.min(S+a-3,t-1),w=[1];S>2&&w.push("ellipsis");for(let z=S;z<=D;z++)w.push(z);return D<t-1&&w.push("ellipsis"),t>1&&w.push(t),w});get paginationClasses(){let t=["pagination"],e=this.getDensityClass();if(e&&t.push(e),this.class()){let n=this.class().split(" ").filter(a=>a.trim());t.push(...n)}return t.push("justify-content-center","flex-wrap","mb-0"),t.join(" ")}getDensityClass(){switch(this.density()){case"compact":return"pagination-sm";case"comfortable":return"pagination-lg";default:return""}}get densitySpacing(){switch(this.density()){case"compact":return"gap-1";case"comfortable":return"gap-3";default:return"gap-2"}}get pageItemClasses(){let t=["page-item"];if(this.pageItemClass()){let e=this.pageItemClass().split(" ").filter(n=>n.trim());t.push(...e)}return t.join(" ")}get pageLinkClasses(){let t=["page-link"];if(this.pageLinkClass()){let e=this.pageLinkClass().split(" ").filter(n=>n.trim());t.push(...e)}return t.join(" ")}get containerClasses(){let t=["row","align-items-center",this.densitySpacing];if(this.containerClass()){let e=this.containerClass().split(" ").filter(n=>n.trim());t.push(...e)}return t.join(" ")}get navClasses(){let t=[];if(this.navClass()){let e=this.navClass().split(" ").filter(n=>n.trim());t.push(...e)}return t.length>0?t.join(" "):""}get pageSizeSelectClasses(){let t=["form-select"];if(this.pageSelectClass()){let e=this.pageSelectClass().split(" ").filter(n=>n.trim());t.push(...e)}else t.push("form-select-sm");return t.join(" ")}validationEffect=q(()=>{let t=this.currentPage(),e=this.totalPages();if(t<1||t>e){let n=Math.max(1,Math.min(t,e));n!==t&&U(()=>this.goToPage(n))}});resize$=y(O).runOutsideAngular(()=>L(window,"resize").pipe(B(100)));constructor(){this.resize$.subscribe(()=>{this.updateScreenSize(),setTimeout(()=>{this.cdr.detectChanges()},0)})}ngOnInit(){this.updateScreenSize(),setTimeout(()=>{this.cdr.detectChanges()},0)}ngAfterViewInit(){setTimeout(()=>{this.cdr.detectChanges()},0)}goToPage(t){t===this.currentPage()||t<1||t>this.totalPages()||this.pageChange.emit(t)}onPageSizeChange(t){let e=Number(t);e!==this.pageSize()&&this.pageSizeChange.emit(e)}goToSpecificPage(t){let e=parseInt(t.value,10);if(!isNaN(e)){let n=Math.min(Math.max(1,e),this.totalPages());this.goToPage(n),t.value=n.toString()}}handleKeyNavigation(t,e){if(t.target.tagName!=="BUTTON"&&t.target.tagName!=="SELECT"&&t.target.tagName!=="INPUT")switch(t.preventDefault(),e){case"prev":this.goToPage(this.currentPage()-1);break;case"next":this.goToPage(this.currentPage()+1);break;case"first":this.goToPage(1);break;case"last":this.goToPage(this.totalPages());break}}isVisible(t,e){let n=this.visibilityConfig();if(!n[t])return!0;let a={xs:0,sm:1,md:2,lg:3,xl:4},s=a[e];return n[t].some(S=>a[S]<=s)}updateScreenSize(){let t=window.innerWidth;t<576?this.screenSize.set("xs"):t<768?this.screenSize.set("sm"):t<992?this.screenSize.set("md"):t<1200?this.screenSize.set("lg"):this.screenSize.set("xl"),setTimeout(()=>{this.cdr.detectChanges()},0)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-pagination"]],viewQuery:function(e,n){e&1&&A(n.pageInputRef,oe,5),e&2&&j()},hostAttrs:["tabindex","0","role","navigation",1,"d-block"],hostBindings:function(e,n){e&1&&C("keydown.arrowLeft",function(s){return n.handleKeyNavigation(s,"prev")})("keydown.arrowRight",function(s){return n.handleKeyNavigation(s,"next")})("keydown.home",function(s){return n.handleKeyNavigation(s,"first")})("keydown.end",function(s){return n.handleKeyNavigation(s,"last")})("keydown.pageUp",function(s){return n.handleKeyNavigation(s,"prev")})("keydown.pageDown",function(s){return n.handleKeyNavigation(s,"next")})},inputs:{totalItems:[1,"totalItems"],pageSize:[1,"pageSize"],currentPage:[1,"currentPage"],pageSizeOptions:[1,"pageSizeOptions"],maxVisiblePages:[1,"maxVisiblePages"],showPageSizeSelector:[1,"showPageSizeSelector"],showGoToPage:[1,"showGoToPage"],showRangeInfo:[1,"showRangeInfo"],showFirstLastButtons:[1,"showFirstLastButtons"],density:[1,"density"],class:[1,"class"],pageItemClass:[1,"pageItemClass"],pageLinkClass:[1,"pageLinkClass"],pageSelectClass:[1,"pageSelectClass"],containerClass:[1,"containerClass"],navClass:[1,"navClass"],visibilityConfig:[1,"visibilityConfig"]},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},decls:1,vars:1,consts:[["pageInput",""],[2,"--bs-gutter-x","0.5rem",3,"class"],[2,"--bs-gutter-x","0.5rem"],[1,"col-12","col-sm-auto","text-start","mb-2","mb-sm-0","order-1","order-sm-0"],[1,"d-flex","align-items-center","gap-2"],[1,"col-12","col-sm","text-center","mb-2","mb-sm-0","order-0","order-sm-1"],["aria-label","Navegaci\xF3n de p\xE1gina"],[3,"class","disabled"],["aria-label","Ir a la p\xE1gina anterior",3,"click","disabled"],["aria-hidden","true",1,"bi","bi-chevron-left"],["aria-label","Ir a la p\xE1gina siguiente",3,"click","disabled"],["aria-hidden","true",1,"bi","bi-chevron-right"],[1,"col-12","col-sm-auto","text-end","mb-2","mb-sm-0","order-2"],[1,"d-flex","align-items-center","gap-2","justify-content-end","flex-wrap"],[1,"input-group","input-group-sm",2,"max-width","110px","min-width","85px"],[1,"text-nowrap"],["for","pageSize",1,"form-label","mb-0","text-nowrap"],["id","pageSize","aria-label","Seleccionar n\xFAmero de elementos por p\xE1gina",2,"width","auto","min-width","65px",3,"ngModelChange","ngModel"],[3,"value"],["aria-label","Ir a la primera p\xE1gina",3,"click","disabled"],["aria-hidden","true",1,"bi","bi-chevron-double-left"],["aria-hidden","true",1,"bi","bi-chevron-double-left","me-1","d-none","d-md-inline"],[1,"d-none","d-sm-inline"],["aria-hidden","true",1,"bi","bi-chevron-left","me-1","d-none","d-md-inline"],[3,"class"],[3,"class","active"],[3,"click"],["aria-hidden","true",1,"bi","bi-chevron-right","ms-1","d-none","d-md-inline"],["aria-label","Ir a la \xFAltima p\xE1gina",3,"click","disabled"],["aria-hidden","true",1,"bi","bi-chevron-double-right"],["aria-hidden","true",1,"bi","bi-chevron-double-right","ms-1","d-none","d-md-inline"],["type","number","min","1","aria-label","Ir a p\xE1gina espec\xEDfica",1,"form-control","form-control-sm","text-center",2,"width","50px",3,"keydown.enter","max","value"],["type","button",1,"btn","btn-outline-secondary","btn-sm","px-2",3,"click"],[1,"bi","bi-arrow-right-short"],[1,"badge","bg-secondary","rounded-pill","small"],[1,"badge","bg-secondary","rounded-pill"],[1,"text-secondary","small"]],template:function(e,n){e&1&&p(0,Me,21,29,"div",1),e&2&&m(n.shouldShowPagination()?0:-1)},dependencies:[Z,ie,ee,te,Y,J,X],encapsulation:2})};export{ne as a};
