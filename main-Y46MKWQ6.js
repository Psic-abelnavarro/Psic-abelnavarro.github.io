import{a as pn}from"./chunk-FK6H3RFT.js";import{b as Rx,c as Lx,f as y7,g as Fx}from"./chunk-X5YLR3NI.js";import{a as Me,b as vt,c as vf,e as Xe,g as kx,h as v7,i as se}from"./chunk-ODN5LVDJ.js";var Ft=Xe(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar._registerNode=Ar.Konva=Ar.glob=void 0;var RH=Math.PI/180;function LH(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}Ar.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{};Ar.Konva={_global:Ar.glob,version:"9.3.22",isBrowser:LH(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return Ar.Konva.angleDeg?n*RH:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ar.Konva.DD.isDragging},isTransforming(){var n;return(n=Ar.Konva.Transformer)===null||n===void 0?void 0:n.isTransforming()},isDragReady(){return!!Ar.Konva.DD.node},releaseCanvasOnDestroy:!0,document:Ar.glob.document,_injectGlobal(n){Ar.glob.Konva=n}};var FH=n=>{Ar.Konva[n.prototype.getClassName()]=n};Ar._registerNode=FH;Ar.Konva._injectGlobal(Ar.Konva)});var Fn=Xe(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.Util=Dn.Transform=void 0;var fS=Ft(),mS=class n{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){let t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.m[0]*t+this.m[2]*r,o=this.m[1]*t+this.m[3]*r,s=this.m[0]*-r+this.m[2]*t,a=this.m[1]*-r+this.m[3]*t;return this.m[0]=i,this.m[1]=o,this.m[2]=s,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){let r=this.m[0]+this.m[2]*t,i=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=s,this}multiply(e){let t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}invert(){let e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}getMatrix(){return this.m}decompose(){let e=this.m[0],t=this.m[1],r=this.m[2],i=this.m[3],o=this.m[4],s=this.m[5],a=e*i-t*r,l={x:o,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||t!=0){let c=Math.sqrt(e*e+t*t);l.rotation=t>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+t*i)/a,l.skewY=0}else if(r!=0||i!=0){let c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+t*i)/a}return l.rotation=Dn.Util._getRotation(l.rotation),l}};Dn.Transform=mS;var jH="[object Array]",BH="[object Number]",UH="[object String]",VH="[object Boolean]",zH=Math.PI/180,HH=180/Math.PI,pS="#",qH="",$H="0",GH="Konva warning: ",sP="Konva error: ",WH="rgb(",gS={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},KH=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,gy=[],YH=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,60)};Dn.Util={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===jH},_isNumber(n){return Object.prototype.toString.call(n)===BH&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===UH},_isBoolean(n){return Object.prototype.toString.call(n)===VH},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;let e=n[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){gy.push(n),gy.length===1&&YH(function(){let e=gy;gy=[],e.forEach(function(t){t()})})},createCanvasElement(){let n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,e){let t=Dn.Util.createImageElement();t.onload=function(){e(t)},t.src=n},_rgbToHex(n,e,t){return((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)},_hexToRgb(n){n=n.replace(pS,qH);let e=parseInt(n,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let n=(Math.random()*16777215<<0).toString(16);for(;n.length<6;)n=$H+n;return pS+n},getRGB(n){let e;return n in gS?(e=gS[n],{r:e[0],g:e[1],b:e[2]}):n[0]===pS?this._hexToRgb(n.substring(1)):n.substr(0,4)===WH?(e=KH.exec(n.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",Dn.Util._namedColorToRBA(n)||Dn.Util._hex3ColorToRGBA(n)||Dn.Util._hex4ColorToRGBA(n)||Dn.Util._hex6ColorToRGBA(n)||Dn.Util._hex8ColorToRGBA(n)||Dn.Util._rgbColorToRGBA(n)||Dn.Util._rgbaColorToRGBA(n)||Dn.Util._hslColorToRGBA(n)},_namedColorToRBA(n){let e=gS[n.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];let e=n.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];let e=n.split(/ *, */).map((t,r)=>t.slice(-1)==="%"?r===3?parseInt(t)/100:parseInt(t)/100*255:Number(t));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(n){if(n[0]==="#"&&n.length===9)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:parseInt(n.slice(7,9),16)/255}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex4ColorToRGBA(n){if(n[0]==="#"&&n.length===5)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:parseInt(n[4]+n[4],16)/255}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){let[e,...t]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),r=Number(t[0])/360,i=Number(t[1])/100,o=Number(t[2])/100,s,a,l;if(i===0)return l=o*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o<.5?s=o*(1+i):s=o+i-o*i;let c=2*o-s,d=[0,0,0];for(let h=0;h<3;h++)a=r+1/3*-(h-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(s-c)*6*a:2*a<1?l=s:3*a<2?l=c+(s-c)*(2/3-a)*6:l=c,d[h]=l*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(n,e){return!(e.x>n.x+n.width||e.x+e.width<n.x||e.y>n.y+n.height||e.y+e.height<n.y)},cloneObject(n){let e={};for(let t in n)this._isPlainObject(n[t])?e[t]=this.cloneObject(n[t]):this._isArray(n[t])?e[t]=this.cloneArray(n[t]):e[t]=n[t];return e},cloneArray(n){return n.slice(0)},degToRad(n){return n*zH},radToDeg(n){return n*HH},_degToRad(n){return Dn.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Dn.Util.degToRad(n)},_radToDeg(n){return Dn.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Dn.Util.radToDeg(n)},_getRotation(n){return fS.Konva.angleDeg?Dn.Util.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(sP+n)},error(n){console.error(sP+n)},warn(n){fS.Konva.showWarnings&&console.warn(GH+n)},each(n,e){for(let t in n)e(t,n[t])},_inRange(n,e,t){return e<=n&&n<t},_getProjectionToSegment(n,e,t,r,i,o){let s,a,l,c=(n-t)*(n-t)+(e-r)*(e-r);if(c==0)s=n,a=e,l=(i-t)*(i-t)+(o-r)*(o-r);else{let d=((i-n)*(t-n)+(o-e)*(r-e))/c;d<0?(s=n,a=e,l=(n-i)*(n-i)+(e-o)*(e-o)):d>1?(s=t,a=r,l=(t-i)*(t-i)+(r-o)*(r-o)):(s=n+d*(t-n),a=e+d*(r-e),l=(s-i)*(s-i)+(a-o)*(a-o))}return[s,a,l]},_getProjectionToLine(n,e,t){let r=Dn.Util.cloneObject(n),i=Number.MAX_VALUE;return e.forEach(function(o,s){if(!t&&s===e.length-1)return;let a=e[(s+1)%e.length],l=Dn.Util._getProjectionToSegment(o.x,o.y,a.x,a.y,n.x,n.y),c=l[0],d=l[1],h=l[2];h<i&&(r.x=c,r.y=d,i=h)}),r},_prepareArrayForTween(n,e,t){let r=[],i=[];if(n.length>e.length){let s=e;e=n,n=s}for(let s=0;s<n.length;s+=2)r.push({x:n[s],y:n[s+1]});for(let s=0;s<e.length;s+=2)i.push({x:e[s],y:e[s+1]});let o=[];return i.forEach(function(s){let a=Dn.Util._getProjectionToLine(s,r,t);o.push(a.x),o.push(a.y)}),o},_prepareToStringify(n){let e;n.visitedByCircularReferenceRemoval=!0;for(let t in n)if(n.hasOwnProperty(t)&&n[t]&&typeof n[t]=="object"){if(e=Object.getOwnPropertyDescriptor(n,t),n[t].visitedByCircularReferenceRemoval||Dn.Util._isElement(n[t]))if(e.configurable)delete n[t];else return null;else if(Dn.Util._prepareToStringify(n[t])===null)if(e.configurable)delete n[t];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,e){for(let t in e)n[t]=e[t];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){fS.Konva.releaseCanvasOnDestroy&&n.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(n,e,t,r){let i=0,o=0,s=0,a=0;typeof r=="number"?i=o=s=a=Math.min(r,e/2,t/2):(i=Math.min(r[0]||0,e/2,t/2),o=Math.min(r[1]||0,e/2,t/2),a=Math.min(r[2]||0,e/2,t/2),s=Math.min(r[3]||0,e/2,t/2)),n.moveTo(i,0),n.lineTo(e-o,0),n.arc(e-o,o,o,Math.PI*3/2,0,!1),n.lineTo(e,t-a),n.arc(e-a,t-a,a,0,Math.PI/2,!1),n.lineTo(s,t),n.arc(s,t-s,s,Math.PI/2,Math.PI,!1),n.lineTo(0,i),n.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}}});var _S=Xe(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.HitContext=Ll.SceneContext=Ll.Context=void 0;var cP=Fn(),XH=Ft();function ZH(n){let e=[],t=n.length,r=cP.Util;for(let i=0;i<t;i++){let o=n[i];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),e.push(o)}return e}var aP=",",QH="(",JH=")",eq="([",tq="])",nq=";",rq="()",iq="=",lP=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],oq=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],sq=100,ih=class{constructor(e){this.canvas=e,XH.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let r=this.traceArr,i=r.length,o="",s,a,l,c;for(s=0;s<i;s++)a=r[s],l=a.method,l?(c=a.args,o+=l,e?o+=rq:cP.Util._isArray(c[0])?o+=eq+c.join(aP)+tq:(t&&(c=c.map(d=>typeof d=="number"?Math.floor(d):d)),o+=QH+c.join(aP)+JH)):(o+=a.property,e||(o+=iq+a.val)),o+=nq;return o}clearTrace(){this.traceArr=[]}_trace(e){let t=this.traceArr,r;t.push(e),r=t.length,r>=sq&&t.shift()}reset(){let e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){let t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){let t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){let t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){let t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,i,o,s){this._context.arc(e,t,r,i,o,s)}arcTo(e,t,r,i,o){this._context.arcTo(e,t,r,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,i,o,s){this._context.bezierCurveTo(e,t,r,i,o,s)}clearRect(e,t,r,i){this._context.clearRect(e,t,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){let r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,i){return this._context.createLinearGradient(e,t,r,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,i,o,s){return this._context.createRadialGradient(e,t,r,i,o,s)}drawImage(e,t,r,i,o,s,a,l,c){let d=arguments,h=this._context;d.length===3?h.drawImage(e,t,r):d.length===5?h.drawImage(e,t,r,i,o):d.length===9&&h.drawImage(e,t,r,i,o,s,a,l,c)}ellipse(e,t,r,i,o,s,a,l){this._context.ellipse(e,t,r,i,o,s,a,l)}isPointInPath(e,t,r,i){return r?this._context.isPointInPath(r,e,t,i):this._context.isPointInPath(e,t,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,i){this._context.fillRect(e,t,r,i)}strokeRect(e,t,r,i){this._context.strokeRect(e,t,r,i)}fillText(e,t,r,i){i?this._context.fillText(e,t,r,i):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,i){return this._context.getImageData(e,t,r,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,i){this._context.rect(e,t,r,i)}roundRect(e,t,r,i,o){this._context.roundRect(e,t,r,i,o)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,i){this._context.quadraticCurveTo(e,t,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,i,o,s){this._context.setTransform(e,t,r,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,i){this._context.strokeText(e,t,r,i)}transform(e,t,r,i,o,s){this._context.transform(e,t,r,i,o,s)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e=this,t=lP.length,r=this.setAttr,i,o,s=function(a){let l=e[a],c;e[a]=function(){return o=ZH(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:o}),c}};for(i=0;i<t;i++)s(lP[i]);e.setAttr=function(){r.apply(e,arguments);let a=arguments[0],l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){let t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}};Ll.Context=ih;oq.forEach(function(n){Object.defineProperty(ih.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});var vS=class extends ih{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){let t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){let t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){let t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){let t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}let i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}let o=e.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(e);return}let s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,r.x,r.y);if(i){for(let s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){let t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,i;let o=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),d=l.x*c,h=l.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",a.x*d),this.setAttr("shadowOffsetY",a.y*h)}};Ll.SceneContext=vS;var yS=class extends ih{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let t=e.getStrokeScaleEnabled();if(!t){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);let r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}};Ll.HitContext=yS});var Yp=Xe(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.HitCanvas=Fl.SceneCanvas=Fl.Canvas=void 0;var vy=Fn(),uP=_S(),dP=Ft(),my;function aq(){if(my)return my;let n=vy.Util.createCanvasElement(),e=n.getContext("2d");return my=function(){let t=dP.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}(),vy.Util.releaseCanvas(n),my}var Kp=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;let r=(e||{}).pixelRatio||dP.Konva.pixelRatio||aq();this.pixelRatio=r,this._canvas=vy.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){let t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(i){return vy.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Fl.Canvas=Kp;var bS=class extends Kp{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new uP.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};Fl.SceneCanvas=bS;var wS=class extends Kp{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new uP.HitContext(this),this.setSize(e.width,e.height)}};Fl.HitCanvas=wS});var yy=Xe(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.DD=void 0;var Xp=Ft(),lq=Fn();yr.DD={get isDragging(){let n=!1;return yr.DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return yr.DD._dragElements.forEach(e=>{n=e.node}),n},_dragElements:new Map,_drag(n){let e=[];yr.DD._dragElements.forEach((t,r)=>{let{node:i}=t,o=i.getStage();o.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=lq.Util._getFirstPointerId(n));let s=o._changedPointerPositions.find(a=>a.id===t.pointerId);if(s){if(t.dragStatus!=="dragging"){let a=i.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<a||(i.startDrag({evt:n}),!i.isDragging()))return}i._setDragPosition(n,t),e.push(i)}}),e.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){let e=[];yr.DD._dragElements.forEach(t=>{let{node:r}=t,i=r.getStage();if(n&&i.setPointersPositions(n),!i._changedPointerPositions.find(a=>a.id===t.pointerId))return;(t.dragStatus==="dragging"||t.dragStatus==="stopped")&&(yr.DD.justDragged=!0,Xp.Konva._mouseListenClick=!1,Xp.Konva._touchListenClick=!1,Xp.Konva._pointerListenClick=!1,t.dragStatus="stopped");let s=t.node.getLayer()||t.node instanceof Xp.Konva.Stage&&t.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(t=>{t.draw()})},_endDragAfter(n){yr.DD._dragElements.forEach((e,t)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:n},!0),e.dragStatus!=="dragging"&&yr.DD._dragElements.delete(t)})}};Xp.Konva.isBrowser&&(window.addEventListener("mouseup",yr.DD._endDragBefore,!0),window.addEventListener("touchend",yr.DD._endDragBefore,!0),window.addEventListener("touchcancel",yr.DD._endDragBefore,!0),window.addEventListener("mousemove",yr.DD._drag),window.addEventListener("touchmove",yr.DD._drag),window.addEventListener("mouseup",yr.DD._endDragAfter,!1),window.addEventListener("touchend",yr.DD._endDragAfter,!1),window.addEventListener("touchcancel",yr.DD._endDragAfter,!1))});var zt=Xe(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.RGBComponent=cq;Vi.alphaComponent=uq;Vi.getNumberValidator=dq;Vi.getNumberOrArrayOfNumbersValidator=hq;Vi.getNumberOrAutoValidator=fq;Vi.getStringValidator=pq;Vi.getStringOrGradientValidator=gq;Vi.getFunctionValidator=mq;Vi.getNumberArrayValidator=vq;Vi.getBooleanValidator=yq;Vi.getComponentValidator=_q;var ka=Ft(),qn=Fn();function Ra(n){return qn.Util._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||qn.Util._isBoolean(n)?n:Object.prototype.toString.call(n)}function cq(n){return n>255?255:n<0?0:Math.round(n)}function uq(n){return n>1?1:n<1e-4?1e-4:n}function dq(){if(ka.Konva.isUnminified)return function(n,e){return qn.Util._isNumber(n)||qn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}}function hq(n){if(ka.Konva.isUnminified)return function(e,t){let r=qn.Util._isNumber(e),i=qn.Util._isArray(e)&&e.length==n;return!r&&!i&&qn.Util.warn(Ra(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}}function fq(){if(ka.Konva.isUnminified)return function(n,e){return qn.Util._isNumber(n)||n==="auto"||qn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}}function pq(){if(ka.Konva.isUnminified)return function(n,e){return qn.Util._isString(n)||qn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}}function gq(){if(ka.Konva.isUnminified)return function(n,e){let t=qn.Util._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||qn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}}function mq(){if(ka.Konva.isUnminified)return function(n,e){return qn.Util._isFunction(n)||qn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),n}}function vq(){if(ka.Konva.isUnminified)return function(n,e){let t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&n instanceof t||(qn.Util._isArray(n)?n.forEach(function(r){qn.Util._isNumber(r)||qn.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):qn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),n}}function yq(){if(ka.Konva.isUnminified)return function(n,e){return n===!0||n===!1||qn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}}function _q(n){if(ka.Konva.isUnminified)return function(e,t){return e==null||qn.Util.isObject(e)||qn.Util.warn(Ra(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}}});var Ut=Xe(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.Factory=void 0;var zi=Fn(),bq=zt(),Zp="get",Qp="set";Zo.Factory={addGetterSetter(n,e,t,r,i){Zo.Factory.addGetter(n,e,t),Zo.Factory.addSetter(n,e,r,i),Zo.Factory.addOverloadedGetterSetter(n,e)},addGetter(n,e,t){let r=Zp+zi.Util._capitalize(e);n.prototype[r]=n.prototype[r]||function(){let i=this.attrs[e];return i===void 0?t:i}},addSetter(n,e,t,r){let i=Qp+zi.Util._capitalize(e);n.prototype[i]||Zo.Factory.overWriteSetter(n,e,t,r)},overWriteSetter(n,e,t,r){let i=Qp+zi.Util._capitalize(e);n.prototype[i]=function(o){return t&&o!==void 0&&o!==null&&(o=t.call(this,o,e)),this._setAttr(e,o),r&&r.call(this),this}},addComponentsGetterSetter(n,e,t,r,i){let o=t.length,s=zi.Util._capitalize,a=Zp+s(e),l=Qp+s(e);n.prototype[a]=function(){let d={};for(let h=0;h<o;h++){let g=t[h];d[g]=this.getAttr(e+s(g))}return d};let c=(0,bq.getComponentValidator)(t);n.prototype[l]=function(d){let h=this.attrs[e];r&&(d=r.call(this,d,e)),c&&c.call(this,d,e);for(let g in d)d.hasOwnProperty(g)&&this._setAttr(e+s(g),d[g]);return d||t.forEach(g=>{this._setAttr(e+s(g),void 0)}),this._fireChangeEvent(e,h,d),i&&i.call(this),this},Zo.Factory.addOverloadedGetterSetter(n,e)},addOverloadedGetterSetter(n,e){let t=zi.Util._capitalize(e),r=Qp+t,i=Zp+t;n.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(n,e,t,r){zi.Util.error("Adding deprecated "+e);let i=Zp+zi.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[i]=function(){zi.Util.error(o);let s=this.attrs[e];return s===void 0?t:s},Zo.Factory.addSetter(n,e,r,function(){zi.Util.error(o)}),Zo.Factory.addOverloadedGetterSetter(n,e)},backCompat(n,e){zi.Util.each(e,function(t,r){let i=n.prototype[r],o=Zp+zi.Util._capitalize(t),s=Qp+zi.Util._capitalize(t);function a(){i.apply(this,arguments),zi.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}n.prototype[t]=a,n.prototype[o]=a,n.prototype[s]=a})},afterSetFilter(){this._filterUpToDate=!1}}});var $n=Xe(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.Node=void 0;var oh=Yp(),po=yy(),Jp=Ut(),jl=Ft(),Wt=Fn(),Zn=zt(),by="absoluteOpacity",_y="allEventListeners",La="absoluteTransform",hP="absoluteScale",Xc="canvas",wq="Change",Cq="children",Eq="konva",CS="listening",Sq="mouseenter",xq="mouseleave",Dq="pointerenter",Mq="pointerleave",Aq="touchenter",Iq="touchleave",fP="set",pP="Shape",wy=" ",gP="stage",Bl="transform",Tq="Stage",ES="visible",Pq=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(wy),Nq=1,bt=class n{constructor(e){this._id=Nq++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Bl||e===La)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){let r=this._cache.get(e);return(r===void 0||(e===Bl||e===La)&&r.dirty===!0)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){let i=t.map(o=>o+"Change.konva").join(wy);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Xc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===La&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Xc)){let{scene:e,filter:t,hit:r,buffer:i}=this._cache.get(Xc);Wt.Util.releaseCanvas(e,t,r,i),this._cache.delete(Xc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){let t=e||{},r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(t.width||r.width),o=Math.ceil(t.height||r.height),s=t.pixelRatio,a=t.x===void 0?Math.floor(r.x):t.x,l=t.y===void 0?Math.floor(r.y):t.y,c=t.offset||0,d=t.drawBorder||!1,h=t.hitCanvasPixelRatio||1;if(!i||!o){Wt.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}let g=Math.abs(Math.round(r.x)-a)>.5?1:0,f=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+g,o+=c*2+f,a-=c,l-=c;let y=new oh.SceneCanvas({pixelRatio:s,width:i,height:o}),_=new oh.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),C=new oh.HitCanvas({pixelRatio:h,width:i,height:o}),w=y.getContext(),E=C.getContext(),T=new oh.SceneCanvas({width:y.width/y.pixelRatio+Math.abs(a),height:y.height/y.pixelRatio+Math.abs(l),pixelRatio:y.pixelRatio}),P=T.getContext();return C.isCache=!0,y.isCache=!0,this._cache.delete(Xc),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),w.save(),E.save(),P.save(),w.translate(-a,-l),E.translate(-a,-l),P.translate(-a,-l),T.x=a,T.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(by),this._clearSelfAndDescendantCache(hP),this.drawScene(y,this,T),this.drawHit(C,this),this._isUnderCache=!1,w.restore(),E.restore(),d&&(w.save(),w.beginPath(),w.rect(0,0,i,o),w.closePath(),w.setAttr("strokeStyle","red"),w.setAttr("lineWidth",5),w.stroke(),w.restore()),this._cache.set(Xc,{scene:y,filter:_,hit:C,buffer:T,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Xc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){let r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,o=1/0,s=-1/0,a=-1/0,l=this.getAbsoluteTransform(t);return r.forEach(function(c){let d=l.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let t=this._getCanvasCache();e.translate(t.x,t.y);let r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){let t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),t=this._getCanvasCache(),r=t.scene,i=t.filter,o=i.getContext(),s,a,l,c;if(e){if(!this._filterUpToDate){let d=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){Wt.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),o.putImageData(a,0,0)}}catch(h){Wt.Util.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,t){if(this._cache&&this._cache.delete(_y),arguments.length===3)return this._delegate.apply(this,arguments);let r=e.split(wy);for(let i=0;i<r.length;i++){let s=r[i].split("."),a=s[0],l=s[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:t})}return this}off(e,t){let r=(e||"").split(wy),i=r.length,o,s,a,l,c,d;if(this._cache&&this._cache.delete(_y),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=r[o],l=a.split("."),c=l[0],d=l[1],c)this.eventListeners[c]&&this._off(c,d,t);else for(s in this.eventListeners)this._off(s,d,t);return this}dispatchEvent(e){let t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){let i=this;this.on(e,function(o){let s=o.target.findAncestors(t,!0,i);for(let a=0;a<s.length;a++)o=Wt.Util.cloneObject(o),o.currentTarget=s[a],r.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),po.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(La),this._clearSelfAndDescendantCache(by),this._clearSelfAndDescendantCache(hP),this._clearSelfAndDescendantCache(gP),this._clearSelfAndDescendantCache(ES),this._clearSelfAndDescendantCache(CS)}_remove(){this._clearCaches();let e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){let t="get"+Wt.Util._capitalize(e);return Wt.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,r;if(!e)return this;for(t in e)t!==Cq&&(r=fP+Wt.Util._capitalize(t),Wt.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(CS,this._isListening)}_isListening(e){if(!this.listening())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(ES,this._isVisible)}_isVisible(e){if(!this.visible())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);let r=this.getLayer(),i=!1;po.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});let o=!t&&!jl.Konva.hitOnDragEnabled&&(i||jl.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),t=this,r=0,i,o,s,a;function l(d){for(i=[],o=d.length,s=0;s<o;s++)a=d[s],r++,a.nodeType!==pP&&(i=i.concat(a.getChildren().slice())),a._id===t._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&l(i)}let c=this.getStage();return t.nodeType!==Tq&&c&&l(c.getChildren()),r}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Bl),this._clearSelfAndDescendantCache(La)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){let e=this.getStage();if(!e)return null;let t=e.getPointerPosition();if(!t)return null;let r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);let i=this.getAbsoluteTransform(e).getMatrix(),o=new Wt.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){let s=this._clearTransform(),{x:t,y:r}=s,i=vf(s,["x","y"]);this.attrs.x=t,this.attrs.y=r,this._clearCache(Bl);let o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Bl),this._clearSelfAndDescendantCache(La),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){let e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,r=e.y,i=this.x(),o=this.y();return t!==void 0&&(i+=t),r!==void 0&&(o+=r),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,t){let r=[],i=this.getParent(),o,s;if(!(t&&t._id===this._id)){for(r.unshift(this);i&&(!t||i._id!==t._id);)r.unshift(i),i=i.parent;for(o=r.length,s=0;s<o;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Wt.Util.warn("Node has no parent. moveToTop function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Wt.Util.warn("Node has no parent. moveUp function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Wt.Util.warn("Node has no parent. moveDown function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Wt.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Wt.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Wt.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");let t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(by,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),t,r,i,o,s,a={attrs:{},className:this.getClassName()};for(t in e)r=e[t],s=Wt.Util.isObject(r)&&!Wt.Util._isPlainObject(r)&&!Wt.Util._isArray(r),!s&&(i=typeof this[t]=="function"&&this[t],delete e[t],o=i?i.call(this):null,e[t]=r,o!==r&&(a.attrs[t]=r));return Wt.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){let i=[];t&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===r)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let t=e.replace(/ /g,"").split(","),r=t.length,i,o;for(i=0;i<r;i++)if(o=t[i],Wt.Util.isValidSelector(o)||(Wt.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Wt.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Wt.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){let e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(gP,this._getStage)}_getStage(){let e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(La,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new Wt.Transform,this._eachAncestorReverse(function(r){let i=r.transformsEnabled();i==="all"?t.multiply(r.getTransform()):i==="position"&&t.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),t;{t=this._cache.get(La)||new Wt.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();let r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){let i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(i-s,o-a)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();let i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Bl,this._getTransform)}_getTransform(){var e,t;let r=this._cache.get(Bl)||new Wt.Transform;r.reset();let i=this.x(),o=this.y(),s=jl.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,g=this.attrs.offsetY||0;return(i!==0||o!==0)&&r.translate(i,o),s!==0&&r.rotate(s),(c!==0||d!==0)&&r.skew(c,d),(a!==1||l!==1)&&r.scale(a,l),(h!==0||g!==0)&&r.translate(-1*h,-1*g),r.dirty=!1,r}clone(e){let t=Wt.Util.cloneObject(this.attrs),r,i,o,s,a;for(r in e)t[r]=e[r];let l=new this.constructor(t);for(r in this.eventListeners)for(i=this.eventListeners[r],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(Eq)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};let t=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(t.x),o=e.y!==void 0?e.y:Math.floor(t.y),s=e.pixelRatio||1,a=new oh.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:s}),l=a.getContext(),c=new oh.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};let t=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,Wt.Util._urlToImage(this.toDataURL(e),function(o){t(o),i?.(o)})}catch(i){r(i)}})}toBlob(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{t(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():jl.Konva.dragDistance}_off(e,t,r){let i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||t==="konva")&&(!t||s===t)&&(!r||r===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,t,r){this._fire(e+wq,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){let t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;let t=this.name();return t?(t||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){let t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){let r=this[fP+Wt.Util._capitalize(e)];return Wt.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(jl.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){let r=this.attrs[e];r===t&&!Wt.Util.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,t,r){t&&this.nodeType===pP&&(t.target=this);let i=[Sq,xq,Dq,Mq,Aq,Iq];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,t);let s=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,i;let o=(t=this._cache.get(_y))!==null&&t!==void 0?t:{},s=o?.[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){let l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];s.push(...l),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(_y,o)}return s}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;let r=this._getProtoListeners(e);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,t);let i=this.eventListeners[e];if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){let t=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;let o=r._getPointerById(t)||r._changedPointerPositions[0]||i;po.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){po.DD._dragElements.has(this._id)||this._createDragElement(e);let r=po.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){let r=this.getStage()._getPointerById(t.pointerId);if(!r)return;let i={x:r.x-t.offset.x,y:r.y-t.offset.y},o=this.dragBoundFunc();if(o!==void 0){let s=o.call(this,i,e);s?i=s:Wt.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){let t=po.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),po.DD._endDragBefore(e),po.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=po.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||jl.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;po.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;let t=po.DD._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",i=t&&t.dragStatus==="ready";r?this.stopDrag():i&&po.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let t=this.getStage();if(!t)return!1;let r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return Wt.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return Wt.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let r=n.prototype.getClassName.call(e),i=e.children,o,s,a;t&&(e.attrs.container=t),jl.Konva[r]||(Wt.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");let l=jl.Konva[r];if(o=new l(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(n._createNode(i[a]));return o}};Cy.Node=bt;bt.prototype.nodeType="Node";bt.prototype._attrsAffectingSize=[];bt.prototype.eventListeners={};bt.prototype.on.call(bt.prototype,Pq,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Bl),this._clearSelfAndDescendantCache(La)});bt.prototype.on.call(bt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ES)});bt.prototype.on.call(bt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(CS)});bt.prototype.on.call(bt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(by)});var bn=Jp.Factory.addGetterSetter;bn(bt,"zIndex");bn(bt,"absolutePosition");bn(bt,"position");bn(bt,"x",0,(0,Zn.getNumberValidator)());bn(bt,"y",0,(0,Zn.getNumberValidator)());bn(bt,"globalCompositeOperation","source-over",(0,Zn.getStringValidator)());bn(bt,"opacity",1,(0,Zn.getNumberValidator)());bn(bt,"name","",(0,Zn.getStringValidator)());bn(bt,"id","",(0,Zn.getStringValidator)());bn(bt,"rotation",0,(0,Zn.getNumberValidator)());Jp.Factory.addComponentsGetterSetter(bt,"scale",["x","y"]);bn(bt,"scaleX",1,(0,Zn.getNumberValidator)());bn(bt,"scaleY",1,(0,Zn.getNumberValidator)());Jp.Factory.addComponentsGetterSetter(bt,"skew",["x","y"]);bn(bt,"skewX",0,(0,Zn.getNumberValidator)());bn(bt,"skewY",0,(0,Zn.getNumberValidator)());Jp.Factory.addComponentsGetterSetter(bt,"offset",["x","y"]);bn(bt,"offsetX",0,(0,Zn.getNumberValidator)());bn(bt,"offsetY",0,(0,Zn.getNumberValidator)());bn(bt,"dragDistance",void 0,(0,Zn.getNumberValidator)());bn(bt,"width",0,(0,Zn.getNumberValidator)());bn(bt,"height",0,(0,Zn.getNumberValidator)());bn(bt,"listening",!0,(0,Zn.getBooleanValidator)());bn(bt,"preventDefault",!0,(0,Zn.getBooleanValidator)());bn(bt,"filters",void 0,function(n){return this._filterUpToDate=!1,n});bn(bt,"visible",!0,(0,Zn.getBooleanValidator)());bn(bt,"transformsEnabled","all",(0,Zn.getStringValidator)());bn(bt,"size");bn(bt,"dragBoundFunc");bn(bt,"draggable",!1,(0,Zn.getBooleanValidator)());Jp.Factory.backCompat(bt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})});var eg=Xe(Sy=>{"use strict";Object.defineProperty(Sy,"__esModule",{value:!0});Sy.Container=void 0;var sh=Ut(),SS=$n(),Ey=zt(),Fa=class extends SS.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){let t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}let t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){let t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){let r=[];return this._descendants(i=>{let o=i._isMatch(e);return o&&r.push(i),!!(o&&t)}),r}_descendants(e){let t=!1,r=this.getChildren();for(let i of r){if(t=e(i),t)return!0;if(i.hasChildren()&&(t=i._descendants(e),t))return!0}return!1}toObject(){let e=SS.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){let t=SS.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){let t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=o&&o.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();let d=this.getAbsoluteTransform(t).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,t,r);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;let r=this.getLayer(),i=e||r&&r.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache();if(s&&s.hit){o.save();let l=this.getAbsoluteTransform(t).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,r,i){var o;let s=t&&t.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),d=typeof a=="number"&&typeof l=="number"||c,h=r===this;if(d){s.save();let f=this.getAbsoluteTransform(r),y=f.getMatrix();s.transform(y[0],y[1],y[2],y[3],y[4],y[5]),s.beginPath();let _;if(c)_=c.call(this,s,this);else{let C=this.clipX(),w=this.clipY();s.rect(C||0,w||0,a,l)}s.clip.apply(s,_),y=f.copy().invert().getMatrix(),s.transform(y[0],y[1],y[2],y[3],y[4],y[5])}let g=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";g&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(f){f[e](t,r,i)}),g&&s.restore(),d&&s.restore()}getClientRect(e={}){var t;let r=e.skipTransform,i=e.relativeTo,o,s,a,l,c={x:1/0,y:1/0,width:0,height:0},d=this;(t=this.children)===null||t===void 0||t.forEach(function(f){if(!f.visible())return;let y=f.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(o===void 0?(o=y.x,s=y.y,a=y.x+y.width,l=y.y+y.height):(o=Math.min(o,y.x),s=Math.min(s,y.y),a=Math.max(a,y.x+y.width),l=Math.max(l,y.y+y.height)))});let h=this.find("Shape"),g=!1;for(let f=0;f<h.length;f++)if(h[f]._isVisible(this)){g=!0;break}return g&&o!==void 0?c={x:o,y:s,width:a-o,height:l-s}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}};Sy.Container=Fa;sh.Factory.addComponentsGetterSetter(Fa,"clip",["x","y","width","height"]);sh.Factory.addGetterSetter(Fa,"clipX",void 0,(0,Ey.getNumberValidator)());sh.Factory.addGetterSetter(Fa,"clipY",void 0,(0,Ey.getNumberValidator)());sh.Factory.addGetterSetter(Fa,"clipWidth",void 0,(0,Ey.getNumberValidator)());sh.Factory.addGetterSetter(Fa,"clipHeight",void 0,(0,Ey.getNumberValidator)());sh.Factory.addGetterSetter(Fa,"clipFunc")});var DS=Xe(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.getCapturedShape=kq;Zc.createEvent=xS;Zc.hasPointerCapture=Rq;Zc.setPointerCapture=Lq;Zc.releaseCapture=vP;var Oq=Ft(),tg=new Map,mP=Oq.Konva._global.PointerEvent!==void 0;function kq(n){return tg.get(n)}function xS(n){return{evt:n,pointerId:n.pointerId}}function Rq(n,e){return tg.get(n)===e}function Lq(n,e){vP(n),e.getStage()&&(tg.set(n,e),mP&&e._fire("gotpointercapture",xS(new PointerEvent("gotpointercapture"))))}function vP(n,e){let t=tg.get(n);if(!t)return;let r=t.getStage();r&&r.content,tg.delete(n),mP&&t._fire("lostpointercapture",xS(new PointerEvent("lostpointercapture")))}});var PP=Xe(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.Stage=Fs.stages=void 0;var Ls=Fn(),Fq=Ut(),yP=eg(),Qn=Ft(),MS=Yp(),AS=yy(),jq=Ft(),ja=DS(),Bq="Stage",Uq="string",_P="px",Vq="mouseout",wP="mouseleave",CP="mouseover",EP="mouseenter",SP="mousemove",xP="mousedown",DP="mouseup",ng="pointermove",rg="pointerdown",lh="pointerup",ig="pointercancel",zq="lostpointercapture",xy="pointerout",og="pointerleave",Dy="pointerover",My="pointerenter",TS="contextmenu",MP="touchstart",AP="touchend",IP="touchmove",TP="touchcancel",PS="wheel",Hq=5,qq=[[EP,"_pointerenter"],[xP,"_pointerdown"],[SP,"_pointermove"],[DP,"_pointerup"],[wP,"_pointerleave"],[MP,"_pointerdown"],[IP,"_pointermove"],[AP,"_pointerup"],[TP,"_pointercancel"],[CP,"_pointerover"],[PS,"_wheel"],[TS,"_contextmenu"],[rg,"_pointerdown"],[ng,"_pointermove"],[lh,"_pointerup"],[ig,"_pointercancel"],[og,"_pointerleave"],[zq,"_lostpointercapture"]],IS={mouse:{[xy]:Vq,[og]:wP,[Dy]:CP,[My]:EP,[ng]:SP,[rg]:xP,[lh]:DP,[ig]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[xy]:"touchout",[og]:"touchleave",[Dy]:"touchover",[My]:"touchenter",[ng]:IP,[rg]:MP,[lh]:AP,[ig]:TP,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[xy]:xy,[og]:og,[Dy]:Dy,[My]:My,[ng]:ng,[rg]:rg,[lh]:lh,[ig]:ig,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},sg=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",ah=n=>{let e=sg(n);if(e==="pointer")return Qn.Konva.pointerEventsEnabled&&IS.pointer;if(e==="touch")return IS.touch;if(e==="mouse")return IS.mouse};function bP(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&Ls.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}var $q="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";Fs.stages=[];var ch=class extends yP.Container{constructor(e){super(bP(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Fs.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{bP(this.attrs)}),this._checkVisibility()}_validateAdd(e){let t=e.getType()==="Layer",r=e.getType()==="FastLayer";t||r||Ls.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Uq){let t;if(e.charAt(0)==="."){let r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?t=e:t=e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let e=this.children,t=e.length;for(let r=0;r<t;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),yP.Container.prototype.clone.call(this,e)}destroy(){super.destroy();let e=this.content;e&&Ls.Util._isInDocument(e)&&this.container().removeChild(e);let t=Fs.stages.indexOf(this);return t>-1&&Fs.stages.splice(t,1),Ls.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Ls.Util.warn($q),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();let t=new MS.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=t.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(o){if(!o.isVisible())return;let s=o._toKonvaCanvas(e);r.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}),t}getIntersection(e){if(!e)return null;let t=this.children,r=t.length,i=r-1;for(let o=i;o>=0;o--){let s=t[o].getIntersection(e);if(s)return s}return null}_resizeDOM(){let e=this.width(),t=this.height();this.content&&(this.content.style.width=e+_P,this.content.style.height=t+_P),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(r=>{r.setSize({width:e,height:t}),r.draw()})}add(e,...t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);let r=this.children.length;return r>Hq&&Ls.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Qn.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return ja.hasPointerCapture(e,this)}setPointerCapture(e){ja.setPointerCapture(e,this)}releaseCapture(e){ja.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){Qn.Konva.isBrowser&&qq.forEach(([e,t])=>{this.content.addEventListener(e,r=>{this[t](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let t=ah(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let t=ah(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){let t=ah(e.type),r=sg(e.type);if(!t)return;this.setPointersPositions(e);let i=this._getTargetShape(r),o=!(Qn.Konva.isDragging()||Qn.Konva.isTransforming())||Qn.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(t.pointerout,{evt:e}),i._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):o&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){let t=ah(e.type),r=sg(e.type);if(!t)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(o=>{let s=this.getIntersection(o);if(AS.DD.justDragged=!1,Qn.Konva["_"+r+"ListenClick"]=!0,!s||!s.isListening()){this[r+"ClickStartShape"]=void 0;return}Qn.Konva.capturePointerEventsEnabled&&s.setPointerCapture(o.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(t.pointerdown,{evt:e,pointerId:o.id}),i=!0;let a=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){let t=ah(e.type),r=sg(e.type);if(!t||(Qn.Konva.isDragging()&&AS.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!(Qn.Konva.isDragging()||Qn.Konva.isTransforming())||Qn.Konva.hitOnDragEnabled)))return;let o={},s=!1,a=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{let c=ja.getCapturedShape(l.id)||this.getIntersection(l),d=l.id,h={evt:e,pointerId:d},g=a!==c;if(g&&a&&(a._fireAndBubble(t.pointerout,Me({},h),c),a._fireAndBubble(t.pointerleave,Me({},h),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(s=!0,g&&(c._fireAndBubble(t.pointerover,Me({},h),a),c._fireAndBubble(t.pointerenter,Me({},h),a),this[r+"targetShape"]=c),c._fireAndBubble(t.pointermove,Me({},h))):a&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),s||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let t=ah(e.type),r=sg(e.type);if(!t)return;this.setPointersPositions(e);let i=this[r+"ClickStartShape"],o=this[r+"ClickEndShape"],s={},a=!1;this._changedPointerPositions.forEach(l=>{let c=ja.getCapturedShape(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),s[c._id])return;s[c._id]=!0}let d=l.id,h={evt:e,pointerId:d},g=!1;Qn.Konva["_"+r+"InDblClickWindow"]?(g=!0,clearTimeout(this[r+"DblTimeout"])):AS.DD.justDragged||(Qn.Konva["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Qn.Konva["_"+r+"InDblClickWindow"]=!1},Qn.Konva.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(t.pointerup,Me({},h)),Qn.Konva["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(t.pointerclick,Me({},h)),g&&o&&o===c&&c._fireAndBubble(t.pointerdblclick,Me({},h)))):(this[r+"ClickEndShape"]=null,Qn.Konva["_"+r+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),g&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),a||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Qn.Konva["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(TS,{evt:e}):this._fire(TS,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(PS,{evt:e}):this._fire(PS,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let t=ja.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(lh,ja.createEvent(e)),ja.releaseCapture(e.pointerId)}_lostpointercapture(e){ja.releaseCapture(e.pointerId)}setPointersPositions(e){let t=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})})):(r=(e.clientX-t.left)/t.scaleX,i=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:Ls.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:Ls.Util._getFirstPointerId(e)}])}_setPointerPosition(e){Ls.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};let e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new MS.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new MS.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!Qn.Konva.isBrowser)return;let e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return Ls.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Fs.Stage=ch;ch.prototype.nodeType=Bq;(0,jq._registerNode)(ch);Fq.Factory.addGetterSetter(ch,"container");Qn.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{Fs.stages.forEach(n=>{n.batchDraw()})})});var _r=Xe(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.Shape=Ba.shapes=void 0;var Gq=Ft(),js=Fn(),Je=Ut(),NP=$n(),hr=zt(),Wq=Ft(),NS=DS(),OP="hasShadow",kP="shadowRGBA",RP="patternImage",LP="linearGradient",FP="radialGradient",Ay;function OS(){return Ay||(Ay=js.Util.createCanvasElement().getContext("2d"),Ay)}Ba.shapes={};function Kq(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function Yq(n){n.stroke()}function Xq(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function Zq(n){n.stroke()}function Qq(){this._clearCache(OP)}function Jq(){this._clearCache(kP)}function e$(){this._clearCache(RP)}function t$(){this._clearCache(LP)}function n$(){this._clearCache(FP)}var ke=class extends NP.Node{constructor(e){super(e);let t;for(;t=js.Util.getRandomColor(),!(t&&!(t in Ba.shapes)););this.colorKey=t,Ba.shapes[t]=this}getContext(){return js.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return js.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(OP,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(RP,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){let t=OS().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){let r=new js.Transform;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Gq.Konva.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let i=r.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);t.setTransform(o)}return t}}_getLinearGradient(){return this._getCache(LP,this.__getLinearGradient)}__getLinearGradient(){let e=this.fillLinearGradientColorStops();if(e){let t=OS(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(r.x,r.y,i.x,i.y);for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}_getRadialGradient(){return this._getCache(FP,this.__getRadialGradient)}__getRadialGradient(){let e=this.fillRadialGradientColorStops();if(e){let t=OS(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}getShadowRGBA(){return this._getCache(kP,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;let e=js.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){let t=this.getStage();if(!t)return!1;let r=t.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return NP.Node.prototype.destroy.call(this),delete Ba.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!((t=this.attrs.perfectDrawEnabled)!==null&&t!==void 0?t:!0))return!1;let i=e||this.hasFill(),o=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&o&&s)return!0;let a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&o&&a&&l)}setStrokeHitEnabled(e){js.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){let e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,r=this.getParent();for(;r;){if(r.isCached()){t=!0;break}r=r.getParent()}let i=e.skipTransform,o=e.relativeTo||t&&this.getStage()||void 0,s=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=s.width+l,d=s.height+l,h=!e.skipShadow&&this.hasShadow(),g=h?this.shadowOffsetX():0,f=h?this.shadowOffsetY():0,y=c+Math.abs(g),_=d+Math.abs(f),C=h&&this.shadowBlur()||0,w=y+C*2,E=_+C*2,T={width:w,height:E,x:-(l/2+C)+Math.min(g,0)+s.x,y:-(l/2+C)+Math.min(f,0)+s.y};return i?T:this._transformedRect(T,o)}drawScene(e,t,r){let i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),d,h=!1,g=t===this;if(!this.isVisible()&&!g)return this;if(a){s.save();let f=this.getAbsoluteTransform(t).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!h){d=this.getStage();let f=r||d.bufferCanvas,y=f.getContext();y.clear(),y.save(),y._applyLineJoin(this);let _=this.getAbsoluteTransform(t).getMatrix();y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.call(this,y,this),y.restore();let C=f.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(f._canvas,f.x||0,f.y||0,f.width/C,f.height/C)}else{if(s._applyLineJoin(this),!g){let f=this.getAbsoluteTransform(t).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,t,r=!1){if(!this.shouldDrawHit(t,r))return this;let i=this.getLayer(),o=e||i.hitCanvas,s=o&&o.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||js.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();let h=this.getAbsoluteTransform(t).getMatrix();return s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),s._applyLineJoin(this),!(this===t)){let h=this.getAbsoluteTransform(t).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){let t=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=t.hit,o=i.getContext(),s=i.getWidth(),a=i.getHeight();o.clear(),o.drawImage(r._canvas,0,0,s,a);try{let l=o.getImageData(0,0,s,a),c=l.data,d=c.length,h=js.Util._hexToRgb(this.colorKey);for(let g=0;g<d;g+=4)c[g+3]>e?(c[g]=h.r,c[g+1]=h.g,c[g+2]=h.b,c[g+3]=255):c[g+3]=0;o.putImageData(l,0,0)}catch(l){js.Util.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return NS.hasPointerCapture(e,this)}setPointerCapture(e){NS.setPointerCapture(e,this)}releaseCapture(e){NS.releaseCapture(e,this)}};Ba.Shape=ke;ke.prototype._fillFunc=Kq;ke.prototype._strokeFunc=Yq;ke.prototype._fillFuncHit=Xq;ke.prototype._strokeFuncHit=Zq;ke.prototype._centroid=!1;ke.prototype.nodeType="Shape";(0,Wq._registerNode)(ke);ke.prototype.eventListeners={};ke.prototype.on.call(ke.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Qq);ke.prototype.on.call(ke.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Jq);ke.prototype.on.call(ke.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",e$);ke.prototype.on.call(ke.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",t$);ke.prototype.on.call(ke.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",n$);Je.Factory.addGetterSetter(ke,"stroke",void 0,(0,hr.getStringOrGradientValidator)());Je.Factory.addGetterSetter(ke,"strokeWidth",2,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"fillAfterStrokeEnabled",!1);Je.Factory.addGetterSetter(ke,"hitStrokeWidth","auto",(0,hr.getNumberOrAutoValidator)());Je.Factory.addGetterSetter(ke,"strokeHitEnabled",!0,(0,hr.getBooleanValidator)());Je.Factory.addGetterSetter(ke,"perfectDrawEnabled",!0,(0,hr.getBooleanValidator)());Je.Factory.addGetterSetter(ke,"shadowForStrokeEnabled",!0,(0,hr.getBooleanValidator)());Je.Factory.addGetterSetter(ke,"lineJoin");Je.Factory.addGetterSetter(ke,"lineCap");Je.Factory.addGetterSetter(ke,"sceneFunc");Je.Factory.addGetterSetter(ke,"hitFunc");Je.Factory.addGetterSetter(ke,"dash");Je.Factory.addGetterSetter(ke,"dashOffset",0,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"shadowColor",void 0,(0,hr.getStringValidator)());Je.Factory.addGetterSetter(ke,"shadowBlur",0,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"shadowOpacity",1,(0,hr.getNumberValidator)());Je.Factory.addComponentsGetterSetter(ke,"shadowOffset",["x","y"]);Je.Factory.addGetterSetter(ke,"shadowOffsetX",0,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"shadowOffsetY",0,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"fillPatternImage");Je.Factory.addGetterSetter(ke,"fill",void 0,(0,hr.getStringOrGradientValidator)());Je.Factory.addGetterSetter(ke,"fillPatternX",0,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"fillPatternY",0,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"fillLinearGradientColorStops");Je.Factory.addGetterSetter(ke,"strokeLinearGradientColorStops");Je.Factory.addGetterSetter(ke,"fillRadialGradientStartRadius",0);Je.Factory.addGetterSetter(ke,"fillRadialGradientEndRadius",0);Je.Factory.addGetterSetter(ke,"fillRadialGradientColorStops");Je.Factory.addGetterSetter(ke,"fillPatternRepeat","repeat");Je.Factory.addGetterSetter(ke,"fillEnabled",!0);Je.Factory.addGetterSetter(ke,"strokeEnabled",!0);Je.Factory.addGetterSetter(ke,"shadowEnabled",!0);Je.Factory.addGetterSetter(ke,"dashEnabled",!0);Je.Factory.addGetterSetter(ke,"strokeScaleEnabled",!0);Je.Factory.addGetterSetter(ke,"fillPriority","color");Je.Factory.addComponentsGetterSetter(ke,"fillPatternOffset",["x","y"]);Je.Factory.addGetterSetter(ke,"fillPatternOffsetX",0,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"fillPatternOffsetY",0,(0,hr.getNumberValidator)());Je.Factory.addComponentsGetterSetter(ke,"fillPatternScale",["x","y"]);Je.Factory.addGetterSetter(ke,"fillPatternScaleX",1,(0,hr.getNumberValidator)());Je.Factory.addGetterSetter(ke,"fillPatternScaleY",1,(0,hr.getNumberValidator)());Je.Factory.addComponentsGetterSetter(ke,"fillLinearGradientStartPoint",["x","y"]);Je.Factory.addComponentsGetterSetter(ke,"strokeLinearGradientStartPoint",["x","y"]);Je.Factory.addGetterSetter(ke,"fillLinearGradientStartPointX",0);Je.Factory.addGetterSetter(ke,"strokeLinearGradientStartPointX",0);Je.Factory.addGetterSetter(ke,"fillLinearGradientStartPointY",0);Je.Factory.addGetterSetter(ke,"strokeLinearGradientStartPointY",0);Je.Factory.addComponentsGetterSetter(ke,"fillLinearGradientEndPoint",["x","y"]);Je.Factory.addComponentsGetterSetter(ke,"strokeLinearGradientEndPoint",["x","y"]);Je.Factory.addGetterSetter(ke,"fillLinearGradientEndPointX",0);Je.Factory.addGetterSetter(ke,"strokeLinearGradientEndPointX",0);Je.Factory.addGetterSetter(ke,"fillLinearGradientEndPointY",0);Je.Factory.addGetterSetter(ke,"strokeLinearGradientEndPointY",0);Je.Factory.addComponentsGetterSetter(ke,"fillRadialGradientStartPoint",["x","y"]);Je.Factory.addGetterSetter(ke,"fillRadialGradientStartPointX",0);Je.Factory.addGetterSetter(ke,"fillRadialGradientStartPointY",0);Je.Factory.addComponentsGetterSetter(ke,"fillRadialGradientEndPoint",["x","y"]);Je.Factory.addGetterSetter(ke,"fillRadialGradientEndPointX",0);Je.Factory.addGetterSetter(ke,"fillRadialGradientEndPointY",0);Je.Factory.addGetterSetter(ke,"fillPatternRotation",0);Je.Factory.addGetterSetter(ke,"fillRule",void 0,(0,hr.getStringValidator)());Je.Factory.backCompat(ke,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})});var LS=Xe(Iy=>{"use strict";Object.defineProperty(Iy,"__esModule",{value:!0});Iy.Layer=void 0;var Ua=Fn(),kS=eg(),uh=$n(),RS=Ut(),jP=Yp(),r$=zt(),i$=_r(),o$=Ft(),s$="#",a$="beforeDraw",l$="draw",BP=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],c$=BP.length,Ul=class extends kS.Container{constructor(e){super(e),this.canvas=new jP.SceneCanvas,this.hitCanvas=new jP.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);let t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){uh.Node.prototype.moveToTop.call(this);let e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!uh.Node.prototype.moveUp.call(this))return!1;let t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(uh.Node.prototype.moveDown.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(uh.Node.prototype.moveToBottom.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){let e=this.getNativeCanvasElement();return uh.Node.prototype.remove.call(this),e&&e.parentNode&&Ua.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&Ua.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),uh.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Ua.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Ua.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Ua.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,r=!1;for(;;){for(let i=0;i<c$;i++){let o=BP[i],s=this._getIntersection({x:e.x+o.x*t,y:e.y+o.y*t}),a=s.shape;if(a)return a;if(r=!!s.antialiased,!s.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){let t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=r[3];if(i===255){let o=Ua.Util._rgbToHex(r[0],r[1],r[2]),s=i$.shapes[s$+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas();return this._fire(a$,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),kS.Container.prototype.drawScene.call(this,o,t,r),this._fire(l$,{node:this}),this}drawHit(e,t){let r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),kS.Container.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Ua.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Ua.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;let e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Ua.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Iy.Layer=Ul;Ul.prototype.nodeType="Layer";(0,o$._registerNode)(Ul);RS.Factory.addGetterSetter(Ul,"imageSmoothingEnabled",!0);RS.Factory.addGetterSetter(Ul,"clearBeforeDraw",!0);RS.Factory.addGetterSetter(Ul,"hitGraphEnabled",!0,(0,r$.getBooleanValidator)())});var UP=Xe(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});Ty.FastLayer=void 0;var u$=Fn(),d$=LS(),h$=Ft(),ag=class extends d$.Layer{constructor(e){super(e),this.listening(!1),u$.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};Ty.FastLayer=ag;ag.prototype.nodeType="FastLayer";(0,h$._registerNode)(ag)});var Ny=Xe(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});Py.Group=void 0;var f$=Fn(),p$=eg(),g$=Ft(),lg=class extends p$.Container{_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&f$.Util.throw("You may only add groups and shapes to groups.")}};Py.Group=lg;lg.prototype.nodeType="Group";(0,g$._registerNode)(lg)});var ky=Xe(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0});Oy.Animation=void 0;var FS=Ft(),VP=Fn(),jS=function(){return FS.glob.performance&&FS.glob.performance.now?function(){return FS.glob.performance.now()}:function(){return new Date().getTime()}}(),dh=class n{constructor(e,t){this.id=n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:jS(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){let t=this.layers,r=t.length;for(let i=0;i<r;i++)if(t[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){let t=n.animations,r=t.length;for(let i=0;i<r;i++)if(t[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=jS(),n._addAnimation(this),this}stop(){return n._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){let t=e.id,r=this.animations,i=r.length;for(let o=0;o<i;o++)if(r[o].id===t){this.animations.splice(o,1);break}}static _runFrames(){let e={},t=this.animations;for(let r=0;r<t.length;r++){let i=t[r],o=i.layers,s=i.func;i._updateFrameObject(jS());let a=o.length,l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){let d=o[c];d._id!==void 0&&(e[d._id]=d)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){let e=n;e.animations.length?(e._runFrames(),VP.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,VP.Util.requestAnimFrame(this._animationLoop))}};Oy.Animation=dh;dh.animations=[];dh.animIdCounter=0;dh.animRunning=!1});var $P=Xe(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Easings=Bs.Tween=void 0;var Va=Fn(),m$=ky(),v$=$n(),y$=Ft(),_$={node:1,duration:1,easing:1,onFinish:1,yoyo:1},b$=1,zP=2,HP=3,qP=["fill","stroke","shadowColor"],w$=0,BS=class{constructor(e,t,r,i,o,s,a){this.prop=e,this.propFunc=t,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}fire(e){let t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=zP,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=HP,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){let e=this.getTimer()-this._startTime;this.state===zP?this.setTime(e):this.state===HP&&this.setTime(this.duration-e)}pause(){this.state=b$,this.fire("onPause")}getTimer(){return new Date().getTime()}},hh=class n{constructor(e){let t=this,r=e.node,i=r._id,o=e.easing||Bs.Easings.Linear,s=!!e.yoyo,a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=w$++;let c=r.getLayer()||(r instanceof y$.Konva.Stage?r.getLayers():null);c||Va.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new m$.Animation(function(){t.tween.onEnterFrame()},c),this.tween=new BS(l,function(d){t._tweenFunc(d)},o,0,1,a*1e3,s),this._addListeners(),n.attrs[i]||(n.attrs[i]={}),n.attrs[i][this._id]||(n.attrs[i][this._id]={}),n.tweens[i]||(n.tweens[i]={});for(l in e)_$[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){let r=this.node,i=r._id,o,s,a,l,c,d=n.tweens[i][e];d&&delete n.attrs[i][d][e];let h=r.getAttr(e);if(Va.Util._isArray(t))if(o=[],s=Math.max(t.length,h.length),e==="points"&&t.length!==h.length&&(t.length>h.length?(l=h,h=Va.Util._prepareArrayForTween(h,t,r.closed())):(a=t,t=Va.Util._prepareArrayForTween(t,h,r.closed()))),e.indexOf("fill")===0)for(let g=0;g<s;g++)if(g%2===0)o.push(t[g]-h[g]);else{let f=Va.Util.colorToRGBA(h[g]);c=Va.Util.colorToRGBA(t[g]),h[g]=f,o.push({r:c.r-f.r,g:c.g-f.g,b:c.b-f.b,a:c.a-f.a})}else for(let g=0;g<s;g++)o.push(t[g]-h[g]);else qP.indexOf(e)!==-1?(h=Va.Util.colorToRGBA(h),c=Va.Util.colorToRGBA(t),o={r:c.r-h.r,g:c.g-h.g,b:c.b-h.b,a:c.a-h.a}):o=t-h;n.attrs[i][this._id][e]={start:h,diff:o,end:t,trueEnd:a,trueStart:l},n.tweens[i][e]=this._id}_tweenFunc(e){let t=this.node,r=n.attrs[t._id][this._id],i,o,s,a,l,c,d,h;for(i in r){if(o=r[i],s=o.start,a=o.diff,h=o.end,Va.Util._isArray(s))if(l=[],d=Math.max(s.length,h.length),i.indexOf("fill")===0)for(c=0;c<d;c++)c%2===0?l.push((s[c]||0)+a[c]*e):l.push("rgba("+Math.round(s[c].r+a[c].r*e)+","+Math.round(s[c].g+a[c].g*e)+","+Math.round(s[c].b+a[c].b*e)+","+(s[c].a+a[c].a*e)+")");else for(c=0;c<d;c++)l.push((s[c]||0)+a[c]*e);else qP.indexOf(i)!==-1?l="rgba("+Math.round(s.r+a.r*e)+","+Math.round(s.g+a.g*e)+","+Math.round(s.b+a.b*e)+","+(s.a+a.a*e)+")":l=s+a*e;t.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let e=this.node._id,t=this._id,r=n.tweens[e];this.pause(),this.anim&&this.anim.stop();for(let i in r)delete n.tweens[e][i];delete n.attrs[e][t],n.tweens[e]&&(Object.keys(n.tweens[e]).length===0&&delete n.tweens[e],Object.keys(n.attrs[e]).length===0&&delete n.attrs[e])}};Bs.Tween=hh;hh.attrs={};hh.tweens={};v$.Node.prototype.to=function(n){let e=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),e&&e()},new hh(n).play()};Bs.Easings={BackEaseIn(n,e,t,r){return t*(n/=r)*n*((1.70158+1)*n-1.70158)+e},BackEaseOut(n,e,t,r){return t*((n=n/r-1)*n*((1.70158+1)*n+1.70158)+1)+e},BackEaseInOut(n,e,t,r){let i=1.70158;return(n/=r/2)<1?t/2*(n*n*(((i*=1.525)+1)*n-i))+e:t/2*((n-=2)*n*(((i*=1.525)+1)*n+i)+2)+e},ElasticEaseIn(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),-(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e)},ElasticEaseOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),i*Math.pow(2,-10*n)*Math.sin((n*r-s)*(2*Math.PI)/o)+t+e)},ElasticEaseInOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r/2)===2?e+t:(o||(o=r*(.3*1.5)),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),n<1?-.5*(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o)*.5+t+e)},BounceEaseOut(n,e,t,r){return(n/=r)<1/2.75?t*(7.5625*n*n)+e:n<2/2.75?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},BounceEaseIn(n,e,t,r){return t-Bs.Easings.BounceEaseOut(r-n,0,t,r)+e},BounceEaseInOut(n,e,t,r){return n<r/2?Bs.Easings.BounceEaseIn(n*2,0,t,r)*.5+e:Bs.Easings.BounceEaseOut(n*2-r,0,t,r)*.5+t*.5+e},EaseIn(n,e,t,r){return t*(n/=r)*n+e},EaseOut(n,e,t,r){return-t*(n/=r)*(n-2)+e},EaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},StrongEaseIn(n,e,t,r){return t*(n/=r)*n*n*n*n+e},StrongEaseOut(n,e,t,r){return t*((n=n/r-1)*n*n*n*n+1)+e},StrongEaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},Linear(n,e,t,r){return t*n/r+e}}});var YP=Xe(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.Konva=void 0;var C$=Ft(),US=Fn(),E$=$n(),S$=eg(),GP=PP(),x$=LS(),D$=UP(),M$=Ny(),A$=yy(),WP=_r(),I$=ky(),KP=$P(),T$=_S(),P$=Yp();fh.Konva=US.Util._assign(C$.Konva,{Util:US.Util,Transform:US.Transform,Node:E$.Node,Container:S$.Container,Stage:GP.Stage,stages:GP.stages,Layer:x$.Layer,FastLayer:D$.FastLayer,Group:M$.Group,DD:A$.DD,Shape:WP.Shape,shapes:WP.shapes,Animation:I$.Animation,Tween:KP.Tween,Easings:KP.Easings,Context:T$.Context,Canvas:P$.Canvas});fh.default=fh.Konva});var ZP=Xe(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0});Fy.Arc=void 0;var Ry=Ut(),N$=_r(),XP=Ft(),Ly=zt(),O$=Ft(),Qo=class extends N$.Shape{_sceneFunc(e){let t=XP.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),i=XP.Konva.getAngle(r?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=o*(o>0?e:t),d=s*(s>0?t:e),h=a*(a>0?e:t),g=l*(l>0?t:e);return{x:c,y:r?-1*g:h,width:d-c,height:g-h}}};Fy.Arc=Qo;Qo.prototype._centroid=!0;Qo.prototype.className="Arc";Qo.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,O$._registerNode)(Qo);Ry.Factory.addGetterSetter(Qo,"innerRadius",0,(0,Ly.getNumberValidator)());Ry.Factory.addGetterSetter(Qo,"outerRadius",0,(0,Ly.getNumberValidator)());Ry.Factory.addGetterSetter(Qo,"angle",0,(0,Ly.getNumberValidator)());Ry.Factory.addGetterSetter(Qo,"clockwise",!1,(0,Ly.getBooleanValidator)())});var zS=Xe(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});By.Line=void 0;var jy=Ut(),k$=Ft(),R$=_r(),JP=zt();function VS(n,e,t,r,i,o,s){let a=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-t,2)+Math.pow(o-r,2)),c=s*a/(a+l),d=s*l/(a+l),h=t-c*(i-n),g=r-c*(o-e),f=t+d*(i-n),y=r+d*(o-e);return[h,g,f,y]}function QP(n,e){let t=n.length,r=[];for(let i=2;i<t-2;i+=2){let o=VS(n[i-2],n[i-1],n[i],n[i+1],n[i+2],n[i+3],e);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(n[i]),r.push(n[i+1]),r.push(o[2]),r.push(o[3]))}return r}var Us=class extends R$.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let t=this.points(),r=t.length,i=this.tension(),o=this.closed(),s=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(t[0],t[1]),i!==0&&r>4){let l=this.getTensionPoints(),c=l.length;for(a=o?0:4,o||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);o||e.quadraticCurveTo(l[c-2],l[c-1],t[r-2],t[r-1])}else if(s)for(a=2;a<r;)e.bezierCurveTo(t[a++],t[a++],t[a++],t[a++],t[a++],t[a++]);else for(a=2;a<r;a+=2)e.lineTo(t[a],t[a+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():QP(this.points(),this.tension())}_getTensionPointsClosed(){let e=this.points(),t=e.length,r=this.tension(),i=VS(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),o=VS(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),s=QP(e,r);return[i[2],i[3]].concat(s).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);return{x:t,y:i,width:r-t,height:o-i}}};By.Line=Us;Us.prototype.className="Line";Us.prototype._attrsAffectingSize=["points","bezier","tension"];(0,k$._registerNode)(Us);jy.Factory.addGetterSetter(Us,"closed",!1);jy.Factory.addGetterSetter(Us,"bezier",!1);jy.Factory.addGetterSetter(Us,"tension",0,(0,JP.getNumberValidator)());jy.Factory.addGetterSetter(Us,"points",[],(0,JP.getNumberArrayValidator)())});var e8=Xe(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.t2length=Fr.getQuadraticArcLength=Fr.getCubicArcLength=Fr.binomialCoefficients=Fr.cValues=Fr.tValues=void 0;Fr.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];Fr.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];Fr.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];var L$=(n,e,t)=>{let r,i,s=t/2;r=0;for(let a=0;a<20;a++)i=s*Fr.tValues[20][a]+s,r+=Fr.cValues[20][a]*j$(n,e,i);return s*r};Fr.getCubicArcLength=L$;var F$=(n,e,t)=>{t===void 0&&(t=1);let r=n[0]-2*n[1]+n[2],i=e[0]-2*e[1]+e[2],o=2*n[1]-2*n[0],s=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*o+i*s),c=o*o+s*s;if(a===0)return t*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(e[2]-e[0],2));let d=l/(2*a),h=c/a,g=t+d,f=h-d*d,y=g*g+f>0?Math.sqrt(g*g+f):0,_=d*d+f>0?Math.sqrt(d*d+f):0,C=d+Math.sqrt(d*d+f)!==0?f*Math.log(Math.abs((g+y)/(d+_))):0;return Math.sqrt(a)/2*(g*y-d*_+C)};Fr.getQuadraticArcLength=F$;function j$(n,e,t){let r=HS(1,t,n),i=HS(1,t,e),o=r*r+i*i;return Math.sqrt(o)}var HS=(n,e,t)=>{let r=t.length-1,i,o;if(r===0)return 0;if(n===0){o=0;for(let s=0;s<=r;s++)o+=Fr.binomialCoefficients[r][s]*Math.pow(1-e,r-s)*Math.pow(e,s)*t[s];return o}else{i=new Array(r);for(let s=0;s<r;s++)i[s]=r*(t[s+1]-t[s]);return HS(n-1,e,i)}},B$=(n,e,t)=>{let r=1,i=n/e,o=(n-t(i))/e,s=0;for(;r>.001;){let a=t(i+o),l=Math.abs(n-a)/e;if(l<r)r=l,i+=o;else{let c=t(i-o),d=Math.abs(n-c)/e;d<r?(r=d,i-=o):o/=2}if(s++,s>500)break}return i};Fr.t2length=B$});var Vy=Xe(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});Uy.Path=void 0;var U$=Ut(),V$=Ft(),z$=_r(),ph=e8(),Qc=class n extends z$.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=n.parsePathData(this.data()),this.pathLength=n.getPathLength(this.dataArray)}_sceneFunc(e){let t=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<t.length;i++){let o=t[i].command,s=t[i].points;switch(o){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":let a=s[0],l=s[1],c=s[2],d=s[3],h=s[4],g=s[5],f=s[6],y=s[7],_=c>d?c:d,C=c>d?1:c/d,w=c>d?d/c:1;e.translate(a,l),e.rotate(f),e.scale(C,w),e.arc(0,0,_,h,h+g,1-y),e.scale(1/C,1/w),e.rotate(-f),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){let c=l.points[4],d=l.points[5],h=l.points[4]+d,g=Math.PI/180;if(Math.abs(c-h)<g&&(g=Math.abs(c-h)),d<0)for(let f=c-g;f>h;f-=g){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(y.x,y.y)}else for(let f=c+g;f<h;f+=g){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(y.x,y.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){let d=n.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],isNaN(s)||(t=Math.min(t,s),r=Math.max(r,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:t,y:i,width:r-t,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return n.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}static getPathLength(e){let t=0;for(let r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let r,i=0,o=t.length;if(!o)return null;for(;i<o&&e>t[i].pathLength;)e-=t[i].pathLength,++i;if(i===o)return r=t[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return t[i].command==="M"?(r=t[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:t[i].start.x,y:t[i].start.y};let s=t[i],a=s.points;switch(s.command){case"L":return n.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return n.getPointOnCubicBezier((0,ph.t2length)(e,n.getPathLength(t),_=>(0,ph.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return n.getPointOnQuadraticBezier((0,ph.t2length)(e,n.getPathLength(t),_=>(0,ph.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":let l=a[0],c=a[1],d=a[2],h=a[3],g=a[5],f=a[6],y=a[4];return y+=g*e/s.pathLength,n.getPointOnEllipticalArc(l,c,d,h,y,f)}return null}static getPointOnLine(e,t,r,i,o,s,a){s=s??t,a=a??r;let l=this.getLineLength(t,r,i,o);if(l<1e-10)return{x:t,y:r};if(i===t)return{x:s,y:a+(o>r?e:-e)};let c=(o-r)/(i-t),d=Math.sqrt(e*e/(1+c*c))*(i<t?-1:1),h=c*d;if(Math.abs(a-r-c*(s-t))<1e-10)return{x:s+d,y:a+h};let g=((s-t)*(i-t)+(a-r)*(o-r))/(l*l),f=t+g*(i-t),y=r+g*(o-r),_=this.getLineLength(s,a,f,y),C=Math.sqrt(e*e-_*_),w=Math.sqrt(C*C/(1+c*c))*(i<t?-1:1),E=c*w;return{x:f+w,y:y+E}}static getPointOnCubicBezier(e,t,r,i,o,s,a,l,c){function d(C){return C*C*C}function h(C){return 3*C*C*(1-C)}function g(C){return 3*C*(1-C)*(1-C)}function f(C){return(1-C)*(1-C)*(1-C)}let y=l*d(e)+s*h(e)+i*g(e)+t*f(e),_=c*d(e)+a*h(e)+o*g(e)+r*f(e);return{x:y,y:_}}static getPointOnQuadraticBezier(e,t,r,i,o,s,a){function l(f){return f*f}function c(f){return 2*f*(1-f)}function d(f){return(1-f)*(1-f)}let h=s*l(e)+i*c(e)+t*d(e),g=a*l(e)+o*c(e)+r*d(e);return{x:h,y:g}}static getPointOnEllipticalArc(e,t,r,i,o,s){let a=Math.cos(s),l=Math.sin(s),c={x:r*Math.cos(o),y:i*Math.sin(o)};return{x:e+(c.x*a-c.y*l),y:t+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let h=0;h<r.length;h++)t=t.replace(new RegExp(r[h],"g"),"|"+r[h]);let i=t.split("|"),o=[],s=[],a=0,l=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,d;for(let h=1;h<i.length;h++){let g=i[h],f=g.charAt(0);for(g=g.slice(1),s.length=0;d=c.exec(g);)s.push(d[0]);let y=[];for(let _=0,C=s.length;_<C;_++){if(s[_]==="00"){y.push(0,0);continue}let w=parseFloat(s[_]);isNaN(w)?y.push(0):y.push(w)}for(;y.length>0&&!isNaN(y[0]);){let _="",C=[],w=a,E=l,T,P,H,Q,U,F,re,le,O,N;switch(f){case"l":a+=y.shift(),l+=y.shift(),_="L",C.push(a,l);break;case"L":a=y.shift(),l=y.shift(),C.push(a,l);break;case"m":let G=y.shift(),$=y.shift();if(a+=G,l+=$,_="M",o.length>2&&o[o.length-1].command==="z"){for(let ge=o.length-2;ge>=0;ge--)if(o[ge].command==="M"){a=o[ge].points[0]+G,l=o[ge].points[1]+$;break}}C.push(a,l),f="l";break;case"M":a=y.shift(),l=y.shift(),_="M",C.push(a,l),f="L";break;case"h":a+=y.shift(),_="L",C.push(a,l);break;case"H":a=y.shift(),_="L",C.push(a,l);break;case"v":l+=y.shift(),_="L",C.push(a,l);break;case"V":l=y.shift(),_="L",C.push(a,l);break;case"C":C.push(y.shift(),y.shift(),y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"c":C.push(a+y.shift(),l+y.shift(),a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"S":P=a,H=l,T=o[o.length-1],T.command==="C"&&(P=a+(a-T.points[2]),H=l+(l-T.points[3])),C.push(P,H,y.shift(),y.shift()),a=y.shift(),l=y.shift(),_="C",C.push(a,l);break;case"s":P=a,H=l,T=o[o.length-1],T.command==="C"&&(P=a+(a-T.points[2]),H=l+(l-T.points[3])),C.push(P,H,a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"Q":C.push(y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"q":C.push(a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="Q",C.push(a,l);break;case"T":P=a,H=l,T=o[o.length-1],T.command==="Q"&&(P=a+(a-T.points[0]),H=l+(l-T.points[1])),a=y.shift(),l=y.shift(),_="Q",C.push(P,H,a,l);break;case"t":P=a,H=l,T=o[o.length-1],T.command==="Q"&&(P=a+(a-T.points[0]),H=l+(l-T.points[1])),a+=y.shift(),l+=y.shift(),_="Q",C.push(P,H,a,l);break;case"A":Q=y.shift(),U=y.shift(),F=y.shift(),re=y.shift(),le=y.shift(),O=a,N=l,a=y.shift(),l=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(O,N,a,l,re,le,Q,U,F);break;case"a":Q=y.shift(),U=y.shift(),F=y.shift(),re=y.shift(),le=y.shift(),O=a,N=l,a+=y.shift(),l+=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(O,N,a,l,re,le,Q,U,F);break}o.push({command:_||f,points:C,start:{x:w,y:E},pathLength:this.calcLength(w,E,_||f,C)})}(f==="z"||f==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,r,i){let o,s,a,l,c=n;switch(r){case"L":return c.getLineLength(e,t,i[0],i[1]);case"C":return(0,ph.getCubicArcLength)([e,i[0],i[2],i[4]],[t,i[1],i[3],i[5]],1);case"Q":return(0,ph.getQuadraticArcLength)([e,i[0],i[2]],[t,i[1],i[3]],1);case"A":o=0;let d=i[4],h=i[5],g=i[4]+h,f=Math.PI/180;if(Math.abs(d-g)<f&&(f=Math.abs(d-g)),s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),h<0)for(l=d-f;l>g;l-=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(l=d+f;l<g;l+=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,t,r,i,o,s,a,l,c){let d=c*(Math.PI/180),h=Math.cos(d)*(e-r)/2+Math.sin(d)*(t-i)/2,g=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(t-i)/2,f=h*h/(a*a)+g*g/(l*l);f>1&&(a*=Math.sqrt(f),l*=Math.sqrt(f));let y=Math.sqrt((a*a*(l*l)-a*a*(g*g)-l*l*(h*h))/(a*a*(g*g)+l*l*(h*h)));o===s&&(y*=-1),isNaN(y)&&(y=0);let _=y*a*g/l,C=y*-l*h/a,w=(e+r)/2+Math.cos(d)*_-Math.sin(d)*C,E=(t+i)/2+Math.sin(d)*_+Math.cos(d)*C,T=function(le){return Math.sqrt(le[0]*le[0]+le[1]*le[1])},P=function(le,O){return(le[0]*O[0]+le[1]*O[1])/(T(le)*T(O))},H=function(le,O){return(le[0]*O[1]<le[1]*O[0]?-1:1)*Math.acos(P(le,O))},Q=H([1,0],[(h-_)/a,(g-C)/l]),U=[(h-_)/a,(g-C)/l],F=[(-1*h-_)/a,(-1*g-C)/l],re=H(U,F);return P(U,F)<=-1&&(re=Math.PI),P(U,F)>=1&&(re=0),s===0&&re>0&&(re=re-2*Math.PI),s===1&&re<0&&(re=re+2*Math.PI),[w,E,a,l,Q,re,d,s]}};Uy.Path=Qc;Qc.prototype.className="Path";Qc.prototype._attrsAffectingSize=["data"];(0,V$._registerNode)(Qc);U$.Factory.addGetterSetter(Qc,"data")});var r8=Xe(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0});Hy.Arrow=void 0;var zy=Ut(),H$=zS(),n8=zt(),q$=Ft(),t8=Vy(),za=class extends H$.Line{_sceneFunc(e){super._sceneFunc(e);let t=Math.PI*2,r=this.points(),i=r,o=this.tension()!==0&&r.length>4;o&&(i=this.getTensionPoints());let s=this.pointerLength(),a=r.length,l,c;if(o){let g=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],f=t8.Path.calcLength(i[i.length-4],i[i.length-3],"C",g),y=t8.Path.getPointOnQuadraticBezier(Math.min(1,1-s/f),g[0],g[1],g[2],g[3],g[4],g[5]);l=r[a-2]-y.x,c=r[a-1]-y.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];let d=(Math.atan2(c,l)+t)%t,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+t)%t),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){let t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+t*2}}};Hy.Arrow=za;za.prototype.className="Arrow";(0,q$._registerNode)(za);zy.Factory.addGetterSetter(za,"pointerLength",10,(0,n8.getNumberValidator)());zy.Factory.addGetterSetter(za,"pointerWidth",10,(0,n8.getNumberValidator)());zy.Factory.addGetterSetter(za,"pointerAtBeginning",!1);zy.Factory.addGetterSetter(za,"pointerAtEnding",!0)});var i8=Xe(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0});qy.Circle=void 0;var $$=Ut(),G$=_r(),W$=zt(),K$=Ft(),Vl=class extends G$.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};qy.Circle=Vl;Vl.prototype._centroid=!0;Vl.prototype.className="Circle";Vl.prototype._attrsAffectingSize=["radius"];(0,K$._registerNode)(Vl);$$.Factory.addGetterSetter(Vl,"radius",0,(0,W$.getNumberValidator)())});var s8=Xe($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});$y.Ellipse=void 0;var qS=Ut(),Y$=_r(),o8=zt(),X$=Ft(),Vs=class extends Y$.Shape{_sceneFunc(e){let t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};$y.Ellipse=Vs;Vs.prototype.className="Ellipse";Vs.prototype._centroid=!0;Vs.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,X$._registerNode)(Vs);qS.Factory.addComponentsGetterSetter(Vs,"radius",["x","y"]);qS.Factory.addGetterSetter(Vs,"radiusX",0,(0,o8.getNumberValidator)());qS.Factory.addGetterSetter(Vs,"radiusY",0,(0,o8.getNumberValidator)())});var a8=Xe(Gy=>{"use strict";Object.defineProperty(Gy,"__esModule",{value:!0});Gy.Image=void 0;var $S=Fn(),Jc=Ut(),Z$=_r(),Q$=Ft(),cg=zt(),go=class n extends Z$.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",t=>{this._removeImageLoad(t.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){let e=!!this.cornerRadius(),t=this.hasShadow();return e&&t?!0:super._useBufferCanvas(!0)}_sceneFunc(e){let t=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image,s;if(o){let a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?s=[o,this.cropX(),this.cropY(),a,l,0,0,t,r]:s=[o,0,0,t,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?$S.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){let t=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?$S.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){let i=$S.Util.createImageElement();i.onload=function(){let o=new n({image:i});t(o)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};Gy.Image=go;go.prototype.className="Image";(0,Q$._registerNode)(go);Jc.Factory.addGetterSetter(go,"cornerRadius",0,(0,cg.getNumberOrArrayOfNumbersValidator)(4));Jc.Factory.addGetterSetter(go,"image");Jc.Factory.addComponentsGetterSetter(go,"crop",["x","y","width","height"]);Jc.Factory.addGetterSetter(go,"cropX",0,(0,cg.getNumberValidator)());Jc.Factory.addGetterSetter(go,"cropY",0,(0,cg.getNumberValidator)());Jc.Factory.addGetterSetter(go,"cropWidth",0,(0,cg.getNumberValidator)());Jc.Factory.addGetterSetter(go,"cropHeight",0,(0,cg.getNumberValidator)())});var u8=Xe(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.Tag=gh.Label=void 0;var Wy=Ut(),J$=_r(),eG=Ny(),XS=zt(),l8=Ft(),c8=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],tG="Change.konva",nG="none",GS="up",WS="right",KS="down",YS="left",rG=c8.length,ug=class extends eG.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t=this,r,i=function(){t._sync()};for(r=0;r<rG;r++)e.on(c8[r]+tG,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),t=this.getTag(),r,i,o,s,a,l,c;if(e&&t){switch(r=e.width(),i=e.height(),o=t.pointerDirection(),s=t.pointerWidth(),c=t.pointerHeight(),a=0,l=0,o){case GS:a=r/2,l=-1*c;break;case WS:a=r+s,l=i/2;break;case KS:a=r/2,l=i+c;break;case YS:a=-1*s,l=i/2;break}t.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}};gh.Label=ug;ug.prototype.className="Label";(0,l8._registerNode)(ug);var Ha=class extends J$.Shape{_sceneFunc(e){let t=this.width(),r=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius(),l=0,c=0,d=0,h=0;typeof a=="number"?l=c=d=h=Math.min(a,t/2,r/2):(l=Math.min(a[0]||0,t/2,r/2),c=Math.min(a[1]||0,t/2,r/2),h=Math.min(a[2]||0,t/2,r/2),d=Math.min(a[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(l,0),i===GS&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*s),e.lineTo((t+o)/2,0)),e.lineTo(t-c,0),e.arc(t-c,c,c,Math.PI*3/2,0,!1),i===WS&&(e.lineTo(t,(r-s)/2),e.lineTo(t+o,r/2),e.lineTo(t,(r+s)/2)),e.lineTo(t,r-h),e.arc(t-h,r-h,h,0,Math.PI/2,!1),i===KS&&(e.lineTo((t+o)/2,r),e.lineTo(t/2,r+s),e.lineTo((t-o)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),i===YS&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*o,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,r=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===GS?(t-=i,a+=i):o===KS?a+=i:o===YS?(e-=r*1.5,s+=r):o===WS&&(s+=r*1.5),{x:e,y:t,width:s,height:a}}};gh.Tag=Ha;Ha.prototype.className="Tag";(0,l8._registerNode)(Ha);Wy.Factory.addGetterSetter(Ha,"pointerDirection",nG);Wy.Factory.addGetterSetter(Ha,"pointerWidth",0,(0,XS.getNumberValidator)());Wy.Factory.addGetterSetter(Ha,"pointerHeight",0,(0,XS.getNumberValidator)());Wy.Factory.addGetterSetter(Ha,"cornerRadius",0,(0,XS.getNumberOrArrayOfNumbersValidator)(4))});var ZS=Xe(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});Ky.Rect=void 0;var iG=Ut(),oG=_r(),sG=Ft(),aG=Fn(),lG=zt(),mh=class extends oG.Shape{_sceneFunc(e){let t=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),t?aG.Util.drawRoundedRectPath(e,r,i,t):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Ky.Rect=mh;mh.prototype.className="Rect";(0,sG._registerNode)(mh);iG.Factory.addGetterSetter(mh,"cornerRadius",0,(0,lG.getNumberOrArrayOfNumbersValidator)(4))});var f8=Xe(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});Yy.RegularPolygon=void 0;var d8=Ut(),cG=_r(),h8=zt(),uG=Ft(),qa=class extends cG.Shape{_sceneFunc(e){let t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:t*Math.sin(i*2*Math.PI/e),y:-1*t*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){let e=this._getPoints(),t=e[0].x,r=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{t=Math.min(t,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:t,y:i,width:r-t,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Yy.RegularPolygon=qa;qa.prototype.className="RegularPolygon";qa.prototype._centroid=!0;qa.prototype._attrsAffectingSize=["radius"];(0,uG._registerNode)(qa);d8.Factory.addGetterSetter(qa,"radius",0,(0,h8.getNumberValidator)());d8.Factory.addGetterSetter(qa,"sides",0,(0,h8.getNumberValidator)())});var v8=Xe(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0});Xy.Ring=void 0;var g8=Ut(),dG=_r(),m8=zt(),hG=Ft(),p8=Math.PI*2,$a=class extends dG.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,p8,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),p8,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Xy.Ring=$a;$a.prototype.className="Ring";$a.prototype._centroid=!0;$a.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,hG._registerNode)($a);g8.Factory.addGetterSetter($a,"innerRadius",0,(0,m8.getNumberValidator)());g8.Factory.addGetterSetter($a,"outerRadius",0,(0,m8.getNumberValidator)())});var _8=Xe(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});Zy.Sprite=void 0;var eu=Ut(),fG=_r(),pG=ky(),y8=zt(),gG=Ft(),mo=class extends fG.Shape{constructor(e){super(e),this._updated=!0,this.anim=new pG.Animation(()=>{let t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+0],l=o[i+1],c=o[i+2],d=o[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,d),e.closePath(),e.fillStrokeShape(this)),h)if(s){let g=s[t],f=r*2;e.drawImage(h,a,l,c,d,g[f+0],g[f+1],c,d)}else e.drawImage(h,a,l,c,d,0,0,c,d)}_hitFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+2],l=o[i+3];if(e.beginPath(),s){let c=s[t],d=r*2;e.rect(c[d+0],c[d+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){let e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;let e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){let e=this.frameIndex(),t=this.animation(),r=this.animations(),i=r[t],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}};Zy.Sprite=mo;mo.prototype.className="Sprite";(0,gG._registerNode)(mo);eu.Factory.addGetterSetter(mo,"animation");eu.Factory.addGetterSetter(mo,"animations");eu.Factory.addGetterSetter(mo,"frameOffsets");eu.Factory.addGetterSetter(mo,"image");eu.Factory.addGetterSetter(mo,"frameIndex",0,(0,y8.getNumberValidator)());eu.Factory.addGetterSetter(mo,"frameRate",17,(0,y8.getNumberValidator)());eu.Factory.backCompat(mo,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})});var b8=Xe(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.Star=void 0;var QS=Ut(),mG=_r(),JS=zt(),vG=Ft(),zs=class extends mG.Shape{_sceneFunc(e){let t=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let o=1;o<i*2;o++){let s=o%2===0?r:t,a=s*Math.sin(o*Math.PI/i),l=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Qy.Star=zs;zs.prototype.className="Star";zs.prototype._centroid=!0;zs.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,vG._registerNode)(zs);QS.Factory.addGetterSetter(zs,"numPoints",5,(0,JS.getNumberValidator)());QS.Factory.addGetterSetter(zs,"innerRadius",0,(0,JS.getNumberValidator)());QS.Factory.addGetterSetter(zs,"outerRadius",0,(0,JS.getNumberValidator)())});var i3=Xe(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});hg.Text=void 0;hg.stringToArray=tu;var r3=Fn(),$r=Ut(),yG=_r(),e3=Ft(),zl=zt(),_G=Ft();function tu(n){return[...n].reduce((e,t,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(t)){let o=i[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(t+o),i[r+1]=""):e.push(t)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(t+(i[r+1]||""))?e.push(t+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}var vh="auto",bG="center",x8="inherit",dg="justify",wG="Change.konva",CG="2d",w8="-",D8="left",EG="text",SG="Text",xG="top",DG="bottom",C8="middle",M8="normal",MG="px ",Jy=" ",AG="right",E8="rtl",IG="word",TG="char",S8="none",t3="\u2026",A8=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],PG=A8.length;function NG(n){return n.split(",").map(e=>{e=e.trim();let t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}var e2;function n3(){return e2||(e2=r3.Util.createCanvasElement().getContext(CG),e2)}function OG(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function kG(n){n.setAttr("miterLimit",2),n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function RG(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}var Nn=class extends yG.Shape{constructor(e){super(RG(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<PG;t++)this.on(A8[t]+wG,this._setTextData);this._setTextData()}_sceneFunc(e){let t=this.textArr,r=t.length;if(!this.text())return;let i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),l=this.direction(),c=0,d=this.align(),h=this.getWidth(),g=this.letterSpacing(),f=this.fill(),y=this.textDecoration(),_=y.indexOf("underline")!==-1,C=y.indexOf("line-through")!==-1,w;l=l===x8?e.direction:l;let E=s/2,T=C8;if(e3.Konva._fixTextRendering){let P=this.measureSize("M");T="alphabetic",E=(P.fontBoundingBoxAscent-P.fontBoundingBoxDescent)/2+s/2}for(l===E8&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",T),e.setAttr("textAlign",D8),a===C8?c=(this.getHeight()-r*s-i*2)/2:a===DG&&(c=this.getHeight()-r*s-i*2),e.translate(i,c+i),w=0;w<r;w++){let P=0,H=0,Q=t[w],U=Q.text,F=Q.width,re=Q.lastInParagraph;if(e.save(),d===AG?P+=h-F-i*2:d===bG&&(P+=(h-F-i*2)/2),_){e.save(),e.beginPath();let le=e3.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),O=P,N=E+H+le;e.moveTo(O,N);let G=d===dg&&!re?h-i*2:F;e.lineTo(O+Math.round(G),N),e.lineWidth=o/15;let $=this._getLinearGradient();e.strokeStyle=$||f,e.stroke(),e.restore()}if(C){e.save(),e.beginPath();let le=e3.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(P,E+H+le);let O=d===dg&&!re?h-i*2:F;e.lineTo(P+Math.round(O),E+H+le),e.lineWidth=o/15;let N=this._getLinearGradient();e.strokeStyle=N||f,e.stroke(),e.restore()}if(l!==E8&&(g!==0||d===dg)){let le=U.split(" ").length-1,O=tu(U);for(let N=0;N<O.length;N++){let G=O[N];G===" "&&!re&&d===dg&&(P+=(h-i*2-F)/le),this._partialTextX=P,this._partialTextY=E+H,this._partialText=G,e.fillStrokeShape(this),P+=this.measureSize(G).width+g}}else g!==0&&e.setAttr("letterSpacing",`${g}px`),this._partialTextX=P,this._partialTextY=E+H,this._partialText=U,e.fillStrokeShape(this);e.restore(),r>1&&(E+=s)}}_hitFunc(e){let t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){let t=r3.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(EG,t),this}getWidth(){return this.attrs.width===vh||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===vh||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return r3.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r,i,o,s,a,l,c,d,h,g;let f=n3(),y=this.fontSize(),_;f.save(),f.font=this._getContextFont(),_=f.measureText(e),f.restore();let C=y/100;return{actualBoundingBoxAscent:(t=_.actualBoundingBoxAscent)!==null&&t!==void 0?t:71.58203125*C,actualBoundingBoxDescent:(r=_.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=_.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*C,actualBoundingBoxRight:(o=_.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*C,alphabeticBaseline:(s=_.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(a=_.emHeightAscent)!==null&&a!==void 0?a:100*C,emHeightDescent:(l=_.emHeightDescent)!==null&&l!==void 0?l:-20*C,fontBoundingBoxAscent:(c=_.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*C,fontBoundingBoxDescent:(d=_.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*C,hangingBaseline:(h=_.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*C,ideographicBaseline:(g=_.ideographicBaseline)!==null&&g!==void 0?g:-21*C,width:_.width,height:y}}_getContextFont(){return this.fontStyle()+Jy+this.fontVariant()+Jy+(this.fontSize()+MG)+NG(this.fontFamily())}_addTextLine(e){this.align()===dg&&(e=e.trim());let r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){let t=this.letterSpacing(),r=e.length;return n3().measureText(e).width+t*r}_setTextData(){let e=this.text().split(`
`),t=+this.fontSize(),r=0,i=this.lineHeight()*t,o=this.attrs.width,s=this.attrs.height,a=o!==vh&&o!==void 0,l=s!==vh&&s!==void 0,c=this.padding(),d=o-c*2,h=s-c*2,g=0,f=this.wrap(),y=f!==S8,_=f!==TG&&y,C=this.ellipsis();this.textArr=[],n3().font=this._getContextFont();let w=C?this._getTextWidth(t3):0;for(let E=0,T=e.length;E<T;++E){let P=e[E],H=this._getTextWidth(P);if(a&&H>d)for(;P.length>0;){let Q=0,U=tu(P).length,F="",re=0;for(;Q<U;){let le=Q+U>>>1,O=tu(P),N=O.slice(0,le+1).join(""),G=this._getTextWidth(N);(C&&l&&g+i>h?G+w:G)<=d?(Q=le+1,F=N,re=G):U=le}if(F){if(_){let N=tu(P),G=tu(F),$=N[G.length],ge=$===Jy||$===w8,W;if(ge&&re<=d)W=G.length;else{let te=G.lastIndexOf(Jy),V=G.lastIndexOf(w8);W=Math.max(te,V)+1}W>0&&(Q=W,F=N.slice(0,Q).join(""),re=this._getTextWidth(F))}if(F=F.trimRight(),this._addTextLine(F),r=Math.max(r,re),g+=i,this._shouldHandleEllipsis(g)){this._tryToAddEllipsisToLastLine();break}if(P=tu(P).slice(Q).join("").trimLeft(),P.length>0&&(H=this._getTextWidth(P),H<=d)){this._addTextLine(P),g+=i,r=Math.max(r,H);break}}else break}else this._addTextLine(P),g+=i,r=Math.max(r,H),this._shouldHandleEllipsis(g)&&E<T-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&g+i>h)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){let t=+this.fontSize(),r=this.lineHeight()*t,i=this.attrs.height,o=i!==vh&&i!==void 0,s=this.padding(),a=i-s*2;return!(this.wrap()!==S8)||o&&e+r>a}_tryToAddEllipsisToLastLine(){let e=this.attrs.width,t=e!==vh&&e!==void 0,r=this.padding(),i=e-r*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!o||(t&&(this._getTextWidth(s.text+t3)<i||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+t3))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){let e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}};hg.Text=Nn;Nn.prototype._fillFunc=OG;Nn.prototype._strokeFunc=kG;Nn.prototype.className=SG;Nn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,_G._registerNode)(Nn);$r.Factory.overWriteSetter(Nn,"width",(0,zl.getNumberOrAutoValidator)());$r.Factory.overWriteSetter(Nn,"height",(0,zl.getNumberOrAutoValidator)());$r.Factory.addGetterSetter(Nn,"direction",x8);$r.Factory.addGetterSetter(Nn,"fontFamily","Arial");$r.Factory.addGetterSetter(Nn,"fontSize",12,(0,zl.getNumberValidator)());$r.Factory.addGetterSetter(Nn,"fontStyle",M8);$r.Factory.addGetterSetter(Nn,"fontVariant",M8);$r.Factory.addGetterSetter(Nn,"padding",0,(0,zl.getNumberValidator)());$r.Factory.addGetterSetter(Nn,"align",D8);$r.Factory.addGetterSetter(Nn,"verticalAlign",xG);$r.Factory.addGetterSetter(Nn,"lineHeight",1,(0,zl.getNumberValidator)());$r.Factory.addGetterSetter(Nn,"wrap",IG);$r.Factory.addGetterSetter(Nn,"ellipsis",!1,(0,zl.getBooleanValidator)());$r.Factory.addGetterSetter(Nn,"letterSpacing",0,(0,zl.getNumberValidator)());$r.Factory.addGetterSetter(Nn,"text","",(0,zl.getStringValidator)());$r.Factory.addGetterSetter(Nn,"textDecoration","")});var O8=Xe(t2=>{"use strict";Object.defineProperty(t2,"__esModule",{value:!0});t2.TextPath=void 0;var o3=Fn(),Jo=Ut(),LG=_r(),fg=Vy(),s3=i3(),I8=zt(),FG=Ft(),jG="",T8="normal";function P8(n){n.fillText(this.partialText,0,0)}function N8(n){n.strokeText(this.partialText,0,0)}var Jn=class extends LG.Shape{constructor(e){super(e),this.dummyCanvas=o3.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return fg.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let t=this.pathLength;return e-1>t?null:fg.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=fg.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();let t=this.textDecoration(),r=this.fill(),i=this.fontSize(),o=this.glyphInfo;t==="underline"&&e.beginPath();for(let s=0;s<o.length;s++){e.save();let a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),t==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();let t=this.glyphInfo;if(t.length>=1){let r=t[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<t.length;r++){let i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return o3.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return s3.Text.prototype.setText.call(this,e)}_getContextFont(){return s3.Text.prototype._getContextFont.call(this)}_getTextSize(e){let r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();let i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;let r=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0),a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));let l=(0,s3.stringToArray)(this.text()),c=a;for(let d=0;d<l.length;d++){let h=this._getPointAtLength(c);if(!h)return;let g=this._getTextSize(l[d]).width+r;if(l[d]===" "&&i==="justify"){let E=this.text().split(" ").length-1;g+=(this.pathLength-s)/E}let f=this._getPointAtLength(c+g);if(!f)return;let y=fg.Path.getLineLength(h.x,h.y,f.x,f.y),_=0;if(o)try{_=o(l[d-1],l[d])*this.fontSize()}catch{_=0}h.x+=_,f.x+=_,this.textWidth+=_;let C=fg.Path.getPointOnLine(_+y/2,h.x,h.y,f.x,f.y),w=Math.atan2(f.y-h.y,f.x-h.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:l[d],rotation:w,p0:h,p1:f}),c+=g}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};let e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let t=e[0]||0,r=e[0]||0,i=e[1]||0,o=e[1]||0,s,a;for(let c=0;c<e.length/2;c++)s=e[c*2],a=e[c*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);let l=this.fontSize();return{x:t-l/2,y:i-l/2,width:r-t+l,height:o-i+l}}destroy(){return o3.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};t2.TextPath=Jn;Jn.prototype._fillFunc=P8;Jn.prototype._strokeFunc=N8;Jn.prototype._fillFuncHit=P8;Jn.prototype._strokeFuncHit=N8;Jn.prototype.className="TextPath";Jn.prototype._attrsAffectingSize=["text","fontSize","data"];(0,FG._registerNode)(Jn);Jo.Factory.addGetterSetter(Jn,"data");Jo.Factory.addGetterSetter(Jn,"fontFamily","Arial");Jo.Factory.addGetterSetter(Jn,"fontSize",12,(0,I8.getNumberValidator)());Jo.Factory.addGetterSetter(Jn,"fontStyle",T8);Jo.Factory.addGetterSetter(Jn,"align","left");Jo.Factory.addGetterSetter(Jn,"letterSpacing",0,(0,I8.getNumberValidator)());Jo.Factory.addGetterSetter(Jn,"textBaseline","middle");Jo.Factory.addGetterSetter(Jn,"fontVariant",T8);Jo.Factory.addGetterSetter(Jn,"text",jG);Jo.Factory.addGetterSetter(Jn,"textDecoration","");Jo.Factory.addGetterSetter(Jn,"kerningFunc",void 0)});var U8=Xe(r2=>{"use strict";Object.defineProperty(r2,"__esModule",{value:!0});r2.Transformer=void 0;var vn=Fn(),nn=Ut(),k8=$n(),BG=_r(),UG=ZS(),R8=Ny(),es=Ft(),Hl=zt(),VG=Ft(),j8="tr-konva",zG=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(n=>n+`.${j8}`).join(" "),L8="nodesRect",HG=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],qG={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},$G="ontouchstart"in es.Konva._global;function GG(n,e,t){if(n==="rotater")return t;e+=vn.Util.degToRad(qG[n]||0);let r=(vn.Util.radToDeg(e)%360+360)%360;return vn.Util._inRange(r,315+22.5,360)||vn.Util._inRange(r,0,22.5)?"ns-resize":vn.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":vn.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":vn.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":vn.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":vn.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":vn.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":vn.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(vn.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var n2=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],F8=1e8;function WG(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function B8(n,e,t){let r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),i=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return vt(Me({},n),{rotation:n.rotation+e,x:r,y:i})}function KG(n,e){let t=WG(n);return B8(n,e,t)}function YG(n,e,t){let r=e;for(let i=0;i<n.length;i++){let o=es.Konva.getAngle(n[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<t&&(r=o)}return r}var a3=0,Ht=class extends R8.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(zG,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return vn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return j8+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let t=e.filter(i=>i.isAncestorOf(this)?(vn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{let o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){let s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o)}i.on(HG.map(s=>s+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;let i=e.getAbsolutePosition(),o=i.x-t.x,s=i.y-t.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;let l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+o,y:l.y+s}),a.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(L8),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(L8,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){let i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),a=i.x*o.x-e.offsetX()*o.x,l=i.y*o.y-e.offsetY()*o.y,c=(es.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+a*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*o.x,height:i.height*o.y,rotation:c};return B8(d,-es.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-F8,y:-F8,width:0,height:0,rotation:0};let t=[];this.nodes().map(c=>{let d=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],g=c.getAbsoluteTransform();h.forEach(function(f){let y=g.point(f);t.push(y)})});let r=new vn.Transform;r.rotate(-es.Konva.getAngle(this.rotation()));let i=1/0,o=1/0,s=-1/0,a=-1/0;t.forEach(function(c){let d=r.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),r.invert();let l=r.point({x:i,y:o});return{x:l.x,y:l.y,width:s-i,height:a-o,rotation:es.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),n2.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){let t=new UG.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:$G?10:"auto"}),r=this;t.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),t.on("dragstart",i=>{t.stopDrag(),i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),t.on("mouseenter",()=>{let i=es.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=GG(e,i,o);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){let e=new BG.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,r){let i=r.getParent(),o=i.padding();t.beginPath(),t.rect(-o,-o,r.width()+o*2,r.height()+o*2),t.moveTo(r.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&t.lineTo(r.width()/2,-i.rotateAnchorOffset()*vn.Util._sign(r.height())-o),t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(!this.shouldOverdrawWholeArea())return;let i=this.padding();t.beginPath(),t.rect(-i,-i,r.width()+i*2,r.height()+i*2),t.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];let t=this._getNodeRect(),r=t.width,i=t.height,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(r/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;let s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},a3++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let t,r,i,o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);let a=s.getPointerPosition(),l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),o.setAbsolutePosition(l);let d=o.getAbsolutePosition();if(c.x===d.x&&c.y===d.y)return;if(this._movingAnchorName==="rotater"){let E=this._getNodeRect();t=o.x()-E.width/2,r=-o.y()+E.height/2;let T=Math.atan2(-r,t)+Math.PI/2;E.height<0&&(T-=Math.PI);let H=es.Konva.getAngle(this.rotation())+T,Q=es.Konva.getAngle(this.rotationSnapTolerance()),F=YG(this.rotationSnaps(),H,Q)-E.rotation,re=KG(E,F);this._fitNodesInto(re,e);return}let h=this.shiftBehavior(),g;h==="inverted"?g=this.keepRatio()&&!e.shiftKey:h==="none"?g=this.keepRatio():g=this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(g){let E=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(E.x-o.x(),2)+Math.pow(E.y-o.y(),2));let T=this.findOne(".top-left").x()>E.x?-1:1,P=this.findOne(".top-left").y()>E.y?-1:1;t=i*this.cos*T,r=i*this.sin*P,this.findOne(".top-left").x(E.x-t),this.findOne(".top-left").y(E.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(g){let E=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-E.x,2)+Math.pow(E.y-o.y(),2));let T=this.findOne(".top-right").x()<E.x?-1:1,P=this.findOne(".top-right").y()>E.y?-1:1;t=i*this.cos*T,r=i*this.sin*P,this.findOne(".top-right").x(E.x+t),this.findOne(".top-right").y(E.y-r)}var y=o.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(g){let E=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(E.x-o.x(),2)+Math.pow(o.y()-E.y,2));let T=E.x<o.x()?-1:1,P=o.y()<E.y?-1:1;t=i*this.cos*T,r=i*this.sin*P,o.x(E.x-t),o.y(E.y+r)}y=o.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(g){let E=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-E.x,2)+Math.pow(o.y()-E.y,2));let T=this.findOne(".bottom-right").x()<E.x?-1:1,P=this.findOne(".bottom-right").y()<E.y?-1:1;t=i*this.cos*T,r=i*this.sin*P,this.findOne(".bottom-right").x(E.x+t),this.findOne(".bottom-right").y(E.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){let E=this.findOne(".top-left"),T=this.findOne(".bottom-right"),P=E.x(),H=E.y(),Q=this.getWidth()-T.x(),U=this.getHeight()-T.y();T.move({x:-P,y:-H}),E.move({x:Q,y:U})}let _=this.findOne(".top-left").getAbsolutePosition();t=_.x,r=_.y;let C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:C,height:w,rotation:es.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));let r=this.getNode();a3--,this._fire("transformend",{evt:e,target:r}),(t=this.getLayer())===null||t===void 0||t.batchDraw(),r&&this._nodes.forEach(i=>{var o;i._fire("transformend",{evt:e,target:i}),(o=i.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){let r=this._getNodeRect(),i=1;if(vn.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(vn.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}let o=new vn.Transform;if(o.rotate(es.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let g=o.point({x:-this.padding()*2,y:0});e.x+=g.x,e.y+=g.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let g=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let g=o.point({x:0,y:-this.padding()*2});e.x+=g.x,e.y+=g.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let g=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){let g=this.boundBoxFunc()(r,e);g?e=g:vn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let s=1e7,a=new vn.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/s,r.height/s);let l=new vn.Transform,c=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,d));let h=l.multiply(a.invert());this._nodes.forEach(g=>{var f;let y=g.getParent().getAbsoluteTransform(),_=g.getTransform().copy();_.translate(g.offsetX(),g.offsetY());let C=new vn.Transform;C.multiply(y.copy().invert()).multiply(h).multiply(y).multiply(_);let w=C.decompose();g.setAttrs(w),(f=g.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(vn.Util._getRotation(e.rotation)),this._nodes.forEach(g=>{this._fire("transform",{evt:t,target:g}),g._fire("transform",{evt:t,target:g})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;let t=this._getNodeRect();this.rotation(vn.Util._getRotation(t.rotation));let r=t.width,i=t.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*vn.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let d=this.anchorStyleFunc();d&&c.forEach(h=>{d(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();let e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),R8.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return k8.Node.prototype.toObject.call(this)}clone(e){return k8.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};r2.Transformer=Ht;Ht.isTransforming=()=>a3>0;function XG(n){return n instanceof Array||vn.Util.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){n2.indexOf(e)===-1&&vn.Util.warn("Unknown anchor name: "+e+". Available names are: "+n2.join(", "))}),n||[]}Ht.prototype.className="Transformer";(0,VG._registerNode)(Ht);nn.Factory.addGetterSetter(Ht,"enabledAnchors",n2,XG);nn.Factory.addGetterSetter(Ht,"flipEnabled",!0,(0,Hl.getBooleanValidator)());nn.Factory.addGetterSetter(Ht,"resizeEnabled",!0);nn.Factory.addGetterSetter(Ht,"anchorSize",10,(0,Hl.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"rotateEnabled",!0);nn.Factory.addGetterSetter(Ht,"rotateLineVisible",!0);nn.Factory.addGetterSetter(Ht,"rotationSnaps",[]);nn.Factory.addGetterSetter(Ht,"rotateAnchorOffset",50,(0,Hl.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"rotateAnchorCursor","crosshair");nn.Factory.addGetterSetter(Ht,"rotationSnapTolerance",5,(0,Hl.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"borderEnabled",!0);nn.Factory.addGetterSetter(Ht,"anchorStroke","rgb(0, 161, 255)");nn.Factory.addGetterSetter(Ht,"anchorStrokeWidth",1,(0,Hl.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"anchorFill","white");nn.Factory.addGetterSetter(Ht,"anchorCornerRadius",0,(0,Hl.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"borderStroke","rgb(0, 161, 255)");nn.Factory.addGetterSetter(Ht,"borderStrokeWidth",1,(0,Hl.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"borderDash");nn.Factory.addGetterSetter(Ht,"keepRatio",!0);nn.Factory.addGetterSetter(Ht,"shiftBehavior","default");nn.Factory.addGetterSetter(Ht,"centeredScaling",!1);nn.Factory.addGetterSetter(Ht,"ignoreStroke",!1);nn.Factory.addGetterSetter(Ht,"padding",0,(0,Hl.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"nodes");nn.Factory.addGetterSetter(Ht,"node");nn.Factory.addGetterSetter(Ht,"boundBoxFunc");nn.Factory.addGetterSetter(Ht,"anchorDragBoundFunc");nn.Factory.addGetterSetter(Ht,"anchorStyleFunc");nn.Factory.addGetterSetter(Ht,"shouldOverdrawWholeArea",!1);nn.Factory.addGetterSetter(Ht,"useSingleNodeRotation",!0);nn.Factory.backCompat(Ht,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})});var z8=Xe(o2=>{"use strict";Object.defineProperty(o2,"__esModule",{value:!0});o2.Wedge=void 0;var i2=Ut(),ZG=_r(),QG=Ft(),V8=zt(),JG=Ft(),ts=class extends ZG.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,QG.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};o2.Wedge=ts;ts.prototype.className="Wedge";ts.prototype._centroid=!0;ts.prototype._attrsAffectingSize=["radius"];(0,JG._registerNode)(ts);i2.Factory.addGetterSetter(ts,"radius",0,(0,V8.getNumberValidator)());i2.Factory.addGetterSetter(ts,"angle",0,(0,V8.getNumberValidator)());i2.Factory.addGetterSetter(ts,"clockwise",!1);i2.Factory.backCompat(ts,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})});var $8=Xe(s2=>{"use strict";Object.defineProperty(s2,"__esModule",{value:!0});s2.Blur=void 0;var H8=Ut(),eW=$n(),tW=zt();function q8(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var nW=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],rW=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function iW(n,e){let t=n.data,r=n.width,i=n.height,o,s,a,l,c,d,h,g,f,y,_,C,w,E,T,P,H,Q,U,F,re=e+e+1,le=r-1,O=i-1,N=e+1,G=N*(N+1)/2,$=new q8,ge=nW[e],W=rW[e],te=null,V=$,ne=null,fe=null;for(let Te=1;Te<re;Te++)V=V.next=new q8,Te===N&&(te=V);V.next=$,a=s=0;for(let Te=0;Te<i;Te++){C=w=E=T=l=c=d=h=0,g=N*(P=t[s]),f=N*(H=t[s+1]),y=N*(Q=t[s+2]),_=N*(U=t[s+3]),l+=G*P,c+=G*H,d+=G*Q,h+=G*U,V=$;for(let D=0;D<N;D++)V.r=P,V.g=H,V.b=Q,V.a=U,V=V.next;for(let D=1;D<N;D++)o=s+((le<D?le:D)<<2),l+=(V.r=P=t[o])*(F=N-D),c+=(V.g=H=t[o+1])*F,d+=(V.b=Q=t[o+2])*F,h+=(V.a=U=t[o+3])*F,C+=P,w+=H,E+=Q,T+=U,V=V.next;ne=$,fe=te;for(let D=0;D<r;D++)t[s+3]=U=h*ge>>W,U!==0?(U=255/U,t[s]=(l*ge>>W)*U,t[s+1]=(c*ge>>W)*U,t[s+2]=(d*ge>>W)*U):t[s]=t[s+1]=t[s+2]=0,l-=g,c-=f,d-=y,h-=_,g-=ne.r,f-=ne.g,y-=ne.b,_-=ne.a,o=a+((o=D+e+1)<le?o:le)<<2,C+=ne.r=t[o],w+=ne.g=t[o+1],E+=ne.b=t[o+2],T+=ne.a=t[o+3],l+=C,c+=w,d+=E,h+=T,ne=ne.next,g+=P=fe.r,f+=H=fe.g,y+=Q=fe.b,_+=U=fe.a,C-=P,w-=H,E-=Q,T-=U,fe=fe.next,s+=4;a+=r}for(let Te=0;Te<r;Te++){w=E=T=C=c=d=h=l=0,s=Te<<2,g=N*(P=t[s]),f=N*(H=t[s+1]),y=N*(Q=t[s+2]),_=N*(U=t[s+3]),l+=G*P,c+=G*H,d+=G*Q,h+=G*U,V=$;for(let L=0;L<N;L++)V.r=P,V.g=H,V.b=Q,V.a=U,V=V.next;let D=r;for(let L=1;L<=e;L++)s=D+Te<<2,l+=(V.r=P=t[s])*(F=N-L),c+=(V.g=H=t[s+1])*F,d+=(V.b=Q=t[s+2])*F,h+=(V.a=U=t[s+3])*F,C+=P,w+=H,E+=Q,T+=U,V=V.next,L<O&&(D+=r);s=Te,ne=$,fe=te;for(let L=0;L<i;L++)o=s<<2,t[o+3]=U=h*ge>>W,U>0?(U=255/U,t[o]=(l*ge>>W)*U,t[o+1]=(c*ge>>W)*U,t[o+2]=(d*ge>>W)*U):t[o]=t[o+1]=t[o+2]=0,l-=g,c-=f,d-=y,h-=_,g-=ne.r,f-=ne.g,y-=ne.b,_-=ne.a,o=Te+((o=L+N)<O?o:O)*r<<2,l+=C+=ne.r=t[o],c+=w+=ne.g=t[o+1],d+=E+=ne.b=t[o+2],h+=T+=ne.a=t[o+3],ne=ne.next,g+=P=fe.r,f+=H=fe.g,y+=Q=fe.b,_+=U=fe.a,C-=P,w-=H,E-=Q,T-=U,fe=fe.next,s+=r}}var oW=function(e){let t=Math.round(this.blurRadius());t>0&&iW(e,t)};s2.Blur=oW;H8.Factory.addGetterSetter(eW.Node,"blurRadius",0,(0,tW.getNumberValidator)(),H8.Factory.afterSetFilter)});var W8=Xe(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});a2.Brighten=void 0;var G8=Ut(),sW=$n(),aW=zt(),lW=function(n){let e=this.brightness()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=4)t[i]+=e,t[i+1]+=e,t[i+2]+=e};a2.Brighten=lW;G8.Factory.addGetterSetter(sW.Node,"brightness",0,(0,aW.getNumberValidator)(),G8.Factory.afterSetFilter)});var Y8=Xe(l2=>{"use strict";Object.defineProperty(l2,"__esModule",{value:!0});l2.Contrast=void 0;var K8=Ut(),cW=$n(),uW=zt(),dW=function(n){let e=Math.pow((this.contrast()+100)/100,2),t=n.data,r=t.length,i=150,o=150,s=150;for(let a=0;a<r;a+=4)i=t[a],o=t[a+1],s=t[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,t[a]=i,t[a+1]=o,t[a+2]=s};l2.Contrast=dW;K8.Factory.addGetterSetter(cW.Node,"contrast",0,(0,uW.getNumberValidator)(),K8.Factory.afterSetFilter)});var Z8=Xe(u2=>{"use strict";Object.defineProperty(u2,"__esModule",{value:!0});u2.Emboss=void 0;var ql=Ut(),c2=$n(),hW=Fn(),X8=zt(),fW=function(n){let e=this.embossStrength()*10,t=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),o=n.data,s=n.width,a=n.height,l=s*4,c=0,d=0,h=a;switch(r){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:hW.Util.error("Unknown emboss direction: "+r)}do{let g=(h-1)*l,f=c;h+f<1&&(f=0),h+f>a&&(f=0);let y=(h-1+f)*s*4,_=s;do{let C=g+(_-1)*4,w=d;_+w<1&&(w=0),_+w>s&&(w=0);let E=y+(_-1+w)*4,T=o[C]-o[E],P=o[C+1]-o[E+1],H=o[C+2]-o[E+2],Q=T,U=Q>0?Q:-Q,F=P>0?P:-P,re=H>0?H:-H;if(F>U&&(Q=P),re>U&&(Q=H),Q*=e,i){let le=o[C]+Q,O=o[C+1]+Q,N=o[C+2]+Q;o[C]=le>255?255:le<0?0:le,o[C+1]=O>255?255:O<0?0:O,o[C+2]=N>255?255:N<0?0:N}else{let le=t-Q;le<0?le=0:le>255&&(le=255),o[C]=o[C+1]=o[C+2]=le}}while(--_)}while(--h)};u2.Emboss=fW;ql.Factory.addGetterSetter(c2.Node,"embossStrength",.5,(0,X8.getNumberValidator)(),ql.Factory.afterSetFilter);ql.Factory.addGetterSetter(c2.Node,"embossWhiteLevel",.5,(0,X8.getNumberValidator)(),ql.Factory.afterSetFilter);ql.Factory.addGetterSetter(c2.Node,"embossDirection","top-left",void 0,ql.Factory.afterSetFilter);ql.Factory.addGetterSetter(c2.Node,"embossBlend",!1,void 0,ql.Factory.afterSetFilter)});var J8=Xe(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});d2.Enhance=void 0;var Q8=Ut(),pW=$n(),gW=zt();function l3(n,e,t,r,i){let o=t-e,s=i-r;if(o===0)return r+s/2;if(s===0)return r;let a=(n-e)/o;return a=s*a+r,a}var mW=function(n){let e=n.data,t=e.length,r=e[0],i=r,o,s=e[1],a=s,l,c=e[2],d=c,h,g=this.enhance();if(g===0)return;for(let T=0;T<t;T+=4)o=e[T+0],o<r?r=o:o>i&&(i=o),l=e[T+1],l<s?s=l:l>a&&(a=l),h=e[T+2],h<c?c=h:h>d&&(d=h);i===r&&(i=255,r=0),a===s&&(a=255,s=0),d===c&&(d=255,c=0);let f,y,_,C,w,E;if(g>0)f=i+g*(255-i),y=r-g*(r-0),_=a+g*(255-a),C=s-g*(s-0),w=d+g*(255-d),E=c-g*(c-0);else{let T=(i+r)*.5;f=i+g*(i-T),y=r+g*(r-T);let P=(a+s)*.5;_=a+g*(a-P),C=s+g*(s-P);let H=(d+c)*.5;w=d+g*(d-H),E=c+g*(c-H)}for(let T=0;T<t;T+=4)e[T+0]=l3(e[T+0],r,i,y,f),e[T+1]=l3(e[T+1],s,a,C,_),e[T+2]=l3(e[T+2],c,d,E,w)};d2.Enhance=mW;Q8.Factory.addGetterSetter(pW.Node,"enhance",0,(0,gW.getNumberValidator)(),Q8.Factory.afterSetFilter)});var eN=Xe(h2=>{"use strict";Object.defineProperty(h2,"__esModule",{value:!0});h2.Grayscale=void 0;var vW=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};h2.Grayscale=vW});var tN=Xe(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});f2.HSL=void 0;var yh=Ut(),c3=$n(),u3=zt();yh.Factory.addGetterSetter(c3.Node,"hue",0,(0,u3.getNumberValidator)(),yh.Factory.afterSetFilter);yh.Factory.addGetterSetter(c3.Node,"saturation",0,(0,u3.getNumberValidator)(),yh.Factory.afterSetFilter);yh.Factory.addGetterSetter(c3.Node,"luminance",0,(0,u3.getNumberValidator)(),yh.Factory.afterSetFilter);var yW=function(n){let e=n.data,t=e.length,r=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a=r*i*Math.cos(o*Math.PI/180),l=r*i*Math.sin(o*Math.PI/180),c=.299*r+.701*a+.167*l,d=.587*r-.587*a+.33*l,h=.114*r-.114*a-.497*l,g=.299*r-.299*a-.328*l,f=.587*r+.413*a+.035*l,y=.114*r-.114*a+.293*l,_=.299*r-.3*a+1.25*l,C=.587*r-.586*a-1.05*l,w=.114*r+.886*a-.2*l,E,T,P,H;for(let Q=0;Q<t;Q+=4)E=e[Q+0],T=e[Q+1],P=e[Q+2],H=e[Q+3],e[Q+0]=c*E+d*T+h*P+s,e[Q+1]=g*E+f*T+y*P+s,e[Q+2]=_*E+C*T+w*P+s,e[Q+3]=H};f2.HSL=yW});var nN=Xe(p2=>{"use strict";Object.defineProperty(p2,"__esModule",{value:!0});p2.HSV=void 0;var _h=Ut(),d3=$n(),h3=zt(),_W=function(n){let e=n.data,t=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=r*i*Math.cos(o*Math.PI/180),a=r*i*Math.sin(o*Math.PI/180),l=.299*r+.701*s+.167*a,c=.587*r-.587*s+.33*a,d=.114*r-.114*s-.497*a,h=.299*r-.299*s-.328*a,g=.587*r+.413*s+.035*a,f=.114*r-.114*s+.293*a,y=.299*r-.3*s+1.25*a,_=.587*r-.586*s-1.05*a,C=.114*r+.886*s-.2*a;for(let w=0;w<t;w+=4){let E=e[w+0],T=e[w+1],P=e[w+2],H=e[w+3];e[w+0]=l*E+c*T+d*P,e[w+1]=h*E+g*T+f*P,e[w+2]=y*E+_*T+C*P,e[w+3]=H}};p2.HSV=_W;_h.Factory.addGetterSetter(d3.Node,"hue",0,(0,h3.getNumberValidator)(),_h.Factory.afterSetFilter);_h.Factory.addGetterSetter(d3.Node,"saturation",0,(0,h3.getNumberValidator)(),_h.Factory.afterSetFilter);_h.Factory.addGetterSetter(d3.Node,"value",0,(0,h3.getNumberValidator)(),_h.Factory.afterSetFilter)});var rN=Xe(g2=>{"use strict";Object.defineProperty(g2,"__esModule",{value:!0});g2.Invert=void 0;var bW=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};g2.Invert=bW});var aN=Xe(v2=>{"use strict";Object.defineProperty(v2,"__esModule",{value:!0});v2.Kaleidoscope=void 0;var m2=Ut(),oN=$n(),iN=Fn(),sN=zt(),wW=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,h=s-l,g=Math.sqrt(d*d+h*h);c=g>c?g:c;let f=s,y=o,_=360/y*Math.PI/180;for(let C=0;C<y;C+=1){let w=Math.sin(C*_),E=Math.cos(C*_);for(let T=0;T<f;T+=1){d=Math.floor(a+c*T/f*E),h=Math.floor(l+c*T/f*w);let P=(h*o+d)*4,H=r[P+0],Q=r[P+1],U=r[P+2],F=r[P+3];P=(C+T*o)*4,i[P+0]=H,i[P+1]=Q,i[P+2]=U,i[P+3]=F}}},CW=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,h=s-l,g=Math.sqrt(d*d+h*h);c=g>c?g:c;let f=s,y=o,_=t.polarRotation||0,C,w;for(d=0;d<o;d+=1)for(h=0;h<s;h+=1){let E=d-a,T=h-l,P=Math.sqrt(E*E+T*T)*f/c,H=(Math.atan2(T,E)*180/Math.PI+360+_)%360;H=H*y/360,C=Math.floor(H),w=Math.floor(P);let Q=(w*o+C)*4,U=r[Q+0],F=r[Q+1],re=r[Q+2],le=r[Q+3];Q=(h*o+d)*4,i[Q+0]=U,i[Q+1]=F,i[Q+2]=re,i[Q+3]=le}},EW=function(n){let e=n.width,t=n.height,r,i,o,s,a,l,c,d,h,g,f=Math.round(this.kaleidoscopePower()),y=Math.round(this.kaleidoscopeAngle()),_=Math.floor(e*(y%360)/360);if(f<1)return;let C=iN.Util.createCanvasElement();C.width=e,C.height=t;let w=C.getContext("2d").getImageData(0,0,e,t);iN.Util.releaseCanvas(C),wW(n,w,{polarCenterX:e/2,polarCenterY:t/2});let E=e/Math.pow(2,f);for(;E<=8;)E=E*2,f-=1;E=Math.ceil(E);let T=E,P=0,H=T,Q=1;for(_+E>e&&(P=T,H=0,Q=-1),i=0;i<t;i+=1)for(r=P;r!==H;r+=Q)o=Math.round(r+_)%e,h=(e*i+o)*4,a=w.data[h+0],l=w.data[h+1],c=w.data[h+2],d=w.data[h+3],g=(e*i+r)*4,w.data[g+0]=a,w.data[g+1]=l,w.data[g+2]=c,w.data[g+3]=d;for(i=0;i<t;i+=1)for(T=Math.floor(E),s=0;s<f;s+=1){for(r=0;r<T+1;r+=1)h=(e*i+r)*4,a=w.data[h+0],l=w.data[h+1],c=w.data[h+2],d=w.data[h+3],g=(e*i+T*2-r-1)*4,w.data[g+0]=a,w.data[g+1]=l,w.data[g+2]=c,w.data[g+3]=d;T*=2}CW(w,n,{polarRotation:0})};v2.Kaleidoscope=EW;m2.Factory.addGetterSetter(oN.Node,"kaleidoscopePower",2,(0,sN.getNumberValidator)(),m2.Factory.afterSetFilter);m2.Factory.addGetterSetter(oN.Node,"kaleidoscopeAngle",0,(0,sN.getNumberValidator)(),m2.Factory.afterSetFilter)});var cN=Xe(_2=>{"use strict";Object.defineProperty(_2,"__esModule",{value:!0});_2.Mask=void 0;var lN=Ut(),SW=$n(),xW=zt();function y2(n,e,t){let r=(t*n.width+e)*4,i=[];return i.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),i}function pg(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}function DW(n){let e=[0,0,0];for(let t=0;t<n.length;t++)e[0]+=n[t][0],e[1]+=n[t][1],e[2]+=n[t][2];return e[0]/=n.length,e[1]/=n.length,e[2]/=n.length,e}function MW(n,e){let t=y2(n,0,0),r=y2(n,n.width-1,0),i=y2(n,0,n.height-1),o=y2(n,n.width-1,n.height-1),s=e||10;if(pg(t,r)<s&&pg(r,o)<s&&pg(o,i)<s&&pg(i,t)<s){let a=DW([r,t,o,i]),l=[];for(let c=0;c<n.width*n.height;c++){let d=pg(a,[n.data[c*4],n.data[c*4+1],n.data[c*4+2]]);l[c]=d<s?0:255}return l}}function AW(n,e){for(let t=0;t<n.width*n.height;t++)n.data[4*t+3]=e[t]}function IW(n,e,t){let r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let g=0;g<i;g++){let f=a+h-o,y=l+g-o;if(f>=0&&f<t&&y>=0&&y<e){let _=f*e+y,C=r[h*i+g];d+=n[_]*C}}s[c]=d===255*8?255:0}return s}function TW(n,e,t){let r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let g=0;g<i;g++){let f=a+h-o,y=l+g-o;if(f>=0&&f<t&&y>=0&&y<e){let _=f*e+y,C=r[h*i+g];d+=n[_]*C}}s[c]=d>=255*4?255:0}return s}function PW(n,e,t){let r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let g=0;g<i;g++){let f=a+h-o,y=l+g-o;if(f>=0&&f<t&&y>=0&&y<e){let _=f*e+y,C=r[h*i+g];d+=n[_]*C}}s[c]=d}return s}var NW=function(n){let e=this.threshold(),t=MW(n,e);return t&&(t=IW(t,n.width,n.height),t=TW(t,n.width,n.height),t=PW(t,n.width,n.height),AW(n,t)),n};_2.Mask=NW;lN.Factory.addGetterSetter(SW.Node,"threshold",0,(0,xW.getNumberValidator)(),lN.Factory.afterSetFilter)});var dN=Xe(b2=>{"use strict";Object.defineProperty(b2,"__esModule",{value:!0});b2.Noise=void 0;var uN=Ut(),OW=$n(),kW=zt(),RW=function(n){let e=this.noise()*255,t=n.data,r=t.length,i=e/2;for(let o=0;o<r;o+=4)t[o+0]+=i-2*i*Math.random(),t[o+1]+=i-2*i*Math.random(),t[o+2]+=i-2*i*Math.random()};b2.Noise=RW;uN.Factory.addGetterSetter(OW.Node,"noise",.2,(0,kW.getNumberValidator)(),uN.Factory.afterSetFilter)});var fN=Xe(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});w2.Pixelate=void 0;var hN=Ut(),LW=Fn(),FW=$n(),jW=zt(),BW=function(n){let e=Math.ceil(this.pixelSize()),t=n.width,r=n.height,i=Math.ceil(t/e),o=Math.ceil(r/e),s=n.data;if(e<=0){LW.Util.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<o;l+=1){let c=0,d=0,h=0,g=0,f=a*e,y=f+e,_=l*e,C=_+e,w=0;for(let E=f;E<y;E+=1)if(!(E>=t))for(let T=_;T<C;T+=1){if(T>=r)continue;let P=(t*T+E)*4;c+=s[P+0],d+=s[P+1],h+=s[P+2],g+=s[P+3],w+=1}c=c/w,d=d/w,h=h/w,g=g/w;for(let E=f;E<y;E+=1)if(!(E>=t))for(let T=_;T<C;T+=1){if(T>=r)continue;let P=(t*T+E)*4;s[P+0]=c,s[P+1]=d,s[P+2]=h,s[P+3]=g}}};w2.Pixelate=BW;hN.Factory.addGetterSetter(FW.Node,"pixelSize",8,(0,jW.getNumberValidator)(),hN.Factory.afterSetFilter)});var gN=Xe(C2=>{"use strict";Object.defineProperty(C2,"__esModule",{value:!0});C2.Posterize=void 0;var pN=Ut(),UW=$n(),VW=zt(),zW=function(n){let e=Math.round(this.levels()*254)+1,t=n.data,r=t.length,i=255/e;for(let o=0;o<r;o+=1)t[o]=Math.floor(t[o]/i)*i};C2.Posterize=zW;pN.Factory.addGetterSetter(UW.Node,"levels",.5,(0,VW.getNumberValidator)(),pN.Factory.afterSetFilter)});var mN=Xe(S2=>{"use strict";Object.defineProperty(S2,"__esModule",{value:!0});S2.RGB=void 0;var E2=Ut(),f3=$n(),HW=zt(),qW=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue();for(let s=0;s<t;s+=4){let a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=a*r,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]}};S2.RGB=qW;E2.Factory.addGetterSetter(f3.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E2.Factory.addGetterSetter(f3.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E2.Factory.addGetterSetter(f3.Node,"blue",0,HW.RGBComponent,E2.Factory.afterSetFilter)});var vN=Xe(D2=>{"use strict";Object.defineProperty(D2,"__esModule",{value:!0});D2.RGBA=void 0;var gg=Ut(),x2=$n(),$W=zt(),GW=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue(),s=this.alpha();for(let a=0;a<t;a+=4){let l=1-s;e[a]=r*s+e[a]*l,e[a+1]=i*s+e[a+1]*l,e[a+2]=o*s+e[a+2]*l}};D2.RGBA=GW;gg.Factory.addGetterSetter(x2.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});gg.Factory.addGetterSetter(x2.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});gg.Factory.addGetterSetter(x2.Node,"blue",0,$W.RGBComponent,gg.Factory.afterSetFilter);gg.Factory.addGetterSetter(x2.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n})});var yN=Xe(M2=>{"use strict";Object.defineProperty(M2,"__esModule",{value:!0});M2.Sepia=void 0;var WW=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=e[r+0],o=e[r+1],s=e[r+2];e[r+0]=Math.min(255,i*.393+o*.769+s*.189),e[r+1]=Math.min(255,i*.349+o*.686+s*.168),e[r+2]=Math.min(255,i*.272+o*.534+s*.131)}};M2.Sepia=WW});var _N=Xe(A2=>{"use strict";Object.defineProperty(A2,"__esModule",{value:!0});A2.Solarize=void 0;var KW=function(n){let e=n.data,t=n.width,r=n.height,i=t*4,o=r;do{let s=(o-1)*i,a=t;do{let l=s+(a-1)*4,c=e[l],d=e[l+1],h=e[l+2];c>127&&(c=255-c),d>127&&(d=255-d),h>127&&(h=255-h),e[l]=c,e[l+1]=d,e[l+2]=h}while(--a)}while(--o)};A2.Solarize=KW});var wN=Xe(I2=>{"use strict";Object.defineProperty(I2,"__esModule",{value:!0});I2.Threshold=void 0;var bN=Ut(),YW=$n(),XW=zt(),ZW=function(n){let e=this.threshold()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=1)t[i]=t[i]<e?0:255};I2.Threshold=ZW;bN.Factory.addGetterSetter(YW.Node,"threshold",.5,(0,XW.getNumberValidator)(),bN.Factory.afterSetFilter)});var SN=Xe(T2=>{"use strict";Object.defineProperty(T2,"__esModule",{value:!0});T2.Konva=void 0;var CN=YP(),QW=ZP(),JW=r8(),eK=i8(),tK=s8(),nK=a8(),EN=u8(),rK=zS(),iK=Vy(),oK=ZS(),sK=f8(),aK=v8(),lK=_8(),cK=b8(),uK=i3(),dK=O8(),hK=U8(),fK=z8(),pK=$8(),gK=W8(),mK=Y8(),vK=Z8(),yK=J8(),_K=eN(),bK=tN(),wK=nN(),CK=rN(),EK=aN(),SK=cN(),xK=dN(),DK=fN(),MK=gN(),AK=mN(),IK=vN(),TK=yN(),PK=_N(),NK=wN();T2.Konva=CN.Konva.Util._assign(CN.Konva,{Arc:QW.Arc,Arrow:JW.Arrow,Circle:eK.Circle,Ellipse:tK.Ellipse,Image:nK.Image,Label:EN.Label,Tag:EN.Tag,Line:rK.Line,Path:iK.Path,Rect:oK.Rect,RegularPolygon:sK.RegularPolygon,Ring:aK.Ring,Sprite:lK.Sprite,Star:cK.Star,Text:uK.Text,TextPath:dK.TextPath,Transformer:hK.Transformer,Wedge:fK.Wedge,Filters:{Blur:pK.Blur,Brighten:gK.Brighten,Contrast:mK.Contrast,Emboss:vK.Emboss,Enhance:yK.Enhance,Grayscale:_K.Grayscale,HSL:bK.HSL,HSV:wK.HSV,Invert:CK.Invert,Kaleidoscope:EK.Kaleidoscope,Mask:SK.Mask,Noise:xK.Noise,Pixelate:DK.Pixelate,Posterize:MK.Posterize,RGB:AK.RGB,RGBA:IK.RGBA,Sepia:TK.Sepia,Solarize:PK.Solarize,Threshold:NK.Threshold}})});var MN=Xe((xN,DN)=>{"use strict";Object.defineProperty(xN,"__esModule",{value:!0});var OK=SN();DN.exports=OK.Konva});var B3=Xe(j3=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});var F3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};j3.default=F3});var V3=Xe(Sg=>{"use strict";var _O=Sg&&Sg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sg,"__esModule",{value:!0});var HY=_O((Fx(),v7(y7))),qY=_O(B3()),U3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=HY.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>se(this,null,function*(){var s,a,l;let c=null,d=null,h=null,g=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let w=yield o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(d=[],c=null,g=200,f="OK")}catch{o.status===404&&_===""?(g=204,f="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,g=200,f="OK"),c&&this.shouldThrowOnError)throw new qY.default(c)}return{error:c,data:d,count:h,status:g,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};Sg.default=U3});var H3=Xe(xg=>{"use strict";var $Y=xg&&xg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xg,"__esModule",{value:!0});var GY=$Y(V3()),z3=class extends GY.default{select(e){let t=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xg.default=z3});var Y2=Xe(Dg=>{"use strict";var WY=Dg&&Dg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Dg,"__esModule",{value:!0});var KY=WY(H3()),q3=class extends KY.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Dg.default=q3});var G3=Xe(Ag=>{"use strict";var YY=Ag&&Ag.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ag,"__esModule",{value:!0});var Mg=YY(Y2()),$3=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Mg.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Mg.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){let c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Mg.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Mg.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Mg.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ag.default=$3});var bO=Xe(X2=>{"use strict";Object.defineProperty(X2,"__esModule",{value:!0});X2.version=void 0;X2.version="0.0.0-automated"});var wO=Xe(Z2=>{"use strict";Object.defineProperty(Z2,"__esModule",{value:!0});Z2.DEFAULT_HEADERS=void 0;var XY=bO();Z2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${XY.version}`}});var EO=Xe(Ig=>{"use strict";var CO=Ig&&Ig.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ig,"__esModule",{value:!0});var ZY=CO(G3()),QY=CO(Y2()),JY=wO(),W3=class n{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},JY.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new ZY.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${e}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new QY.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ig.default=W3});var TO=Xe(jr=>{"use strict";var Ih=jr&&jr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jr,"__esModule",{value:!0});jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;var SO=Ih(EO());jr.PostgrestClient=SO.default;var xO=Ih(G3());jr.PostgrestQueryBuilder=xO.default;var DO=Ih(Y2());jr.PostgrestFilterBuilder=DO.default;var MO=Ih(H3());jr.PostgrestTransformBuilder=MO.default;var AO=Ih(V3());jr.PostgrestBuilder=AO.default;var IO=Ih(B3());jr.PostgrestError=IO.default;jr.default={PostgrestClient:SO.default,PostgrestQueryBuilder:xO.default,PostgrestFilterBuilder:DO.default,PostgrestTransformBuilder:MO.default,PostgrestBuilder:AO.default,PostgrestError:IO.default}});var bb;function km(){return bb}function vs(n){let e=bb;return bb=n,e}var jx=Symbol("NotFound");function Yu(n){return n===jx||n?.name==="\u0275NotFound"}function Bm(n,e){return Object.is(n,e)}var mr=null,Rm=!1,wb=1,_7=null,zr=Symbol("SIGNAL");function Ot(n){let e=mr;return mr=n,e}function Um(){return mr}var uc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xu(n){if(Rm)throw new Error("");if(mr===null)return;mr.consumerOnSignalRead(n);let e=mr.nextProducerIndex++;if(qm(mr),e<mr.producerNode.length&&mr.producerNode[e]!==n&&_f(mr)){let t=mr.producerNode[e];Hm(t,mr.producerIndexOfThis[e])}mr.producerNode[e]!==n&&(mr.producerNode[e]=n,mr.producerIndexOfThis[e]=_f(mr)?Ux(n,mr,e):0),mr.producerLastReadVersion[e]=n.version}function Bx(){wb++}function Vm(n){if(!(_f(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===wb)){if(!n.producerMustRecompute(n)&&!bf(n)){jm(n);return}n.producerRecomputeValue(n),jm(n)}}function Cb(n){if(n.liveConsumerNode===void 0)return;let e=Rm;Rm=!0;try{for(let t of n.liveConsumerNode)t.dirty||b7(t)}finally{Rm=e}}function Eb(){return mr?.consumerAllowSignalWrites!==!1}function b7(n){n.dirty=!0,Cb(n),n.consumerMarkedDirty?.(n)}function jm(n){n.dirty=!1,n.lastCleanEpoch=wb}function dc(n){return n&&(n.nextProducerIndex=0),Ot(n)}function Zu(n,e){if(Ot(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_f(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Hm(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function bf(n){qm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Vm(t),r!==t.version))return!0}return!1}function zm(n){if(qm(n),_f(n))for(let e=0;e<n.producerNode.length;e++)Hm(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ux(n,e,t){if(Vx(n),n.liveConsumerNode.length===0&&zx(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Ux(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Hm(n,e){if(Vx(n),n.liveConsumerNode.length===1&&zx(n))for(let r=0;r<n.producerNode.length;r++)Hm(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];qm(i),i.producerIndexOfThis[r]=e}}function _f(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function qm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Vx(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function zx(n){return n.producerNode!==void 0}function $m(n){_7?.(n)}function Gm(n,e){let t=Object.create(w7);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Vm(t),Xu(t),t.value===yf)throw t.error;return t.value};return r[zr]=t,$m(t),r}var Lm=Symbol("UNSET"),Fm=Symbol("COMPUTING"),yf=Symbol("ERRORED"),w7=vt(Me({},uc),{value:Lm,dirty:!0,error:null,equal:Bm,kind:"computed",producerMustRecompute(n){return n.value===Lm||n.value===Fm},producerRecomputeValue(n){if(n.value===Fm)throw new Error("");let e=n.value;n.value=Fm;let t=dc(n),r,i=!1;try{r=n.computation(),Ot(null),i=e!==Lm&&e!==yf&&r!==yf&&n.equal(e,r)}catch(o){r=yf,n.error=o}finally{Zu(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function C7(){throw new Error}var Hx=C7;function qx(n){Hx(n)}function Sb(n){Hx=n}var E7=null;function xb(n,e){let t=Object.create(Wm);t.value=n,e!==void 0&&(t.equal=e);let r=()=>$x(t);return r[zr]=t,$m(t),[r,s=>Qu(t,s),s=>Db(t,s)]}function $x(n){return Xu(n),n.value}function Qu(n,e){Eb()||qx(n),n.equal(n.value,e)||(n.value=e,S7(n))}function Db(n,e){Eb()||qx(n),Qu(n,e(n.value))}var Wm=vt(Me({},uc),{equal:Bm,value:void 0,kind:"signal"});function S7(n){n.version++,Bx(),Cb(n),E7?.(n)}function At(n){return typeof n=="function"}function Ju(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Km=Ju(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function hc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var zn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(At(r))try{r()}catch(o){e=o instanceof Km?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Gx(o)}catch(s){e=e??[],s instanceof Km?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Km(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gx(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&hc(t,e)}remove(e){let{_finalizers:t}=this;t&&hc(t,e),e instanceof n&&e._removeParent(this)}};zn.EMPTY=(()=>{let n=new zn;return n.closed=!0,n})();var Mb=zn.EMPTY;function Ym(n){return n instanceof zn||n&&"closed"in n&&At(n.remove)&&At(n.add)&&At(n.unsubscribe)}function Gx(n){At(n)?n():n.unsubscribe()}var No={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ed={setTimeout(n,e,...t){let{delegate:r}=ed;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ed;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Xm(n){ed.setTimeout(()=>{let{onUnhandledError:e}=No;if(e)e(n);else throw n})}function wf(){}var Wx=Ab("C",void 0,void 0);function Kx(n){return Ab("E",void 0,n)}function Yx(n){return Ab("N",n,void 0)}function Ab(n,e,t){return{kind:n,value:e,error:t}}var fc=null;function td(n){if(No.useDeprecatedSynchronousErrorHandling){let e=!fc;if(e&&(fc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=fc;if(fc=null,t)throw r}}else n()}function Xx(n){No.useDeprecatedSynchronousErrorHandling&&fc&&(fc.errorThrown=!0,fc.error=n)}var pc=class extends zn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ym(e)&&e.add(this)):this.destination=M7}static create(e,t,r){return new nd(e,t,r)}next(e){this.isStopped?Tb(Yx(e),this):this._next(e)}error(e){this.isStopped?Tb(Kx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tb(Wx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},x7=Function.prototype.bind;function Ib(n,e){return x7.call(n,e)}var Pb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Zm(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Zm(r)}else Zm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Zm(t)}}},nd=class extends pc{constructor(e,t,r){super();let i;if(At(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&No.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ib(e.next,o),error:e.error&&Ib(e.error,o),complete:e.complete&&Ib(e.complete,o)}):i=e}this.destination=new Pb(i)}};function Zm(n){No.useDeprecatedSynchronousErrorHandling?Xx(n):Xm(n)}function D7(n){throw n}function Tb(n,e){let{onStoppedNotification:t}=No;t&&ed.setTimeout(()=>t(n,e))}var M7={closed:!0,next:wf,error:D7,complete:wf};var rd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Oi(n){return n}function Nb(...n){return Ob(n)}function Ob(n){return n.length===0?Oi:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=I7(t)?t:new nd(t,r,i);return td(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Zx(r),new r((i,o)=>{let s=new nd({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[rd](){return this}pipe(...t){return Ob(t)(this)}toPromise(t){return t=Zx(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Zx(n){var e;return(e=n??No.Promise)!==null&&e!==void 0?e:Promise}function A7(n){return n&&At(n.next)&&At(n.error)&&At(n.complete)}function I7(n){return n&&n instanceof pc||A7(n)&&Ym(n)}function kb(n){return At(n?.lift)}function Yt(n){return e=>{if(kb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $t(n,e,t,r,i){return new Rb(n,e,t,r,i)}var Rb=class extends pc{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function id(){return Yt((n,e)=>{let t=null;n._refCount++;let r=$t(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var od=class extends Lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,kb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zn;let t=this.getSubject();e.add(this.source.subscribe($t(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zn.EMPTY)}return e}refCount(){return id()(this)}};var Qx=Ju(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xn=(()=>{class n extends Lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Qm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Qx}next(t){td(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){td(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){td(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mb:(this.currentObservers=null,o.push(t),new zn(()=>{this.currentObservers=null,hc(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Lt;return t.source=this,t}}return n.create=(e,t)=>new Qm(e,t),n})(),Qm=class extends Xn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Mb}};var Sn=class extends Xn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Lb={now(){return(Lb.delegate||Date).now()},delegate:void 0};var Jm=class extends zn{constructor(e,t){super()}schedule(e,t=0){return this}};var Cf={setInterval(n,e,...t){let{delegate:r}=Cf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Cf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var e0=class extends Jm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Cf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Cf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,hc(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var sd=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};sd.now=Lb.now;var t0=class extends sd{constructor(e,t=sd.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Fb=new t0(e0),Jx=Fb;var gi=new Lt(n=>n.complete());function n0(n){return n&&At(n.schedule)}function e4(n){return n[n.length-1]}function r0(n){return At(e4(n))?n.pop():void 0}function ul(n){return n0(e4(n))?n.pop():void 0}function n4(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function t4(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gc(n){return this instanceof gc?(this.v=n,this):new gc(n)}function r4(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(y){return Promise.resolve(y).then(f,h)}}function a(f,y){r[f]&&(i[f]=function(_){return new Promise(function(C,w){o.push([f,_,C,w])>1||l(f,_)})},y&&(i[f]=y(i[f])))}function l(f,y){try{c(r[f](y))}catch(_){g(o[0][3],_)}}function c(f){f.value instanceof gc?Promise.resolve(f.value.v).then(d,h):g(o[0][2],f)}function d(f){l("next",f)}function h(f){l("throw",f)}function g(f,y){f(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function i4(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof t4=="function"?t4(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var i0=n=>n&&typeof n.length=="number"&&typeof n!="function";function o0(n){return At(n?.then)}function s0(n){return At(n[rd])}function a0(n){return Symbol.asyncIterator&&At(n?.[Symbol.asyncIterator])}function l0(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function T7(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var c0=T7();function u0(n){return At(n?.[c0])}function d0(n){return r4(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield gc(t.read());if(i)return yield gc(void 0);yield yield gc(r)}}finally{t.releaseLock()}})}function h0(n){return At(n?.getReader)}function ar(n){if(n instanceof Lt)return n;if(n!=null){if(s0(n))return P7(n);if(i0(n))return N7(n);if(o0(n))return O7(n);if(a0(n))return o4(n);if(u0(n))return k7(n);if(h0(n))return R7(n)}throw l0(n)}function P7(n){return new Lt(e=>{let t=n[rd]();if(At(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function N7(n){return new Lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function O7(n){return new Lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Xm)})}function k7(n){return new Lt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function o4(n){return new Lt(e=>{L7(n,e).catch(t=>e.error(t))})}function R7(n){return o4(d0(n))}function L7(n,e){var t,r,i,o;return n4(this,void 0,void 0,function*(){try{for(t=i4(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function mi(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function f0(n,e=0){return Yt((t,r)=>{t.subscribe($t(r,i=>mi(r,n,()=>r.next(i),e),()=>mi(r,n,()=>r.complete(),e),i=>mi(r,n,()=>r.error(i),e)))})}function p0(n,e=0){return Yt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function s4(n,e){return ar(n).pipe(p0(e),f0(e))}function a4(n,e){return ar(n).pipe(p0(e),f0(e))}function l4(n,e){return new Lt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function c4(n,e){return new Lt(t=>{let r;return mi(t,e,()=>{r=n[c0](),mi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>At(r?.return)&&r.return()})}function g0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Lt(t=>{mi(t,e,()=>{let r=n[Symbol.asyncIterator]();mi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function u4(n,e){return g0(d0(n),e)}function d4(n,e){if(n!=null){if(s0(n))return s4(n,e);if(i0(n))return l4(n,e);if(o0(n))return a4(n,e);if(a0(n))return g0(n,e);if(u0(n))return c4(n,e);if(h0(n))return u4(n,e)}throw l0(n)}function kn(n,e){return e?d4(n,e):ar(n)}function ht(...n){let e=ul(n);return kn(n,e)}function ad(n,e){let t=At(n)?n:()=>n,r=i=>i.error(t());return new Lt(e?i=>e.schedule(r,0,i):r)}function jb(n){return!!n&&(n instanceof Lt||At(n.lift)&&At(n.subscribe))}var ua=Ju(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function h4(n){return n instanceof Date&&!isNaN(n)}function ft(n,e){return Yt((t,r)=>{let i=0;t.subscribe($t(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:F7}=Array;function j7(n,e){return F7(e)?n(...e):n(e)}function m0(n){return ft(e=>j7(n,e))}var{isArray:B7}=Array,{getPrototypeOf:U7,prototype:V7,keys:z7}=Object;function v0(n){if(n.length===1){let e=n[0];if(B7(e))return{args:e,keys:null};if(H7(e)){let t=z7(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function H7(n){return n&&typeof n=="object"&&U7(n)===V7}function y0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function _0(...n){let e=ul(n),t=r0(n),{args:r,keys:i}=v0(n);if(r.length===0)return kn([],e);let o=new Lt(q7(r,e,i?s=>y0(i,s):Oi));return t?o.pipe(m0(t)):o}function q7(n,e,t=Oi){return r=>{f4(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)f4(e,()=>{let c=kn(n[l],e),d=!1;c.subscribe($t(r,h=>{o[l]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function f4(n,e,t){n?mi(t,n,e):e()}function p4(n,e,t,r,i,o,s,a){let l=[],c=0,d=0,h=!1,g=()=>{h&&!l.length&&!c&&e.complete()},f=_=>c<r?y(_):l.push(_),y=_=>{o&&e.next(_),c++;let C=!1;ar(t(_,d++)).subscribe($t(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let w=l.shift();s?mi(e,s,()=>y(w)):y(w)}g()}catch(w){e.error(w)}}))};return n.subscribe($t(e,f,()=>{h=!0,g()})),()=>{a?.()}}function lr(n,e,t=1/0){return At(e)?lr((r,i)=>ft((o,s)=>e(r,o,i,s))(ar(n(r,i))),t):(typeof e=="number"&&(t=e),Yt((r,i)=>p4(r,i,n,t)))}function ld(n=1/0){return lr(Oi,n)}function g4(){return ld(1)}function cd(...n){return g4()(kn(n,ul(n)))}function Ef(n){return new Lt(e=>{ar(n()).subscribe(e)})}function Bb(...n){let e=r0(n),{args:t,keys:r}=v0(n),i=new Lt(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let h=!1;ar(t[d]).subscribe($t(o,g=>{h||(h=!0,c--),a[d]=g},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(r?y0(r,a):a),o.complete())}))}});return e?i.pipe(m0(e)):i}function m4(n=0,e,t=Jx){let r=-1;return e!=null&&(n0(e)?t=e:r=e),new Lt(i=>{let o=h4(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ub(n=0,e=Fb){return n<0&&(n=0),m4(n,n,e)}function ti(n,e){return Yt((t,r)=>{let i=0;t.subscribe($t(r,o=>n.call(e,o,i++)&&r.next(o)))})}function da(n){return Yt((e,t)=>{let r=null,i=!1,o;r=e.subscribe($t(t,void 0,void 0,s=>{o=ar(n(s,da(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function v4(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe($t(s,d=>{let h=c++;l=a?n(l,d,h):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ha(n,e){return At(e)?lr(n,e,1):lr(n,1)}function dl(n){return Yt((e,t)=>{let r=!1;e.subscribe($t(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fa(n){return n<=0?()=>gi:Yt((e,t)=>{let r=0;e.subscribe($t(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function b0(n=$7){return Yt((e,t)=>{let r=!1;e.subscribe($t(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function $7(){return new ua}function mc(n){return Yt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function pa(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ti((i,o)=>n(i,o,r)):Oi,fa(1),t?dl(e):b0(()=>new ua))}function ud(n){return n<=0?()=>gi:Yt((e,t)=>{let r=[];e.subscribe($t(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Vb(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ti((i,o)=>n(i,o,r)):Oi,ud(1),t?dl(e):b0(()=>new ua))}function zb(n,e){return Yt(v4(n,e,arguments.length>=2,!0))}function Hb(...n){let e=ul(n);return Yt((t,r)=>{(e?cd(n,t,e):cd(n,t)).subscribe(r)})}function vi(n,e){return Yt((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe($t(r,l=>{i?.unsubscribe();let c=0,d=o++;ar(n(l,d)).subscribe(i=$t(r,h=>r.next(e?e(l,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function w0(n){return Yt((e,t)=>{ar(n).subscribe($t(t,()=>t.complete(),wf)),!t.closed&&e.subscribe(t)})}function Er(n,e,t){let r=At(n)||e||t?{next:n,error:e,complete:t}:n;return r?Yt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe($t(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Oi}function y4(n){let e=Ot(null);try{return n()}finally{Ot(e)}}var D0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",De=class extends Error{code;constructor(e,t){super(pl(e,t)),this.code=e}};function G7(n){return`NG0${Math.abs(n)}`}function pl(n,e){return`${G7(n)}${e?": "+e:""}`}var ko=globalThis;function an(n){for(let e in n)if(n[e]===an)return e;throw Error("")}function w4(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ma(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ma).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function M0(n,e){return n?e?`${n} ${e}`:n:e||""}var W7=an({__forward_ref__:an});function Qi(n){return n.__forward_ref__=Qi,n.toString=function(){return ma(this())},n}function Or(n){return n5(n)?n():n}function n5(n){return typeof n=="function"&&n.hasOwnProperty(W7)&&n.__forward_ref__===Qi}function C4(n,e){n==null&&r5(e,n,null,"!=")}function r5(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function Le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ji(n){return{providers:n.providers||[],imports:n.imports||[]}}function Af(n){return K7(n,A0)}function i5(n){return Af(n)!==null}function K7(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Y7(n){let e=n?.[A0]??null;return e||null}function $b(n){return n&&n.hasOwnProperty(E0)?n[E0]:null}var A0=an({\u0275prov:an}),E0=an({\u0275inj:an}),Ye=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function o5(n){return n&&!!n.\u0275providers}var s5=an({\u0275cmp:an}),a5=an({\u0275dir:an}),l5=an({\u0275pipe:an}),c5=an({\u0275mod:an}),Df=an({\u0275fac:an}),wc=an({__NG_ELEMENT_ID__:an}),_4=an({__NG_ENV_ID__:an});function gl(n){return typeof n=="string"?n:n==null?"":String(n)}function S0(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():gl(n)}var u5=an({ngErrorCode:an}),E4=an({ngErrorMessage:an}),xf=an({ngTokenPath:an});function d5(n,e){return S4("",-200,e)}function I0(n,e){throw new De(-201,!1)}function X7(n,e){n[xf]??=[];let t=n[xf],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(C4(e.provide,"Token with multi: true should have a provide property"),r=S0(e.provide)):r=S0(e),t[0]!==r&&n[xf].unshift(r)}function Z7(n,e){let t=n[xf],r=n[u5],i=n[E4]||n.message;return n.message=J7(i,r,t,e),n}function S4(n,e,t){let r=new De(e,n);return r[u5]=e,r[E4]=n,t&&(r[xf]=t),r}function Q7(n){return n[u5]}function J7(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return pl(e,`${n}${o}${i}`)}var Gb;function x4(){return Gb}function ni(n){let e=Gb;return Gb=n,e}function h5(n,e,t){let r=Af(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;I0(n,"Injector")}var eR={},vc=eR,Wb="__NG_DI_FLAG__",Kb=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=yc(t)||0;try{return this.injector.get(e,r&8?null:vc,r)}catch(i){if(Yu(i))return i;throw i}}};function tR(n,e=0){let t=km();if(t===void 0)throw new De(-203,!1);if(t===null)return h5(n,void 0,e);{let r=nR(e),i=t.retrieve(n,r);if(Yu(i)){if(r.optional)return null;throw i}return i}}function Ke(n,e=0){return(x4()||tR)(Or(n),e)}function Ee(n,e){return Ke(n,yc(e))}function yc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function nR(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Yb(n){let e=[];for(let t=0;t<n.length;t++){let r=Or(n[t]);if(Array.isArray(r)){if(r.length===0)throw new De(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=rR(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ke(i,o))}else e.push(Ke(r))}return e}function f5(n,e){return n[Wb]=e,n.prototype[Wb]=e,n}function rR(n){return n[Wb]}function hl(n,e){let t=n.hasOwnProperty(Df);return t?n[Df]:null}function D4(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function M4(n){return n.flat(Number.POSITIVE_INFINITY)}function T0(n,e){n.forEach(t=>Array.isArray(t)?T0(t,e):e(t))}function p5(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function If(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function A4(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function P0(n,e,t){let r=hd(n,e);return r>=0?n[r|1]=t:(r=~r,A4(n,r,e,t)),r}function N0(n,e){let t=hd(n,e);if(t>=0)return n[t|1]}function hd(n,e){return iR(n,e,1)}function iR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ml={},ri=[],ya=new Ye(""),g5=new Ye("",-1),m5=new Ye(""),Mf=class{get(e,t=vc){if(t===vc){let i=S4("",-201);throw i.name="\u0275NotFound",i}return t}};function v5(n){return n[c5]||null}function vl(n){return n[s5]||null}function y5(n){return n[a5]||null}function I4(n){return n[l5]||null}function _a(n){return{\u0275providers:n}}function T4(n){return _a([{provide:ya,multi:!0,useValue:n}])}function P4(...n){return{\u0275providers:_5(!0,n),\u0275fromNgModule:!0}}function _5(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return T0(e,s=>{let a=s;x0(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&N4(i,o),t}function N4(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];b5(i,o=>{e(o,r)})}}function x0(n,e,t,r){if(n=Or(n),!n)return!1;let i=null,o=$b(n),s=!o&&vl(n);if(!o&&!s){let l=n.ngModule;if(o=$b(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)x0(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{T0(o.imports,d=>{x0(d,e,t,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&N4(c,e)}if(!a){let c=hl(i)||(()=>new i);e({provide:i,useFactory:c,deps:ri},i),e({provide:m5,useValue:i,multi:!0},i),e({provide:ya,useValue:()=>Ke(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;b5(l,d=>{e(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function b5(n,e){for(let t of n)o5(t)&&(t=t.\u0275providers),Array.isArray(t)?b5(t,e):e(t)}var oR=an({provide:String,useValue:an});function O4(n){return n!==null&&typeof n=="object"&&oR in n}function sR(n){return!!(n&&n.useExisting)}function aR(n){return!!(n&&n.useFactory)}function _c(n){return typeof n=="function"}function k4(n){return!!n.useClass}var Tf=new Ye(""),C0={},b4={},qb;function Pf(){return qb===void 0&&(qb=new Mf),qb}var cr=class{},bc=class extends cr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Zb(e,s=>this.processProvider(s)),this.records.set(g5,dd(void 0,this)),i.has("environment")&&this.records.set(cr,dd(void 0,this));let o=this.records.get(Tf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(m5,ri,{self:!0}))}retrieve(e,t){let r=yc(t)||0;try{return this.get(e,vc,r)}catch(i){if(Yu(i))return i;throw i}}destroy(){Sf(this),this._destroyed=!0;let e=Ot(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ot(e)}}onDestroy(e){return Sf(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Sf(this);let t=vs(this),r=ni(void 0),i;try{return e()}finally{vs(t),ni(r)}}get(e,t=vc,r){if(Sf(this),e.hasOwnProperty(_4))return e[_4](this);let i=yc(r),o,s=vs(this),a=ni(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let d=hR(e)&&Af(e);d&&this.injectableDefInScope(d)?c=dd(Xb(e),C0):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?Pf():this.parent;return t=i&8&&t===vc?null:t,l.get(e,t)}catch(l){let c=Q7(l);throw c===-200||c===-201?new De(c,null):l}finally{ni(a),vs(s)}}resolveInjectorInitializers(){let e=Ot(null),t=vs(this),r=ni(void 0),i;try{let o=this.get(ya,ri,{self:!0});for(let s of o)s()}finally{vs(t),ni(r),Ot(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ma(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Or(e);let t=_c(e)?e:Or(e&&e.provide),r=cR(e);if(!_c(e)&&e.multi===!0){let i=this.records.get(t);i||(i=dd(void 0,C0,!0),i.factory=()=>Yb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ot(null);try{if(t.value===b4)throw d5(ma(e));return t.value===C0&&(t.value=b4,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&dR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ot(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Or(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xb(n){let e=Af(n),t=e!==null?e.factory:hl(n);if(t!==null)return t;if(n instanceof Ye)throw new De(204,!1);if(n instanceof Function)return lR(n);throw new De(204,!1)}function lR(n){if(n.length>0)throw new De(204,!1);let t=Y7(n);return t!==null?()=>t.factory(n):()=>new n}function cR(n){if(O4(n))return dd(void 0,n.useValue);{let e=w5(n);return dd(e,C0)}}function w5(n,e,t){let r;if(_c(n)){let i=Or(n);return hl(i)||Xb(i)}else if(O4(n))r=()=>Or(n.useValue);else if(aR(n))r=()=>n.useFactory(...Yb(n.deps||[]));else if(sR(n))r=(i,o)=>Ke(Or(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Or(n&&(n.useClass||n.provide));if(uR(n))r=()=>new i(...Yb(n.deps));else return hl(i)||Xb(i)}return r}function Sf(n){if(n.destroyed)throw new De(205,!1)}function dd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function uR(n){return!!n.deps}function dR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function hR(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Zb(n,e){for(let t of n)Array.isArray(t)?Zb(t,e):t&&o5(t)?Zb(t.\u0275providers,e):e(t)}function kr(n,e){let t;n instanceof bc?(Sf(n),t=n):t=new Kb(n);let r,i=vs(t),o=ni(void 0);try{return e()}finally{vs(i),ni(o)}}function R4(){return x4()!==void 0||km()!=null}var Ro=0,mt=1,_t=2,Sr=3,eo=4,to=5,Nf=6,fd=7,Hr=8,Cc=9,ys=10,Rn=11,pd=12,C5=13,Ec=14,no=15,yl=16,Sc=17,_s=18,Of=19,E5=20,ga=21,O0=22,kf=23,Ri=24,xc=25,Rr=26,L4=1;var _l=7,Rf=8,Dc=9,ii=10;function bs(n){return Array.isArray(n)&&typeof n[L4]=="object"}function Lo(n){return Array.isArray(n)&&n[L4]===!0}function S5(n){return(n.flags&4)!==0}function bl(n){return n.componentOffset>-1}function Lf(n){return(n.flags&1)===1}function ws(n){return!!n.template}function gd(n){return(n[_t]&512)!==0}function Mc(n){return(n[_t]&256)===256}var x5="svg",F4="math";function ro(n){for(;Array.isArray(n);)n=n[Ro];return n}function D5(n,e){return ro(e[n])}function Fo(n,e){return ro(e[n.index])}function k0(n,e){return n.data[e]}function M5(n,e){return n[e]}function A5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function io(n,e){let t=e[n];return bs(t)?t:t[Ro]}function j4(n){return(n[_t]&4)===4}function R0(n){return(n[_t]&128)===128}function B4(n){return Lo(n[Sr])}function Ac(n,e){return e==null?null:n[e]}function I5(n){n[Sc]=0}function T5(n){n[_t]&1024||(n[_t]|=1024,R0(n)&&md(n))}function U4(n,e){for(;n>0;)e=e[Ec],n--;return e}function Ff(n){return!!(n[_t]&9216||n[Ri]?.dirty)}function L0(n){n[ys].changeDetectionScheduler?.notify(8),n[_t]&64&&(n[_t]|=1024),Ff(n)&&md(n)}function md(n){n[ys].changeDetectionScheduler?.notify(0);let e=fl(n);for(;e!==null&&!(e[_t]&8192||(e[_t]|=8192,!R0(e)));)e=fl(e)}function P5(n,e){if(Mc(n))throw new De(911,!1);n[ga]===null&&(n[ga]=[]),n[ga].push(e)}function V4(n,e){if(n[ga]===null)return;let t=n[ga].indexOf(e);t!==-1&&n[ga].splice(t,1)}function fl(n){let e=n[Sr];return Lo(e)?e[Sr]:e}function N5(n){return n[fd]??=[]}function O5(n){return n.cleanup??=[]}function z4(n,e,t,r){let i=N5(e);i.push(t),n.firstCreatePass&&O5(n).push(r,i.length-1)}var kt={lFrame:rD(null),bindingsEnabled:!0,skipHydrationRootTNode:null},jf=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(jf||{}),fR=0,Qb=!1;function H4(){return kt.lFrame.elementDepthCount}function q4(){kt.lFrame.elementDepthCount++}function k5(){kt.lFrame.elementDepthCount--}function R5(){return kt.bindingsEnabled}function $4(){return kt.skipHydrationRootTNode!==null}function L5(n){return kt.skipHydrationRootTNode===n}function F5(){kt.skipHydrationRootTNode=null}function Gt(){return kt.lFrame.lView}function xr(){return kt.lFrame.tView}function ot(n){return kt.lFrame.contextLView=n,n[Hr]}function st(n){return kt.lFrame.contextLView=null,n}function Dr(){let n=j5();for(;n!==null&&n.type===64;)n=n.parent;return n}function j5(){return kt.lFrame.currentTNode}function G4(){let n=kt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function vd(n,e){let t=kt.lFrame;t.currentTNode=n,t.isParent=e}function B5(){return kt.lFrame.isParent}function W4(){kt.lFrame.isParent=!1}function K4(){return kt.lFrame.contextLView}function U5(n){r5("Must never be called in production mode"),fR=n}function V5(){return Qb}function z5(n){let e=Qb;return Qb=n,e}function Y4(){let n=kt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function X4(){return kt.lFrame.bindingIndex}function Z4(n){return kt.lFrame.bindingIndex=n}function Bf(){return kt.lFrame.bindingIndex++}function F0(n){let e=kt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Q4(){return kt.lFrame.inI18n}function J4(n,e){let t=kt.lFrame;t.bindingIndex=t.bindingRootIndex=n,j0(e)}function eD(){return kt.lFrame.currentDirectiveIndex}function j0(n){kt.lFrame.currentDirectiveIndex=n}function tD(n){let e=kt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function H5(){return kt.lFrame.currentQueryIndex}function B0(n){kt.lFrame.currentQueryIndex=n}function pR(n){let e=n[mt];return e.type===2?e.declTNode:e.type===1?n[to]:null}function q5(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=pR(o),i===null||(o=o[Ec],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=kt.lFrame=nD();return r.currentTNode=e,r.lView=n,!0}function U0(n){let e=nD(),t=n[mt];kt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nD(){let n=kt.lFrame,e=n===null?null:n.child;return e===null?rD(n):e}function rD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function iD(){let n=kt.lFrame;return kt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var $5=iD;function V0(){let n=iD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function oD(n){return(kt.lFrame.contextLView=U4(n,kt.lFrame.contextLView))[Hr]}function ba(){return kt.lFrame.selectedIndex}function wl(n){kt.lFrame.selectedIndex=n}function z0(){let n=kt.lFrame;return k0(n.tView,n.selectedIndex)}function H0(){kt.lFrame.currentNamespace=x5}function sD(){return kt.lFrame.currentNamespace}var aD=!0;function q0(){return aD}function $0(n){aD=n}function Jb(n,e=null,t=null,r){let i=G5(n,e,t,r);return i.resolveInjectorInitializers(),i}function G5(n,e=null,t=null,r,i=new Set){let o=[t||ri,P4(n)];return r=r||(typeof n=="object"?void 0:ma(n)),new bc(o,e||Pf(),r||null,i)}var ki=class n{static THROW_IF_NOT_FOUND=vc;static NULL=new Mf;static create(e,t){if(Array.isArray(e))return Jb({name:""},t,e,"");{let r=e.name??"";return Jb({name:r},e.parent,e.providers,r)}}static \u0275prov=Le({token:n,providedIn:"any",factory:()=>Ke(g5)});static __NG_ELEMENT_ID__=-1},Tn=new Ye(""),oo=(()=>{class n{static __NG_ELEMENT_ID__=gR;static __NG_ENV_ID__=t=>t}return n})(),e5=class extends oo{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Mc(this._lView)}onDestroy(e){let t=this._lView;return P5(t,e),()=>V4(t,e)}};function gR(){return new e5(Gt())}var Oo=class{_console=console;handleError(e){this._console.error("ERROR",e)}},oi=new Ye("",{providedIn:"root",factory:()=>{let n=Ee(cr),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Oo),e.handleError(t))}}}),lD={provide:ya,useValue:()=>void Ee(Oo),multi:!0},mR=new Ye("",{providedIn:"root",factory:()=>{let n=Ee(Tn).defaultView;if(!n)return;let e=Ee(oi),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),Ee(oo).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function W5(){return _a([T4(()=>void Ee(mR))])}function K5(n){return typeof n=="function"&&n[zr]!==void 0}function Cs(n,e){let[t,r,i]=xb(n,e?.equal),o=t,s=o[zr];return o.set=r,o.update=i,o.asReadonly=cD.bind(o),o}function cD(){let n=this[zr];if(n.readonlyFn===void 0){let e=()=>this();e[zr]=n,n.readonlyFn=e}return n.readonlyFn}function Y5(n){return K5(n)&&typeof n.set=="function"}var va=class{},Uf=new Ye("",{providedIn:"root",factory:()=>!1});var X5=new Ye(""),Z5=new Ye("");var G0=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=vR}return n})();function vR(){return new G0(Gt(),Dr())}var Es=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Sn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Lt(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Le({token:n,providedIn:"root",factory:()=>new n})}return n})(),W0=(()=>{class n{internalPendingTasks=Ee(Es);scheduler=Ee(va);errorHandler=Ee(oi);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=Le({token:n,providedIn:"root",factory:()=>new n})}return n})();function Vf(...n){}var Q5=(()=>{class n{static \u0275prov=Le({token:n,providedIn:"root",factory:()=>new t5})}return n})(),t5=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Sd(n){return{toString:n}.toString()}var K0="__parameters__";function SR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function qD(n,e,t){return Sd(()=>{let r=SR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,d){let h=l.hasOwnProperty(K0)?l[K0]:Object.defineProperty(l,K0,{value:[]})[K0];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var $D=f5(qD("Optional"),8);var GD=f5(qD("SkipSelf"),4);function xR(n){return typeof n=="function"}var r1=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function WD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ds=(()=>{let n=()=>KD;return n.ngInherit=!0,n})();function KD(n){return n.type.prototype.ngOnChanges&&(n.setInput=MR),DR}function DR(){let n=XD(this),e=n?.current;if(e){let t=n.previous;if(t===ml)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function MR(n,e,t,r,i){let o=this.declaredInputs[r],s=XD(n)||AR(n,{previous:ml,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new r1(c&&c.currentValue,t,l===ml),WD(n,e,i,t)}var YD="__ngSimpleChanges__";function XD(n){return n[YD]||null}function AR(n,e){return n[YD]=e}var uD=[];var un=function(n,e=null,t){for(let r=0;r<uD.length;r++){let i=uD[r];i(n,e,t)}};function IR(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=KD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function ZD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function J0(n,e,t){QD(n,e,3,t)}function e1(n,e,t,r){(n[_t]&3)===t&&QD(n,e,t,r)}function J5(n,e){let t=n[_t];(t&3)===e&&(t&=16383,t+=1,n[_t]=t)}function QD(n,e,t,r){let i=r!==void 0?n[Sc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Sc]+=65536),(a<o||o==-1)&&(TR(n,t,e,l),n[Sc]=(n[Sc]&4294901760)+l+2),l++}function dD(n,e){un(4,n,e);let t=Ot(null);try{e.call(n)}finally{Ot(t),un(5,n,e)}}function TR(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[_t]>>14<n[Sc]>>16&&(n[_t]&3)===e&&(n[_t]+=16384,dD(a,o)):dD(a,o)}var _d=-1,Pc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function PR(n){return(n.flags&8)!==0}function NR(n){return(n.flags&16)!==0}function OR(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];kR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function JD(n){return n===3||n===4||n===6}function kR(n){return n.charCodeAt(0)===64}function bd(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?hD(n,t,i,null,e[++r]):hD(n,t,i,null,null))}}return n}function hD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function eM(n){return n!==_d}function i1(n){return n&32767}function RR(n){return n>>16}function o1(n,e){let t=RR(n),r=e;for(;t>0;)r=r[Ec],t--;return r}var uw=!0;function s1(n){let e=uw;return uw=n,e}var LR=256,tM=LR-1,nM=5,FR=0,Ss={};function jR(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(wc)&&(r=t[wc]),r==null&&(r=t[wc]=FR++);let i=r&tM,o=1<<i;e.data[n+(i>>nM)]|=o}function a1(n,e){let t=rM(n,e);if(t!==-1)return t;let r=e[mt];r.firstCreatePass&&(n.injectorIndex=e.length,ew(r.data,n),ew(e,null),ew(r.blueprint,null));let i=jw(n,e),o=n.injectorIndex;if(eM(i)){let s=i1(i),a=o1(i,e),l=a[mt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function ew(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rM(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function jw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=lM(i),r===null)return _d;if(t++,i=i[Ec],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _d}function dw(n,e,t){jR(n,e,t)}function BR(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(JD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function iM(n,e,t){if(t&8||n!==void 0)return n;I0(e,"NodeInjector")}function oM(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Cc],o=ni(void 0);try{return i?i.get(e,r,t&8):h5(e,r,t&8)}finally{ni(o)}}return iM(r,e,t)}function sM(n,e,t,r=0,i){if(n!==null){if(e[_t]&2048&&!(r&2)){let s=HR(n,e,t,r,Ss);if(s!==Ss)return s}let o=aM(n,e,t,r,Ss);if(o!==Ss)return o}return oM(e,t,r,i)}function aM(n,e,t,r,i){let o=VR(t);if(typeof o=="function"){if(!q5(e,n,r))return r&1?iM(i,t,r):oM(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))I0(t);else return s}finally{$5()}}else if(typeof o=="number"){let s=null,a=rM(n,e),l=_d,c=r&1?e[no][to]:null;for((a===-1||r&4)&&(l=a===-1?jw(n,e):e[a+8],l===_d||!pD(r,!1)?a=-1:(s=e[mt],a=i1(l),e=o1(l,e)));a!==-1;){let d=e[mt];if(fD(o,a,d.data)){let h=UR(a,e,t,s,r,c);if(h!==Ss)return h}l=e[a+8],l!==_d&&pD(r,e[mt].data[a+8]===c)&&fD(o,a,e)?(s=d,a=i1(l),e=o1(l,e)):a=-1}}return i}function UR(n,e,t,r,i,o){let s=e[mt],a=s.data[n+8],l=r==null?bl(a)&&uw:r!=s&&(a.type&3)!==0,c=i&1&&o===a,d=t1(a,s,t,l,c);return d!==null?qf(e,s,d,a,i):Ss}function t1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,d=o>>20,h=r?a:a+d,g=i?a+d:c;for(let f=h;f<g;f++){let y=s[f];if(f<l&&t===y||f>=l&&y.type===t)return f}if(i){let f=s[l];if(f&&ws(f)&&f.type===t)return l}return null}function qf(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Pc){let a=o;if(a.resolving){let f=S0(s[t]);throw d5(f)}let l=s1(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],d,h=a.injectImpl?ni(a.injectImpl):null,g=q5(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&IR(t,s[t],e)}finally{h!==null&&ni(h),s1(l),a.resolving=!1,$5()}}return o}function VR(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(wc)?n[wc]:void 0;return typeof e=="number"?e>=0?e&tM:zR:e}function fD(n,e,t){let r=1<<n;return!!(t[e+(n>>nM)]&r)}function pD(n,e){return!(n&2)&&!(n&1&&e)}var Tc=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return sM(this._tNode,this._lView,e,yc(r),t)}};function zR(){return new Tc(Dr(),Gt())}function Uo(n){return Sd(()=>{let e=n.prototype.constructor,t=e[Df]||hw(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Df]||hw(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hw(n){return n5(n)?()=>{let e=hw(Or(n));return e&&e()}:hl(n)}function HR(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[_t]&2048&&!gd(s);){let a=aM(o,s,t,r|2,Ss);if(a!==Ss)return a;let l=o.parent;if(!l){let c=s[E5];if(c){let d=c.get(t,Ss,r);if(d!==Ss)return d}l=lM(s),s=s[Ec]}o=l}return i}function lM(n){let e=n[mt],t=e.type;return t===2?e.declTNode:t===1?n[to]:null}function Kf(n){return BR(Dr(),n)}function qR(){return xd(Dr(),Gt())}function xd(n,e){return new si(Fo(n,e))}var si=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=qR}return n})();function $R(n){return n instanceof si?n.nativeElement:n}function GR(){return this._results[Symbol.iterator]()}var l1=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Xn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=M4(e);(this._changesDetected=!D4(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=GR};function cM(n){return(n.flags&128)===128}var Bw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Bw||{}),uM=new Map,WR=0;function KR(){return WR++}function YR(n){uM.set(n[Of],n)}function fw(n){uM.delete(n[Of])}var gD="__ngContext__";function wd(n,e){bs(e)?(n[gD]=e[Of],YR(e)):n[gD]=e}function dM(n){return fM(n[pd])}function hM(n){return fM(n[eo])}function fM(n){for(;n!==null&&!Lo(n);)n=n[eo];return n}var pw;function Uw(n){pw=n}function Vw(){if(pw!==void 0)return pw;if(typeof document<"u")return document;throw new De(210,!1)}var C1=new Ye("",{providedIn:"root",factory:()=>XR}),XR="ng",E1=new Ye(""),Dd=new Ye("",{providedIn:"platform",factory:()=>"unknown"});var S1=new Ye(""),x1=new Ye("",{providedIn:"root",factory:()=>Vw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZR="h",QR="b";var pM=!1,gM=new Ye("",{providedIn:"root",factory:()=>pM});var JR=(n,e,t,r)=>{};function eL(n,e,t,r){JR(n,e,t,r)}function zw(n){return(n.flags&32)===32}var tL=()=>null;function mM(n,e,t=!1){return tL(n,e,t)}function vM(n,e){let t=n.contentQueries;if(t!==null){let r=Ot(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];B0(o),a.contentQueries(2,e[s],s)}}}finally{Ot(r)}}}function gw(n,e,t){B0(0);let r=Ot(null);try{e(n,t)}finally{Ot(r)}}function yM(n,e,t){if(S5(e)){let r=Ot(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Ot(r)}}}var wa=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(wa||{}),Y0;function nL(){if(Y0===void 0&&(Y0=null,ko.trustedTypes))try{Y0=ko.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Y0}function D1(n){return nL()?.createHTML(n)||n}var X0;function _M(){if(X0===void 0&&(X0=null,ko.trustedTypes))try{X0=ko.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return X0}function mD(n){return _M()?.createHTML(n)||n}function vD(n){return _M()?.createScriptURL(n)||n}var c1=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${D0})`}};function kc(n){return n instanceof c1?n.changingThisBreaksApplicationSecurity:n}function M1(n,e){let t=bM(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${D0})`)}return t===e}function bM(n){return n instanceof c1&&n.getTypeName()||null}function rL(n){let e=new vw(n);return iL()?new mw(e):e}var mw=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(D1(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},vw=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=D1(e),t}};function iL(){try{return!!new window.DOMParser().parseFromString(D1(""),"text/html")}catch{return!1}}var oL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hw(n){return n=String(n),n.match(oL)?n:"unsafe:"+n}function Ea(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Yf(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var wM=Ea("area,br,col,hr,img,wbr"),CM=Ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),EM=Ea("rp,rt"),sL=Yf(EM,CM),aL=Yf(CM,Ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lL=Yf(EM,Ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yD=Yf(wM,aL,lL,sL),SM=Ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cL=Ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uL=Ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),dL=Yf(SM,cL,uL),hL=Ea("script,style,template"),yw=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=gL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=pL(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=_D(e).toLowerCase();if(!yD.hasOwnProperty(t))return this.sanitizedSomething=!0,!hL.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!dL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;SM[a]&&(l=Hw(l)),this.buf.push(" ",s,'="',bD(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=_D(e).toLowerCase();yD.hasOwnProperty(t)&&!wM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(bD(e))}};function fL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function pL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw xM(e);return e}function gL(n){let e=n.firstChild;if(e&&fL(n,e))throw xM(e);return e}function _D(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function xM(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var mL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vL=/([^\#-~ |!])/g;function bD(n){return n.replace(/&/g,"&amp;").replace(mL,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(vL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Z0;function DM(n,e){let t=null;try{Z0=Z0||rL(n);let r=e?String(e):"";t=Z0.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Z0.getInertBodyElement(r)}while(r!==o);let a=new yw().sanitizeChildren(wD(t)||t);return D1(a)}finally{if(t){let r=wD(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function wD(n){return"content"in n&&yL(n)?n.content:null}function yL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Xf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Xf||{});function qw(n){let e=Gw();return e?mD(e.sanitize(Xf.HTML,n)||""):M1(n,"HTML")?mD(kc(n)):DM(Vw(),gl(n))}function MM(n){let e=Gw();return e?e.sanitize(Xf.URL,n)||"":M1(n,"URL")?kc(n):Hw(gl(n))}function AM(n){let e=Gw();if(e)return vD(e.sanitize(Xf.RESOURCE_URL,n)||"");if(M1(n,"ResourceURL"))return vD(kc(n));throw new De(904,!1)}function _L(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?AM:MM}function $w(n,e,t){return _L(e,t)(n)}function Gw(){let n=Gt();return n&&n[ys].sanitizer}function Ww(n){return n.ownerDocument}function IM(n){return n instanceof Function?n():n}function bL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var TM="ng-template";function wL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&bL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Kw(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Kw(n){return n.type===4&&n.value!==TM}function CL(n,e,t){let r=n.type===4&&!t?TM:n.value;return e===r}function EL(n,e,t){let r=4,i=n.attrs,o=i!==null?DL(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!jo(r)&&!jo(l))return!1;if(s&&jo(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!CL(n,l,t)||l===""&&e.length===1){if(jo(r))return!1;s=!0}}else if(r&8){if(i===null||!wL(n,i,l,t)){if(jo(r))return!1;s=!0}}else{let c=e[++a],d=SL(l,i,Kw(n),t);if(d===-1){if(jo(r))return!1;s=!0;continue}if(c!==""){let h;if(d>o?h="":h=i[d+1].toLowerCase(),r&2&&c!==h){if(jo(r))return!1;s=!0}}}}return jo(r)||s}function jo(n){return(n&1)===0}function SL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ML(e,n)}function xL(n,e,t=!1){for(let r=0;r<e.length;r++)if(EL(n,e[r],t))return!0;return!1}function DL(n){for(let e=0;e<n.length;e++){let t=n[e];if(JD(t))return e}return n.length}function ML(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function CD(n,e){return n?":not("+e.trim()+")":e}function AL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jo(s)&&(e+=CD(o,i),i=""),r=s,o=o||!jo(r);t++}return i!==""&&(e+=CD(o,i)),e}function IL(n){return n.map(AL).join(",")}function TL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!jo(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Li={};function PL(n,e){return n.createText(e)}function NL(n,e,t){n.setValue(e,t)}function PM(n,e,t){return n.createElement(e,t)}function u1(n,e,t,r,i){n.insertBefore(e,t,r,i)}function NM(n,e,t){n.appendChild(e,t)}function ED(n,e,t,r,i){r!==null?u1(n,e,t,r,i):NM(n,e,t)}function OL(n,e,t){n.removeChild(null,e,t)}function kL(n,e,t){n.setAttribute(e,"style",t)}function RL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OM(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&OR(n,e,r),i!==null&&RL(n,e,i),o!==null&&kL(n,e,o)}function Yw(n,e,t,r,i,o,s,a,l,c,d){let h=Rr+r,g=h+i,f=LL(h,g),y=typeof c=="function"?c():c;return f[mt]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function LL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Li);return t}function FL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Yw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Xw(n,e,t,r,i,o,s,a,l,c,d){let h=e.blueprint.slice();return h[Ro]=i,h[_t]=r|4|128|8|64|1024,(c!==null||n&&n[_t]&2048)&&(h[_t]|=2048),I5(h),h[Sr]=h[Ec]=n,h[Hr]=t,h[ys]=s||n&&n[ys],h[Rn]=a||n&&n[Rn],h[Cc]=l||n&&n[Cc]||null,h[to]=o,h[Of]=KR(),h[Nf]=d,h[E5]=c,h[no]=e.type==2?n[no]:h,h}function jL(n,e,t){let r=Fo(e,n),i=FL(t),o=n[ys].rendererFactory,s=Zw(n,Xw(n,i,null,kM(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function kM(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function RM(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Zw(n,e){return n[pd]?n[C5][eo]=e:n[pd]=e,n[C5]=e,e}function Fe(n=1){LM(xr(),Gt(),ba()+n,!1)}function LM(n,e,t,r){if(!r)if((e[_t]&3)===3){let o=n.preOrderCheckHooks;o!==null&&J0(e,o,t)}else{let o=n.preOrderHooks;o!==null&&e1(e,o,0,t)}wl(t)}var A1=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(A1||{});function _w(n,e,t,r){let i=Ot(null);try{let[o,s,a]=n.inputs[t],l=null;(s&A1.SignalBased)!==0&&(l=e[o][zr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):WD(e,l,o,r)}finally{Ot(i)}}var xs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(xs||{}),BL;function Qw(n,e){return BL(n,e)}function yd(n,e,t,r,i){if(r!=null){let o,s=!1;Lo(r)?o=r:bs(r)&&(s=!0,r=r[Ro]);let a=ro(r);n===0&&t!==null?i==null?NM(e,t,a):u1(e,t,a,i||null,!0):n===1&&t!==null?u1(e,t,a,i||null,!0):n===2?OL(e,a,s):n===3&&e.destroyNode(a),o!=null&&ZL(e,n,o,t,i)}}function UL(n,e){FM(n,e),e[Ro]=null,e[to]=null}function VL(n,e,t,r,i,o){r[Ro]=i,r[to]=e,I1(n,r,t,1,i,o)}function FM(n,e){e[ys].changeDetectionScheduler?.notify(9),I1(n,e,e[Rn],2,null,null)}function zL(n){let e=n[pd];if(!e)return tw(n[mt],n);for(;e;){let t=null;if(bs(e))t=e[pd];else{let r=e[ii];r&&(t=r)}if(!t){for(;e&&!e[eo]&&e!==n;)bs(e)&&tw(e[mt],e),e=e[Sr];e===null&&(e=n),bs(e)&&tw(e[mt],e),t=e&&e[eo]}e=t}}function Jw(n,e){let t=n[Dc],r=t.indexOf(e);t.splice(r,1)}function jM(n,e){if(Mc(e))return;let t=e[Rn];t.destroyNode&&I1(n,e,t,3,null,null),zL(e)}function tw(n,e){if(Mc(e))return;let t=Ot(null);try{e[_t]&=-129,e[_t]|=256,e[Ri]&&zm(e[Ri]),qL(n,e),HL(n,e),e[mt].type===1&&e[Rn].destroy();let r=e[yl];if(r!==null&&Lo(e[Sr])){r!==e[Sr]&&Jw(r,e);let i=e[_s];i!==null&&i.detachView(n)}fw(e)}finally{Ot(t)}}function HL(n,e){let t=n.cleanup,r=e[fd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[fd]=null);let i=e[ga];if(i!==null){e[ga]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[kf];if(o!==null){e[kf]=null;for(let s of o)s.destroy()}}function qL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Pc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];un(4,a,l);try{l.call(a)}finally{un(5,a,l)}}else{un(4,i,o);try{o.call(i)}finally{un(5,i,o)}}}}}function $L(n,e,t){return GL(n,e.parent,t)}function GL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ro];if(bl(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===wa.None||i===wa.Emulated)return null}return Fo(r,t)}function WL(n,e,t){return YL(n,e,t)}function KL(n,e,t){return n.type&40?Fo(n,t):null}var YL=KL,SD;function eC(n,e,t,r){let i=$L(n,r,e),o=e[Rn],s=r.parent||e[to],a=WL(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)ED(o,i,t[l],a,!1);else ED(o,i,t,a,!1);SD!==void 0&&SD(o,r,e,t,i)}function zf(n,e){if(e!==null){let t=e.type;if(t&3)return Fo(e,n);if(t&4)return bw(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return zf(n,r);{let i=n[e.index];return Lo(i)?bw(-1,i):ro(i)}}else{if(t&128)return zf(n,e.next);if(t&32)return Qw(e,n)()||ro(n[e.index]);{let r=BM(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fl(n[no]);return zf(i,r)}else return zf(n,e.next)}}}return null}function BM(n,e){if(e!==null){let r=n[no][to],i=e.projection;return r.projection[i]}return null}function bw(n,e){let t=ii+n+1;if(t<e.length){let r=e[t],i=r[mt].firstChild;if(i!==null)return zf(r,i)}return e[_l]}function tC(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&wd(ro(a),r),t.flags|=2),!zw(t))if(l&8)tC(n,e,t.child,r,i,o,!1),yd(e,n,i,a,o);else if(l&32){let c=Qw(t,r),d;for(;d=c();)yd(e,n,i,d,o);yd(e,n,i,a,o)}else l&16?XL(n,e,r,t,i,o):yd(e,n,i,a,o);t=s?t.projectionNext:t.next}}function I1(n,e,t,r,i,o){tC(t,r,n.firstChild,e,i,o,!1)}function XL(n,e,t,r,i,o){let s=t[no],l=s[to].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];yd(e,n,i,d,o)}else{let c=l,d=s[Sr];cM(r)&&(c.flags|=128),tC(n,e,c,d,i,o,!0)}}function ZL(n,e,t,r,i){let o=t[_l],s=ro(t);o!==s&&yd(e,n,r,o,i);for(let a=ii;a<t.length;a++){let l=t[a];I1(l[mt],l,n,e,r,o)}}function QL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:xs.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xs.Important),n.setStyle(t,r,i,o))}}function UM(n,e,t,r,i){let o=ba(),s=r&2;try{wl(-1),s&&e.length>Rr&&LM(n,e,Rr,!1),un(s?2:0,i,t),t(r,i)}finally{wl(o),un(s?3:1,i,t)}}function nC(n,e,t){o9(n,e,t),(t.flags&64)===64&&s9(n,e,t)}function rC(n,e,t=Fo){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function JL(n,e,t,r){let o=r.get(gM,pM)||t===wa.ShadowDom,s=n.selectRootElement(e,o);return e9(s),s}function e9(n){t9(n)}var t9=()=>null;function n9(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function VM(n,e,t,r,i,o){let s=e[mt];if(iC(n,s,e,t,r)){bl(n)&&i9(e,n.index);return}n.type&3&&(t=n9(t)),r9(n,e,t,r,i,o)}function r9(n,e,t,r,i,o){if(n.type&3){let s=Fo(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function i9(n,e){let t=io(e,n);t[_t]&16||(t[_t]|=64)}function o9(n,e,t){let r=t.directiveStart,i=t.directiveEnd;bl(t)&&jL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||a1(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=qf(e,n,s,t);if(wd(l,e),o!==null&&u9(e,s-r,l,a,t,o),ws(a)){let c=io(t.index,e);c[Hr]=qf(e,n,s,t)}}}function s9(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=eD();try{wl(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];j0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&a9(l,c)}}finally{wl(-1),j0(s)}}function a9(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function zM(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xL(e,o.selectors,!1)&&(r??=[],ws(o)?r.unshift(o):r.push(o))}return r}function l9(n,e,t,r,i,o){let s=Fo(n,e);c9(e[Rn],s,o,n.value,t,r,i)}function c9(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?gl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function u9(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];_w(r,t,l,c)}}function HM(n,e,t,r,i){let o=Rr+t,s=e[mt],a=i(s,e,n,r,t);e[o]=a,vd(n,!0);let l=n.type===2;return l?(OM(e[Rn],a,n),(H4()===0||Lf(n))&&wd(a,e),q4()):wd(a,e),q0()&&(!l||!zw(n))&&eC(s,e,a,n),n}function qM(n){let e=n;return B5()?W4():(e=e.parent,vd(e,!1)),e}function d9(n,e){let t=n[Cc];if(!t)return;t.get(oi,null)?.(e)}function iC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],h=e.data[c];_w(h,t[c],d,i),a=!0}if(o)for(let l of o){let c=t[l],d=e.data[l];_w(d,c,r,i),a=!0}return a}function h9(n,e){let t=io(e,n),r=t[mt];f9(r,t);let i=t[Ro];i!==null&&t[Nf]===null&&(t[Nf]=mM(i,t[Cc])),un(18),oC(r,t,t[Hr]),un(19,t[Hr])}function f9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function oC(n,e,t){U0(e);try{let r=n.viewQuery;r!==null&&gw(1,r,t);let i=n.template;i!==null&&UM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[_s]?.finishViewCreation(n),n.staticContentQueries&&vM(n,e),n.staticViewQueries&&gw(2,n.viewQuery,t);let o=n.components;o!==null&&p9(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[_t]&=-5,V0()}}function p9(n,e){for(let t=0;t<e.length;t++)h9(n,e[t])}function g9(n,e,t,r){let i=Ot(null);try{let o=e.tView,a=n[_t]&4096?4096:16,l=Xw(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[yl]=c;let d=n[_s];return d!==null&&(l[_s]=d.createEmbeddedView(o)),oC(o,l,t),l}finally{Ot(i)}}function xD(n,e){return!e||e.firstChild===null||cM(n)}var DD=!1,m9=new Ye("");function $f(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ro(o)),Lo(o)&&$M(o,r);let s=t.type;if(s&8)$f(n,e,t.child,r);else if(s&32){let a=Qw(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=BM(e,t);if(Array.isArray(a))r.push(...a);else{let l=fl(e[no]);$f(l[mt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function $M(n,e){for(let t=ii;t<n.length;t++){let r=n[t],i=r[mt].firstChild;i!==null&&$f(r[mt],r,i,e)}n[_l]!==n[Ro]&&e.push(n[_l])}function GM(n){if(n[xc]!==null){for(let e of n[xc])e.impl.addSequence(e);n[xc].length=0}}var WM=[];function v9(n){return n[Ri]??y9(n)}function y9(n){let e=WM.pop()??Object.create(b9);return e.lView=n,e}function _9(n){n.lView[Ri]!==n&&(n.lView=null,WM.push(n))}var b9=vt(Me({},uc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{md(n.lView)},consumerOnSignalRead(){this.lView[Ri]=this}});function w9(n){let e=n[Ri]??Object.create(C9);return e.lView=n,e}var C9=vt(Me({},uc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=fl(n.lView);for(;e&&!KM(e[mt]);)e=fl(e);e&&T5(e)},consumerOnSignalRead(){this.lView[Ri]=this}});function KM(n){return n.type!==2}function YM(n){if(n[kf]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[kf])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[_t]&8192)}}var E9=100;function sC(n,e=0){let r=n[ys].rendererFactory,i=!1;i||r.begin?.();try{S9(n,e)}finally{i||r.end?.()}}function S9(n,e){let t=V5();try{z5(!0),ww(n,e);let r=0;for(;Ff(n);){if(r===E9)throw new De(103,!1);r++,ww(n,1)}}finally{z5(t)}}function XM(n,e){U5(e?jf.Exhaustive:jf.OnlyDirtyViews);try{sC(n)}finally{U5(jf.Off)}}function x9(n,e,t,r){if(Mc(e))return;let i=e[_t],o=!1,s=!1;U0(e);let a=!0,l=null,c=null;o||(KM(n)?(c=v9(e),l=dc(c)):Um()===null?(a=!1,c=w9(e),l=dc(c)):e[Ri]&&(zm(e[Ri]),e[Ri]=null));try{I5(e),Z4(n.bindingStartIndex),t!==null&&UM(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let f=n.preOrderCheckHooks;f!==null&&J0(e,f,null)}else{let f=n.preOrderHooks;f!==null&&e1(e,f,0,null),J5(e,0)}if(s||D9(e),YM(e),ZM(e,0),n.contentQueries!==null&&vM(n,e),!o)if(d){let f=n.contentCheckHooks;f!==null&&J0(e,f)}else{let f=n.contentHooks;f!==null&&e1(e,f,1),J5(e,1)}A9(n,e);let h=n.components;h!==null&&JM(e,h,0);let g=n.viewQuery;if(g!==null&&gw(2,g,r),!o)if(d){let f=n.viewCheckHooks;f!==null&&J0(e,f)}else{let f=n.viewHooks;f!==null&&e1(e,f,2),J5(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[O0]){for(let f of e[O0])f();e[O0]=null}o||(GM(e),e[_t]&=-73)}catch(d){throw o||md(e),d}finally{c!==null&&(Zu(c,l),a&&_9(c)),V0()}}function ZM(n,e){for(let t=dM(n);t!==null;t=hM(t))for(let r=ii;r<t.length;r++){let i=t[r];QM(i,e)}}function D9(n){for(let e=dM(n);e!==null;e=hM(e)){if(!(e[_t]&2))continue;let t=e[Dc];for(let r=0;r<t.length;r++){let i=t[r];T5(i)}}}function M9(n,e,t){un(18);let r=io(e,n);QM(r,t),un(19,r[Hr])}function QM(n,e){R0(n)&&ww(n,e)}function ww(n,e){let r=n[mt],i=n[_t],o=n[Ri],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&bf(o)),s||=!1,o&&(o.dirty=!1),n[_t]&=-9217,s)x9(r,n,r.template,n[Hr]);else if(i&8192){let a=Ot(null);try{YM(n),ZM(n,1);let l=r.components;l!==null&&JM(n,l,1),GM(n)}finally{Ot(a)}}}function JM(n,e,t){for(let r=0;r<e.length;r++)M9(n,e[r],t)}function A9(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)wl(~i);else{let o=i,s=t[++r],a=t[++r];J4(s,o);let l=e[o];un(24,l),a(2,l),un(25,l)}}}finally{wl(-1)}}function aC(n,e){let t=V5()?64:1088;for(n[ys].changeDetectionScheduler?.notify(e);n;){n[_t]|=t;let r=fl(n);if(gd(n)&&!r)return n;n=r}return null}function eA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function I9(n,e,t,r=!0){let i=e[mt];if(T9(i,e,n,t),r){let s=bw(t,n),a=e[Rn],l=a.parentNode(n[_l]);l!==null&&VL(i,n[to],a,e,l,s)}let o=e[Nf];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Cw(n,e){if(n.length<=ii)return;let t=ii+e,r=n[t];if(r){let i=r[yl];i!==null&&i!==n&&Jw(i,r),e>0&&(n[t-1][eo]=r[eo]);let o=If(n,ii+e);UL(r[mt],r);let s=o[_s];s!==null&&s.detachView(o[mt]),r[Sr]=null,r[eo]=null,r[_t]&=-129}return r}function T9(n,e,t,r){let i=ii+r,o=t.length;r>0&&(t[i-1][eo]=e),r<o-ii?(e[eo]=t[i],p5(t,ii+r,e)):(t.push(e),e[eo]=null),e[Sr]=t;let s=e[yl];s!==null&&t!==s&&tA(s,e);let a=e[_s];a!==null&&a.insertView(n),L0(e),e[_t]|=128}function tA(n,e){let t=n[Dc],r=e[Sr];if(bs(r))n[_t]|=2;else{let i=r[Sr][no];e[no]!==i&&(n[_t]|=2)}t===null?n[Dc]=[e]:t.push(e)}var Cl=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[mt];return $f(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Hr]}set context(e){this._lView[Hr]=e}get destroyed(){return Mc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Sr];if(Lo(e)){let t=e[Rf],r=t?t.indexOf(this):-1;r>-1&&(Cw(e,r),If(t,r))}this._attachedToViewContainer=!1}jM(this._lView[mt],this._lView)}onDestroy(e){P5(this._lView,e)}markForCheck(){aC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_t]&=-129}reattach(){L0(this._lView),this._lView[_t]|=128}detectChanges(){this._lView[_t]|=1024,sC(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Cc].get(m9,DD)}catch{this.exhaustive=DD}}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gd(this._lView),t=this._lView[yl];t!==null&&!e&&Jw(t,this._lView),FM(this._lView[mt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=e;let t=gd(this._lView),r=this._lView[yl];r!==null&&!t&&tA(r,this._lView),L0(this._lView)}};var El=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=P9;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=g9(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Cl(o)}}return n})();function P9(){return T1(Dr(),Gt())}function T1(n,e){return n.type&4?new El(e,n,xd(n,e)):null}function P1(n,e,t,r,i){let o=n.data[e];if(o===null)o=N9(n,e,t,r,i),Q4()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=G4();o.injectorIndex=s===null?-1:s.injectorIndex}return vd(o,!0),o}function N9(n,e,t,r,i){let o=j5(),s=B5(),a=s?o:o&&o.parent,l=n.data[e]=k9(n,a,t,e,r,i);return O9(n,l,o,s),l}function O9(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function k9(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $4()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Vie=new RegExp(`^(\\d+)*(${QR}|${ZR})*(.*)`);var R9=()=>null;function MD(n,e){return R9(n,e)}var nA=class{},N1=class{},Ew=class{resolveComponentFactory(e){throw new De(917,!1)}},Zf=class{static NULL=new Ew},Ca=class{},Vo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>L9()}return n})();function L9(){let n=Gt(),e=Dr(),t=io(e.index,n);return(bs(t)?t:n)[Rn]}var rA=(()=>{class n{static \u0275prov=Le({token:n,providedIn:"root",factory:()=>null})}return n})();var n1={},Sw=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,n1,r);return i!==n1||t===n1?i:this.parentInjector.get(e,t,r)}};function d1(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=M0(i,a);else if(o==2){let l=a,c=e[++s];r=M0(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ze(n,e=0){let t=Gt();if(t===null)return Ke(n,e);let r=Dr();return sM(r,t,Or(n),e)}function lC(){let n="invalid";throw new Error(n)}function iA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}B9(n,e,t,a,o,l,c)}o!==null&&r!==null&&F9(t,r,o)}function F9(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new De(-301,!1);r.push(e[i],o)}}function j9(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function B9(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let g=0;g<a;g++){let f=r[g];!l&&ws(f)&&(l=!0,j9(n,t,g)),dw(a1(t,e),n,f.type)}$9(t,n.data.length,a);for(let g=0;g<a;g++){let f=r[g];f.providersResolver&&f.providersResolver(f)}let c=!1,d=!1,h=RM(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let f=r[g];if(t.mergedAttrs=bd(t.mergedAttrs,f.hostAttrs),V9(n,t,e,h,f),q9(h,f,i),s!==null&&s.has(f)){let[_,C]=s.get(f);t.directiveToIndex.set(f.type,[h,_+t.directiveStart,C+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,h);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let y=f.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),h++}U9(n,t,o)}function U9(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))AD(0,e,i,r),AD(1,e,i,r),TD(e,r,!1);else{let o=t.get(i);ID(0,e,o,r),ID(1,e,o,r),TD(e,r,!0)}}}function AD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),oA(e,o)}}function ID(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),oA(e,s)}}function oA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function TD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Kw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function V9(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=hl(i.type,!0)),s=new Pc(o,ws(i),Ze,null);n.blueprint[r]=s,t[r]=s,z9(n,e,r,RM(n,t,i.hostVars,Li),i)}function z9(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;H9(s)!=a&&s.push(a),s.push(t,r,o)}}function H9(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function q9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ws(e)&&(t[""]=n)}}function $9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sA(n,e,t,r,i,o,s,a){let l=e[mt],c=l.consts,d=Ac(c,s),h=P1(l,n,t,r,d);return o&&iA(l,e,h,Ac(c,a),i),h.mergedAttrs=bd(h.mergedAttrs,h.attrs),h.attrs!==null&&d1(h,h.attrs,!1),h.mergedAttrs!==null&&d1(h,h.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,h),h}function aA(n,e){ZD(n,e),S5(e)&&n.queries.elementEnd(e)}function G9(n,e,t,r,i,o){let s=e.consts,a=Ac(s,i),l=P1(e,n,t,r,a);if(l.mergedAttrs=bd(l.mergedAttrs,l.attrs),o!=null){let c=Ac(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&d1(l,l.attrs,!1),l.mergedAttrs!==null&&d1(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function cC(n){return cA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function lA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function cA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function W9(n,e,t){return n[e]=t}function Sl(n,e,t){if(t===Li)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function uA(n,e,t,r){let i=Sl(n,e,t);return Sl(n,e+1,r)||i}function nw(n,e,t){return function r(i){let o=bl(n)?io(n.index,e):e;aC(o,5);let s=e[Hr],a=PD(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=PD(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function PD(n,e,t,r){let i=Ot(null);try{return un(6,e,t),t(r)!==!1}catch(o){return d9(n,o),!1}finally{un(7,e,t),Ot(i)}}function K9(n,e,t,r,i,o,s,a){let l=Lf(n),c=!1,d=null;if(!r&&l&&(d=Y9(e,t,o,n.index)),d!==null){let h=d.__ngLastListenerFn__||d;h.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let h=Fo(n,t),g=r?r(h):h;eL(t,g,o,a);let f=i.listen(g,o,a),y=r?_=>r(ro(_[n.index])):n.index;dA(y,e,t,o,a,f,!1)}return c}function Y9(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[fd],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function dA(n,e,t,r,i,o,s){let a=e.firstCreatePass?O5(e):null,l=N5(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function ND(n,e,t,r,i,o){let s=e[t],a=e[mt],c=a.data[t].outputs[r],h=s[c].subscribe(o);dA(n.index,a,e,i,o,h,!0)}var xw=Symbol("BINDING");var h1=class extends Zf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=vl(e);return new Cd(t,this.ngModule)}};function X9(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&A1.SignalBased)!==0};return i&&(o.transform=i),o})}function Z9(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Q9(n,e,t){let r=e instanceof cr?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Sw(t,r):t}function J9(n){let e=n.get(Ca,null);if(e===null)throw new De(407,!1);let t=n.get(rA,null),r=n.get(va,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function eF(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return PM(e,t,t==="svg"?x5:t==="math"?F4:null)}var Cd=class extends N1{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=X9(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Z9(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=IL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){un(22);let a=Ot(null);try{let l=this.componentDef,c=tF(r,l,s,o),d=Q9(l,i||this.ngModule,e),h=J9(d),g=h.rendererFactory.createRenderer(null,l),f=r?JL(g,r,l.encapsulation,d):eF(l,g),y=s?.some(OD)||o?.some(w=>typeof w!="function"&&w.bindings.some(OD)),_=Xw(null,c,null,512|kM(l),null,null,h,g,d,null,mM(f,d,!0));_[Rr]=f,U0(_);let C=null;try{let w=sA(Rr,_,2,"#host",()=>c.directiveRegistry,!0,0);f&&(OM(g,f,w),wd(f,_)),nC(c,_,w),yM(c,w,_),aA(c,w),t!==void 0&&rF(w,this.ngContentSelectors,t),C=io(w.index,_),_[Hr]=C[Hr],oC(c,_,null)}catch(w){throw C!==null&&fw(C),fw(_),w}finally{un(23),V0()}return new f1(this.componentType,_,!!y)}finally{Ot(a)}}};function tF(n,e,t,r){let i=n?["ng-version","20.1.3"]:TL(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[xw].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let h=r[d];if(typeof h!="function")for(let g of h.bindings){a+=g[xw].requiredVars;let f=d+1;g.create&&(g.targetIdx=f,(o??=[]).push(g)),g.update&&(g.targetIdx=f,(s??=[]).push(g))}}let l=[e];if(r)for(let d of r){let h=typeof d=="function"?d:d.type,g=y5(h);l.push(g)}return Yw(0,null,nF(o,s),1,a,l,null,null,null,[i],null)}function nF(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function OD(n){let e=n[xw].kind;return e==="input"||e==="twoWay"}var f1=class extends nA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=k0(t[mt],Rr),this.location=xd(this._tNode,t),this.instance=io(this._tNode.index,t)[Hr],this.hostView=this.changeDetectorRef=new Cl(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=iC(r,i[mt],i,e,t);this.previousInputValues.set(e,t);let s=io(r.index,i);aC(s,1)}get injector(){return new Tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Sa=(()=>{class n{static __NG_ELEMENT_ID__=iF}return n})();function iF(){let n=Dr();return fA(n,Gt())}var oF=Sa,hA=class extends oF{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return xd(this._hostTNode,this._hostLView)}get injector(){return new Tc(this._hostTNode,this._hostLView)}get parentInjector(){let e=jw(this._hostTNode,this._hostLView);if(eM(e)){let t=o1(e,this._hostLView),r=i1(e),i=t[mt].data[r+8];return new Tc(i,t)}else return new Tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=MD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,xD(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!xR(e),c;if(l)c=t;else{let C=t||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let d=l?e:new Cd(vl(e)),h=r||this.parentInjector;if(!o&&d.ngModule==null){let w=(l?h:this.parentInjector).get(cr,null);w&&(o=w)}let g=vl(d.componentType??{}),f=MD(this._lContainer,g?.id??null),y=f?.firstChild??null,_=d.create(h,i,y,o,s,a);return this.insertImpl(_.hostView,c,xD(this._hostTNode,f)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(B4(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Sr],c=new hA(l,l[to],l[Sr]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return I9(s,i,o,r),e.attachToViewContainerRef(),p5(rw(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Cw(this._lContainer,t);r&&(If(rw(this._lContainer),t),jM(r[mt],r))}detach(e){let t=this._adjustIndex(e,-1),r=Cw(this._lContainer,t);return r&&If(rw(this._lContainer),t)!=null?new Cl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kD(n){return n[Rf]}function rw(n){return n[Rf]||(n[Rf]=[])}function fA(n,e){let t,r=e[n.index];return Lo(r)?t=r:(t=eA(r,e,null,n),e[n.index]=t,Zw(e,t)),aF(t,e,n,r),new hA(t,n,e)}function sF(n,e){let t=n[Rn],r=t.createComment(""),i=Fo(e,n),o=t.parentNode(i);return u1(t,o,r,t.nextSibling(i),!1),r}var aF=uF,lF=()=>!1;function cF(n,e,t){return lF(n,e,t)}function uF(n,e,t,r){if(n[_l])return;let i;t.type&8?i=ro(r):i=sF(e,t),n[_l]=i}var Dw=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Mw=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)uC(e,t).matches!==null&&this.queries[t].setDirty()}},p1=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=yF(e):this.predicate=e}},Aw=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Iw=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,dF(t,o)),this.matchTNodeWithReadOption(e,t,t1(t,e,o,!1,!1))}else r===El?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,t1(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===si||i===Sa||i===El&&t.type&4)this.addMatch(t.index,-2);else{let o=t1(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function dF(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function hF(n,e){return n.type&11?xd(n,e):n.type&4?T1(n,e):null}function fF(n,e,t,r){return t===-1?hF(e,n):t===-2?pF(n,e,r):qf(n,n[mt],t,e)}function pF(n,e,t){if(t===si)return xd(e,n);if(t===El)return T1(e,n);if(t===Sa)return fA(e,n)}function pA(n,e,t,r){let i=e[_s].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(fF(e,d,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function Tw(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=pA(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let h=ii;h<d.length;h++){let g=d[h];g[yl]===g[Sr]&&Tw(g[mt],g,c,r)}if(d[Dc]!==null){let h=d[Dc];for(let g=0;g<h.length;g++){let f=h[g];Tw(f[mt],f,c,r)}}}}}return r}function gF(n,e){return n[_s].queries[e].queryList}function gA(n,e,t){let r=new l1((t&4)===4);return z4(n,e,r,r.destroy),(e[_s]??=new Mw).queries.push(new Dw(r))-1}function mF(n,e,t){let r=xr();return r.firstCreatePass&&(mA(r,new p1(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),gA(r,Gt(),e)}function vF(n,e,t,r){let i=xr();if(i.firstCreatePass){let o=Dr();mA(i,new p1(e,t,r),o.index),_F(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return gA(i,Gt(),t)}function yF(n){return n.split(",").map(e=>e.trim())}function mA(n,e,t){n.queries===null&&(n.queries=new Aw),n.queries.track(new Iw(e,t))}function _F(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function uC(n,e){return n.queries.getByIndex(e)}function bF(n,e){let t=n[mt],r=uC(t,e);return r.crossesNgTemplate?Tw(t,n,e,[]):pA(t,n,r,e)}var RD=new Set;function xl(n){RD.has(n)||(RD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Nc=class{},O1=class{};var g1=class extends Nc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new h1(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=v5(e);this._bootstrapComponents=IM(o.bootstrap),this._r3Injector=G5(e,t,[{provide:Nc,useValue:this},{provide:Zf,useValue:this.componentFactoryResolver},...r],ma(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},m1=class extends O1{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new g1(this.moduleType,e,[])}};var Gf=class extends Nc{injector;componentFactoryResolver=new h1(this);instance=null;constructor(e){super();let t=new bc([...e.providers,{provide:Nc,useValue:this},{provide:Zf,useValue:this.componentFactoryResolver}],e.parent||Pf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qf(n,e,t=null){return new Gf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var wF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_5(!1,t.type),i=r.length>0?Qf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Le({token:n,providedIn:"environment",factory:()=>new n(Ke(cr))})}return n})();function dn(n){return Sd(()=>{let e=vA(n),t=vt(Me({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Bw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(wF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wa.Emulated,styles:n.styles||ri,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&xl("NgStandalone"),yA(t);let r=n.dependencies;return t.directiveDefs=LD(r,CF),t.pipeDefs=LD(r,I4),t.id=xF(t),t})}function CF(n){return vl(n)||y5(n)}function zo(n){return Sd(()=>({type:n.type,bootstrap:n.bootstrap||ri,declarations:n.declarations||ri,imports:n.imports||ri,exports:n.exports||ri,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function EF(n,e){if(n==null)return ml;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=A1.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function SF(n){if(n==null)return ml;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ln(n){return Sd(()=>{let e=vA(n);return yA(e),e})}function k1(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function vA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ml,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ri,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:EF(n.inputs,e),outputs:SF(n.outputs),debugInfo:null}}function yA(n){n.features?.forEach(e=>e(n))}function LD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function xF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function DF(n){return Object.getPrototypeOf(n.prototype).constructor}function so(n){let e=DF(n.type),t=!0,r=[n];for(;e;){let i;if(ws(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new De(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=iw(n.inputs),s.declaredInputs=iw(n.declaredInputs),s.outputs=iw(n.outputs);let a=i.hostBindings;a&&PF(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&IF(n,l),c&&TF(n,c),MF(n,i),w4(n.outputs,i.outputs),ws(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===so&&(t=!1)}}e=Object.getPrototypeOf(e)}AF(r)}function MF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function AF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bd(i.hostAttrs,t=bd(t,i.hostAttrs))}}function iw(n){return n===ml?{}:n===ri?[]:n}function IF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function TF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function PF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function NF(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=bd(n.mergedAttrs,n.attrs);let d=n.tView=Yw(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),vd(n,!1);let l=kF(t,e,n,r);q0()&&eC(t,e,l,n),wd(l,e);let c=eA(l,e,l,n);e[r+Rr]=c,Zw(e,c),cF(c,n,e)}function OF(n,e,t,r,i,o,s,a,l,c,d){let h=t+Rr,g;return e.firstCreatePass?(g=P1(e,h,4,s||null,a||null),R5()&&iA(e,n,g,Ac(e.consts,c),zM),ZD(e,g)):g=e.data[h],NF(g,n,e,t,r,i,o,l),Lf(g)&&nC(e,n,g),c!=null&&rC(n,g,d),g}function gn(n,e,t,r,i,o,s,a){let l=Gt(),c=xr(),d=Ac(c.consts,o);return OF(l,c,n,e,t,r,i,d,void 0,s,a),gn}var kF=RF;function RF(n,e,t,r){return $0(!0),e[Rn].createComment("")}var R1=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(R1||{}),Rc=new Ye(""),_A=!1,Pw=class extends Xn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,R4()&&(this.destroyRef=Ee(oo,{optional:!0})??void 0,this.pendingTasks=Ee(Es,{optional:!0})??void 0)}emit(e){let t=Ot(null);try{super.next(e)}finally{Ot(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof zn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ur=Pw;function bA(n){let e,t;function r(){n=Vf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function FD(n){return queueMicrotask(()=>n()),()=>{n=Vf}}var dC="isAngularZone",v1=dC+"_ID",LF=0,Pn=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ur(!1);onMicrotaskEmpty=new ur(!1);onStable=new ur(!1);onError=new ur(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_A}=e;if(typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,BF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new De(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,FF,Vf,Vf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},FF={};function hC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){bA(()=>{n.callbackScheduled=!1,Nw(n),n.isCheckStableRunning=!0,hC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Nw(n)}function BF(n){let e=()=>{jF(n)},t=LF++;n._inner=n._inner.fork({name:"angular",properties:{[dC]:!0,[v1]:t,[v1+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(UF(l))return r.invokeTask(o,s,a,l);try{return jD(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),BD(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return jD(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!VF(l)&&e(),BD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Nw(n),hC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Nw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function jD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function BD(n){n._nesting--,hC(n)}var y1=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ur;onMicrotaskEmpty=new ur;onStable=new ur;onError=new ur;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function UF(n){return wA(n,"__ignore_ng_zone__")}function VF(n){return wA(n,"__scheduler_tick__")}function wA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var fC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Le({token:n,providedIn:"root",factory:()=>new n})}return n})(),CA=[0,1,2,3],EA=(()=>{class n{ngZone=Ee(Pn);scheduler=Ee(va);errorHandler=Ee(Oo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ee(Rc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&un(16),this.executing=!0;for(let r of CA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&un(17)}register(t){let{view:r}=t;r!==void 0?((r[xc]??=[]).push(t),md(r),r[_t]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(R1.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Le({token:n,providedIn:"root",factory:()=>new n})}return n})(),_1=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[xc];e&&(this.view[xc]=e.filter(t=>t!==this))}};function L1(n,e){let t=e?.injector??Ee(ki);return xl("NgAfterNextRender"),HF(n,t,e,!0)}function zF(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function HF(n,e,t,r){let i=e.get(fC);i.impl??=e.get(EA);let o=e.get(Rc,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(oo):null,a=e.get(G0,null,{optional:!0}),l=new _1(i.impl,zF(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var pC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var gC=new Ye("");function Dl(n){return!!n&&typeof n.then=="function"}function mC(n){return!!n&&typeof n.subscribe=="function"}var SA=new Ye("");var vC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Ee(SA,{optional:!0})??[];injector=Ee(ki);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=kr(this.injector,i);if(Dl(o))t.push(o);else if(mC(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F1=new Ye("");function xA(){Sb(()=>{let n="";throw new De(600,n)})}function DA(n){return n.isBoundToModule}var qF=10;var xa=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ee(oi);afterRenderManager=Ee(fC);zonelessEnabled=Ee(Uf);rootEffectScheduler=Ee(Q5);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Xn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Ee(Es);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ft(t=>!t))}constructor(){Ee(Rc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Ee(cr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ki.NULL){return this._injector.get(Pn).run(()=>{un(10);let s=t instanceof N1;if(!this._injector.get(vC).done){let y="";throw new De(405,y)}let l;s?l=t:l=this._injector.get(Zf).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=DA(l)?void 0:this._injector.get(Nc),d=r||l.selector,h=l.create(i,[],d,c),g=h.location.nativeElement,f=h.injector.get(gC,null);return f?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),Hf(this.components,h),f?.unregisterApplication(g)}),this._loadComponent(h),un(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){un(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(R1.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new De(101,!1);let t=Ot(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ot(t),this.afterTick.next(),un(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ca,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<qF;)un(14),this.synchronizeOnce(),un(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ff(i))continue;let o=r&&!this.zonelessEnabled?0:1;sC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ff(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Hf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(F1,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Hf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new De(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Da(n,e,t,r){let i=Gt(),o=Bf();if(Sl(i,o,e)){let s=xr(),a=z0();l9(a,i,n,e,t,r)}return Da}function Rt(n,e,t){let r=Gt(),i=Bf();if(Sl(r,i,e)){let o=xr(),s=z0();VM(s,r,n,e,r[Rn],t)}return Rt}function Ow(n,e,t,r,i){iC(e,n,t,i?"class":"style",r)}function ee(n,e,t,r){let i=Gt(),o=i[mt],s=n+Rr,a=o.firstCreatePass?sA(s,i,2,e,zM,R5(),t,r):o.data[s];if(HM(a,i,n,e,MA),Lf(a)){let l=i[mt];nC(l,i,a),yM(l,a,i)}return r!=null&&rC(i,a),ee}function ae(){let n=xr(),e=Dr(),t=qM(e);return n.firstCreatePass&&aA(n,t),L5(t)&&F5(),k5(),t.classesWithoutHost!=null&&PR(t)&&Ow(n,t,Gt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&NR(t)&&Ow(n,t,Gt(),t.stylesWithoutHost,!1),ae}function Re(n,e,t,r){return ee(n,e,t,r),ae(),Re}function ye(n,e,t,r){let i=Gt(),o=i[mt],s=n+Rr,a=o.firstCreatePass?G9(s,o,2,e,t,r):o.data[s];return HM(a,i,n,e,MA),r!=null&&rC(i,a),ye}function we(){let n=Dr(),e=qM(n);return L5(e)&&F5(),k5(),we}function nt(n,e,t,r){return ye(n,e,t,r),we(),nt}var MA=(n,e,t,r,i)=>($0(!0),PM(e[Rn],r,sD()));function Lr(){return Gt()}var Ic=void 0;function $F(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var GF=["en",[["a","p"],["AM","PM"],Ic],[["AM","PM"],Ic,Ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ic,"{1} 'at' {0}",Ic],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",$F],ow={};function yi(n){let e=WF(n),t=UD(e);if(t)return t;let r=e.split("-")[0];if(t=UD(r),t)return t;if(r==="en")return GF;throw new De(701,!1)}function UD(n){return n in ow||(ow[n]=ko.ng&&ko.ng.common&&ko.ng.common.locales&&ko.ng.common.locales[n]),ow[n]}var Hn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Hn||{});function WF(n){return n.toLowerCase().replace(/_/g,"-")}var Jf="en-US";var KF=Jf;function AA(n){typeof n=="string"&&(KF=n.toLowerCase().replace(/_/g,"-"))}function et(n,e,t){let r=Gt(),i=xr(),o=Dr();return IA(i,r,r[Rn],o,n,e,t),et}function IA(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=nw(r,e,o),K9(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){let g=d[h],f=d[h+1];l??=nw(r,e,o),ND(r,e,g,f,i,l)}if(c&&c.length)for(let h of c)l??=nw(r,e,o),ND(r,e,h,i,i,l)}}function lt(n=1){return oD(n)}function yC(n,e,t,r){vF(n,e,t,r)}function _C(n,e,t){mF(n,e,t)}function ep(n){let e=Gt(),t=xr(),r=H5();B0(r+1);let i=uC(t,r);if(n.dirty&&j4(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=bF(e,r);n.reset(o,$R),n.notifyOnChanges()}return!0}return!1}function tp(){return gF(Gt(),H5())}function j1(n){let e=K4();return M5(e,Rr+n)}function Q0(n,e){return n<<17|e<<2}function Oc(n){return n>>17&32767}function YF(n){return(n&2)==2}function XF(n,e){return n&131071|e<<17}function kw(n){return n|2}function Ed(n){return(n&131068)>>2}function sw(n,e){return n&-131069|e<<2}function ZF(n){return(n&1)===1}function Rw(n){return n|1}function QF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oc(s),l=Ed(s);n[r]=t;let c=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||hd(h,d)>0)&&(c=!0)}else d=t;if(i)if(l!==0){let g=Oc(n[a+1]);n[r+1]=Q0(g,a),g!==0&&(n[g+1]=sw(n[g+1],r)),n[a+1]=XF(n[a+1],r)}else n[r+1]=Q0(a,0),a!==0&&(n[a+1]=sw(n[a+1],r)),a=r;else n[r+1]=Q0(l,0),a===0?a=r:n[l+1]=sw(n[l+1],r),l=r;c&&(n[r+1]=kw(n[r+1])),VD(n,d,r,!0),VD(n,d,r,!1),JF(e,d,n,r,o),s=Q0(a,l),o?e.classBindings=s:e.styleBindings=s}function JF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&hd(o,e)>=0&&(t[r+1]=Rw(t[r+1]))}function VD(n,e,t,r){let i=n[t+1],o=e===null,s=r?Oc(i):Ed(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];ej(l,e)&&(a=!0,n[s+1]=r?Rw(c):kw(c)),s=r?Oc(c):Ed(c)}a&&(n[t+1]=r?kw(i):Rw(i))}function ej(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?hd(n,e)>=0:!1}var Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tj(n){return n.substring(Bo.key,Bo.keyEnd)}function nj(n){return rj(n),TA(n,PA(n,0,Bo.textEnd))}function TA(n,e){let t=Bo.textEnd;return t===e?-1:(e=Bo.keyEnd=ij(n,Bo.key=e,t),PA(n,e,t))}function rj(n){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=n.length}function PA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ij(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function B1(n,e,t){return NA(n,e,t,!1),B1}function Fi(n,e){return NA(n,e,null,!0),Fi}function Md(n){sj(hj,oj,n,!0)}function oj(n,e){for(let t=nj(e);t>=0;t=TA(e,t))P0(n,tj(e),!0)}function NA(n,e,t,r){let i=Gt(),o=xr(),s=F0(2);if(o.firstUpdatePass&&kA(o,n,s,r),e!==Li&&Sl(i,s,e)){let a=o.data[ba()];RA(o,a,i,i[Rn],n,i[s+1]=pj(e,t),r,s)}}function sj(n,e,t,r){let i=xr(),o=F0(2);i.firstUpdatePass&&kA(i,null,o,r);let s=Gt();if(t!==Li&&Sl(s,o,t)){let a=i.data[ba()];if(LA(a,r)&&!OA(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=M0(l,t||"")),Ow(i,a,s,t,r)}else fj(i,a,s,s[Rn],s[o+1],s[o+1]=dj(n,e,t),r,o)}}function OA(n,e){return e>=n.expandoStartIndex}function kA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ba()],s=OA(n,t);LA(o,r)&&e===null&&!s&&(e=!1),e=aj(i,o,e,r),QF(i,o,e,t,s,r)}}function aj(n,e,t,r){let i=tD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=aw(null,n,e,t,r),t=Wf(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=aw(i,n,e,t,r),o===null){let l=lj(n,e,r);l!==void 0&&Array.isArray(l)&&(l=aw(null,n,e,l[1],r),l=Wf(l,e.attrs,r),cj(n,e,r,l))}else o=uj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function lj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ed(r)!==0)return n[Oc(r)]}function cj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Oc(i)]=r}function uj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Wf(r,s,t)}return Wf(r,e.attrs,t)}function aw(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Wf(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Wf(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),P0(n,s,t?!0:e[++o]))}return n===void 0?null:n}function dj(n,e,t){if(t==null||t==="")return ri;let r=[],i=kc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function hj(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&P0(n,r,t)}function fj(n,e,t,r,i,o,s,a){i===Li&&(i=ri);let l=0,c=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;d!==null||h!==null;){let g=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0,y=null,_;d===h?(l+=2,c+=2,g!==f&&(y=h,_=f)):h===null||d!==null&&d<h?(l+=2,y=d):(c+=2,y=h,_=f),y!==null&&RA(n,e,t,r,y,_,s,a),d=l<i.length?i[l]:null,h=c<o.length?o[c]:null}}function RA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=ZF(c)?zD(l,e,t,i,Ed(c),s):void 0;if(!b1(d)){b1(o)||YF(c)&&(o=zD(l,null,t,i,a,s));let h=D5(ba(),t);QL(r,s,h,i,o)}}function zD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),d=c?l[1]:l,h=d===null,g=t[i+1];g===Li&&(g=h?ri:void 0);let f=h?N0(g,r):d===r?g:void 0;if(c&&!b1(f)&&(f=N0(l,r)),b1(f)&&(a=f,s))return a;let y=n[i+1];i=s?Oc(y):Ed(y)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=N0(l,r))}return a}function b1(n){return n!==void 0}function pj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ma(kc(n)))),n}function LA(n,e){return(n.flags&(e?8:16))!==0}function q(n,e=""){let t=Gt(),r=xr(),i=n+Rr,o=r.firstCreatePass?P1(r,i,1,e,null):r.data[i],s=gj(r,t,o,e,n);t[i]=s,q0()&&eC(r,t,s,o),vd(o,!1)}var gj=(n,e,t,r,i)=>($0(!0),PL(e[Rn],r));function mj(n,e,t,r=""){return Sl(n,Bf(),t)?e+gl(t)+r:Li}function vj(n,e,t,r,i,o=""){let s=X4(),a=uA(n,s,t,i);return F0(2),a?e+gl(t)+r+gl(i)+o:Li}function Mn(n){return Mr("",n),Mn}function Mr(n,e,t){let r=Gt(),i=mj(r,n,e,t);return i!==Li&&FA(r,ba(),i),Mr}function Ml(n,e,t,r,i){let o=Gt(),s=vj(o,n,e,t,r,i);return s!==Li&&FA(o,ba(),s),Ml}function FA(n,e,t){let r=D5(e,n);NL(n[Rn],r,t)}function Ms(n,e,t){Y5(e)&&(e=e());let r=Gt(),i=Bf();if(Sl(r,i,e)){let o=xr(),s=z0();VM(s,r,n,e,r[Rn],t)}return Ms}function Ma(n,e){let t=Y5(n);return t&&n.set(e),t}function As(n,e){let t=Gt(),r=xr(),i=Dr();return IA(r,t,t[Rn],i,n,e),As}function yj(n,e,t){let r=xr();if(r.firstCreatePass){let i=ws(n);Lw(t,r.data,r.blueprint,i,!0),Lw(e,r.data,r.blueprint,i,!1)}}function Lw(n,e,t,r,i){if(n=Or(n),Array.isArray(n))for(let o=0;o<n.length;o++)Lw(n[o],e,t,r,i);else{let o=xr(),s=Gt(),a=Dr(),l=_c(n)?n:Or(n.provide),c=w5(n),d=a.providerIndexes&1048575,h=a.directiveStart,g=a.providerIndexes>>20;if(_c(n)||!n.multi){let f=new Pc(c,i,Ze,null),y=cw(l,e,i?d:d+g,h);y===-1?(dw(a1(a,s),o,l),lw(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[y]=f,s[y]=f)}else{let f=cw(l,e,d+g,h),y=cw(l,e,d,d+g),_=f>=0&&t[f],C=y>=0&&t[y];if(i&&!C||!i&&!_){dw(a1(a,s),o,l);let w=wj(i?bj:_j,t.length,i,r,c,n);!i&&C&&(t[y].providerFactory=w),lw(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)}else{let w=jA(t[i?y:f],c,!i&&r);lw(o,n,f>-1?f:y,w)}!i&&r&&C&&t[y].componentProviders++}}}function lw(n,e,t,r){let i=_c(e),o=k4(e);if(i||o){let l=(o?Or(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function jA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _j(n,e,t,r,i){return Fw(this.multi,[])}function bj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=qf(r,r[mt],this.providerFactory.index,i);s=l.slice(0,a),Fw(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Fw(o,s);return s}function Fw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function wj(n,e,t,r,i,o){let s=new Pc(n,t,Ze,null);return s.multi=[],s.index=e,s.componentProviders=0,jA(s,i,r&&!t),s}function Aa(n,e=[]){return t=>{t.providersResolver=(r,i)=>yj(r,i?i(n):n,e)}}function Cj(n,e){let t=n[e];return t===Li?void 0:t}function Ej(n,e,t,r,i,o,s){let a=e+t;return uA(n,a,i,o)?W9(n,a+2,s?r.call(s,i,o):r(i,o)):Cj(n,a+2)}function Ia(n,e){let t=xr(),r,i=n+Rr;t.firstCreatePass?(r=Sj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=hl(r.type,!0)),s,a=ni(Ze);try{let l=s1(!1),c=o();return s1(l),A5(t,Gt(),i,c),c}finally{ni(a)}}function Sj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ta(n,e,t,r){let i=n+Rr,o=Gt(),s=M5(o,i);return xj(o,i)?Ej(o,Y4(),e,s.transform,t,r,s):s.transform(t,r)}function xj(n,e){return n[mt].data[e].pure}function bC(n,e){return T1(n,e)}var w1=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},wC=(()=>{class n{compileModuleSync(t){return new m1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=v5(t),o=IM(i.declarations).reduce((s,a)=>{let l=vl(a);return l&&s.push(new Cd(l)),s},[]);return new w1(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dj=(()=>{class n{zone=Ee(Pn);changeDetectionScheduler=Ee(va);applicationRef=Ee(xa);applicationErrorHandler=Ee(oi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BA=new Ye("",{factory:()=>!1});function CC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Pn(vt(Me({},SC()),{scheduleInRootZone:t})),[{provide:Pn,useFactory:n},{provide:ya,multi:!0,useFactory:()=>{let r=Ee(Dj,{optional:!0});return()=>r.initialize()}},{provide:ya,multi:!0,useFactory:()=>{let r=Ee(Mj);return()=>{r.initialize()}}},e===!0?{provide:X5,useValue:!0}:[],{provide:Z5,useValue:t??_A},{provide:oi,useFactory:()=>{let r=Ee(Pn),i=Ee(cr),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Oo),o.handleError(s))})}}}]}function EC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=CC({ngZoneFactory:()=>{let i=SC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&xl("NgZone_CoalesceEvent"),new Pn(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return _a([{provide:BA,useValue:!0},{provide:Uf,useValue:!1},r])}function SC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Mj=(()=>{class n{subscription=new zn;initialized=!1;zone=Ee(Pn);pendingTasks=Ee(Es);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var UA=(()=>{class n{applicationErrorHandler=Ee(oi);appRef=Ee(xa);taskService=Ee(Es);ngZone=Ee(Pn);zonelessEnabled=Ee(Uf);tracing=Ee(Rc,{optional:!0});disableScheduling=Ee(X5,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new zn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(v1):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ee(Z5,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof y1||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?FD:bA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(v1+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,FD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Aj(){return typeof $localize<"u"&&$localize.locale||Jf}var Ad=new Ye("",{providedIn:"root",factory:()=>Ee(Ad,{optional:!0,skipSelf:!0})||Aj()});function Ho(n){return y4(n)}function np(n,e){return Gm(n,e?.equal)}var VA=class{[zr];constructor(e){this[zr]=e}destroy(){this[zr].destroy()}};var GA=Symbol("InputSignalNode#UNSET"),Vj=vt(Me({},Wm),{transformFn:void 0,applyValueToInputSignal(n,e){Qu(n,e)}});function WA(n,e){let t=Object.create(Vj);t.value=n,t.transformFn=e?.transform;function r(){if(Xu(t),t.value===GA){let i=null;throw new De(-950,i)}return t.value}return r[zr]=t,r}var V1=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Kf(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},zj=new Ye("");zj.__NG_ELEMENT_ID__=n=>{let e=Dr();if(e===null)throw new De(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new De(204,!1)};function zA(n,e){return WA(n,e)}function Hj(n){return WA(GA,n)}var KA=(zA.required=Hj,zA);var xC=new Ye(""),qj=new Ye("");function rp(n){return!n.moduleRef}function $j(n){let e=rp(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Pn);return t.run(()=>{rp(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(oi),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),rp(n)){let o=()=>e.destroy(),s=n.platformInjector.get(xC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(xC);s.add(o),n.moduleRef.onDestroy(()=>{Hf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Wj(r,t,()=>{let o=e.get(Es),s=o.add(),a=e.get(vC);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Ad,Jf);if(AA(l||Jf),!e.get(qj,!0))return rp(n)?e.get(xa):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(rp(n)){let d=e.get(xa);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return Gj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var Gj;function Wj(n,e,t){try{let r=t();return Dl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var U1=null;function Kj(n=[],e){return ki.create({name:e,providers:[{provide:Tf,useValue:"platform"},{provide:xC,useValue:new Set([()=>U1=null])},...n]})}function Yj(n=[]){if(U1)return U1;let e=Kj(n);return U1=e,xA(),Xj(e),e}function Xj(n){let e=n.get(E1,null);kr(n,()=>{e?.forEach(t=>t())})}var qo=(()=>{class n{static __NG_ELEMENT_ID__=Zj}return n})();function Zj(n){return Qj(Dr(),Gt(),(n&16)===16)}function Qj(n,e,t){if(bl(n)&&!t){let r=io(n.index,e);return new Cl(r,r)}else if(n.type&175){let r=e[no];return new Cl(r,e)}return null}var DC=class{constructor(){}supports(e){return cC(e)}create(e){return new MC(e)}},Jj=(n,e)=>e,MC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Jj}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<HA(r,i,o)?t:r,a=HA(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,d=l-i;if(c!=d){for(let g=0;g<c;g++){let f=g<o.length?o[g]:o[g]=0,y=f+g;d<=y&&y<c&&(o[g]=f+1)}let h=s.previousIndex;o[h]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!cC(e))throw new De(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,lA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new AC(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new z1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new z1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},AC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},IC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},z1=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new IC,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function HA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function qA(){return new TC([new DC])}var TC=(()=>{class n{factories;static \u0275prov=Le({token:n,providedIn:"root",factory:qA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||qA()),deps:[[n,new GD,new $D]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new De(901,!1)}}return n})();function YA(n){un(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Yj(r),o=[CC({}),{provide:va,useExisting:UA},lD,...t||[]],s=new Gf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return $j({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{un(9)}}function Lc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var QA=null;function ao(){return QA}function PC(n){QA??=n}var ip=class{},NC=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:()=>Ee(JA),providedIn:"platform"})}return n})();var JA=(()=>{class n extends NC{_location;_history;_doc=Ee(Tn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ao().getBaseHref(this._doc)}onPopState(t){let r=ao().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ao().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function eI(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function XA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Al(n){return n&&n[0]!=="?"?`?${n}`:n}var Fc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:()=>Ee(OC),providedIn:"root"})}return n})(),tI=new Ye(""),OC=(()=>{class n extends Fc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ee(Tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return eI(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Al(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Al(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Al(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ke(NC),Ke(tI,8))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jc=(()=>{class n{_subject=new Xn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=nB(XA(ZA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Al(r))}normalize(t){return n.stripTrailingSlash(tB(this._basePath,ZA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Al(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Al(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Al;static joinWithSlash=eI;static stripTrailingSlash=XA;static \u0275fac=function(r){return new(r||n)(Ke(Fc))};static \u0275prov=Le({token:n,factory:()=>eB(),providedIn:"root"})}return n})();function eB(){return new jc(Ke(Fc))}function tB(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ZA(n){return n.replace(/\/index.html$/,"")}function nB(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var BC=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(BC||{});var qr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(qr||{}),mn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(mn||{}),_i=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(_i||{}),bi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function sI(n){return yi(n)[Hn.LocaleId]}function aI(n,e,t){let r=yi(n),i=[r[Hn.DayPeriodsFormat],r[Hn.DayPeriodsStandalone]],o=lo(i,e);return lo(o,t)}function lI(n,e,t){let r=yi(n),i=[r[Hn.DaysFormat],r[Hn.DaysStandalone]],o=lo(i,e);return lo(o,t)}function cI(n,e,t){let r=yi(n),i=[r[Hn.MonthsFormat],r[Hn.MonthsStandalone]],o=lo(i,e);return lo(o,t)}function uI(n,e){let r=yi(n)[Hn.Eras];return lo(r,e)}function op(n,e){let t=yi(n);return lo(t[Hn.DateFormat],e)}function sp(n,e){let t=yi(n);return lo(t[Hn.TimeFormat],e)}function ap(n,e){let r=yi(n)[Hn.DateTimeFormat];return lo(r,e)}function Is(n,e){let t=yi(n),r=t[Hn.NumberSymbols][e];if(typeof r>"u"){if(e===bi.CurrencyDecimal)return t[Hn.NumberSymbols][bi.Decimal];if(e===bi.CurrencyGroup)return t[Hn.NumberSymbols][bi.Group]}return r}function dI(n,e){return yi(n)[Hn.NumberFormats][e]}function hI(n){if(!n[Hn.ExtraData])throw new De(2303,!1)}function fI(n){let e=yi(n);return hI(e),(e[Hn.ExtraData][2]||[]).map(r=>typeof r=="string"?kC(r):[kC(r[0]),kC(r[1])])}function pI(n,e,t){let r=yi(n);hI(r);let i=[r[Hn.ExtraData][0],r[Hn.ExtraData][1]],o=lo(i,e)||[];return lo(o,t)||[]}function lo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new De(2304,!1)}function kC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var rB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H1={},iB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function gI(n,e,t,r){let i=fB(n);e=Pa(t,e)||e;let s=[],a;for(;e;)if(a=iB.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=vI(r,l),i=hB(i,r));let c="";return s.forEach(d=>{let h=uB(d);c+=h?h(i,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function K1(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Pa(n,e){let t=sI(n);if(H1[t]??={},H1[t][e])return H1[t][e];let r="";switch(e){case"shortDate":r=op(n,_i.Short);break;case"mediumDate":r=op(n,_i.Medium);break;case"longDate":r=op(n,_i.Long);break;case"fullDate":r=op(n,_i.Full);break;case"shortTime":r=sp(n,_i.Short);break;case"mediumTime":r=sp(n,_i.Medium);break;case"longTime":r=sp(n,_i.Long);break;case"fullTime":r=sp(n,_i.Full);break;case"short":let i=Pa(n,"shortTime"),o=Pa(n,"shortDate");r=q1(ap(n,_i.Short),[i,o]);break;case"medium":let s=Pa(n,"mediumTime"),a=Pa(n,"mediumDate");r=q1(ap(n,_i.Medium),[s,a]);break;case"long":let l=Pa(n,"longTime"),c=Pa(n,"longDate");r=q1(ap(n,_i.Long),[l,c]);break;case"full":let d=Pa(n,"fullTime"),h=Pa(n,"fullDate");r=q1(ap(n,_i.Full),[d,h]);break}return r&&(H1[t][e]=r),r}function q1(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function $o(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function oB(n,e){return $o(n,3).substring(0,e)}function dr(n,e,t=0,r=!1,i=!1){return function(o,s){let a=sB(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return oB(a,e);let l=Is(s,bi.MinusSign);return $o(a,e,l,r,i)}}function sB(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new De(2301,!1)}}function xn(n,e,t=qr.Format,r=!1){return function(i,o){return aB(i,o,n,e,t,r)}}function aB(n,e,t,r,i,o){switch(t){case 2:return cI(e,i,r)[n.getMonth()];case 1:return lI(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=fI(e),d=pI(e,i,r),h=c.findIndex(g=>{if(Array.isArray(g)){let[f,y]=g,_=s>=f.hours&&a>=f.minutes,C=s<y.hours||s===y.hours&&a<y.minutes;if(f.hours<y.hours){if(_&&C)return!0}else if(_||C)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return aI(e,i,r)[s<12?0:1];case 3:return uI(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new De(2302,!1)}}function $1(n){return function(e,t,r){let i=-1*r,o=Is(t,bi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+$o(s,2,o)+$o(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+$o(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+$o(s,2,o)+":"+$o(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+$o(s,2,o)+":"+$o(Math.abs(i%60),2,o);default:throw new De(2302,!1)}}}var lB=0,W1=4;function cB(n){let e=K1(n,lB,1).getDay();return K1(n,0,1+(e<=W1?W1:W1+7)-e)}function mI(n){let e=n.getDay(),t=e===0?-3:W1-e;return K1(n.getFullYear(),n.getMonth(),n.getDate()+t)}function RC(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=mI(t),s=cB(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return $o(i,n,Is(r,bi.MinusSign))}}function G1(n,e=!1){return function(t,r){let o=mI(t).getFullYear();return $o(o,n,Is(r,bi.MinusSign),e)}}var LC={};function uB(n){if(LC[n])return LC[n];let e;switch(n){case"G":case"GG":case"GGG":e=xn(3,mn.Abbreviated);break;case"GGGG":e=xn(3,mn.Wide);break;case"GGGGG":e=xn(3,mn.Narrow);break;case"y":e=dr(0,1,0,!1,!0);break;case"yy":e=dr(0,2,0,!0,!0);break;case"yyy":e=dr(0,3,0,!1,!0);break;case"yyyy":e=dr(0,4,0,!1,!0);break;case"Y":e=G1(1);break;case"YY":e=G1(2,!0);break;case"YYY":e=G1(3);break;case"YYYY":e=G1(4);break;case"M":case"L":e=dr(1,1,1);break;case"MM":case"LL":e=dr(1,2,1);break;case"MMM":e=xn(2,mn.Abbreviated);break;case"MMMM":e=xn(2,mn.Wide);break;case"MMMMM":e=xn(2,mn.Narrow);break;case"LLL":e=xn(2,mn.Abbreviated,qr.Standalone);break;case"LLLL":e=xn(2,mn.Wide,qr.Standalone);break;case"LLLLL":e=xn(2,mn.Narrow,qr.Standalone);break;case"w":e=RC(1);break;case"ww":e=RC(2);break;case"W":e=RC(1,!0);break;case"d":e=dr(2,1);break;case"dd":e=dr(2,2);break;case"c":case"cc":e=dr(7,1);break;case"ccc":e=xn(1,mn.Abbreviated,qr.Standalone);break;case"cccc":e=xn(1,mn.Wide,qr.Standalone);break;case"ccccc":e=xn(1,mn.Narrow,qr.Standalone);break;case"cccccc":e=xn(1,mn.Short,qr.Standalone);break;case"E":case"EE":case"EEE":e=xn(1,mn.Abbreviated);break;case"EEEE":e=xn(1,mn.Wide);break;case"EEEEE":e=xn(1,mn.Narrow);break;case"EEEEEE":e=xn(1,mn.Short);break;case"a":case"aa":case"aaa":e=xn(0,mn.Abbreviated);break;case"aaaa":e=xn(0,mn.Wide);break;case"aaaaa":e=xn(0,mn.Narrow);break;case"b":case"bb":case"bbb":e=xn(0,mn.Abbreviated,qr.Standalone,!0);break;case"bbbb":e=xn(0,mn.Wide,qr.Standalone,!0);break;case"bbbbb":e=xn(0,mn.Narrow,qr.Standalone,!0);break;case"B":case"BB":case"BBB":e=xn(0,mn.Abbreviated,qr.Format,!0);break;case"BBBB":e=xn(0,mn.Wide,qr.Format,!0);break;case"BBBBB":e=xn(0,mn.Narrow,qr.Format,!0);break;case"h":e=dr(3,1,-12);break;case"hh":e=dr(3,2,-12);break;case"H":e=dr(3,1);break;case"HH":e=dr(3,2);break;case"m":e=dr(4,1);break;case"mm":e=dr(4,2);break;case"s":e=dr(5,1);break;case"ss":e=dr(5,2);break;case"S":e=dr(6,1);break;case"SS":e=dr(6,2);break;case"SSS":e=dr(6,3);break;case"Z":case"ZZ":case"ZZZ":e=$1(0);break;case"ZZZZZ":e=$1(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$1(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=$1(2);break;default:return null}return LC[n]=e,e}function vI(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function dB(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function hB(n,e,t){let i=n.getTimezoneOffset(),o=vI(e,i);return dB(n,-1*(o-i))}function fB(n){if(nI(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return K1(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(rB))return pB(r)}let e=new Date(n);if(!nI(e))throw new De(2302,!1);return e}function pB(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,c),e}function nI(n){return n instanceof Date&&!isNaN(n.valueOf())}var gB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rI=22,Y1=".",lp="0",mB=";",vB=",",FC="#";function yB(n,e,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Is(t,bi.Infinity);else{let c=wB(n);s&&(c=bB(c));let d=e.minInt,h=e.minFrac,g=e.maxFrac;if(o){let E=o.match(gB);if(E===null)throw new De(2306,!1);let T=E[1],P=E[3],H=E[5];T!=null&&(d=jC(T)),P!=null&&(h=jC(P)),H!=null?g=jC(H):P!=null&&h>g&&(g=h)}CB(c,h,g);let f=c.digits,y=c.integerLen,_=c.exponent,C=[];for(l=f.every(E=>!E);y<d;y++)f.unshift(0);for(;y<0;y++)f.unshift(0);y>0?C=f.splice(y,f.length):(C=f,f=[0]);let w=[];for(f.length>=e.lgSize&&w.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)w.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&w.unshift(f.join("")),a=w.join(Is(t,r)),C.length&&(a+=Is(t,i)+C.join("")),_&&(a+=Is(t,bi.Exponential)+"+"+_)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function yI(n,e,t){let r=dI(e,BC.Decimal),i=_B(r,Is(e,bi.MinusSign));return yB(n,i,e,bi.Group,bi.Decimal,t)}function _B(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(mB),i=r[0],o=r[1],s=i.indexOf(Y1)!==-1?i.split(Y1):[i.substring(0,i.lastIndexOf(lp)+1),i.substring(i.lastIndexOf(lp)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(FC));for(let d=0;d<l.length;d++){let h=l.charAt(d);h===lp?t.minFrac=t.maxFrac=d+1:h===FC?t.maxFrac=d+1:t.posSuf+=h}let c=a.split(vB);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,h=o.indexOf(FC);t.negPre=o.substring(0,h).replace(/'/g,""),t.negSuf=o.slice(h+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function bB(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function wB(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Y1))>-1&&(e=e.replace(Y1,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===lp;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===lp;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>rI&&(r=r.splice(0,rI-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function CB(n,e,t){if(e>t)throw new De(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=e+n.integerLen,d=r.reduceRight(function(h,g,f,y){return g=g+h,y[f]=g<10?g:g-10,l&&(y[f]===0&&f>=c?y.pop():l=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function jC(n){let e=parseInt(n);if(isNaN(e))throw new De(2305,!1);return e}var X1=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Il=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new X1(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),iI(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);iI(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ze(Sa),Ze(El),Ze(TC))};static \u0275dir=Ln({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function iI(n,e){n.context.$implicit=e.item}var Go=(()=>{class n{_viewContainer;_context=new Z1;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oI(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oI(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ze(Sa),Ze(El))};static \u0275dir=Ln({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Z1=class{$implicit=null;ngIf=null};function oI(n,e){if(n&&!n.createEmbeddedView)throw new De(2020,!1)}function _I(n,e){return new De(2100,!1)}var EB="mediumDate",bI=new Ye(""),wI=new Ye(""),UC=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??EB,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return gI(t,s,o||this.locale,a)}catch(s){throw _I(n,s.message)}}static \u0275fac=function(r){return new(r||n)(Ze(Ad,16),Ze(bI,24),Ze(wI,24))};static \u0275pipe=k1({name:"date",type:n,pure:!0})}return n})();var VC=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!SB(t))return null;i||=this._locale;try{let o=xB(t);return yI(o,i,r)}catch(o){throw _I(n,o.message)}}static \u0275fac=function(r){return new(r||n)(Ze(Ad,16))};static \u0275pipe=k1({name:"number",type:n,pure:!0})}return n})();function SB(n){return!(n==null||n===""||n!==n)}function xB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new De(2309,!1);return n}var co=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zo({type:n});static \u0275inj=Ji({})}return n})();function cp(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Bc=class{};var CI="browser";var EI=(()=>{class n{static \u0275prov=Le({token:n,providedIn:"root",factory:()=>new zC(Ee(Tn),window)})}return n})(),zC=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(vt(Me({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=IB(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(pl(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(vt(Me({},t),{left:i-s[0],top:o-s[1]}))}};function IB(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var J1=new Ye(""),WC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new De(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Ke(J1),Ke(Pn))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})(),up=class{_doc;constructor(e){this._doc=e}manager},HC="ng-app-id";function SI(n){for(let e of n)e.remove()}function xI(n,e){let t=e.createElement("style");return t.textContent=n,t}function TB(n,e,t,r){let i=n.head?.querySelectorAll(`style[${HC}="${e}"],link[${HC}="${e}"]`);if(i)for(let o of i)o.removeAttribute(HC),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function $C(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var KC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,TB(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,xI);r?.forEach(i=>this.addUsage(i,this.external,$C))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(SI(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])SI(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,xI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,$C(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Ke(Tn),Ke(C1),Ke(x1,8),Ke(Dd))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})(),qC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},YC=/%COMP%/g;var MI="%COMP%",PB=`_nghost-${MI}`,NB=`_ngcontent-${MI}`,OB=!0,kB=new Ye("",{providedIn:"root",factory:()=>OB});function RB(n){return NB.replace(YC,n)}function LB(n){return PB.replace(YC,n)}function AI(n,e){return e.map(t=>t.replace(YC,n))}var fp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new dp(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Q1?i.applyToHost(t):i instanceof hp&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case wa.Emulated:o=new Q1(l,c,r,this.appId,d,s,a,h,g);break;case wa.ShadowDom:return new GC(l,c,t,r,s,a,this.nonce,h,g);default:o=new hp(l,c,r,d,s,a,h,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Ke(WC),Ke(KC),Ke(C1),Ke(kB),Ke(Tn),Ke(Dd),Ke(Pn),Ke(x1),Ke(Rc,8))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})(),dp=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(qC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(DI(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(DI(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new De(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=qC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=qC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(xs.DashCase|xs.Important)?e.style.setProperty(t,r,i&xs.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&xs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ao().getGlobalEventTarget(this.doc,e),!e))throw new De(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function DI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var GC=class extends dp{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=AI(i.id,d);for(let g of d){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=g,this.shadowRoot.appendChild(f)}let h=i.getExternalStyles?.();if(h)for(let g of h){let f=$C(g,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hp=class extends dp{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?AI(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Q1=class extends hp{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let d=i+"-"+r.id;super(e,t,r,o,s,a,l,c,d),this.contentAttr=RB(d),this.hostAttr=LB(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ev=class n extends ip{supportsDOMEvents=!0;static makeCurrent(){PC(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=FB();return t==null?null:jB(t)}resetBaseElement(){pp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cp(document.cookie,e)}},pp=null;function FB(){return pp=pp||document.head.querySelector("base"),pp?pp.getAttribute("href"):null}function jB(n){return new URL(n,document.baseURI).pathname}var BB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})(),TI=(()=>{class n extends up{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Ke(Tn))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})(),II=["alt","control","meta","shift"],UB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},PI=(()=>{class n extends up{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ao().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),II.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=UB[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),II.forEach(s=>{if(s!==i){let a=VB[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Ke(Tn))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})();function XC(n,e){let t=Me({rootComponent:n},zB(e));return YA(t)}function zB(n){return{appProviders:[...WB,...n?.providers??[]],platformProviders:GB}}function HB(){ev.makeCurrent()}function qB(){return new Oo}function $B(){return Uw(document),document}var GB=[{provide:Dd,useValue:CI},{provide:E1,useValue:HB,multi:!0},{provide:Tn,useFactory:$B}];var WB=[{provide:Tf,useValue:"root"},{provide:Oo,useFactory:qB},{provide:J1,useClass:TI,multi:!0,deps:[Tn]},{provide:J1,useClass:PI,multi:!0,deps:[Tn]},fp,KC,WC,{provide:Ca,useExisting:fp},{provide:Bc,useClass:BB},[]];var Pd=class{},vp=class{},Uc=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var nv=class{encodeKey(e){return NI(e)}encodeValue(e){return NI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function KB(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var YB=/%(\d[a-f0-9])/gi,XB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NI(n){return encodeURIComponent(n).replace(YB,(e,t)=>XB[t]??e)}function tv(n){return`${n}`}var Tl=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new nv,e.fromString){if(e.fromObject)throw new De(2805,!1);this.map=KB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(tv):[tv(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(tv(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tv(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rv=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function ZB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function OI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function kI(n){return typeof Blob<"u"&&n instanceof Blob}function RI(n){return typeof FormData<"u"&&n instanceof FormData}function QB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var LI="Content-Type",FI="Accept",jI="X-Request-URL",BI="text/plain",UI="application/json",JB=`${UI}, ${BI}, */*`,gp=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(ZB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new Uc,this.context??=new rv,!this.params)this.params=new Tl,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||OI(this.body)||kI(this.body)||RI(this.body)||QB(this.body)?this.body:this.body instanceof Tl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||RI(this.body)?null:kI(this.body)?this.body.type||null:OI(this.body)?null:typeof this.body=="string"?BI:this.body instanceof Tl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?UI:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,h=e.transferCache??this.transferCache,g=e.timeout??this.timeout,f=e.body!==void 0?e.body:this.body,y=e.withCredentials??this.withCredentials,_=e.reportProgress??this.reportProgress,C=e.headers||this.headers,w=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(C=Object.keys(e.setHeaders).reduce((T,P)=>T.set(P,e.setHeaders[P]),C)),e.setParams&&(w=Object.keys(e.setParams).reduce((T,P)=>T.set(P,e.setParams[P]),w)),new n(t,r,f,{params:w,headers:C,context:E,reportProgress:_,responseType:i,withCredentials:y,transferCache:h,keepalive:o,cache:a,priority:s,timeout:g,mode:l,redirect:c,credentials:d})}},Td=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Td||{}),Nd=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Uc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},iv=class n extends Nd{constructor(e={}){super(e)}type=Td.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ov=class n extends Nd{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Td.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},mp=class extends Nd{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},eU=200,tU=204;function ZC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect}}var nU=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof gp)o=t;else{let l;i.headers instanceof Uc?l=i.headers:l=new Uc(i.headers);let c;i.params&&(i.params instanceof Tl?c=i.params:c=new Tl({fromObject:i.params})),o=new gp(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=ht(o).pipe(ha(l=>this.handler.handle(l)));if(t instanceof gp||i.observe==="events")return s;let a=s.pipe(ti(l=>l instanceof ov));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ft(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new De(2806,!1);return l.body}));case"blob":return a.pipe(ft(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new De(2807,!1);return l.body}));case"text":return a.pipe(ft(l=>{if(l.body!==null&&typeof l.body!="string")throw new De(2808,!1);return l.body}));case"json":default:return a.pipe(ft(l=>l.body))}case"response":return a;default:throw new De(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Tl().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ZC(i,r))}post(t,r,i={}){return this.request("POST",t,ZC(i,r))}put(t,r,i={}){return this.request("PUT",t,ZC(i,r))}static \u0275fac=function(r){return new(r||n)(Ke(Pd))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})();var rU=new Ye("");function iU(n,e){return e(n)}function oU(n,e,t){return(r,i)=>kr(t,()=>e(r,o=>n(o,i)))}var VI=new Ye(""),sU=new Ye(""),zI=new Ye("",{providedIn:"root",factory:()=>!0});var sv=(()=>{class n extends Pd{backend;injector;chain=null;pendingTasks=Ee(W0);contributeToStability=Ee(zI);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(VI),...this.injector.get(sU,[])]));this.chain=r.reduceRight((i,o)=>oU(i,o,this.injector),iU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(mc(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Ke(vp),Ke(cr))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})();var aU=/^\)\]\}',?\n/,lU=RegExp(`^${jI}:`,"m");function cU(n){return"responseURL"in n&&n.responseURL?n.responseURL:lU.test(n.getAllResponseHeaders())?n.getResponseHeader(jI):null}var QC=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new De(-2800,!1);let r=this.xhrFactory;return ht(null).pipe(vi(()=>new Lt(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,w)=>s.setRequestHeader(C,w.join(","))),t.headers.has(FI)||s.setRequestHeader(FI,JB),!t.headers.has(LI)){let C=t.detectContentTypeHeader();C!==null&&s.setRequestHeader(LI,C)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let C=t.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let C=s.statusText||"OK",w=new Uc(s.getAllResponseHeaders()),E=cU(s)||t.url;return l=new iv({headers:w,status:s.status,statusText:C,url:E}),l},d=()=>{let{headers:C,status:w,statusText:E,url:T}=c(),P=null;w!==tU&&(P=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=P?eU:0);let H=w>=200&&w<300;if(t.responseType==="json"&&typeof P=="string"){let Q=P;P=P.replace(aU,"");try{P=P!==""?JSON.parse(P):null}catch(U){P=Q,H&&(H=!1,P={error:U,text:P})}}H?(o.next(new ov({body:P,headers:C,status:w,statusText:E,url:T||void 0})),o.complete()):o.error(new mp({error:P,headers:C,status:w,statusText:E,url:T||void 0}))},h=C=>{let{url:w}=c(),E=new mp({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(E)},g=h;t.timeout&&(g=C=>{let{url:w}=c(),E=new mp({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:w||void 0});o.error(E)});let f=!1,y=C=>{f||(o.next(c()),f=!0);let w={type:Td.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),t.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},_=C=>{let w={type:Td.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",g),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Td.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Ke(Bc))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})(),HI=new Ye(""),uU="XSRF-TOKEN",dU=new Ye("",{providedIn:"root",factory:()=>uU}),hU="X-XSRF-TOKEN",fU=new Ye("",{providedIn:"root",factory:()=>hU}),yp=class{},pU=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cp(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Ke(Tn),Ke(dU))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})();function gU(n,e){let t=n.url.toLowerCase();if(!Ee(HI)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=Ee(yp).getToken(),i=Ee(fU);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function JC(...n){let e=[nU,QC,sv,{provide:Pd,useExisting:sv},{provide:vp,useFactory:()=>Ee(rU,{optional:!0})??Ee(QC)},{provide:VI,useValue:gU,multi:!0},{provide:HI,useValue:!0},{provide:yp,useClass:pU}];for(let t of n)e.push(...t.\u0275providers);return _a(e)}var qI=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Ke(Tn))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pt="primary",Pp=Symbol("RouteTitle"),iE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Hc(n){return new iE(n)}function QI(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ts(n[t],e[t]))return!1;return!0}function Ts(n,e){let t=n?oE(n):void 0,r=e?oE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!JI(n[i],e[i]))return!1;return!0}function oE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function JI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function e6(n){return n.length>0?n[n.length-1]:null}function Na(n){return jb(n)?n:Dl(n)?kn(Promise.resolve(n)):ht(n)}var yU={exact:n6,subset:r6},t6={exact:_U,subset:bU,ignored:()=>!0};function $I(n,e,t){return yU[t.paths](n.root,e.root,t.matrixParams)&&t6[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function _U(n,e){return Ts(n,e)}function n6(n,e,t){if(!Vc(n.segments,e.segments)||!cv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!n6(n.children[r],e.children[r],t))return!1;return!0}function bU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>JI(n[t],e[t]))}function r6(n,e,t){return i6(n,e,e.segments,t)}function i6(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Vc(i,t)||e.hasChildren()||!cv(i,t,r))}else if(n.segments.length===t.length){if(!Vc(n.segments,t)||!cv(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!r6(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Vc(n.segments,i)||!cv(n.segments,i,r)||!n.children[Pt]?!1:i6(n.children[Pt],e,o,r)}}function cv(n,e,t){return e.every((r,i)=>t6[t](n[i].parameters,r.parameters))}var Ns=class{root;queryParams;fragment;_queryParamMap;constructor(e=new tn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hc(this.queryParams),this._queryParamMap}toString(){return EU.serialize(this)}},tn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uv(this)}},Pl=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Hc(this.parameters),this._parameterMap}toString(){return s6(this)}};function wU(n,e){return Vc(n,e)&&n.every((t,r)=>Ts(t.parameters,e[r].parameters))}function Vc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function CU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Pt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Pt&&(t=t.concat(e(i,r)))}),t}var qd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:()=>new qc,providedIn:"root"})}return n})(),qc=class{parse(e){let t=new aE(e);return new Ns(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${_p(e.root,!0)}`,r=DU(e.queryParams),i=typeof e.fragment=="string"?`#${SU(e.fragment)}`:"";return`${t}${r}${i}`}},EU=new qc;function uv(n){return n.segments.map(e=>s6(e)).join("/")}function _p(n,e){if(!n.hasChildren())return uv(n);if(e){let t=n.children[Pt]?_p(n.children[Pt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Pt&&r.push(`${i}:${_p(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=CU(n,(r,i)=>i===Pt?[_p(n.children[Pt],!1)]:[`${i}:${_p(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Pt]!=null?`${uv(n)}/${t[0]}`:`${uv(n)}/(${t.join("//")})`}}function o6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function av(n){return o6(n).replace(/%3B/gi,";")}function SU(n){return encodeURI(n)}function sE(n){return o6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dv(n){return decodeURIComponent(n)}function GI(n){return dv(n.replace(/\+/g,"%20"))}function s6(n){return`${sE(n.path)}${xU(n.parameters)}`}function xU(n){return Object.entries(n).map(([e,t])=>`;${sE(e)}=${sE(t)}`).join("")}function DU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${av(t)}=${av(i)}`).join("&"):`${av(t)}=${av(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var MU=/^[^\/()?;#]+/;function eE(n){let e=n.match(MU);return e?e[0]:""}var AU=/^[^\/()?;=#]+/;function IU(n){let e=n.match(AU);return e?e[0]:""}var TU=/^[^=?&#]+/;function PU(n){let e=n.match(TU);return e?e[0]:""}var NU=/^[^&#]+/;function OU(n){let e=n.match(NU);return e?e[0]:""}var aE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new tn(e,t)),r}parseSegment(){let e=eE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new De(4009,!1);return this.capture(e),new Pl(dv(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=IU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=eE(this.remaining);i&&(r=i,this.capture(r))}e[dv(t)]=dv(r)}parseQueryParam(e){let t=PU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=OU(this.remaining);s&&(r=s,this.capture(r))}let i=GI(t),o=GI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=eE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new De(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pt);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Pt]:new tn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new De(4011,!1)}};function a6(n){return n.segments.length>0?new tn([],{[Pt]:n}):n}function l6(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=l6(i);if(r===Pt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new tn(n.segments,e);return kU(t)}function kU(n){if(n.numberOfChildren===1&&n.children[Pt]){let e=n.children[Pt];return new tn(n.segments.concat(e.segments),e.children)}return n}function Nl(n){return n instanceof Ns}function c6(n,e,t=null,r=null){let i=u6(n);return d6(i,e,t,r)}function u6(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new tn(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=a6(r);return e??i}function d6(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return tE(i,i,i,t,r);let o=RU(e);if(o.toRoot())return tE(i,i,new tn([],{}),t,r);let s=LU(o,i,n),a=s.processChildren?wp(s.segmentGroup,s.index,o.commands):f6(s.segmentGroup,s.index,o.commands);return tE(i,s.segmentGroup,a,t,r)}function hv(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ep(n){return typeof n=="object"&&n!=null&&n.outlets}function tE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===e?s=t:s=h6(n,e,t);let a=a6(l6(s));return new Ns(a,o,i)}function h6(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=h6(o,e,t)}),new tn(n.segments,r)}var fv=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hv(r[0]))throw new De(4003,!1);let i=r.find(Ep);if(i&&i!==e6(r))throw new De(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function RU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fv(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fv(t,e,r)}var Rd=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function LU(n,e,t){if(n.isAbsolute)return new Rd(e,!0,0);if(!t)return new Rd(e,!1,NaN);if(t.parent===null)return new Rd(t,!0,0);let r=hv(n.commands[0])?0:1,i=t.segments.length-1+r;return FU(t,i,n.numberOfDoubleDots)}function FU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new De(4005,!1);i=r.segments.length}return new Rd(r,!1,i-o)}function jU(n){return Ep(n[0])?n[0].outlets:{[Pt]:n}}function f6(n,e,t){if(n??=new tn([],{}),n.segments.length===0&&n.hasChildren())return wp(n,e,t);let r=BU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new tn(n.segments.slice(0,r.pathIndex),{});return o.children[Pt]=new tn(n.segments.slice(r.pathIndex),n.children),wp(o,0,i)}else return r.match&&i.length===0?new tn(n.segments,{}):r.match&&!n.hasChildren()?lE(n,e,t):r.match?wp(n,0,i):lE(n,e,t)}function wp(n,e,t){if(t.length===0)return new tn(n.segments,{});{let r=jU(t),i={};if(Object.keys(r).some(o=>o!==Pt)&&n.children[Pt]&&n.numberOfChildren===1&&n.children[Pt].segments.length===0){let o=wp(n.children[Pt],e,t);return new tn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=f6(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new tn(n.segments,i)}}function BU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ep(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!KI(l,c,s))return o;r+=2}else{if(!KI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ep(o)){let l=UU(o.outlets);return new tn(r,l)}if(i===0&&hv(t[0])){let l=n.segments[e];r.push(new Pl(l.path,WI(t[0]))),i++;continue}let s=Ep(o)?o.outlets[Pt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hv(a)?(r.push(new Pl(s,WI(a))),i+=2):(r.push(new Pl(s,{})),i++)}return new tn(r,{})}function UU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=lE(new tn([],{}),0,r))}),e}function WI(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function KI(n,e,t){return n==t.path&&Ts(e,t.parameters)}var Ld="imperative",vr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vr||{}),Ui=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ol=class extends Ui{type=vr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},uo=class extends Ui{urlAfterRedirects;type=vr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ai=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(ai||{}),jd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(jd||{}),Ps=class extends Ui{reason;code;type=vr.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Os=class extends Ui{reason;code;type=vr.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Bd=class extends Ui{error;target;type=vr.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sp=class extends Ui{urlAfterRedirects;state;type=vr.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pv=class extends Ui{urlAfterRedirects;state;type=vr.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gv=class extends Ui{urlAfterRedirects;state;shouldActivate;type=vr.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mv=class extends Ui{urlAfterRedirects;state;type=vr.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vv=class extends Ui{urlAfterRedirects;state;type=vr.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yv=class{route;type=vr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_v=class{route;type=vr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bv=class{snapshot;type=vr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wv=class{snapshot;type=vr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cv=class{snapshot;type=vr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ev=class{snapshot;type=vr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ud=class{routerEvent;position;anchor;type=vr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xp=class{},Vd=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function VU(n){return!(n instanceof xp)&&!(n instanceof Vd)}function zU(n,e){return n.providers&&!n._injector&&(n._injector=Qf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wo(n){return n.outlet||Pt}function HU(n,e){let t=n.filter(r=>Wo(r)===e);return t.push(...n.filter(r=>Wo(r)!==e)),t}function $d(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $d(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Gd(this.rootInjector)}},Gd=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Ke(cr))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xv=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=cE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=cE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=uE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uE(e,this._root).map(t=>t.value)}};function cE(n,e){if(n===e.value)return e;for(let t of e.children){let r=cE(n,t);if(r)return r}return null}function uE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=uE(n,t);if(r.length)return r.unshift(e),r}return[]}var Bi=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function kd(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Dp=class extends xv{snapshot;constructor(e,t){super(e),this.snapshot=t,yE(this,e)}toString(){return this.snapshot.toString()}};function p6(n){let e=qU(n),t=new Sn([new Pl("",{})]),r=new Sn({}),i=new Sn({}),o=new Sn({}),s=new Sn(""),a=new Ko(t,r,o,s,i,Pt,n,e.root);return a.snapshot=e.root,new Dp(new Bi(a,[]),e)}function qU(n){let e={},t={},r={},i="",o=new zc([],e,r,i,t,Pt,n,null,{});return new Mp("",new Bi(o,[]))}var Ko=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ft(c=>c[Pp]))??ht(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(e=>Hc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(e=>Hc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dv(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Me(Me({},e.params),n.params),data:Me(Me({},e.data),n.data),resolve:Me(Me(Me(Me({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Me({},n.params),data:Me({},n.data),resolve:Me(Me({},n.data),n._resolvedData??{})},i&&m6(i)&&(r.resolve[Pp]=i.title),r}var zc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Pp]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Mp=class extends xv{url;constructor(e,t){super(t),this.url=e,yE(this,t)}toString(){return g6(this._root)}};function yE(n,e){e.value._routerState=n,e.children.forEach(t=>yE(n,t))}function g6(n){let e=n.children.length>0?` { ${n.children.map(g6).join(", ")} } `:"";return`${n.value}${e}`}function nE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ts(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ts(e.params,t.params)||n.paramsSubject.next(t.params),vU(e.url,t.url)||n.urlSubject.next(t.url),Ts(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function dE(n,e){let t=Ts(n.params,e.params)&&wU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||dE(n.parent,e.parent))}function m6(n){return typeof n.title=="string"||n.title===null}var v6=new Ye(""),Np=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Pt;activateEvents=new ur;deactivateEvents=new ur;attachEvents=new ur;detachEvents=new ur;routerOutletData=KA(void 0);parentContexts=Ee(Gd);location=Ee(Sa);changeDetector=Ee(qo);inputBinder=Ee(Tv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new De(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new De(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new De(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new De(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new hE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ln({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ds]})}return n})(),hE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ko?this.route:e===Gd?this.childContexts:e===v6?this.outletData:this.parent.get(e,t)}},Tv=new Ye("");var _E=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=dn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Re(0,"router-outlet")},dependencies:[Np],encapsulation:2})}return n})();function bE(n){let e=n.children&&n.children.map(bE),t=e?vt(Me({},n),{children:e}):Me({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=_E),t}function $U(n,e,t){let r=Ap(n,e._root,t?t._root:void 0);return new Dp(r,e)}function Ap(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=GU(n,e,t);return new Bi(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ap(n,a)),s}}let r=WU(e.value),i=e.children.map(o=>Ap(n,o));return new Bi(r,i)}}function GU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ap(n,r,i);return Ap(n,r)})}function WU(n){return new Ko(new Sn(n.url),new Sn(n.params),new Sn(n.queryParams),new Sn(n.fragment),new Sn(n.data),n.outlet,n.component,n)}var zd=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},y6="ngNavigationCancelingError";function Mv(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Nl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_6(!1,ai.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _6(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[y6]=!0,t.cancellationCode=e,t}function KU(n){return b6(n)&&Nl(n.url)}function b6(n){return!!n&&n[y6]}var YU=(n,e,t,r)=>ft(i=>(new fE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),fE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),nE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=kd(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=kd(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=kd(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=kd(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ev(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(nE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Av=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fd=class{component;route;constructor(e,t){this.component=e,this.route=t}};function XU(n,e,t){let r=n._root,i=e?e._root:null;return bp(r,i,t,[r.value])}function ZU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Wd(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!i5(n)?n:e.get(n):r}function bp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=kd(e);return n.children.forEach(s=>{QU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cp(a,t.getContext(s),i)),i}function QU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=JU(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Av(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bp(n,e,a?a.children:null,r,i):bp(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fd(a.outlet.component,s))}else s&&Cp(e,a,i),i.canActivateChecks.push(new Av(r)),o.component?bp(n,null,a?a.children:null,r,i):bp(n,null,t,r,i);return i}function JU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Vc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vc(n.url,e.url)||!Ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dE(n,e)||!Ts(n.queryParams,e.queryParams);case"paramsChange":default:return!dE(n,e)}}function Cp(n,e,t){let r=kd(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Cp(s,e.children.getContext(o),t):Cp(s,null,t):Cp(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Fd(e.outlet.component,i)):t.canDeactivateChecks.push(new Fd(null,i)):t.canDeactivateChecks.push(new Fd(null,i))}function Op(n){return typeof n=="function"}function eV(n){return typeof n=="boolean"}function tV(n){return n&&Op(n.canLoad)}function nV(n){return n&&Op(n.canActivate)}function rV(n){return n&&Op(n.canActivateChild)}function iV(n){return n&&Op(n.canDeactivate)}function oV(n){return n&&Op(n.canMatch)}function w6(n){return n instanceof ua||n?.name==="EmptyError"}var lv=Symbol("INITIAL_VALUE");function Hd(){return vi(n=>_0(n.map(e=>e.pipe(fa(1),Hb(lv)))).pipe(ft(e=>{for(let t of e)if(t!==!0){if(t===lv)return lv;if(t===!1||sV(t))return t}return!0}),ti(e=>e!==lv),fa(1)))}function sV(n){return Nl(n)||n instanceof zd}function aV(n,e){return lr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ht(vt(Me({},t),{guardsResult:!0})):lV(s,r,i,n).pipe(lr(a=>a&&eV(a)?cV(r,o,n,e):ht(a)),ft(a=>vt(Me({},t),{guardsResult:a})))})}function lV(n,e,t,r){return kn(n).pipe(lr(i=>pV(i.component,i.route,t,e,r)),pa(i=>i!==!0,!0))}function cV(n,e,t,r){return kn(e).pipe(ha(i=>cd(dV(i.route.parent,r),uV(i.route,r),fV(n,i.path,t),hV(n,i.route,t))),pa(i=>i!==!0,!0))}function uV(n,e){return n!==null&&e&&e(new Cv(n)),ht(!0)}function dV(n,e){return n!==null&&e&&e(new bv(n)),ht(!0)}function hV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ht(!0);let i=r.map(o=>Ef(()=>{let s=$d(e)??t,a=Wd(o,s),l=nV(a)?a.canActivate(e,n):kr(s,()=>a(e,n));return Na(l).pipe(pa())}));return ht(i).pipe(Hd())}function fV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ZU(s)).filter(s=>s!==null).map(s=>Ef(()=>{let a=s.guards.map(l=>{let c=$d(s.node)??t,d=Wd(l,c),h=rV(d)?d.canActivateChild(r,n):kr(c,()=>d(r,n));return Na(h).pipe(pa())});return ht(a).pipe(Hd())}));return ht(o).pipe(Hd())}function pV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ht(!0);let s=o.map(a=>{let l=$d(e)??i,c=Wd(a,l),d=iV(c)?c.canDeactivate(n,e,t,r):kr(l,()=>c(n,e,t,r));return Na(d).pipe(pa())});return ht(s).pipe(Hd())}function gV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ht(!0);let o=i.map(s=>{let a=Wd(s,n),l=tV(a)?a.canLoad(e,t):kr(n,()=>a(e,t));return Na(l)});return ht(o).pipe(Hd(),C6(r))}function C6(n){return Nb(Er(e=>{if(typeof e!="boolean")throw Mv(n,e)}),ft(e=>e===!0))}function mV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ht(!0);let o=i.map(s=>{let a=Wd(s,n),l=oV(a)?a.canMatch(e,t):kr(n,()=>a(e,t));return Na(l)});return ht(o).pipe(Hd(),C6(r))}var Ip=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Tp=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Od(n){return ad(new Ip(n))}function vV(n){return ad(new De(4e3,!1))}function yV(n){return ad(_6(!1,ai.GuardRejected))}var pE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ht(r);if(i.numberOfChildren>1||!i.children[Pt])return vV(`${e.redirectTo}`);i=i.children[Pt]}}applyRedirectCommands(e,t,r,i,o){return _V(t,i,o).pipe(ft(s=>{if(s instanceof Ns)throw new Tp(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Tp(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ns(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new tn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new De(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function _V(n,e,t){if(typeof n=="string")return ht(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:d,title:h}=e;return Na(kr(t,()=>r({params:c,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:h})))}var gE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bV(n,e,t,r,i){let o=E6(n,e,t);return o.matched?(r=zU(e,r),mV(r,e,t,i).pipe(ft(s=>s===!0?o:Me({},gE)))):ht(o)}function E6(n,e,t){if(e.path==="**")return wV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Me({},gE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||QI)(t,n,e);if(!i)return Me({},gE);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Me(Me({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wV(n){return{matched:!0,parameters:n.length>0?e6(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function YI(n,e,t,r){return t.length>0&&SV(n,t,r)?{segmentGroup:new tn(e,EV(r,new tn(t,n.children))),slicedSegments:[]}:t.length===0&&xV(n,t,r)?{segmentGroup:new tn(n.segments,CV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new tn(n.segments,n.children),slicedSegments:t}}function CV(n,e,t,r){let i={};for(let o of t)if(Pv(n,e,o)&&!r[Wo(o)]){let s=new tn([],{});i[Wo(o)]=s}return Me(Me({},r),i)}function EV(n,e){let t={};t[Pt]=e;for(let r of n)if(r.path===""&&Wo(r)!==Pt){let i=new tn([],{});t[Wo(r)]=i}return t}function SV(n,e,t){return t.some(r=>Pv(n,e,r)&&Wo(r)!==Pt)}function xV(n,e,t){return t.some(r=>Pv(n,e,r))}function Pv(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function DV(n,e,t){return e.length===0&&!n.children[t]}var mE=class{};function MV(n,e,t,r,i,o,s="emptyOnly"){return new vE(n,e,t,r,i,s,o).recognize()}var AV=31,vE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new pE(this.urlSerializer,this.urlTree)}noMatchError(e){return new De(4002,`'${e.segmentGroup}'`)}recognize(){let e=YI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ft(({children:t,rootSnapshot:r})=>{let i=new Bi(r,t),o=new Mp("",i),s=c6(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new zc([],Object.freeze({}),Object.freeze(Me({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Pt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Pt,t).pipe(ft(r=>({children:r,rootSnapshot:t})),da(r=>{if(r instanceof Tp)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ip?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ft(s=>s instanceof Bi?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return kn(o).pipe(ha(s=>{let a=r.children[s],l=HU(t,s);return this.processSegmentGroup(e,l,a,s,i)}),zb((s,a)=>(s.push(...a),s)),dl(null),Vb(),lr(s=>{if(s===null)return Od(r);let a=S6(s);return IV(a),ht(a)}))}processSegment(e,t,r,i,o,s,a){return kn(t).pipe(ha(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(da(c=>{if(c instanceof Ip)return ht(null);throw c}))),pa(l=>!!l),da(l=>{if(w6(l))return DV(r,i,o)?ht(new mE):Od(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Wo(r)!==s&&(s===Pt||!Pv(i,o,r))?Od(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Od(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:g}=E6(t,i,o);if(!l)return Od(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AV&&(this.allowRedirects=!1));let f=new zc(o,c,Object.freeze(Me({},this.urlTree.queryParams)),this.urlTree.fragment,XI(i),Wo(i),i.component??i._loadedComponent??null,i,ZI(i)),y=Dv(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(y.params),f.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,f,e).pipe(vi(C=>this.applyRedirects.lineralizeSegments(i,C)),lr(C=>this.processSegment(e,r,t,C.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=bV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(vi(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vi(({routes:c})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:g,remainingSegments:f}=l,y=new zc(g,h,Object.freeze(Me({},this.urlTree.queryParams)),this.urlTree.fragment,XI(r),Wo(r),r.component??r._loadedComponent??null,r,ZI(r)),_=Dv(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:w}=YI(t,g,f,c);if(w.length===0&&C.hasChildren())return this.processChildren(d,c,C,y).pipe(ft(T=>new Bi(y,T)));if(c.length===0&&w.length===0)return ht(new Bi(y,[]));let E=Wo(r)===o;return this.processSegment(d,c,C,w,E?Pt:o,!0,y).pipe(ft(T=>new Bi(y,T instanceof Bi?[T]:[])))}))):Od(t)))}getChildConfig(e,t,r){return t.children?ht({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ht({routes:t._loadedRoutes,injector:t._loadedInjector}):gV(e,t,r,this.urlSerializer).pipe(lr(i=>i?this.configLoader.loadChildren(e,t).pipe(Er(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):yV(t))):ht({routes:[],injector:e})}};function IV(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}function TV(n){let e=n.value.routeConfig;return e&&e.path===""}function S6(n){let e=[],t=new Set;for(let r of n){if(!TV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=S6(r.children);e.push(new Bi(r.value,i))}return e.filter(r=>!t.has(r))}function XI(n){return n.data||{}}function ZI(n){return n.resolve||{}}function PV(n,e,t,r,i,o){return lr(s=>MV(n,e,t,r,s.extractedUrl,i,o).pipe(ft(({state:a,tree:l})=>vt(Me({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function NV(n,e){return lr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ht(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of x6(l))s.add(c);let a=0;return kn(s).pipe(ha(l=>o.has(l)?OV(l,r,n,e):(l.data=Dv(l,l.parent,n).resolve,ht(void 0))),Er(()=>a++),ud(1),lr(l=>a===s.size?ht(t):gi))})}function x6(n){let e=n.children.map(t=>x6(t)).flat();return[n,...e]}function OV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!m6(i)&&(o[Pp]=i.title),Ef(()=>(n.data=Dv(n,n.parent,t).resolve,kV(o,n,e,r).pipe(ft(s=>(n._resolvedData=s,n.data=Me(Me({},n.data),s),null)))))}function kV(n,e,t,r){let i=oE(n);if(i.length===0)return ht({});let o={};return kn(i).pipe(lr(s=>RV(n[s],e,t,r).pipe(pa(),Er(a=>{if(a instanceof zd)throw Mv(new qc,a);o[s]=a}))),ud(1),ft(()=>o),da(s=>w6(s)?gi:ad(s)))}function RV(n,e,t,r){let i=$d(e)??r,o=Wd(n,i),s=o.resolve?o.resolve(e,t):kr(i,()=>o(e,t));return Na(s)}function rE(n){return vi(e=>{let t=n(e);return t?kn(t).pipe(ft(()=>e)):ht(e)})}var wE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Pt);return r}getResolvedTitleForRoute(t){return t.data[Pp]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:()=>Ee(D6),providedIn:"root"})}return n})(),D6=(()=>{class n extends wE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Ke(qI))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kd=new Ye("",{providedIn:"root",factory:()=>({})}),kp=new Ye(""),M6=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ee(wC);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ht(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Na(kr(t,()=>r.loadComponent())).pipe(ft(I6),Er(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),mc(()=>{this.componentLoaders.delete(r)})),o=new od(i,()=>new Xn).pipe(id());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=A6(r,this.compiler,t,this.onLoadEndListener).pipe(mc(()=>{this.childrenLoaders.delete(r)})),s=new od(o,()=>new Xn).pipe(id());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function A6(n,e,t,r){return Na(kr(t,()=>n.loadChildren())).pipe(ft(I6),lr(i=>i instanceof O1||Array.isArray(i)?ht(i):kn(e.compileModuleAsync(i))),ft(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(kp,[],{optional:!0,self:!0}).flat()),{routes:s.map(bE),injector:o}}))}function LV(n){return n&&typeof n=="object"&&"default"in n}function I6(n){return LV(n)?n.default:n}var Nv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:()=>Ee(FV),providedIn:"root"})}return n})(),FV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T6=new Ye("");var P6=new Ye(""),CE=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Xn;transitionAbortWithErrorSubject=new Xn;configLoader=Ee(M6);environmentInjector=Ee(cr);destroyRef=Ee(oo);urlSerializer=Ee(qd);rootContexts=Ee(Gd);location=Ee(jc);inputBindingEnabled=Ee(Tv,{optional:!0})!==null;titleStrategy=Ee(wE);options=Ee(Kd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ee(Nv);createViewTransition=Ee(T6,{optional:!0});navigationErrorHandler=Ee(P6,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ht(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yv(i)),r=i=>this.events.next(new _v(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(vt(Me({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new Sn(null),this.transitions.pipe(ti(r=>r!==null),vi(r=>{let i=!1;return ht(r).pipe(vi(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ai.SupersededByNewNavigation),gi;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?vt(Me({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new Os(o.id,this.urlSerializer.serialize(o.rawUrl),l,jd.IgnoredSameUrlNavigation)),o.resolve(!1),gi}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ht(o).pipe(vi(l=>(this.events.next(new Ol(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?gi:Promise.resolve(l))),PV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Er(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=vt(Me({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new Sp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:h,extras:g}=o,f=new Ol(l,this.urlSerializer.serialize(c),d,h);this.events.next(f);let y=p6(this.rootComponentType).snapshot;return this.currentTransition=r=vt(Me({},o),{targetSnapshot:y,urlAfterRedirects:c,extras:vt(Me({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,ht(r)}else{let l="";return this.events.next(new Os(o.id,this.urlSerializer.serialize(o.extractedUrl),l,jd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),gi}}),Er(o=>{let s=new pv(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ft(o=>(this.currentTransition=r=vt(Me({},o),{guards:XU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),aV(this.environmentInjector,o=>this.events.next(o)),Er(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Mv(this.urlSerializer,o.guardsResult);let s=new gv(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ti(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ai.GuardRejected),!1)),rE(o=>{if(o.guards.canActivateChecks.length!==0)return ht(o).pipe(Er(s=>{let a=new mv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),vi(s=>{let a=!1;return ht(s).pipe(NV(this.paramsInheritanceStrategy,this.environmentInjector),Er({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",ai.NoDataFromResolver)}}))}),Er(s=>{let a=new vv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),rE(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=$d(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Er(d=>{a.component=d}),ft(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return _0(s(o.targetSnapshot.root)).pipe(dl(null),fa(1))}),rE(()=>this.afterPreactivation()),vi(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?kn(a).pipe(ft(()=>r)):ht(r)}),ft(o=>{let s=$U(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=vt(Me({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Er(()=>{this.events.next(new xp)}),YU(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),fa(1),w0(new Lt(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ti(()=>!i&&!r.targetRouterState),Er(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ai.Aborted)}))),Er({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new uo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),w0(this.transitionAbortWithErrorSubject.pipe(Er(o=>{throw o}))),mc(()=>{i||this.cancelNavigationTransition(r,"",ai.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),da(o=>{if(this.destroyed)return r.resolve(!1),gi;if(i=!0,b6(o))this.events.next(new Ps(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),KU(o)?this.events.next(new Vd(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Bd(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=kr(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof zd){let{message:l,cancellationCode:c}=Mv(this.urlSerializer,a);this.events.next(new Ps(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Vd(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return gi}))}))}cancelNavigationTransition(t,r,i){let o=new Ps(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jV(n){return n!==Ld}var N6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:()=>Ee(BV),providedIn:"root"})}return n})(),Iv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},BV=(()=>{class n extends Iv{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O6=(()=>{class n{urlSerializer=Ee(qd);options=Ee(Kd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Ee(jc);urlHandlingStrategy=Ee(Nv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ns;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ns?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=p6(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:()=>Ee(UV),providedIn:"root"})}return n})(),UV=(()=>{class n extends O6{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ol?this.updateStateMemento():t instanceof Os?this.commitTransition(r):t instanceof Sp?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xp?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ps&&t.code!==ai.SupersededByNewNavigation&&t.code!==ai.Redirect?this.restoreHistory(r):t instanceof Bd?this.restoreHistory(r,!0):t instanceof uo&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=Me(Me({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=Me(Me({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EE(n,e){n.events.pipe(ti(t=>t instanceof uo||t instanceof Ps||t instanceof Bd||t instanceof Os),ft(t=>t instanceof uo||t instanceof Os?0:(t instanceof Ps?t.code===ai.Redirect||t.code===ai.SupersededByNewNavigation:!1)?2:1),ti(t=>t!==2),fa(1)).subscribe(()=>{e()})}var VV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ee(pC);stateManager=Ee(O6);options=Ee(Kd,{optional:!0})||{};pendingTasks=Ee(Es);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ee(CE);urlSerializer=Ee(qd);location=Ee(jc);urlHandlingStrategy=Ee(Nv);injector=Ee(cr);_events=new Xn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ee(N6);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ee(kp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ee(Tv,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new zn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ps&&r.code!==ai.Redirect&&r.code!==ai.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof uo)this.navigated=!0;else if(r instanceof Vd){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Me({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jV(i.source)},s);this.scheduleNavigation(a,Ld,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}VU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Me({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(oi)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(bE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=Me(Me({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let g=i?i.snapshot:this.routerState.snapshot.root;h=u6(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return d6(h,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Nl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ld,null,r)}navigate(t,r={skipLocationChange:!1}){return HV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Me({},VV):r===!1?i=Me({},zV):i=r,Nl(t))return $I(this.currentUrlTree,t,i);let o=this.parseUrl(t);return $I(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,g)=>{a=h,l=g});let d=this.pendingTasks.add();return EE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new De(4008,!1)}var Yd=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Cs(null);get href(){return Ho(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Xn;applicationErrorHandler=Ee(oi);options=Ee(Kd,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Ee(new V1("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof uo&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Nl(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Nl(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Ze(wi),Ze(Ko),Kf("tabindex"),Ze(Vo),Ze(si),Ze(Fc))};static \u0275dir=Ln({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&et("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Da("href",i.reactiveHref(),$w)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lc],replaceUrl:[2,"replaceUrl","replaceUrl",Lc],routerLink:"routerLink"},features:[Ds]})}return n})(),SE=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ur;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof uo&&this.update()})}ngAfterContentInit(){ht(this.links.changes,ht(null)).pipe(ld()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=kn(t).pipe(ld()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=qV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Ze(wi),Ze(si),Ze(Vo),Ze(qo),Ze(Yd,8))};static \u0275dir=Ln({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&yC(o,Yd,5),r&2){let s;ep(s=tp())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ds]})}return n})();function qV(n){return!!n.paths}var k6=new Ye(""),$V=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ld;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ol?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof uo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Os&&t.code===jd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ud&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>se(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ud(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){lC()};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})();function xE(n,...e){return _a([{provide:kp,multi:!0,useValue:n},[],{provide:Ko,useFactory:GV,deps:[wi]},{provide:F1,multi:!0,useFactory:KV},e.map(t=>t.\u0275providers)])}function GV(n){return n.routerState.root}function WV(n,e){return{\u0275kind:n,\u0275providers:e}}function DE(n={}){return WV(4,[{provide:k6,useFactory:()=>{let t=Ee(EI),r=Ee(Pn),i=Ee(CE),o=Ee(qd);return new $V(o,i,t,r,n)}}])}function KV(){let n=Ee(ki);return e=>{let t=n.get(xa);if(e!==t.components[0])return;let r=n.get(wi),i=n.get(YV);n.get(XV)===1&&r.initialNavigation(),n.get(ZV,null,{optional:!0})?.setUpPreloading(),n.get(k6,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var YV=new Ye("",{factory:()=>new Xn}),XV=new Ye("",{providedIn:"root",factory:()=>1});var ZV=new Ye("");var It=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(It||{}),ho="*";function ME(n,e){return{type:It.Trigger,name:n,definitions:e,options:{}}}function kv(n,e=null){return{type:It.Animate,styles:e,timings:n}}function R6(n,e=null){return{type:It.Sequence,steps:n,options:e}}function kl(n){return{type:It.Style,styles:n,offset:null}}function Rv(n,e,t=null){return{type:It.Transition,expr:n,animation:e,options:t}}var ks=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},$c=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Xd="!";function L6(n){return new De(3e3,!1)}function QV(){return new De(3100,!1)}function JV(){return new De(3101,!1)}function ez(n){return new De(3001,!1)}function tz(n){return new De(3003,!1)}function nz(n){return new De(3004,!1)}function j6(n,e){return new De(3005,!1)}function B6(){return new De(3006,!1)}function U6(){return new De(3007,!1)}function V6(n,e){return new De(3008,!1)}function z6(n){return new De(3002,!1)}function H6(n,e,t,r,i){return new De(3010,!1)}function q6(){return new De(3011,!1)}function $6(){return new De(3012,!1)}function G6(){return new De(3200,!1)}function W6(){return new De(3202,!1)}function K6(){return new De(3013,!1)}function Y6(n){return new De(3014,!1)}function X6(n){return new De(3015,!1)}function Z6(n){return new De(3016,!1)}function Q6(n,e){return new De(3404,!1)}function rz(n){return new De(3502,!1)}function J6(n){return new De(3503,!1)}function eT(){return new De(3300,!1)}function tT(n){return new De(3504,!1)}function nT(n){return new De(3301,!1)}function rT(n,e){return new De(3302,!1)}function iT(n){return new De(3303,!1)}function oT(n,e){return new De(3400,!1)}function sT(n){return new De(3401,!1)}function aT(n){return new De(3402,!1)}function lT(n,e){return new De(3505,!1)}function Oa(n){switch(n.length){case 0:return new ks;case 1:return n[0];default:return new $c(n)}}function PE(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==s,h=d&&a||new Map;l.forEach((g,f)=>{let y=f,_=g;if(f!=="offset")switch(y=n.normalizePropertyName(y,i),_){case Xd:_=t.get(f);break;case ho:_=r.get(f);break;default:_=n.normalizeStyleValue(f,y,_,i);break}h.set(y,_)}),d||o.push(h),a=h,s=c}),i.length)throw rz(i);return o}function Lv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&AE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&AE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&AE(t,"destroy",n)));break}}function AE(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Fv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Fv(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ci(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function NE(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var iz=typeof document>"u"?null:document.documentElement;function jv(n){let e=n.parentNode||n.host||null;return e===iz?null:e}function oz(n){return n.substring(1,6)=="ebkit"}var Gc=null,F6=!1;function cT(n){Gc||(Gc=sz()||{},F6=Gc.style?"WebkitAppearance"in Gc.style:!1);let e=!0;return Gc.style&&!oz(n)&&(e=n in Gc.style,!e&&F6&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gc.style)),e}function sz(){return typeof document<"u"?document.body:null}function OE(n,e){for(;e;){if(e===n)return!0;e=jv(e)}return!1}function kE(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var az=1e3,RE="{{",lz="}}",LE="ng-enter",Bv="ng-leave",Rp="ng-trigger",Lp=".ng-trigger",FE="ng-animating",Uv=".ng-animating";function Rs(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:IE(parseFloat(e[1]),e[2])}function IE(n,e){switch(e){case"s":return n*az;default:return n}}function Fp(n,e,t){return n.hasOwnProperty("duration")?n:cz(n,e,t)}function cz(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(L6(n)),{duration:0,delay:0,easing:""};i=IE(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=IE(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(QV()),a=!0),o<0&&(e.push(JV()),a=!0),a&&e.splice(l,0,L6(n))}return{duration:i,delay:o,easing:s}}function uT(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Yo(n,e,t){e.forEach((r,i)=>{let o=Vv(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Rl(n,e){e.forEach((t,r)=>{let i=Vv(r);n.style[i]=""})}function Zd(n){return Array.isArray(n)?n.length==1?n[0]:R6(n):n}function dT(n,e,t){let r=e.params||{},i=jE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(ez(o))})}var TE=new RegExp(`${RE}\\s*(.+?)\\s*${lz}`,"g");function jE(n){let e=[];if(typeof n=="string"){let t;for(;t=TE.exec(n);)e.push(t[1]);TE.lastIndex=0}return e}function Qd(n,e,t){let r=`${n}`,i=r.replace(TE,(o,s)=>{let a=e[s];return a==null&&(t.push(tz(s)),a=""),a.toString()});return i==r?n:i}var uz=/-+([a-z0-9])/g;function Vv(n){return n.replace(uz,(...e)=>e[1].toUpperCase())}function hT(n,e){return n===0||e===0}function fT(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,zv(n,a)))}}return e}function Ei(n,e,t){switch(e.type){case It.Trigger:return n.visitTrigger(e,t);case It.State:return n.visitState(e,t);case It.Transition:return n.visitTransition(e,t);case It.Sequence:return n.visitSequence(e,t);case It.Group:return n.visitGroup(e,t);case It.Animate:return n.visitAnimate(e,t);case It.Keyframes:return n.visitKeyframes(e,t);case It.Style:return n.visitStyle(e,t);case It.Reference:return n.visitReference(e,t);case It.AnimateChild:return n.visitAnimateChild(e,t);case It.AnimateRef:return n.visitAnimateRef(e,t);case It.Query:return n.visitQuery(e,t);case It.Stagger:return n.visitStagger(e,t);default:throw nz(e.type)}}function zv(n,e){return window.getComputedStyle(n)[e]}var tS=(()=>{class n{validateStyleProperty(t){return cT(t)}containsElement(t,r){return OE(t,r)}getParentElement(t){return jv(t)}query(t,r,i){return kE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new ks(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})(),Kc=class{static NOOP=new tS},Yc=class{};var dz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Wv=class extends Yc{normalizePropertyName(e,t){return Vv(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(dz.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(j6(e,r))}return s+o}};var Kv="*";function hz(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>fz(r,t,e)):t.push(n),t}function fz(n,e,t){if(n[0]==":"){let l=pz(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(X6(n)),e;let i=r[1],o=r[2],s=r[3];e.push(pT(i,s));let a=i==Kv&&s==Kv;o[0]=="<"&&!a&&e.push(pT(s,i))}function pz(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Z6(n)),"* => *"}}var Hv=new Set(["true","1"]),qv=new Set(["false","0"]);function pT(n,e){let t=Hv.has(n)||qv.has(n),r=Hv.has(e)||qv.has(e);return(i,o)=>{let s=n==Kv||n==i,a=e==Kv||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Hv.has(n):qv.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Hv.has(e):qv.has(e)),s&&a}}var ST=":self",gz=new RegExp(`s*${ST}s*,?`,"g");function xT(n,e,t,r){return new qE(n).build(e,t,r)}var gT="",qE=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new $E(t);return this._resetContextStyleTimingState(i),Ei(this,Zd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=gT,e.collectedStyles=new Map,e.collectedStyles.set(gT,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(B6()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==It.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==It.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(U6())}),{type:It.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{jE(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(V6(e.name,[...o.values()]))}return{type:It.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Ei(this,Zd(e.animation),t),i=hz(e.expr,t.errors);return{type:It.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Wc(e.options)}}visitSequence(e,t){return{type:It.Sequence,steps:e.steps.map(r=>Ei(this,r,t)),options:Wc(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Ei(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:It.Group,steps:o,options:Wc(e.options)}}visitAnimate(e,t){let r=_z(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:kl({});if(o.type==It.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};r.easing&&(c.easing=r.easing),s=kl(c)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:It.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===ho?r.push(a):t.errors.push(z6(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(RE)>=0){o=!0;break}}}),{type:It.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),h=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(H6(l,d.startTime,d.endTime,o,i)),h=!1),o=d.startTime),h&&c.set(l,{startTime:o,endTime:i}),t.options&&dT(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:It.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(q6()),r;let i=1,o=0,s=[],a=!1,l=!1,c=0,d=e.steps.map(w=>{let E=this._makeStyleAst(w,t),T=E.offset!=null?E.offset:yz(E.styles),P=0;return T!=null&&(o++,P=E.offset=T),l=l||P<0||P>1,a=a||P<c,c=P,s.push(P),E});l&&t.errors.push($6()),a&&t.errors.push(G6());let h=e.steps.length,g=0;o>0&&o<h?t.errors.push(W6()):o==0&&(g=i/(h-1));let f=h-1,y=t.currentTime,_=t.currentAnimateTimings,C=_.duration;return d.forEach((w,E)=>{let T=g>0?E==f?1:g*E:s[E],P=T*C;t.currentTime=y+_.delay+P,_.duration=P,this._validateStyleAst(w,t),w.offset=T,r.styles.push(w)}),r}visitReference(e,t){return{type:It.Reference,animation:Ei(this,Zd(e.animation),t),options:Wc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:It.AnimateChild,options:Wc(e.options)}}visitAnimateRef(e,t){return{type:It.AnimateRef,animation:this.visitReference(e.animation,t),options:Wc(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=mz(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Ci(t.collectedStyles,t.currentQuerySelector,new Map);let a=Ei(this,Zd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:It.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Wc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(K6());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Fp(e.timings,t.errors,!0);return{type:It.Stagger,animation:Ei(this,Zd(e.animation),t),timings:r,options:null}}};function mz(n){let e=!!n.split(/\s*,\s*/).find(t=>t==ST);return e&&(n=n.replace(gz,"")),n=n.replace(/@\*/g,Lp).replace(/@\w+/g,t=>Lp+"-"+t.slice(1)).replace(/:animating/g,Uv),[n,e]}function vz(n){return n?Me({},n):null}var $E=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function yz(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function _z(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Fp(n,e).duration;return BE(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=BE(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Fp(t,e);return BE(i.duration,i.delay,i.easing)}function Wc(n){return n?(n=Me({},n),n.params&&(n.params=vz(n.params))):n={},n}function BE(n,e,t){return{duration:n,delay:e,easing:t}}function nS(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Bp=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},bz=1,wz=":enter",Cz=new RegExp(wz,"g"),Ez=":leave",Sz=new RegExp(Ez,"g");function DT(n,e,t,r,i,o=new Map,s=new Map,a,l,c=[]){return new GE().buildKeyframes(n,e,t,r,i,o,s,a,l,c)}var GE=class{buildKeyframes(e,t,r,i,o,s,a,l,c,d=[]){c=c||new Bp;let h=new WE(e,t,c,i,o,d,[]);h.options=l;let g=l.delay?Rs(l.delay):0;h.currentTimeline.delayNextStep(g),h.currentTimeline.setStyles([s],null,h.errors,l),Ei(this,r,h);let f=h.timelines.filter(y=>y.containsAnimation());if(f.length&&a.size){let y;for(let _=f.length-1;_>=0;_--){let C=f[_];if(C.element===t){y=C;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,h.errors,l)}return f.length?f.map(y=>y.buildKeyframes()):[nS(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Rs(Qd(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Rs(r.duration):null,a=r.delay!=null?Rs(r.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ei(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==It.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Yv);let s=Rs(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ei(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Rs(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Ei(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Qd(r,t.params,t.errors):r;return Fp(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==It.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Rs(i.delay):0;o&&(t.previousNode.type===It.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Yv);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let h=t.createSubContext(e.options,c);o&&h.delayNextStep(o),c===t.element&&(l=h.currentTimeline),Ei(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let g=h.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;Ei(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}},Yv={},WE=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Yv;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Xv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Rs(r.duration)),r.delay!=null&&(i.delay=Rs(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Qd(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Yv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new KE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Cz,"."+this._enterClassName),e=e.replace(Sz,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&a.length==0&&s.push(Y6(t)),a}},Xv=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=bz,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ho),this._currentKeyframe.set(t,ho);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=xz(e,this._globalTimelineStyles);for(let[a,l]of s){let c=Qd(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ho),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,h)=>{d===Xd?e.add(h):d===ho&&t.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return nS(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},KE=class extends Xv{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",mT(a)),o.push(c);let d=e.length-1;for(let h=1;h<=d;h++){let g=new Map(e[h]),f=g.get("offset"),y=t+f*r;g.set("offset",mT(y/s)),o.push(g)}r=s,t=0,i="",e=o}return nS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function mT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function xz(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,ho)}else for(let[o,s]of i)t.set(o,s)}),t}function vT(n,e,t,r,i,o,s,a,l,c,d,h,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:g}}var UE={},Zv=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return Dz(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,c,d){let h=[],g=this.ast.options&&this.ast.options.params||UE,f=a&&a.params||UE,y=this.buildStyles(r,f,h),_=l&&l.params||UE,C=this.buildStyles(i,_,h),w=new Set,E=new Map,T=new Map,P=i==="void",H={params:MT(_,g),delay:this.ast.options?.delay},Q=d?[]:DT(e,t,this.ast.animation,o,s,y,C,H,c,h),U=0;return Q.forEach(F=>{U=Math.max(F.duration+F.delay,U)}),h.length?vT(t,this._triggerName,r,i,P,y,C,[],[],E,T,U,h):(Q.forEach(F=>{let re=F.element,le=Ci(E,re,new Set);F.preStyleProps.forEach(N=>le.add(N));let O=Ci(T,re,new Set);F.postStyleProps.forEach(N=>O.add(N)),re!==t&&w.add(re)}),vT(t,this._triggerName,r,i,P,y,C,Q,[...w.values()],E,T,U))}};function Dz(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function MT(n,e){let t=Me({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var YE=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=MT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Qd(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}};function Mz(n,e,t){return new XE(n,e,t)}var XE=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new YE(i.style,o,r))}),yT(this.states,"true","1"),yT(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Zv(e,i,this.states))}),this.fallbackTransition=Az(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function Az(n,e,t){let r=[(s,a)=>!0],i={type:It.Sequence,steps:[],options:null},o={type:It.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Zv(n,o,e)}function yT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var Iz=new Bp,ZE=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=xT(this._driver,t,r,i);if(r.length)throw J6(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=PE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=DT(this._driver,t,o,LE,Bv,new Map,new Map,r,Iz,i),s.forEach(d=>{let h=Ci(a,d.element,new Map);d.postStyleProps.forEach(g=>h.set(g,null))})):(i.push(eT()),s=[]),i.length)throw tT(i);a.forEach((d,h)=>{d.forEach((g,f)=>{d.set(f,this._driver.computeStyle(h,f,ho))})});let l=s.map(d=>{let h=a.get(d.element);return this._buildPlayer(d,new Map,h)}),c=Oa(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw nT(e);return t}listen(e,t,r,i){let o=Fv(t,"","","");return Lv(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},_T="ng-animate-queued",Tz=".ng-animate-queued",VE="ng-animate-disabled",Pz=".ng-animate-disabled",Nz="ng-star-inserted",Oz=".ng-star-inserted",kz=[],AT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xo="__ng_removed",Up=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Fz(i),r){let o=e,{value:s}=o,a=vf(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},jp="void",zE=new Up(jp),QE=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,fo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw rT(r,t);if(r==null||r.length==0)throw iT(t);if(!jz(r))throw oT(r,t);let o=Ci(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Ci(this._engine.statesByElement,e,new Map);return a.has(t)||(fo(e,Rp),fo(e,Rp+"-"+t),a.set(t,zE)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw sT(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Vp(this.id,t,e),a=this._engine.statesByElement.get(e);a||(fo(e,Rp),fo(e,Rp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Up(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=zE),!(c.value===jp)&&l.value===c.value){if(!Vz(l.params,c.params)){let _=[],C=o.matchStyles(l.value,l.params,_),w=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Rl(e,C),Yo(e,w)})}return}let g=Ci(this._engine.playersByElement,e,[]);g.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),y=!1;if(!f){if(!i)return;f=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(fo(e,_T),s.onStart(()=>{Jd(e,_T)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let C=this._engine.playersByElement.get(e);if(C){let w=C.indexOf(s);w>=0&&C.splice(w,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Lp,!0);r.forEach(i=>{if(i[Xo])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,jp,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Oa(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=r.get(s)||zE,d=new Up(jp),h=new Vp(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Xo];(!o||o===AT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){fo(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=Fv(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Lv(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},JE=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new QE(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if($v(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!$v(t))return;let o=t[Xo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fo(e,VE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jd(e,VE))}removeNode(e,t,r){if($v(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Xo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return $v(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Lp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Uv,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Oa(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Xo];if(t&&t.setForRemoval){if(e[Xo]=AT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(VE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Pz,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];fo(i,Nz)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Oa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw aT(e)}_flushAnimations(e,t){let r=new Bp,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(W=>{d.add(W);let te=this.driver.query(W,Tz,!0);for(let V=0;V<te.length;V++)d.add(te[V])});let h=this.bodyNode,g=Array.from(this.statesByElement.keys()),f=CT(g,this.collectedEnterElements),y=new Map,_=0;f.forEach((W,te)=>{let V=LE+_++;y.set(te,V),W.forEach(ne=>fo(ne,V))});let C=[],w=new Set,E=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){let te=this.collectedLeaveElements[W],V=te[Xo];V&&V.setForRemoval&&(C.push(te),w.add(te),V.hasAnimation?this.driver.query(te,Oz,!0).forEach(ne=>w.add(ne)):E.add(te))}let T=new Map,P=CT(g,Array.from(w));P.forEach((W,te)=>{let V=Bv+_++;T.set(te,V),W.forEach(ne=>fo(ne,V))}),e.push(()=>{f.forEach((W,te)=>{let V=y.get(te);W.forEach(ne=>Jd(ne,V))}),P.forEach((W,te)=>{let V=T.get(te);W.forEach(ne=>Jd(ne,V))}),C.forEach(W=>{this.processLeaveNode(W)})});let H=[],Q=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(V=>{let ne=V.player,fe=V.element;if(H.push(ne),this.collectedEnterElements.length){let ue=fe[Xo];if(ue&&ue.setForMove){if(ue.previousTriggersValues&&ue.previousTriggersValues.has(V.triggerName)){let me=ue.previousTriggersValues.get(V.triggerName),pe=this.statesByElement.get(V.element);if(pe&&pe.has(V.triggerName)){let Oe=pe.get(V.triggerName);Oe.value=me,pe.set(V.triggerName,Oe)}}ne.destroy();return}}let Te=!h||!this.driver.containsElement(h,fe),D=T.get(fe),L=y.get(fe),B=this._buildInstruction(V,r,L,D,Te);if(B.errors&&B.errors.length){Q.push(B);return}if(Te){ne.onStart(()=>Rl(fe,B.fromStyles)),ne.onDestroy(()=>Yo(fe,B.toStyles)),i.push(ne);return}if(V.isFallbackTransition){ne.onStart(()=>Rl(fe,B.fromStyles)),ne.onDestroy(()=>Yo(fe,B.toStyles)),i.push(ne);return}let Y=[];B.timelines.forEach(ue=>{ue.stretchStartingKeyframe=!0,this.disabledNodes.has(ue.element)||Y.push(ue)}),B.timelines=Y,r.append(fe,B.timelines);let ie={instruction:B,player:ne,element:fe};s.push(ie),B.queriedElements.forEach(ue=>Ci(a,ue,[]).push(ne)),B.preStyleProps.forEach((ue,me)=>{if(ue.size){let pe=l.get(me);pe||l.set(me,pe=new Set),ue.forEach((Oe,Pe)=>pe.add(Pe))}}),B.postStyleProps.forEach((ue,me)=>{let pe=c.get(me);pe||c.set(me,pe=new Set),ue.forEach((Oe,Pe)=>pe.add(Pe))})});if(Q.length){let W=[];Q.forEach(te=>{W.push(lT(te.triggerName,te.errors))}),H.forEach(te=>te.destroy()),this.reportError(W)}let U=new Map,F=new Map;s.forEach(W=>{let te=W.element;r.has(te)&&(F.set(te,te),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,U))}),i.forEach(W=>{let te=W.element;this._getPreviousPlayers(te,!1,W.namespaceId,W.triggerName,null).forEach(ne=>{Ci(U,te,[]).push(ne),ne.destroy()})});let re=C.filter(W=>ET(W,l,c)),le=new Map;wT(le,this.driver,E,c,ho).forEach(W=>{ET(W,l,c)&&re.push(W)});let N=new Map;f.forEach((W,te)=>{wT(N,this.driver,new Set(W),l,Xd)}),re.forEach(W=>{let te=le.get(W),V=N.get(W);le.set(W,new Map([...te?.entries()??[],...V?.entries()??[]]))});let G=[],$=[],ge={};s.forEach(W=>{let{element:te,player:V,instruction:ne}=W;if(r.has(te)){if(d.has(te)){V.onDestroy(()=>Yo(te,ne.toStyles)),V.disabled=!0,V.overrideTotalTime(ne.totalTime),i.push(V);return}let fe=ge;if(F.size>1){let D=te,L=[];for(;D=D.parentNode;){let B=F.get(D);if(B){fe=B;break}L.push(D)}L.forEach(B=>F.set(B,fe))}let Te=this._buildAnimation(V.namespaceId,ne,U,o,N,le);if(V.setRealPlayer(Te),fe===ge)G.push(V);else{let D=this.playersByElement.get(fe);D&&D.length&&(V.parentPlayer=Oa(D)),i.push(V)}}else Rl(te,ne.fromStyles),V.onDestroy(()=>Yo(te,ne.toStyles)),$.push(V),d.has(te)&&i.push(V)}),$.forEach(W=>{let te=o.get(W.element);if(te&&te.length){let V=Oa(te);W.setRealPlayer(V)}}),i.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<C.length;W++){let te=C[W],V=te[Xo];if(Jd(te,Bv),V&&V.hasAnimation)continue;let ne=[];if(a.size){let Te=a.get(te);Te&&Te.length&&ne.push(...Te);let D=this.driver.query(te,Uv,!0);for(let L=0;L<D.length;L++){let B=a.get(D[L]);B&&B.length&&ne.push(...B)}}let fe=ne.filter(Te=>!Te.destroyed);fe.length?Bz(this,te,fe):this.processLeaveNode(te)}return C.length=0,G.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();let te=this.players.indexOf(W);this.players.splice(te,1)}),W.play()}),G}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==jp;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,d=c!==o,h=Ci(r,c,[]);this._getPreviousPlayers(c,d,s,a,t.toState).forEach(f=>{let y=f.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),f.destroy(),h.push(f)})}Rl(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,l=t.element,c=[],d=new Set,h=new Set,g=t.timelines.map(y=>{let _=y.element;d.add(_);let C=_[Xo];if(C&&C.removedBeforeQueried)return new ks(y.duration,y.delay);let w=_!==l,E=Uz((r.get(_)||kz).map(U=>U.getRealPlayer())).filter(U=>{let F=U;return F.element?F.element===_:!1}),T=o.get(_),P=s.get(_),H=PE(this._normalizer,y.keyframes,T,P),Q=this._buildPlayer(y,H,E);if(y.subTimeline&&i&&h.add(_),w){let U=new Vp(e,a,_);U.setRealPlayer(Q),c.push(U)}return Q});c.forEach(y=>{Ci(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>Lz(this.playersByQueriedElement,y.element,y))}),d.forEach(y=>fo(y,FE));let f=Oa(g);return f.onDestroy(()=>{d.forEach(y=>Jd(y,FE)),Yo(l,t.toStyles)}),h.forEach(y=>{Ci(i,y,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ks(e.duration,e.delay)}},Vp=class{namespaceId;triggerName;element;_player=new ks;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Lv(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ci(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Lz(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function Fz(n){return n??null}function $v(n){return n&&n.nodeType===1}function jz(n){return n=="start"||n=="done"}function bT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function wT(n,e,t,r,i){let o=[];t.forEach(l=>o.push(bT(l)));let s=[];r.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let g=e.computeStyle(c,h,i);d.set(h,g),(!g||g.length==0)&&(c[Xo]=Rz,s.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>bT(l,o[a++])),s}function CT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=r:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&t.get(l).push(a)}),t}function fo(n,e){n.classList?.add(e)}function Jd(n,e){n.classList?.remove(e)}function Bz(n,e,t){Oa(t).onDone(()=>n.processLeaveNode(e))}function Uz(n){let e=[];return IT(n,e),e}function IT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof $c?IT(r.players,e):e.push(r)}}function Vz(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function ET(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var eh=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new JE(e.body,t,r),this._timelineEngine=new ZE(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],d=xT(this._driver,o,l,c);if(l.length)throw Q6(i,l);a=Mz(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=NE(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=NE(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function zz(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=HE(e[0]),e.length>1&&(r=HE(e[e.length-1]))):e instanceof Map&&(t=HE(e)),t||r?new Hz(n,t,r):null}var Hz=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Yo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yo(this._element,this._initialStyles),this._endStyles&&(Yo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rl(this._element,this._endStyles),this._endStyles=null),Yo(this._element,this._initialStyles),this._state=3)}}return n})();function HE(n){let e=null;return n.forEach((t,r)=>{qz(r)&&(e=e||new Map,e.set(r,t))}),e}function qz(n){return n==="display"||n==="position"}var Qv=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:zv(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Jv=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return OE(e,t)}getParentElement(e){return jv(e)}query(e,t,r){return kE(e,t,r)}computeStyle(e,t,r){return zv(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(f=>f instanceof Qv);hT(r,i)&&d.forEach(f=>{f.currentSnapshot.forEach((y,_)=>c.set(_,y))});let h=uT(t).map(f=>new Map(f));h=fT(e,h,c);let g=zz(e,h);return new Qv(e,h,l,g)}};var Gv="@",TT="@.disabled",ey=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Gv&&t==TT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},eS=class extends ey{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Gv?t.charAt(1)=="."&&t==TT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Gv){let o=$z(e),s=t.slice(1),a="";return s.charAt(0)!=Gv&&([s,a]=Gz(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(e,t,r,i)}};function $z(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Gz(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var ty=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(i);if(!d){let h=()=>c.delete(i);d=new ey(r,i,this.engine,h),c.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new eS(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Kz=(()=>{class n extends eh{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(Ke(Tn),Ke(Kc),Ke(Yc))};static \u0275prov=Le({token:n,factory:n.\u0275fac})}return n})();function Yz(){return new Wv}function Xz(n,e,t){return new ty(n,e,t)}var PT=[{provide:Yc,useFactory:Yz},{provide:eh,useClass:Kz},{provide:Ca,useFactory:Xz,deps:[fp,eh,Pn]}],Ope=[{provide:Kc,useClass:tS},{provide:S1,useValue:"NoopAnimations"},...PT],Zz=[{provide:Kc,useFactory:()=>new Jv},{provide:S1,useFactory:()=>"BrowserAnimations"},...PT];function NT(){return xl("NgEagerAnimations"),[...Zz]}var ny=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=dn({type:n,selectors:[["app-banner"]],decls:53,vars:0,consts:[["id","banner",1,"hero-banner","bg-gradient","position-relative","overflow-hidden"],[1,"container-fluid","px-0"],[1,"row","g-0","align-items-center","min-vh-75"],[1,"col-lg-6","order-lg-1","order-2"],[1,"hero-content","px-4","px-lg-5","py-5"],[1,"hero-badge","mb-3"],[1,"badge","bg-white","text-primary","px-3","py-2","rounded-pill","fs-6","fw-semibold"],[1,"bi","bi-award-fill","me-2"],[1,"display-4","fw-bold","text-white","mb-4","animate-fade-in"],[1,"lead","text-white-50","mb-4","fs-5"],[1,"hero-features","mb-4"],[1,"row","g-3"],[1,"col-auto"],[1,"feature-item","d-flex","align-items-center","text-white-50"],[1,"bi","bi-people-fill","me-2","text-warning"],[1,"bi","bi-mortarboard-fill","me-2","text-warning"],[1,"bi","bi-graph-up-arrow","me-2","text-warning"],[1,"hero-cta"],["href","#contact",1,"btn","btn-warning","btn-lg","px-4","py-3","me-3","shadow-sm"],[1,"bi","bi-telephone-fill","me-2"],["href","#about",1,"btn","btn-outline-light","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-person-circle","me-2"],[1,"col-lg-6","order-lg-2","order-1"],[1,"hero-image-container","position-relative"],[1,"hero-image-wrapper","p-4"],[1,"professional-image-placeholder","bg-white","rounded-4","shadow-lg","p-5","text-center"],[1,"bi","bi-person-circle","display-1","text-primary","mb-3"],[1,"text-muted"],[1,"text-muted","small","mb-0"],[1,"position-absolute","top-0","start-0","w-100","h-100"],[1,"floating-shape","shape-1"],[1,"floating-shape","shape-2"],[1,"floating-shape","shape-3"],[1,"scroll-indicator","position-absolute","bottom-0","start-50","translate-middle-x","mb-4"],[1,"scroll-arrow","animate-bounce"],[1,"bi","bi-chevron-down","text-white","fs-4"]],template:function(t,r){t&1&&(ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),nt(7,"i",7),q(8,"Psic\xF3logo Certificado "),we()(),ye(9,"h1",8),q(10," Abel Uriaz Navarro Carrasco "),we(),ye(11,"p",9),q(12," Especialista en desarrollo del talento humano y transformaci\xF3n organizacional "),we(),ye(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),nt(17,"i",14),ye(18,"small"),q(19,"Capacitaci\xF3n Empresarial"),we()()(),ye(20,"div",12)(21,"div",13),nt(22,"i",15),ye(23,"small"),q(24,"Talleres Especializados"),we()()(),ye(25,"div",12)(26,"div",13),nt(27,"i",16),ye(28,"small"),q(29,"Desarrollo Organizacional"),we()()()()(),ye(30,"div",17)(31,"a",18),nt(32,"i",19),q(33,"Contactar Ahora "),we(),ye(34,"a",20),nt(35,"i",21),q(36,"Conocer M\xE1s "),we()()()(),ye(37,"div",22)(38,"div",23)(39,"div",24)(40,"div",25),nt(41,"i",26),ye(42,"h5",27),q(43,"Foto Profesional"),we(),ye(44,"p",28),q(45,"Imagen del profesional"),we()()(),ye(46,"div",29),nt(47,"div",30)(48,"div",31)(49,"div",32),we()()()()(),ye(50,"div",33)(51,"div",34),nt(52,"i",35),we()()())},styles:['.hero-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;position:relative;overflow:hidden}.hero-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#667eeacc,#764ba2e6);z-index:1}.hero-banner[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{position:relative;z-index:2}.min-vh-75[_ngcontent-%COMP%]{min-height:75vh}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:3}.hero-content[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .2s both}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .4s both;text-shadow:0 2px 4px rgba(0,0,0,.3)}.hero-content[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .6s both}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .8s both}.hero-content[_ngcontent-%COMP%]   .hero-cta[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1s both}.hero-image-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInRight 1s ease-out .5s both}.professional-image-placeholder[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.professional-image-placeholder[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 20px 40px #00000026!important}.floating-shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.floating-shape.shape-1[_ngcontent-%COMP%]{width:80px;height:80px;top:20%;right:20%;animation-delay:0s}.floating-shape.shape-2[_ngcontent-%COMP%]{width:120px;height:120px;bottom:30%;right:10%;animation-delay:2s}.floating-shape.shape-3[_ngcontent-%COMP%]{width:60px;height:60px;top:60%;right:30%;animation-delay:4s}.scroll-indicator[_ngcontent-%COMP%]{z-index:3}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]:hover{transform:translateY(5px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.animate-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s infinite}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out both}@media (max-width: 991.98px){.hero-banner[_ngcontent-%COMP%]{min-height:auto}.hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem!important}.hero-banner[_ngcontent-%COMP%]   .hero-image-container[_ngcontent-%COMP%]{padding:2rem 1rem}.floating-shape[_ngcontent-%COMP%]{display:none}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-bottom:0}}@media (max-width: 575.98px){.hero-content[_ngcontent-%COMP%]{padding:2rem 1rem!important}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem!important}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}']})};var ry=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=dn({type:n,selectors:[["app-workshops-promo"]],decls:118,vars:0,consts:[["id","workshops",1,"workshops-section","py-5","bg-light","position-relative"],[1,"container"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-mortarboard-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"lead","text-muted"],[1,"row","g-4","mb-5"],[1,"col-lg-4","col-md-6"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover"],[1,"service-icon","mb-4"],[1,"icon-wrapper","bg-primary","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-building","text-primary","fs-1"],[1,"fw-bold","text-dark","mb-3"],[1,"text-muted","mb-4"],[1,"list-unstyled","text-muted","small"],[1,"mb-2"],[1,"bi","bi-check-circle-fill","text-success","me-2"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover","featured"],[1,"featured-badge"],[1,"badge","bg-warning","text-dark","small"],[1,"icon-wrapper","bg-warning","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-briefcase-fill","text-warning","fs-1"],[1,"icon-wrapper","bg-success","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-mic-fill","text-success","fs-1"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"benefits-container","bg-white","rounded-4","shadow-sm","p-4","p-lg-5"],[1,"row","align-items-center"],[1,"col-lg-6","mb-4","mb-lg-0"],[1,"col-lg-6"],[1,"row","g-3"],[1,"col-6"],[1,"benefit-item","text-center","p-3"],[1,"benefit-icon","bg-primary","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-target","text-primary","fs-5"],[1,"fw-semibold","text-dark","mb-1"],[1,"text-muted"],[1,"benefit-icon","bg-success","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-people-fill","text-success","fs-5"],[1,"benefit-icon","bg-warning","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-award-fill","text-warning","fs-5"],[1,"benefit-icon","bg-info","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-headset","text-info","fs-5"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-mortarboard-fill","text-primary",2,"font-size","15rem"]],template:function(t,r){t&1&&(ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),nt(6,"i",6),q(7,"Programas Profesionales "),we()(),ye(8,"h2",7),q(9,"Talleres y Programas de Capacitaci\xF3n"),we(),ye(10,"p",8),q(11," Soluciones integrales de capacitaci\xF3n dise\xF1adas para potenciar el talento humano y fortalecer las competencias organizacionales de tu empresa. "),we()()(),ye(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),nt(17,"i",14),we()(),ye(18,"h4",15),q(19,"Talleres Institucionales"),we(),ye(20,"p",16),q(21," Programas especializados para instituciones p\xFAblicas y privadas, enfocados en el desarrollo organizacional y mejora de procesos. "),we(),ye(22,"ul",17)(23,"li",18),nt(24,"i",19),q(25,"Liderazgo y gesti\xF3n de equipos"),we(),ye(26,"li",18),nt(27,"i",19),q(28,"Comunicaci\xF3n efectiva"),we(),ye(29,"li",18),nt(30,"i",19),q(31,"Resoluci\xF3n de conflictos"),we()()()(),ye(32,"div",10)(33,"div",20)(34,"div",21)(35,"span",22),q(36,"M\xE1s Solicitado"),we()(),ye(37,"div",12)(38,"div",23),nt(39,"i",24),we()(),ye(40,"h4",15),q(41,"Capacitaci\xF3n Empresarial"),we(),ye(42,"p",16),q(43," Programas personalizados para empresas que buscan optimizar el rendimiento y bienestar de sus colaboradores. "),we(),ye(44,"ul",17)(45,"li",18),nt(46,"i",19),q(47,"Habilidades blandas"),we(),ye(48,"li",18),nt(49,"i",19),q(50,"Bienestar laboral"),we(),ye(51,"li",18),nt(52,"i",19),q(53,"Productividad y motivaci\xF3n"),we()()()(),ye(54,"div",10)(55,"div",11)(56,"div",12)(57,"div",25),nt(58,"i",26),we()(),ye(59,"h4",15),q(60,"Charlas Especializadas"),we(),ye(61,"p",16),q(62," Conferencias y charlas magistrales sobre temas espec\xEDficos del desarrollo humano y organizacional. "),we(),ye(63,"ul",17)(64,"li",18),nt(65,"i",19),q(66,"Psicolog\xEDa organizacional"),we(),ye(67,"li",18),nt(68,"i",19),q(69,"Gesti\xF3n del cambio"),we(),ye(70,"li",18),nt(71,"i",19),q(72,"Inteligencia emocional"),we()()()()(),ye(73,"div",27)(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",31)(78,"h3",15),q(79,"\xBFPor qu\xE9 elegir nuestros programas?"),we(),ye(80,"p",16),q(81," Cada programa est\xE1 dise\xF1ado con metodolog\xEDas probadas y adaptadas a las necesidades espec\xEDficas de tu organizaci\xF3n. "),we()(),ye(82,"div",32)(83,"div",33)(84,"div",34)(85,"div",35)(86,"div",36),nt(87,"i",37),we(),ye(88,"h6",38),q(89,"Enfoque Pr\xE1ctico"),we(),ye(90,"small",39),q(91,"Metodolog\xEDa aplicada"),we()()(),ye(92,"div",34)(93,"div",35)(94,"div",40),nt(95,"i",41),we(),ye(96,"h6",38),q(97,"Grupos Reducidos"),we(),ye(98,"small",39),q(99,"Atenci\xF3n personalizada"),we()()(),ye(100,"div",34)(101,"div",35)(102,"div",42),nt(103,"i",43),we(),ye(104,"h6",38),q(105,"Certificaci\xF3n"),we(),ye(106,"small",39),q(107,"Reconocimiento oficial"),we()()(),ye(108,"div",34)(109,"div",35)(110,"div",44),nt(111,"i",45),we(),ye(112,"h6",38),q(113,"Seguimiento"),we(),ye(114,"small",39),q(115,"Apoyo continuo"),we()()()()()()()()()(),ye(116,"div",46),nt(117,"i",47),we()())},styles:[".workshops-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.section-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out both}.service-card[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 40px #0000001a!important;border-color:#0000001a}.service-card.featured[_ngcontent-%COMP%]{border:2px solid #ffc107;position:relative}.service-card.featured[_ngcontent-%COMP%]   .featured-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:20px;z-index:10}.service-card.featured[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #ffc10733!important}.service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1)}.transition-hover[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.benefits-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.05)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{transition:transform .3s ease}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.benefits-container[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{transition:transform .3s ease}.service-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}.service-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.service-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.service-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 991.98px){.workshops-section[_ngcontent-%COMP%]   .benefits-container[_ngcontent-%COMP%]{margin-top:2rem}.workshops-section[_ngcontent-%COMP%]   .benefits-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 767.98px){.service-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{margin-bottom:1rem}}.service-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .bi-check-circle-fill[_ngcontent-%COMP%]{font-size:.9rem}@media (max-width: 1199.98px){.workshops-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10rem!important}}@media (max-width: 767.98px){.workshops-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}"]})};var iy=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=dn({type:n,selectors:[["app-about-me"]],decls:122,vars:0,consts:[["id","about",1,"about-section","py-5","bg-white","position-relative"],[1,"container"],[1,"row","align-items-center","g-5"],[1,"col-lg-5","order-lg-1","order-2"],[1,"about-image-container","position-relative"],[1,"professional-image","bg-light","rounded-4","shadow-lg","p-4","text-center"],[1,"bi","bi-person-circle","display-1","text-primary","mb-3"],[1,"text-muted"],[1,"credential-badge","credential-1","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"d-flex","align-items-center"],[1,"credential-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-primary"],[1,"mb-0","fw-semibold","small"],[1,"credential-badge","credential-2","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"credential-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-building","text-success"],[1,"col-lg-7","order-lg-2","order-1"],[1,"about-content"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","bg-opacity-10","text-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-person-badge-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"about-intro","mb-4"],[1,"lead","text-muted"],[1,"text-primary"],[1,"about-description","mb-4"],[1,"text-muted","mb-3"],[1,"expertise-areas","mb-4"],[1,"fw-bold","text-dark","mb-3"],[1,"row","g-3"],[1,"col-md-6"],[1,"expertise-item","d-flex","align-items-center","p-3","bg-light","rounded-3"],[1,"expertise-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-brain","text-primary"],[1,"mb-1","fw-semibold"],[1,"expertise-icon","bg-warning","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-people-fill","text-warning"],[1,"expertise-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-heart-pulse-fill","text-success"],[1,"expertise-icon","bg-info","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-lightbulb-fill","text-info"],[1,"professional-stats"],[1,"row","g-4"],[1,"col-4"],[1,"stat-item","text-center"],[1,"stat-number","display-6","fw-bold","text-primary"],[1,"stat-label","small","text-muted"],[1,"stat-number","display-6","fw-bold","text-success"],[1,"stat-number","display-6","fw-bold","text-warning"],[1,"position-absolute","top-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-person-workspace","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),nt(6,"i",6),ye(7,"h6",7),q(8,"Abel Uriaz Navarro Carrasco"),we(),ye(9,"small",7),q(10,"Psic\xF3logo Organizacional"),we()(),ye(11,"div",8)(12,"div",9)(13,"div",10),nt(14,"i",11),we(),ye(15,"div")(16,"h6",12),q(17,"Colegiatura"),we(),ye(18,"small",7),q(19,"C.Ps.P. N\xB0 64179"),we()()()(),ye(20,"div",13)(21,"div",9)(22,"div",14),nt(23,"i",15),we(),ye(24,"div")(25,"h6",12),q(26,"RUC"),we(),ye(27,"small",7),q(28,"10758489677"),we()()()()()(),ye(29,"div",16)(30,"div",17)(31,"div",18)(32,"span",19),nt(33,"i",20),q(34,"Conoce al Profesional "),we()(),ye(35,"h2",21),q(36,"Sobre m\xED"),we(),ye(37,"div",22)(38,"p",23),q(39," Soy "),ye(40,"strong",24),q(41,"Abel Uriaz Navarro Carrasco"),we(),q(42,", psic\xF3logo de profesi\xF3n con especializaci\xF3n en el desarrollo del talento humano y transformaci\xF3n organizacional. "),we()(),ye(43,"div",25)(44,"p",26),q(45," Me dedico a brindar "),ye(46,"strong"),q(47,"talleres, charlas y programas de capacitaci\xF3n"),we(),q(48," dirigidos a instituciones y empresas, con el objetivo de fortalecer competencias personales, grupales y organizacionales que generen un impacto positivo duradero. "),we(),ye(49,"p",7),q(50," Mi enfoque integra conocimientos especializados en "),ye(51,"strong"),q(52,"psicolog\xEDa organizacional, habilidades blandas, bienestar laboral y liderazgo"),we(),q(53,", aplicados de manera din\xE1mica y efectiva para potenciar el rendimiento de los equipos de trabajo. "),we()(),ye(54,"div",27)(55,"h5",28),q(56,"\xC1reas de Especializaci\xF3n"),we(),ye(57,"div",29)(58,"div",30)(59,"div",31)(60,"div",32),nt(61,"i",33),we(),ye(62,"div")(63,"h6",34),q(64,"Psicolog\xEDa Organizacional"),we(),ye(65,"small",7),q(66,"Comportamiento y clima laboral"),we()()()(),ye(67,"div",30)(68,"div",31)(69,"div",35),nt(70,"i",36),we(),ye(71,"div")(72,"h6",34),q(73,"Liderazgo y Equipos"),we(),ye(74,"small",7),q(75,"Gesti\xF3n y desarrollo"),we()()()(),ye(76,"div",30)(77,"div",31)(78,"div",37),nt(79,"i",38),we(),ye(80,"div")(81,"h6",34),q(82,"Bienestar Laboral"),we(),ye(83,"small",7),q(84,"Salud mental y productividad"),we()()()(),ye(85,"div",30)(86,"div",31)(87,"div",39),nt(88,"i",40),we(),ye(89,"div")(90,"h6",34),q(91,"Habilidades Blandas"),we(),ye(92,"small",7),q(93,"Comunicaci\xF3n y empat\xEDa"),we()()()()()(),ye(94,"div",41)(95,"div",42)(96,"div",43)(97,"div",44)(98,"div",45),q(99,"5+"),we(),ye(100,"div",46),q(101,"A\xF1os de"),nt(102,"br"),q(103,"Experiencia"),we()()(),ye(104,"div",43)(105,"div",44)(106,"div",47),q(107,"50+"),we(),ye(108,"div",46),q(109,"Empresas"),nt(110,"br"),q(111,"Capacitadas"),we()()(),ye(112,"div",43)(113,"div",44)(114,"div",48),q(115,"1000+"),we(),ye(116,"div",46),q(117,"Profesionales"),nt(118,"br"),q(119,"Formados"),we()()()()()()()()(),ye(120,"div",49),nt(121,"i",50),we()())},styles:[".about-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.about-image-container[_ngcontent-%COMP%]{position:relative}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #0000001a!important}.credential-badge[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(0,0,0,.05);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.credential-badge[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #00000026!important}.credential-badge.credential-1[_ngcontent-%COMP%]{top:10%;right:-15%;animation:_ngcontent-%COMP%_fadeInRight .8s ease-out .5s both}.credential-badge.credential-2[_ngcontent-%COMP%]{bottom:20%;left:-15%;animation:_ngcontent-%COMP%_fadeInLeft .8s ease-out .7s both}.about-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .3s both}.about-content[_ngcontent-%COMP%]   .section-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .1s both}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .3s both}.about-content[_ngcontent-%COMP%]   .about-intro[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .5s both}.about-content[_ngcontent-%COMP%]   .about-description[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .7s both}.about-content[_ngcontent-%COMP%]   .expertise-areas[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .9s both}.about-content[_ngcontent-%COMP%]   .professional-stats[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1.1s both}.expertise-item[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid transparent}.expertise-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background-color:#fff!important;border-color:#0000001a;box-shadow:0 8px 25px #0000001a}.expertise-item[_ngcontent-%COMP%]:hover   .expertise-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.expertise-icon[_ngcontent-%COMP%]{transition:transform .3s ease;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.stat-item[_ngcontent-%COMP%]{transition:transform .3s ease}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-item[_ngcontent-%COMP%]:hover   .stat-number[_ngcontent-%COMP%]{transform:scale(1.1)}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{transition:transform .3s ease}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@media (max-width: 991.98px){.about-image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.about-image-container[_ngcontent-%COMP%]   .credential-badge[_ngcontent-%COMP%]{position:static!important;display:inline-block;margin:1rem .5rem 0;transform:none!important}.about-content[_ngcontent-%COMP%]{text-align:center}.about-content[_ngcontent-%COMP%]   .expertise-areas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767.98px){.professional-stats[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}.professional-stats[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2.5rem!important}.expertise-item[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center;flex-direction:column}.expertise-item[_ngcontent-%COMP%]   .expertise-icon[_ngcontent-%COMP%]{margin-bottom:.5rem!important;margin-right:0!important}.credential-badge[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:.5rem auto!important}}@media (max-width: 1199.98px){.about-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8rem!important}}@media (max-width: 767.98px){.about-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}"]})};var oy=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=dn({type:n,selectors:[["app-contact-info"]],decls:98,vars:0,consts:[["id","contact",1,"contact-section","py-5","bg-dark","text-white","position-relative","overflow-hidden"],[1,"container"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-warning","text-dark","px-3","py-2","rounded-pill"],[1,"bi","bi-telephone-fill","me-2"],[1,"display-5","fw-bold","mb-4"],[1,"lead","text-white-50"],[1,"row","g-4","justify-content-center"],[1,"col-lg-4","col-md-6"],[1,"contact-card","h-100","bg-white","bg-opacity-10","rounded-4","p-4","text-center","backdrop-blur"],[1,"contact-icon","mb-4"],[1,"icon-wrapper","bg-success","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-whatsapp","text-white","fs-2"],[1,"fw-bold","mb-3"],[1,"text-white-50","mb-4"],["href","https://wa.me/tu-numero","target","_blank",1,"btn","btn-success","btn-lg","w-100","shadow-sm"],[1,"bi","bi-whatsapp","me-2"],[1,"icon-wrapper","bg-primary","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-facebook","text-white","fs-2"],["href","https://facebook.com/tu-pagina","target","_blank",1,"btn","btn-primary","btn-lg","w-100","shadow-sm"],[1,"bi","bi-facebook","me-2"],[1,"icon-wrapper","bg-warning","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-envelope-fill","text-white","fs-2"],["href","mailto:tu.email@example.com",1,"btn","btn-warning","btn-lg","w-100","shadow-sm","text-dark"],[1,"bi","bi-envelope-fill","me-2"],[1,"row","justify-content-center","mt-5"],[1,"col-lg-10"],[1,"additional-info","bg-white","bg-opacity-5","rounded-4","p-4","p-lg-5","backdrop-blur"],[1,"row","align-items-center"],[1,"col-lg-8","mb-4","mb-lg-0"],[1,"text-white-50","mb-0"],[1,"col-lg-4","text-center"],[1,"cta-buttons"],["href","https://wa.me/tu-numero?text=Hola,%20me%20interesa%20una%20cotizaci\xF3n%20para%20capacitaci\xF3n","target","_blank",1,"btn","btn-outline-warning","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-calculator","me-2"],[1,"credentials-footer"],[1,"row","g-4","justify-content-center","align-items-center"],[1,"col-auto"],[1,"credential-item","d-flex","align-items-center"],[1,"credential-icon","bg-white","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-warning"],[1,"text-start"],[1,"mb-0","fw-semibold"],[1,"text-white-50"],[1,"bi","bi-building","text-warning"],[1,"bi","bi-award-fill","text-warning"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-telephone-fill","text-warning",2,"font-size","15rem"],[1,"position-absolute","bottom-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-chat-dots-fill","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),nt(6,"i",6),q(7,"Contacto Profesional "),we()(),ye(8,"h2",7),q(9,"\xBFListo para transformar tu organizaci\xF3n?"),we(),ye(10,"p",8),q(11," Conecta conmigo para dise\xF1ar un programa de capacitaci\xF3n personalizado que impulse el crecimiento de tu equipo y organizaci\xF3n. "),we()()(),ye(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),nt(17,"i",14),we()(),ye(18,"h4",15),q(19,"WhatsApp"),we(),ye(20,"p",16),q(21," Conecta directamente conmigo para una consulta r\xE1pida y personalizada. "),we(),ye(22,"a",17),nt(23,"i",18),q(24,"+51 9XX XXX XXX "),we()()(),ye(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",19),nt(29,"i",20),we()(),ye(30,"h4",15),q(31,"Facebook"),we(),ye(32,"p",16),q(33," S\xEDgueme en redes sociales para contenido profesional y actualizaciones. "),we(),ye(34,"a",21),nt(35,"i",22),q(36,"Seguir en Facebook "),we()()(),ye(37,"div",10)(38,"div",11)(39,"div",12)(40,"div",23),nt(41,"i",24),we()(),ye(42,"h4",15),q(43,"Email"),we(),ye(44,"p",16),q(45," Env\xEDame un correo detallado con tus necesidades de capacitaci\xF3n. "),we(),ye(46,"a",25),nt(47,"i",26),q(48,"Enviar Email "),we()()()(),ye(49,"div",27)(50,"div",28)(51,"div",29)(52,"div",30)(53,"div",31)(54,"h4",15),q(55,"\xBFNecesitas una cotizaci\xF3n personalizada?"),we(),ye(56,"p",32),q(57," Cu\xE9ntame sobre tu organizaci\xF3n, objetivos y necesidades espec\xEDficas. Dise\xF1ar\xE9 una propuesta de capacitaci\xF3n adaptada a tu presupuesto y cronograma. "),we()(),ye(58,"div",33)(59,"div",34)(60,"a",35),nt(61,"i",36),q(62,"Solicitar Cotizaci\xF3n "),we()()()()()()(),ye(63,"div",27)(64,"div",3)(65,"div",37)(66,"div",38)(67,"div",39)(68,"div",40)(69,"div",41),nt(70,"i",42),we(),ye(71,"div",43)(72,"h6",44),q(73,"Colegiatura"),we(),ye(74,"small",45),q(75,"C.Ps.P. N\xB0 64179"),we()()()(),ye(76,"div",39)(77,"div",40)(78,"div",41),nt(79,"i",46),we(),ye(80,"div",43)(81,"h6",44),q(82,"RUC"),we(),ye(83,"small",45),q(84,"10758489677"),we()()()(),ye(85,"div",39)(86,"div",40)(87,"div",41),nt(88,"i",47),we(),ye(89,"div",43)(90,"h6",44),q(91,"Especialista"),we(),ye(92,"small",45),q(93,"Desarrollo Humano"),we()()()()()()()()(),ye(94,"div",48),nt(95,"i",49),we(),ye(96,"div",50),nt(97,"i",51),we()())},styles:['.contact-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3c72,#2a5298);position:relative}.contact-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#1e3c72e6,#2a5298cc);z-index:1}.contact-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.backdrop-blur[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.contact-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.1)}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);background-color:#ffffff26!important;box-shadow:0 20px 40px #0000004d;border-color:#fff3}.contact-card[_ngcontent-%COMP%]:hover   .contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1)}.contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:all .3s ease;box-shadow:0 8px 25px #0003}.additional-info[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1)}.additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:all .3s ease}.additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #ffc1074d}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{transition:transform .3s ease}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover   .credential-icon[_ngcontent-%COMP%]{transform:scale(1.1);background-color:#fff3!important}.credentials-footer[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{transition:all .3s ease;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.contact-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}.contact-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.contact-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.contact-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.5s}.additional-info[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .7s both}.credentials-footer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .9s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn.btn-success[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #19875466}.btn.btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #0d6efd66}.btn.btn-warning[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffc10766}.btn.btn-outline-warning[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffc1074d}@media (max-width: 991.98px){.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{text-align:center}.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]{margin-top:2rem}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center;text-align:center}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767.98px){.contact-card[_ngcontent-%COMP%]{margin-bottom:2rem}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.contact-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.75rem 1rem}.additional-info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{margin-right:1rem!important}}@media (max-width: 1199.98px){.contact-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10rem!important}}@media (max-width: 767.98px){.contact-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}']})};var sy=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=dn({type:n,selectors:[["app-landing-page"]],decls:5,vars:0,consts:[[1,"landing-page"]],template:function(t,r){t&1&&(ee(0,"div",0),Re(1,"app-banner")(2,"app-workshops-promo")(3,"app-about-me")(4,"app-contact-info"),ae())},dependencies:[ny,ry,iy,oy],styles:[".landing-page[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{position:relative}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa80}@media (prefers-reduced-motion: no-preference){.landing-page[_ngcontent-%COMP%]{scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);transition:all .6s cubic-bezier(.4,0,.2,1)}}.landing-page[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{z-index:1}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] + section[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 991.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}}@media (max-width: 767.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:2rem!important;padding-bottom:2rem!important}}@media print{.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}}"]})};var zT=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Ze(Vo),Ze(si))};static \u0275dir=Ln({type:n})}return n})(),dy=(()=>{class n extends zT{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275dir=Ln({type:n,features:[so]})}return n})(),Wp=new Ye("");var Qz={provide:Wp,useExisting:Qi(()=>hy),multi:!0};function Jz(){let n=ao()?ao().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var eH=new Ye(""),hy=(()=>{class n extends zT{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Jz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Ze(Vo),Ze(si),Ze(eH,8))};static \u0275dir=Ln({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&et("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Aa([Qz]),so]})}return n})();var aS=new Ye(""),tH=new Ye("");function nH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function rH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function OT(n){return null}function HT(n){return n!=null}function qT(n){return Dl(n)?kn(n):n}function $T(n){let e={};return n.forEach(t=>{e=t!=null?Me(Me({},e),t):e}),Object.keys(e).length===0?null:e}function GT(n,e){return e.map(t=>t(n))}function iH(n){return!n.validate}function WT(n){return n.map(e=>iH(e)?e:t=>e.validate(t))}function oH(n){if(!n)return null;let e=n.filter(HT);return e.length==0?null:function(t){return $T(GT(t,e))}}function KT(n){return n!=null?oH(WT(n)):null}function sH(n){if(!n)return null;let e=n.filter(HT);return e.length==0?null:function(t){let r=GT(t,e).map(qT);return Bb(r).pipe(ft($T))}}function YT(n){return n!=null?sH(WT(n)):null}function kT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aH(n){return n._rawValidators}function lH(n){return n._rawAsyncValidators}function rS(n){return n?Array.isArray(n)?n:[n]:[]}function ly(n,e){return Array.isArray(n)?n.includes(e):n===e}function RT(n,e){let t=rS(e);return rS(n).forEach(i=>{ly(t,i)||t.push(i)}),t}function LT(n,e){return rS(e).filter(t=>!ly(n,t))}var cy=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},iS=class extends cy{name;get formDirective(){return null}get path(){return null}},Gp=class extends cy{_parent=null;name=null;valueAccessor=null},oS=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oge=vt(Me({},cH),{"[class.ng-submitted]":"isSubmitted"}),XT=(()=>{class n extends oS{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Ze(Gp,2))};static \u0275dir=Ln({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Fi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[so]})}return n})();var zp="VALID",ay="INVALID",th="PENDING",Hp="DISABLED",rh=class{},uy=class extends rh{value;source;constructor(e,t){super(),this.value=e,this.source=t}},qp=class extends rh{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},$p=class extends rh{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},nh=class extends rh{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function uH(n){return(fy(n)?n.validators:n)||null}function dH(n){return Array.isArray(n)?KT(n):n||null}function hH(n,e){return(fy(e)?e.asyncValidators:n)||null}function fH(n){return Array.isArray(n)?YT(n):n||null}function fy(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var sS=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ho(this.statusReactive)}set status(e){Ho(()=>this.statusReactive.set(e))}_status=np(()=>this.statusReactive());statusReactive=Cs(void 0);get valid(){return this.status===zp}get invalid(){return this.status===ay}get pending(){return this.status==th}get disabled(){return this.status===Hp}get enabled(){return this.status!==Hp}errors;get pristine(){return Ho(this.pristineReactive)}set pristine(e){Ho(()=>this.pristineReactive.set(e))}_pristine=np(()=>this.pristineReactive());pristineReactive=Cs(!0);get dirty(){return!this.pristine}get touched(){return Ho(this.touchedReactive)}set touched(e){Ho(()=>this.touchedReactive.set(e))}_touched=np(()=>this.touchedReactive());touchedReactive=Cs(!1);get untouched(){return!this.touched}_events=new Xn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(LT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(LT(e,this._rawAsyncValidators))}hasValidator(e){return ly(this._rawValidators,e)}hasAsyncValidator(e){return ly(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(vt(Me({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $p(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new $p(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(vt(Me({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qp(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new qp(!0,r))}markAsPending(e={}){this.status=th;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nh(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(vt(Me({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hp,this.errors=null,this._forEachChild(i=>{i.disable(vt(Me({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new uy(this.value,r)),this._events.next(new nh(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(vt(Me({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zp,this._forEachChild(r=>{r.enable(vt(Me({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(vt(Me({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zp||this.status===th)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new uy(this.value,t)),this._events.next(new nh(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(vt(Me({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hp:zp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=th,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=qT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new nh(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ur,this.statusChanges=new ur}_calculateStatus(){return this._allControlsDisabled()?Hp:this.errors?ay:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(th)?th:this._anyControlsHaveStatus(ay)?ay:zp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new qp(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new $p(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fy(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fH(this._rawAsyncValidators)}};var ZT=new Ye("",{providedIn:"root",factory:()=>lS}),lS="always";function pH(n,e){return[...e.path,n]}function gH(n,e,t=lS){vH(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),yH(n,e),bH(n,e),_H(n,e),mH(n,e)}function FT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function vH(n,e){let t=aH(n);e.validator!==null?n.setValidators(kT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lH(n);e.asyncValidator!==null?n.setAsyncValidators(kT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();FT(e._rawValidators,i),FT(e._rawAsyncValidators,i)}function yH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&QT(n,e)})}function _H(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&QT(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function QT(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function wH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function CH(n){return Object.getPrototypeOf(n.constructor)===dy}function EH(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===hy?t=o:CH(o)?r=o:i=o}),i||r||t||null}function jT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function BT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var SH=class extends sS{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(uH(t),hH(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(BT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){BT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xH={provide:Gp,useExisting:Qi(()=>cS)},UT=Promise.resolve(),cS=(()=>{class n extends Gp{_changeDetectorRef;callSetDisabledState;control=new SH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ur;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EH(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),wH(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){UT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Lc(r);UT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?pH(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Ze(iS,9),Ze(aS,10),Ze(tH,10),Ze(Wp,10),Ze(qo,8),Ze(ZT,8))};static \u0275dir=Ln({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Aa([xH]),so,Ds]})}return n})();var DH={provide:Wp,useExisting:Qi(()=>uS),multi:!0},uS=(()=>{class n extends dy{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275dir=Ln({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&et("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Aa([DH]),so]})}return n})();var MH={provide:Wp,useExisting:Qi(()=>py),multi:!0};function JT(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function AH(n){return n.split(":")[0]}var py=(()=>{class n extends dy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=Ee(xa).injector;appRefDestroyRef=this.appRefInjector.get(oo);destroyRef=Ee(oo);cdr=Ee(qo);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,L1({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=JT(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=AH(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275dir=Ln({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&et("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Aa([MH]),so]})}return n})(),eP=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(JT(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(Ze(si),Ze(Vo),Ze(py,9))};static \u0275dir=Ln({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),IH={provide:Wp,useExisting:Qi(()=>tP),multi:!0};function VT(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function TH(n){return n.split(":")[0]}var tP=(()=>{class n extends dy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=TH(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275dir=Ln({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&et("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Aa([IH]),so]})}return n})(),nP=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(VT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(VT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Ze(si),Ze(Vo),Ze(tP,9))};static \u0275dir=Ln({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function rP(n){return typeof n=="number"?n:parseFloat(n)}var iP=(()=>{class n{_validator=OT;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):OT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ln({type:n,features:[Ds]})}return n})(),PH={provide:aS,useExisting:Qi(()=>dS),multi:!0},dS=(()=>{class n extends iP{max;inputName="max";normalizeInput=t=>rP(t);createValidator=t=>rH(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275dir=Ln({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Da("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Aa([PH]),so]})}return n})(),NH={provide:aS,useExisting:Qi(()=>hS),multi:!0},hS=(()=>{class n extends iP{min;inputName="min";normalizeInput=t=>rP(t);createValidator=t=>nH(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275dir=Ln({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Da("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Aa([NH]),so]})}return n})();var OH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zo({type:n});static \u0275inj=Ji({})}return n})();var oP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ZT,useValue:t.callSetDisabledState??lS}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zo({type:n});static \u0275inj=Ji({imports:[OH]})}return n})();var xi=kx(MN());var Gr=Uint8Array,Hi=Uint16Array,w3=Int32Array,P2=new Gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),N2=new Gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),v3=new Gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PN=function(n,e){for(var t=new Hi(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new w3(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},NN=PN(P2,2),ON=NN.b,y3=NN.r;ON[28]=258,y3[258]=28;var kN=PN(N2,0),kK=kN.b,AN=kN.r,_3=new Hi(32768);for(rn=0;rn<32768;++rn)Ga=(rn&43690)>>1|(rn&21845)<<1,Ga=(Ga&52428)>>2|(Ga&13107)<<2,Ga=(Ga&61680)>>4|(Ga&3855)<<4,_3[rn]=((Ga&65280)>>8|(Ga&255)<<8)>>1;var Ga,rn,Hs=function(n,e,t){for(var r=n.length,i=0,o=new Hi(e);i<r;++i)n[i]&&++o[n[i]-1];var s=new Hi(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new Hi(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],d=e-n[i],h=s[n[i]-1]++<<d,g=h|(1<<d)-1;h<=g;++h)a[_3[h]>>l]=c}else for(a=new Hi(r),i=0;i<r;++i)n[i]&&(a[i]=_3[s[n[i]-1]++]>>15-n[i]);return a},$l=new Gr(288);for(rn=0;rn<144;++rn)$l[rn]=8;var rn;for(rn=144;rn<256;++rn)$l[rn]=9;var rn;for(rn=256;rn<280;++rn)$l[rn]=7;var rn;for(rn=280;rn<288;++rn)$l[rn]=8;var rn,yg=new Gr(32);for(rn=0;rn<32;++rn)yg[rn]=5;var rn,RK=Hs($l,9,0),LK=Hs($l,9,1),FK=Hs(yg,5,0),jK=Hs(yg,5,1),p3=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ns=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},g3=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},C3=function(n){return(n+7)/8|0},RN=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new Gr(n.subarray(e,t))};var BK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rs=function(n,e,t){var r=new Error(e||BK[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,rs),!t)throw r;return r},UK=function(n,e,t,r){var i=n.length,o=r?r.length:0;if(!i||e.f&&!e.l)return t||new Gr(0);var s=!t,a=s||e.i!=2,l=e.i;s&&(t=new Gr(i*3));var c=function(Pe){var He=t.length;if(Pe>He){var Ue=new Gr(Math.max(He*2,Pe));Ue.set(t),t=Ue}},d=e.f||0,h=e.p||0,g=e.b||0,f=e.l,y=e.d,_=e.m,C=e.n,w=i*8;do{if(!f){d=ns(n,h,1);var E=ns(n,h+1,3);if(h+=3,E)if(E==1)f=LK,y=jK,_=9,C=5;else if(E==2){var Q=ns(n,h,31)+257,U=ns(n,h+10,15)+4,F=Q+ns(n,h+5,31)+1;h+=14;for(var re=new Gr(F),le=new Gr(19),O=0;O<U;++O)le[v3[O]]=ns(n,h+O*3,7);h+=U*3;for(var N=p3(le),G=(1<<N)-1,$=Hs(le,N,1),O=0;O<F;){var ge=$[ns(n,h,G)];h+=ge&15;var T=ge>>4;if(T<16)re[O++]=T;else{var W=0,te=0;for(T==16?(te=3+ns(n,h,3),h+=2,W=re[O-1]):T==17?(te=3+ns(n,h,7),h+=3):T==18&&(te=11+ns(n,h,127),h+=7);te--;)re[O++]=W}}var V=re.subarray(0,Q),ne=re.subarray(Q);_=p3(V),C=p3(ne),f=Hs(V,_,1),y=Hs(ne,C,1)}else rs(1);else{var T=C3(h)+4,P=n[T-4]|n[T-3]<<8,H=T+P;if(H>i){l&&rs(0);break}a&&c(g+P),t.set(n.subarray(T,H),g),e.b=g+=P,e.p=h=H*8,e.f=d;continue}if(h>w){l&&rs(0);break}}a&&c(g+131072);for(var fe=(1<<_)-1,Te=(1<<C)-1,D=h;;D=h){var W=f[g3(n,h)&fe],L=W>>4;if(h+=W&15,h>w){l&&rs(0);break}if(W||rs(2),L<256)t[g++]=L;else if(L==256){D=h,f=null;break}else{var B=L-254;if(L>264){var O=L-257,Y=P2[O];B=ns(n,h,(1<<Y)-1)+ON[O],h+=Y}var ie=y[g3(n,h)&Te],ue=ie>>4;ie||rs(3),h+=ie&15;var ne=kK[ue];if(ue>3){var Y=N2[ue];ne+=g3(n,h)&(1<<Y)-1,h+=Y}if(h>w){l&&rs(0);break}a&&c(g+131072);var me=g+B;if(g<ne){var pe=o-ne,Oe=Math.min(ne,me);for(pe+g<0&&rs(3);g<Oe;++g)t[g]=r[pe+g]}for(;g<me;++g)t[g]=t[g-ne]}}e.l=f,e.p=D,e.b=g,e.f=d,f&&(d=1,e.m=_,e.d=y,e.n=C)}while(!d);return g!=t.length&&s?RN(t,0,g):t.subarray(0,g)},Wa=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},mg=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},m3=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:FN,l:0};if(i==1){var s=new Gr(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(H,Q){return H.f-Q.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,d=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=d&&t[c].f<t[h].f?c++:h++],t[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=o[0].s,r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var f=new Hi(g+1),y=b3(t[d-1],f,0);if(y>e){var r=0,_=0,C=y-e,w=1<<C;for(o.sort(function(Q,U){return f[U.s]-f[Q.s]||Q.f-U.f});r<i;++r){var E=o[r].s;if(f[E]>e)_+=w-(1<<y-f[E]),f[E]=e;else break}for(_>>=C;_>0;){var T=o[r].s;f[T]<e?_-=1<<e-f[T]++-1:++r}for(;r>=0&&_;--r){var P=o[r].s;f[P]==e&&(--f[P],++_)}y=e}return{t:new Gr(f),l:y}},b3=function(n,e,t){return n.s==-1?Math.max(b3(n.l,e,t+1),b3(n.r,e,t+1)):e[n.s]=t},IN=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Hi(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},vg=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},LN=function(n,e,t){var r=t.length,i=C3(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},TN=function(n,e,t,r,i,o,s,a,l,c,d){Wa(e,d++,t),++i[256];for(var h=m3(i,15),g=h.t,f=h.l,y=m3(o,15),_=y.t,C=y.l,w=IN(g),E=w.c,T=w.n,P=IN(_),H=P.c,Q=P.n,U=new Hi(19),F=0;F<E.length;++F)++U[E[F]&31];for(var F=0;F<H.length;++F)++U[H[F]&31];for(var re=m3(U,7),le=re.t,O=re.l,N=19;N>4&&!le[v3[N-1]];--N);var G=c+5<<3,$=vg(i,$l)+vg(o,yg)+s,ge=vg(i,g)+vg(o,_)+s+14+3*N+vg(U,le)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&G<=$&&G<=ge)return LN(e,d,n.subarray(l,l+c));var W,te,V,ne;if(Wa(e,d,1+(ge<$)),d+=2,ge<$){W=Hs(g,f,0),te=g,V=Hs(_,C,0),ne=_;var fe=Hs(le,O,0);Wa(e,d,T-257),Wa(e,d+5,Q-1),Wa(e,d+10,N-4),d+=14;for(var F=0;F<N;++F)Wa(e,d+3*F,le[v3[F]]);d+=3*N;for(var Te=[E,H],D=0;D<2;++D)for(var L=Te[D],F=0;F<L.length;++F){var B=L[F]&31;Wa(e,d,fe[B]),d+=le[B],B>15&&(Wa(e,d,L[F]>>5&127),d+=L[F]>>12)}}else W=RK,te=$l,V=FK,ne=yg;for(var F=0;F<a;++F){var Y=r[F];if(Y>255){var B=Y>>18&31;mg(e,d,W[B+257]),d+=te[B+257],B>7&&(Wa(e,d,Y>>23&31),d+=P2[B]);var ie=Y&31;mg(e,d,V[ie]),d+=ne[ie],ie>3&&(mg(e,d,Y>>5&8191),d+=N2[ie])}else mg(e,d,W[Y]),d+=te[Y]}return mg(e,d,W[256]),d+te[256]},VK=new w3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FN=new Gr(0),zK=function(n,e,t,r,i,o){var s=o.z||n.length,a=new Gr(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,d=(o.r||0)&7;if(e){d&&(l[0]=o.r>>3);for(var h=VK[e-1],g=h>>13,f=h&8191,y=(1<<t)-1,_=o.p||new Hi(32768),C=o.h||new Hi(y+1),w=Math.ceil(t/3),E=2*w,T=function(dt){return(n[dt]^n[dt+1]<<w^n[dt+2]<<E)&y},P=new w3(25e3),H=new Hi(288),Q=new Hi(32),U=0,F=0,re=o.i||0,le=0,O=o.w||0,N=0;re+2<s;++re){var G=T(re),$=re&32767,ge=C[G];if(_[$]=ge,C[G]=$,O<=re){var W=s-re;if((U>7e3||le>24576)&&(W>423||!c)){d=TN(n,l,0,P,H,Q,F,le,N,re-N,d),le=U=F=0,N=re;for(var te=0;te<286;++te)H[te]=0;for(var te=0;te<30;++te)Q[te]=0}var V=2,ne=0,fe=f,Te=$-ge&32767;if(W>2&&G==T(re-Te))for(var D=Math.min(g,W)-1,L=Math.min(32767,re),B=Math.min(258,W);Te<=L&&--fe&&$!=ge;){if(n[re+V]==n[re+V-Te]){for(var Y=0;Y<B&&n[re+Y]==n[re+Y-Te];++Y);if(Y>V){if(V=Y,ne=Te,Y>D)break;for(var ie=Math.min(Te,Y-2),ue=0,te=0;te<ie;++te){var me=re-Te+te&32767,pe=_[me],Oe=me-pe&32767;Oe>ue&&(ue=Oe,ge=me)}}}$=ge,ge=_[$],Te+=$-ge&32767}if(ne){P[le++]=268435456|y3[V]<<18|AN[ne];var Pe=y3[V]&31,He=AN[ne]&31;F+=P2[Pe]+N2[He],++H[257+Pe],++Q[He],O=re+V,++U}else P[le++]=n[re],++H[n[re]]}}for(re=Math.max(re,O);re<s;++re)P[le++]=n[re],++H[n[re]];d=TN(n,l,c,P,H,Q,F,le,N,re-N,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=C,o.p=_,o.i=re,o.w=O)}else{for(var re=o.w||0;re<s+c;re+=65535){var Ue=re+65535;Ue>=s&&(l[d/8|0]=c,Ue=s),d=LN(l,d+1,n.subarray(re,Ue))}o.i=s}return RN(a,0,r+C3(d)+i)};var jN=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},HK=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Gr(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return zK(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var BN=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var qK=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=jN();i.p(e.dictionary),BN(n,2,i.d())}},$K=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&rs(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&rs(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function O2(n,e){e||(e={});var t=jN();t.p(n);var r=HK(n,e,e.dictionary?6:2,4);return qK(r,e),BN(r,r.length-4,t.d()),r}function UN(n,e){return UK(n.subarray($K(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var GK=typeof TextDecoder<"u"&&new TextDecoder,WK=0;try{GK.decode(FN,{stream:!0}),WK=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function E3(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var wn={log:E3,warn:function(n){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):E3.call(null,arguments))},error:function(n){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):E3(n))}};function S3(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){nu(r.response,e,t)},r.onerror=function(){wn.error("could not download file")},r.send()}function VN(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function k2(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var _g,I3,nu=pt.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=pt.URL||pt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?VN(i.href)?S3(n,e,t):k2(i,i.target="_blank"):k2(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){k2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(VN(n))S3(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){k2(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:pn(o)!=="object"&&(wn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return S3(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(pt.HTMLElement)||pt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(n)}else{var l=pt.URL||pt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function iO(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,s=i.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function x3(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=Wr(t,r,i,o,e[0],7,-680876936),o=Wr(o,t,r,i,e[1],12,-389564586),i=Wr(i,o,t,r,e[2],17,606105819),r=Wr(r,i,o,t,e[3],22,-1044525330),t=Wr(t,r,i,o,e[4],7,-176418897),o=Wr(o,t,r,i,e[5],12,1200080426),i=Wr(i,o,t,r,e[6],17,-1473231341),r=Wr(r,i,o,t,e[7],22,-45705983),t=Wr(t,r,i,o,e[8],7,1770035416),o=Wr(o,t,r,i,e[9],12,-1958414417),i=Wr(i,o,t,r,e[10],17,-42063),r=Wr(r,i,o,t,e[11],22,-1990404162),t=Wr(t,r,i,o,e[12],7,1804603682),o=Wr(o,t,r,i,e[13],12,-40341101),i=Wr(i,o,t,r,e[14],17,-1502002290),t=Kr(t,r=Wr(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Kr(o,t,r,i,e[6],9,-1069501632),i=Kr(i,o,t,r,e[11],14,643717713),r=Kr(r,i,o,t,e[0],20,-373897302),t=Kr(t,r,i,o,e[5],5,-701558691),o=Kr(o,t,r,i,e[10],9,38016083),i=Kr(i,o,t,r,e[15],14,-660478335),r=Kr(r,i,o,t,e[4],20,-405537848),t=Kr(t,r,i,o,e[9],5,568446438),o=Kr(o,t,r,i,e[14],9,-1019803690),i=Kr(i,o,t,r,e[3],14,-187363961),r=Kr(r,i,o,t,e[8],20,1163531501),t=Kr(t,r,i,o,e[13],5,-1444681467),o=Kr(o,t,r,i,e[2],9,-51403784),i=Kr(i,o,t,r,e[7],14,1735328473),t=Yr(t,r=Kr(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Yr(o,t,r,i,e[8],11,-2022574463),i=Yr(i,o,t,r,e[11],16,1839030562),r=Yr(r,i,o,t,e[14],23,-35309556),t=Yr(t,r,i,o,e[1],4,-1530992060),o=Yr(o,t,r,i,e[4],11,1272893353),i=Yr(i,o,t,r,e[7],16,-155497632),r=Yr(r,i,o,t,e[10],23,-1094730640),t=Yr(t,r,i,o,e[13],4,681279174),o=Yr(o,t,r,i,e[0],11,-358537222),i=Yr(i,o,t,r,e[3],16,-722521979),r=Yr(r,i,o,t,e[6],23,76029189),t=Yr(t,r,i,o,e[9],4,-640364487),o=Yr(o,t,r,i,e[12],11,-421815835),i=Yr(i,o,t,r,e[15],16,530742520),t=Xr(t,r=Yr(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Xr(o,t,r,i,e[7],10,1126891415),i=Xr(i,o,t,r,e[14],15,-1416354905),r=Xr(r,i,o,t,e[5],21,-57434055),t=Xr(t,r,i,o,e[12],6,1700485571),o=Xr(o,t,r,i,e[3],10,-1894986606),i=Xr(i,o,t,r,e[10],15,-1051523),r=Xr(r,i,o,t,e[1],21,-2054922799),t=Xr(t,r,i,o,e[8],6,1873313359),o=Xr(o,t,r,i,e[15],10,-30611744),i=Xr(i,o,t,r,e[6],15,-1560198380),r=Xr(r,i,o,t,e[13],21,1309151649),t=Xr(t,r,i,o,e[4],6,-145523070),o=Xr(o,t,r,i,e[11],10,-1120210379),i=Xr(i,o,t,r,e[2],15,718787259),r=Xr(r,i,o,t,e[9],21,-343485551),n[0]=Wl(t,n[0]),n[1]=Wl(r,n[1]),n[2]=Wl(i,n[2]),n[3]=Wl(o,n[3])}function q2(n,e,t,r,i,o){return e=Wl(Wl(e,n),Wl(r,o)),Wl(e<<i|e>>>32-i,t)}function Wr(n,e,t,r,i,o,s){return q2(e&t|~e&r,n,e,i,o,s)}function Kr(n,e,t,r,i,o,s){return q2(e&r|t&~r,n,e,i,o,s)}function Yr(n,e,t,r,i,o,s){return q2(e^t^r,n,e,i,o,s)}function Xr(n,e,t,r,i,o,s){return q2(t^(e|~r),n,e,i,o,s)}function oO(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)x3(r,KK(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(x3(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,x3(r,i),r}function KK(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}_g=pt.atob.bind(pt),I3=pt.btoa.bind(pt);var zN="0123456789abcdef".split("");function YK(n){for(var e="",t=0;t<4;t++)e+=zN[n>>8*t+4&15]+zN[n>>8*t&15];return e}function XK(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function T3(n){return oO(n).map(XK).join("")}var ZK=function(n){for(var e=0;e<n.length;e++)n[e]=YK(n[e]);return n.join("")}(oO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wl(n,e){if(ZK){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function P3(n,e){var t,r,i,o;if(n!==t){for(var s=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}t=n,r=a}else a=r;var h=e.length,g=0,f=0,y="";for(l=0;l<h;l++)f=(f+(d=a[g=(g+1)%256]))%256,a[g]=a[f],a[f]=d,s=a[(a[g]+a[f])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}var HN={print:4,modify:8,copy:16,"annot-forms":32};function Ch(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(HN.perm!==void 0)throw new Error("Invalid permission: "+a);i+=HN[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=T3(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=P3(this.encryptionKey,this.padding)}function Eh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function qN(n){if(pn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){pt.console&&wn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function z2(n){if(!(this instanceof z2))return new z2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function sO(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function ru(n,e,t,r,i){if(!(this instanceof ru))return new ru(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,sO.call(this,r,i)}function Sh(n,e,t,r,i){if(!(this instanceof Sh))return new Sh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,sO.call(this,r,i)}function ct(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;pn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=qN;var y="1.3",_=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(m){y=m};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return C};var w=f.__private__.getPageFormat=function(m){return C[m]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},T=E.COMPAT;function P(){this.saveGraphicsState(),z(new ut($e,0,0,-$e,0,Qa()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),c="n",T=E.ADVANCED}function H(){this.restoreGraphicsState(),c="S",T=E.COMPAT}var Q=f.__private__.combineFontStyleAndFontWeight=function(m,x){if(m=="bold"&&x=="normal"||m=="bold"&&x==400||m=="normal"&&x=="italic"||m=="bold"&&x=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return x&&(m=x==400||x==="normal"?m==="italic"?"italic":"normal":x!=700&&x!=="bold"||m!=="normal"?(x==700?"bold":x)+""+m:"bold"),m};f.advancedAPI=function(m){var x=T===E.COMPAT;return x&&P.call(this),typeof m!="function"||(m(this),x&&H.call(this)),this},f.compatAPI=function(m){var x=T===E.ADVANCED;return x&&H.call(this),typeof m!="function"||(m(this),x&&P.call(this)),this},f.isAdvancedAPI=function(){return T===E.ADVANCED};var U,F=function(m){if(T!==E.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=f.roundToPrecision=f.__private__.roundToPrecision=function(m,x){var j=e||x;if(isNaN(m)||isNaN(j))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(j).replace(/0+$/,"")};U=f.hpf=f.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return re(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return re(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return re(m,16)};var le=f.f2=f.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return re(m,2)},O=f.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return re(m,3)},N=f.scale=f.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return T===E.COMPAT?m*$e:T===E.ADVANCED?m:void 0},G=function(m){return T===E.COMPAT?Qa()-m:T===E.ADVANCED?m:void 0},$=function(m){return N(G(m))};f.__private__.setPrecision=f.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var ge,W="00000000000000000000000000000000",te=f.__private__.getFileId=function(){return W},V=f.__private__.setFileId=function(m){return W=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ur=new Ch(d.userPermissions,d.userPassword,d.ownerPassword,W)),W};f.setFileId=function(m){return V(m),this},f.getFileId=function(){return te()};var ne=f.__private__.convertDateToPDFDate=function(m){var x=m.getTimezoneOffset(),j=x<0?"+":"-",K=Math.floor(Math.abs(x/60)),ce=Math.abs(x%60),_e=[j,B(K),"'",B(ce),"'"].join("");return["D:",m.getFullYear(),B(m.getMonth()+1),B(m.getDate()),B(m.getHours()),B(m.getMinutes()),B(m.getSeconds()),_e].join("")},fe=f.__private__.convertPDFDateToDate=function(m){var x=parseInt(m.substr(2,4),10),j=parseInt(m.substr(6,2),10)-1,K=parseInt(m.substr(8,2),10),ce=parseInt(m.substr(10,2),10),_e=parseInt(m.substr(12,2),10),Ie=parseInt(m.substr(14,2),10);return new Date(x,j,K,ce,_e,Ie,0)},Te=f.__private__.setCreationDate=function(m){var x;if(m===void 0&&(m=new Date),m instanceof Date)x=ne(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");x=m}return ge=x},D=f.__private__.getCreationDate=function(m){var x=ge;return m==="jsDate"&&(x=fe(ge)),x};f.setCreationDate=function(m){return Te(m),this},f.getCreationDate=function(m){return D(m)};var L,B=f.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Y=f.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ie=0,ue=[],me=[],pe=0,Oe=[],Pe=[],He=!1,Ue=me,dt=function(){ie=0,pe=0,me=[],ue=[],Oe=[],ea=rr(),So=rr()};f.__private__.setCustomOutputDestination=function(m){He=!0,Ue=m};var be=function(m){He||(Ue=m)};f.__private__.resetCustomOutputDestination=function(){He=!1,Ue=me};var z=f.__private__.out=function(m){return m=m.toString(),pe+=m.length+1,Ue.push(m),Ue},Dt=f.__private__.write=function(m){return z(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},tt=f.__private__.getArrayBuffer=function(m){for(var x=m.length,j=new ArrayBuffer(x),K=new Uint8Array(j);x--;)K[x]=m.charCodeAt(x);return j},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ne};var je=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(m){return je=T===E.ADVANCED?m/$e:m,this};var qe,ze=f.__private__.getFontSize=f.getFontSize=function(){return T===E.COMPAT?je:je*$e},rt=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(m){return rt=m,this},f.__private__.getR2L=f.getR2L=function(){return rt};var wt,Nt=f.__private__.setZoomMode=function(m){var x=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))qe=m;else if(isNaN(m)){if(x.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');qe=m}else qe=parseInt(m,10)};f.__private__.getZoomMode=function(){return qe};var Bt,Xt=f.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');wt=m};f.__private__.getPageMode=function(){return wt};var hn=f.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Bt=m};f.__private__.getLayoutMode=function(){return Bt},f.__private__.setDisplayMode=f.setDisplayMode=function(m,x,j){return Nt(m),hn(x),Xt(j),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(m){if(Object.keys(gt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[m]},f.__private__.getDocumentProperties=function(){return gt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(m){for(var x in gt)gt.hasOwnProperty(x)&&m[x]&&(gt[x]=m[x]);return this},f.__private__.setDocumentProperty=function(m,x){if(Object.keys(gt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[m]=x};var Vt,$e,Br,Qt,wo,yn={},In={},as=[],on={},Zl={},jn={},Co={},Js=null,Bn=0,Ct=[],sn=new qN(f),Ql=n.hotfixes||[],Tr={},ls={},cs=[],ut=function m(x,j,K,ce,_e,Ie){if(!(this instanceof m))return new m(x,j,K,ce,_e,Ie);isNaN(x)&&(x=1),isNaN(j)&&(j=0),isNaN(K)&&(K=0),isNaN(ce)&&(ce=1),isNaN(_e)&&(_e=0),isNaN(Ie)&&(Ie=0),this._matrix=[x,j,K,ce,_e,Ie]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(m)},ut.prototype.multiply=function(m){var x=m.sx*this.sx+m.shy*this.shx,j=m.sx*this.shy+m.shy*this.sy,K=m.shx*this.sx+m.sy*this.shx,ce=m.shx*this.shy+m.sy*this.sy,_e=m.tx*this.sx+m.ty*this.shx+this.tx,Ie=m.tx*this.shy+m.ty*this.sy+this.ty;return new ut(x,j,K,ce,_e,Ie)},ut.prototype.decompose=function(){var m=this.sx,x=this.shy,j=this.shx,K=this.sy,ce=this.tx,_e=this.ty,Ie=Math.sqrt(m*m+x*x),Ge=(m/=Ie)*j+(x/=Ie)*K;j-=m*Ge,K-=x*Ge;var it=Math.sqrt(j*j+K*K);return Ge/=it,m*(K/=it)<x*(j/=it)&&(m=-m,x=-x,Ge=-Ge,Ie=-Ie),{scale:new ut(Ie,0,0,it,0,0),translate:new ut(1,0,0,1,ce,_e),rotate:new ut(m,x,-x,m,0,0),skew:new ut(1,0,Ge,1,0,0)}},ut.prototype.toString=function(m){return this.join(" ")},ut.prototype.inversed=function(){var m=this.sx,x=this.shy,j=this.shx,K=this.sy,ce=this.tx,_e=this.ty,Ie=1/(m*K-x*j),Ge=K*Ie,it=-x*Ie,Mt=-j*Ie,Et=m*Ie;return new ut(Ge,it,Mt,Et,-Ge*ce-Mt*_e,-it*ce-Et*_e)},ut.prototype.applyToPoint=function(m){var x=m.x*this.sx+m.y*this.shx+this.tx,j=m.x*this.shy+m.y*this.sy+this.ty;return new Ou(x,j)},ut.prototype.applyToRectangle=function(m){var x=this.applyToPoint(m),j=this.applyToPoint(new Ou(m.x+m.w,m.y+m.h));return new Xh(x.x,x.y,j.x-x.x,j.y-x.y)},ut.prototype.clone=function(){var m=this.sx,x=this.shy,j=this.shx,K=this.sy,ce=this.tx,_e=this.ty;return new ut(m,x,j,K,ce,_e)},f.Matrix=ut;var Eo=f.matrixMult=function(m,x){return x.multiply(m)},us=new ut(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=us;var ci=function(m,x){if(!Zl[m]){var j=(x instanceof ru?"Sh":"P")+(Object.keys(on).length+1).toString(10);x.id=j,Zl[m]=j,on[j]=x,sn.publish("addPattern",x)}};f.ShadingPattern=ru,f.TilingPattern=Sh,f.addShadingPattern=function(m,x){return F("addShadingPattern()"),ci(m,x),this},f.beginTilingPattern=function(m){F("beginTilingPattern()"),lm(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},f.endTilingPattern=function(m,x){F("endTilingPattern()"),x.stream=Pe[L].join(`
`),ci(m,x),sn.publish("endTilingPattern",x),cs.pop().restore()};var pr=f.__private__.newObject=function(){var m=rr();return Ai(m,!0),m},rr=f.__private__.newObjectDeferred=function(){return ie++,ue[ie]=function(){return pe},ie},Ai=function(m,x){return x=typeof x=="boolean"&&x,ue[m]=pe,x&&z(m+" 0 obj"),m},bu=f.__private__.newAdditionalObject=function(){var m={objId:rr(),content:""};return Oe.push(m),m},ea=rr(),So=rr(),xo=f.__private__.decodeColorString=function(m){var x=m.split(" ");if(x.length!==2||x[1]!=="g"&&x[1]!=="G")x.length===5&&(x[4]==="k"||x[4]==="K")&&(x=[(1-x[0])*(1-x[3]),(1-x[1])*(1-x[3]),(1-x[2])*(1-x[3]),"r"]);else{var j=parseFloat(x[0]);x=[j,j,j,"r"]}for(var K="#",ce=0;ce<3;ce++)K+=("0"+Math.floor(255*parseFloat(x[ce])).toString(16)).slice(-2);return K},Do=f.__private__.encodeColorString=function(m){var x;typeof m=="string"&&(m={ch1:m});var j=m.ch1,K=m.ch2,ce=m.ch3,_e=m.ch4,Ie=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof j=="string"&&j.charAt(0)!=="#"){var Ge=new iO(j);if(Ge.ok)j=Ge.toHex();else if(!/^\d*\.?\d*$/.test(j))throw new Error('Invalid color "'+j+'" passed to jsPDF.encodeColorString.')}if(typeof j=="string"&&/^#[0-9A-Fa-f]{3}$/.test(j)&&(j="#"+j[1]+j[1]+j[2]+j[2]+j[3]+j[3]),typeof j=="string"&&/^#[0-9A-Fa-f]{6}$/.test(j)){var it=parseInt(j.substr(1),16);j=it>>16&255,K=it>>8&255,ce=255&it}if(K===void 0||_e===void 0&&j===K&&K===ce)if(typeof j=="string")x=j+" "+Ie[0];else switch(m.precision){case 2:x=le(j/255)+" "+Ie[0];break;case 3:default:x=O(j/255)+" "+Ie[0]}else if(_e===void 0||pn(_e)==="object"){if(_e&&!isNaN(_e.a)&&_e.a===0)return x=["1.","1.","1.",Ie[1]].join(" ");if(typeof j=="string")x=[j,K,ce,Ie[1]].join(" ");else switch(m.precision){case 2:x=[le(j/255),le(K/255),le(ce/255),Ie[1]].join(" ");break;default:case 3:x=[O(j/255),O(K/255),O(ce/255),Ie[1]].join(" ")}}else if(typeof j=="string")x=[j,K,ce,_e,Ie[2]].join(" ");else switch(m.precision){case 2:x=[le(j),le(K),le(ce),le(_e),Ie[2]].join(" ");break;case 3:default:x=[O(j),O(K),O(ce),O(_e),Ie[2]].join(" ")}return x},ds=f.__private__.getFilters=function(){return s},qi=f.__private__.putStream=function(m){var x=(m=m||{}).data||"",j=m.filters||ds(),K=m.alreadyAppliedFilters||[],ce=m.addLength1||!1,_e=x.length,Ie=m.objectId,Ge=function(Vr){return Vr};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ge=Ur.encryptor(Ie,0));var it={};j===!0&&(j=["FlateEncode"]);var Mt=m.additionalKeyValues||[],Et=(it=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(x,j):{data:x,reverseChain:[]}).reverseChain+(Array.isArray(K)?K.join(" "):K.toString());if(it.data.length!==0&&(Mt.push({key:"Length",value:it.data.length}),ce===!0&&Mt.push({key:"Length1",value:_e})),Et.length!=0)if(Et.split("/").length-1==1)Mt.push({key:"Filter",value:Et});else{Mt.push({key:"Filter",value:"["+Et+"]"});for(var Kt=0;Kt<Mt.length;Kt+=1)if(Mt[Kt].key==="DecodeParms"){for(var On=[],Un=0;Un<it.reverseChain.split("/").length-1;Un+=1)On.push("null");On.push(Mt[Kt].value),Mt[Kt].value="["+On.join(" ")+"]"}}z("<<");for(var ir=0;ir<Mt.length;ir++)z("/"+Mt[ir].key+" "+Mt[ir].value);z(">>"),it.data.length!==0&&(z("stream"),z(Ge(it.data)),z("endstream"))},hs=f.__private__.putPage=function(m){var x=m.number,j=m.data,K=m.objId,ce=m.contentsObjId;Ai(K,!0),z("<</Type /Page"),z("/Parent "+m.rootDictionaryObjId+" 0 R"),z("/Resources "+m.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(U(m.mediaBox.bottomLeftX))+" "+parseFloat(U(m.mediaBox.bottomLeftY))+" "+U(m.mediaBox.topRightX)+" "+U(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&z("/CropBox ["+U(m.cropBox.bottomLeftX)+" "+U(m.cropBox.bottomLeftY)+" "+U(m.cropBox.topRightX)+" "+U(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&z("/BleedBox ["+U(m.bleedBox.bottomLeftX)+" "+U(m.bleedBox.bottomLeftY)+" "+U(m.bleedBox.topRightX)+" "+U(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&z("/TrimBox ["+U(m.trimBox.bottomLeftX)+" "+U(m.trimBox.bottomLeftY)+" "+U(m.trimBox.topRightX)+" "+U(m.trimBox.topRightY)+"]"),m.artBox!==null&&z("/ArtBox ["+U(m.artBox.bottomLeftX)+" "+U(m.artBox.bottomLeftY)+" "+U(m.artBox.topRightX)+" "+U(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&z("/UserUnit "+m.userUnit),sn.publish("putPage",{objId:K,pageContext:Ct[x],pageNumber:x,page:j}),z("/Contents "+ce+" 0 R"),z(">>"),z("endobj");var _e=j.join(`
`);return T===E.ADVANCED&&(_e+=`
Q`),Ai(ce,!0),qi({data:_e,filters:ds(),objectId:ce}),z("endobj"),K},Jl=f.__private__.putPages=function(){var m,x,j=[];for(m=1;m<=Bn;m++)Ct[m].objId=rr(),Ct[m].contentsObjId=rr();for(m=1;m<=Bn;m++)j.push(hs({number:m,data:Pe[m],objId:Ct[m].objId,contentsObjId:Ct[m].contentsObjId,mediaBox:Ct[m].mediaBox,cropBox:Ct[m].cropBox,bleedBox:Ct[m].bleedBox,trimBox:Ct[m].trimBox,artBox:Ct[m].artBox,userUnit:Ct[m].userUnit,rootDictionaryObjId:ea,resourceDictionaryObjId:So}));Ai(ea,!0),z("<</Type /Pages");var K="/Kids [";for(x=0;x<Bn;x++)K+=j[x]+" 0 R ";z(K+"]"),z("/Count "+Bn),z(">>"),z("endobj"),sn.publish("postPutPages")},wu=function(m){sn.publish("putFont",{font:m,out:z,newObject:pr,putStream:qi}),m.isAlreadyPutted!==!0&&(m.objectNumber=pr(),z("<<"),z("/Type /Font"),z("/BaseFont /"+Eh(m.postScriptName)),z("/Subtype /Type1"),typeof m.encoding=="string"&&z("/Encoding /"+m.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},Cu=function(){for(var m in yn)yn.hasOwnProperty(m)&&(h===!1||h===!0&&g.hasOwnProperty(m))&&wu(yn[m])},Eu=function(m){m.objectNumber=pr();var x=[];x.push({key:"Type",value:"/XObject"}),x.push({key:"Subtype",value:"/Form"}),x.push({key:"BBox",value:"["+[U(m.x),U(m.y),U(m.x+m.width),U(m.y+m.height)].join(" ")+"]"}),x.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var j=m.pages[1].join(`
`);qi({data:j,additionalKeyValues:x,objectId:m.objectNumber}),z("endobj")},Su=function(){for(var m in Tr)Tr.hasOwnProperty(m)&&Eu(Tr[m])},qg=function(m,x){var j,K=[],ce=1/(x-1);for(j=0;j<1;j+=ce)K.push(j);if(K.push(1),m[0].offset!=0){var _e={offset:0,color:m[0].color};m.unshift(_e)}if(m[m.length-1].offset!=1){var Ie={offset:1,color:m[m.length-1].color};m.push(Ie)}for(var Ge="",it=0,Mt=0;Mt<K.length;Mt++){for(j=K[Mt];j>m[it+1].offset;)it++;var Et=m[it].offset,Kt=(j-Et)/(m[it+1].offset-Et),On=m[it].color,Un=m[it+1].color;Ge+=Y(Math.round((1-Kt)*On[0]+Kt*Un[0]).toString(16))+Y(Math.round((1-Kt)*On[1]+Kt*Un[1]).toString(16))+Y(Math.round((1-Kt)*On[2]+Kt*Un[2]).toString(16))}return Ge.trim()},N_=function(m,x){x||(x=21);var j=pr(),K=qg(m.colors,x),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+x+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qi({data:K,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:j}),z("endobj"),m.objectNumber=pr(),z("<< /ShadingType "+m.type),z("/ColorSpace /DeviceRGB");var _e="/Coords ["+U(parseFloat(m.coords[0]))+" "+U(parseFloat(m.coords[1]))+" ";m.type===2?_e+=U(parseFloat(m.coords[2]))+" "+U(parseFloat(m.coords[3])):_e+=U(parseFloat(m.coords[2]))+" "+U(parseFloat(m.coords[3]))+" "+U(parseFloat(m.coords[4]))+" "+U(parseFloat(m.coords[5])),z(_e+="]"),m.matrix&&z("/Matrix ["+m.matrix.toString()+"]"),z("/Function "+j+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},O_=function(m,x){var j=rr(),K=pr();x.push({resourcesOid:j,objectOid:K}),m.objectNumber=K;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+m.boundingBox.map(U).join(" ")+"]"}),ce.push({key:"XStep",value:U(m.xStep)}),ce.push({key:"YStep",value:U(m.yStep)}),ce.push({key:"Resources",value:j+" 0 R"}),m.matrix&&ce.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),qi({data:m.stream,additionalKeyValues:ce,objectId:m.objectNumber}),z("endobj")},xu=function(m){var x;for(x in on)on.hasOwnProperty(x)&&(on[x]instanceof ru?N_(on[x]):on[x]instanceof Sh&&O_(on[x],m))},$g=function(m){for(var x in m.objectNumber=pr(),z("<<"),m)switch(x){case"opacity":z("/ca "+le(m[x]));break;case"stroke-opacity":z("/CA "+le(m[x]))}z(">>"),z("endobj")},k_=function(){var m;for(m in jn)jn.hasOwnProperty(m)&&$g(jn[m])},Uh=function(){for(var m in z("/XObject <<"),Tr)Tr.hasOwnProperty(m)&&Tr[m].objectNumber>=0&&z("/"+m+" "+Tr[m].objectNumber+" 0 R");sn.publish("putXobjectDict"),z(">>")},R_=function(){Ur.oid=pr(),z("<<"),z("/Filter /Standard"),z("/V "+Ur.v),z("/R "+Ur.r),z("/U <"+Ur.toHexString(Ur.U)+">"),z("/O <"+Ur.toHexString(Ur.O)+">"),z("/P "+Ur.P),z(">>"),z("endobj")},Gg=function(){for(var m in z("/Font <<"),yn)yn.hasOwnProperty(m)&&(h===!1||h===!0&&g.hasOwnProperty(m))&&z("/"+m+" "+yn[m].objectNumber+" 0 R");z(">>")},L_=function(){if(Object.keys(on).length>0){for(var m in z("/Shading <<"),on)on.hasOwnProperty(m)&&on[m]instanceof ru&&on[m].objectNumber>=0&&z("/"+m+" "+on[m].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),z(">>")}},Du=function(m){if(Object.keys(on).length>0){for(var x in z("/Pattern <<"),on)on.hasOwnProperty(x)&&on[x]instanceof f.TilingPattern&&on[x].objectNumber>=0&&on[x].objectNumber<m&&z("/"+x+" "+on[x].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),z(">>")}},F_=function(){if(Object.keys(jn).length>0){var m;for(m in z("/ExtGState <<"),jn)jn.hasOwnProperty(m)&&jn[m].objectNumber>=0&&z("/"+m+" "+jn[m].objectNumber+" 0 R");sn.publish("putGStateDict"),z(">>")}},Wn=function(m){Ai(m.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Gg(),L_(),Du(m.objectOid),F_(),Uh(),z(">>"),z("endobj")},Wg=function(){var m=[];Cu(),k_(),Su(),xu(m),sn.publish("putResources"),m.forEach(Wn),Wn({resourcesOid:So,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources")},Kg=function(){sn.publish("putAdditionalObjects");for(var m=0;m<Oe.length;m++){var x=Oe[m];Ai(x.objId,!0),z(x.content),z("endobj")}sn.publish("postPutAdditionalObjects")},Yg=function(m){In[m.fontName]=In[m.fontName]||{},In[m.fontName][m.fontStyle]=m.id},Vh=function(m,x,j,K,ce){var _e={id:"F"+(Object.keys(yn).length+1).toString(10),postScriptName:m,fontName:x,fontStyle:j,encoding:K,isStandardFont:ce||!1,metadata:{}};return sn.publish("addFont",{font:_e,instance:this}),yn[_e.id]=_e,Yg(_e),_e.id},j_=function(m){for(var x=0,j=Ne.length;x<j;x++){var K=Vh.call(this,m[x][0],m[x][1],m[x][2],Ne[x][3],!0);h===!1&&(g[K]=!0);var ce=m[x][0].split("-");Yg({id:K,fontName:ce[0],fontStyle:ce[1]||""})}sn.publish("addFonts",{fonts:yn,dictionary:In})},Mo=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(K){var x=K.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var j="Error in function "+x.split(`
`)[0].split("<")[0]+": "+K.message;if(!pt.console)throw new Error(j);pt.console.error(j,K),pt.alert&&alert(j)}},m.foo.bar=m,m.foo},Mu=function(m,x){var j,K,ce,_e,Ie,Ge,it,Mt,Et;if(ce=(x=x||{}).sourceEncoding||"Unicode",Ie=x.outputEncoding,(x.autoencode||Ie)&&yn[Vt].metadata&&yn[Vt].metadata[ce]&&yn[Vt].metadata[ce].encoding&&(_e=yn[Vt].metadata[ce].encoding,!Ie&&yn[Vt].encoding&&(Ie=yn[Vt].encoding),!Ie&&_e.codePages&&(Ie=_e.codePages[0]),typeof Ie=="string"&&(Ie=_e[Ie]),Ie)){for(it=!1,Ge=[],j=0,K=m.length;j<K;j++)(Mt=Ie[m.charCodeAt(j)])?Ge.push(String.fromCharCode(Mt)):Ge.push(m[j]),Ge[j].charCodeAt(0)>>8&&(it=!0);m=Ge.join("")}for(j=m.length;it===void 0&&j!==0;)m.charCodeAt(j-1)>>8&&(it=!0),j--;if(!it)return m;for(Ge=x.noBOM?[]:[254,255],j=0,K=m.length;j<K;j++){if((Et=(Mt=m.charCodeAt(j))>>8)>>8)throw new Error("Character at position "+j+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ge.push(Et),Ge.push(Mt-(Et<<8))}return String.fromCharCode.apply(void 0,Ge)},ui=f.__private__.pdfEscape=f.pdfEscape=function(m,x){return Mu(m,x).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zh=f.__private__.beginPage=function(m){Pe[++Bn]=[],Ct[Bn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Zg(Bn),be(Pe[L])},Xg=function(m,x){var j,K,ce;switch(t=x||t,typeof m=="string"&&(j=w(m.toLowerCase()),Array.isArray(j)&&(K=j[0],ce=j[1])),Array.isArray(m)&&(K=m[0]*$e,ce=m[1]*$e),isNaN(K)&&(K=i[0],ce=i[1]),(K>14400||ce>14400)&&(wn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),K=Math.min(14400,K),ce=Math.min(14400,ce)),i=[K,ce],t.substr(0,1)){case"l":ce>K&&(i=[ce,K]);break;case"p":K>ce&&(i=[ce,K])}zh(i),rm(Gh),z(Ao),Kh!==0&&z(Kh+" J"),Yh!==0&&z(Yh+" j"),sn.publish("addPage",{pageNumber:Bn})},B_=function(m){m>0&&m<=Bn&&(Pe.splice(m,1),Ct.splice(m,1),Bn--,L>Bn&&(L=Bn),this.setPage(L))},Zg=function(m){m>0&&m<=Bn&&(L=m)},U_=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Pe.length-1},Qg=function(m,x,j){var K,ce=void 0;return j=j||{},m=m!==void 0?m:yn[Vt].fontName,x=x!==void 0?x:yn[Vt].fontStyle,K=m.toLowerCase(),In[K]!==void 0&&In[K][x]!==void 0?ce=In[K][x]:In[m]!==void 0&&In[m][x]!==void 0?ce=In[m][x]:j.disableWarning===!1&&wn.warn("Unable to look up font label for font '"+m+"', '"+x+"'. Refer to getFontList() for available fonts."),ce||j.noFallback||(ce=In.times[x])==null&&(ce=In.times.normal),ce},V_=f.__private__.putInfo=function(){var m=pr(),x=function(K){return K};for(var j in d!==null&&(x=Ur.encryptor(m,0)),z("<<"),z("/Producer ("+ui(x("jsPDF "+ct.version))+")"),gt)gt.hasOwnProperty(j)&&gt[j]&&z("/"+j.substr(0,1).toUpperCase()+j.substr(1)+" ("+ui(x(gt[j]))+")");z("/CreationDate ("+ui(x(ge))+")"),z(">>"),z("endobj")},Hh=f.__private__.putCatalog=function(m){var x=(m=m||{}).rootDictionaryObjId||ea;switch(pr(),z("<<"),z("/Type /Catalog"),z("/Pages "+x+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var j=""+qe;j.substr(j.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&z("/OpenAction [3 0 R /XYZ null null "+le(qe)+"]")}switch(Bt||(Bt="continuous"),Bt){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}wt&&z("/PageMode /"+wt),sn.publish("putCatalog"),z(">>"),z("endobj")},z_=f.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(ie+1)),z("/Root "+ie+" 0 R"),z("/Info "+(ie-1)+" 0 R"),d!==null&&z("/Encrypt "+Ur.oid+" 0 R"),z("/ID [ <"+W+"> <"+W+"> ]"),z(">>")},H_=f.__private__.putHeader=function(){z("%PDF-"+y),z("%\xBA\xDF\xAC\xE0")},q_=f.__private__.putXRef=function(){var m="0000000000";z("xref"),z("0 "+(ie+1)),z("0000000000 65535 f ");for(var x=1;x<=ie;x++)typeof ue[x]=="function"?z((m+ue[x]()).slice(-10)+" 00000 n "):ue[x]!==void 0?z((m+ue[x]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},ta=f.__private__.buildDocument=function(){dt(),be(me),sn.publish("buildDocument"),H_(),Jl(),Kg(),Wg(),d!==null&&R_(),V_(),Hh();var m=pe;return q_(),z_(),z("startxref"),z(""+m),z("%%EOF"),be(Pe[L]),me.join(`
`)},Au=f.__private__.getBlob=function(m){return new Blob([tt(m)],{type:"application/pdf"})},Iu=f.output=f.__private__.output=Mo(function(m,x){switch(typeof(x=x||{})=="string"?x={filename:x}:x.filename=x.filename||"generated.pdf",m){case void 0:return ta();case"save":f.save(x.filename);break;case"arraybuffer":return tt(ta());case"blob":return Au(ta());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(Au(ta()))||void 0;wn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var j="",K=ta();try{j=I3(K)}catch{j=I3(unescape(encodeURIComponent(K)))}return"data:application/pdf;filename="+x.filename+";base64,"+j;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';x.pdfObjectUrl&&(ce=x.pdfObjectUrl,_e="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+_e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(x)+");<\/script></body></html>",Ge=pt.open();return Ge!==null&&Ge.document.write(Ie),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(x.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+x.filename+'" width="500px" height="400px" /></body></html>',Mt=pt.open();if(Mt!==null){Mt.document.write(it);var Et=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=x.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",x)+'"></iframe></body></html>',On=pt.open();if(On!==null&&(On.document.write(Kt),On.document.title=x.filename),On||typeof safari>"u")return On;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",x);default:return null}}),Jg=function(m){return Array.isArray(Ql)===!0&&Ql.indexOf(m)>-1};switch(r){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=Jg("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$e=r}var Ur=null;Te(),V();var $_=function(m){return d!==null?Ur.encryptor(m,0):function(x){return x}},em=f.__private__.getPageInfo=f.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[m].objId,pageNumber:m,pageContext:Ct[m]}},yt=f.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var x in Ct)if(Ct[x].objId===m)break;return em(x)},G_=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ct[L].objId,pageNumber:L,pageContext:Ct[L]}};f.addPage=function(){return Xg.apply(this,arguments),this},f.setPage=function(){return Zg.apply(this,arguments),be.call(this,Pe[L]),this},f.insertPage=function(m){return this.addPage(),this.movePage(L,m),this},f.movePage=function(m,x){var j,K;if(m>x){j=Pe[m],K=Ct[m];for(var ce=m;ce>x;ce--)Pe[ce]=Pe[ce-1],Ct[ce]=Ct[ce-1];Pe[x]=j,Ct[x]=K,this.setPage(x)}else if(m<x){j=Pe[m],K=Ct[m];for(var _e=m;_e<x;_e++)Pe[_e]=Pe[_e+1],Ct[_e]=Ct[_e+1];Pe[x]=j,Ct[x]=K,this.setPage(x)}return this},f.deletePage=function(){return B_.apply(this,arguments),this},f.__private__.text=f.text=function(m,x,j,K,ce){var _e,Ie,Ge,it,Mt,Et,Kt,On,Un,ir=(K=K||{}).scope||this;if(typeof m=="number"&&typeof x=="number"&&(typeof j=="string"||Array.isArray(j))){var Vr=j;j=x,x=m,m=Vr}if(arguments[3]instanceof ut?(F("The transform parameter of text() with a Matrix value"),Un=ce):(Ge=arguments[4],it=arguments[5],pn(Kt=arguments[3])==="object"&&Kt!==null||(typeof Ge=="string"&&(it=Ge,Ge=null),typeof Kt=="string"&&(it=Kt,Kt=null),typeof Kt=="number"&&(Ge=Kt,Kt=null),K={flags:Kt,angle:Ge,align:it})),isNaN(x)||isNaN(j)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return ir;var br="",Io=!1,Ii=typeof K.lineHeightFactor=="number"?K.lineHeightFactor:tc,gs=ir.internal.scaleFactor;function cm(Cn){return Cn=Cn.split("	").join(Array(K.TabLen||9).join(" ")),ui(Cn,Kt)}function ef(Cn){for(var En,Yn=Cn.concat(),gr=[],sa=Yn.length;sa--;)typeof(En=Yn.shift())=="string"?gr.push(En):Array.isArray(Cn)&&(En.length===1||En[1]===void 0&&En[2]===void 0)?gr.push(En[0]):gr.push([En[0],En[1],En[2]]);return gr}function tf(Cn,En){var Yn;if(typeof Cn=="string")Yn=En(Cn)[0];else if(Array.isArray(Cn)){for(var gr,sa,uf=Cn.concat(),qu=[],pm=uf.length;pm--;)typeof(gr=uf.shift())=="string"?qu.push(En(gr)[0]):Array.isArray(gr)&&typeof gr[0]=="string"&&(sa=En(gr[0],gr[1],gr[2]),qu.push([sa[0],sa[1],sa[2]]));Yn=qu}return Yn}var Ru=!1,nf=!0;if(typeof m=="string")Ru=!0;else if(Array.isArray(m)){var rf=m.concat();Ie=[];for(var Lu,Pr=rf.length;Pr--;)(typeof(Lu=rf.shift())!="string"||Array.isArray(Lu)&&typeof Lu[0]!="string")&&(nf=!1);Ru=nf}if(Ru===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Fu=je/ir.internal.scaleFactor,ju=Fu*(Ii-1);switch(K.baseline){case"bottom":j-=ju;break;case"top":j+=Fu-ju;break;case"hanging":j+=Fu-2*ju;break;case"middle":j+=Fu/2-ju}if((Et=K.maxWidth||0)>0&&(typeof m=="string"?m=ir.splitTextToSize(m,Et):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Cn,En){return Cn.concat(ir.splitTextToSize(En,Et))},[]))),_e={text:m,x,y:j,options:K,mutex:{pdfEscape:ui,activeFontKey:Vt,fonts:yn,activeFontSize:je}},sn.publish("preProcessText",_e),m=_e.text,Ge=(K=_e.options).angle,!(Un instanceof ut)&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,K.rotationDirection===0&&(Ge=-Ge),T===E.ADVANCED&&(Ge=-Ge);var Bu=Math.cos(Ge),of=Math.sin(Ge);Un=new ut(Bu,of,-of,Bu,0,0)}else Ge&&Ge instanceof ut&&(Un=Ge);T!==E.ADVANCED||Un||(Un=us),(Mt=K.charSpace||Nu)!==void 0&&(br+=U(N(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(On=K.horizontalScale)!==void 0&&(br+=U(100*On)+` Tz
`),K.lang;var di=-1,nb=K.renderingMode!==void 0?K.renderingMode:K.stroke,sf=ir.internal.getCurrentPageInfo().pageContext;switch(nb){case 0:case!1:case"fill":di=0;break;case 1:case!0:case"stroke":di=1;break;case 2:case"fillThenStroke":di=2;break;case 3:case"invisible":di=3;break;case 4:case"fillAndAddForClipping":di=4;break;case 5:case"strokeAndAddPathForClipping":di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":di=6;break;case 7:case"addToPathForClipping":di=7}var um=sf.usedRenderingMode!==void 0?sf.usedRenderingMode:-1;di!==-1?br+=di+` Tr
`:um!==-1&&(br+=`0 Tr
`),di!==-1&&(sf.usedRenderingMode=di),it=K.align||"left";var $i,Uu=je*Ii,dm=ir.internal.pageSize.getWidth(),hm=yn[Vt];Mt=K.charSpace||Nu,Et=K.maxWidth||0,Kt=Object.assign({autoencode:!0,noBOM:!0},K.flags);var Ja=[],ic=function(Cn){return ir.getStringUnitWidth(Cn,{font:hm,charSpace:Mt,fontSize:je,doKerning:!1})*je/gs};if(Object.prototype.toString.call(m)==="[object Array]"){var hi;Ie=ef(m),it!=="left"&&($i=Ie.map(ic));var Qr,el=0;if(it==="right"){x-=$i[0],m=[],Pr=Ie.length;for(var ra=0;ra<Pr;ra++)ra===0?(Qr=ps(x),hi=na(j)):(Qr=N(el-$i[ra]),hi=-Uu),m.push([Ie[ra],Qr,hi]),el=$i[ra]}else if(it==="center"){x-=$i[0]/2,m=[],Pr=Ie.length;for(var ia=0;ia<Pr;ia++)ia===0?(Qr=ps(x),hi=na(j)):(Qr=N((el-$i[ia])/2),hi=-Uu),m.push([Ie[ia],Qr,hi]),el=$i[ia]}else if(it==="left"){m=[],Pr=Ie.length;for(var Vu=0;Vu<Pr;Vu++)m.push(Ie[Vu])}else if(it==="justify"&&hm.encoding==="Identity-H"){m=[],Pr=Ie.length,Et=Et!==0?Et:dm;for(var oa=0,Kn=0;Kn<Pr;Kn++)if(hi=Kn===0?na(j):-Uu,Qr=Kn===0?ps(x):oa,Kn<Pr-1){var af=N((Et-$i[Kn])/(Ie[Kn].split(" ").length-1)),Jr=Ie[Kn].split(" ");m.push([Jr[0]+" ",Qr,hi]),oa=0;for(var Gi=1;Gi<Jr.length;Gi++){var zu=(ic(Jr[Gi-1]+" "+Jr[Gi])-ic(Jr[Gi]))*gs+af;Gi==Jr.length-1?m.push([Jr[Gi],zu,0]):m.push([Jr[Gi]+" ",zu,0]),oa-=zu}}else m.push([Ie[Kn],Qr,hi]);m.push(["",oa,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Pr=Ie.length,Et=Et!==0?Et:dm,Kn=0;Kn<Pr;Kn++)hi=Kn===0?na(j):-Uu,Qr=Kn===0?ps(x):0,Kn<Pr-1?Ja.push(U(N((Et-$i[Kn])/(Ie[Kn].split(" ").length-1)))):Ja.push(0),m.push([Ie[Kn],Qr,hi])}}var fm=typeof K.R2L=="boolean"?K.R2L:rt;fm===!0&&(m=tf(m,function(Cn,En,Yn){return[Cn.split("").reverse().join(""),En,Yn]})),_e={text:m,x,y:j,options:K,mutex:{pdfEscape:ui,activeFontKey:Vt,fonts:yn,activeFontSize:je}},sn.publish("postProcessText",_e),m=_e.text,Io=_e.mutex.isHex||!1;var lf=yn[Vt].encoding;lf!=="WinAnsiEncoding"&&lf!=="StandardEncoding"||(m=tf(m,function(Cn,En,Yn){return[cm(Cn),En,Yn]})),Ie=ef(m),m=[];for(var oc,sc,tl,ac=0,Hu=1,lc=Array.isArray(Ie[0])?Hu:ac,nl="",cf=function(Cn,En,Yn){var gr="";return Yn instanceof ut?(Yn=typeof K.angle=="number"?Eo(Yn,new ut(1,0,0,1,Cn,En)):Eo(new ut(1,0,0,1,Cn,En),Yn),T===E.ADVANCED&&(Yn=Eo(new ut(1,0,0,-1,0,0),Yn)),gr=Yn.join(" ")+` Tm
`):gr=U(Cn)+" "+U(En)+` Td
`,gr},Wi=0;Wi<Ie.length;Wi++){switch(nl="",lc){case Hu:tl=(Io?"<":"(")+Ie[Wi][0]+(Io?">":")"),oc=parseFloat(Ie[Wi][1]),sc=parseFloat(Ie[Wi][2]);break;case ac:tl=(Io?"<":"(")+Ie[Wi]+(Io?">":")"),oc=ps(x),sc=na(j)}Ja!==void 0&&Ja[Wi]!==void 0&&(nl=Ja[Wi]+` Tw
`),Wi===0?m.push(nl+cf(oc,sc,Un)+tl):lc===ac?m.push(nl+tl):lc===Hu&&m.push(nl+cf(oc,sc,Un)+tl)}m=lc===ac?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Ki=`BT
/`;return Ki+=Vt+" "+je+` Tf
`,Ki+=U(je*Ii)+` TL
`,Ki+=nc+`
`,Ki+=br,Ki+=m,z(Ki+="ET"),g[Vt]=!0,ir};var W_=f.__private__.clip=f.clip=function(m){return z(m==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return W_("evenodd")},f.__private__.discardPath=f.discardPath=function(){return z("n"),this};var fs=f.__private__.isValidStyle=function(m){var x=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(x=!0),x};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(m){return fs(m)&&(c=m),this};var tm=f.__private__.getStyle=f.getStyle=function(m){var x=c;switch(m){case"D":case"S":x="S";break;case"F":x="f";break;case"FD":case"DF":x="B";break;case"f":case"f*":case"B":case"B*":x=m}return x},nm=f.close=function(){return z("h"),this};f.stroke=function(){return z("S"),this},f.fill=function(m){return Tu("f",m),this},f.fillEvenOdd=function(m){return Tu("f*",m),this},f.fillStroke=function(m){return Tu("B",m),this},f.fillStrokeEvenOdd=function(m){return Tu("B*",m),this};var Tu=function(m,x){pn(x)==="object"?Y_(x,m):z(m)},qh=function(m){m===null||T===E.ADVANCED&&m===void 0||(m=tm(m),z(m))};function K_(m,x,j,K,ce){var _e=new Sh(x||this.boundingBox,j||this.xStep,K||this.yStep,this.gState,ce||this.matrix);_e.stream=this.stream;var Ie=m+"$$"+this.cloneIndex+++"$$";return ci(Ie,_e),_e}var Y_=function(m,x){var j=Zl[m.key],K=on[j];if(K instanceof ru)z("q"),z(X_(x)),K.gState&&f.setGState(K.gState),z(m.matrix.toString()+" cm"),z("/"+j+" sh"),z("Q");else if(K instanceof Sh){var ce=new ut(1,0,0,-1,0,Qa());m.matrix&&(ce=ce.multiply(m.matrix||us),j=K_.call(K,m.key,m.boundingBox,m.xStep,m.yStep,ce).id),z("q"),z("/Pattern cs"),z("/"+j+" scn"),K.gState&&f.setGState(K.gState),z(x),z("Q")}},X_=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},$h=f.moveTo=function(m,x){return z(U(N(m))+" "+U($(x))+" m"),this},ec=f.lineTo=function(m,x){return z(U(N(m))+" "+U($(x))+" l"),this},Xa=f.curveTo=function(m,x,j,K,ce,_e){return z([U(N(m)),U($(x)),U(N(j)),U($(K)),U(N(ce)),U($(_e)),"c"].join(" ")),this};f.__private__.line=f.line=function(m,x,j,K,ce){if(isNaN(m)||isNaN(x)||isNaN(j)||isNaN(K)||!fs(ce))throw new Error("Invalid arguments passed to jsPDF.line");return T===E.COMPAT?this.lines([[j-m,K-x]],m,x,[1,1],ce||"S"):this.lines([[j-m,K-x]],m,x,[1,1]).stroke()},f.__private__.lines=f.lines=function(m,x,j,K,ce,_e){var Ie,Ge,it,Mt,Et,Kt,On,Un,ir,Vr,br,Io;if(typeof m=="number"&&(Io=j,j=x,x=m,m=Io),K=K||[1,1],_e=_e||!1,isNaN(x)||isNaN(j)||!Array.isArray(m)||!Array.isArray(K)||!fs(ce)||typeof _e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($h(x,j),Ie=K[0],Ge=K[1],Mt=m.length,Vr=x,br=j,it=0;it<Mt;it++)(Et=m[it]).length===2?(Vr=Et[0]*Ie+Vr,br=Et[1]*Ge+br,ec(Vr,br)):(Kt=Et[0]*Ie+Vr,On=Et[1]*Ge+br,Un=Et[2]*Ie+Vr,ir=Et[3]*Ge+br,Vr=Et[4]*Ie+Vr,br=Et[5]*Ge+br,Xa(Kt,On,Un,ir,Vr,br));return _e&&nm(),qh(ce),this},f.path=function(m){for(var x=0;x<m.length;x++){var j=m[x],K=j.c;switch(j.op){case"m":$h(K[0],K[1]);break;case"l":ec(K[0],K[1]);break;case"c":Xa.apply(this,K);break;case"h":nm()}}return this},f.__private__.rect=f.rect=function(m,x,j,K,ce){if(isNaN(m)||isNaN(x)||isNaN(j)||isNaN(K)||!fs(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return T===E.COMPAT&&(K=-K),z([U(N(m)),U($(x)),U(N(j)),U(N(K)),"re"].join(" ")),qh(ce),this},f.__private__.triangle=f.triangle=function(m,x,j,K,ce,_e,Ie){if(isNaN(m)||isNaN(x)||isNaN(j)||isNaN(K)||isNaN(ce)||isNaN(_e)||!fs(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[j-m,K-x],[ce-j,_e-K],[m-ce,x-_e]],m,x,[1,1],Ie,!0),this},f.__private__.roundedRect=f.roundedRect=function(m,x,j,K,ce,_e,Ie){if(isNaN(m)||isNaN(x)||isNaN(j)||isNaN(K)||isNaN(ce)||isNaN(_e)||!fs(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*j),_e=Math.min(_e,.5*K),this.lines([[j-2*ce,0],[ce*Ge,0,ce,_e-_e*Ge,ce,_e],[0,K-2*_e],[0,_e*Ge,-ce*Ge,_e,-ce,_e],[2*ce-j,0],[-ce*Ge,0,-ce,-_e*Ge,-ce,-_e],[0,2*_e-K],[0,-_e*Ge,ce*Ge,-_e,ce,-_e]],m+ce,x,[1,1],Ie,!0),this},f.__private__.ellipse=f.ellipse=function(m,x,j,K,ce){if(isNaN(m)||isNaN(x)||isNaN(j)||isNaN(K)||!fs(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _e=4/3*(Math.SQRT2-1)*j,Ie=4/3*(Math.SQRT2-1)*K;return $h(m+j,x),Xa(m+j,x-Ie,m+_e,x-K,m,x-K),Xa(m-_e,x-K,m-j,x-Ie,m-j,x),Xa(m-j,x+Ie,m-_e,x+K,m,x+K),Xa(m+_e,x+K,m+j,x+Ie,m+j,x),qh(ce),this},f.__private__.circle=f.circle=function(m,x,j,K){if(isNaN(m)||isNaN(x)||isNaN(j)||!fs(K))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,x,j,j,K)},f.setFont=function(m,x,j){return j&&(x=Q(x,j)),Vt=Qg(m,x,{disableWarning:!1}),this};var Z_=f.__private__.getFont=f.getFont=function(){return yn[Qg.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var m,x,j={};for(m in In)if(In.hasOwnProperty(m))for(x in j[m]=[],In[m])In[m].hasOwnProperty(x)&&j[m].push(x);return j},f.addFont=function(m,x,j,K,ce){var _e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_e.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&_e.indexOf(arguments[3])==-1&&(j=Q(j,K)),ce=ce||"Identity-H",Vh.call(this,m,x,j,ce)};var tc,Gh=n.lineWidth||.200025,Pu=f.__private__.getLineWidth=f.getLineWidth=function(){return Gh},rm=f.__private__.setLineWidth=f.setLineWidth=function(m){return Gh=m,z(U(N(m))+" w"),this};f.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(m,x){if(m=m||[],x=x||0,isNaN(x)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(j){return U(N(j))}).join(" "),x=U(N(x)),z("["+m+"] "+x+" d"),this};var im=f.__private__.getLineHeight=f.getLineHeight=function(){return je*tc};f.__private__.getLineHeight=f.getLineHeight=function(){return je*tc};var om=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(tc=m),this},sm=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return tc};om(n.lineHeight);var ps=f.__private__.getHorizontalCoordinate=function(m){return N(m)},na=f.__private__.getVerticalCoordinate=function(m){return T===E.ADVANCED?m:Ct[L].mediaBox.topRightY-Ct[L].mediaBox.bottomLeftY-N(m)},Q_=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(m){return U(ps(m))},Za=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(m){return U(na(m))},Ao=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return xo(Ao)},f.__private__.setStrokeColor=f.setDrawColor=function(m,x,j,K){return Ao=Do({ch1:m,ch2:x,ch3:j,ch4:K,pdfColorType:"draw",precision:2}),z(Ao),this};var Wh=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return xo(Wh)},f.__private__.setFillColor=f.setFillColor=function(m,x,j,K){return Wh=Do({ch1:m,ch2:x,ch3:j,ch4:K,pdfColorType:"fill",precision:2}),z(Wh),this};var nc=n.textColor||"0 g",J_=f.__private__.getTextColor=f.getTextColor=function(){return xo(nc)};f.__private__.setTextColor=f.setTextColor=function(m,x,j,K){return nc=Do({ch1:m,ch2:x,ch3:j,ch4:K,pdfColorType:"text",precision:3}),this};var Nu=n.charSpace,eb=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Nu||0)};f.__private__.setCharSpace=f.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nu=m,this};var Kh=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(m){var x=f.CapJoinStyles[m];if(x===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kh=x,z(x+" J"),this};var Yh=0;f.__private__.setLineJoin=f.setLineJoin=function(m){var x=f.CapJoinStyles[m];if(x===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yh=x,z(x+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(U(N(m))+" M"),this},f.GState=z2,f.setGState=function(m){(m=typeof m=="string"?jn[Co[m]]:am(null,m)).equals(Js)||(z("/"+m.id+" gs"),Js=m)};var am=function(m,x){if(!m||!Co[m]){var j=!1;for(var K in jn)if(jn.hasOwnProperty(K)&&jn[K].equals(x)){j=!0;break}if(j)x=jn[K];else{var ce="GS"+(Object.keys(jn).length+1).toString(10);jn[ce]=x,x.id=ce}return m&&(Co[m]=x.id),sn.publish("addGState",x),x}};f.addGState=function(m,x){return am(m,x),this},f.saveGraphicsState=function(){return z("q"),as.push({key:Vt,size:je,color:nc}),this},f.restoreGraphicsState=function(){z("Q");var m=as.pop();return Vt=m.key,je=m.size,nc=m.color,Js=null,this},f.setCurrentTransformationMatrix=function(m){return z(m.toString()+" cm"),this},f.comment=function(m){return z("#"+m),this};var Ou=function(m,x){var j=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return j},set:function(_e){isNaN(_e)||(j=parseFloat(_e))}});var K=x||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return K},set:function(_e){isNaN(_e)||(K=parseFloat(_e))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(_e){ce=_e.toString()}}),this},Xh=function(m,x,j,K){Ou.call(this,m,x),this.type="rect";var ce=j||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Ie){isNaN(Ie)||(ce=parseFloat(Ie))}});var _e=K||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _e},set:function(Ie){isNaN(Ie)||(_e=parseFloat(Ie))}}),this},Zh=function(){this.page=Bn,this.currentPage=L,this.pages=Pe.slice(0),this.pagesContext=Ct.slice(0),this.x=Br,this.y=Qt,this.matrix=wo,this.width=rc(L),this.height=Qa(L),this.outputDestination=Ue,this.id="",this.objectNumber=-1};Zh.prototype.restore=function(){Bn=this.page,L=this.currentPage,Ct=this.pagesContext,Pe=this.pages,Br=this.x,Qt=this.y,wo=this.matrix,Qh(L,this.width),Jh(L,this.height),Ue=this.outputDestination};var lm=function(m,x,j,K,ce){cs.push(new Zh),Bn=L=0,Pe=[],Br=m,Qt=x,wo=ce,zh([j,K])},tb=function(m){if(ls[m])cs.pop().restore();else{var x=new Zh,j="Xo"+(Object.keys(Tr).length+1).toString(10);x.id=j,ls[m]=j,Tr[j]=x,sn.publish("addFormObject",x),cs.pop().restore()}};for(var ku in f.beginFormObject=function(m,x,j,K,ce){return lm(m,x,j,K,ce),this},f.endFormObject=function(m){return tb(m),this},f.doFormObject=function(m,x){var j=Tr[ls[m]];return z("q"),z(x.toString()+" cm"),z("/"+j.id+" Do"),z("Q"),this},f.getFormObject=function(m){var x=Tr[ls[m]];return{x:x.x,y:x.y,width:x.width,height:x.height,matrix:x.matrix}},f.save=function(m,x){return m=m||"generated.pdf",(x=x||{}).returnPromise=x.returnPromise||!1,x.returnPromise===!1?(nu(Au(ta()),m),typeof nu.unload=="function"&&pt.setTimeout&&setTimeout(nu.unload,911),this):new Promise(function(j,K){try{var ce=nu(Au(ta()),m);typeof nu.unload=="function"&&pt.setTimeout&&setTimeout(nu.unload,911),j(ce)}catch(_e){K(_e.message)}})},ct.API)ct.API.hasOwnProperty(ku)&&(ku==="events"&&ct.API.events.length?function(m,x){var j,K,ce;for(ce=x.length-1;ce!==-1;ce--)j=x[ce][0],K=x[ce][1],m.subscribe.apply(m,[j].concat(typeof K=="function"?[K]:K))}(sn,ct.API.events):f[ku]=ct.API[ku]);var rc=f.getPageWidth=function(m){return(Ct[m=m||L].mediaBox.topRightX-Ct[m].mediaBox.bottomLeftX)/$e},Qh=f.setPageWidth=function(m,x){Ct[m].mediaBox.topRightX=x*$e+Ct[m].mediaBox.bottomLeftX},Qa=f.getPageHeight=function(m){return(Ct[m=m||L].mediaBox.topRightY-Ct[m].mediaBox.bottomLeftY)/$e},Jh=f.setPageHeight=function(m,x){Ct[m].mediaBox.topRightY=x*$e+Ct[m].mediaBox.bottomLeftY};return f.internal={pdfEscape:ui,getStyle:tm,getFont:Z_,getFontSize:ze,getCharSpace:eb,getTextColor:J_,getLineHeight:im,getLineHeightFactor:sm,getLineWidth:Pu,write:Dt,getHorizontalCoordinate:ps,getVerticalCoordinate:na,getCoordinateString:Q_,getVerticalCoordinateString:Za,collections:{},newObject:pr,newAdditionalObject:bu,newObjectDeferred:rr,newObjectDeferredBegin:Ai,getFilters:ds,putStream:qi,events:sn,scaleFactor:$e,pageSize:{getWidth:function(){return rc(L)},setWidth:function(m){Qh(L,m)},getHeight:function(){return Qa(L)},setHeight:function(m){Jh(L,m)}},encryptionOptions:d,encryption:Ur,getEncryptor:$_,output:Iu,getNumberOfPages:U_,pages:Pe,out:z,f2:le,f3:O,getPageInfo:em,getPageInfoByObjId:yt,getCurrentPageInfo:G_,getPDFVersion:_,Point:Ou,Rectangle:Xh,Matrix:ut,hasHotfix:Jg},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return rc(L)},set:function(m){Qh(L,m)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Qa(L)},set:function(m){Jh(L,m)},enumerable:!0,configurable:!0}),j_.call(f,Ne),Vt="F1",Xg(i,t),sn.publish("initialized"),f}Ch.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ch.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ch.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ch.prototype.processOwnerPassword=function(n,e){return P3(T3(e).substr(0,5),n)},Ch.prototype.encryptor=function(n,e){var t=T3(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return P3(t,r)}},z2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||pn(n)!==pn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="3.0.1";var Gn=ct.API,R3=1,ou=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(n){return n.toFixed(2)},Gl=function(n){return n.toFixed(5)};Gn.__acroform__={};var Si=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},$N=function(n){return n*R3},qs=function(n){var e=new lO,t=Qe.internal.getHeight(n)||0,r=Qe.internal.getWidth(n)||0;return e.BBox=[0,0,Number(St(r)),Number(St(t))],e},QK=Gn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},JK=Gn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},eY=Gn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},er=Gn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eY(n,e-1)},tr=Gn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QK(n,e-1)},nr=Gn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JK(n,e-1)},tY=Gn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},nY=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=N3(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+St(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=qs(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},N3=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var o=t,s=Qe.internal.getHeight(n)||0;s=s<0?-s:s;var a=Qe.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(O,N,G){if(O+1<i.length){var $=N+" "+i[O+1][0];return R2($,n,G).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,d,h=R2("3",n,o).height,g=n.multiline?s-o:(s-h)/2,f=g+=2,y=0,_=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+R2(e,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var w="",E=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var P=!1;if(i[T].length!==1&&C!==i[T].length-1){if((h+2)*(E+2)+2>s)continue e;w+=i[T][C],P=!0,_=T,T--}else{w=(w+=i[T][C]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var H=parseInt(T),Q=l(H,w,o),U=T>=i.length-1;if(Q&&!U){w+=" ",C=0;continue}if(Q||U){if(U)_=H;else if(n.multiline&&(h+2)*(E+2)+2>s)continue e}else{if(!n.multiline||(h+2)*(E+2)+2>s)continue e;_=H}}for(var F="",re=y;re<=_;re++){var le=i[re];if(n.multiline){if(re===_){F+=le[C]+" ",C=(C+1)%le.length;continue}if(re===y){F+=le[le.length-1]+" ";continue}}F+=le[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,d=R2(F,n,o).width,n.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}e+=St(c)+" "+St(f)+` Td
`,e+="("+ou(F)+`) Tj
`,e+=-St(c)+` 0 Td
`,f=-(o+2),d=0,y=P?_:_+1,E++,w=""}break}return r.text=e,r.fontSize=o,r},R2=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},rY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iY=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},oY=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),pn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},sY=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(os.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(rY)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");R3=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new cO,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&iY(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=tY(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Qe.createDefaultAppearanceStream(a),pn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=nY(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var f=a.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var y=f[s];typeof y=="function"&&(y=y.call(i,a)),h+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(i,a)),h+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&oY(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},aO=Gn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),pn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+ou(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},D3=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+ou(r(n))+")"},$s=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$s.prototype.toString=function(){return this.objId+" 0 R"},$s.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},$s.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:aO(i,this.objId,this.scope)}):i instanceof $s?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var lO=function(){$s.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Si(lO,$s);var cO=function(){$s.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ou(t(n))+")"}},set:function(t){n=t}})};Si(cO,$s);var os=function n(){$s.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!er(e,3)},set:function(w){w?this.F=tr(e,3):this.F=nr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof H2)return;o="FieldObject"+n.FieldNum++}var w=function(E){return E};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+ou(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/R3:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof H2||this instanceof iu))return D3(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ir?g:D3(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof Ir?w:w.substr(0,1)==="("?bh(w.substr(1,w.length-2)):bh(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir?bh(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Ir?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ir?f:D3(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=this instanceof Ir?w:w.substr(0,1)==="("?bh(w.substr(1,w.length-2)):bh(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir?bh(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Ir?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,1)},set:function(w){w?this.Ff=tr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,2)},set:function(w){w?this.Ff=tr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,3)},set:function(w){w?this.Ff=tr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');C=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(C){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Si(os,$s);var xh=function(){os.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return aO(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,18)},set:function(t){t?this.Ff=tr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=tr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,20)},set:function(t){t?(this.Ff=tr(this.Ff,20),e.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,22)},set:function(t){t?this.Ff=tr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(t){t?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,27)},set:function(t){t?this.Ff=tr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Si(xh,os);var Dh=function(){xh.call(this),this.fontName="helvetica",this.combo=!1};Si(Dh,xh);var Mh=function(){Dh.call(this),this.combo=!0};Si(Mh,Dh);var j2=function(){Mh.call(this),this.edit=!0};Si(j2,Mh);var Ir=function(){os.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,15)},set:function(t){t?this.Ff=tr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,16)},set:function(t){t?this.Ff=tr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,17)},set:function(t){t?this.Ff=tr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(t){t?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ou(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){pn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Si(Ir,os);var B2=function(){Ir.call(this),this.pushButton=!0};Si(B2,Ir);var Ah=function(){Ir.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Si(Ah,Ir);var H2=function(){var n,e;os.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+ou(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){pn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Si(H2,os),Ah.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ah.prototype.createOption=function(n){var e=new H2;return e.Parent=this,e.optionName=n,this.Kids.push(e),aY.call(this.scope,e),e};var U2=function(){Ir.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};Si(U2,Ir);var iu=function(){os.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,13)},set:function(e){e?this.Ff=tr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,21)},set:function(e){e?this.Ff=tr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(e){e?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,24)},set:function(e){e?this.Ff=tr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,25)},set:function(e){e?this.Ff=tr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(e){e?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Si(iu,os);var V2=function(){iu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,14)},set:function(n){n?this.Ff=tr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};Si(V2,iu);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=qs(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=N3(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+St(Qe.internal.getWidth(n))+" "+St(Qe.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+St(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=qs(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=Qe.internal.getHeight(n),s=Qe.internal.getWidth(n),a=N3(n,n.caption);return i.push("1 g"),i.push("0 0 "+St(s)+" "+St(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(s-1)+" "+St(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+St(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=qs(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Qe.internal.getWidth(n))+" "+St(Qe.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Qe.RadioButton.Circle.YesNormal,e.D[n]=Qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=qs(n);e.scope=n.scope;var t=[],r=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Qe.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Gl(Qe.internal.getWidth(n)/2)+" "+Gl(Qe.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=qs(n);e.scope=n.scope;var t=[],r=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Qe.internal.Bezier_C).toFixed(5)),s=Number((r*Qe.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Gl(Qe.internal.getWidth(n)/2)+" "+Gl(Qe.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Gl(Qe.internal.getWidth(n)/2)+" "+Gl(Qe.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=qs(n);e.scope=n.scope;var t=[],r=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Qe.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Gl(Qe.internal.getWidth(n)/2)+" "+Gl(Qe.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Qe.RadioButton.Cross.YesNormal,e.D[n]=Qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=qs(n);e.scope=n.scope;var t=[],r=Qe.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+St(Qe.internal.getWidth(n)-2)+" "+St(Qe.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),t.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),t.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),t.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=qs(n);e.scope=n.scope;var t=Qe.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Qe.internal.getWidth(n))+" "+St(Qe.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+St(Qe.internal.getWidth(n)-2)+" "+St(Qe.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(St(t.x1.x)+" "+St(t.x1.y)+" m"),r.push(St(t.x2.x)+" "+St(t.x2.y)+" l"),r.push(St(t.x4.x)+" "+St(t.x4.y)+" m"),r.push(St(t.x3.x)+" "+St(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=qs(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Qe.internal.getWidth(n))+" "+St(Qe.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Qe.internal.getWidth(n),t=Qe.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Qe.internal.getWidth=function(n){var e=0;return pn(n)==="object"&&(e=$N(n.Rect[2])),e},Qe.internal.getHeight=function(n){var e=0;return pn(n)==="object"&&(e=$N(n.Rect[3])),e};var aY=Gn.addField=function(n){if(sY(this,n),!(n instanceof os))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Gn.AcroFormChoiceField=xh,Gn.AcroFormListBox=Dh,Gn.AcroFormComboBox=Mh,Gn.AcroFormEditBox=j2,Gn.AcroFormButton=Ir,Gn.AcroFormPushButton=B2,Gn.AcroFormRadioButton=Ah,Gn.AcroFormCheckBox=U2,Gn.AcroFormTextField=iu,Gn.AcroFormPasswordField=V2,Gn.AcroFormAppearance=Qe,Gn.AcroForm={ChoiceField:xh,ListBox:Dh,ComboBox:Mh,EditBox:j2,Button:Ir,PushButton:B2,RadioButton:Ah,CheckBox:U2,TextField:iu,PasswordField:V2,Appearance:Qe},ct.AcroForm={ChoiceField:xh,ListBox:Dh,ComboBox:Mh,EditBox:j2,Button:Ir,PushButton:B2,RadioButton:Ah,CheckBox:U2,TextField:iu,PasswordField:V2,Appearance:Qe};var mme=ct.AcroForm;function uO(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(O,N){var G,$,ge,W,te,V=e;if((N=N||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(Q(O))for(te in t)for(ge=t[te],G=0;G<ge.length;G+=1){for(W=!0,$=0;$<ge[G].length;$+=1)if(ge[G][$]!==void 0&&ge[G][$]!==O[$]){W=!1;break}if(W===!0){V=te;break}}else for(te in t)for(ge=t[te],G=0;G<ge.length;G+=1){for(W=!0,$=0;$<ge[G].length;$+=1)if(ge[G][$]!==void 0&&ge[G][$]!==O.charCodeAt($)){W=!1;break}if(W===!0){V=te;break}}return V===e&&N!==e&&(V=N),V},i=function O(N){for(var G=this.internal.write,$=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:N.width}),W.push({key:"Height",value:N.height}),N.colorSpace===C.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===C.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var te="",V=0,ne=N.transparency.length;V<ne;V++)te+=N.transparency[V]+" "+N.transparency[V]+" ";W.push({key:"Mask",value:"["+te+"]"})}N.sMask!==void 0&&W.push({key:"SMask",value:N.objectId+1+" 0 R"});var fe=N.filter!==void 0?["/"+N.filter]:void 0;if($({data:N.data,additionalKeyValues:W,alreadyAppliedFilters:fe,objectId:N.objectId}),G("endobj"),"sMask"in N&&N.sMask!==void 0){var Te="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,D={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Te,data:N.sMask};"filter"in N&&(D.filter=N.filter),O.call(this,D)}if(N.colorSpace===C.INDEXED){var L=this.internal.newObject();$({data:F(new Uint8Array(N.palette)),objectId:L}),G("endobj")}},o=function(){var O=this.internal.collections.addImage_images;for(var N in O)i.call(this,O[N])},s=function(){var O,N=this.internal.collections.addImage_images,G=this.internal.write;for(var $ in N)G("/I"+(O=N[$]).index,O.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var O=this.internal.collections.addImage_images;return a.call(this),O},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(O){return typeof n["process"+O.toUpperCase()]=="function"},h=function(O){return pn(O)==="object"&&O.nodeType===1},g=function(O,N){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var G=""+O.getAttribute("src");if(G.indexOf("data:image/")===0)return _g(unescape(G).split("base64,").pop());var $=n.loadFile(G,!0);if($!==void 0)return $}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ge;switch(N){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;case"JPEG":case"JPG":default:ge="image/jpeg"}return _g(O.toDataURL(ge,1).split("base64,").pop())}},f=function(O){var N=this.internal.collections.addImage_images;if(N){for(var G in N)if(O===N[G].alias)return N[G]}},y=function(O,N,G){return O||N||(O=-96,N=-96),O<0&&(O=-1*G.width*72/O/this.internal.scaleFactor),N<0&&(N=-1*G.height*72/N/this.internal.scaleFactor),O===0&&(O=N*G.width/G.height),N===0&&(N=O*G.height/G.width),[O,N]},_=function(O,N,G,$,ge,W){var te=y.call(this,G,$,ge),V=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,fe=l.call(this);if(G=te[0],$=te[1],fe[ge.index]=ge,W){W*=Math.PI/180;var Te=Math.cos(W),D=Math.sin(W),L=function(Y){return Y.toFixed(4)},B=[L(Te),L(D),L(-1*D),L(Te),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,V(O),ne(N+$),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([V(G),"0","0",V($),"0","0","cm"].join(" "))):this.internal.write([V(G),"0","0",V($),V(O),ne(N+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=n.__addimage__.sHashCode=function(O){var N,G,$=0;if(typeof O=="string")for(G=O.length,N=0;N<G;N++)$=($<<5)-$+O.charCodeAt(N),$|=0;else if(Q(O))for(G=O.byteLength/2,N=0;N<G;N++)$=($<<5)-$+O[N],$|=0;return $},T=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var N=!0;return O.length===0&&(N=!1),O.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(N=!1),N},P=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var N=O.indexOf(",");return N<0?null:O.substring(0,N).trim().endsWith("base64")?O.substring(N+1):null},H=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(O){return H()&&O instanceof ArrayBuffer};var Q=n.__addimage__.isArrayBufferView=function(O){return H()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},U=n.__addimage__.binaryStringToUint8Array=function(O){for(var N=O.length,G=new Uint8Array(N),$=0;$<N;$++)G[$]=O.charCodeAt($);return G},F=n.__addimage__.arrayBufferToBinaryString=function(O){for(var N="",G=Q(O)?O:new Uint8Array(O),$=0;$<G.length;$+=8192)N+=String.fromCharCode.apply(null,G.subarray($,$+8192));return N};n.addImage=function(){var O,N,G,$,ge,W,te,V,ne;if(typeof arguments[1]=="number"?(N=e,G=arguments[1],$=arguments[2],ge=arguments[3],W=arguments[4],te=arguments[5],V=arguments[6],ne=arguments[7]):(N=arguments[1],G=arguments[2],$=arguments[3],ge=arguments[4],W=arguments[5],te=arguments[6],V=arguments[7],ne=arguments[8]),pn(O=arguments[0])==="object"&&!h(O)&&"imageData"in O){var fe=O;O=fe.imageData,N=fe.format||N||e,G=fe.x||G||0,$=fe.y||$||0,ge=fe.w||fe.width||ge,W=fe.h||fe.height||W,te=fe.alias||te,V=fe.compression||V,ne=fe.rotation||fe.angle||ne}var Te=this.internal.getFilters();if(V===void 0&&Te.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(G)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var D=re.call(this,O,N,te,V);return _.call(this,G,$,ge,W,D,ne),this};var re=function(O,N,G,$){var ge,W,te;if(typeof O=="string"&&r(O)===e){O=unescape(O);var V=le(O,!1);(V!==""||(V=n.loadFile(O,!0))!==void 0)&&(O=V)}if(h(O)&&(O=g(O,N)),N=r(O,N),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((te=G)==null||te.length===0)&&(G=function(ne){return typeof ne=="string"||Q(ne)?E(ne):Q(ne.data)?E(ne.data):null}(O)),(ge=f.call(this,G))||(H()&&(O instanceof Uint8Array||N==="RGBA"||(W=O,O=U(O))),ge=this["process"+N.toUpperCase()](O,c.call(this),G,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in n.image_compression?ne:w.NONE}($),W)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},le=n.__addimage__.convertBase64ToBinaryString=function(O,N){N=typeof N!="boolean"||N;var G,$="";if(typeof O=="string"){var ge;G=(ge=P(O))!==null&&ge!==void 0?ge:O;try{$=_g(G)}catch(W){if(N)throw T(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};n.getImageProperties=function(O){var N,G,$="";if(h(O)&&(O=g(O)),typeof O=="string"&&r(O)===e&&(($=le(O,!1))===""&&($=n.loadFile(O)||""),O=$),G=r(O),!d(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!H()||O instanceof Uint8Array||(O=U(O)),!(N=this["process"+G.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=G,N}})(ct.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),E=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(w(r.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+f(w(E))+") >>",_.content=o;var T=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+T,r.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var H=this.annotations._nameMap[r.options.name];r.options.pageNumber=H.page,r.options.top=H.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Q=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(t,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(t,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(ct.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(_){var C=0,w=t,E="",T=0;for(C=0;C<_.length;C+=1)w[_.charCodeAt(C)]!==void 0?(T++,typeof(w=w[_.charCodeAt(C)])=="number"&&(E+=String.fromCharCode(w),w=t,T=0),C===_.length-1&&(w=t,E+=_.charAt(C-(T-1)),C-=T-1,T=0)):(w=t,E+=_.charAt(C-T),C-=T,T=0);return E};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(_,C,w){return s(_)?o(_)===!1?-1:!c(_)||!s(C)&&!s(w)||!s(w)&&a(C)||a(_)&&!s(C)||a(_)&&l(C)||a(_)&&a(C)?0:d(_)&&s(C)&&!a(C)&&s(w)&&c(w)?3:a(_)||!s(w)?1:2:-1},f=function(_){var C=0,w=0,E=0,T="",P="",H="",Q=(_=_||"").split("\\s+"),U=[];for(C=0;C<Q.length;C+=1){for(U.push(""),w=0;w<Q[C].length;w+=1)T=Q[C][w],P=Q[C][w-1],H=Q[C][w+1],s(T)?(E=g(T,P,H),U[C]+=E!==-1?String.fromCharCode(e[T.charCodeAt(0)][E]):T):U[C]+=T;U[C]=h(U[C])}return U.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(C)){var E=0;for(w=[],E=0;E<C.length;E+=1)Array.isArray(C[E])?w.push([f(C[E][0]),C[E][1],C[E][2]]):w.push([f(C[E])]);_=w}else _=f(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",y])}(ct.API),ct.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(_){y=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,f=0,y=0,_=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,P){return T.concat(C.splitTextToSize(P,w))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)f<(_=this.getStringUnitWidth(l[E],{font:h})*d)&&(f=_);return f!==0&&(y=l.length),{w:f/=g,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,d,h,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var f,y,_,C,w=[],E=[],T=[],P={},H={},Q=[],U=[],F=(g=g||{}).autoSize||!1,re=g.printHeaders!==!1,le=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,O=g.margins||Object.assign({width:this.getPageWidth()},e),N=typeof g.padding=="number"?g.padding:3,G=g.headerBackgroundColor||"#c8c8c8",$=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=re,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=$,this.setFontSize(le),h==null)E=w=Object.keys(d[0]),T=w.map(function(){return"left"});else if(Array.isArray(h)&&pn(h[0])==="object")for(w=h.map(function(fe){return fe.name}),E=h.map(function(fe){return fe.prompt||fe.name||""}),T=h.map(function(fe){return fe.align||"left"}),f=0;f<h.length;f+=1)H[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(E=w=h,T=w.map(function(){return"left"}));if(F||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<w.length;f+=1){for(P[C=w[f]]=d.map(function(fe){return fe[C]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(E[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=P[C],this.setFont(void 0,"normal"),_=0;_<y.length;_+=1)Q.push(this.getTextDimensions(y[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[C]=Math.max.apply(null,Q)+N+N,Q=[]}if(re){var ge={};for(f=0;f<w.length;f+=1)ge[w[f]]={},ge[w[f]].text=E[f],ge[w[f]].align=T[f];var W=a.call(this,ge,H);U=w.map(function(fe){return new o(l,c,H[fe],W,ge[fe].text,void 0,ge[fe].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var te=h.reduce(function(fe,Te){return fe[Te.name]=Te.align,fe},{});for(f=0;f<d.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:d[f]},this);var V=a.call(this,d[f],H);for(_=0;_<w.length;_+=1){var ne=d[f][w[_]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:_,data:ne},this),s.call(this,new o(l,c,H[w[_]],V,ne,f+2,te[w[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/g+d+d},this).reduce(function(f,y){return Math.max(f,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(ct.API);var dO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],O3=uO(hO),fO=[100,200,300,400,500,600,700,800,900],lY=uO(fO);function k3(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return dO[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof O3[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function GN(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var cY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},WN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function KN(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function uY(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},cY,t.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=k3(e[a])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){s=n[o.family];break}if(!(s=s||n[r]))throw new Error("Could not find a font-family for the rule '"+KN(o)+"' and default family '"+r+"'.");if(s=function(l,c){if(c[l])return c[l];var d=O3[l],h=d<=O3.normal?-1:1,g=GN(c,hO,d,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var d=dO[l],h=0;h<d.length;++h)if(c[d[h]])return c[d[h]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=lY[l],h=GN(c,fO,d,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+KN(o)+"'.");return s}function YN(n){return n.trimLeft()}function dY(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function hY(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var L2,XN,ZN,M3=["times"];(function(n){var e,t,r,i,o,s,a,l,c,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new s,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new s,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=D;Object.defineProperty(this,"pdf",{get:function(){return L}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(be){B=!!be}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(be){Y=!!be}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(be){isNaN(be)||(ie=be)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(be){isNaN(be)||(ue=be)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(be){var z;typeof be=="number"?z=[be,be,be,be]:((z=new Array(4))[0]=be[0],z[1]=be.length>=2?be[1]:z[0],z[2]=be.length>=3?be[2]:z[0],z[3]=be.length>=4?be[3]:z[1]),c.margin=z}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(be){me=be}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(be){pe=be}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(be){Oe=be}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(be){be instanceof d&&(c=be)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(be){c.path=be}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(be){Pe=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var z;z=g(be),this.ctx.fillStyle=z.style,this.ctx.isFillTransparent=z.a===0,this.ctx.fillOpacity=z.a,this.pdf.setFillColor(z.r,z.g,z.b,{a:z.a}),this.pdf.setTextColor(z.r,z.g,z.b,{a:z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var z=g(be);this.ctx.strokeStyle=z.style,this.ctx.isStrokeTransparent=z.a===0,this.ctx.strokeOpacity=z.a,z.a===0?this.pdf.setDrawColor(255,255,255):(z.a,this.pdf.setDrawColor(z.r,z.g,z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var He=null;function Ue(be,z){if(He===null){var Dt=function(tt){var Ne=[];return Object.keys(tt).forEach(function(je){tt[je].forEach(function(qe){var ze=null;switch(qe){case"bold":ze={family:je,weight:"bold"};break;case"italic":ze={family:je,style:"italic"};break;case"bolditalic":ze={family:je,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:je}}ze!==null&&(ze.ref={name:je,style:qe},Ne.push(ze))})}),Ne}(be.getFontList());He=function(tt){for(var Ne={},je=0;je<tt.length;++je){var qe=k3(tt[je]),ze=qe.family,rt=qe.stretch,wt=qe.style,Nt=qe.weight;Ne[ze]=Ne[ze]||{},Ne[ze][rt]=Ne[ze][rt]||{},Ne[ze][rt][wt]=Ne[ze][rt][wt]||{},Ne[ze][rt][wt][Nt]=qe}return Ne}(Dt.concat(z))}return He}var dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(be){He=null,dt=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var z;if(this.ctx.font=be,(z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var Dt=z[1];z[2];var tt=z[3],Ne=z[4];z[5];var je=z[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(qe==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var ze=function(gt){var Vt,$e,Br=[],Qt=gt.trim();if(Qt==="")return M3;if(Qt in WN)return[WN[Qt]];for(;Qt!=="";){switch($e=null,Vt=(Qt=YN(Qt)).charAt(0)){case'"':case"'":$e=dY(Qt.substring(1),Vt);break;default:$e=hY(Qt)}if($e===null||(Br.push($e[0]),(Qt=YN($e[1]))!==""&&Qt.charAt(0)!==","))return M3;Qt=Qt.replace(/^,/,"")}return Br}(je);if(this.fontFaces){var rt=uY(Ue(this.pdf,this.fontFaces),ze.map(function(gt){return{family:gt,stretch:"normal",weight:tt,style:Dt}}));this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var wt="";(tt==="bold"||parseInt(tt,10)>=700||Dt==="bold")&&(wt="bold"),Dt==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Nt="",Bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xt=0;Xt<ze.length;Xt++){if(this.pdf.internal.getFont(ze[Xt],wt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=ze[Xt];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(ze[Xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=ze[Xt],wt="bold";else if(this.pdf.internal.getFont(ze[Xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=ze[Xt],wt="normal";break}}if(Nt===""){for(var hn=0;hn<ze.length;hn++)if(Bt[ze[hn]]){Nt=Bt[ze[hn]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){P.call(this,"fill",!1)},h.prototype.stroke=function(){P.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,L){if(isNaN(D)||isNaN(L))throw wn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(D,L));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(D,L)},h.prototype.closePath=function(){var D=new s(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&pn(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){D=new s(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(D.x,D.y)},h.prototype.lineTo=function(D,L){if(isNaN(D)||isNaN(L))throw wn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(D,L));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,L,B,Y){if(isNaN(B)||isNaN(Y)||isNaN(D)||isNaN(L))throw wn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(B,Y)),ue=this.ctx.transform.applyToPoint(new s(D,L));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},h.prototype.bezierCurveTo=function(D,L,B,Y,ie,ue){if(isNaN(ie)||isNaN(ue)||isNaN(D)||isNaN(L)||isNaN(B)||isNaN(Y))throw wn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new s(ie,ue)),pe=this.ctx.transform.applyToPoint(new s(D,L)),Oe=this.ctx.transform.applyToPoint(new s(B,Y));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Oe.x,y2:Oe.y,x:me.x,y:me.y}),this.ctx.lastPoint=new s(me.x,me.y)},h.prototype.arc=function(D,L,B,Y,ie,ue){if(isNaN(D)||isNaN(L)||isNaN(B)||isNaN(Y)||isNaN(ie))throw wn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new s(D,L));D=me.x,L=me.y;var pe=this.ctx.transform.applyToPoint(new s(0,B)),Oe=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(pe.x-Oe.x,2)+Math.pow(pe.y-Oe.y,2))}Math.abs(ie-Y)>=2*Math.PI&&(Y=0,ie=2*Math.PI),this.path.push({type:"arc",x:D,y:L,radius:B,startAngle:Y,endAngle:ie,counterclockwise:ue})},h.prototype.arcTo=function(D,L,B,Y,ie){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,L,B,Y){if(isNaN(D)||isNaN(L)||isNaN(B)||isNaN(Y))throw wn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,L),this.lineTo(D+B,L),this.lineTo(D+B,L+Y),this.lineTo(D,L+Y),this.lineTo(D,L),this.lineTo(D+B,L),this.lineTo(D,L)},h.prototype.fillRect=function(D,L,B,Y){if(isNaN(D)||isNaN(L)||isNaN(B)||isNaN(Y))throw wn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,L,B,Y),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},h.prototype.strokeRect=function(D,L,B,Y){if(isNaN(D)||isNaN(L)||isNaN(B)||isNaN(Y))throw wn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(D,L,B,Y),this.stroke())},h.prototype.clearRect=function(D,L,B,Y){if(isNaN(D)||isNaN(L)||isNaN(B)||isNaN(Y))throw wn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,L,B,Y))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(L),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(D){var L,B,Y,ie;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))L=0,B=0,Y=0,ie=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ue!==null)L=parseInt(ue[1]),B=parseInt(ue[2]),Y=parseInt(ue[3]),ie=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)L=parseInt(ue[1]),B=parseInt(ue[2]),Y=parseInt(ue[3]),ie=parseFloat(ue[4]);else{if(ie=1,typeof D=="string"&&D.charAt(0)!=="#"){var me=new iO(D);D=me.ok?me.toHex():"#000000"}D.length===4?(L=D.substring(1,2),L+=L,B=D.substring(2,3),B+=B,Y=D.substring(3,4),Y+=Y):(L=D.substring(1,3),B=D.substring(3,5),Y=D.substring(5,7)),L=parseInt(L,16),B=parseInt(B,16),Y=parseInt(Y,16)}}return{r:L,g:B,b:Y,a:ie,style:D}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,L,B,Y){if(isNaN(L)||isNaN(B)||typeof D!="string")throw wn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!f.call(this)){var ie=V(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;N.call(this,{text:D,x:L,y:B,scale:ue,angle:ie,align:this.textAlign,maxWidth:Y})}},h.prototype.strokeText=function(D,L,B,Y){if(isNaN(L)||isNaN(B)||typeof D!="string")throw wn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Y=isNaN(Y)?void 0:Y;var ie=V(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;N.call(this,{text:D,x:L,y:B,scale:ue,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Y})}},h.prototype.measureText=function(D){if(typeof D!="string")throw wn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,B=this.pdf.internal.scaleFactor,Y=L.internal.getFontSize(),ie=L.getStringUnitWidth(D)*Y/L.internal.scaleFactor,ue=function(me){var pe=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new ue({width:ie*=Math.round(96*B/72*1e4)/1e4})},h.prototype.scale=function(D,L){if(isNaN(D)||isNaN(L))throw wn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new l(D,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.rotate=function(D){if(isNaN(D))throw wn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},h.prototype.translate=function(D,L){if(isNaN(D)||isNaN(L))throw wn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new l(1,0,0,1,D,L);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.transform=function(D,L,B,Y,ie,ue){if(isNaN(D)||isNaN(L)||isNaN(B)||isNaN(Y)||isNaN(ie)||isNaN(ue))throw wn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(D,L,B,Y,ie,ue);this.ctx.transform=this.ctx.transform.multiply(me)},h.prototype.setTransform=function(D,L,B,Y,ie,ue){D=isNaN(D)?1:D,L=isNaN(L)?0:L,B=isNaN(B)?0:B,Y=isNaN(Y)?1:Y,ie=isNaN(ie)?0:ie,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(D,L,B,Y,ie,ue)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,L,B,Y,ie,ue,me,pe,Oe){var Pe=this.pdf.getImageProperties(D),He=1,Ue=1,dt=1,be=1;Y!==void 0&&pe!==void 0&&(dt=pe/Y,be=Oe/ie,He=Pe.width/Y*pe/Y,Ue=Pe.height/ie*Oe/ie),ue===void 0&&(ue=L,me=B,L=0,B=0),Y!==void 0&&pe===void 0&&(pe=Y,Oe=ie),Y===void 0&&pe===void 0&&(pe=Pe.width,Oe=Pe.height);for(var z,Dt=this.ctx.transform.decompose(),tt=V(Dt.rotate.shx),Ne=new l,je=(Ne=(Ne=(Ne=Ne.multiply(Dt.translate)).multiply(Dt.skew)).multiply(Dt.scale)).applyToRectangle(new a(ue-L*dt,me-B*be,Y*He,ie*Ue)),qe=C.call(this,je),ze=[],rt=0;rt<qe.length;rt+=1)ze.indexOf(qe[rt])===-1&&ze.push(qe[rt]);if(T(ze),this.autoPaging)for(var wt=ze[0],Nt=ze[ze.length-1],Bt=wt;Bt<Nt+1;Bt++){this.pdf.setPage(Bt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hn=Bt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Bt===1?0:gt+(Bt-2)*Vt;if(this.ctx.clip_path.length!==0){var Br=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(z,this.posX+this.margin[3],-$e+hn+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=Br}var Qt=JSON.parse(JSON.stringify(je));Qt=E([Qt],this.posX+this.margin[3],-$e+hn+this.ctx.prevPageLastElemOffset)[0];var wo=(Bt>wt||Bt<Nt)&&_.call(this);wo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Vt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,tt),wo&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",je.x,je.y,je.w,je.h,null,null,tt)};var C=function(D,L,B){var Y=[];L=L||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":Y.push(Math.floor((D.y+ie)/B)+1);break;case"arc":Y.push(Math.floor((D.y+ie-D.radius)/B)+1),Y.push(Math.floor((D.y+ie+D.radius)/B)+1);break;case"qct":var ue=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);Y.push(Math.floor((ue.y+ie)/B)+1),Y.push(Math.floor((ue.y+ue.h+ie)/B)+1);break;case"bct":var me=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);Y.push(Math.floor((me.y+ie)/B)+1),Y.push(Math.floor((me.y+me.h+ie)/B)+1);break;case"rect":Y.push(Math.floor((D.y+ie)/B)+1),Y.push(Math.floor((D.y+D.h+ie)/B)+1)}for(var pe=0;pe<Y.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[pe];)w.call(this);return Y},w=function(){var D=this.fillStyle,L=this.strokeStyle,B=this.font,Y=this.lineCap,ie=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=L,this.font=B,this.lineCap=Y,this.lineWidth=ie,this.lineJoin=ue},E=function(D,L,B){for(var Y=0;Y<D.length;Y++)switch(D[Y].type){case"bct":D[Y].x2+=L,D[Y].y2+=B;case"qct":D[Y].x1+=L,D[Y].y1+=B;case"mt":case"lt":case"arc":default:D[Y].x+=L,D[Y].y+=B}return D},T=function(D){return D.sort(function(L,B){return L-B})},P=function(D,L){for(var B,Y,ie=this.fillStyle,ue=this.strokeStyle,me=this.lineCap,pe=this.lineWidth,Oe=Math.abs(pe*this.ctx.transform.scaleX),Pe=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),dt=[],be=0;be<Ue.length;be++)if(Ue[be].x!==void 0)for(var z=C.call(this,Ue[be]),Dt=0;Dt<z.length;Dt+=1)dt.indexOf(z[Dt])===-1&&dt.push(z[Dt]);for(var tt=0;tt<dt.length;tt++)for(;this.pdf.internal.getNumberOfPages()<dt[tt];)w.call(this);if(T(dt),this.autoPaging)for(var Ne=dt[0],je=dt[dt.length-1],qe=Ne;qe<je+1;qe++){this.pdf.setPage(qe),this.fillStyle=ie,this.strokeStyle=ue,this.lineCap=me,this.lineWidth=Oe,this.lineJoin=Pe;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=qe===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=qe===1?0:wt+(qe-2)*Nt;if(this.ctx.clip_path.length!==0){var Xt=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(B,this.posX+this.margin[3],-Bt+rt+this.ctx.prevPageLastElemOffset),H.call(this,D,!0),this.path=Xt}if(Y=JSON.parse(JSON.stringify(He)),this.path=E(Y,this.posX+this.margin[3],-Bt+rt+this.ctx.prevPageLastElemOffset),L===!1||qe===0){var hn=(qe>Ne||qe<je)&&_.call(this);hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Nt,null).clip().discardPath()),H.call(this,D,L),hn&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Oe,H.call(this,D,L),this.lineWidth=pe;this.path=He},H=function(D,L){if((D!=="stroke"||L||!y.call(this))&&(D==="stroke"||L||!f.call(this))){for(var B,Y,ie=[],ue=this.path,me=0;me<ue.length;me++){var pe=ue[me];switch(pe.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:pe,deltas:[],abs:[]});break;case"lt":var Oe=ie.length;if(ue[me-1]&&!isNaN(ue[me-1].x)&&(B=[pe.x-ue[me-1].x,pe.y-ue[me-1].y],Oe>0)){for(;Oe>=0;Oe--)if(ie[Oe-1].close!==!0&&ie[Oe-1].begin!==!0){ie[Oe-1].deltas.push(B),ie[Oe-1].abs.push(pe);break}}break;case"bct":B=[pe.x1-ue[me-1].x,pe.y1-ue[me-1].y,pe.x2-ue[me-1].x,pe.y2-ue[me-1].y,pe.x-ue[me-1].x,pe.y-ue[me-1].y],ie[ie.length-1].deltas.push(B);break;case"qct":var Pe=ue[me-1].x+2/3*(pe.x1-ue[me-1].x),He=ue[me-1].y+2/3*(pe.y1-ue[me-1].y),Ue=pe.x+2/3*(pe.x1-pe.x),dt=pe.y+2/3*(pe.y1-pe.y),be=pe.x,z=pe.y;B=[Pe-ue[me-1].x,He-ue[me-1].y,Ue-ue[me-1].x,dt-ue[me-1].y,be-ue[me-1].x,z-ue[me-1].y],ie[ie.length-1].deltas.push(B);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(pe)}}Y=L?null:D==="stroke"?"stroke":"fill";for(var Dt=!1,tt=0;tt<ie.length;tt++)if(ie[tt].arc)for(var Ne=ie[tt].abs,je=0;je<Ne.length;je++){var qe=Ne[je];qe.type==="arc"?F.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,L,!Dt):G.call(this,qe.x,qe.y),Dt=!0}else if(ie[tt].close===!0)this.pdf.internal.out("h"),Dt=!1;else if(ie[tt].begin!==!0){var ze=ie[tt].start.x,rt=ie[tt].start.y;$.call(this,ie[tt].deltas,ze,rt),Dt=!0}Y&&re.call(this,Y),L&&le.call(this)}},Q=function(D){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-B;case"top":return D+L-B;case"hanging":return D+L-2*B;case"middle":return D+L/2-B;case"ideographic":return D;case"alphabetic":default:return D}},U=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(L,B){this.colorStops.push([L,B])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(D,L,B,Y,ie,ue,me,pe,Oe){for(var Pe=W.call(this,B,Y,ie,ue),He=0;He<Pe.length;He++){var Ue=Pe[He];He===0&&(Oe?O.call(this,Ue.x1+D,Ue.y1+L):G.call(this,Ue.x1+D,Ue.y1+L)),ge.call(this,D,L,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}pe?le.call(this):re.call(this,me)},re=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(D,L){this.pdf.internal.out(t(D)+" "+r(L)+" m")},N=function(D){var L;switch(D.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var B=this.pdf.getTextDimensions(D.text),Y=Q.call(this,D.y),ie=U.call(this,Y)-B.h,ue=this.ctx.transform.applyToPoint(new s(D.x,Y)),me=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Oe,Pe,He,Ue=this.ctx.transform.applyToRectangle(new a(D.x,Y,B.w,B.h)),dt=pe.applyToRectangle(new a(D.x,ie,B.w,B.h)),be=C.call(this,dt),z=[],Dt=0;Dt<be.length;Dt+=1)z.indexOf(be[Dt])===-1&&z.push(be[Dt]);if(T(z),this.autoPaging)for(var tt=z[0],Ne=z[z.length-1],je=tt;je<Ne+1;je++){this.pdf.setPage(je);var qe=je===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],wt=rt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],Bt=Nt-this.margin[3],Xt=je===1?0:ze+(je-2)*wt;if(this.ctx.clip_path.length!==0){var hn=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Oe,this.posX+this.margin[3],-1*Xt+qe),H.call(this,"fill",!0),this.path=hn}var gt=E([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-Xt+qe+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*D.scale),He=this.lineWidth,this.lineWidth=He*D.scale);var Vt=this.autoPaging!=="text";if(Vt||gt.y+gt.h<=rt){if(Vt||gt.y>=qe&&gt.x<=Nt){var $e=Vt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Nt-gt.x)[0],Br=E([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Xt+qe+this.ctx.prevPageLastElemOffset)[0],Qt=Vt&&(je>tt||je<Ne)&&_.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,wt,null).clip().discardPath()),this.pdf.text($e,Br.x,Br.y,{angle:D.angle,align:L,renderingMode:D.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else gt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-gt.y);D.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=He)}else D.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*D.scale),He=this.lineWidth,this.lineWidth=He*D.scale),this.pdf.text(D.text,ue.x+this.posX,ue.y+this.posY,{angle:D.angle,align:L,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=He)},G=function(D,L,B,Y){B=B||0,Y=Y||0,this.pdf.internal.out(t(D+B)+" "+r(L+Y)+" l")},$=function(D,L,B){return this.pdf.lines(D,L,B,null,null)},ge=function(D,L,B,Y,ie,ue,me,pe){this.pdf.internal.out([e(i(B+D)),e(o(Y+L)),e(i(ie+D)),e(o(ue+L)),e(i(me+D)),e(o(pe+L)),"c"].join(" "))},W=function(D,L,B,Y){for(var ie=2*Math.PI,ue=Math.PI/2;L>B;)L-=ie;var me=Math.abs(B-L);me<ie&&Y&&(me=ie-me);for(var pe=[],Oe=Y?-1:1,Pe=L;me>1e-5;){var He=Pe+Oe*Math.min(me,ue);pe.push(te.call(this,D,Pe,He)),me-=Math.abs(He-Pe),Pe=He}return pe},te=function(D,L,B){var Y=(B-L)/2,ie=D*Math.cos(Y),ue=D*Math.sin(Y),me=ie,pe=-ue,Oe=me*me+pe*pe,Pe=Oe+me*ie+pe*ue,He=4/3*(Math.sqrt(2*Oe*Pe)-Pe)/(me*ue-pe*ie),Ue=me-He*pe,dt=pe+He*me,be=Ue,z=-dt,Dt=Y+L,tt=Math.cos(Dt),Ne=Math.sin(Dt);return{x1:D*Math.cos(L),y1:D*Math.sin(L),x2:Ue*tt-dt*Ne,y2:Ue*Ne+dt*tt,x3:be*tt-z*Ne,y3:be*Ne+z*tt,x4:D*Math.cos(B),y4:D*Math.sin(B)}},V=function(D){return 180*D/Math.PI},ne=function(D,L,B,Y,ie,ue){var me=D+.5*(B-D),pe=L+.5*(Y-L),Oe=ie+.5*(B-ie),Pe=ue+.5*(Y-ue),He=Math.min(D,ie,me,Oe),Ue=Math.max(D,ie,me,Oe),dt=Math.min(L,ue,pe,Pe),be=Math.max(L,ue,pe,Pe);return new a(He,dt,Ue-He,be-dt)},fe=function(D,L,B,Y,ie,ue,me,pe){var Oe,Pe,He,Ue,dt,be,z,Dt,tt,Ne,je,qe,ze,rt,wt=B-D,Nt=Y-L,Bt=ie-B,Xt=ue-Y,hn=me-ie,gt=pe-ue;for(Pe=0;Pe<41;Pe++)tt=(z=(He=D+(Oe=Pe/40)*wt)+Oe*((dt=B+Oe*Bt)-He))+Oe*(dt+Oe*(ie+Oe*hn-dt)-z),Ne=(Dt=(Ue=L+Oe*Nt)+Oe*((be=Y+Oe*Xt)-Ue))+Oe*(be+Oe*(ue+Oe*gt-be)-Dt),Pe==0?(je=tt,qe=Ne,ze=tt,rt=Ne):(je=Math.min(je,tt),qe=Math.min(qe,Ne),ze=Math.max(ze,tt),rt=Math.max(rt,Ne));return new a(Math.round(je),Math.round(qe),Math.round(ze-je),Math.round(rt-qe))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,L,B=(D=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:L}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(ct.API),function(n){var e=function(o){var s,a,l,c,d,h,g,f,y,_;for(/[^\x00-\xFF]/.test(o),a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(h=(d=((d=((d=((d=(d-(_=d%85))/85)-(y=d%85))/85)-(f=d%85))/85)-(g=d%85))/85)%85,a.push(h+33,g+33,f+33,y+33,_+33)):a.push(122);return function(C,w){for(var E=w;E>0;E--)C.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},t=function(o){var s,a,l,c,d,h=String,g="length",f=255,y="charCodeAt",_="slice",C="replace";for(o[_](-2),o=o[_](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],c=0,d=(o+=s="uuuuu"[_](o[g]%5||5))[g];d>c;c+=5)a=52200625*(o[y](c)-33)+614125*(o[y](c+1)-33)+7225*(o[y](c+2)-33)+85*(o[y](c+3)-33)+(o[y](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(w,E){for(var T=E;T>0;T--)w.pop()}(l,s[g]),h.fromCharCode.apply(h,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=O2(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ct.API),function(n){n.loadFile=function(e,t,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var h=new XMLHttpRequest,g=0,f=function(y){var _=y.length,C=[],w=String.fromCharCode;for(g=0;g<_;g+=1)C.push(w(255&y.charCodeAt(g)));return C.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,o,s)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(ct.API),function(n){function e(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):import("./chunk-SOQBCYLK.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):import("./chunk-47BTRKO7.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=pn(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(l(g,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var f=c[g],y=f.src.find(function(_){return _.format==="truetype"});y&&l.addFont(y.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,d).then(function(h){return l.updateProgress(1),h})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(c,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ct.getPageSize=function(s,a,l){if(pn(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,h=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var f,y=0,_=0;if(g.hasOwnProperty(h))y=g[h][1]/d,_=g[h][0]/d;else try{y=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",_>y&&(f=_,_=y,y=f);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>_&&(f=_,_=y,y=f)}return{width:_,height:y,unit:a,k:d,orientation:s}},n.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(k3):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(ct.API),ct.API.addJS=function(n){return ZN=n,this.internal.events.subscribe("postPutResources",function(){L2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(L2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),XN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ZN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){L2!==void 0&&XN!==void 0&&this.internal.out("/Names <</JavaScript "+L2+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var h=t.internal.newObject();d.push(h);var g=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<d.length;o++)t.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(ct.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(h){for(var g,f=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,_={width:0,height:0,numcomponents:1},C=4;C<y;C+=2){if(C+=f,e.indexOf(h.charCodeAt(C+1))!==-1){g=256*h.charCodeAt(C+5)+h.charCodeAt(C+6),_={width:256*h.charCodeAt(C+7)+h.charCodeAt(C+8),height:g,numcomponents:h.charCodeAt(C+9)};break}f=256*h.charCodeAt(C+2)+h.charCodeAt(C+3)}return _}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(ct.API);var wh,F2,QN,JN,eO,fY=function(){var n,e,t;function r(o){var s,a,l,c,d,h,g,f,y,_,C,w,E,T;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),y=(function(){var P,H;for(H=[],P=0;P<4;++P)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*d/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),o=h?.data||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(E=0;0<=_?E<_:E>_;0<=_?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(C=this.read(s)).indexOf(0),f=String.fromCharCode.apply(String,C.slice(0,g)),this.text[f]=String.fromCharCode.apply(String,C.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(h,g,f,y){var _,C,w,E,T,P,H,Q,U,F,re,le,O,N,G,$,ge,W,te,V,ne,fe=Math.ceil((c.width-h)/f),Te=Math.ceil((c.height-g)/y),D=c.width==fe&&c.height==Te;for(N=s*fe,le=D?a:new Uint8Array(N*Te),P=o.length,O=0,C=0;O<Te&&l<P;){switch(o[l++]){case 0:for(E=ge=0;ge<N;E=ge+=1)le[C++]=o[l++];break;case 1:for(E=W=0;W<N;E=W+=1)_=o[l++],T=E<s?0:le[C-s],le[C++]=(_+T)%256;break;case 2:for(E=te=0;te<N;E=te+=1)_=o[l++],w=(E-E%s)/s,G=O&&le[(O-1)*N+w*s+E%s],le[C++]=(G+_)%256;break;case 3:for(E=V=0;V<N;E=V+=1)_=o[l++],w=(E-E%s)/s,T=E<s?0:le[C-s],G=O&&le[(O-1)*N+w*s+E%s],le[C++]=(_+Math.floor((T+G)/2))%256;break;case 4:for(E=ne=0;ne<N;E=ne+=1)_=o[l++],w=(E-E%s)/s,T=E<s?0:le[C-s],O===0?G=$=0:(G=le[(O-1)*N+w*s+E%s],$=w&&le[(O-1)*N+(w-1)*s+E%s]),H=T+G-$,Q=Math.abs(H-T),F=Math.abs(H-G),re=Math.abs(H-$),U=Q<=F&&Q<=re?T:F<=re?G:$,le[C++]=(_+U)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!D){var L=((g+O*y)*c.width+h)*s,B=O*N;for(E=0;E<fe;E+=1){for(var Y=0;Y<s;Y+=1)a[L++]=le[B++];L+=(f-1)*s}}O++}}return o=UN(o),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,c,d,h,g,f;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=h=0,g=a.length;h<g;s=h+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(f=d[o++])!=null?f:255;return c},r.prototype.copyToImageData=function(o,s){var a,l,c,d,h,g,f,y,_,C,w;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),y=(c=o.data||o).length,h=_||s,d=g=0,l===1)for(;d<y;)f=_?4*s[d/4]:g,C=h[f++],c[d++]=C,c[d++]=C,c[d++]=C,c[d++]=a?h[f++]:255,g=f;else for(;d<y;)f=_?4*s[d/4]:g,c[d++]=h[f++],c[d++]=h[f++],c[d++]=h[f++],c[d++]=a?h[f++]:255,g=f},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{e=pt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var s;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,c,d,h,g,f;if(this.animation){for(f=[],a=d=0,h=(g=this.animation.frames).length;d<h;a=++d)s=g[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,f.push(s.image=n(l));return f}},r.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,c,d,h,g=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,d=h.numPlays,(s=function(){var f,y;if(f=a++%c,y=l[f],g.renderFrame(o,f),c>1&&a/c<d)return g.animation._timeout=setTimeout(s,y.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();function pY(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,s=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,d=[],h=0,g=null,f=0,y=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];h=n[e++]|n[e++]<<8,g=n[e++],(1&_)==0&&(g=null),f=_>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var C=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,P=n[e++],H=P>>6&1,Q=1<<(7&P)+1,U=a,F=l,re=!1;P>>7&&(re=!0,U=e,F=Q,e+=3*Q);var le=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}d.push({x:C,y:w,width:E,height:T,has_local_palette:re,palette_offset:U,palette_size:F,data_offset:le,data_length:e-le,transparent_index:g,interlaced:!!H,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(N){if(N<0||N>=d.length)throw new Error("Frame index out of range.");return d[N]},this.decodeAndBlitFrameBGRA=function(N,G){var $=this.frameInfo(N),ge=$.width*$.height,W=new Uint8Array(ge);tO(n,$.data_offset,W,ge);var te=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var ne=$.width,fe=t-ne,Te=ne,D=4*($.y*t+$.x),L=4*(($.y+$.height)*t+$.x),B=D,Y=4*fe;$.interlaced===!0&&(Y+=4*t*7);for(var ie=8,ue=0,me=W.length;ue<me;++ue){var pe=W[ue];if(Te===0&&(Te=ne,(B+=Y)>=L&&(Y=4*fe+4*t*(ie-1),B=D+(ne+fe)*(ie<<1),ie>>=1)),pe===V)B+=4;else{var Oe=n[te+3*pe],Pe=n[te+3*pe+1],He=n[te+3*pe+2];G[B++]=He,G[B++]=Pe,G[B++]=Oe,G[B++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(N,G){var $=this.frameInfo(N),ge=$.width*$.height,W=new Uint8Array(ge);tO(n,$.data_offset,W,ge);var te=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var ne=$.width,fe=t-ne,Te=ne,D=4*($.y*t+$.x),L=4*(($.y+$.height)*t+$.x),B=D,Y=4*fe;$.interlaced===!0&&(Y+=4*t*7);for(var ie=8,ue=0,me=W.length;ue<me;++ue){var pe=W[ue];if(Te===0&&(Te=ne,(B+=Y)>=L&&(Y=4*fe+4*t*(ie-1),B=D+(ne+fe)*(ie<<1),ie>>=1)),pe===V)B+=4;else{var Oe=n[te+3*pe],Pe=n[te+3*pe+1],He=n[te+3*pe+2];G[B++]=Oe,G[B++]=Pe,G[B++]=He,G[B++]=255}--Te}}}function tO(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,d=0,h=0,g=0,f=n[e++],y=new Int32Array(4096),_=null;;){for(;d<16&&f!==0;)h|=n[e++]<<d,d+=8,f===1?f=n[e++]:--f;if(d<l)break;var C=h&c;if(h>>=l,d-=l,C!==o){if(C===s)break;for(var w=C<a?C:_,E=0,T=w;T>o;)T=y[T]>>8,++E;var P=T;if(g+E+(w!==C?1:0)>r)return void wn.log("Warning, gif stream longer than expected.");t[g++]=P;var H=g+=E;for(w!==C&&(t[g++]=P),T=w;E--;)T=y[T],t[--H]=255&T,T>>=8;_!==null&&a<4096&&(y[a++]=_<<8|P,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=C}else a=s+1,c=(1<<(l=i+1))-1,_=null}return g!==r&&wn.log("Warning, gif stream shorter than expected."),t}function A3(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),g=new Array(65535),f=new Array(64),y=new Array(64),_=[],C=0,w=7,E=new Array(64),T=new Array(64),P=new Array(64),H=new Array(256),Q=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(D,L){for(var B=0,Y=0,ie=new Array,ue=1;ue<=16;ue++){for(var me=1;me<=D[ue];me++)ie[L[Y]]=[],ie[L[Y]][0]=B,ie[L[Y]][1]=ue,Y++,B++;B*=2}return ie}function te(D){for(var L=D[0],B=D[1]-1;B>=0;)L&1<<B&&(C|=1<<w),B--,--w<0&&(C==255?(V(255),V(0)):V(C),w=7,C=0)}function V(D){_.push(D)}function ne(D){V(D>>8&255),V(255&D)}function fe(D,L,B,Y,ie){for(var ue,me=ie[0],pe=ie[240],Oe=function(Ne,je){var qe,ze,rt,wt,Nt,Bt,Xt,hn,gt,Vt,$e=0;for(gt=0;gt<8;++gt){qe=Ne[$e],ze=Ne[$e+1],rt=Ne[$e+2],wt=Ne[$e+3],Nt=Ne[$e+4],Bt=Ne[$e+5],Xt=Ne[$e+6];var Br=qe+(hn=Ne[$e+7]),Qt=qe-hn,wo=ze+Xt,yn=ze-Xt,In=rt+Bt,as=rt-Bt,on=wt+Nt,Zl=wt-Nt,jn=Br+on,Co=Br-on,Js=wo+In,Bn=wo-In;Ne[$e]=jn+Js,Ne[$e+4]=jn-Js;var Ct=.707106781*(Bn+Co);Ne[$e+2]=Co+Ct,Ne[$e+6]=Co-Ct;var sn=.382683433*((jn=Zl+as)-(Bn=yn+Qt)),Ql=.5411961*jn+sn,Tr=1.306562965*Bn+sn,ls=.707106781*(Js=as+yn),cs=Qt+ls,ut=Qt-ls;Ne[$e+5]=ut+Ql,Ne[$e+3]=ut-Ql,Ne[$e+1]=cs+Tr,Ne[$e+7]=cs-Tr,$e+=8}for($e=0,gt=0;gt<8;++gt){qe=Ne[$e],ze=Ne[$e+8],rt=Ne[$e+16],wt=Ne[$e+24],Nt=Ne[$e+32],Bt=Ne[$e+40],Xt=Ne[$e+48];var Eo=qe+(hn=Ne[$e+56]),us=qe-hn,ci=ze+Xt,pr=ze-Xt,rr=rt+Bt,Ai=rt-Bt,bu=wt+Nt,ea=wt-Nt,So=Eo+bu,xo=Eo-bu,Do=ci+rr,ds=ci-rr;Ne[$e]=So+Do,Ne[$e+32]=So-Do;var qi=.707106781*(ds+xo);Ne[$e+16]=xo+qi,Ne[$e+48]=xo-qi;var hs=.382683433*((So=ea+Ai)-(ds=pr+us)),Jl=.5411961*So+hs,wu=1.306562965*ds+hs,Cu=.707106781*(Do=Ai+pr),Eu=us+Cu,Su=us-Cu;Ne[$e+40]=Su+Jl,Ne[$e+24]=Su-Jl,Ne[$e+8]=Eu+wu,Ne[$e+56]=Eu-wu,$e++}for(gt=0;gt<64;++gt)Vt=Ne[gt]*je[gt],f[gt]=Vt>0?Vt+.5|0:Vt-.5|0;return f}(D,L),Pe=0;Pe<64;++Pe)y[U[Pe]]=Oe[Pe];var He=y[0]-B;B=y[0],He==0?te(Y[0]):(te(Y[g[ue=32767+He]]),te(h[ue]));for(var Ue=63;Ue>0&&y[Ue]==0;)Ue--;if(Ue==0)return te(me),B;for(var dt,be=1;be<=Ue;){for(var z=be;y[be]==0&&be<=Ue;)++be;var Dt=be-z;if(Dt>=16){dt=Dt>>4;for(var tt=1;tt<=dt;++tt)te(pe);Dt&=15}ue=32767+y[be],te(ie[(Dt<<4)+g[ue]]),te(h[ue]),be++}return Ue!=63&&te(me),B}function Te(D){D=Math.min(Math.max(D,1),100),o!=D&&(function(L){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ie=s((B[Y]*L+50)/100);ie=Math.min(Math.max(ie,1),255),a[U[Y]]=ie}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var pe=s((ue[me]*L+50)/100);pe=Math.min(Math.max(pe,1),255),l[U[me]]=pe}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,He=0;He<8;He++)for(var Ue=0;Ue<8;Ue++)c[Pe]=1/(a[U[Pe]]*Oe[He]*Oe[Ue]*8),d[Pe]=1/(l[U[Pe]]*Oe[He]*Oe[Ue]*8),Pe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),o=D)}this.encode=function(D,L){L&&Te(L),_=new Array,C=0,w=7,ne(65496),ne(65504),ne(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ne(1),ne(1),V(0),V(0),function(){ne(65499),ne(132),V(0);for(var ze=0;ze<64;ze++)V(a[ze]);V(1);for(var rt=0;rt<64;rt++)V(l[rt])}(),function(ze,rt){ne(65472),ne(17),V(8),ne(rt),ne(ze),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(D.width,D.height),function(){ne(65476),ne(418),V(0);for(var ze=0;ze<16;ze++)V(F[ze+1]);for(var rt=0;rt<=11;rt++)V(re[rt]);V(16);for(var wt=0;wt<16;wt++)V(le[wt+1]);for(var Nt=0;Nt<=161;Nt++)V(O[Nt]);V(1);for(var Bt=0;Bt<16;Bt++)V(N[Bt+1]);for(var Xt=0;Xt<=11;Xt++)V(G[Xt]);V(17);for(var hn=0;hn<16;hn++)V($[hn+1]);for(var gt=0;gt<=161;gt++)V(ge[gt])}(),ne(65498),ne(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var B=0,Y=0,ie=0;C=0,w=7,this.encode.displayName="_encode_";for(var ue,me,pe,Oe,Pe,He,Ue,dt,be,z=D.data,Dt=D.width,tt=D.height,Ne=4*Dt,je=0;je<tt;){for(ue=0;ue<Ne;){for(Pe=Ne*je+ue,Ue=-1,dt=0,be=0;be<64;be++)He=Pe+(dt=be>>3)*Ne+(Ue=4*(7&be)),je+dt>=tt&&(He-=Ne*(je+1+dt-tt)),ue+Ue>=Ne&&(He-=ue+Ue-Ne+4),me=z[He++],pe=z[He++],Oe=z[He++],E[be]=(Q[me]+Q[pe+256>>0]+Q[Oe+512>>0]>>16)-128,T[be]=(Q[me+768>>0]+Q[pe+1024>>0]+Q[Oe+1280>>0]>>16)-128,P[be]=(Q[me+1280>>0]+Q[pe+1536>>0]+Q[Oe+1792>>0]>>16)-128;B=fe(E,c,B,e,r),Y=fe(T,d,Y,t,i),ie=fe(P,d,ie,t,i),ue+=32}je+=8}if(w>=0){var qe=[];qe[1]=w+1,qe[0]=(1<<w+1)-1,te(qe)}return ne(65497),new Uint8Array(_)},n=n||50,function(){for(var D=String.fromCharCode,L=0;L<256;L++)H[L]=D(L)}(),e=W(F,re),t=W(N,G),r=W(le,O),i=W($,ge),function(){for(var D=1,L=2,B=1;B<=15;B++){for(var Y=D;Y<L;Y++)g[32767+Y]=B,h[32767+Y]=[],h[32767+Y][1]=B,h[32767+Y][0]=Y;for(var ie=-(L-1);ie<=-D;ie++)g[32767+ie]=B,h[32767+ie]=[],h[32767+ie][1]=B,h[32767+ie][0]=L-1+ie;D<<=1,L<<=1}}(),function(){for(var D=0;D<256;D++)Q[D]=19595*D,Q[D+256>>0]=38470*D,Q[D+512>>0]=7471*D+32768,Q[D+768>>0]=-11059*D,Q[D+1024>>0]=-21709*D,Q[D+1280>>0]=32768*D+8421375,Q[D+1536>>0]=-27439*D,Q[D+1792>>0]=-5329*D}(),Te(n)}function is(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nO(n){function e(F){if(!F)throw Error("assert :P")}function t(F,re,le){for(var O=0;4>O;O++)if(F[re+O]!=le.charCodeAt(O))return!0;return!1}function r(F,re,le,O,N){for(var G=0;G<N;G++)F[re+G]=le[O+G]}function i(F,re,le,O){for(var N=0;N<O;N++)F[re+N]=le}function o(F){return new Int32Array(F)}function s(F,re){for(var le=[],O=0;O<F;O++)le.push(new re);return le}function a(F,re){var le=[];return function O(N,G,$){for(var ge=$[G],W=0;W<ge&&(N.push($.length>G+1?[]:new re),!($.length<G+1));W++)O(N[W],G+1,$)}(le,0,F),le}var l=function(){var F=this;function re(u,p){for(var v=1<<p-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function le(u,p,v,b,S){e(!(b%v));do u[p+(b-=v)]=S;while(0<b)}function O(u,p,v,b,S){if(e(2328>=S),512>=S)var M=o(512);else if((M=o(S))==null)return 0;return function(A,I,k,R,X,de){var he,oe,xe=I,ve=1<<k,Z=o(16),J=o(16);for(e(X!=0),e(R!=null),e(A!=null),e(0<k),oe=0;oe<X;++oe){if(15<R[oe])return 0;++Z[R[oe]]}if(Z[0]==X)return 0;for(J[1]=0,he=1;15>he;++he){if(Z[he]>1<<he)return 0;J[he+1]=J[he]+Z[he]}for(oe=0;oe<X;++oe)he=R[oe],0<R[oe]&&(de[J[he]++]=oe);if(J[15]==1)return(R=new N).g=0,R.value=de[0],le(A,xe,1,ve,R),ve;var Ce,Ae=-1,Se=ve-1,We=0,Be=1,at=1,Ve=1<<k;for(oe=0,he=1,X=2;he<=k;++he,X<<=1){if(Be+=at<<=1,0>(at-=Z[he]))return 0;for(;0<Z[he];--Z[he])(R=new N).g=he,R.value=de[oe++],le(A,xe+We,X,Ve,R),We=re(We,he)}for(he=k+1,X=2;15>=he;++he,X<<=1){if(Be+=at<<=1,0>(at-=Z[he]))return 0;for(;0<Z[he];--Z[he]){if(R=new N,(We&Se)!=Ae){for(xe+=Ve,Ce=1<<(Ae=he)-k;15>Ae&&!(0>=(Ce-=Z[Ae]));)++Ae,Ce<<=1;ve+=Ve=1<<(Ce=Ae-k),A[I+(Ae=We&Se)].g=Ce+k,A[I+Ae].value=xe-I-Ae}R.g=he-k,R.value=de[oe++],le(A,xe+(We>>k),X,Ve,R),We=re(We,he)}}return Be!=2*J[15]-1?0:ve}(u,p,v,b,S,M)}function N(){this.value=this.g=0}function G(){this.value=this.g=0}function $(){this.G=s(5,N),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Pr,G)}function ge(u,p,v,b){e(u!=null),e(p!=null),e(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=p,u.pa=v,u.Jd=p,u.Yc=v+b,u.Zc=4<=b?v+b-4+1:v,ue(u)}function W(u,p){for(var v=0;0<p--;)v|=pe(u,128)<<p;return v}function te(u,p){var v=W(u,p);return me(u)?-v:v}function V(u,p,v,b){var S,M=0;for(e(u!=null),e(p!=null),e(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),S=0;S<b;++S)M+=p[v+S]<<8*S;u.Ra=M,u.bb=b,u.oa=p,u.pa=v}function ne(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Bu-8>>>0,++u.bb,u.u-=8;B(u)&&(u.h=1,u.u=0)}function fe(u,p){if(e(0<=p),!u.h&&p<=ju){var v=L(u)&Fu[p];return u.u+=p,ne(u),v}return u.h=1,u.u=0}function Te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(u){return u.Ra>>>(u.u&Bu-1)>>>0}function B(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Bu}function Y(u,p){u.u=p,u.h=B(u)}function ie(u){u.u>=of&&(e(u.u>=of),ne(u))}function ue(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function me(u){return W(u,1)}function pe(u,p){var v=u.Ca;0>u.b&&ue(u);var b=u.b,S=v*p>>>8,M=(u.I>>>b>S)+0;for(M?(v-=S,u.I-=S+1<<b>>>0):v=S+1,b=v,S=0;256<=b;)S+=8,b>>=8;return b=7^S+di[b],u.b-=b,u.Ca=(v<<b)-1,M}function Oe(u,p,v){u[p+0]=v>>24&255,u[p+1]=v>>16&255,u[p+2]=v>>8&255,u[p+3]=v>>0&255}function Pe(u,p){return u[p+0]<<0|u[p+1]<<8}function He(u,p){return Pe(u,p)|u[p+2]<<16}function Ue(u,p){return Pe(u,p)|Pe(u,p+2)<<16}function dt(u,p){var v=1<<p;return e(u!=null),e(0<p),u.X=o(v),u.X==null?0:(u.Mb=32-p,u.Xa=p,1)}function be(u,p){e(u!=null),e(p!=null),e(u.Xa==p.Xa),r(p.X,0,u.X,0,1<<p.Xa)}function z(){this.X=[],this.Xa=this.Mb=0}function Dt(u,p,v,b){e(v!=null),e(b!=null);var S=v[0],M=b[0];return S==0&&(S=(u*M+p/2)/p),M==0&&(M=(p*S+u/2)/u),0>=S||0>=M?0:(v[0]=S,b[0]=M,1)}function tt(u,p){return u+(1<<p)-1>>>p}function Ne(u,p){return((4278255360&u)+(4278255360&p)>>>0&4278255360)+((16711935&u)+(16711935&p)>>>0&16711935)>>>0}function je(u,p){F[p]=function(v,b,S,M,A,I,k){var R;for(R=0;R<A;++R){var X=F[u](I[k+R-1],S,M+R);I[k+R]=Ne(v[b+R],X)}}}function qe(){this.ud=this.hd=this.jd=0}function ze(u,p){return((4278124286&(u^p))>>>1)+(u&p)>>>0}function rt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function wt(u,p){return rt(u+(u-p+.5>>1))}function Nt(u,p,v){return Math.abs(p-v)-Math.abs(u-v)}function Bt(u,p,v,b,S,M,A){for(b=M[A-1],v=0;v<S;++v)M[A+v]=b=Ne(u[p+v],b)}function Xt(u,p,v,b,S){var M;for(M=0;M<v;++M){var A=u[p+M],I=A>>8&255,k=16711935&(k=(k=16711935&A)+((I<<16)+I));b[S+M]=(4278255360&A)+k>>>0}}function hn(u,p){p.jd=u>>0&255,p.hd=u>>8&255,p.ud=u>>16&255}function gt(u,p,v,b,S,M){var A;for(A=0;A<b;++A){var I=p[v+A],k=I>>>8,R=I,X=255&(X=(X=I>>>16)+((u.jd<<24>>24)*(k<<24>>24)>>>5));R=255&(R=(R=R+((u.hd<<24>>24)*(k<<24>>24)>>>5))+((u.ud<<24>>24)*(X<<24>>24)>>>5)),S[M+A]=(4278255360&I)+(X<<16)+R}}function Vt(u,p,v,b,S){F[p]=function(M,A,I,k,R,X,de,he,oe){for(k=de;k<he;++k)for(de=0;de<oe;++de)R[X++]=S(I[b(M[A++])])},F[u]=function(M,A,I,k,R,X,de){var he=8>>M.b,oe=M.Ea,xe=M.K[0],ve=M.w;if(8>he)for(M=(1<<M.b)-1,ve=(1<<he)-1;A<I;++A){var Z,J=0;for(Z=0;Z<oe;++Z)Z&M||(J=b(k[R++])),X[de++]=S(xe[J&ve]),J>>=he}else F["VP8LMapColor"+v](k,R,xe,ve,X,de,A,I,oe)}}function $e(u,p,v,b,S){for(v=p+v;p<v;){var M=u[p++];b[S++]=M>>16&255,b[S++]=M>>8&255,b[S++]=M>>0&255}}function Br(u,p,v,b,S){for(v=p+v;p<v;){var M=u[p++];b[S++]=M>>16&255,b[S++]=M>>8&255,b[S++]=M>>0&255,b[S++]=M>>24&255}}function Qt(u,p,v,b,S){for(v=p+v;p<v;){var M=(A=u[p++])>>16&240|A>>12&15,A=A>>0&240|A>>28&15;b[S++]=M,b[S++]=A}}function wo(u,p,v,b,S){for(v=p+v;p<v;){var M=(A=u[p++])>>16&248|A>>13&7,A=A>>5&224|A>>3&31;b[S++]=M,b[S++]=A}}function yn(u,p,v,b,S){for(v=p+v;p<v;){var M=u[p++];b[S++]=M>>0&255,b[S++]=M>>8&255,b[S++]=M>>16&255}}function In(u,p,v,b,S,M){if(M==0)for(v=p+v;p<v;)Oe(b,((M=u[p++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),S+=32;else r(b,S,u,p,v)}function as(u,p){F[p][0]=F[u+"0"],F[p][1]=F[u+"1"],F[p][2]=F[u+"2"],F[p][3]=F[u+"3"],F[p][4]=F[u+"4"],F[p][5]=F[u+"5"],F[p][6]=F[u+"6"],F[p][7]=F[u+"7"],F[p][8]=F[u+"8"],F[p][9]=F[u+"9"],F[p][10]=F[u+"10"],F[p][11]=F[u+"11"],F[p][12]=F[u+"12"],F[p][13]=F[u+"13"],F[p][14]=F[u+"0"],F[p][15]=F[u+"0"]}function on(u){return u==ob||u==sb||u==bm||u==ab}function Zl(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Co(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zl,this.f.kb=new jn,this.sd=null}function Js(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function sn(u,p){var v=u.T,b=p.ba.f.RGBA,S=b.eb,M=b.fb+u.ka*b.A,A=Xi[p.ba.S],I=u.y,k=u.O,R=u.f,X=u.N,de=u.ea,he=u.W,oe=p.cc,xe=p.dc,ve=p.Mc,Z=p.Nc,J=u.ka,Ce=u.ka+u.T,Ae=u.U,Se=Ae+1>>1;for(J==0?A(I,k,null,null,R,X,de,he,R,X,de,he,S,M,null,null,Ae):(A(p.ec,p.fc,I,k,oe,xe,ve,Z,R,X,de,he,S,M-b.A,S,M,Ae),++v);J+2<Ce;J+=2)oe=R,xe=X,ve=de,Z=he,X+=u.Rc,he+=u.Rc,M+=2*b.A,A(I,(k+=2*u.fa)-u.fa,I,k,oe,xe,ve,Z,R,X,de,he,S,M-b.A,S,M,Ae);return k+=u.fa,u.j+Ce<u.o?(r(p.ec,p.fc,I,k,Ae),r(p.cc,p.dc,R,X,Se),r(p.Mc,p.Nc,de,he,Se),v--):1&Ce||A(I,k,null,null,R,X,de,he,R,X,de,he,S,M+b.A,null,null,Ae),v}function Ql(u,p,v){var b=u.F,S=[u.J];if(b!=null){var M=u.U,A=p.ba.S,I=A==_m||A==bm;p=p.ba.f.RGBA;var k=[0],R=u.ka;k[0]=u.T,u.Kb&&(R==0?--k[0]:(--R,S[0]-=u.width),u.j+u.ka+u.T==u.o&&(k[0]=u.o-u.j-R));var X=p.eb;R=p.fb+R*p.A,u=En(b,S[0],u.width,M,k,X,R+(I?0:3),p.A),e(v==k),u&&on(A)&&Ki(X,R,I,M,k,p.A)}return 0}function Tr(u){var p=u.ma,v=p.ba.S,b=11>v,S=v==vm||v==ym||v==_m||v==ib||v==12||on(v);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!nf(p.Oa,u,S?11:12))return 0;if(S&&on(v)&&Ie(),u.da)alert("todo:use_scaling");else{if(b){if(p.Ib=Ct,u.Kb){if(v=u.U+1>>1,p.memory=o(u.U+2*v),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+u.U,p.Mc=p.cc,p.Nc=p.dc+v,p.Ib=sn,Ie()}}else alert("todo:EmitYUV");S&&(p.Jb=Ql,b&&ce())}if(b&&!mx){for(u=0;256>u;++u)Qk[u]=89858*(u-128)+Cm>>wm,t7[u]=-22014*(u-128)+Cm,e7[u]=-45773*(u-128),Jk[u]=113618*(u-128)+Cm>>wm;for(u=hf;u<ub;++u)p=76283*(u-16)+Cm>>wm,n7[u-hf]=Ii(p,255),r7[u-hf]=Ii(p+8>>4,15);mx=1}return 1}function ls(u){var p=u.ma,v=u.U,b=u.T;return e(!(1&u.ka)),0>=v||0>=b?0:(v=p.Ib(u,p),p.Jb!=null&&p.Jb(u,p,v),p.Dc+=v,1)}function cs(u){u.ma.memory=null}function ut(u,p,v,b){return fe(u,8)!=47?0:(p[0]=fe(u,14)+1,v[0]=fe(u,14)+1,b[0]=fe(u,1),fe(u,3)!=0?0:!u.h)}function Eo(u,p){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+fe(p,v)+1}function us(u,p){return 120<p?p-120:1<=(v=((v=jk[p-1])>>4)*u+(8-(15&v)))?v:1;var v}function ci(u,p,v){var b=L(v),S=u[p+=255&b].g-8;return 0<S&&(Y(v,v.u+8),b=L(v),p+=u[p].value,p+=b&(1<<S)-1),Y(v,v.u+u[p].g),u[p].value}function pr(u,p,v){return v.g+=u.g,v.value+=u.value<<p>>>0,e(8>=v.g),u.g}function rr(u,p,v){var b=u.xc;return e((p=b==0?0:u.vc[u.md*(v>>b)+(p>>b)])<u.Wb),u.Ya[p]}function Ai(u,p,v,b){var S=u.ab,M=u.c*p,A=u.C;p=A+p;var I=v,k=b;for(b=u.Ta,v=u.Ua;0<S--;){var R=u.gc[S],X=A,de=p,he=I,oe=k,xe=(k=b,I=v,R.Ea);switch(e(X<de),e(de<=R.nc),R.hc){case 2:um(he,oe,(de-X)*xe,k,I);break;case 0:var ve=X,Z=de,J=k,Ce=I,Ae=(Ve=R).Ea;ve==0&&(nb(he,oe,null,null,1,J,Ce),Bt(he,oe+1,0,0,Ae-1,J,Ce+1),oe+=Ae,Ce+=Ae,++ve);for(var Se=1<<Ve.b,We=Se-1,Be=tt(Ae,Ve.b),at=Ve.K,Ve=Ve.w+(ve>>Ve.b)*Be;ve<Z;){var en=at,ln=Ve,Zt=1;for(sf(he,oe,J,Ce-Ae,1,J,Ce);Zt<Ae;){var qt=(Zt&~We)+Se;qt>Ae&&(qt=Ae),(0,Ja[en[ln++]>>8&15])(he,oe+ +Zt,J,Ce+Zt-Ae,qt-Zt,J,Ce+Zt),Zt=qt}oe+=Ae,Ce+=Ae,++ve&We||(Ve+=Be)}de!=R.nc&&r(k,I-xe,k,I+(de-X-1)*xe,xe);break;case 1:for(xe=he,Z=oe,Ae=(he=R.Ea)-(Ce=he&~(J=(oe=1<<R.b)-1)),ve=tt(he,R.b),Se=R.K,R=R.w+(X>>R.b)*ve;X<de;){for(We=Se,Be=R,at=new qe,Ve=Z+Ce,en=Z+he;Z<Ve;)hn(We[Be++],at),ic(at,xe,Z,oe,k,I),Z+=oe,I+=oe;Z<en&&(hn(We[Be++],at),ic(at,xe,Z,Ae,k,I),Z+=Ae,I+=Ae),++X&J||(R+=ve)}break;case 3:if(he==k&&oe==I&&0<R.b){for(Z=k,he=xe=I+(de-X)*xe-(Ce=(de-X)*tt(R.Ea,R.b)),oe=k,J=I,ve=[],Ce=(Ae=Ce)-1;0<=Ce;--Ce)ve[Ce]=oe[J+Ce];for(Ce=Ae-1;0<=Ce;--Ce)Z[he+Ce]=ve[Ce];$i(R,X,de,k,xe,k,I)}else $i(R,X,de,he,oe,k,I)}I=b,k=v}k!=v&&r(b,v,I,k,M)}function bu(u,p){var v=u.V,b=u.Ba+u.c*u.C,S=p-u.C;if(e(p<=u.l.o),e(16>=S),0<S){var M=u.l,A=u.Ta,I=u.Ua,k=M.width;if(Ai(u,S,v,b),S=I=[I],e((v=u.C)<(b=p)),e(M.v<M.va),b>M.o&&(b=M.o),v<M.j){var R=M.j-v;v=M.j,S[0]+=R*k}if(v>=b?v=0:(S[0]+=4*M.v,M.ka=v-M.j,M.U=M.va-M.v,M.T=b-v,v=1),v){if(I=I[0],11>(v=u.ca).S){var X=v.f.RGBA,de=(b=v.S,S=M.U,M=M.T,R=X.eb,X.A),he=M;for(X=X.fb+u.Ma*X.A;0<he--;){var oe=A,xe=I,ve=S,Z=R,J=X;switch(b){case mm:hi(oe,xe,ve,Z,J);break;case vm:Qr(oe,xe,ve,Z,J);break;case ob:Qr(oe,xe,ve,Z,J),Ki(Z,J,0,ve,1,0);break;case sx:ia(oe,xe,ve,Z,J);break;case ym:In(oe,xe,ve,Z,J,1);break;case sb:In(oe,xe,ve,Z,J,1),Ki(Z,J,0,ve,1,0);break;case _m:In(oe,xe,ve,Z,J,0);break;case bm:In(oe,xe,ve,Z,J,0),Ki(Z,J,1,ve,1,0);break;case ib:el(oe,xe,ve,Z,J);break;case ab:el(oe,xe,ve,Z,J),Cn(Z,J,ve,1,0);break;case ax:ra(oe,xe,ve,Z,J);break;default:e(0)}I+=k,X+=de}u.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=p,e(u.C<=u.i)}function ea(u){var p;if(0<u.ua)return 0;for(p=0;p<u.Wb;++p){var v=u.Ya[p].G,b=u.Ya[p].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function So(u,p,v,b,S,M){if(u.Z!=0){var A=u.qd,I=u.rd;for(e(il[u.Z]!=null);p<v;++p)il[u.Z](A,I,b,S,b,S,M),A=b,I=S,S+=M;u.qd=A,u.rd=I}}function xo(u,p){var v=u.l.ma,b=v.Z==0||v.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,e(p<=u.l.o),p>b){var S=u.l.width,M=v.ca,A=v.tb+S*b,I=u.V,k=u.Ba+u.c*b,R=u.gc;e(u.ab==1),e(R[0].hc==3),dm(R[0],b,p,I,k,M,A),So(v,b,p,M,A,S)}u.C=u.Ma=p}function Do(u,p,v,b,S,M,A){var I=u.$/b,k=u.$%b,R=u.m,X=u.s,de=v+u.$,he=de;S=v+b*S;var oe=v+b*M,xe=280+X.ua,ve=u.Pb?I:16777216,Z=0<X.ua?X.Wa:null,J=X.wc,Ce=de<oe?rr(X,k,I):null;e(u.C<M),e(oe<=S);var Ae=!1;e:for(;;){for(;Ae||de<oe;){var Se=0;if(I>=ve){var We=de-v;e((ve=u).Pb),ve.wd=ve.m,ve.xd=We,0<ve.s.ua&&be(ve.s.Wa,ve.s.vb),ve=I+Uk}if(k&J||(Ce=rr(X,k,I)),e(Ce!=null),Ce.Qb&&(p[de]=Ce.qb,Ae=!0),!Ae)if(ie(R),Ce.jc){Se=R,We=p;var Be=de,at=Ce.pd[L(Se)&Pr-1];e(Ce.jc),256>at.g?(Y(Se,Se.u+at.g),We[Be]=at.value,Se=0):(Y(Se,Se.u+at.g-256),e(256<=at.value),Se=at.value),Se==0&&(Ae=!0)}else Se=ci(Ce.G[0],Ce.H[0],R);if(R.h)break;if(Ae||256>Se){if(!Ae)if(Ce.nd)p[de]=(Ce.qb|Se<<8)>>>0;else{if(ie(R),Ae=ci(Ce.G[1],Ce.H[1],R),ie(R),We=ci(Ce.G[2],Ce.H[2],R),Be=ci(Ce.G[3],Ce.H[3],R),R.h)break;p[de]=(Be<<24|Ae<<16|Se<<8|We)>>>0}if(Ae=!1,++de,++k>=b&&(k=0,++I,A!=null&&I<=M&&!(I%16)&&A(u,I),Z!=null))for(;he<de;)Se=p[he++],Z.X[(506832829*Se&4294967295)>>>Z.Mb]=Se}else if(280>Se){if(Se=Eo(Se-256,R),We=ci(Ce.G[4],Ce.H[4],R),ie(R),We=us(b,We=Eo(We,R)),R.h)break;if(de-v<We||S-de<Se)break e;for(Be=0;Be<Se;++Be)p[de+Be]=p[de+Be-We];for(de+=Se,k+=Se;k>=b;)k-=b,++I,A!=null&&I<=M&&!(I%16)&&A(u,I);if(e(de<=S),k&J&&(Ce=rr(X,k,I)),Z!=null)for(;he<de;)Se=p[he++],Z.X[(506832829*Se&4294967295)>>>Z.Mb]=Se}else{if(!(Se<xe))break e;for(Ae=Se-280,e(Z!=null);he<de;)Se=p[he++],Z.X[(506832829*Se&4294967295)>>>Z.Mb]=Se;Se=de,e(!(Ae>>>(We=Z).Xa)),p[Se]=We.X[Ae],Ae=!0}Ae||e(R.h==B(R))}if(u.Pb&&R.h&&de<S)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&be(u.s.vb,u.s.Wa);else{if(R.h)break e;A?.(u,I>M?M:I),u.a=0,u.$=de-v}return 1}return u.a=3,0}function ds(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var p=u.Wa;p!=null&&(p.X=null),u.vb=null,e(u!=null)}function qi(){var u=new tb;return u==null?null:(u.a=0,u.xb=ux,as("Predictor","VP8LPredictors"),as("Predictor","VP8LPredictors_C"),as("PredictorAdd","VP8LPredictorsAdd"),as("PredictorAdd","VP8LPredictorsAdd_C"),um=Xt,ic=gt,hi=$e,Qr=Br,el=Qt,ra=wo,ia=yn,F.VP8LMapColor32b=Uu,F.VP8LMapColor8b=hm,u)}function hs(u,p,v,b,S){var M=1,A=[u],I=[p],k=b.m,R=b.s,X=null,de=0;e:for(;;){if(v)for(;M&&fe(k,1);){var he=A,oe=I,xe=b,ve=1,Z=xe.m,J=xe.gc[xe.ab],Ce=fe(Z,2);if(xe.Oc&1<<Ce)M=0;else{switch(xe.Oc|=1<<Ce,J.hc=Ce,J.Ea=he[0],J.nc=oe[0],J.K=[null],++xe.ab,e(4>=xe.ab),Ce){case 0:case 1:J.b=fe(Z,3)+2,ve=hs(tt(J.Ea,J.b),tt(J.nc,J.b),0,xe,J.K),J.K=J.K[0];break;case 3:var Ae,Se=fe(Z,8)+1,We=16<Se?0:4<Se?1:2<Se?2:3;if(he[0]=tt(J.Ea,We),J.b=We,Ae=ve=hs(Se,1,0,xe,J.K)){var Be,at=Se,Ve=J,en=1<<(8>>Ve.b),ln=o(en);if(ln==null)Ae=0;else{var Zt=Ve.K[0],qt=Ve.w;for(ln[0]=Ve.K[0][0],Be=1;Be<1*at;++Be)ln[Be]=Ne(Zt[qt+Be],ln[Be-1]);for(;Be<4*en;++Be)ln[Be]=0;Ve.K[0]=null,Ve.K[0]=ln,Ae=1}}ve=Ae;break;case 2:break;default:e(0)}M=ve}}if(A=A[0],I=I[0],M&&fe(k,1)&&!(M=1<=(de=fe(k,4))&&11>=de)){b.a=3;break e}var _n;if(_n=M)t:{var fn,Tt,or,fi=b,sr=A,pi=I,cn=de,Pi=v,Ni=fi.m,wr=fi.s,Nr=[null],ei=1,Zi=0,ms=Bk[cn];n:for(;;){if(Pi&&fe(Ni,1)){var Cr=fe(Ni,3)+2,la=tt(sr,Cr),cc=tt(pi,Cr),$u=la*cc;if(!hs(la,cc,0,fi,Nr))break n;for(Nr=Nr[0],wr.xc=Cr,fn=0;fn<$u;++fn){var ol=Nr[fn]>>8&65535;Nr[fn]=ol,ol>=ei&&(ei=ol+1)}}if(Ni.h)break n;for(Tt=0;5>Tt;++Tt){var Vn=lx[Tt];!Tt&&0<cn&&(Vn+=1<<cn),Zi<Vn&&(Zi=Vn)}var db=s(ei*ms,N),_x=ei,bx=s(_x,$);if(bx==null)var Sm=null;else e(65536>=_x),Sm=bx;var ff=o(Zi);if(Sm==null||ff==null||db==null){fi.a=1;break n}var xm=db;for(fn=or=0;fn<ei;++fn){var Po=Sm[fn],Gu=Po.G,Wu=Po.H,wx=0,Dm=1,Cx=0;for(Tt=0;5>Tt;++Tt){Vn=lx[Tt],Gu[Tt]=xm,Wu[Tt]=or,!Tt&&0<cn&&(Vn+=1<<cn);i:{var Mm,hb=Vn,Am=fi,pf=ff,s7=xm,a7=or,fb=0,sl=Am.m,l7=fe(sl,1);if(i(pf,0,0,hb),l7){var c7=fe(sl,1)+1,u7=fe(sl,1),Ex=fe(sl,u7==0?1:8);pf[Ex]=1,c7==2&&(pf[Ex=fe(sl,8)]=1);var Im=1}else{var Sx=o(19),xx=fe(sl,4)+4;if(19<xx){Am.a=3;var Tm=0;break i}for(Mm=0;Mm<xx;++Mm)Sx[Fk[Mm]]=fe(sl,3);var pb=void 0,gf=void 0,Dx=Am,d7=Sx,Pm=hb,Mx=pf,gb=0,al=Dx.m,Ax=8,Ix=s(128,N);r:for(;O(Ix,0,7,d7,19);){if(fe(al,1)){var h7=2+2*fe(al,3);if((pb=2+fe(al,h7))>Pm)break r}else pb=Pm;for(gf=0;gf<Pm&&pb--;){ie(al);var Tx=Ix[0+(127&L(al))];Y(al,al.u+Tx.g);var Ku=Tx.value;if(16>Ku)Mx[gf++]=Ku,Ku!=0&&(Ax=Ku);else{var f7=Ku==16,Px=Ku-16,p7=Rk[Px],Nx=fe(al,kk[Px])+p7;if(gf+Nx>Pm)break r;for(var g7=f7?Ax:0;0<Nx--;)Mx[gf++]=g7}}gb=1;break r}gb||(Dx.a=3),Im=gb}(Im=Im&&!sl.h)&&(fb=O(s7,a7,8,pf,hb)),Im&&fb!=0?Tm=fb:(Am.a=3,Tm=0)}if(Tm==0)break n;if(Dm&&Lk[Tt]==1&&(Dm=xm[or].g==0),wx+=xm[or].g,or+=Tm,3>=Tt){var mf,mb=ff[0];for(mf=1;mf<Vn;++mf)ff[mf]>mb&&(mb=ff[mf]);Cx+=mb}}if(Po.nd=Dm,Po.Qb=0,Dm&&(Po.qb=(Gu[3][Wu[3]+0].value<<24|Gu[1][Wu[1]+0].value<<16|Gu[2][Wu[2]+0].value)>>>0,wx==0&&256>Gu[0][Wu[0]+0].value&&(Po.Qb=1,Po.qb+=Gu[0][Wu[0]+0].value<<8)),Po.jc=!Po.Qb&&6>Cx,Po.jc){var Nm,ca=Po;for(Nm=0;Nm<Pr;++Nm){var ll=Nm,cl=ca.pd[ll],Om=ca.G[0][ca.H[0]+ll];256<=Om.value?(cl.g=Om.g+256,cl.value=Om.value):(cl.g=0,cl.value=0,ll>>=pr(Om,8,cl),ll>>=pr(ca.G[1][ca.H[1]+ll],16,cl),ll>>=pr(ca.G[2][ca.H[2]+ll],0,cl),pr(ca.G[3][ca.H[3]+ll],24,cl))}}}wr.vc=Nr,wr.Wb=ei,wr.Ya=Sm,wr.yc=db,_n=1;break t}_n=0}if(!(M=_n)){b.a=3;break e}if(0<de){if(R.ua=1<<de,!dt(R.Wa,de)){b.a=1,M=0;break e}}else R.ua=0;var vb=b,Ox=A,m7=I,yb=vb.s,_b=yb.xc;if(vb.c=Ox,vb.i=m7,yb.md=tt(Ox,_b),yb.wc=_b==0?-1:(1<<_b)-1,v){b.xb=Wk;break e}if((X=o(A*I))==null){b.a=1,M=0;break e}M=(M=Do(b,X,0,A,I,I,null))&&!k.h;break e}return M?(S!=null?S[0]=X:(e(X==null),e(v)),b.$=0,v||ds(R)):ds(R),M}function Jl(u,p){var v=u.c*u.i,b=v+p+16*p;return e(u.c<=p),u.V=o(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+p,1)}function wu(u,p){var v=u.C,b=p-v,S=u.V,M=u.Ba+u.c*v;for(e(p<=u.l.o);0<b;){var A=16<b?16:b,I=u.l.ma,k=u.l.width,R=k*A,X=I.ca,de=I.tb+k*v,he=u.Ta,oe=u.Ua;Ai(u,A,S,M),Yn(he,oe,X,de,R),So(I,v,v+A,X,de,k),b-=A,S+=A*u.c,v+=A}e(v==p),u.C=u.Ma=p}function Cu(){this.ub=this.yd=this.td=this.Rb=0}function Eu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Su(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function qg(){this.Yb=function(){var u=[];return function p(v,b,S){for(var M=S[b],A=0;A<M&&(v.push(S.length>b+1?[]:0),!(S.length<b+1));A++)p(v[A],b+1,S)}(u,0,[3,11]),u}()}function N_(){this.jb=o(3),this.Wc=a([4,8],qg),this.Xc=a([4,17],qg)}function O_(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function xu(){this.ld=this.La=this.dd=this.tc=0}function $g(){this.Na=this.la=0}function k_(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Uh(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function R_(){this.uc=this.M=this.Nb=0,this.wa=Array(new xu),this.Y=0,this.ya=Array(new Uh),this.aa=0,this.l=new Du}function Gg(){this.y=o(16),this.f=o(8),this.ea=o(8)}function L_(){this.cb=this.a=0,this.sc="",this.m=new Te,this.Od=new Cu,this.Kc=new Eu,this.ed=new O_,this.Qa=new Su,this.Ic=this.$c=this.Aa=0,this.D=new R_,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Te),this.ia=0,this.pb=s(4,k_),this.Pa=new N_,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gg),this.Hd=0,this.rb=Array(new $g),this.sb=0,this.wa=Array(new xu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Uh),this.L=this.aa=0,this.gd=a([4,2],xu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Du(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function F_(){var u=new L_;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,df||(df=Yg)),u}function Wn(u,p,v){return u.a==0&&(u.a=p,u.sc=v,u.cb=0),0}function Wg(u,p,v){return 3<=v&&u[p+0]==157&&u[p+1]==1&&u[p+2]==42}function Kg(u,p){if(u==null)return 0;if(u.a=0,u.sc="OK",p==null)return Wn(u,2,"null VP8Io passed to VP8GetHeaders()");var v=p.data,b=p.w,S=p.ha;if(4>S)return Wn(u,7,"Truncated header.");var M=v[b+0]|v[b+1]<<8|v[b+2]<<16,A=u.Od;if(A.Rb=!(1&M),A.td=M>>1&7,A.yd=M>>4&1,A.ub=M>>5,3<A.td)return Wn(u,3,"Incorrect keyframe parameters.");if(!A.yd)return Wn(u,4,"Frame not displayable.");b+=3,S-=3;var I=u.Kc;if(A.Rb){if(7>S)return Wn(u,7,"cannot parse picture header");if(!Wg(v,b,S))return Wn(u,3,"Bad code word");I.c=16383&(v[b+4]<<8|v[b+3]),I.Td=v[b+4]>>6,I.i=16383&(v[b+6]<<8|v[b+5]),I.Ud=v[b+6]>>6,b+=7,S-=7,u.za=I.c+15>>4,u.Ub=I.i+15>>4,p.width=I.c,p.height=I.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((M=u.Pa).jb,0,255,M.jb.length),e((M=u.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,i(M.Zb,0,0,M.Zb.length),i(M.Lb,0,0,M.Lb)}if(A.ub>S)return Wn(u,7,"bad partition length");ge(M=u.m,v,b,A.ub),b+=A.ub,S-=A.ub,A.Rb&&(I.Ld=me(M),I.Kd=me(M)),I=u.Qa;var k,R=u.Pa;if(e(M!=null),e(I!=null),I.Cb=me(M),I.Cb){if(I.Bb=me(M),me(M)){for(I.Fb=me(M),k=0;4>k;++k)I.Zb[k]=me(M)?te(M,7):0;for(k=0;4>k;++k)I.Lb[k]=me(M)?te(M,6):0}if(I.Bb)for(k=0;3>k;++k)R.jb[k]=me(M)?W(M,8):255}else I.Bb=0;if(M.Ka)return Wn(u,3,"cannot parse segment header");if((I=u.ed).zd=me(M),I.Tb=W(M,6),I.wb=W(M,3),I.Pc=me(M),I.Pc&&me(M)){for(R=0;4>R;++R)me(M)&&(I.vd[R]=te(M,6));for(R=0;4>R;++R)me(M)&&(I.od[R]=te(M,6))}if(u.L=I.Tb==0?0:I.zd?1:2,M.Ka)return Wn(u,3,"cannot parse filter header");var X=S;if(S=k=b,b=k+X,I=X,u.Xb=(1<<W(u.m,2))-1,X<3*(R=u.Xb))v=7;else{for(k+=3*R,I-=3*R,X=0;X<R;++X){var de=v[S+0]|v[S+1]<<8|v[S+2]<<16;de>I&&(de=I),ge(u.Jc[+X],v,k,de),k+=de,I-=de,S+=3}ge(u.Jc[+R],v,k,I),v=k<b?0:5}if(v!=0)return Wn(u,v,"cannot parse partitions");for(v=W(k=u.m,7),S=me(k)?te(k,4):0,b=me(k)?te(k,4):0,I=me(k)?te(k,4):0,R=me(k)?te(k,4):0,k=me(k)?te(k,4):0,X=u.Qa,de=0;4>de;++de){if(X.Cb){var he=X.Zb[de];X.Fb||(he+=v)}else{if(0<de){u.pb[de]=u.pb[0];continue}he=v}var oe=u.pb[de];oe.Sc[0]=lb[Ii(he+S,127)],oe.Sc[1]=cb[Ii(he+0,127)],oe.Eb[0]=2*lb[Ii(he+b,127)],oe.Eb[1]=101581*cb[Ii(he+I,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=lb[Ii(he+R,117)],oe.Qc[1]=cb[Ii(he+k,127)],oe.lc=he+k}if(!A.Rb)return Wn(u,4,"Not a key frame.");for(me(M),A=u.Pa,v=0;4>v;++v){for(S=0;8>S;++S)for(b=0;3>b;++b)for(I=0;11>I;++I)R=pe(M,$k[v][S][b][I])?W(M,8):Hk[v][S][b][I],A.Wc[v][S].Yb[b][I]=R;for(S=0;17>S;++S)A.Xc[v][S]=A.Wc[v][Gk[S]]}return u.kc=me(M),u.kc&&(u.Bd=W(M,8)),u.cb=1}function Yg(u,p,v,b,S,M,A){var I=p[S].Yb[v];for(v=0;16>S;++S){if(!pe(u,I[v+0]))return S;for(;!pe(u,I[v+1]);)if(I=p[++S].Yb[0],v=0,S==16)return 16;var k=p[S+1].Yb;if(pe(u,I[v+2])){var R=u,X=0;if(pe(R,(he=I)[(de=v)+3]))if(pe(R,he[de+6])){for(I=0,de=2*(X=pe(R,he[de+8]))+(he=pe(R,he[de+9+X])),X=0,he=Vk[de];he[I];++I)X+=X+pe(R,he[I]);X+=3+(8<<de)}else pe(R,he[de+7])?(X=7+2*pe(R,165),X+=pe(R,145)):X=5+pe(R,159);else X=pe(R,he[de+4])?3+pe(R,he[de+5]):2;I=k[2]}else X=1,I=k[1];k=A+zk[S],0>(R=u).b&&ue(R);var de,he=R.b,oe=(de=R.Ca>>1)-(R.I>>he)>>31;--R.b,R.Ca+=oe,R.Ca|=1,R.I-=(de+1&oe)<<he,M[k]=((X^oe)-oe)*b[(0<S)+0]}return 16}function Vh(u){var p=u.rb[u.sb-1];p.la=0,p.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function j_(u,p){if(u==null)return 0;if(p==null)return Wn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Kg(u,p))return 0;if(e(u.cb),p.ac==null||p.ac(p)){p.ob&&(u.L=0);var v=Em[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=p.v-v>>4,u.zb=p.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=p.o+15+v>>4,u.Hb=p.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var b=u.ed;for(v=0;4>v;++v){var S;if(u.Qa.Cb){var M=u.Qa.Lb[v];u.Qa.Fb||(M+=b.Tb)}else M=b.Tb;for(S=0;1>=S;++S){var A=u.gd[v][S],I=M;if(b.Pc&&(I+=b.vd[0],S&&(I+=b.od[0])),0<(I=0>I?0:63<I?63:I)){var k=I;0<b.wb&&(k=4<b.wb?k>>2:k>>1)>9-b.wb&&(k=9-b.wb),1>k&&(k=1),A.dd=k,A.tc=2*I+k,A.ld=40<=I?2:15<=I?1:0}else A.tc=0;A.La=S}}}v=0}else Wn(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=o7);e:{v=u.Ic,b=4*(k=u.za);var R=32*k,X=k+1,de=0<u.L?k*(0<u.Aa?2:1):0,he=(u.Aa==2?2:1)*k;if((A=b+832+(S=3*(16*v+Em[u.L])/2*R)+(M=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=A)v=0;else{if(A>u.Vb){if(u.Vb=0,u.Ec=o(A),u.Fc=0,u.Ec==null){v=Wn(u,1,"no memory during frame initialization.");break e}u.Vb=A}A=u.Ec,I=u.Fc,u.Ac=A,u.Bc=I,I+=b,u.Gd=s(R,Gg),u.Hd=0,u.rb=s(X+1,$g),u.sb=1,u.wa=de?s(de,xu):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=k),e(!0),u.oc=A,u.pc=I,I+=832,u.ya=s(he,Uh),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=k),u.R=16*k,u.B=8*k,k=(R=Em[u.L])*u.R,R=R/2*u.B,u.sa=A,u.ta=I+k,u.qa=u.sa,u.ra=u.ta+16*v*u.R+R,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+R,u.$c=0,I+=S,u.mb=M?A:null,u.nb=M?I:null,e(I+M<=u.Fc+u.Vb),Vh(u),i(u.Ac,u.Bc,0,b),v=1}}if(v){if(p.ka=0,p.y=u.sa,p.O=u.ta,p.f=u.qa,p.N=u.ra,p.ea=u.Ha,p.Vd=u.Ia,p.fa=u.R,p.Rc=u.B,p.F=null,p.J=0,!pm){for(v=-255;255>=v;++v)gr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)sa[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)uf[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)qu[255+v]=0>v?0:255<v?255:v;pm=1}Vu=V_,oa=B_,af=Zg,Jr=U_,Gi=Qg,Kn=Xg,zu=Wh,fm=nc,lf=eb,oc=Kh,sc=J_,tl=Nu,ac=Yh,Hu=am,lc=sm,nl=ps,cf=na,Wi=Q_,To[0]=fs,To[1]=z_,To[2]=G_,To[3]=W_,To[4]=tm,To[5]=Tu,To[6]=nm,To[7]=qh,To[8]=Y_,To[9]=K_,rl[0]=Jg,rl[1]=q_,rl[2]=ta,rl[3]=Au,rl[4]=Ur,rl[5]=$_,rl[6]=em,aa[0]=Xa,aa[1]=H_,aa[2]=X_,aa[3]=$h,aa[4]=tc,aa[5]=Z_,aa[6]=Gh,v=1}else v=0}v&&(v=function(oe,xe){for(oe.M=0;oe.M<oe.Va;++oe.M){var ve,Z=oe.Jc[oe.M&oe.Xb],J=oe.m,Ce=oe;for(ve=0;ve<Ce.za;++ve){var Ae=J,Se=Ce,We=Se.Ac,Be=Se.Bc+4*ve,at=Se.zc,Ve=Se.ya[Se.aa+ve];if(Se.Qa.Bb?Ve.$b=pe(Ae,Se.Pa.jb[0])?2+pe(Ae,Se.Pa.jb[2]):pe(Ae,Se.Pa.jb[1]):Ve.$b=0,Se.kc&&(Ve.Ad=pe(Ae,Se.Bd)),Ve.Za=!pe(Ae,145)+0,Ve.Za){var en=Ve.Ob,ln=0;for(Se=0;4>Se;++Se){var Zt,qt=at[0+Se];for(Zt=0;4>Zt;++Zt){qt=qk[We[Be+Zt]][qt];for(var _n=cx[pe(Ae,qt[0])];0<_n;)_n=cx[2*_n+pe(Ae,qt[_n])];qt=-_n,We[Be+Zt]=qt}r(en,ln,We,Be,4),ln+=4,at[0+Se]=qt}}else qt=pe(Ae,156)?pe(Ae,128)?1:3:pe(Ae,163)?2:0,Ve.Ob[0]=qt,i(We,Be,qt,4),i(at,0,qt,4);Ve.Dd=pe(Ae,142)?pe(Ae,114)?pe(Ae,183)?1:3:2:0}if(Ce.m.Ka)return Wn(oe,7,"Premature end-of-partition0 encountered.");for(;oe.ja<oe.za;++oe.ja){if(Ce=Z,Ae=(J=oe).rb[J.sb-1],We=J.rb[J.sb+J.ja],ve=J.ya[J.aa+J.ja],Be=J.kc?ve.Ad:0)Ae.la=We.la=0,ve.Za||(Ae.Na=We.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var fn,Tt;if(Ae=We,We=Ce,Be=J.Pa.Xc,at=J.ya[J.aa+J.ja],Ve=J.pb[at.$b],Se=at.ad,en=0,ln=J.rb[J.sb-1],qt=Zt=0,i(Se,en,0,384),at.Za)var or=0,fi=Be[3];else{_n=o(16);var sr=Ae.Na+ln.Na;if(sr=df(We,Be[1],sr,Ve.Eb,0,_n,0),Ae.Na=ln.Na=(0<sr)+0,1<sr)Vu(_n,0,Se,en);else{var pi=_n[0]+3>>3;for(_n=0;256>_n;_n+=16)Se[en+_n]=pi}or=1,fi=Be[0]}var cn=15&Ae.la,Pi=15&ln.la;for(_n=0;4>_n;++_n){var Ni=1&Pi;for(pi=Tt=0;4>pi;++pi)cn=cn>>1|(Ni=(sr=df(We,fi,sr=Ni+(1&cn),Ve.Sc,or,Se,en))>or)<<7,Tt=Tt<<2|(3<sr?3:1<sr?2:Se[en+0]!=0),en+=16;cn>>=4,Pi=Pi>>1|Ni<<7,Zt=(Zt<<8|Tt)>>>0}for(fi=cn,or=Pi>>4,fn=0;4>fn;fn+=2){for(Tt=0,cn=Ae.la>>4+fn,Pi=ln.la>>4+fn,_n=0;2>_n;++_n){for(Ni=1&Pi,pi=0;2>pi;++pi)sr=Ni+(1&cn),cn=cn>>1|(Ni=0<(sr=df(We,Be[2],sr,Ve.Qc,0,Se,en)))<<3,Tt=Tt<<2|(3<sr?3:1<sr?2:Se[en+0]!=0),en+=16;cn>>=2,Pi=Pi>>1|Ni<<5}qt|=Tt<<4*fn,fi|=cn<<4<<fn,or|=(240&Pi)<<fn}Ae.la=fi,ln.la=or,at.Hc=Zt,at.Gc=qt,at.ia=43690&qt?0:Ve.ia,Be=!(Zt|qt)}if(0<J.L&&(J.wa[J.Y+J.ja]=J.gd[ve.$b][ve.Za],J.wa[J.Y+J.ja].La|=!Be),Ce.Ka)return Wn(oe,7,"Premature end-of-file encountered.")}if(Vh(oe),J=xe,Ce=1,ve=(Z=oe).D,Ae=0<Z.L&&Z.M>=Z.zb&&Z.M<=Z.Va,Z.Aa==0)e:{if(ve.M=Z.M,ve.uc=Ae,tf(Z,ve),Ce=1,ve=(Tt=Z.D).Nb,Ae=(qt=Em[Z.L])*Z.R,We=qt/2*Z.B,_n=16*ve*Z.R,pi=8*ve*Z.B,Be=Z.sa,at=Z.ta-Ae+_n,Ve=Z.qa,Se=Z.ra-We+pi,en=Z.Ha,ln=Z.Ia-We+pi,Pi=(cn=Tt.M)==0,Zt=cn>=Z.Va-1,Z.Aa==2&&tf(Z,Tt),Tt.uc)for(Ni=(sr=Z).D.M,e(sr.D.uc),Tt=sr.yb;Tt<sr.Hb;++Tt){or=Tt,fi=Ni;var wr=(Nr=(Vn=sr).D).Nb;fn=Vn.R;var Nr=Nr.wa[Nr.Y+or],ei=Vn.sa,Zi=Vn.ta+16*wr*fn+16*or,ms=Nr.dd,Cr=Nr.tc;if(Cr!=0)if(e(3<=Cr),Vn.L==1)0<or&&nl(ei,Zi,fn,Cr+4),Nr.La&&Wi(ei,Zi,fn,Cr),0<fi&&lc(ei,Zi,fn,Cr+4),Nr.La&&cf(ei,Zi,fn,Cr);else{var la=Vn.B,cc=Vn.qa,$u=Vn.ra+8*wr*la+8*or,ol=Vn.Ha,Vn=Vn.Ia+8*wr*la+8*or;wr=Nr.ld,0<or&&(fm(ei,Zi,fn,Cr+4,ms,wr),oc(cc,$u,ol,Vn,la,Cr+4,ms,wr)),Nr.La&&(tl(ei,Zi,fn,Cr,ms,wr),Hu(cc,$u,ol,Vn,la,Cr,ms,wr)),0<fi&&(zu(ei,Zi,fn,Cr+4,ms,wr),lf(cc,$u,ol,Vn,la,Cr+4,ms,wr)),Nr.La&&(sc(ei,Zi,fn,Cr,ms,wr),ac(cc,$u,ol,Vn,la,Cr,ms,wr))}}if(Z.ia&&alert("todo:DitherRow"),J.put!=null){if(Tt=16*cn,cn=16*(cn+1),Pi?(J.y=Z.sa,J.O=Z.ta+_n,J.f=Z.qa,J.N=Z.ra+pi,J.ea=Z.Ha,J.W=Z.Ia+pi):(Tt-=qt,J.y=Be,J.O=at,J.f=Ve,J.N=Se,J.ea=en,J.W=ln),Zt||(cn-=qt),cn>J.o&&(cn=J.o),J.F=null,J.J=null,Z.Fa!=null&&0<Z.Fa.length&&Tt<cn&&(J.J=Jh(Z,J,Tt,cn-Tt),J.F=Z.mb,J.F==null&&J.F.length==0)){Ce=Wn(Z,3,"Could not decode alpha data.");break e}Tt<J.j&&(qt=J.j-Tt,Tt=J.j,e(!(1&qt)),J.O+=Z.R*qt,J.N+=Z.B*(qt>>1),J.W+=Z.B*(qt>>1),J.F!=null&&(J.J+=J.width*qt)),Tt<cn&&(J.O+=J.v,J.N+=J.v>>1,J.W+=J.v>>1,J.F!=null&&(J.J+=J.v),J.ka=Tt-J.j,J.U=J.va-J.v,J.T=cn-Tt,Ce=J.put(J))}ve+1!=Z.Ic||Zt||(r(Z.sa,Z.ta-Ae,Be,at+16*Z.R,Ae),r(Z.qa,Z.ra-We,Ve,Se+8*Z.B,We),r(Z.Ha,Z.Ia-We,en,ln+8*Z.B,We))}if(!Ce)return Wn(oe,6,"Output aborted.")}return 1}(u,p)),p.bc!=null&&p.bc(p),v&=1}return v?(u.cb=0,v):0}function Mo(u,p,v,b,S){S=u[p+v+32*b]+(S>>3),u[p+v+32*b]=-256&S?0>S?0:255:S}function Mu(u,p,v,b,S,M){Mo(u,p,0,v,b+S),Mo(u,p,1,v,b+M),Mo(u,p,2,v,b-M),Mo(u,p,3,v,b-S)}function ui(u){return(20091*u>>16)+u}function zh(u,p,v,b){var S,M=0,A=o(16);for(S=0;4>S;++S){var I=u[p+0]+u[p+8],k=u[p+0]-u[p+8],R=(35468*u[p+4]>>16)-ui(u[p+12]),X=ui(u[p+4])+(35468*u[p+12]>>16);A[M+0]=I+X,A[M+1]=k+R,A[M+2]=k-R,A[M+3]=I-X,M+=4,p++}for(S=M=0;4>S;++S)I=(u=A[M+0]+4)+A[M+8],k=u-A[M+8],R=(35468*A[M+4]>>16)-ui(A[M+12]),Mo(v,b,0,0,I+(X=ui(A[M+4])+(35468*A[M+12]>>16))),Mo(v,b,1,0,k+R),Mo(v,b,2,0,k-R),Mo(v,b,3,0,I-X),M++,b+=32}function Xg(u,p,v,b){var S=u[p+0]+4,M=35468*u[p+4]>>16,A=ui(u[p+4]),I=35468*u[p+1]>>16;Mu(v,b,0,S+A,u=ui(u[p+1]),I),Mu(v,b,1,S+M,u,I),Mu(v,b,2,S-M,u,I),Mu(v,b,3,S-A,u,I)}function B_(u,p,v,b,S){zh(u,p,v,b),S&&zh(u,p+16,v,b+4)}function Zg(u,p,v,b){oa(u,p+0,v,b,1),oa(u,p+32,v,b+128,1)}function U_(u,p,v,b){var S;for(u=u[p+0]+4,S=0;4>S;++S)for(p=0;4>p;++p)Mo(v,b,p,S,u)}function Qg(u,p,v,b){u[p+0]&&Jr(u,p+0,v,b),u[p+16]&&Jr(u,p+16,v,b+4),u[p+32]&&Jr(u,p+32,v,b+128),u[p+48]&&Jr(u,p+48,v,b+128+4)}function V_(u,p,v,b){var S,M=o(16);for(S=0;4>S;++S){var A=u[p+0+S]+u[p+12+S],I=u[p+4+S]+u[p+8+S],k=u[p+4+S]-u[p+8+S],R=u[p+0+S]-u[p+12+S];M[0+S]=A+I,M[8+S]=A-I,M[4+S]=R+k,M[12+S]=R-k}for(S=0;4>S;++S)A=(u=M[0+4*S]+3)+M[3+4*S],I=M[1+4*S]+M[2+4*S],k=M[1+4*S]-M[2+4*S],R=u-M[3+4*S],v[b+0]=A+I>>3,v[b+16]=R+k>>3,v[b+32]=A-I>>3,v[b+48]=R-k>>3,b+=64}function Hh(u,p,v){var b,S=p-32,M=Ti,A=255-u[S-1];for(b=0;b<v;++b){var I,k=M,R=A+u[p-1];for(I=0;I<v;++I)u[p+I]=k[R+u[S+I]];p+=32}}function z_(u,p){Hh(u,p,4)}function H_(u,p){Hh(u,p,8)}function q_(u,p){Hh(u,p,16)}function ta(u,p){var v;for(v=0;16>v;++v)r(u,p+32*v,u,p-32,16)}function Au(u,p){var v;for(v=16;0<v;--v)i(u,p,u[p-1],16),p+=32}function Iu(u,p,v){var b;for(b=0;16>b;++b)i(p,v+32*b,u,16)}function Jg(u,p){var v,b=16;for(v=0;16>v;++v)b+=u[p-1+32*v]+u[p+v-32];Iu(b>>5,u,p)}function Ur(u,p){var v,b=8;for(v=0;16>v;++v)b+=u[p-1+32*v];Iu(b>>4,u,p)}function $_(u,p){var v,b=8;for(v=0;16>v;++v)b+=u[p+v-32];Iu(b>>4,u,p)}function em(u,p){Iu(128,u,p)}function yt(u,p,v){return u+2*p+v+2>>2}function G_(u,p){var v,b=p-32;for(b=new Uint8Array([yt(u[b-1],u[b+0],u[b+1]),yt(u[b+0],u[b+1],u[b+2]),yt(u[b+1],u[b+2],u[b+3]),yt(u[b+2],u[b+3],u[b+4])]),v=0;4>v;++v)r(u,p+32*v,b,0,b.length)}function W_(u,p){var v=u[p-1],b=u[p-1+32],S=u[p-1+64],M=u[p-1+96];Oe(u,p+0,16843009*yt(u[p-1-32],v,b)),Oe(u,p+32,16843009*yt(v,b,S)),Oe(u,p+64,16843009*yt(b,S,M)),Oe(u,p+96,16843009*yt(S,M,M))}function fs(u,p){var v,b=4;for(v=0;4>v;++v)b+=u[p+v-32]+u[p-1+32*v];for(b>>=3,v=0;4>v;++v)i(u,p+32*v,b,4)}function tm(u,p){var v=u[p-1+0],b=u[p-1+32],S=u[p-1+64],M=u[p-1-32],A=u[p+0-32],I=u[p+1-32],k=u[p+2-32],R=u[p+3-32];u[p+0+96]=yt(b,S,u[p-1+96]),u[p+1+96]=u[p+0+64]=yt(v,b,S),u[p+2+96]=u[p+1+64]=u[p+0+32]=yt(M,v,b),u[p+3+96]=u[p+2+64]=u[p+1+32]=u[p+0+0]=yt(A,M,v),u[p+3+64]=u[p+2+32]=u[p+1+0]=yt(I,A,M),u[p+3+32]=u[p+2+0]=yt(k,I,A),u[p+3+0]=yt(R,k,I)}function nm(u,p){var v=u[p+1-32],b=u[p+2-32],S=u[p+3-32],M=u[p+4-32],A=u[p+5-32],I=u[p+6-32],k=u[p+7-32];u[p+0+0]=yt(u[p+0-32],v,b),u[p+1+0]=u[p+0+32]=yt(v,b,S),u[p+2+0]=u[p+1+32]=u[p+0+64]=yt(b,S,M),u[p+3+0]=u[p+2+32]=u[p+1+64]=u[p+0+96]=yt(S,M,A),u[p+3+32]=u[p+2+64]=u[p+1+96]=yt(M,A,I),u[p+3+64]=u[p+2+96]=yt(A,I,k),u[p+3+96]=yt(I,k,k)}function Tu(u,p){var v=u[p-1+0],b=u[p-1+32],S=u[p-1+64],M=u[p-1-32],A=u[p+0-32],I=u[p+1-32],k=u[p+2-32],R=u[p+3-32];u[p+0+0]=u[p+1+64]=M+A+1>>1,u[p+1+0]=u[p+2+64]=A+I+1>>1,u[p+2+0]=u[p+3+64]=I+k+1>>1,u[p+3+0]=k+R+1>>1,u[p+0+96]=yt(S,b,v),u[p+0+64]=yt(b,v,M),u[p+0+32]=u[p+1+96]=yt(v,M,A),u[p+1+32]=u[p+2+96]=yt(M,A,I),u[p+2+32]=u[p+3+96]=yt(A,I,k),u[p+3+32]=yt(I,k,R)}function qh(u,p){var v=u[p+0-32],b=u[p+1-32],S=u[p+2-32],M=u[p+3-32],A=u[p+4-32],I=u[p+5-32],k=u[p+6-32],R=u[p+7-32];u[p+0+0]=v+b+1>>1,u[p+1+0]=u[p+0+64]=b+S+1>>1,u[p+2+0]=u[p+1+64]=S+M+1>>1,u[p+3+0]=u[p+2+64]=M+A+1>>1,u[p+0+32]=yt(v,b,S),u[p+1+32]=u[p+0+96]=yt(b,S,M),u[p+2+32]=u[p+1+96]=yt(S,M,A),u[p+3+32]=u[p+2+96]=yt(M,A,I),u[p+3+64]=yt(A,I,k),u[p+3+96]=yt(I,k,R)}function K_(u,p){var v=u[p-1+0],b=u[p-1+32],S=u[p-1+64],M=u[p-1+96];u[p+0+0]=v+b+1>>1,u[p+2+0]=u[p+0+32]=b+S+1>>1,u[p+2+32]=u[p+0+64]=S+M+1>>1,u[p+1+0]=yt(v,b,S),u[p+3+0]=u[p+1+32]=yt(b,S,M),u[p+3+32]=u[p+1+64]=yt(S,M,M),u[p+3+64]=u[p+2+64]=u[p+0+96]=u[p+1+96]=u[p+2+96]=u[p+3+96]=M}function Y_(u,p){var v=u[p-1+0],b=u[p-1+32],S=u[p-1+64],M=u[p-1+96],A=u[p-1-32],I=u[p+0-32],k=u[p+1-32],R=u[p+2-32];u[p+0+0]=u[p+2+32]=v+A+1>>1,u[p+0+32]=u[p+2+64]=b+v+1>>1,u[p+0+64]=u[p+2+96]=S+b+1>>1,u[p+0+96]=M+S+1>>1,u[p+3+0]=yt(I,k,R),u[p+2+0]=yt(A,I,k),u[p+1+0]=u[p+3+32]=yt(v,A,I),u[p+1+32]=u[p+3+64]=yt(b,v,A),u[p+1+64]=u[p+3+96]=yt(S,b,v),u[p+1+96]=yt(M,S,b)}function X_(u,p){var v;for(v=0;8>v;++v)r(u,p+32*v,u,p-32,8)}function $h(u,p){var v;for(v=0;8>v;++v)i(u,p,u[p-1],8),p+=32}function ec(u,p,v){var b;for(b=0;8>b;++b)i(p,v+32*b,u,8)}function Xa(u,p){var v,b=8;for(v=0;8>v;++v)b+=u[p+v-32]+u[p-1+32*v];ec(b>>4,u,p)}function Z_(u,p){var v,b=4;for(v=0;8>v;++v)b+=u[p+v-32];ec(b>>3,u,p)}function tc(u,p){var v,b=4;for(v=0;8>v;++v)b+=u[p-1+32*v];ec(b>>3,u,p)}function Gh(u,p){ec(128,u,p)}function Pu(u,p,v){var b=u[p-v],S=u[p+0],M=3*(S-b)+rb[1020+u[p-2*v]-u[p+v]],A=gm[112+(M+4>>3)];u[p-v]=Ti[255+b+gm[112+(M+3>>3)]],u[p+0]=Ti[255+S-A]}function rm(u,p,v,b){var S=u[p+0],M=u[p+v];return Yi[255+u[p-2*v]-u[p-v]]>b||Yi[255+M-S]>b}function im(u,p,v,b){return 4*Yi[255+u[p-v]-u[p+0]]+Yi[255+u[p-2*v]-u[p+v]]<=b}function om(u,p,v,b,S){var M=u[p-3*v],A=u[p-2*v],I=u[p-v],k=u[p+0],R=u[p+v],X=u[p+2*v],de=u[p+3*v];return 4*Yi[255+I-k]+Yi[255+A-R]>b?0:Yi[255+u[p-4*v]-M]<=S&&Yi[255+M-A]<=S&&Yi[255+A-I]<=S&&Yi[255+de-X]<=S&&Yi[255+X-R]<=S&&Yi[255+R-k]<=S}function sm(u,p,v,b){var S=2*b+1;for(b=0;16>b;++b)im(u,p+b,v,S)&&Pu(u,p+b,v)}function ps(u,p,v,b){var S=2*b+1;for(b=0;16>b;++b)im(u,p+b*v,1,S)&&Pu(u,p+b*v,1)}function na(u,p,v,b){var S;for(S=3;0<S;--S)sm(u,p+=4*v,v,b)}function Q_(u,p,v,b){var S;for(S=3;0<S;--S)ps(u,p+=4,v,b)}function Za(u,p,v,b,S,M,A,I){for(M=2*M+1;0<S--;){if(om(u,p,v,M,A))if(rm(u,p,v,I))Pu(u,p,v);else{var k=u,R=p,X=v,de=k[R-2*X],he=k[R-X],oe=k[R+0],xe=k[R+X],ve=k[R+2*X],Z=27*(Ce=rb[1020+3*(oe-he)+rb[1020+de-xe]])+63>>7,J=18*Ce+63>>7,Ce=9*Ce+63>>7;k[R-3*X]=Ti[255+k[R-3*X]+Ce],k[R-2*X]=Ti[255+de+J],k[R-X]=Ti[255+he+Z],k[R+0]=Ti[255+oe-Z],k[R+X]=Ti[255+xe-J],k[R+2*X]=Ti[255+ve-Ce]}p+=b}}function Ao(u,p,v,b,S,M,A,I){for(M=2*M+1;0<S--;){if(om(u,p,v,M,A))if(rm(u,p,v,I))Pu(u,p,v);else{var k=u,R=p,X=v,de=k[R-X],he=k[R+0],oe=k[R+X],xe=gm[112+((ve=3*(he-de))+4>>3)],ve=gm[112+(ve+3>>3)],Z=xe+1>>1;k[R-2*X]=Ti[255+k[R-2*X]+Z],k[R-X]=Ti[255+de+ve],k[R+0]=Ti[255+he-xe],k[R+X]=Ti[255+oe-Z]}p+=b}}function Wh(u,p,v,b,S,M){Za(u,p,v,1,16,b,S,M)}function nc(u,p,v,b,S,M){Za(u,p,1,v,16,b,S,M)}function J_(u,p,v,b,S,M){var A;for(A=3;0<A;--A)Ao(u,p+=4*v,v,1,16,b,S,M)}function Nu(u,p,v,b,S,M){var A;for(A=3;0<A;--A)Ao(u,p+=4,1,v,16,b,S,M)}function eb(u,p,v,b,S,M,A,I){Za(u,p,S,1,8,M,A,I),Za(v,b,S,1,8,M,A,I)}function Kh(u,p,v,b,S,M,A,I){Za(u,p,1,S,8,M,A,I),Za(v,b,1,S,8,M,A,I)}function Yh(u,p,v,b,S,M,A,I){Ao(u,p+4*S,S,1,8,M,A,I),Ao(v,b+4*S,S,1,8,M,A,I)}function am(u,p,v,b,S,M,A,I){Ao(u,p+4,1,S,8,M,A,I),Ao(v,b+4,1,S,8,M,A,I)}function Ou(){this.ba=new Co,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lm(){this.ua=0,this.Wa=new z,this.vb=new z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new N}function tb(){this.xb=this.a=0,this.l=new Du,this.ca=new Co,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lm,this.ab=0,this.gc=s(4,Zh),this.Oc=0}function ku(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Du,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rc(u,p,v,b,S,M,A){for(u=u==null?0:u[p+0],p=0;p<A;++p)S[M+p]=u+v[b+p]&255,u=S[M+p]}function Qh(u,p,v,b,S,M,A){var I;if(u==null)rc(null,null,v,b,S,M,A);else for(I=0;I<A;++I)S[M+I]=u[p+I]+v[b+I]&255}function Qa(u,p,v,b,S,M,A){if(u==null)rc(null,null,v,b,S,M,A);else{var I,k=u[p+0],R=k,X=k;for(I=0;I<A;++I)R=X+(k=u[p+I])-R,X=v[b+I]+(-256&R?0>R?0:255:R)&255,R=k,S[M+I]=X}}function Jh(u,p,v,b){var S=p.width,M=p.o;if(e(u!=null&&p!=null),0>v||0>=b||v+b>M)return null;if(!u.Cc){if(u.ga==null){var A;if(u.ga=new ku,(A=u.ga==null)||(A=p.width*p.o,e(u.Gb.length==0),u.Gb=o(A),u.Uc=0,u.Gb==null?A=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,A=1),A=!A),!A){A=u.ga;var I=u.Fa,k=u.P,R=u.qc,X=u.mb,de=u.nb,he=k+1,oe=R-1,xe=A.l;if(e(I!=null&&X!=null&&p!=null),il[0]=null,il[1]=rc,il[2]=Qh,il[3]=Qa,A.ca=X,A.tb=de,A.c=p.width,A.i=p.height,e(0<A.c&&0<A.i),1>=R)p=0;else if(A.$a=I[k+0]>>0&3,A.Z=I[k+0]>>2&3,A.Lc=I[k+0]>>4&3,k=I[k+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||k)p=0;else if(xe.put=ls,xe.ac=Tr,xe.bc=cs,xe.ma=A,xe.width=p.width,xe.height=p.height,xe.Da=p.Da,xe.v=p.v,xe.va=p.va,xe.j=p.j,xe.o=p.o,A.$a)e:{e(A.$a==1),p=qi();t:for(;;){if(p==null){p=0;break e}if(e(A!=null),A.mc=p,p.c=A.c,p.i=A.i,p.l=A.l,p.l.ma=A,p.l.width=A.c,p.l.height=A.i,p.a=0,V(p.m,I,he,oe),!hs(A.c,A.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&ea(p.s)?(A.ic=1,I=p.c*p.i,p.Ta=null,p.Ua=0,p.V=o(I),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(A.ic=0,p=Jl(p,A.c)),!p))break t;p=1;break e}A.mc=null,p=0}else p=oe>=A.c*A.i;A=!p}if(A)return null;u.ga.Lc!=1?u.Ga=0:b=M-v}e(u.ga!=null),e(v+b<=M);e:{if(p=(I=u.ga).c,M=I.l.o,I.$a==0){if(he=u.rc,oe=u.Vc,xe=u.Fa,k=u.P+1+v*p,R=u.mb,X=u.nb+v*p,e(k<=u.P+u.qc),I.Z!=0)for(e(il[I.Z]!=null),A=0;A<b;++A)il[I.Z](he,oe,xe,k,R,X,p),he=R,oe=X,X+=p,k+=p;else for(A=0;A<b;++A)r(R,X,xe,k,p),he=R,oe=X,X+=p,k+=p;u.rc=he,u.Vc=oe}else{if(e(I.mc!=null),p=v+b,e((A=I.mc)!=null),e(p<=A.i),A.C>=p)p=1;else if(I.ic||ce(),I.ic){I=A.V,he=A.Ba,oe=A.c;var ve=A.i,Z=(xe=1,k=A.$/oe,R=A.$%oe,X=A.m,de=A.s,A.$),J=oe*ve,Ce=oe*p,Ae=de.wc,Se=Z<Ce?rr(de,R,k):null;e(Z<=J),e(p<=ve),e(ea(de));t:for(;;){for(;!X.h&&Z<Ce;){if(R&Ae||(Se=rr(de,R,k)),e(Se!=null),ie(X),256>(ve=ci(Se.G[0],Se.H[0],X)))I[he+Z]=ve,++Z,++R>=oe&&(R=0,++k<=p&&!(k%16)&&xo(A,k));else{if(!(280>ve)){xe=0;break t}ve=Eo(ve-256,X);var We,Be=ci(Se.G[4],Se.H[4],X);if(ie(X),!(Z>=(Be=us(oe,Be=Eo(Be,X)))&&J-Z>=ve)){xe=0;break t}for(We=0;We<ve;++We)I[he+Z+We]=I[he+Z+We-Be];for(Z+=ve,R+=ve;R>=oe;)R-=oe,++k<=p&&!(k%16)&&xo(A,k);Z<Ce&&R&Ae&&(Se=rr(de,R,k))}e(X.h==B(X))}xo(A,k>p?p:k);break t}!xe||X.h&&Z<J?(xe=0,A.a=X.h?5:3):A.$=Z,p=xe}else p=Do(A,A.V,A.Ba,A.c,A.i,p,wu);if(!p){b=0;break e}}v+b>=M&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*S}function m(u,p,v,b,S,M){for(;0<S--;){var A,I=u,k=p+(v?1:0),R=u,X=p+(v?0:3);for(A=0;A<b;++A){var de=R[X+4*A];de!=255&&(de*=32897,I[k+4*A+0]=I[k+4*A+0]*de>>23,I[k+4*A+1]=I[k+4*A+1]*de>>23,I[k+4*A+2]=I[k+4*A+2]*de>>23)}p+=M}}function x(u,p,v,b,S){for(;0<b--;){var M;for(M=0;M<v;++M){var A=u[p+2*M+0],I=15&(R=u[p+2*M+1]),k=4369*I,R=(240&R|R>>4)*k>>16;u[p+2*M+0]=(240&A|A>>4)*k>>16&240|(15&A|A<<4)*k>>16>>4&15,u[p+2*M+1]=240&R|I}p+=S}}function j(u,p,v,b,S,M,A,I){var k,R,X=255;for(R=0;R<S;++R){for(k=0;k<b;++k){var de=u[p+k];M[A+4*k]=de,X&=de}p+=v,A+=I}return X!=255}function K(u,p,v,b,S){var M;for(M=0;M<S;++M)v[b+M]=u[p+M]>>8}function ce(){Ki=m,Cn=x,En=j,Yn=K}function _e(u,p,v){F[u]=function(b,S,M,A,I,k,R,X,de,he,oe,xe,ve,Z,J,Ce,Ae){var Se,We=Ae-1>>1,Be=I[k+0]|R[X+0]<<16,at=de[he+0]|oe[xe+0]<<16;e(b!=null);var Ve=3*Be+at+131074>>2;for(p(b[S+0],255&Ve,Ve>>16,ve,Z),M!=null&&(Ve=3*at+Be+131074>>2,p(M[A+0],255&Ve,Ve>>16,J,Ce)),Se=1;Se<=We;++Se){var en=I[k+Se]|R[X+Se]<<16,ln=de[he+Se]|oe[xe+Se]<<16,Zt=Be+en+at+ln+524296,qt=Zt+2*(en+at)>>3;Ve=qt+Be>>1,Be=(Zt=Zt+2*(Be+ln)>>3)+en>>1,p(b[S+2*Se-1],255&Ve,Ve>>16,ve,Z+(2*Se-1)*v),p(b[S+2*Se-0],255&Be,Be>>16,ve,Z+(2*Se-0)*v),M!=null&&(Ve=Zt+at>>1,Be=qt+ln>>1,p(M[A+2*Se-1],255&Ve,Ve>>16,J,Ce+(2*Se-1)*v),p(M[A+2*Se+0],255&Be,Be>>16,J,Ce+(2*Se+0)*v)),Be=en,at=ln}1&Ae||(Ve=3*Be+at+131074>>2,p(b[S+Ae-1],255&Ve,Ve>>16,ve,Z+(Ae-1)*v),M!=null&&(Ve=3*at+Be+131074>>2,p(M[A+Ae-1],255&Ve,Ve>>16,J,Ce+(Ae-1)*v)))}}function Ie(){Xi[mm]=Kk,Xi[vm]=dx,Xi[sx]=Yk,Xi[ym]=hx,Xi[_m]=fx,Xi[ib]=px,Xi[ax]=Xk,Xi[ob]=dx,Xi[sb]=hx,Xi[bm]=fx,Xi[ab]=px}function Ge(u){return u&~Zk?0>u?0:255:u>>gx}function it(u,p){return Ge((19077*u>>8)+(26149*p>>8)-14234)}function Mt(u,p,v){return Ge((19077*u>>8)-(6419*p>>8)-(13320*v>>8)+8708)}function Et(u,p){return Ge((19077*u>>8)+(33050*p>>8)-17685)}function Kt(u,p,v,b,S){b[S+0]=it(u,v),b[S+1]=Mt(u,p,v),b[S+2]=Et(u,p)}function On(u,p,v,b,S){b[S+0]=Et(u,p),b[S+1]=Mt(u,p,v),b[S+2]=it(u,v)}function Un(u,p,v,b,S){var M=Mt(u,p,v);p=M<<3&224|Et(u,p)>>3,b[S+0]=248&it(u,v)|M>>5,b[S+1]=p}function ir(u,p,v,b,S){var M=240&Et(u,p)|15;b[S+0]=240&it(u,v)|Mt(u,p,v)>>4,b[S+1]=M}function Vr(u,p,v,b,S){b[S+0]=255,Kt(u,p,v,b,S+1)}function br(u,p,v,b,S){On(u,p,v,b,S),b[S+3]=255}function Io(u,p,v,b,S){Kt(u,p,v,b,S),b[S+3]=255}function Ii(u,p){return 0>u?0:u>p?p:u}function gs(u,p,v){F[u]=function(b,S,M,A,I,k,R,X,de){for(var he=X+(-2&de)*v;X!=he;)p(b[S+0],M[A+0],I[k+0],R,X),p(b[S+1],M[A+0],I[k+0],R,X+v),S+=2,++A,++k,X+=2*v;1&de&&p(b[S+0],M[A+0],I[k+0],R,X)}}function cm(u,p,v){return v==0?u==0?p==0?6:5:p==0?4:0:v}function ef(u,p,v,b,S){switch(u>>>30){case 3:oa(p,v,b,S,0);break;case 2:Kn(p,v,b,S);break;case 1:Jr(p,v,b,S)}}function tf(u,p){var v,b,S=p.M,M=p.Nb,A=u.oc,I=u.pc+40,k=u.oc,R=u.pc+584,X=u.oc,de=u.pc+600;for(v=0;16>v;++v)A[I+32*v-1]=129;for(v=0;8>v;++v)k[R+32*v-1]=129,X[de+32*v-1]=129;for(0<S?A[I-1-32]=k[R-1-32]=X[de-1-32]=129:(i(A,I-32-1,127,21),i(k,R-32-1,127,9),i(X,de-32-1,127,9)),b=0;b<u.za;++b){var he=p.ya[p.aa+b];if(0<b){for(v=-1;16>v;++v)r(A,I+32*v-4,A,I+32*v+12,4);for(v=-1;8>v;++v)r(k,R+32*v-4,k,R+32*v+4,4),r(X,de+32*v-4,X,de+32*v+4,4)}var oe=u.Gd,xe=u.Hd+b,ve=he.ad,Z=he.Hc;if(0<S&&(r(A,I-32,oe[xe].y,0,16),r(k,R-32,oe[xe].f,0,8),r(X,de-32,oe[xe].ea,0,8)),he.Za){var J=A,Ce=I-32+16;for(0<S&&(b>=u.za-1?i(J,Ce,oe[xe].y[15],4):r(J,Ce,oe[xe+1].y,0,4)),v=0;4>v;v++)J[Ce+128+v]=J[Ce+256+v]=J[Ce+384+v]=J[Ce+0+v];for(v=0;16>v;++v,Z<<=2)J=A,Ce=I+vx[v],To[he.Ob[v]](J,Ce),ef(Z,ve,16*+v,J,Ce)}else if(J=cm(b,S,he.Ob[0]),rl[J](A,I),Z!=0)for(v=0;16>v;++v,Z<<=2)ef(Z,ve,16*+v,A,I+vx[v]);for(v=he.Gc,J=cm(b,S,he.Dd),aa[J](k,R),aa[J](X,de),Z=ve,J=k,Ce=R,255&(he=v>>0)&&(170&he?af(Z,256,J,Ce):Gi(Z,256,J,Ce)),he=X,Z=de,255&(v>>=8)&&(170&v?af(ve,320,he,Z):Gi(ve,320,he,Z)),S<u.Ub-1&&(r(oe[xe].y,0,A,I+480,16),r(oe[xe].f,0,k,R+224,8),r(oe[xe].ea,0,X,de+224,8)),v=8*M*u.B,oe=u.sa,xe=u.ta+16*b+16*M*u.R,ve=u.qa,he=u.ra+8*b+v,Z=u.Ha,J=u.Ia+8*b+v,v=0;16>v;++v)r(oe,xe+v*u.R,A,I+32*v,16);for(v=0;8>v;++v)r(ve,he+v*u.B,k,R+32*v,8),r(Z,J+v*u.B,X,de+32*v,8)}}function Ru(u,p,v,b,S,M,A,I,k){var R=[0],X=[0],de=0,he=k!=null?k.kd:0,oe=k??new Xh;if(u==null||12>v)return 7;oe.data=u,oe.w=p,oe.ha=v,p=[p],v=[v],oe.gb=[oe.gb];e:{var xe=p,ve=v,Z=oe.gb;if(e(u!=null),e(ve!=null),e(Z!=null),Z[0]=0,12<=ve[0]&&!t(u,xe[0],"RIFF")){if(t(u,xe[0]+8,"WEBP")){Z=3;break e}var J=Ue(u,xe[0]+4);if(12>J||4294967286<J){Z=3;break e}if(he&&J>ve[0]-8){Z=7;break e}Z[0]=J,xe[0]+=12,ve[0]-=12}Z=0}if(Z!=0)return Z;for(J=0<oe.gb[0],v=v[0];;){e:{var Ce=u;ve=p,Z=v;var Ae=R,Se=X,We=xe=[0];if((Ve=de=[de])[0]=0,8>Z[0])Z=7;else{if(!t(Ce,ve[0],"VP8X")){if(Ue(Ce,ve[0]+4)!=10){Z=3;break e}if(18>Z[0]){Z=7;break e}var Be=Ue(Ce,ve[0]+8),at=1+He(Ce,ve[0]+12);if(2147483648<=at*(Ce=1+He(Ce,ve[0]+15))){Z=3;break e}We!=null&&(We[0]=Be),Ae!=null&&(Ae[0]=at),Se!=null&&(Se[0]=Ce),ve[0]+=18,Z[0]-=18,Ve[0]=1}Z=0}}if(de=de[0],xe=xe[0],Z!=0)return Z;if(ve=!!(2&xe),!J&&de)return 3;if(M!=null&&(M[0]=!!(16&xe)),A!=null&&(A[0]=ve),I!=null&&(I[0]=0),A=R[0],xe=X[0],de&&ve&&k==null){Z=0;break}if(4>v){Z=7;break}if(J&&de||!J&&!de&&!t(u,p[0],"ALPH")){v=[v],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Be=u,Z=p,J=v;var Ve=oe.gb;Ae=oe.na,Se=oe.P,We=oe.Sa,at=22,e(Be!=null),e(J!=null),Ce=Z[0];var en=J[0];for(e(Ae!=null),e(We!=null),Ae[0]=null,Se[0]=null,We[0]=0;;){if(Z[0]=Ce,J[0]=en,8>en){Z=7;break e}var ln=Ue(Be,Ce+4);if(4294967286<ln){Z=3;break e}var Zt=8+ln+1&-2;if(at+=Zt,0<Ve&&at>Ve){Z=3;break e}if(!t(Be,Ce,"VP8 ")||!t(Be,Ce,"VP8L")){Z=0;break e}if(en[0]<Zt){Z=7;break e}t(Be,Ce,"ALPH")||(Ae[0]=Be,Se[0]=Ce+8,We[0]=ln),Ce+=Zt,en-=Zt}}if(v=v[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],Z!=0)break}v=[v],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(Ve=u,Z=p,J=v,Ae=oe.gb[0],Se=oe.Ja,We=oe.xa,Be=Z[0],Ce=!t(Ve,Be,"VP8 "),at=!t(Ve,Be,"VP8L"),e(Ve!=null),e(J!=null),e(Se!=null),e(We!=null),8>J[0])Z=7;else{if(Ce||at){if(Ve=Ue(Ve,Be+4),12<=Ae&&Ve>Ae-12){Z=3;break e}if(he&&Ve>J[0]-8){Z=7;break e}Se[0]=Ve,Z[0]+=8,J[0]-=8,We[0]=at}else We[0]=5<=J[0]&&Ve[Be+0]==47&&!(Ve[Be+4]>>5),Se[0]=J[0];Z=0}if(v=v[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],p=p[0],Z!=0)break;if(4294967286<oe.Ja)return 3;if(I==null||ve||(I[0]=oe.xa?2:1),A=[A],xe=[xe],oe.xa){if(5>v){Z=7;break}I=A,he=xe,ve=M,u==null||5>v?u=0:5<=v&&u[p+0]==47&&!(u[p+4]>>5)?(J=[0],Ve=[0],Ae=[0],V(Se=new D,u,p,v),ut(Se,J,Ve,Ae)?(I!=null&&(I[0]=J[0]),he!=null&&(he[0]=Ve[0]),ve!=null&&(ve[0]=Ae[0]),u=1):u=0):u=0}else{if(10>v){Z=7;break}I=xe,u==null||10>v||!Wg(u,p+3,v-3)?u=0:(he=u[p+0]|u[p+1]<<8|u[p+2]<<16,ve=16383&(u[p+7]<<8|u[p+6]),u=16383&(u[p+9]<<8|u[p+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=oe.Ja||!ve||!u?u=0:(A&&(A[0]=ve),I&&(I[0]=u),u=1))}if(!u||(A=A[0],xe=xe[0],de&&(R[0]!=A||X[0]!=xe)))return 3;k!=null&&(k[0]=oe,k.offset=p-k.w,e(4294967286>p-k.w),e(k.offset==k.ha-v));break}return Z==0||Z==7&&de&&k==null?(M!=null&&(M[0]|=oe.na!=null&&0<oe.na.length),b!=null&&(b[0]=A),S!=null&&(S[0]=xe),0):Z}function nf(u,p,v){var b=p.width,S=p.height,M=0,A=0,I=b,k=S;if(p.Da=u!=null&&0<u.Da,p.Da&&(I=u.cd,k=u.bd,M=u.v,A=u.j,11>v||(M&=-2,A&=-2),0>M||0>A||0>=I||0>=k||M+I>b||A+k>S))return 0;if(p.v=M,p.j=A,p.va=M+I,p.o=A+k,p.U=I,p.T=k,p.da=u!=null&&0<u.da,p.da){if(!Dt(I,k,v=[u.ib],M=[u.hb]))return 0;p.ib=v[0],p.hb=M[0]}return p.ob=u!=null&&u.ob,p.Kb=u==null||!u.Sd,p.da&&(p.ob=p.ib<3*b/4&&p.hb<3*S/4,p.Kb=0),1}function rf(u){if(u==null)return 2;if(11>u.S){var p=u.f.RGBA;p.fb+=(u.height-1)*p.A,p.A=-p.A}else p=u.f.kb,u=u.height,p.O+=(u-1)*p.fa,p.fa=-p.fa,p.N+=(u-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(u-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(u-1)*p.lb,p.lb=-p.lb);return 0}function Lu(u,p,v,b){if(b==null||0>=u||0>=p)return 2;if(v!=null){if(v.Da){var S=v.cd,M=v.bd,A=-2&v.v,I=-2&v.j;if(0>A||0>I||0>=S||0>=M||A+S>u||I+M>p)return 2;u=S,p=M}if(v.da){if(!Dt(u,p,S=[v.ib],M=[v.hb]))return 2;u=S[0],p=M[0]}}b.width=u,b.height=p;e:{var k=b.width,R=b.height;if(u=b.S,0>=k||0>=R||!(u>=mm&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){A=M=S=p=0;var X=(I=k*yx[u])*R;if(11>u||(M=(R+1)/2*(p=(k+1)/2),u==12&&(A=(S=k)*R)),(R=o(X+2*M+A))==null){u=1;break e}b.sd=R,11>u?((k=b.f.RGBA).eb=R,k.fb=0,k.A=I,k.size=X):((k=b.f.kb).y=R,k.O=0,k.fa=I,k.Fd=X,k.f=R,k.N=0+X,k.Ab=p,k.Cd=M,k.ea=R,k.W=0+X+M,k.Db=p,k.Ed=M,u==12&&(k.F=R,k.J=0+X+2*M),k.Tc=A,k.lb=S)}if(p=1,S=b.S,M=b.width,A=b.height,S>=mm&&13>S)if(11>S)u=b.f.RGBA,p&=(I=Math.abs(u.A))*(A-1)+M<=u.size,p&=I>=M*yx[S],p&=u.eb!=null;else{u=b.f.kb,I=(M+1)/2,X=(A+1)/2,k=Math.abs(u.fa),R=Math.abs(u.Ab);var de=Math.abs(u.Db),he=Math.abs(u.lb),oe=he*(A-1)+M;p&=k*(A-1)+M<=u.Fd,p&=R*(X-1)+I<=u.Cd,p=(p&=de*(X-1)+I<=u.Ed)&k>=M&R>=I&de>=I,p&=u.y!=null,p&=u.f!=null,p&=u.ea!=null,S==12&&(p&=he>=M,p&=oe<=u.Tc,p&=u.F!=null)}else p=0;u=p?0:2}}return u!=0||v!=null&&v.fd&&(u=rf(b)),u}var Pr=64,Fu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ju=24,Bu=32,of=8,di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(u){return u},F.Predictor2=function(u,p,v){return p[v+0]},F.Predictor3=function(u,p,v){return p[v+1]},F.Predictor4=function(u,p,v){return p[v-1]},F.Predictor5=function(u,p,v){return ze(ze(u,p[v+1]),p[v+0])},F.Predictor6=function(u,p,v){return ze(u,p[v-1])},F.Predictor7=function(u,p,v){return ze(u,p[v+0])},F.Predictor8=function(u,p,v){return ze(p[v-1],p[v+0])},F.Predictor9=function(u,p,v){return ze(p[v+0],p[v+1])},F.Predictor10=function(u,p,v){return ze(ze(u,p[v-1]),ze(p[v+0],p[v+1]))},F.Predictor11=function(u,p,v){var b=p[v+0];return 0>=Nt(b>>24&255,u>>24&255,(p=p[v-1])>>24&255)+Nt(b>>16&255,u>>16&255,p>>16&255)+Nt(b>>8&255,u>>8&255,p>>8&255)+Nt(255&b,255&u,255&p)?b:u},F.Predictor12=function(u,p,v){var b=p[v+0];return(rt((u>>24&255)+(b>>24&255)-((p=p[v-1])>>24&255))<<24|rt((u>>16&255)+(b>>16&255)-(p>>16&255))<<16|rt((u>>8&255)+(b>>8&255)-(p>>8&255))<<8|rt((255&u)+(255&b)-(255&p)))>>>0},F.Predictor13=function(u,p,v){var b=p[v-1];return(wt((u=ze(u,p[v+0]))>>24&255,b>>24&255)<<24|wt(u>>16&255,b>>16&255)<<16|wt(u>>8&255,b>>8&255)<<8|wt(u>>0&255,b>>0&255))>>>0};var nb=F.PredictorAdd0;F.PredictorAdd1=Bt,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var sf=F.PredictorAdd2;Vt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var um,$i=F.ColorIndexInverseTransform,Uu=F.MapARGB,dm=F.VP8LColorIndexInverseTransformAlpha,hm=F.MapAlpha,Ja=F.VP8LPredictorsAdd=[];Ja.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var ic,hi,Qr,el,ra,ia,Vu,oa,Kn,af,Jr,Gi,zu,fm,lf,oc,sc,tl,ac,Hu,lc,nl,cf,Wi,Ki,Cn,En,Yn,gr=o(511),sa=o(2041),uf=o(225),qu=o(767),pm=0,rb=sa,gm=uf,Ti=qu,Yi=gr,mm=0,vm=1,sx=2,ym=3,_m=4,ib=5,ax=6,ob=7,sb=8,bm=9,ab=10,kk=[2,3,7],Rk=[3,3,11],lx=[280,256,256,256,40],Lk=[0,1,1,1,0],Fk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Uk=8,lb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],df=null,Vk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zk=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$k=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rl=[],To=[],aa=[],Wk=1,ux=2,il=[],Xi=[];_e("UpsampleRgbLinePair",Kt,3),_e("UpsampleBgrLinePair",On,3),_e("UpsampleRgbaLinePair",Io,4),_e("UpsampleBgraLinePair",br,4),_e("UpsampleArgbLinePair",Vr,4),_e("UpsampleRgba4444LinePair",ir,2),_e("UpsampleRgb565LinePair",Un,2);var Kk=F.UpsampleRgbLinePair,Yk=F.UpsampleBgrLinePair,dx=F.UpsampleRgbaLinePair,hx=F.UpsampleBgraLinePair,fx=F.UpsampleArgbLinePair,px=F.UpsampleRgba4444LinePair,Xk=F.UpsampleRgb565LinePair,wm=16,Cm=1<<wm-1,hf=-227,ub=482,gx=6,Zk=(256<<gx)-1,mx=0,Qk=o(256),Jk=o(256),e7=o(256),t7=o(256),n7=o(ub-hf),r7=o(ub-hf);gs("YuvToRgbRow",Kt,3),gs("YuvToBgrRow",On,3),gs("YuvToRgbaRow",Io,4),gs("YuvToBgraRow",br,4),gs("YuvToArgbRow",Vr,4),gs("YuvToRgba4444Row",ir,2),gs("YuvToRgb565Row",Un,2);var vx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Em=[0,2,8],i7=[8,7,6,4,4,2,2,2,1,1,1,1],o7=1;this.WebPDecodeRGBA=function(u,p,v,b,S){var M=vm,A=new Ou,I=new Co;A.ba=I,I.S=M,I.width=[I.width],I.height=[I.height];var k=I.width,R=I.height,X=new Js;if(X==null||u==null)var de=2;else e(X!=null),de=Ru(u,p,v,X.width,X.height,X.Pd,X.Qd,X.format,null);if(de!=0?k=0:(k!=null&&(k[0]=X.width[0]),R!=null&&(R[0]=X.height[0]),k=1),k){I.width=I.width[0],I.height=I.height[0],b!=null&&(b[0]=I.width),S!=null&&(S[0]=I.height);e:{if(b=new Du,(S=new Xh).data=u,S.w=p,S.ha=v,S.kd=1,p=[0],e(S!=null),((u=Ru(S.data,S.w,S.ha,null,null,null,p,null,S))==0||u==7)&&p[0]&&(u=4),(p=u)==0){if(e(A!=null),b.data=S.data,b.w=S.w+S.offset,b.ha=S.ha-S.offset,b.put=ls,b.ac=Tr,b.bc=cs,b.ma=A,S.xa){if((u=qi())==null){A=1;break e}if(function(he,oe){var xe=[0],ve=[0],Z=[0];t:for(;;){if(he==null)return 0;if(oe==null)return he.a=2,0;if(he.l=oe,he.a=0,V(he.m,oe.data,oe.w,oe.ha),!ut(he.m,xe,ve,Z)){he.a=3;break t}if(he.xb=ux,oe.width=xe[0],oe.height=ve[0],!hs(xe[0],ve[0],1,he,null))break t;return 1}return e(he.a!=0),0}(u,b)){if(b=(p=Lu(b.width,b.height,A.Oa,A.ba))==0){t:{b=u;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((S=v.ma)!=null),b.xb!=0){if(b.ca=S.ba,b.tb=S.tb,e(b.ca!=null),!nf(S.Oa,v,ym)){b.a=2;break n}if(!Jl(b,v.width)||v.da)break n;if((v.da||on(b.ca.S))&&ce(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&ce()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!dt(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Do(b,b.V,b.Ba,b.c,b.i,v.o,bu))break n;S.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(p=u.a)}else p=u.a}else{if((u=new F_)==null){A=1;break e}if(u.Fa=S.na,u.P=S.P,u.qc=S.Sa,Kg(u,b)){if((p=Lu(b.width,b.height,A.Oa,A.ba))==0){if(u.Aa=0,v=A.Oa,e((S=u)!=null),v!=null){if(0<(k=0>(k=v.Md)?0:100<k?255:255*k/100)){for(R=X=0;4>R;++R)12>(de=S.pb[R]).lc&&(de.ia=k*i7[0>de.lc?0:de.lc]>>3),X|=de.ia;X&&(alert("todo:VP8InitRandom"),S.ia=1)}S.Ga=v.Id,100<S.Ga?S.Ga=100:0>S.Ga&&(S.Ga=0)}j_(u,b)||(p=u.a)}}else p=u.a}p==0&&A.Oa!=null&&A.Oa.fd&&(p=rf(A.ba))}A=p}M=A!=0?null:11>M?I.f.RGBA.eb:I.f.kb.y}else M=null;return M};var yx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(F,re){for(var le="",O=0;O<4;O++)le+=String.fromCharCode(F[re++]);return le}function d(F,re){return(F[re+0]<<0|F[re+1]<<8|F[re+2]<<16)>>>0}function h(F,re){return(F[re+0]<<0|F[re+1]<<8|F[re+2]<<16|F[re+3]<<24)>>>0}new l;var g=[0],f=[0],y=[],_=new l,C=n,w=function(F,re){var le={},O=0,N=!1,G=0,$=0;if(le.frames=[],!function(L,B,Y,ie){for(var ue=0;ue<ie;ue++)if(L[B+ue]!=Y.charCodeAt(ue))return!0;return!1}(F,re,"RIFF",4)){for(h(F,re+=4),re+=8;re<F.length;){var ge=c(F,re),W=h(F,re+=4);re+=4;var te=W+(1&W);switch(ge){case"VP8 ":case"VP8L":le.frames[O]===void 0&&(le.frames[O]={}),(fe=le.frames[O]).src_off=N?$:re-8,fe.src_size=G+W+8,O++,N&&(N=!1,G=0,$=0);break;case"VP8X":(fe=le.header={}).feature_flags=F[re];var V=re+4;fe.canvas_width=1+d(F,V),V+=3,fe.canvas_height=1+d(F,V),V+=3;break;case"ALPH":N=!0,G=te+8,$=re-8;break;case"ANIM":(fe=le.header).bgcolor=h(F,re),V=re+4,fe.loop_count=(Te=F)[(D=V)+0]<<0|Te[D+1]<<8,V+=2;break;case"ANMF":var ne,fe;(fe=le.frames[O]={}).offset_x=2*d(F,re),re+=3,fe.offset_y=2*d(F,re),re+=3,fe.width=1+d(F,re),re+=3,fe.height=1+d(F,re),re+=3,fe.duration=d(F,re),re+=3,ne=F[re++],fe.dispose=1&ne,fe.blend=ne>>1&1}ge!="ANMF"&&(re+=te)}var Te,D;return le}}(C,0);w.response=C,w.rgbaoutput=!0,w.dataurl=!1;var E=w.header?w.header:null,T=w.frames?w.frames:null;if(E){E.loop_counter=E.loop_count,g=[E.canvas_height],f=[E.canvas_width];for(var P=0;P<T.length&&T[P].blend!=0;P++);}var H=T[0],Q=_.WebPDecodeRGBA(C,H.src_off,H.src_size,f,g);H.rgba=Q,H.imgwidth=f[0],H.imgheight=g[0];for(var U=0;U<f[0]*g[0]*4;U++)y[U]=Q[U];return this.width=f,this.height=g,this.data=y,this}(function(n){var e=function(){return typeof O2=="function"},t=function(g,f,y,_){var C=4,w=s;switch(_){case n.image_compression.FAST:C=1,w=o;break;case n.image_compression.MEDIUM:C=6,w=a;break;case n.image_compression.SLOW:C=9,w=l}g=r(g,f,y,w);var E=O2(g,{level:C});return n.__addimage__.arrayBufferToBinaryString(E)},r=function(g,f,y,_){for(var C,w,E,T=g.length/f,P=new Uint8Array(g.length+T),H=d(),Q=0;Q<T;Q+=1){if(E=Q*f,C=g.subarray(E,E+f),_)P.set(_(C,y,w),E+Q);else{for(var U,F=H.length,re=[];U<F;U+=1)re[U]=H[U](C,y,w);var le=h(re.concat());P.set(re[le],E+Q)}w=C}return P},i=function(g){var f=Array.apply([],g);return f.unshift(0),f},o=function(g,f){var y,_=[],C=g.length;_[0]=1;for(var w=0;w<C;w+=1)y=g[w-f]||0,_[w+1]=g[w]-y+256&255;return _},s=function(g,f,y){var _,C=[],w=g.length;C[0]=2;for(var E=0;E<w;E+=1)_=y&&y[E]||0,C[E+1]=g[E]-_+256&255;return C},a=function(g,f,y){var _,C,w=[],E=g.length;w[0]=3;for(var T=0;T<E;T+=1)_=g[T-f]||0,C=y&&y[T]||0,w[T+1]=g[T]+256-(_+C>>>1)&255;return w},l=function(g,f,y){var _,C,w,E,T=[],P=g.length;T[0]=4;for(var H=0;H<P;H+=1)_=g[H-f]||0,C=y&&y[H]||0,w=y&&y[H-f]||0,E=c(_,C,w),T[H+1]=g[H]-E+256&255;return T},c=function(g,f,y){if(g===f&&f===y)return g;var _=Math.abs(f-y),C=Math.abs(g-y),w=Math.abs(g+f-y-y);return _<=C&&_<=w?g:C<=w?f:y},d=function(){return[i,o,s,a,l]},h=function(g){var f=g.map(function(y){return y.reduce(function(_,C){return _+Math.abs(C)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(g,f,y,_){var C,w,E,T,P,H,Q,U,F,re,le,O,N,G,$,ge=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(E=new fY(g)).imgData,w=E.bits,C=E.colorSpace,P=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){F=(U=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,le=new Uint8Array(F*E.colors),re=new Uint8Array(F);var te,V=E.pixelBitlength-E.bits;for(G=0,$=0;G<F;G++){for(N=U[G],te=0;te<V;)le[$++]=N>>>te&255,te+=E.bits;re[G]=N>>>te&255}}if(E.bits===16){F=(U=new Uint32Array(E.decodePixels().buffer)).length,le=new Uint8Array(F*(32/E.pixelBitlength)*E.colors),re=new Uint8Array(F*(32/E.pixelBitlength)),O=E.colors>1,G=0,$=0;for(var ne=0;G<F;)N=U[G++],le[$++]=N>>>0&255,O&&(le[$++]=N>>>16&255,N=U[G++],le[$++]=N>>>0&255),re[ne++]=N>>>16&255;w=8}_!==n.image_compression.NONE&&e()?(g=t(le,E.width*E.colors,E.colors,_),Q=t(re,E.width,1,_)):(g=le,Q=re,ge=void 0)}if(E.colorType===3&&(C=this.color_spaces.INDEXED,H=E.palette,E.transparency.indexed)){var fe=E.transparency.indexed,Te=0;for(G=0,F=fe.length;G<F;++G)Te+=fe[G];if((Te/=255)===F-1&&fe.indexOf(0)!==-1)T=[fe.indexOf(0)];else if(Te!==F){for(U=E.decodePixels(),re=new Uint8Array(U.length),G=0,F=U.length;G<F;G++)re[G]=fe[U[G]];Q=t(re,E.width,1)}}var D=function(L){var B;switch(L){case n.image_compression.FAST:B=11;break;case n.image_compression.MEDIUM:B=13;break;case n.image_compression.SLOW:B=14;break;default:B=12}return B}(_);return ge===this.decode.FLATE_DECODE&&(W="/Predictor "+D+" "),W+="/Colors "+P+" /BitsPerComponent "+w+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:y,data:g,index:f,filter:ge,decodeParameters:W,transparency:T,palette:H,sMask:Q,predictor:D,width:E.width,height:E.height,bitsPerComponent:w,colorSpace:C}}}})(ct.API),function(n){n.processGIF89A=function(e,t,r,i){var o=new pY(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new A3(100).encode(c,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A}(ct.API),is.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},is.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){wn.log("bit decode error:"+t)}},is.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},is.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},is.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},is.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=n}},is.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,d=i*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=n}},is.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},is.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},is.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var o=new is(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new A3(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ct.API),nO.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var o=new nO(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new A3(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ct.API),ct.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c],h=r[c+1],g=r[c+2],f=r[c+3];o[a++]=d,o[a++]=h,o[a++]=g,s[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ct.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wh=ct.API,F2=wh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=e.doKerning!==!1,g=0,f=n.length,y=0,_=a[0]||l,C=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(g=h&&pn(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/d:0,C.push((a[r]||_)/l+g)),y=r;return C},QN=wh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return wh.processArabic&&(n=wh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:F2.apply(this,arguments).reduce(function(o,s){return o+s},0)},JN=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},eO=function(n,e,t){t||(t={});var r,i,o,s,a,l,c,d=[],h=[d],g=t.textIndent||0,f=0,y=0,_=n.split(" "),C=F2.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var w=Array(l).join(" "),E=[];_.map(function(P){(P=P.split(/\s*\n/)).length>1?E=E.concat(P.map(function(H,Q){return(Q&&H.length?`
`:"")+H})):E.push(P[0])}),_=E,l=QN.apply(this,[w,t])}for(o=0,s=_.length;o<s;o++){var T=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),T=1),g+f+(y=(i=F2.apply(this,[r,t])).reduce(function(P,H){return P+H},0))>e||T){if(y>e){for(a=JN.apply(this,[r,i,e-(g+f),e]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);y=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(P,H){return P+H},0)}else d=[r];h.push(d),g=y+l,f=C}else d.push(r),g+=f+y,f=C}return c=l?function(P,H){return(H?w:"")+P.join(" ")}:function(P){return P.join(" ")},h.map(c)},wh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(eO.apply(this,[r[a],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(h){return"0x"+parseInt(h,10).toString(16)},s=n.__fontmetrics__.compress=function(h){var g,f,y,_,C=["{"];for(var w in h){if(g=h[w],isNaN(parseInt(w,10))?f="'"+w+"'":(w=parseInt(w,10),f=(f=o(w).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof g=="number")g<0?(y=o(g).slice(3),_="-"):(y=o(g).slice(2),_=""),y=_+y.slice(0,-1)+r[y.slice(-1)];else{if(pn(g)!=="object")throw new Error("Don't know what to do with value type "+pn(g)+".");y=s(g)}C.push(f+y)}return C.push("}"),C.join("")},a=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,f,y,_,C={},w=1,E=C,T=[],P="",H="",Q=h.length-1,U=1;U<Q;U+=1)(_=h[U])=="'"?g?(y=g.join(""),g=void 0):g=[]:g?g.push(_):_=="{"?(T.push([E,y]),E={},y=void 0):_=="}"?((f=T.pop())[0][f[1]]=E,y=void 0,E=f[0]):_=="-"?w=-1:y===void 0?t.hasOwnProperty(_)?(P+=t[_],y=parseInt(P,16)*w,w=1,P=""):P+=_:t.hasOwnProperty(_)?(H+=t[_],E[y]=parseInt(H,16)*w,w=1,y=void 0,H=""):H+=_;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var g=h.font,f=d.Unicode[g.postScriptName];f&&(g.metadata.Unicode={},g.metadata.Unicode.widths=f.widths,g.metadata.Unicode.kerning=f.kerning);var y=c.Unicode[g.postScriptName];y&&(g.metadata.Unicode.encoding=y,g.encoding=y.codePages[0])}])}(ct.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(_g(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ct),function(n){function e(){return(pt.canvg?Promise.resolve(pt.canvg):import("./chunk-KBHBTWUQ.js")).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ct.API.addSvgAsImage=function(t,r,i,o,s,a,l,c){if(isNaN(r)||isNaN(i))throw wn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw wn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(y){return y.fromString(h,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(g)}).then(function(){f.addImage(d.toDataURL("image/jpeg",1),r,i,o,s,l,c)})}}(),ct.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},ct.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,h=0;function g(y,_){var C,w=!1;for(C=0;C<y.length;C+=1)y[C]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(pn(n)==="object"){for(i in n)if(o=n[i],g(a,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&g(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,_=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?_.push("/"+y+" /"+t[y].value):_.push("/"+y+" "+t[y].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,g=o.length;h<g;++h){if(a=s.metadata.characterToGlyph(o.charCodeAt(h)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(o){var s,a,l,c,d,h,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,g=(a=Object.keys(o).sort(function(f,y){return f-y})).length;h<g;h++)s=a[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",y=0;y<g.length;y++)f+=String.fromCharCode(g[y]);var _=c();d({data:f,addLength1:!0,objectId:_}),l("endobj");var C=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Eh(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Eh(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+Eh(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,g="",f=0;f<h.length;f++)g+=String.fromCharCode(h[f]);var y=c();d({data:g,addLength1:!0,objectId:y}),l("endobj");var _=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var C=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Eh(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Eh(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},h=o.mutex||{},g=h.pdfEscape,f=h.activeFontKey,y=h.fonts,_=f,C="",w=0,E="",T=y[_].encoding;if(y[_].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:h};for(E=a,_=f,Array.isArray(a)&&(E=a[0]),w=0;w<E.length;w+=1)y[_].metadata.hasOwnProperty("cmap")&&(s=y[_].metadata.cmap.unicode.codeMap[E[w].charCodeAt(0)]),s||E[w].charCodeAt(0)<256&&y[_].metadata.hasOwnProperty("Unicode")?C+=E[w]:C+="";var P="";return parseInt(_.slice(1))<14||T==="WinAnsiEncoding"?P=g(C,_).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(P=t(C,y[_])),h.isHex=!0,{text:P,x:l,y:c,options:d,mutex:h}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(ct),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ct.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,d,h=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,T=0;this.__bidiEngine__={};var P=function(O){var N=O.charCodeAt(),G=N>>8,$=_[G];return $!==void 0?h[256*$+(255&N)]:G===252||G===253?"AL":w.test(G)?"L":G===8?"R":"N"},H=function(O){for(var N,G=0;G<O.length;G++){if((N=P(O.charAt(G)))==="L")return!1;if(N==="R")return!0}return!1},Q=function(O,N,G,$){var ge,W,te,V,ne=N[$];switch(ne){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(ne="AN");break;case"AL":E=!0,ne="R";break;case"WS":ne="N";break;case"CS":$<1||$+1>=N.length||(ge=G[$-1])!=="EN"&&ge!=="AN"||(W=N[$+1])!=="EN"&&W!=="AN"?ne="N":E&&(W="AN"),ne=W===ge?W:"N";break;case"ES":ne=(ge=$>0?G[$-1]:"B")==="EN"&&$+1<N.length&&N[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&G[$-1]==="EN"){ne="EN";break}if(E){ne="N";break}for(te=$+1,V=N.length;te<V&&N[te]==="ET";)te++;ne=te<V&&N[te]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(V=N.length,te=$+1;te<V&&N[te]==="NSM";)te++;if(te<V){var fe=O[$],Te=fe>=1425&&fe<=2303||fe===64286;if(ge=N[te],Te&&(ge==="R"||ge==="AL")){ne="R";break}}}ne=$<1||(ge=N[$-1])==="B"?"N":G[$-1];break;case"B":E=!1,i=!0,ne=T;break;case"S":o=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":ne="N"}return ne},U=function(O,N,G){var $=O.split("");return G&&F($,G,{hiLevel:T}),$.reverse(),N&&N.reverse(),$.join("")},F=function(O,N,G){var $,ge,W,te,V,ne=-1,fe=O.length,Te=0,D=[],L=T?f:g,B=[];for(E=!1,i=!1,o=!1,ge=0;ge<fe;ge++)B[ge]=P(O[ge]);for(W=0;W<fe;W++){if(V=Te,D[W]=Q(O,B,D,W),$=240&(Te=L[V][y[D[W]]]),Te&=15,N[W]=te=L[Te][5],$>0)if($===16){for(ge=ne;ge<W;ge++)N[ge]=1;ne=-1}else ne=-1;if(L[Te][6])ne===-1&&(ne=W);else if(ne>-1){for(ge=ne;ge<W;ge++)N[ge]=te;ne=-1}B[W]==="B"&&(N[W]=0),G.hiLevel|=te}o&&function(Y,ie,ue){for(var me=0;me<ue;me++)if(Y[me]==="S"){ie[me]=T;for(var pe=me-1;pe>=0&&Y[pe]==="WS";pe--)ie[pe]=T}}(B,N,fe)},re=function(O,N,G,$,ge){if(!(ge.hiLevel<O)){if(O===1&&T===1&&!i)return N.reverse(),void(G&&G.reverse());for(var W,te,V,ne,fe=N.length,Te=0;Te<fe;){if($[Te]>=O){for(V=Te+1;V<fe&&$[V]>=O;)V++;for(ne=Te,te=V-1;ne<te;ne++,te--)W=N[ne],N[ne]=N[te],N[te]=W,G&&(W=G[ne],G[ne]=G[te],G[te]=W);Te=V}Te++}}},le=function(O,N,G){var $=O.split(""),ge={hiLevel:T};return G||(G=[]),F($,G,ge),function(W,te,V){if(V.hiLevel!==0&&d)for(var ne,fe=0;fe<W.length;fe++)te[fe]===1&&(ne=C.indexOf(W[fe]))>=0&&(W[fe]=C[ne+1])}($,G,ge),re(2,$,N,G,ge),re(1,$,N,G,ge),$.join("")};return this.__bidiEngine__.doBidiReorder=function(O,N,G){if(function(ge,W){if(W)for(var te=0;te<ge.length;te++)W[te]=te;a===void 0&&(a=H(ge)),c===void 0&&(c=H(ge))}(O,N),s||!l||c)if(s&&l&&a^c)T=a?1:0,O=U(O,N,G);else if(!s&&l&&c)T=a?1:0,O=le(O,N,G),O=U(O,N);else if(!s||a||l||c){if(s&&!l&&a^c)O=U(O,N),a?(T=0,O=le(O,N,G)):(T=1,O=le(O,N,G),O=U(O,N));else if(s&&a&&!l&&c)T=1,O=le(O,N,G),O=U(O,N);else if(!s&&!l&&a^c){var $=d;a?(T=1,O=le(O,N,G),T=0,d=!1,O=le(O,N,G),d=$):(T=0,O=le(O,N,G),O=U(O,N),T=1,d=!1,O=le(O,N,G),d=$,O=U(O,N))}}else T=0,O=le(O,N,G);else T=a?1:0,O=le(O,N,G);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,l=O.isOutputVisual,a=O.isInputRtl,c=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Kl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new IY(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new gY(this.contents),this.head=new vY(this),this.name=new CY(this),this.cmap=new pO(this),this.toUnicode={},this.hhea=new yY(this),this.maxp=new EY(this),this.hmtx=new SY(this),this.post=new bY(this),this.os2=new _Y(this),this.loca=new AY(this),this.glyf=new xY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var ss,Kl=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),gY=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,s,a,l,c,d,h,g,f,y,_;for(_ in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),s=Math.floor(h/l),d=16*f-h,(i=new Kl).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(s),i.writeShort(d),o=16*f,c=i.pos+o,a=null,y=[],t)for(g=t[_],i.writeString(_),i.writeInt(n(g)),i.writeInt(c),i.writeInt(g.length),y=y.concat(g),_==="head"&&(a=c),c+=g.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=gO.call(t);t.length%4;)t.push(0);for(o=new Kl(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),mY={}.hasOwnProperty,Gs=function(n,e){for(var t in e)mY.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ss=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var vY=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Kl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),rO=function(){function n(e,t){var r,i,o,s,a,l,c,d,h,g,f,y,_,C,w,E,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),g=f/2,e.pos+=6,o=function(){var P,H;for(H=[],l=P=0;0<=g?P<g:P>g;l=0<=g?++P:--P)H.push(e.readUInt16());return H}(),e.pos+=2,_=function(){var P,H;for(H=[],l=P=0;0<=g?P<g:P>g;l=0<=g?++P:--P)H.push(e.readUInt16());return H}(),c=function(){var P,H;for(H=[],l=P=0;0<=g?P<g:P>g;l=0<=g?++P:--P)H.push(e.readUInt16());return H}(),d=function(){var P,H;for(H=[],l=P=0;0<=g?P<g:P>g;l=0<=g?++P:--P)H.push(e.readUInt16());return H}(),i=(this.length-e.pos+this.offset)/2,a=function(){var P,H;for(H=[],l=P=0;0<=i?P<i:P>i;l=0<=i?++P:--P)H.push(e.readUInt16());return H}(),l=w=0,T=o.length;w<T;l=++w)for(C=o[l],r=E=y=_[l];y<=C?E<=C:E>=C;r=y<=C?++E:--E)d[l]===0?s=r+c[l]:(s=a[d[l]/2+(r-y)-(g-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=h}return n.encode=function(e,t){var r,i,o,s,a,l,c,d,h,g,f,y,_,C,w,E,T,P,H,Q,U,F,re,le,O,N,G,$,ge,W,te,V,ne,fe,Te,D,L,B,Y,ie,ue,me,pe,Oe,Pe,He;switch($=new Kl,s=Object.keys(e).sort(function(Ue,dt){return Ue-dt}),t){case"macroman":for(_=0,C=function(){var Ue=[];for(y=0;y<256;++y)Ue.push(0);return Ue}(),E={0:0},o={},ge=0,ne=s.length;ge<ne;ge++)E[pe=e[i=s[ge]]]==null&&(E[pe]=++_),o[i]={old:e[i],new:E[e[i]]},C[i]=E[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(C),{charMap:o,subtable:$.data,maxGlyphID:_+1};case"unicode":for(N=[],h=[],T=0,E={},r={},w=c=null,W=0,fe=s.length;W<fe;W++)E[H=e[i=s[W]]]==null&&(E[H]=++T),r[i]={old:H,new:E[H]},a=E[H]-i,w!=null&&a===c||(w&&h.push(w),N.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),N.push(65535),le=2*(re=N.length),F=2*Math.pow(Math.log(re)/Math.LN2,2),g=Math.log(F/2)/Math.LN2,U=2*re-F,l=[],Q=[],f=[],y=te=0,Te=N.length;te<Te;y=++te){if(O=N[y],d=h[y],O===65535){l.push(0),Q.push(0);break}if(O-(G=r[O].new)>=32768)for(l.push(0),Q.push(2*(f.length+re-y)),i=V=O;O<=d?V<=d:V>=d;i=O<=d?++V:--V)f.push(r[i].new);else l.push(G-O),Q.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*re+2*f.length),$.writeUInt16(0),$.writeUInt16(le),$.writeUInt16(F),$.writeUInt16(g),$.writeUInt16(U),ue=0,D=h.length;ue<D;ue++)i=h[ue],$.writeUInt16(i);for($.writeUInt16(0),me=0,L=N.length;me<L;me++)i=N[me],$.writeUInt16(i);for(Oe=0,B=l.length;Oe<B;Oe++)a=l[Oe],$.writeUInt16(a);for(Pe=0,Y=Q.length;Pe<Y;Pe++)P=Q[Pe],$.writeUInt16(P);for(He=0,ie=f.length;He<ie;He++)_=f[He],$.writeUInt16(_);return{charMap:r,subtable:$.data,maxGlyphID:T+1}}},n}(),pO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new rO(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,o;return r==null&&(r="macroman"),i=rO.encode(t,r),(o=new Kl).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),yY=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),_Y=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),bY=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),wY=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},CY=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,o,s,a,l,c,d,h,g,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=h=0,g=i.length;h<g;s=++h)o=i[s],t.pos=o.offset,d=t.readString(o.length),a=new wY(d,o),c[f=o.nameID]==null&&(c[f]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),EY=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),SY=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,o,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)h.push(t.readInt16());return h}(),this.widths=(function(){var d,h,g,f;for(f=[],d=0,h=(g=this.metrics).length;d<h;d++)s=g[d],f.push(s.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),gO=[].slice,xY=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,o,s,a,l,c,d,h,g;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(o=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Kl(r.read(o))).readShort(),d=l.readShort(),g=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=a===-1?new MY(l,d,g,c,h):new DY(l,a,d,g,c,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var o,s,a,l,c;for(a=[],s=[],l=0,c=r.length;l<c;l++)o=t[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),DY=function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),MY=function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Kl(gO.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),AY=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Gs(e,ss),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var d=new Array(4*i.length),h=0;h<i.length;++h)d[4*h+3]=255&i[h],d[4*h+2]=(65280&i[h])>>8,d[4*h+1]=(16711680&i[h])>>16,d[4*h]=(4278190080&i[h])>>24;return d},e}(),IY=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))r=l[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,s,a,l,c,d,h,g,f,y,_,C,w;for(i in r=pO.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},w=r.charMap)f[(l=w[i]).old]=l.new;for(y in g=r.maxGlyphID,s)y in f||(f[y]=g++);return d=function(E){var T,P;for(T in P={},E)P[E[T]]=T;return P}(f),h=Object.keys(d).sort(function(E,T){return E-T}),_=function(){var E,T,P;for(P=[],E=0,T=h.length;E<T;E++)a=h[E],P.push(d[a]);return P}(),o=this.font.glyf.encode(s,_,f),c=this.font.loca.encode(o.offsets,_),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();ct.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)s=t[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e}();var li={production:!0,developmentMode:!1,supabase:{url:"https://xoctvmxfsnrzaigxkjbc.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvY3R2bXhmc25yemFpZ3hramJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0MTM3MjcsImV4cCI6MjA2ODk4OTcyN30.IGCIv3O-JGty28a6fQ4Be1ZdtEIGJ04D0OEsgDfWYzk"},auth:{session:{timeout:864e5,refreshTokenBefore:36e5,rememberSession:!0,autoRefreshToken:!0},supabase:{enabled:!0,provider:"github",redirectTo:"https://psic-abelnavarro.github.io/#/callback",allowAnyAuthenticatedUser:!1,detectSessionInUrl:!0,persistSession:!0},security:{enforceHttps:!0,allowedDomains:["psic-abelnavarro.github.io","abelnavarro.com"],maxLoginAttempts:3,lockoutDuration:18e5,sessionTimeout:864e5}}};var $2=class n{isDevelopment=!li.production;log(e,...t){this.isDevelopment&&console.log(`[CertificateForm] ${e}`,...t)}warn(e,...t){this.isDevelopment&&console.warn(`[CertificateForm] ${e}`,...t)}error(e,...t){console.error(`[CertificateForm] ${e}`,...t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})};var TY=["stage"];function PY(n,e){if(n&1&&(ee(0,"option",99),q(1),ae()),n&2){let t=e.$implicit;Rt("value",t),Fe(),Mn(t)}}function NY(n,e){if(n&1){let t=Lr();ee(0,"div",60)(1,"h6"),Re(2,"i",75),q(3," Texto "),ae(),ee(4,"div",62),Re(5,"i",76),q(6," Contenido: "),ae(),ee(7,"textarea",77),As("ngModelChange",function(i){ot(t);let o=lt(2);return Ma(o.selectedElement.text,i)||(o.selectedElement.text=i),st(i)}),et("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ae(),ee(8,"div",62),Re(9,"i",78),q(10," Tama\xF1o: "),ae(),ee(11,"input",79),As("ngModelChange",function(i){ot(t);let o=lt(2);return Ma(o.selectedElement.fontSize,i)||(o.selectedElement.fontSize=i),st(i)}),et("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ae(),ee(12,"div",62),Re(13,"i",75),q(14," Fuente: "),ae(),ee(15,"select",80),As("ngModelChange",function(i){ot(t);let o=lt(2);return Ma(o.selectedElement.fontFamily,i)||(o.selectedElement.fontFamily=i),st(i)}),et("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ee(16,"option",81),q(17,"Arial"),ae(),ee(18,"option",82),q(19,"Helvetica"),ae(),ee(20,"option",83),q(21,"Times New Roman"),ae(),ee(22,"option",84),q(23,"Georgia"),ae(),ee(24,"option",85),q(25,"Verdana"),ae(),ee(26,"optgroup",86),gn(27,PY,2,2,"option",87),ae()(),ee(28,"div",62),Re(29,"i",63),q(30," Color: "),ae(),ee(31,"input",88),As("ngModelChange",function(i){ot(t);let o=lt(2);return Ma(o.selectedElement.fill,i)||(o.selectedElement.fill=i),st(i)}),et("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ae(),ee(32,"div",62),Re(33,"i",89),q(34," Estilo: "),ae(),ee(35,"select",90),As("ngModelChange",function(i){ot(t);let o=lt(2);return Ma(o.selectedElement.fontStyle,i)||(o.selectedElement.fontStyle=i),st(i)}),et("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ee(36,"option",91),q(37,"Normal"),ae(),ee(38,"option",92),q(39,"Negrita"),ae(),ee(40,"option",93),q(41,"Cursiva"),ae()(),ee(42,"div",62),Re(43,"i",94),q(44," Alineaci\xF3n: "),ae(),ee(45,"select",95),As("ngModelChange",function(i){ot(t);let o=lt(2);return Ma(o.selectedElement.align,i)||(o.selectedElement.align=i),st(i)}),et("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ee(46,"option",96),q(47,"Izquierda"),ae(),ee(48,"option",97),q(49,"Centro"),ae(),ee(50,"option",98),q(51,"Derecha"),ae()()()}if(n&2){let t=lt(2);Fe(7),Ms("ngModel",t.selectedElement.text),Fe(4),Ms("ngModel",t.selectedElement.fontSize),Fe(4),Ms("ngModel",t.selectedElement.fontFamily),Fe(12),Rt("ngForOf",t.googleFonts),Fe(4),Ms("ngModel",t.selectedElement.fill),Fe(4),Ms("ngModel",t.selectedElement.fontStyle),Fe(10),Ms("ngModel",t.selectedElement.align)}}function OY(n,e){if(n&1){let t=Lr();ee(0,"button",100),et("click",function(){ot(t);let i=lt(2);return st(i.removeBackgroundImage())}),Re(1,"i",41),q(2," Quitar "),ae()}}function kY(n,e){if(n&1&&(ee(0,"div",60)(1,"h6"),Re(2,"i",30),q(3," Imagen "),ae(),ee(4,"div",101)(5,"div",62),Re(6,"i",67),q(7," Dimensiones: "),ae(),ee(8,"p",102),q(9),Ia(10,"number"),Ia(11,"number"),ae()()()),n&2){let t=lt(2);Fe(9),Ml(" ",Ta(10,2,t.selectedElement==null?null:t.selectedElement.width,"1.0-0")," \xD7 ",Ta(11,5,t.selectedElement==null?null:t.selectedElement.height,"1.0-0"),"px ")}}function RY(n,e){if(n&1){let t=Lr();ee(0,"div",105),et("click",function(){let i=ot(t).$implicit,o=lt(3);return st(o.selectElement(i))}),ee(1,"div",106),Re(2,"i",107),ae(),ee(3,"div",108)(4,"span",109),q(5),ae(),ee(6,"small",110),q(7),Ia(8,"number"),Ia(9,"number"),ae()(),ee(10,"button",111),et("click",function(i){let o=ot(t).$implicit,s=lt(3);return st(s.deleteElement(o.id,i))}),Re(11,"i",57),ae()()}if(n&2){let t=e.$implicit,r=lt(3);Fi("selected",(r.selectedElement==null?null:r.selectedElement.id)===t.id),Rt("title","Seleccionar "+t.type),Fe(2),Fi("fa-font",t.type==="text")("fa-image",t.type==="image"),Fe(3),Mr(" ",t.type==="text"?t.text||"Sin texto":"Imagen"," "),Fe(2),Ml(" ",Ta(8,10,t.x,"1.0-0"),", ",Ta(9,13,t.y,"1.0-0")," ")}}function LY(n,e){if(n&1&&(ee(0,"div",103),gn(1,RY,12,16,"div",104),ae()),n&2){let t=lt(2);Fe(),Rt("ngForOf",t.elements)}}function FY(n,e){n&1&&(ee(0,"div",112),Re(1,"i",113)(2,"br"),ee(3,"span"),q(4,"Sin elementos"),ae(),Re(5,"br"),ee(6,"small"),q(7,"Agregue contenido"),ae()())}function jY(n,e){if(n&1){let t=Lr();ee(0,"div",53)(1,"div",54)(2,"h6"),Re(3,"i",55),q(4," Propiedades "),ae(),ee(5,"button",56),et("click",function(){ot(t);let i=lt();return st(i.showProperties=!1)}),Re(6,"i",57),ae()(),ee(7,"div",58),gn(8,NY,52,7,"div",59),ee(9,"div",60)(10,"h6"),Re(11,"i",61),q(12," Fondo "),ae(),ee(13,"div",62),Re(14,"i",63),q(15," Color: "),ae(),ee(16,"input",64),As("ngModelChange",function(i){ot(t);let o=lt();return Ma(o.backgroundColor,i)||(o.backgroundColor=i),st(i)}),et("change",function(){ot(t);let i=lt();return st(i.changeBackgroundColor(i.backgroundColor))}),ae(),ee(17,"div",62),Re(18,"i",30),q(19," Imagen: "),ae(),ee(20,"input",65,2),et("change",function(i){ot(t);let o=lt();return st(o.onBackgroundImageChange(i))}),ae(),gn(22,OY,3,0,"button",66),ae(),gn(23,kY,12,8,"div",59),ee(24,"div",60)(25,"h6"),Re(26,"i",67),q(27," Lienzo "),ae(),ee(28,"div",68)(29,"div",69),Re(30,"i",70),ee(31,"span"),q(32),ae()(),ee(33,"div",69),Re(34,"i",71),ee(35,"span"),q(36),ae()(),ee(37,"div",69),Re(38,"i",72),ee(39,"span"),q(40),ae()()()(),ee(41,"div",60)(42,"h6"),Re(43,"i",73),q(44),ae(),gn(45,LY,2,1,"div",74)(46,FY,8,0,"ng-template",null,3,bC),ae()()()}if(n&2){let t=j1(47),r=lt();Fe(8),Rt("ngIf",(r.selectedElement==null?null:r.selectedElement.type)==="text"),Fe(8),Ms("ngModel",r.backgroundColor),Fe(6),Rt("ngIf",r.backgroundImage),Fe(),Rt("ngIf",(r.selectedElement==null?null:r.selectedElement.type)==="image"),Fe(9),Ml("",r.canvasWidth," \xD7 ",r.canvasHeight,"px"),Fe(4),Mn(r.orientation==="horizontal"?"Horizontal":"Vertical"),Fe(4),Mr("",r.getZoomPercentage(),"%"),Fe(4),Mr(" Elementos (",r.elements.length,") "),Fe(),Rt("ngIf",r.elements.length>0)("ngIfElse",t)}}var G2={width:1123,height:870,gridSize:20,pixelRatio:3,exportQuality:1},mO={min:.2,max:2,step:.1,default:.8},BY=["Open Sans","Roboto","Lato","Montserrat","Oswald","Source Sans Pro","Raleway","PT Sans","Ubuntu","Merriweather","Dancing Script"],UY=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VY=10*1024*1024,vO={enabledAnchors:["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],borderStroke:"#4285f4",borderStrokeWidth:2,anchorStroke:"#4285f4",anchorFill:"#ffffff",anchorSize:8},W2=class n{constructor(e){this.cdr=e}stageRef;stage;layer;gridLayer;transformer;canvasConfig=G2;zoomConfig=mO;googleFonts=BY;supportedImageTypes=UY;canvasWidth=G2.width;canvasHeight=G2.height;showGrid=!0;backgroundColor="#ffffff";backgroundImage=null;orientation="horizontal";zoomLevel=mO.default;selectedElement=null;elements=[];showProperties=!0;showTemplatesMenu=!1;templates=[];imageCache=new Map;isDestroyed=!1;logger=Ee($2);onDocumentClick(e){e.target.closest(".dropdown")||(this.showTemplatesMenu=!1)}updateCanvasDimensions(){this.orientation==="horizontal"?(this.canvasWidth=this.canvasConfig.width,this.canvasHeight=this.canvasConfig.height):(this.canvasWidth=this.canvasConfig.height,this.canvasHeight=this.canvasConfig.width)}changeOrientation(e){this.orientation!==e&&(this.logger.log("Cambiando orientaci\xF3n de",this.orientation,"a",e),this.orientation=e,this.updateCanvasDimensions(),this.logger.log("Nuevas dimensiones:",this.canvasWidth,"x",this.canvasHeight),this.stage.width(this.canvasWidth*this.zoomLevel),this.stage.height(this.canvasHeight*this.zoomLevel),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.drawGrid(),this.layer.batchDraw(),this.logger.log("Orientaci\xF3n cambiada exitosamente"))}loadGoogleFonts(){typeof WebFont>"u"||WebFont.load({google:{families:[...this.googleFonts]},active:()=>{this.cdr.detectChanges()},inactive:()=>{this.logger.warn("No se pudieron cargar las fuentes de Google")}})}initCanvas(){this.updateCanvasDimensions(),this.stage=new xi.default.Stage({container:this.stageRef.nativeElement,width:this.canvasWidth*this.zoomLevel,height:this.canvasHeight*this.zoomLevel}),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.gridLayer=new xi.default.Layer,this.stage.add(this.gridLayer),this.layer=new xi.default.Layer,this.stage.add(this.layer),this.createTransformer(),this.drawGrid(),this.setupEventHandlers()}createTransformer(){this.transformer=new xi.default.Transformer(vt(Me({},vO),{enabledAnchors:[...vO.enabledAnchors]})),this.layer.add(this.transformer),this.transformer.moveToTop()}setupEventHandlers(){this.stage.on("click tap",e=>{let t=e.target;(t===this.stage||t.getParent()===this.gridLayer||t.name()==="background-image")&&this.deselectAll()}),this.stage.on("click",e=>{let t=e.target;t.draggable&&t.draggable()&&(e.cancelBubble=!0)})}drawGrid(){if(!this.showGrid){this.gridLayer.destroyChildren(),this.gridLayer.batchDraw();return}this.gridLayer.destroyChildren();let e=G2.gridSize,t=this.canvasWidth,r=this.canvasHeight;for(let i=0;i<=t/e;i++){let o=new xi.default.Line({points:[i*e,0,i*e,r],stroke:"#ddd",strokeWidth:.5,listening:!1});this.gridLayer.add(o)}for(let i=0;i<=r/e;i++){let o=new xi.default.Line({points:[0,i*e,t,i*e],stroke:"#ddd",strokeWidth:.5,listening:!1});this.gridLayer.add(o)}this.gridLayer.batchDraw()}toggleGrid(){this.showGrid=!this.showGrid,this.drawGrid()}changeBackgroundColor(e){this.backgroundColor=e,this.stage.container().style.backgroundColor=e}onBackgroundImageChange(e){let t=e.target.files[0];if(t){this.logger.log("Cambiando imagen de fondo:",t.name);let r=new FileReader;r.onload=i=>{xi.default.Image.fromURL(i.target.result,o=>{let s=o.image();this.backgroundImage=s,this.setBackgroundImage(s)},o=>{console.error("Error al cargar imagen de fondo:",o);let s=new HTMLImageElement;s.crossOrigin="anonymous",s.onload=()=>{this.backgroundImage=s,this.setBackgroundImage(s)},s.onerror=()=>{console.error("Error al cargar imagen de fondo con fallback"),alert("Error al cargar la imagen de fondo")},s.src=i.target.result})},r.readAsDataURL(t)}e.target.value=""}setBackgroundImage(e){this.logger.log("Estableciendo imagen de fondo"),this.layer.find(".background-image").forEach(r=>r.destroy());let t=new xi.default.Image({image:e,width:this.canvasWidth,height:this.canvasHeight,listening:!1,name:"background-image"});this.layer.add(t),t.moveToBottom(),this.transformer&&this.transformer.moveToTop(),this.layer.batchDraw(),this.logger.log("Imagen de fondo establecida y canvas redibujado")}removeBackgroundImage(){this.backgroundImage=null,this.layer.find(".background-image").forEach(e=>e.destroy()),this.layer.batchDraw()}selectTool(e){this.deselectAll()}addText(){let e={id:this.generateId(),type:"text",x:100,y:100,text:"Nuevo texto",fontSize:24,fontFamily:"Arial",fill:"#000000",fontStyle:"normal",textDecoration:"",align:"left"};this.elements.push(e),this.createTextElement(e)}createTextElement(e){let t=new xi.default.Text({id:e.id,x:e.x,y:e.y,text:e.text||"",fontSize:e.fontSize||24,fontFamily:e.fontFamily||"Arial",fill:e.fill||"#000000",fontStyle:e.fontStyle||"normal",textDecoration:e.textDecoration||"",align:e.align||"left",draggable:!0});t.on("click",()=>{this.selectElement(e)}),t.on("transform",()=>{this.updateElementFromNode(t,e)}),t.on("dragend",()=>{this.updateElementFromNode(t,e)}),this.layer.add(t),this.layer.batchDraw()}zoomIn(){this.zoomLevel<this.zoomConfig.max&&(this.zoomLevel=Math.min(this.zoomLevel+this.zoomConfig.step,this.zoomConfig.max),this.updateZoom())}zoomOut(){this.zoomLevel>this.zoomConfig.min&&(this.zoomLevel=Math.max(this.zoomLevel-this.zoomConfig.step,this.zoomConfig.min),this.updateZoom())}zoomReset(){this.zoomLevel=this.zoomConfig.default,this.updateZoom()}zoomFit(){let e=this.stageRef.nativeElement.parentElement;if(e){let t=e.clientWidth-40,r=e.clientHeight-40,i=t/this.canvasWidth,o=r/this.canvasHeight;this.zoomLevel=Math.min(i,o,this.zoomConfig.max),this.updateZoom()}}updateZoom(){this.stage.width(this.canvasWidth*this.zoomLevel),this.stage.height(this.canvasHeight*this.zoomLevel),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.stage.batchDraw()}getZoomPercentage(){return Math.round(this.zoomLevel*100)}onZoomSliderChange(e){let t=e.target,r=parseFloat(t.value)/100;this.zoomLevel=Math.max(this.zoomConfig.min,Math.min(r,this.zoomConfig.max)),this.updateZoom()}onZoomWheel(e){e.preventDefault();let t=e.deltaY>0?-this.zoomConfig.step:this.zoomConfig.step,r=this.zoomLevel+t;this.zoomLevel=Math.max(this.zoomConfig.min,Math.min(r,this.zoomConfig.max)),this.updateZoom()}onImageUpload(e){let t=e.target,r=t.files?.[0];if(!r)return;if(!this.supportedImageTypes.includes(r.type)){alert("Tipo de archivo no soportado. Por favor use: JPEG, PNG, GIF o WebP"),t.value="";return}if(r.size>VY){alert("El archivo es demasiado grande. Tama\xF1o m\xE1ximo: 10MB"),t.value="";return}this.logger.log("Archivo seleccionado:",r.name,r.type,r.size);let i=new FileReader;i.onload=o=>{let s=o.target?.result;s&&(this.logger.log("FileReader completado"),xi.default.Image.fromURL(s,a=>{this.logger.log("Imagen cargada exitosamente con Konva.Image.fromURL");let l=a.image();this.addImage(l,a)},a=>{console.error("Error al cargar imagen con Konva.Image.fromURL:",a),this.loadImageWithFallback(s)}))},i.onerror=o=>{console.error("Error al leer archivo:",o),alert("Error al leer el archivo de imagen")},i.readAsDataURL(r),t.value=""}loadImageWithFallback(e){let t=new HTMLImageElement;t.crossOrigin="anonymous",t.onload=()=>{this.logger.log("Imagen cargada con m\xE9todo fallback"),this.addImage(t)},t.onerror=r=>{console.error("Error al cargar imagen:",r),alert("Error al cargar la imagen. Por favor, intente con otra imagen.")},t.src=e}addImage(e,t){this.logger.log("Agregando imagen al canvas");let r=300,i=300,o=e.width,s=e.height;o>r&&(s=s*r/o,o=r),s>i&&(o=o*i/s,s=i);let a={id:this.generateId(),type:"image",x:50,y:50,width:o,height:s,src:e.src};this.elements.push(a),t?this.createImageElementFromKonva(a,t):this.createImageElement(a,e),setTimeout(()=>{this.selectElement(a)},100)}createImageElementFromKonva(e,t){this.logger.log("Creando elemento imagen desde nodo Konva");let r=t.clone({id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,draggable:!0});r.on("click",()=>{this.selectElement(e)}),r.on("transform",()=>{this.updateElementFromNode(r,e)}),r.on("dragend",()=>{this.updateElementFromNode(r,e)}),this.layer.add(r),this.layer.draw(),this.logger.log("Imagen agregada al layer y dibujada")}createImageElement(e,t){this.logger.log("Creando elemento imagen tradicional");let r=()=>{let i=new xi.default.Image({id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,image:t,draggable:!0});i.on("click",()=>{this.selectElement(e)}),i.on("transform",()=>{this.updateElementFromNode(i,e)}),i.on("dragend",()=>{this.updateElementFromNode(i,e)}),this.layer.add(i),this.layer.batchDraw(),this.logger.log("Imagen agregada al layer y dibujada")};t.complete&&t.naturalHeight!==0?r():(t.onload=()=>{r()},t.onerror=()=>{console.error("Error al cargar imagen en createImageElement"),alert("Error al procesar la imagen")})}selectElement(e){this.selectedElement=e;let t=this.stage.findOne("#"+e.id);if(!t?.getParent()?.getLayer()){this.logger.warn("Node not found or invalid for element:",e.id),this.deselectAll();return}try{this.ensureTransformerReady(),this.transformer.nodes([]),this.transformer.nodes([t]),this.transformer.moveToTop(),this.layer.batchDraw()}catch(r){console.error("Error applying transformer:",r),this.handleTransformerError(t)}}ensureTransformerReady(){this.transformer?.getParent()||this.recreateTransformer()}handleTransformerError(e){try{this.recreateTransformer(),setTimeout(()=>{try{e?.getParent()&&(this.transformer.nodes([e]),this.transformer.moveToTop(),this.layer.batchDraw())}catch(t){console.error("Error after recreating transformer:",t),this.deselectAll()}},0)}catch(t){console.error("Error in handleTransformerError:",t),this.deselectAll()}}recreateTransformer(){if(this.transformer)try{this.transformer.nodes([]),this.transformer.remove(),this.transformer.destroy()}catch(e){this.logger.warn("Error destroying old transformer:",e)}this.createTransformer(),this.layer.batchDraw()}deselectAll(){this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(e){console.error("Error deselecting elements:",e),this.recreateTransformer()}}updateElementFromNode(e,t){try{if(t.x=e.x(),t.y=e.y(),t.rotation=e.rotation(),t.scaleX=e.scaleX(),t.scaleY=e.scaleY(),t.type==="text"){let r=e;t.width=r.width()*r.scaleX(),t.height=r.height()*r.scaleY()}else if(t.type==="image"){let r=e;t.width=r.width()*r.scaleX(),t.height=r.height()*r.scaleY()}}catch(r){console.error("Error updating element from node:",r)}}updateSelectedElement(){if(!this.selectedElement)return;let e=this.stage.findOne("#"+this.selectedElement.id);if(e){if(this.selectedElement.type==="text"){let t=e;t.text(this.selectedElement.text||""),t.fontSize(this.selectedElement.fontSize||24),t.fontFamily(this.selectedElement.fontFamily||"Arial"),t.fill(this.selectedElement.fill||"#000000"),t.fontStyle(this.selectedElement.fontStyle||"normal"),t.textDecoration(this.selectedElement.textDecoration||""),t.align(this.selectedElement.align||"left")}this.layer.batchDraw()}}deleteSelected(){if(!this.selectedElement)return;this.stage.findOne("#"+this.selectedElement.id)?.destroy(),this.elements=this.elements.filter(t=>t.id!==this.selectedElement.id),this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(t){console.error("Error clearing transformer after delete:",t),this.recreateTransformer()}}deleteElement(e,t){if(t.stopPropagation(),this.stage.findOne("#"+e)?.destroy(),this.elements=this.elements.filter(i=>i.id!==e),this.selectedElement?.id===e){this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(i){console.error("Error clearing transformer after element delete:",i),this.recreateTransformer()}}this.layer.batchDraw()}clearCanvas(){this.elements=[],this.selectedElement=null,this.backgroundImage=null,this.layer.destroyChildren(),this.recreateTransformer(),this.layer.batchDraw()}exportToPNG(){this.hideTransformerForExport();let e=this.stage.toDataURL({mimeType:"image/png",quality:this.canvasConfig.exportQuality,pixelRatio:this.canvasConfig.pixelRatio});this.showTransformerAfterExport(),this.downloadFile(e,"certificate.png")}exportToPDF(){this.hideTransformerForExport();let e=this.stage.toDataURL({mimeType:"image/png",quality:this.canvasConfig.exportQuality,pixelRatio:4}),t=new ct({orientation:this.canvasWidth>this.canvasHeight?"landscape":"portrait",unit:"mm",format:"a4",putOnlyUsedFonts:!0,floatPrecision:16}),r=this.canvasWidth>this.canvasHeight?297:210,i=this.canvasWidth>this.canvasHeight?210:297;t.addImage(e,"PNG",0,0,r,i,void 0,"FAST"),t.save("certificate.pdf"),this.showTransformerAfterExport()}hideTransformerForExport(){try{this.transformer?.hide(),this.layer.batchDraw()}catch(e){this.logger.warn("Error hiding transformer for export:",e)}}showTransformerAfterExport(){try{this.transformer?.show(),this.layer.batchDraw()}catch(e){this.logger.warn("Error showing transformer after export:",e)}}downloadFile(e,t){let r=document.createElement("a");r.download=t,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}initializeTemplates(){return se(this,null,function*(){try{let e=yield fetch("/templates/templates.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let t=yield e.json();this.templates=t.templates||[],this.logger.log("Plantillas cargadas exitosamente:",this.templates.length)}catch(e){console.error("Error cargando plantillas:",e),this.logger.error("Error cargando plantillas desde JSON:",e),this.loadDefaultTemplates()}})}loadDefaultTemplates(){this.templates=[{id:"participacion",name:"Certificado de Participaci\xF3n",description:"Certificado general de participaci\xF3n en eventos",backgroundImage:"/plantilla/plantilla1.jpeg",elements:[{type:"text",x:this.canvasWidth/2,y:200,text:"CERTIFICADO DE PARTICIPACI\xD3N",fontSize:48,fontFamily:"Montserrat",fill:"#2c3e50",fontStyle:"bold",align:"center"}]}],this.logger.warn("Usando plantillas por defecto debido a error en carga")}toggleTemplatesMenu(){this.showTemplatesMenu=!this.showTemplatesMenu}applyTemplate(e){let t=this.templates.find(r=>r.id===e);t&&(this.showTemplatesMenu=!1,this.clearCanvas(),this.loadTemplateBackground(t.backgroundImage),t.elements.forEach(r=>{this.addTemplateElement(r)}),this.layer.batchDraw(),this.cdr.detectChanges())}loadTemplateBackground(e){let t=new Image;t.onload=()=>{this.backgroundImage=t,this.setBackgroundImage(t)},t.onerror=()=>{console.error("Error loading template background:",e)},t.src=e}addTemplateElement(e){let t=this.generateId(),r=vt(Me({},e),{id:t});this.elements.push(r),e.type==="text"?this.addTextElementToCanvas(r):e.type==="image"&&this.addImageElementToCanvas(r)}addTextElementToCanvas(e){let t=new xi.default.Text({id:e.id,x:e.x,y:e.y,text:e.text||"",fontSize:e.fontSize||24,fontFamily:e.fontFamily||"Arial",fill:e.fill||"#000000",fontStyle:e.fontStyle||"normal",textDecoration:e.textDecoration||"",align:e.align||"center",draggable:!0});t.offsetX(t.width()/2),t.offsetY(t.height()/2),t.on("click",r=>{r.cancelBubble=!0;try{this.selectElement(e)}catch(i){console.error("Error in text click handler:",i)}}),t.on("transform",()=>{try{this.updateElementFromNode(t,e)}catch(r){console.error("Error in text transform handler:",r)}}),t.on("dragend",()=>{try{this.updateElementFromNode(t,e)}catch(r){console.error("Error in text dragend handler:",r)}}),this.layer.add(t),this.layer.batchDraw()}addImageElementToCanvas(e){if(!e.src)return;let t=new Image,r=()=>{let i=new xi.default.Image({id:e.id,x:e.x,y:e.y,width:e.width||100,height:e.height||100,image:t,draggable:!0});i.on("click",o=>{o.cancelBubble=!0;try{this.selectElement(e)}catch(s){console.error("Error in image click handler:",s)}}),i.on("transform",()=>{try{this.updateElementFromNode(i,e)}catch(o){console.error("Error in image transform handler:",o)}}),i.on("dragend",()=>{try{this.updateElementFromNode(i,e)}catch(o){console.error("Error in image dragend handler:",o)}}),this.layer.add(i),this.layer.batchDraw()};t.onload=()=>{r()},t.onerror=()=>{console.error("Error loading template image:",e.src)},t.src=e.src}generateId(){return`element_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}ngOnInit(){this.loadGoogleFonts(),this.initializeTemplates(),setTimeout(()=>se(this,null,function*(){yield this.loadDefaultTemplate()}),500)}loadDefaultTemplate(){return se(this,null,function*(){this.templates.length===0&&(yield this.initializeTemplates()),this.applyTemplate("potencial-humano-360")})}ngAfterViewInit(){this.initCanvas()}ngOnDestroy(){this.isDestroyed=!0,this.cleanup()}cleanup(){this.stage&&(this.stage.off("click tap"),this.stage.off("click")),this.imageCache.clear(),this.destroyKonvaElements()}destroyKonvaElements(){try{this.transformer?.destroy(),this.layer?.destroy(),this.gridLayer?.destroy(),this.stage?.destroy()}catch(e){this.logger.warn("Error durante la limpieza de elementos Konva:",e)}}static \u0275fac=function(t){return new(t||n)(Ze(qo))};static \u0275cmp=dn({type:n,selectors:[["app-certificate-form"]],viewQuery:function(t,r){if(t&1&&_C(TY,5),t&2){let i;ep(i=tp())&&(r.stageRef=i.first)}},hostBindings:function(t,r){t&1&&et("click",function(o){return r.onDocumentClick(o)},Ww)},decls:97,vars:10,consts:[["imageInput",""],["stage",""],["bgImageInput",""],["noElements",""],[1,"certificate-editor"],[1,"toolbar"],[1,"toolbar-group"],[1,"toolbar-title"],[1,"fas","fa-certificate"],[1,"dropdown"],["type","button","id","templatesDropdown","title","Plantillas","aria-label","Plantillas",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-th-large"],["aria-labelledby","templatesDropdown",1,"dropdown-menu"],[1,"dropdown-header"],[1,"fas","fa-star","text-warning"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"fas","fa-brain","text-success"],[1,"dropdown-divider"],[1,"fas","fa-graduation-cap"],[1,"fas","fa-certificate","text-primary"],[1,"fas","fa-microphone","text-success"],[1,"fas","fa-tools"],[1,"fas","fa-hammer","text-warning"],[1,"fas","fa-graduation-cap","text-info"],[1,"fas","fa-award"],[1,"fas","fa-trophy","text-danger"],["title","Insertar texto","aria-label","Insertar texto",1,"btn","btn-primary",3,"click"],[1,"fas","fa-font",2,"font-weight","bold","font-size","1.1em"],["type","file","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp","aria-label","Seleccionar imagen",2,"display","none",3,"change"],["title","Insertar imagen","aria-label","Insertar imagen",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-image"],["title","Mostrar/ocultar cuadr\xEDcula","aria-label","Cuadr\xEDcula",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-th"],["title","Alejar","aria-label","Alejar",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-search-minus"],[1,"zoom-display-compact"],["title","Acercar","aria-label","Acercar",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-search-plus"],["title","Ajustar al tama\xF1o","aria-label","Ajustar zoom",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-expand-arrows-alt"],["title","Eliminar elemento seleccionado","aria-label","Eliminar elemento",1,"btn","btn-warning",3,"click","disabled"],[1,"fas","fa-trash-alt"],["title","Limpiar todo el lienzo","aria-label","Limpiar todo",1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-eraser"],["title","Exportar como PDF","aria-label","Exportar PDF",1,"btn","btn-success",3,"click"],[1,"fas","fa-file-pdf"],["title","Exportar como imagen PNG","aria-label","Exportar PNG",1,"btn","btn-info",3,"click"],[1,"fas","fa-file-image"],[1,"main-content"],[1,"canvas-container"],[1,"canvas-wrapper"],[1,"konva-stage"],["class","properties-panel",4,"ngIf"],[1,"properties-panel"],[1,"panel-header"],[1,"fas","fa-sliders-h"],["title","Cerrar panel","aria-label","Cerrar panel",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"panel-content"],["class","property-group",4,"ngIf"],[1,"property-group"],[1,"fas","fa-fill-drip"],[1,"form-label"],[1,"fas","fa-palette"],["type","color","title","Color de fondo","aria-label","Color de fondo",1,"form-control","color-picker",3,"ngModelChange","change","ngModel"],["type","file","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp","aria-label","Imagen de fondo",1,"form-control",3,"change"],["class","btn btn-sm btn-outline-danger mt-2","title","Quitar imagen","aria-label","Quitar imagen",3,"click",4,"ngIf"],[1,"fas","fa-info-circle"],[1,"canvas-info"],[1,"info-item"],[1,"fas","fa-arrows-alt"],[1,"fas","fa-compass"],[1,"fas","fa-search"],[1,"fas","fa-layer-group"],["class","elements-list",4,"ngIf","ngIfElse"],[1,"fas","fa-font"],[1,"fas","fa-edit"],["placeholder","Texto...","rows","3","aria-label","Contenido",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"fas","fa-text-height"],["type","number","min","8","max","200","placeholder","24","aria-label","Tama\xF1o",1,"form-control",3,"ngModelChange","ngModel"],["aria-label","Fuente",1,"form-select",3,"ngModelChange","ngModel"],["value","Arial"],["value","Helvetica"],["value","Times New Roman"],["value","Georgia"],["value","Verdana"],["label","Google Fonts"],[3,"value",4,"ngFor","ngForOf"],["type","color","aria-label","Color",1,"form-control","color-picker",3,"ngModelChange","ngModel"],[1,"fas","fa-bold"],["aria-label","Estilo",1,"form-select",3,"ngModelChange","ngModel"],["value","normal"],["value","bold"],["value","italic"],[1,"fas","fa-align-left"],["aria-label","Alineaci\xF3n del texto",1,"form-select",3,"ngModelChange","ngModel"],["value","left"],["value","center"],["value","right"],[3,"value"],["title","Quitar imagen","aria-label","Quitar imagen",1,"btn","btn-sm","btn-outline-danger","mt-2",3,"click"],[1,"image-info"],[1,"text-muted","small"],[1,"elements-list"],["class","element-item",3,"selected","title","click",4,"ngFor","ngForOf"],[1,"element-item",3,"click","title"],[1,"element-icon"],[1,"fas"],[1,"element-content"],[1,"element-name"],[1,"element-details"],["title","Eliminar","aria-label","Eliminar",1,"btn","btn-sm","btn-outline-danger","element-delete",3,"click"],[1,"text-muted","text-center","py-3"],[1,"fas","fa-inbox","fa-2x","mb-2"]],template:function(t,r){if(t&1){let i=Lr();ee(0,"div",4)(1,"div",5)(2,"div",6)(3,"h5",7),Re(4,"i",8),q(5," Editor "),ae()(),ee(6,"div",6)(7,"div",9)(8,"button",10),et("click",function(){return ot(i),st(r.toggleTemplatesMenu())}),Re(9,"i",11),ae(),ee(10,"ul",12)(11,"li")(12,"h6",13),Re(13,"i",14),q(14," Oficial "),ae()(),ee(15,"li")(16,"a",15),et("click",function(){return ot(i),st(r.applyTemplate("potencial-humano-360"))}),Re(17,"i",16),ee(18,"span"),q(19,"Potencial Humano 360"),ae()()(),ee(20,"li"),Re(21,"hr",17),ae(),ee(22,"li")(23,"h6",13),Re(24,"i",18),q(25," Participaci\xF3n "),ae()(),ee(26,"li")(27,"a",15),et("click",function(){return ot(i),st(r.applyTemplate("participacion"))}),Re(28,"i",19),ee(29,"span"),q(30,"General"),ae()()(),ee(31,"li")(32,"a",15),et("click",function(){return ot(i),st(r.applyTemplate("ponencia"))}),Re(33,"i",20),ee(34,"span"),q(35,"Ponencia"),ae()()(),ee(36,"li"),Re(37,"hr",17),ae(),ee(38,"li")(39,"h6",13),Re(40,"i",21),q(41," Talleres "),ae()(),ee(42,"li")(43,"a",15),et("click",function(){return ot(i),st(r.applyTemplate("taller"))}),Re(44,"i",22),ee(45,"span"),q(46,"Taller"),ae()()(),ee(47,"li")(48,"a",15),et("click",function(){return ot(i),st(r.applyTemplate("capacitacion"))}),Re(49,"i",23),ee(50,"span"),q(51,"Capacitaci\xF3n"),ae()()(),ee(52,"li"),Re(53,"hr",17),ae(),ee(54,"li")(55,"h6",13),Re(56,"i",24),q(57," Reconocimientos "),ae()(),ee(58,"li")(59,"a",15),et("click",function(){return ot(i),st(r.applyTemplate("reconocimiento"))}),Re(60,"i",25),ee(61,"span"),q(62,"Reconocimiento"),ae()()()()()(),ee(63,"div",6)(64,"button",26),et("click",function(){return ot(i),st(r.addText())}),Re(65,"i",27),ae(),ee(66,"input",28,0),et("change",function(s){return ot(i),st(r.onImageUpload(s))}),ae(),ee(68,"button",29),et("click",function(){ot(i);let s=j1(67);return st(s.click())}),Re(69,"i",30),ae()(),ee(70,"div",6)(71,"button",31),et("click",function(){return ot(i),st(r.toggleGrid())}),Re(72,"i",32),ae(),ee(73,"button",33),et("click",function(){return ot(i),st(r.zoomOut())}),Re(74,"i",34),ae(),ee(75,"span",35),q(76),ae(),ee(77,"button",36),et("click",function(){return ot(i),st(r.zoomIn())}),Re(78,"i",37),ae(),ee(79,"button",38),et("click",function(){return ot(i),st(r.zoomFit())}),Re(80,"i",39),ae()(),ee(81,"div",6)(82,"button",40),et("click",function(){return ot(i),st(r.deleteSelected())}),Re(83,"i",41),ae(),ee(84,"button",42),et("click",function(){return ot(i),st(r.clearCanvas())}),Re(85,"i",43),ae()(),ee(86,"div",6)(87,"button",44),et("click",function(){return ot(i),st(r.exportToPDF())}),Re(88,"i",45),ae(),ee(89,"button",46),et("click",function(){return ot(i),st(r.exportToPNG())}),Re(90,"i",47),ae()()(),ee(91,"div",48)(92,"div",49)(93,"div",50),Re(94,"div",51,1),ae()(),gn(96,jY,48,11,"div",52),ae()()}t&2&&(Fe(8),Da("aria-expanded",r.showTemplatesMenu),Fe(2),Fi("show",r.showTemplatesMenu),Fe(61),Fi("active",r.showGrid),Fe(5),Mr("",r.getZoomPercentage(),"%"),Fe(6),Rt("disabled",!r.selectedElement),Fe(12),B1("background-color",r.backgroundColor),Fe(2),Rt("ngIf",r.showProperties))},dependencies:[co,Il,Go,oP,eP,nP,hy,uS,py,XT,hS,dS,cS,VC],styles:[".certificate-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:#f8f9fa;outline:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#fff;border-bottom:1px solid #dee2e6;box-shadow:0 2px 4px #0000001a;flex-shrink:0}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin:0;font-size:1.1rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;margin-right:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:200px;font-size:.875rem;border-radius:.375rem;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select.form-select-sm[_ngcontent-%COMP%]{padding:.25rem 1.75rem .25rem .5rem;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;border-radius:.375rem;display:flex;align-items:center;gap:.25rem;transition:all .2s ease-in-out;font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd;color:#fff;box-shadow:0 2px 4px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:300px;max-height:450px;overflow-y:auto;border:1px solid #dee2e6;border-radius:.375rem;box-shadow:0 4px 20px #00000026;z-index:1000}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeInDown .2s ease-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:0;font-size:.75rem;font-weight:700;color:#495057;text-transform:uppercase;letter-spacing:.05em;background-color:#f8f9fa;border-bottom:1px solid #dee2e6;display:flex;align-items:center;gap:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;font-size:.875rem;color:#495057;text-decoration:none;border:none;background:none;width:100%;text-align:left;cursor:pointer;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#f8f9fa;color:#495057;transform:translate(4px)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;width:20px;text-align:center}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-primary[_ngcontent-%COMP%]{color:#0d6efd!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-success[_ngcontent-%COMP%]{color:#198754!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-warning[_ngcontent-%COMP%]{color:#ffc107!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-info[_ngcontent-%COMP%]{color:#0dcaf0!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:0;margin:.25rem 0;overflow:hidden;border-top:1px solid #dee2e6}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border-radius:.375rem;border:1px solid #dee2e6;box-shadow:inset 0 1px 2px #0000000d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]:hover{color:#0d6efd}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:140px;height:6px;background:linear-gradient(to right,#e9ecef,#dee2e6);border-radius:3px;outline:none;appearance:none;-webkit-appearance:none;cursor:pointer;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#dee2e6,#ced4da)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{appearance:none;width:20px;height:20px;background:linear-gradient(145deg,#fff,#f8f9fa);border:2px solid #0d6efd;border-radius:50%;cursor:pointer;transition:all .2s ease-in-out;box-shadow:0 2px 4px #0000001a}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{background:linear-gradient(145deg,#f8f9fa,#e9ecef);transform:scale(1.1);box-shadow:0 4px 8px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:active{transform:scale(.95)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:20px;height:20px;background:linear-gradient(145deg,#fff,#f8f9fa);border:2px solid #0d6efd;border-radius:50%;cursor:pointer;transition:all .2s ease-in-out;box-shadow:0 2px 4px #0000001a}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-moz-range-thumb:hover{background:linear-gradient(145deg,#f8f9fa,#e9ecef);transform:scale(1.1);box-shadow:0 4px 8px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#0d6efd;min-width:50px;text-align:center;padding:.25rem;background:#0d6efd1a;border-radius:4px;border:1px solid rgba(13,110,253,.2)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display-compact[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#0d6efd;min-width:45px;text-align:center;padding:.25rem .5rem;background:#0d6efd14;border-radius:3px;border:1px solid rgba(13,110,253,.15);margin:0 .25rem;display:inline-flex;align-items:center;justify-content:center}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;margin:0;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.4}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.main-content[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden}.canvas-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-start;justify-content:center;background:#e9ecef;padding:0rem 2rem 2rem;overflow:auto}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{background:#fff;box-shadow:0 4px 20px #00000026;border-radius:8px;padding:20px;margin-top:2rem;transform-origin:center center;transition:transform .2s ease}.konva-stage[_ngcontent-%COMP%]{border:2px solid #dee2e6;border-radius:4px;background:#fff;display:block;cursor:crosshair}.konva-stage.text-tool[_ngcontent-%COMP%]{cursor:text}.konva-stage.select-tool[_ngcontent-%COMP%]{cursor:default}.properties-panel[_ngcontent-%COMP%]{width:320px;background:#fff;border-left:1px solid #dee2e6;display:flex;flex-direction:column;box-shadow:-2px 0 10px #0000000d}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #dee2e6;background:linear-gradient(145deg,#fff,#f8f9fa)}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:700;margin:0;font-size:.95rem;display:flex;align-items:center}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;margin-right:.5rem;font-size:1rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{flex:1;padding:1rem;overflow-y:auto}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1rem;background:linear-gradient(145deg,#fff,#f8f9fa);border-radius:.375rem;border:1px solid #e9ecef;box-shadow:0 2px 4px #00000005}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-size:.9rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid #0d6efd;display:flex;align-items:center}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#0d6efd;font-size:1rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#495057;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.025em;display:flex;align-items:center;gap:.25rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d;font-size:.7rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.875rem;border-radius:.375rem;margin-bottom:.75rem;transition:all .2s ease-in-out;border:1px solid #ced4da}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40;transform:translateY(-1px)}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control.color-picker[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select.color-picker[_ngcontent-%COMP%]{height:40px;cursor:pointer}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control.color-picker[_ngcontent-%COMP%]:hover, .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select.color-picker[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;display:flex;align-items:center;justify-content:center;gap:.25rem;transition:all .2s ease-in-out;font-weight:500}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{padding:.35rem .75rem;font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 0;border-bottom:1px solid #f1f3f4}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:.9rem;width:16px;text-align:center}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#495057;font-weight:500}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem;border-radius:.375rem;border-left:4px solid #0dcaf0;margin:0}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto;border:1px solid #e9ecef;border-radius:.375rem;background:#fff}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #f1f3f4;cursor:pointer;transition:all .2s ease-in-out;display:flex;align-items:center;gap:.75rem;position:relative}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translate(2px)}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0d6efd,#0b5ed7);color:#fff;box-shadow:0 2px 4px #0d6efd4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{color:#fffc}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]{color:#fff;border-color:#ffffff4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]:hover{background-color:#fff3;border-color:#fff}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{flex-shrink:0;width:32px;height:32px;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid #dee2e6}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#0d6efd}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]{flex:1;min-width:0}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;margin-bottom:.25rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-weight:400}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]{flex-shrink:0;padding:.25rem .5rem;font-size:.7rem;opacity:0;transition:all .2s ease-in-out;border:1px solid transparent}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:hover   .element-delete[_ngcontent-%COMP%]{opacity:1}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff3,#ffffff1a);border-color:#ffffff4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.grid-line[_ngcontent-%COMP%]{pointer-events:none}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.w-100[_ngcontent-%COMP%]{width:100%!important}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #0d6efd66}70%{box-shadow:0 0 0 10px #0d6efd00}to{box-shadow:0 0 #0d6efd00}}.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@media (max-width: 1400px){.properties-panel[_ngcontent-%COMP%]{width:300px}}@media (max-width: 1200px){.properties-panel[_ngcontent-%COMP%]{width:280px}.canvas-container[_ngcontent-%COMP%]{padding:1rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 992px){.toolbar[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem;padding:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;margin-bottom:.25rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:180px;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:.95rem;text-align:center}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{min-width:fit-content;padding:.25rem .5rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:100px}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{min-width:45px;font-size:.75rem}.main-content[_ngcontent-%COMP%]{flex-direction:column}.properties-panel[_ngcontent-%COMP%]{width:100%;max-height:350px;order:-1;box-shadow:0 2px 10px #0000001a}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.75rem}.canvas-container[_ngcontent-%COMP%]{padding:2rem 1rem 1rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{margin-top:1rem}}@media (max-width: 768px){.toolbar[_ngcontent-%COMP%]{padding:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:160px;font-size:.75rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{padding:.125rem .25rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:80px}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{min-width:40px;font-size:.7rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.125rem .25rem;font-size:.7rem}.canvas-container[_ngcontent-%COMP%]{padding:1rem .5rem .5rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{padding:10px;margin-top:.5rem}.properties-panel[_ngcontent-%COMP%]{max-height:300px}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:.5rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{padding:.5rem;margin-bottom:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.7rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]{max-height:150px}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]{padding:.5rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{width:28px;height:28px}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 576px){.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.canvas-container[_ngcontent-%COMP%]{padding:.25rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{padding:5px}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem}}@media print{.toolbar[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]{display:none!important}.canvas-container[_ngcontent-%COMP%]{padding:0!important;background:#fff!important}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{box-shadow:none!important;border-radius:0!important;padding:0!important}}"]})};var yO=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var bg=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},K2=class extends bg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},wg=class extends bg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Cg=class extends bg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},L3=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(L3||{});var zY=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},Eg=class{constructor(e,{headers:t={},customFetch:r,region:i=L3.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=yO(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return zY(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region);let c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(a["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(a["Content-Type"]="application/json",d=JSON.stringify(s)));let h=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(_=>{throw new K2(_)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new wg(h);if(!h.ok)throw new Cg(h);let f=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield h.json():f==="application/octet-stream"?y=yield h.blob():f==="text/event-stream"?y=h:f==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Cg||i instanceof wg?i.context:void 0}}})}};var PO=kx(TO(),1),{PostgrestClient:NO,PostgrestQueryBuilder:Jme,PostgrestFilterBuilder:e0e,PostgrestTransformBuilder:t0e,PostgrestBuilder:n0e,PostgrestError:eX}=PO.default;function OO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var kO=OO();var RO="2.11.15";var LO=`realtime-js/${RO}`,FO="1.0.0";var Q2=1e4,jO=1e3,Tg=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Tg||{}),Zr=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Zr||{}),vo=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(vo||{}),K3=function(n){return n.websocket="websocket",n}(K3||{}),su=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(su||{});var J2=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let l=r.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Th=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var An=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(An||{}),X3=(n,e,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=tX(s,n,e,i),o),{})},tX=(n,e,t,r)=>{let i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?BO(o,s):Y3(s)},BO=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return oX(e,t)}switch(n){case An.bool:return nX(e);case An.float4:case An.float8:case An.int2:case An.int4:case An.int8:case An.numeric:case An.oid:return rX(e);case An.json:case An.jsonb:return iX(e);case An.timestamp:return sX(e);case An.abstime:case An.date:case An.daterange:case An.int4range:case An.int8range:case An.money:case An.reltime:case An.text:case An.time:case An.timestamptz:case An.timetz:case An.tsrange:case An.tstzrange:return Y3(e);default:return Y3(e)}},Y3=n=>n,nX=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},rX=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},iX=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},oX=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>BO(e,a))}return n},sX=n=>typeof n=="string"?n.replace(" ","T"):n,e_=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};var Ph=class{constructor(e,t,r={},i=Q2){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Pg=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{let h=o[c];if(h){let g=d.map(C=>C.presence_ref),f=h.map(C=>C.presence_ref),y=d.filter(C=>f.indexOf(C.presence_ref)<0),_=h.filter(C=>g.indexOf(C.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){let h=e[a].map(f=>f.presence_ref),g=d.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...g)}r(a,d,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ka=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Ka||{});var Ng=class n{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ph(this,vo.join,this.params,this.timeout),this.rejoinTimer=new Th(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vo.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Pg(this),this.broadcastEndpointURL=e_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Zr.closed){let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(d=>e?.(Ka.CHANNEL_ERROR,d)),this._onClose(()=>e?.(Ka.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",h=>se(this,[h],function*({postgres_changes:d}){var g;if(this.socket.setAuth(),d===void 0){e?.(Ka.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,y=(g=f?.length)!==null&&g!==void 0?g:0,_=[];for(let C=0;C<y;C++){let w=f[C],{filter:{event:E,schema:T,table:P,filter:H}}=w,Q=d&&d[C];if(Q&&Q.event===E&&Q.schema===T&&Q.table===P&&Q.filter===H)_.push(Object.assign(Object.assign({},w),{id:Q.id}));else{this.unsubscribe(),this.state=Zr.errored,e?.(Ka.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Ka.SUBSCRIBED);return}})).receive("error",d=>{this.state=Zr.errored,e?.(Ka.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ka.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return se(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return se(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(r){return se(this,arguments,function*(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zr.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ph(this,vo.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,t,r){return se(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ph(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=vo;if(r&&[a,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,t,r);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,_,C;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(_=f.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(f=>f.callback(g,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var y,_,C,w,E,T;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let P=f.id,H=(y=f.filter)===null||y===void 0?void 0:y.event;return P&&((_=t.ids)===null||_===void 0?void 0:_.includes(P))&&(H==="*"||H?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let P=(E=(w=f?.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return P==="*"||P===((T=t?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof g=="object"&&"ids"in g){let y=g.data,{schema:_,table:C,commit_timestamp:w,type:E,errors:T}=y;g=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:w,eventType:E,new:{},old:{},errors:T}),this._getPayloadRecords(y))}f.callback(g,r)})}_isClosed(){return this.state===Zr.closed}_isJoined(){return this.state===Zr.joined}_isJoining(){return this.state===Zr.joining}_isLeaving(){return this.state===Zr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vo.close,{},e)}_onError(e){this._on(vo.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=X3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=X3(e.columns,e.old_record)),t}};var UO=()=>{},lX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Og=class{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Q2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=UO,this.ref=0,this.logger=UO,this.conn=null,this.sendBuffer=[],this.serializer=new J2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${K3.websocket}`,this.httpEndpoint=e_(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Th(()=>se(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=kO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FO}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(e){return se(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return se(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Tg.connecting:return su.Connecting;case Tg.open:return su.Open;case Tg.closing:return su.Closing;default:return su.Closed}}isConnected(){return this.connectionState()===su.Open}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ng(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){let{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return se(this,null,function*(){let t=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let i={access_token:t,version:LO};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vo.access_token,{access_token:t})}))})}sendHeartbeat(){return se(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(jO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vo.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([lX],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Nh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function fr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var t_=class extends Nh{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},au=class extends Nh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var cX=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},r_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},VO=()=>cX(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),n_=n=>{if(Array.isArray(n))return n.map(t=>n_(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=n_(r)}),e};var lu=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},Z3=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),uX=(n,e,t)=>lu(void 0,void 0,void 0,function*(){let r=yield VO();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{e(new t_(Z3(i),n.status||500))}).catch(i=>{e(new au(Z3(i),i))}):e(new au(Z3(n),n))}),dX=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function kg(n,e,t,r,i,o){return lu(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,dX(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>uX(l,a,r))})})}function Oh(n,e,t,r){return lu(this,void 0,void 0,function*(){return kg(n,"GET",e,t,r)})}function Ws(n,e,t,r,i){return lu(this,void 0,void 0,function*(){return kg(n,"POST",e,r,i,t)})}function zO(n,e,t,r,i){return lu(this,void 0,void 0,function*(){return kg(n,"PUT",e,r,i,t)})}function HO(n,e,t,r){return lu(this,void 0,void 0,function*(){return kg(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function i_(n,e,t,r,i){return lu(this,void 0,void 0,function*(){return kg(n,"DELETE",e,r,i,t)})}var Di=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},hX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},o_=class{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=r_(i)}uploadOrUpdate(e,t,r,i){return Di(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},qO),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),g=yield h.json();return h.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(o){if(fr(o))return{data:null,error:o};throw o}})}upload(e,t,r){return Di(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return Di(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:qO.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);let h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),g=yield h.json();return h.ok?{data:{path:o,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(fr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Di(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield Ws(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Nh("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}})}update(e,t,r){return Di(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Di(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}copy(e,t,r){return Di(this,void 0,void 0,function*(){try{return{data:{path:(yield Ws(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return Di(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Ws(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return Di(this,void 0,void 0,function*(){try{let i=yield Ws(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}download(e,t){return Di(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Oh(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(fr(a))return{data:null,error:a};throw a}})}info(e){return Di(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield Oh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:n_(r),error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}})}exists(e){return Di(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield HO(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(fr(r)&&r instanceof au){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Di(this,void 0,void 0,function*(){try{return{data:yield i_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(fr(t))return{data:null,error:t};throw t}})}list(e,t,r){return Di(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},hX),t),{prefix:e||""});return{data:yield Ws(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};var $O="2.7.1";var GO={"X-Client-Info":`storage-js/${$O}`};var kh=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},s_=class{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},GO),t),this.fetch=r_(r)}listBuckets(){return kh(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}})}getBucket(e){return kh(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(fr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return kh(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return kh(this,void 0,void 0,function*(){try{return{data:yield zO(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return kh(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(fr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return kh(this,void 0,void 0,function*(){try{return{data:yield i_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(fr(t))return{data:null,error:t};throw t}})}};var Rg=class extends s_{constructor(e,t={},r){super(e,t,r)}from(e){return new o_(this.url,this.headers,e,this.fetch)}};var WO="2.52.1";var Lg="";typeof Deno<"u"?Lg="deno":typeof document<"u"?Lg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lg="react-native":Lg="node";var fX={"X-Client-Info":`supabase-js-${Lg}/${WO}`},KO={headers:fX},YO={schema:"public"},XO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZO={};Fx();var pX=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},gX=n=>{let e;return n?e=n:typeof fetch>"u"?e=Rx:e=fetch,(...t)=>e(...t)},mX=()=>typeof Headers>"u"?Lx:Headers,QO=(n,e,t)=>{let r=gX(t),i=mX();return(o,s)=>pX(void 0,void 0,void 0,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var vX=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function JO(n){return n.endsWith("/")?n:n+"/"}function ek(n,e){var t,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:d,global:h}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(t=h?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>vX(this,void 0,void 0,function*(){return""})};return n.accessToken?g.accessToken=n.accessToken:delete g.accessToken,g}var a_="2.71.1";var cu=30*1e3,l_=3,c_=l_*cu,tk="http://localhost:9999",nk="supabase.auth.token";var rk={"X-Client-Info":`gotrue-js/${a_}`};var Fg="X-Supabase-Api-Version",Q3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ik=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ok=10*60*1e3;var jg=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function xt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var u_=class extends jg{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function sk(n){return xt(n)&&n.name==="AuthApiError"}var Rh=class extends jg{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Ks=class extends jg{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}},yo=class extends Ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ak(n){return xt(n)&&n.name==="AuthSessionMissingError"}var uu=class extends Ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},du=class extends Ks{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},hu=class extends Ks{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function lk(n){return xt(n)&&n.name==="AuthImplicitGrantRedirectError"}var Bg=class extends Ks{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Lh=class extends Ks{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function d_(n){return xt(n)&&n.name==="AuthRetryableFetchError"}var Ug=class extends Ks{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var fu=class extends Ks{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var h_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ck=` 	
\r=`.split(""),yX=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<ck.length;e+=1)n[ck[e].charCodeAt(0)]=-2;for(let e=0;e<h_.length;e+=1)n[h_[e].charCodeAt(0)]=e;return n})();function uk(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(h_[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(h_[r]),e.queuedBits-=6}}function dk(n,e,t){let r=yX[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function J3(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{wX(s,r,t)};for(let s=0;s<n.length;s+=1)dk(n.charCodeAt(s),i,o);return e.join("")}function _X(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function bX(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}_X(r,e)}}function wX(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function hk(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)dk(n.charCodeAt(i),t,r);return new Uint8Array(e)}function fk(n){let e=[];return bX(n,t=>e.push(t)),new Uint8Array(e)}function pk(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>uk(i,t,r)),uk(null,t,r),e.join("")}function gk(n){return Math.round(Date.now()/1e3)+n}function mk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var _o=()=>typeof window<"u"&&typeof document<"u",pu={tested:!1,writable:!1},f_=()=>{if(!_o())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pu.tested)return pu.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),pu.tested=!0,pu.writable=!0}catch{pu.tested=!0,pu.writable=!1}return pu.writable};function vk(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}var p_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},yk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",gu=(n,e,t)=>se(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),Yl=(n,e)=>se(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Ya=(n,e)=>se(null,null,function*(){yield n.removeItem(e)}),Vg=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Vg.promiseConstructor=Promise;function g_(n){let e=n.split(".");if(e.length!==3)throw new fu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ik.test(e[r]))throw new fu("JWT not in base64url format");return{header:JSON.parse(J3(e[0])),payload:JSON.parse(J3(e[1])),signature:hk(e[2]),raw:{header:e[0],payload:e[1]}}}function _k(n){return se(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function bk(n,e){return new Promise((r,i)=>{se(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function CX(n){return("0"+n.toString(16)).substr(-2)}function EX(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,CX).join("")}function SX(n){return se(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function xX(n){return se(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield SX(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function mu(n,e,t=!1){return se(this,null,function*(){let r=EX(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield gu(n,`${e}-code-verifier`,i);let o=yield xX(r);return[o,r===o?"plain":"s256"]})}var DX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wk(n){let e=n.headers.get(Fg);if(!e||!e.match(DX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ck(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Ek(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var MX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vu(n){if(!MX.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function m_(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ex(n){return JSON.parse(JSON.stringify(n))}var AX=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},yu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),IX=[502,503,504];function Sk(n){return se(this,null,function*(){var e;if(!yk(n))throw new Lh(yu(n),0);if(IX.includes(n.status))throw new Lh(yu(n),n.status);let t;try{t=yield n.json()}catch(o){throw new Rh(yu(o),o)}let r,i=wk(n);if(i&&i.getTime()>=Q3["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Ug(yu(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new yo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Ug(yu(t),n.status,t.weak_password.reasons);throw new u_(yu(t),n.status||500,r)})}var TX=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function jt(n,e,t,r){return se(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Fg]||(o[Fg]=Q3["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield PX(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function PX(n,e,t,r,i,o){return se(this,null,function*(){let s=TX(e,r,i,o),a;try{a=yield n(t,Object.assign({},s))}catch(l){throw console.error(l),new Lh(yu(l),0)}if(a.ok||(yield Sk(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield Sk(l)}})}function Ys(n){var e;let t=null;NX(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=gk(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function tx(n){let e=Ys(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Xs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function xk(n){return{data:n,error:null}}function Dk(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=AX(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Mk(n){return n}function NX(n){return n.access_token&&n.refresh_token&&n.expires_in}var v_=["global","local","others"];var OX=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Fh=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=p_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return se(this,arguments,function*(e,t=v_[0]){if(v_.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${v_.join(", ")}`);try{return yield jt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return se(this,arguments,function*(e,t={}){try{return yield jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Xs})}catch(i){if(xt(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return se(this,null,function*(){try{let{options:t}=e,r=OX(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Dk,redirectTo:t?.redirectTo})}catch(t){if(xt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return se(this,null,function*(){try{return yield jt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xs})}catch(t){if(xt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return se(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},d=yield jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Mk});if(d.error)throw d.error;let h=yield d.json(),g=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(xt(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return se(this,null,function*(){vu(e);try{return yield jt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xs})}catch(t){if(xt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return se(this,null,function*(){vu(e);try{return yield jt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Xs})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return se(this,null,function*(){vu(e);try{return yield jt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Xs})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return se(this,null,function*(){vu(e.userId);try{let{data:t,error:r}=yield jt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return se(this,null,function*(){vu(e.userId),vu(e.id);try{return{data:yield jt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}};function nx(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Ak(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var _u={debug:!!(globalThis&&f_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},zg=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},y_=class extends zg{};function rx(n,e,t){return se(this,null,function*(){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>se(null,null,function*(){if(i){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield t()}finally{_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw _u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new y_(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(_u.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}Ak();var kX={url:tk,storageKey:nk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Ik(n,e,t){return se(this,null,function*(){return yield t()})}var jh={},ix=(()=>{class n{constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&_o()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},kX),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Fh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=p_(o.fetch),this.lock=o.lock||Ik,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:_o()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=rx:this.lock=Ik,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:f_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nx(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=nx(this.memoryStorage)),_o()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>se(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=jh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jh[this.storageKey]=Object.assign(Object.assign({},jh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jh[this.storageKey]=Object.assign(Object.assign({},jh[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a_}) ${new Date().toISOString()}`,...t),this}initialize(){return se(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=se(this,null,function*(){return yield this._acquireLock(-1,()=>se(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return se(this,null,function*(){var t;try{let r=vk(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),_o()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lk(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>se(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return xt(r)?{error:r}:{error:new Rh("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return se(this,null,function*(){var r,i,o;try{let s=yield jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ys}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return se(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:h,password:g,options:f}=t,y=null,_=null;this.flowType==="pkce"&&([y,_]=yield mu(this.storage,this.storageKey)),s=yield jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:h,password:g,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:y,code_challenge_method:_},xform:Ys})}else if("phone"in t){let{phone:h,password:g,options:f}=t;s=yield jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ys})}else throw new du("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return se(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:tx})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:tx})}else throw new du("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new uu}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return se(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return se(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>se(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return se(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return se(this,null,function*(){var r,i,o,s,a,l,c,d,h,g,f,y;let _,C;if("message"in t)_=t.message,C=t.signature;else{let{chain:w,wallet:E,statement:T,options:P}=t,H;if(_o())if(typeof E=="object")H=E;else{let U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))H=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=E}let Q=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in H&&H.signIn){let U=yield H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),T?{statement:T}:null)),F;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")F=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)F=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)_=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),C=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Q.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(o=(i=P?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=P?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((a=P?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((g=(h=P?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...P.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);let U=yield H.signMessage(new TextEncoder().encode(_),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=U}}try{let{data:w,error:E}=yield jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:pk(C)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ys});if(E)throw E;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new uu}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:E})}catch(w){if(xt(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(t){return se(this,null,function*(){let r=yield Yl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Ys});if(yield Ya(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new uu}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(xt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return se(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ys}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new uu}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return se(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,d=null,h=null;this.flowType==="pkce"&&([d,h]=yield mu(this.storage,this.storageKey));let{error:g}=yield jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){let{phone:l,options:c}=t,{data:d,error:h}=yield jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new du("You must provide either an email or phone number.")}catch(l){if(xt(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return se(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Ys});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,d=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(xt(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return se(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield mu(this.storage,this.storageKey)),yield jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:xk})}catch(s){if(xt(s))return{data:null,error:s};throw s}})}reauthenticate(){return se(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return se(this,null,function*(){try{return yield this._useSession(t=>se(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new yo;let{error:o}=yield jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return se(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield jt(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new du("You must provide either an email or phone number and a type")}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return se(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){return this._useSession(r=>se(this,null,function*(){return r}))}))})}_acquireLock(t,r){return se(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=se(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(se(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>se(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(se(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return se(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return se(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<c_:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield Yl(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=m_()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return se(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return se(this,null,function*(){try{return t?yield jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xs}):yield this._useSession(r=>se(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yo}:yield jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Xs})}))}catch(r){if(xt(r))return ak(r)&&(yield this._removeSession(),yield Ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return se(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return se(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>se(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new yo;let l=s.session,c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=yield mu(this.storage,this.storageKey));let{data:h,error:g}=yield jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Xs});if(g)throw g;return l.user=h.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(xt(o))return{data:{user:null},error:o};throw o}})}setSession(t){return se(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return se(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new yo;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=g_(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(xt(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return se(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return se(this,null,function*(){try{return yield this._useSession(r=>se(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new yo;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return se(this,null,function*(){try{if(!_o())throw new hu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new hu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bg("No code detected.");let{data:T,error:P}=yield this._exchangeCodeForSession(t.code);if(P)throw P;let H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:T.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!s||!l||!a||!d)throw new hu("No session defined in URL");let h=Math.round(Date.now()/1e3),g=parseInt(l),f=h+g;c&&(f=parseInt(c));let y=f-h;y*1e3<=cu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);let _=f-g;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,h);let{data:C,error:w}=yield this._getUser(s);if(w)throw w;let E={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:g,expires_at:f,refresh_token:a,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(i){if(xt(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return se(this,null,function*(){let r=yield Yl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return se(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return se(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>se(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(sk(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield Ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=mk(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),se(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return se(this,null,function*(){return yield this._useSession(r=>se(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return se(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield mu(this.storage,this.storageKey,!0));try{return yield jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(xt(a))return{data:null,error:a};throw a}})}getUserIdentities(){return se(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}linkIdentity(t){return se(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>se(this,null,function*(){var a,l,c,d,h;let{data:g,error:f}=s;if(f)throw f;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield jt(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})}));if(o)throw o;return _o()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(xt(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return se(this,null,function*(){try{return yield this._useSession(r=>se(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield jt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return se(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield bk(o=>se(this,null,function*(){return o>0&&(yield _k(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ys})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&d_(s)&&Date.now()+a-i<cu})}catch(i){if(this._debug(r,"error",i),xt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return se(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),_o()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return se(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Yl(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Yl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield gu(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:m_()}else if(o&&!o.user&&!o.user){let a=yield Yl(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Ya(this.storage,this.storageKey+"-user"),yield gu(this.storage,this.storageKey,o)):o.user=m_()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<c_;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${c_}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),d_(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return se(this,null,function*(){var r,i;if(!t)throw new yo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Vg;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new yo;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),xt(s)){let a={session:null,error:s};return d_(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return se(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>se(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return se(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield gu(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=ex(o);yield gu(this.storage,this.storageKey,s)}else{let o=ex(r);yield gu(this.storage,this.storageKey,o)}})}_removeSession(){return se(this,null,function*(){this._debug("#_removeSession()"),yield Ya(this.storage,this.storageKey),yield Ya(this.storage,this.storageKey+"-code-verifier"),yield Ya(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ya(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_o()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return se(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),cu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>se(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return se(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return se(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return se(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return se(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>se(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>se(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/cu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${cu}ms, refresh threshold is ${l_} ticks`),o<=l_&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof zg)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return se(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!_o()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>se(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return se(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>se(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return se(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield mu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return se(this,null,function*(){try{return yield this._useSession(r=>se(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield jt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}})}_enroll(t){return se(this,null,function*(){try{return yield this._useSession(r=>se(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=yield jt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}})}_verify(t){return se(this,null,function*(){return this._acquireLock(-1,()=>se(this,null,function*(){try{return yield this._useSession(r=>se(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}}))})}_challenge(t){return se(this,null,function*(){return this._acquireLock(-1,()=>se(this,null,function*(){try{return yield this._useSession(r=>se(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return se(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return se(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return se(this,null,function*(){return this._acquireLock(-1,()=>se(this,null,function*(){return yield this._useSession(t=>se(this,null,function*(){var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=g_(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}))})}fetchJwk(i){return se(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+ok>s)return o;let{data:a,error:l}=yield jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return se(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:_,error:C}=yield this.getSession();if(C||!_.session)return{data:null,error:C};o=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:d}}=g_(o);r?.allowExpired||Ck(a.exp);let h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){let{error:_}=yield this.getUser(o);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let g=Ek(s.alg),f=yield crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!(yield crypto.subtle.verify(g,f,l,fk(`${c}.${d}`))))throw new fu("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(xt(o))return{data:null,error:o};throw o}})}}return n.nextInstanceID=0,n})();var RX=ix,ox=RX;var __=class extends ox{constructor(e){super(e)}};var LX=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},b_=class{constructor(e,t,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=JO(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:YO,realtime:ZO,auth:Object.assign(Object.assign({},XO),{storageKey:c}),global:KO},h=ek(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=QO(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new NO(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Eg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return LX(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new __({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Og(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Tk=(n,e,t)=>new b_(n,e,t);function FX(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;let n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}FX()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Xl=class n{supabase=null;_user=new Sn(null);_session=new Sn(null);_isLoggedIn=new Sn(!1);_currentUser=new Sn(null);constructor(){if(!li.supabase.url||!li.supabase.anonKey){console.warn("Supabase no est\xE1 configurado. Verifica environment.supabase");return}this.supabase=Tk(li.supabase.url,li.supabase.anonKey,{auth:{autoRefreshToken:li.auth.session.autoRefreshToken,persistSession:li.auth.supabase.persistSession,detectSessionInUrl:li.auth.supabase.detectSessionInUrl,flowType:"pkce"},global:{headers:{"x-application-name":"psic-abelnavarro-app","x-client-info":"supabase-js-angular"}}}),this.supabase.auth.onAuthStateChange((e,t)=>{this._session.next(t),this._user.next(t?.user??null),this._isLoggedIn.next(!!t),t?.user?this.setCurrentUser(t.user):this._currentUser.next(null)}),this.getSession()}isConfigured(){return!!(li.supabase.url&&li.supabase.anonKey)}get user$(){return this._user.asObservable()}get session$(){return this._session.asObservable()}get isLoggedIn$(){return this._isLoggedIn.asObservable()}get currentUser$(){return this._currentUser.asObservable()}get user(){return this._user.value}get session(){return this._session.value}get isLoggedIn(){return this._isLoggedIn.value}get currentUser(){return this._currentUser.value}signInWithGitHub(){return se(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{data:e,error:t}=yield this.supabase.auth.signInWithOAuth({provider:"github",options:{redirectTo:li.auth.supabase.redirectTo}});return{error:t}}catch(e){return{error:e}}})}signOut(){return se(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{error:e}=yield this.supabase.auth.signOut();return e||(this._user.next(null),this._session.next(null),this._isLoggedIn.next(!1),this._currentUser.next(null)),{error:e}}catch(e){return{error:e}}})}exchangeCodeForSession(e){return se(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{error:t}=yield this.supabase.auth.exchangeCodeForSession(e);return{error:t}}catch(t){return{error:t}}})}getSession(){return se(this,null,function*(){if(!this.supabase)return null;try{let{data:{session:e},error:t}=yield this.supabase.auth.getSession();return t?null:(this._session.next(e),this._user.next(e?.user??null),this._isLoggedIn.next(!!e),e?.user&&this.setCurrentUser(e.user),e)}catch{return null}})}refreshSession(){return se(this,null,function*(){if(!this.supabase)return null;try{let{data:{session:e},error:t}=yield this.supabase.auth.refreshSession();return t?null:(e&&(this._session.next(e),this._user.next(e.user),this._isLoggedIn.next(!0)),e)}catch{return null}})}ensureValidSession(){return se(this,null,function*(){let e=this._session.value;if(!e)return yield this.getSession();let t=e.expires_at,r=Math.floor(Date.now()/1e3),i=5*60;return t&&t-r<i?yield this.refreshSession():e})}getUserProfile(){return se(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)return null;let t=new AbortController,r=setTimeout(()=>t.abort(),1e4),i=yield fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"},signal:t.signal});return clearTimeout(r),i.ok?yield i.json():null}catch{return null}})}getUserEmails(){return se(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)return[];let t=new AbortController,r=setTimeout(()=>t.abort(),1e4),i=yield fetch("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"},signal:t.signal});return clearTimeout(r),i.ok?(yield i.json()).map(s=>s.email):[]}catch{return[]}})}setCurrentUser(e){return se(this,null,function*(){try{let t=yield this.getUserEmails(),r=e.email||t[0],i=e.user_metadata?.user_name||e.user_metadata?.preferred_username;if(!r){this._currentUser.next(null);return}let{isAuthorized:o,userData:s}=yield this.checkUserInAllowedList(r,i);if(!o||!s){this._currentUser.next(null);return}let a={email:r,role:s.role||"user",permissions:s.permissions||["certificate"],displayName:s.display_name||e.user_metadata?.full_name||e.user_metadata?.name||e.user_metadata?.user_name||r};this._currentUser.next(a)}catch{this._currentUser.next(null)}})}hasPermission(e){return this._currentUser.value?.permissions.includes(e)??!1}hasRole(e){return this._currentUser.value?.role===e}getAuthState(){return{user:this._user.value,session:this._session.value,isLoggedIn:this._isLoggedIn.value,currentUser:this._currentUser.value}}checkUserInAllowedList(e,t){return se(this,null,function*(){if(!this.supabase||!e&&!t)return{isAuthorized:!1};try{let r=this.supabase.from("allowed_users").select("*").eq("active",!0);e&&t?r=r.or(`email.eq.${e},username.eq.${t}`):e?r=r.eq("email",e):t&&(r=r.eq("username",t));let{data:i,error:o}=yield r,s=!o&&i&&i.length>0;return{isAuthorized:s,userData:s?i[0]:null}}catch{return{isAuthorized:!1}}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Zs=class n{config;constructor(){this.config=li}get supabase(){return{url:this.getEnvVar("SUPABASE_URL",this.config.supabase?.url),anonKey:this.getEnvVar("SUPABASE_ANON_KEY",this.config.supabase?.anonKey),enabled:this.config.auth?.supabase?.enabled??!1}}get auth(){return{supabase:this.supabase,redirectUrl:this.getEnvVar("AUTH_REDIRECT_URL",this.config.auth?.supabase?.redirectTo),security:this.config.auth?.security||{}}}get isDevelopment(){return this.config.developmentMode||!this.config.production}get isProduction(){return this.config.production}getEnvVar(e,t){return typeof window<"u"&&window.env?window.env[e]||t||"":t||""}validateConfig(){let e=[];return this.supabase.url||e.push("Supabase URL no configurada"),this.supabase.anonKey||e.push("Supabase anonymous key no configurada"),this.supabase.enabled&&(!this.supabase.url||!this.supabase.anonKey)&&e.push("Supabase habilitado pero mal configurado"),this.isProduction&&this.isDevelopment&&e.push("Configuraci\xF3n inv\xE1lida: no puede ser producci\xF3n y desarrollo"),{isValid:e.length===0,errors:e}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mi=class n{notifications=new Sn([]);get notifications$(){return this.notifications.asObservable()}generateId(){return Math.random().toString(36).substring(2)+Date.now().toString(36)}show(e){let t=this.generateId(),r=vt(Me({},e),{id:t,duration:e.duration??5e3}),i=this.notifications.value;return this.notifications.next([...i,r]),!r.persistent&&r.duration&&setTimeout(()=>{this.remove(t)},r.duration),t}remove(e){let t=this.notifications.value;this.notifications.next(t.filter(r=>r.id!==e))}clear(){this.notifications.next([])}success(e,t,r){return this.show(Me({type:"success",title:e,message:t},r))}error(e,t,r){return this.show(Me({type:"error",title:e,message:t,duration:7e3},r))}warning(e,t,r){return this.show(Me({type:"warning",title:e,message:t},r))}info(e,t,r){return this.show(Me({type:"info",title:e,message:t},r))}authError(e,t=!1){return this.error("Error de Autenticaci\xF3n",e,{persistent:t,action:t?{label:"Reintentar",callback:()=>window.location.reload()}:void 0})}authSuccess(e){return this.success("Acceso Autorizado",`Bienvenido, ${e}. Has iniciado sesi\xF3n correctamente.`)}authBlocked(e){return this.error("Cuenta Bloqueada",`Demasiados intentos fallidos. Intenta de nuevo en ${e} minutos.`,{persistent:!0,duration:1e4})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})};var C_=class n{constructor(e){this.notificationService=e}retryConfig={maxRetries:3,initialDelay:1e3,maxDelay:1e4,backoffMultiplier:2};createAuthError(e,t,r,i){let s={network:{retryable:!0,userMessage:"Error de conexi\xF3n. Verifica tu internet e intenta de nuevo."},auth:{retryable:!1,userMessage:"Error de autenticaci\xF3n. Verifica tus credenciales."},permission:{retryable:!1,userMessage:"No tienes permisos para acceder a este recurso."},configuration:{retryable:!1,userMessage:"Error de configuraci\xF3n. Contacta al administrador."},lockout:{retryable:!0,userMessage:"Cuenta temporalmente bloqueada por seguridad."}}[e];return{type:e,code:t,message:r,details:i,retryable:s.retryable,userMessage:s.userMessage}}handleAuthError(e,t){switch(console.error(`Auth Error [${t}]:`,e),e.type){case"network":this.notificationService.authError(e.userMessage,e.retryable);break;case"auth":this.notificationService.error("Error de Autenticaci\xF3n",e.userMessage);break;case"permission":this.notificationService.warning("Acceso Denegado",e.userMessage);break;case"configuration":this.notificationService.error("Error de Configuraci\xF3n",e.userMessage,{persistent:!0});break;case"lockout":let r=this.calculateLockoutTime(e.details?.lockoutUntil);this.notificationService.authBlocked(r);break;default:this.notificationService.error("Error Desconocido","Ha ocurrido un error inesperado.")}}withRetry(e,t="network",r){return se(this,null,function*(){let i=Me(Me({},this.retryConfig),r),o;for(let s=0;s<=i.maxRetries;s++)try{return yield e()}catch(a){if(o=a,s===i.maxRetries){let c=this.createAuthError(t,"RETRY_EXHAUSTED",`Operaci\xF3n fall\xF3 despu\xE9s de ${i.maxRetries} intentos`,{originalError:a,attempts:s+1});throw this.handleAuthError(c,"withRetry"),c}let l=Math.min(i.initialDelay*Math.pow(i.backoffMultiplier,s),i.maxDelay);console.log(`Intento ${s+1} fall\xF3, reintentando en ${l}ms...`,a),yield this.delay(l)}throw o})}delay(e){return new Promise(t=>setTimeout(t,e))}calculateLockoutTime(e){if(!e)return 0;let t=Math.max(0,e-Date.now());return Math.ceil(t/6e4)}handleSupabaseError(e,t){return e?e.name==="NetworkError"||e.code==="NETWORK_ERROR"?this.createAuthError("network","NETWORK_ERROR","Error de conexi\xF3n con el servidor",e):e.message?.includes("Invalid API key")||e.message?.includes("Invalid URL")?this.createAuthError("configuration","INVALID_CONFIG","Configuraci\xF3n de Supabase inv\xE1lida",e):e.message?.includes("OAuth")||e.error==="access_denied"?this.createAuthError("auth","OAUTH_ERROR","Error en autenticaci\xF3n con GitHub",e):this.createAuthError("auth",e.error||"AUTH_ERROR",e.message||"Error de autenticaci\xF3n",e):this.createAuthError("auth","UNKNOWN","Error desconocido")}static \u0275fac=function(t){return new(t||n)(Ke(Mi))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qs=class n{constructor(e){this.configService=e;this.sessionId=this.generateSessionId(),this.initializeMonitoring()}events=[];MAX_EVENTS=1e3;sessionId;generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substring(2)}`}getUserAgent(){try{return navigator?.userAgent||"Unknown"}catch{return"Unknown"}}initializeMonitoring(){this.loadStoredEvents(),setInterval(()=>{this.cleanupOldEvents()},60*60*1e3)}loadStoredEvents(){try{if(typeof localStorage>"u"){this.events=[];return}let e=localStorage.getItem("auth_events");e&&(this.events=JSON.parse(e))}catch(e){console.warn("Error loading stored auth events:",e),this.events=[]}}saveEvents(){try{if(typeof localStorage>"u")return;let e=this.events.slice(-100);localStorage.setItem("auth_events",JSON.stringify(e))}catch(e){console.warn("Error saving auth events:",e)}}cleanupOldEvents(){let e=Date.now()-864e5;this.events=this.events.filter(t=>t.timestamp>e),this.events.length>this.MAX_EVENTS&&(this.events=this.events.slice(-this.MAX_EVENTS)),this.saveEvents()}logAuthEvent(e,t,r){try{let i={type:e,timestamp:Date.now(),userEmail:r,userAgent:this.getUserAgent(),sessionId:this.sessionId,details:t};this.events.push(i),this.saveEvents(),console.log("\u{1F510} Auth Event:",{type:i.type,user:r||"anonymous",timestamp:new Date(i.timestamp).toISOString()}),this.detectSuspiciousActivity(i),this.configService.isProduction&&this.sendToAnalytics(i)}catch(i){console.warn("Error logging auth event:",i)}}detectSuspiciousActivity(e){let t=this.getRecentEvents(3e5),r=t.filter(o=>o.type==="login_failure"&&o.userAgent===e.userAgent);r.length>=3&&this.logAuthEvent("suspicious_activity",{reason:"multiple_login_failures",attempts:r.length,timeWindow:"5_minutes"});let i=new Set(t.map(o=>o.userAgent));i.size>2&&this.logAuthEvent("suspicious_activity",{reason:"multiple_user_agents",userAgents:Array.from(i).length})}sendToAnalytics(e){typeof window<"u"&&window.gtag&&window.gtag("event",e.type,{custom_parameter_1:e.userEmail,custom_parameter_2:e.sessionId})}getSecurityMetrics(){let e=Date.now()-864e5,t=this.events.filter(i=>i.timestamp>e),r=new Set(t.filter(i=>i.userEmail).map(i=>i.userEmail)).size;return{totalLoginAttempts:t.filter(i=>i.type==="login_attempt").length,successfulLogins:t.filter(i=>i.type==="login_success").length,failedLogins:t.filter(i=>i.type==="login_failure").length,accountLockouts:t.filter(i=>i.type==="account_locked").length,accessDenials:t.filter(i=>i.type==="access_denied").length,uniqueUsers:r,suspiciousActivity:t.filter(i=>i.type==="suspicious_activity").length}}getRecentEvents(e=60*60*1e3){let t=Date.now()-e;return this.events.filter(r=>r.timestamp>t)}exportEvents(){return JSON.stringify(this.events,null,2)}clearEvents(){this.events=[],localStorage.removeItem("auth_events"),console.log("\u{1F510} Auth events cleared")}getDetailedStats(){let e=this.getSecurityMetrics(),t=this.getRecentEvents();return{metrics:e,recentActivity:t.slice(-10),sessionInfo:{sessionId:this.sessionId,startTime:new Date().toISOString(),totalEvents:this.events.length},securityAlerts:this.getSecurityAlerts()}}getSecurityAlerts(){let e=[],t=this.getSecurityMetrics();return t.failedLogins>10&&e.push({type:"high_failed_logins",severity:"warning",message:`${t.failedLogins} intentos de login fallidos en las \xFAltimas 24h`}),t.accountLockouts>3&&e.push({type:"multiple_lockouts",severity:"error",message:`${t.accountLockouts} cuentas bloqueadas en las \xFAltimas 24h`}),t.suspiciousActivity>0&&e.push({type:"suspicious_activity",severity:"critical",message:`${t.suspiciousActivity} actividades sospechosas detectadas`}),e}static \u0275fac=function(t){return new(t||n)(Ke(Zs))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})};var bo=class n{constructor(e,t,r,i,o){this.supabaseService=e;this.configService=t;this.notificationService=r;this.errorHandler=i;this.monitoring=o;this.initializeAuth()}_authState=new Sn({isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null,isLocked:!1,loginAttempts:0,lockoutUntil:null});initializeAuth(){let e=this.configService.validateConfig();if(!e.isValid){let t=this.errorHandler.createAuthError("configuration","INVALID_CONFIG","Configuraci\xF3n inv\xE1lida",{errors:e.errors});this.updateAuthState({error:t}),this.errorHandler.handleAuthError(t,"initializeAuth");return}this.supabaseService.isLoggedIn$.subscribe(t=>{this.updateAuthState({isLoggedIn:t}),t&&(this.monitoring.logAuthEvent("login_success",{},this.supabaseService.user?.email),this.clearLoginAttempts())}),this.supabaseService.currentUser$.subscribe(t=>{this.updateAuthState({currentUser:t}),t&&this.notificationService.authSuccess(t.displayName)}),this.supabaseService.user$.subscribe(t=>{this.updateAuthState({user:t})}),this.checkLockoutStatus()}updateAuthState(e){let t=this._authState.value,r=Me(Me({},t),e);this._authState.next(r)}checkLockoutStatus(){let e=localStorage.getItem("lockout_until"),t=parseInt(localStorage.getItem("login_attempts")||"0");if(e){let r=parseInt(e);Date.now()<r?this.updateAuthState({isLocked:!0,lockoutUntil:r,loginAttempts:t}):this.clearLockout()}else this.updateAuthState({loginAttempts:t})}clearLockout(){localStorage.removeItem("lockout_until"),localStorage.removeItem("login_attempts"),this.updateAuthState({isLocked:!1,lockoutUntil:null,loginAttempts:0})}clearLoginAttempts(){localStorage.removeItem("login_attempts"),this.updateAuthState({loginAttempts:0})}loginWithGitHub(){return se(this,null,function*(){let e=this._authState.value;if(this.monitoring.logAuthEvent("login_attempt"),e.isLocked){let r=this.calculateLockoutTime(e.lockoutUntil);this.notificationService.authBlocked(r),this.monitoring.logAuthEvent("access_denied",{reason:"account_locked",timeLeft:r});return}let t=this.configService.auth;if(!t.supabase.enabled){let r=this.errorHandler.createAuthError("configuration","AUTH_DISABLED","Autenticaci\xF3n no habilitada",{config:t});this.updateAuthState({error:r}),this.errorHandler.handleAuthError(r,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{reason:"auth_disabled"});return}this.updateAuthState({isLoading:!0,error:null});try{let r=yield this.errorHandler.withRetry(()=>this.supabaseService.signInWithGitHub(),"network");if(r.error){let i=this.errorHandler.handleSupabaseError(r.error,"loginWithGitHub");this.handleFailedLogin(),this.updateAuthState({error:i,isLoading:!1}),this.errorHandler.handleAuthError(i,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{error:r.error});return}this.updateAuthState({isLoading:!1})}catch(r){let i=this.errorHandler.createAuthError("network","NETWORK_ERROR","Error conectando con GitHub",r);this.handleFailedLogin(),this.updateAuthState({error:i,isLoading:!1}),this.errorHandler.handleAuthError(i,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{error:r.message})}})}logout(){return se(this,null,function*(){this.updateAuthState({isLoading:!0});try{let e=this.userEmail,{error:t}=yield this.supabaseService.signOut();if(t){let r=this.errorHandler.handleSupabaseError(t,"logout");this.updateAuthState({error:r,isLoading:!1});return}this.updateAuthState({isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null}),this.notificationService.info("Sesi\xF3n Cerrada","Has cerrado sesi\xF3n correctamente"),this.monitoring.logAuthEvent("logout",{},e||void 0)}catch(e){let t=this.errorHandler.createAuthError("auth","LOGOUT_ERROR","Error al cerrar sesi\xF3n",e);this.updateAuthState({error:t,isLoading:!1})}})}handleFailedLogin(e){let t=this._authState.value,r=this.configService.auth.security,i=t.loginAttempts+1;if(localStorage.setItem("login_attempts",i.toString()),i>=r.maxLoginAttempts){let o=Date.now()+r.lockoutDuration;localStorage.setItem("lockout_until",o.toString()),this.updateAuthState({isLocked:!0,lockoutUntil:o,loginAttempts:i});let s=Math.ceil(r.lockoutDuration/6e4);this.notificationService.authBlocked(s),this.monitoring.logAuthEvent("account_locked",{attempts:i,lockoutUntil:o,lockoutMinutes:s},e)}else this.updateAuthState({loginAttempts:i}),this.monitoring.logAuthEvent("login_failure",{attempts:i},e)}calculateLockoutTime(e){if(!e)return 0;let t=Math.max(0,e-Date.now());return Math.ceil(t/6e4)}get authState$(){return this._authState.asObservable()}get isLoggedIn$(){return this._authState.pipe(ft(e=>e.isLoggedIn))}get userEmail$(){return this._authState.pipe(ft(e=>e.user?.email||null))}get currentUser$(){return this._authState.pipe(ft(e=>e.currentUser))}get isLocked$(){return this._authState.pipe(ft(e=>e.isLocked))}get loginAttempts$(){return this._authState.pipe(ft(e=>e.loginAttempts))}get isLoading$(){return this._authState.pipe(ft(e=>e.isLoading))}get error$(){return this._authState.pipe(ft(e=>e.error))}get isLoggedIn(){let e=this._authState.value;return e.isLoggedIn&&e.currentUser!==null}get userEmail(){return this._authState.value.user?.email||null}get currentUser(){return this._authState.value.currentUser}get isAuthorizedUser(){let e=this._authState.value;return e.isLoggedIn&&e.currentUser!==null}get isLocked(){return this._authState.value.isLocked}get loginAttempts(){return this._authState.value.loginAttempts}get isLoading(){return this._authState.value.isLoading}get error(){return this._authState.value.error}hasPermission(e){let t=this._authState.value.currentUser;return t?t.permissions.includes(e):!1}hasRole(e){let t=this._authState.value.currentUser;return t?t.role===e:!1}isAdmin(){return this.hasRole("admin")}canAccessCertificate(){return this.hasPermission("certificate")}canManage(){return this.hasPermission("management")}clearError(){this.updateAuthState({error:null})}getAuthState(){let e=this._authState.value;return{isLoggedIn:e.isLoggedIn,userEmail:e.user?.email||null,currentUser:e.currentUser,loginAttempts:e.loginAttempts,isLocked:e.isLocked,isLoading:e.isLoading,error:e.error,supabaseState:this.supabaseService.getAuthState()}}static \u0275fac=function(t){return new(t||n)(Ke(Xl),Ke(Zs),Ke(Mi),Ke(C_),Ke(Qs))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})};function BX(n,e){n&1&&(ee(0,"div",11),Re(1,"i",12),ee(2,"strong"),q(3,"Cuenta temporalmente bloqueada"),ae(),ee(4,"p",13),q(5,"Demasiados intentos de acceso fallidos. Intenta m\xE1s tarde."),ae()())}function UX(n,e){n&1&&(ee(0,"div",14),Re(1,"i",15),ee(2,"strong"),q(3,"Autenticaci\xF3n no disponible"),ae(),ee(4,"p",13),q(5,"El sistema de autenticaci\xF3n no est\xE1 configurado correctamente."),ae()())}function VX(n,e){if(n&1){let t=Lr();ee(0,"button",18),et("click",function(){ot(t);let i=lt(2);return st(i.clearError())}),q(1," Intentar de nuevo "),ae()}}function zX(n,e){if(n&1&&(ee(0,"div",11),Re(1,"i",16),ee(2,"strong"),q(3),ae(),ee(4,"p",13),q(5),ae(),gn(6,VX,2,0,"button",17),ae()),n&2){let t=lt();Fe(3),Mn(t.error.type==="network"?"Error de Conexi\xF3n":"Error de Autenticaci\xF3n"),Fe(2),Mn(t.error.userMessage),Fe(),Rt("ngIf",t.error.retryable)}}function HX(n,e){n&1&&(ee(0,"div",19),H0(),ee(1,"svg",20),Re(2,"path",21),ae(),q(3," Iniciar sesi\xF3n con GitHub "),ae())}function qX(n,e){n&1&&(ee(0,"div",19),Re(1,"div",22),q(2," Conectando con GitHub... "),ae())}function $X(n,e){n&1&&(ee(0,"div",19),Re(1,"i",12),q(2," Acceso bloqueado "),ae())}var x_=class n{constructor(e,t,r,i,o){this.auth=e;this.router=t;this.route=r;this.configService=i;this.notificationService=o}authState={isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null,isLocked:!1,loginAttempts:0,lockoutUntil:null};authSubscription;ngOnInit(){if(this.route.queryParams.subscribe(e=>{if(e.error){switch(e.error){case"unauthorized":this.notificationService.warning("Acceso Denegado","Tu cuenta no tiene permisos para acceder a esta aplicaci\xF3n.");break;case"callback_failed":this.notificationService.error("Error de Autenticaci\xF3n","Hubo un problema al procesar tu autenticaci\xF3n.");break}this.router.navigate(["/login"],{replaceUrl:!0})}}),this.auth.isLoggedIn&&this.auth.isAuthorizedUser){this.router.navigate(["/certificate"]);return}this.authSubscription=this.auth.authState$.subscribe(e=>{this.authState=e,e.isLoggedIn&&this.auth.isAuthorizedUser&&this.router.navigate(["/certificate"])})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}loginWithGitHub(){return se(this,null,function*(){this.authState.isLocked||(yield this.auth.loginWithGitHub())})}get allowedEmails(){return["Cualquier usuario con cuenta de GitHub"]}get supabaseEnabled(){return this.configService.auth.supabase.enabled}get isLoading(){return this.authState.isLoading}get isLocked(){return this.authState.isLocked}get error(){return this.authState.error}clearError(){this.auth.clearError()}static \u0275fac=function(t){return new(t||n)(Ze(bo),Ze(wi),Ze(Ko),Ze(Zs),Ze(Mi))};static \u0275cmp=dn({type:n,selectors:[["app-login"]],decls:36,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"login-info"],[1,"info-item"],[1,"icon"],[1,"login-btn",3,"click","disabled"],["class","btn-content",4,"ngIf"],[1,"security-notice"],[1,"alert","alert-danger"],[1,"bi","bi-shield-x","me-2"],[1,"mb-0","small"],[1,"alert","alert-warning"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"bi","bi-exclamation-circle","me-2"],["class","btn btn-sm btn-outline-danger mt-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","mt-2",3,"click"],[1,"btn-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"],[1,"spinner"]],template:function(t,r){t&1&&(ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),q(4,"\u{1F510} Acceso Restringido"),ae(),ee(5,"p"),q(6,"Acceso exclusivo al formulario de certificados"),ae()(),gn(7,BX,6,0,"div",3)(8,UX,6,0,"div",4)(9,zX,7,3,"div",3),ee(10,"div",5)(11,"div",6)(12,"span",7),q(13,"\uFFFD"),ae(),ee(14,"div")(15,"span"),q(16,"Solo usuarios autorizados"),ae()()(),ee(17,"div",6)(18,"span",7),q(19,"\u{1F6E1}\uFE0F"),ae(),ee(20,"span"),q(21,"Autenticaci\xF3n segura con GitHub"),ae()(),ee(22,"div",6)(23,"span",7),q(24,"\u{1F4CB}"),ae(),ee(25,"span"),q(26,"Acceso controlado por permisos de usuario"),ae()()(),ee(27,"button",8),et("click",function(){return r.loginWithGitHub()}),gn(28,HX,4,0,"div",9)(29,qX,3,0,"div",9)(30,$X,3,0,"div",9),ae(),ee(31,"div",10)(32,"small")(33,"span",7),q(34,"\u26A0\uFE0F"),ae(),q(35," Los usuarios autorizados tienen acceso controlado por permisos espec\xEDficos. Cualquier usuario no autorizado ser\xE1 rechazado autom\xE1ticamente. "),ae()()()()),t&2&&(Fe(7),Rt("ngIf",r.isLocked),Fe(),Rt("ngIf",!r.supabaseEnabled),Fe(),Rt("ngIf",r.error&&!r.isLocked),Fe(18),Fi("loading",r.isLoading)("locked",r.isLocked),Rt("disabled",r.isLoading||r.isLocked||!r.supabaseEnabled),Fe(),Rt("ngIf",!r.isLoading&&!r.isLocked),Fe(),Rt("ngIf",r.isLoading),Fe(),Rt("ngIf",r.isLocked))},dependencies:[co,Go],styles:['.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem;background:linear-gradient(135deg,#667eea,#764ba2)}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:3rem;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:450px;width:100%;position:relative;overflow:hidden}.login-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2)}.login-header[_ngcontent-%COMP%]{margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:.5rem;font-size:1.75rem;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1rem}.login-info[_ngcontent-%COMP%]{background:#f7fafc;border-radius:12px;padding:1.5rem;margin-bottom:2rem;border-left:4px solid #667eea}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;font-size:.875rem;color:#4a5568}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem;width:24px;text-align:center}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-weight:600}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,#24292e,#1b1f23);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #24292e4d}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.login-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.login-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.login-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.security-notice[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#fff5f5;border:1px solid #fed7d7;border-radius:8px;color:#c53030}.security-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.875rem;display:flex;align-items:center;gap:.5rem;justify-content:center;line-height:1.4}.security-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.authorized-users-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:.5rem 0 0;text-align:left}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.5rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-size:.9rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;color:#718096}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .5rem;border-radius:12px;font-weight:500}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-admin[_ngcontent-%COMP%]{background-color:#48bb78;color:#fff}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-assistant[_ngcontent-%COMP%]{background-color:#4299e1;color:#fff}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-viewer[_ngcontent-%COMP%]{background-color:#a0aec0;color:#fff}.login-btn.locked[_ngcontent-%COMP%]{background:#a0aec0;cursor:not-allowed}.login-btn.locked[_ngcontent-%COMP%]:hover{background:#a0aec0;transform:none}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;margin-bottom:1.5rem}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#fed7d7;border:1px solid #feb2b2;color:#742a2a}.alert.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e53e3e}.alert.alert-info[_ngcontent-%COMP%]{background-color:#e6fffa;border:1px solid #81e6d9;color:#234e52}.alert.alert-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#319795}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]{padding:2rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}']})};function GX(n,e){if(n&1&&(ee(0,"div",27)(1,"div",7),q(2,"\u{1F6A8}"),ae(),ee(3,"div",8)(4,"div",9),q(5),ae(),ee(6,"div",10),q(7,"Actividad Sospechosa"),ae()()()),n&2){let t=lt(2);Fe(5),Mn(t.metrics.suspiciousActivity)}}function WX(n,e){if(n&1&&(ee(0,"div",31)(1,"div",32),q(2),ae(),ee(3,"div",33)(4,"div",34),q(5),ae(),ee(6,"div",35),q(7),ae()()()),n&2){let t=e.$implicit,r=lt(3);Md("alert-"+t.severity),Fe(2),Mr(" ",r.getAlertIcon(t.severity)," "),Fe(3),Mn(t.type.replace("_"," ").toUpperCase()),Fe(2),Mn(t.message)}}function KX(n,e){if(n&1&&(ee(0,"div",28)(1,"h3"),q(2,"\u{1F6A8} Alertas de Seguridad"),ae(),ee(3,"div",29),gn(4,WX,8,5,"div",30),ae()()),n&2){let t=lt(2);Fe(4),Rt("ngForOf",t.securityAlerts)}}function YX(n,e){if(n&1){let t=Lr();ee(0,"button",36),et("click",function(){let i=ot(t).$implicit,o=lt(2);return st(o.setEventFilter(i.type))}),q(1),ae()}if(n&2){let t=e.$implicit,r=lt(2);Fi("active",r.currentFilter===t.type),Fe(),Mr(" ",t.label," ")}}function XX(n,e){if(n&1&&(ee(0,"div",42)(1,"small"),q(2),ae()()),n&2){let t=lt().$implicit,r=lt(2);Fe(2),Mn(r.formatEventDetails(t.details))}}function ZX(n,e){if(n&1&&(ee(0,"div",37)(1,"div",38),q(2),Ia(3,"date"),ae(),ee(4,"div",39),q(5),ae(),ee(6,"div",40),q(7),ae(),gn(8,XX,3,1,"div",41),ae()),n&2){let t=e.$implicit,r=lt(2);Md("activity-"+t.type.replace("_","-")),Fe(2),Mr(" ",Ta(3,7,t.timestamp,"HH:mm:ss")," "),Fe(3),Ml(" ",r.getEventIcon(t.type)," ",r.formatEventType(t.type)," "),Fe(2),Mr(" ",t.userEmail||"An\xF3nimo"," "),Fe(),Rt("ngIf",t.details)}}function QX(n,e){if(n&1){let t=Lr();ee(0,"div",2)(1,"div",3)(2,"h2"),q(3,"\u{1F510} Panel de Administraci\xF3n - Seguridad"),ae(),ee(4,"div",4),q(5),Ia(6,"date"),ae()(),ee(7,"div",5)(8,"div",6)(9,"div",7),q(10,"\u2705"),ae(),ee(11,"div",8)(12,"div",9),q(13),ae(),ee(14,"div",10),q(15,"Logins Exitosos"),ae()()(),ee(16,"div",11)(17,"div",7),q(18,"\u26A0\uFE0F"),ae(),ee(19,"div",8)(20,"div",9),q(21),ae(),ee(22,"div",10),q(23,"Intentos Fallidos"),ae()()(),ee(24,"div",12)(25,"div",7),q(26,"\u{1F512}"),ae(),ee(27,"div",8)(28,"div",9),q(29),ae(),ee(30,"div",10),q(31,"Cuentas Bloqueadas"),ae()()(),ee(32,"div",13)(33,"div",7),q(34,"\u{1F465}"),ae(),ee(35,"div",8)(36,"div",9),q(37),ae(),ee(38,"div",10),q(39,"Usuarios \xDAnicos"),ae()()(),gn(40,GX,8,1,"div",14),ae(),gn(41,KX,5,1,"div",15),ee(42,"div",16)(43,"h3"),q(44,"\u{1F4CA} Actividad Reciente"),ae(),ee(45,"div",17),gn(46,YX,2,3,"button",18),ae(),ee(47,"div",19),gn(48,ZX,9,10,"div",20),ae()(),ee(49,"div",21)(50,"h3"),q(51,"\u{1F6E0}\uFE0F Controles de Administrador"),ae(),ee(52,"div",22)(53,"button",23),et("click",function(){ot(t);let i=lt();return st(i.clearLoginAttempts())}),q(54," \u{1F504} Limpiar Intentos de Login "),ae(),ee(55,"button",24),et("click",function(){ot(t);let i=lt();return st(i.clearAllEvents())}),q(56," \u{1F5D1}\uFE0F Limpiar Historial de Eventos "),ae(),ee(57,"button",25),et("click",function(){ot(t);let i=lt();return st(i.exportEvents())}),q(58," \u{1F4E5} Exportar Eventos "),ae(),ee(59,"button",26),et("click",function(){ot(t);let i=lt();return st(i.refreshData())}),q(60," \u{1F504} Actualizar Datos "),ae()()()()}if(n&2){let t=lt();Fe(5),Mr(" \xDAltima actualizaci\xF3n: ",Ta(6,9,t.lastUpdate,"short")," "),Fe(8),Mn(t.metrics.successfulLogins),Fe(8),Mn(t.metrics.failedLogins),Fe(8),Mn(t.metrics.accountLockouts),Fe(8),Mn(t.metrics.uniqueUsers),Fe(3),Rt("ngIf",t.metrics.suspiciousActivity>0),Fe(),Rt("ngIf",t.securityAlerts.length>0),Fe(5),Rt("ngForOf",t.eventFilters),Fe(2),Rt("ngForOf",t.filteredEvents)}}function JX(n,e){n&1&&(ee(0,"div",43)(1,"h2"),q(2,"\u{1F6AB} Acceso Denegado"),ae(),ee(3,"p"),q(4,"Solo los administradores pueden acceder a este panel."),ae()())}var D_=class n{constructor(e,t){this.monitoring=e;this.auth=t}metrics={totalLoginAttempts:0,successfulLogins:0,failedLogins:0,accountLockouts:0,accessDenials:0,uniqueUsers:0,suspiciousActivity:0};recentEvents=[];filteredEvents=[];securityAlerts=[];lastUpdate=new Date;currentFilter="all";eventFilters=[{type:"all",label:"Todos"},{type:"login_success",label:"Login Exitoso"},{type:"login_failure",label:"Login Fallido"},{type:"access_denied",label:"Acceso Denegado"},{type:"account_locked",label:"Cuenta Bloqueada"},{type:"suspicious_activity",label:"Actividad Sospechosa"}];refreshSubscription;ngOnInit(){this.isAdmin&&(this.loadData(),this.refreshSubscription=Ub(3e4).subscribe(()=>{this.refreshData()}))}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}get isAdmin(){return this.auth.isAdmin()}loadData(){let e=this.monitoring.getDetailedStats();this.metrics=e.metrics,this.recentEvents=e.recentActivity,this.securityAlerts=e.securityAlerts,this.filterEvents()}refreshData(){this.loadData(),this.lastUpdate=new Date}setEventFilter(e){this.currentFilter=e,this.filterEvents()}filterEvents(){this.currentFilter==="all"?this.filteredEvents=this.recentEvents:this.filteredEvents=this.recentEvents.filter(e=>e.type===this.currentFilter)}getEventIcon(e){return{login_attempt:"\u{1F504}",login_success:"\u2705",login_failure:"\u274C",logout:"\u{1F44B}",access_denied:"\u{1F6AB}",account_locked:"\u{1F512}",suspicious_activity:"\u{1F6A8}"}[e]||"\u{1F4DD}"}getAlertIcon(e){return{info:"\u2139\uFE0F",warning:"\u26A0\uFE0F",error:"\u274C",critical:"\u{1F6A8}"}[e]||"\u2139\uFE0F"}formatEventType(e){return{login_attempt:"Intento de Login",login_success:"Login Exitoso",login_failure:"Login Fallido",logout:"Cierre de Sesi\xF3n",access_denied:"Acceso Denegado",account_locked:"Cuenta Bloqueada",suspicious_activity:"Actividad Sospechosa"}[e]||e}formatEventDetails(e){return e?e.reason?`Raz\xF3n: ${e.reason}`:e.attempts?`Intentos: ${e.attempts}`:JSON.stringify(e):""}clearLoginAttempts(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todos los intentos de login?")&&(localStorage.removeItem("login_attempts"),localStorage.removeItem("lockout_until"),alert("Intentos de login limpiados"),this.refreshData())}clearAllEvents(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todo el historial de eventos?")&&(this.monitoring.clearEvents(),this.refreshData())}exportEvents(){let e=this.monitoring.exportEvents(),t=new Blob([e],{type:"application/json"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=`auth-events-${new Date().toISOString().split("T")[0]}.json`,i.click(),window.URL.revokeObjectURL(r)}static \u0275fac=function(t){return new(t||n)(Ze(Qs),Ze(bo))};static \u0275cmp=dn({type:n,selectors:[["app-admin-dashboard"]],decls:2,vars:2,consts:[["class","admin-dashboard",4,"ngIf"],["class","access-denied",4,"ngIf"],[1,"admin-dashboard"],[1,"dashboard-header"],[1,"last-update"],[1,"metrics-grid"],[1,"metric-card","success"],[1,"metric-icon"],[1,"metric-content"],[1,"metric-number"],[1,"metric-label"],[1,"metric-card","warning"],[1,"metric-card","danger"],[1,"metric-card","info"],["class","metric-card critical",4,"ngIf"],["class","security-alerts",4,"ngIf"],[1,"recent-activity"],[1,"activity-filters"],["class","filter-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"activity-list"],["class","activity-item",3,"class",4,"ngFor","ngForOf"],[1,"admin-controls"],[1,"control-buttons"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"metric-card","critical"],[1,"security-alerts"],[1,"alert-list"],["class","alert-item",3,"class",4,"ngFor","ngForOf"],[1,"alert-item"],[1,"alert-icon"],[1,"alert-content"],[1,"alert-type"],[1,"alert-message"],[1,"filter-btn",3,"click"],[1,"activity-item"],[1,"activity-time"],[1,"activity-type"],[1,"activity-user"],["class","activity-details",4,"ngIf"],[1,"activity-details"],[1,"access-denied"]],template:function(t,r){t&1&&gn(0,QX,61,12,"div",0)(1,JX,5,0,"div",1),t&2&&(Rt("ngIf",r.isAdmin),Fe(),Rt("ngIf",!r.isAdmin))},dependencies:[co,Il,Go,UC],styles:[".admin-dashboard[_ngcontent-%COMP%]{padding:20px;background:#f8f9fa;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.last-update[_ngcontent-%COMP%]{color:#666;font-size:14px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.metric-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;border-left:4px solid}.metric-card.success[_ngcontent-%COMP%]{border-left-color:#10b981}.metric-card.warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.metric-card.danger[_ngcontent-%COMP%]{border-left-color:#ef4444}.metric-card.info[_ngcontent-%COMP%]{border-left-color:#3b82f6}.metric-card.critical[_ngcontent-%COMP%]{border-left-color:#dc2626;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.metric-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:15px}.metric-number[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.metric-label[_ngcontent-%COMP%]{font-size:14px;color:#666}.security-alerts[_ngcontent-%COMP%]{margin-bottom:30px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.alert-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;margin-bottom:10px;border-radius:8px;border:1px solid}.alert-warning[_ngcontent-%COMP%]{background:#fffbeb;border-color:#f59e0b;color:#92400e}.alert-error[_ngcontent-%COMP%]{background:#fef2f2;border-color:#ef4444;color:#991b1b}.alert-critical[_ngcontent-%COMP%]{background:#fef2f2;border-color:#dc2626;color:#7f1d1d;animation:_ngcontent-%COMP%_pulse 2s infinite}.alert-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:15px}.alert-type[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.alert-message[_ngcontent-%COMP%]{font-size:13px;opacity:.9}.recent-activity[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:30px}.activity-filters[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.filter-btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;background:#f8f9fa;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s}.filter-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.filter-btn.active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#3b82f6}.activity-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.activity-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr 150px 1fr;gap:15px;align-items:center;padding:10px;border-bottom:1px solid #eee;font-size:14px}.activity-time[_ngcontent-%COMP%]{font-family:monospace;color:#666;font-size:12px}.activity-type[_ngcontent-%COMP%]{font-weight:500}.activity-user[_ngcontent-%COMP%]{color:#666;font-size:12px}.activity-details[_ngcontent-%COMP%]{color:#888;font-size:11px}.admin-controls[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.control-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;text-decoration:none;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-info[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.access-denied[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}@media (max-width: 768px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.activity-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:5px}.control-buttons[_ngcontent-%COMP%]{flex-direction:column}}"]})};var M_=class n{constructor(e,t,r,i){this.supabaseService=e;this.router=t;this.notificationService=r;this.monitoring=i}loadingMessage="Procesando autenticaci\xF3n...";ngOnInit(){return se(this,null,function*(){try{this.loadingMessage="Procesando autenticaci\xF3n...";let e=new URLSearchParams(window.location.search),t=e.get("error"),r=e.get("error_description"),i=e.get("code");if(t)throw new Error(`OAuth Error: ${t} - ${r||"Error desconocido"}`);if(i){this.loadingMessage="Intercambiando c\xF3digo por sesi\xF3n...";let{error:a}=yield this.supabaseService.exchangeCodeForSession(i);if(a)throw new Error(`Error en intercambio de c\xF3digo: ${a.message}`);yield new Promise(l=>setTimeout(l,1e3))}this.loadingMessage="Obteniendo sesi\xF3n...";let o=yield this.supabaseService.getSession();if(o||(this.loadingMessage="Esperando autenticaci\xF3n...",yield new Promise(a=>setTimeout(a,2e3)),o=yield this.supabaseService.getSession()),!o?.user)throw new Error("No se pudo obtener la informaci\xF3n del usuario");this.loadingMessage="Verificando permisos...",(yield this.checkUserAuthorization(o.user))?(this.monitoring.logAuthEvent("login_success",{email:o.user.email,provider:"github",authorized:!0},o.user.email||"unknown"),this.loadingMessage="Acceso autorizado. Redirigiendo...",this.notificationService.authSuccess(o.user.user_metadata?.full_name||o.user.user_metadata?.name||o.user.email||"Usuario"),setTimeout(()=>this.router.navigate(["/certificate"]),1500)):(this.monitoring.logAuthEvent("access_denied",{email:o.user.email,reason:"user_not_in_allowed_list"},o.user.email||"unknown"),yield this.supabaseService.signOut(),this.notificationService.warning("Acceso Denegado","Tu cuenta no tiene permisos para acceder a esta aplicaci\xF3n."),this.router.navigate(["/login"],{queryParams:{error:"unauthorized"}}))}catch(e){this.monitoring.logAuthEvent("login_failure",{error:e instanceof Error?e.message:"Unknown error"}),this.notificationService.error("Error de Autenticaci\xF3n","Hubo un problema al procesar tu autenticaci\xF3n."),this.router.navigate(["/login"],{queryParams:{error:"callback_failed"}})}})}checkUserAuthorization(e){return se(this,null,function*(){try{let t=yield this.supabaseService.getUserEmails(),r=e.email||t[0],i=e.user_metadata?.user_name||e.user_metadata?.preferred_username;if(!r&&!i)return!1;let{isAuthorized:o}=yield this.supabaseService.checkUserInAllowedList(r,i);return o}catch{return!1}})}static \u0275fac=function(t){return new(t||n)(Ze(Xl),Ze(wi),Ze(Mi),Ze(Qs))};static \u0275cmp=dn({type:n,selectors:[["app-callback"]],decls:5,vars:1,consts:[[1,"callback-container"],[1,"loading-spinner"],[1,"spinner"]],template:function(t,r){t&1&&(ye(0,"div",0)(1,"div",1),nt(2,"div",2),ye(3,"p"),q(4),we()()()),t&2&&(Fe(4),Mn(r.loadingMessage))},styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#fff}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(255,255,255,.3);border-top:5px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}p[_ngcontent-%COMP%]{font-size:18px;margin:0}"]})};var Hg=class n{constructor(e,t,r,i,o){this.auth=e;this.router=t;this.configService=r;this.notificationService=i;this.monitoring=o}canActivate(e,t){return se(this,null,function*(){return this.configService.auth.supabase.enabled?window.location.search.includes("code=")&&t.url!=="/callback"?(this.router.navigate(["/callback"]),!1):this.auth.isLocked?(this.notificationService.warning("Acceso Denegado","Tu cuenta est\xE1 temporalmente bloqueada."),this.monitoring.logAuthEvent("access_denied",{reason:"account_locked",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/login"]),!1):this.auth.isLoggedIn?(t.url==="/certificate"||t.url.startsWith("/certificate"))&&!this.auth.canAccessCertificate()?(this.notificationService.warning("Permisos Insuficientes","No tienes permisos para generar certificados."),this.monitoring.logAuthEvent("access_denied",{reason:"insufficient_permissions",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/"]),!1):(t.url==="/admin"||t.url.startsWith("/admin"))&&!this.auth.isAdmin()?(this.notificationService.warning("Acceso Restringido","Solo los administradores pueden acceder a este panel."),this.monitoring.logAuthEvent("access_denied",{reason:"admin_only",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/"]),!1):!0:(this.notificationService.info("Acceso Requerido","Necesitas iniciar sesi\xF3n para acceder a esta p\xE1gina."),this.monitoring.logAuthEvent("access_denied",{reason:"not_authenticated",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1):!0})}static \u0275fac=function(t){return new(t||n)(Ke(bo),Ke(wi),Ke(Zs),Ke(Mi),Ke(Qs))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nk=[{path:"",component:sy},{path:"certificate",component:W2,canActivate:[Hg]},{path:"admin",component:D_,canActivate:[Hg]},{path:"login",component:x_},{path:"callback",component:M_},{path:"**",redirectTo:""}];var Ok={providers:[W5(),EC({eventCoalescing:!0}),NT(),xE(Nk,DE({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"})),JC(),Xl,bo]};function eZ(n,e){n&1&&(ee(0,"li")(1,"a",42),Re(2,"i",43),q(3,"Generar Certificado "),ae()())}function tZ(n,e){n&1&&(ee(0,"li")(1,"a",44),Re(2,"i",45),q(3,"Panel de Admin "),ae()())}function nZ(n,e){if(n&1){let t=Lr();ee(0,"div",26)(1,"div",27)(2,"a",28)(3,"div",29),Re(4,"i",30),ae(),ee(5,"div",31)(6,"div",32),q(7),ae(),ee(8,"div",33)(9,"small",34),q(10),ae()()()(),ee(11,"ul",35)(12,"li")(13,"h6",36),Re(14,"i",37),q(15),ae()(),ee(16,"li"),Re(17,"hr",38),ae(),gn(18,eZ,4,0,"li",39)(19,tZ,4,0,"li",39),ee(20,"li"),Re(21,"hr",38),ae(),ee(22,"li")(23,"a",40),et("click",function(){ot(t);let i=lt();return st(i.logout())}),Re(24,"i",41),q(25,"Cerrar Sesi\xF3n "),ae()()()()()}if(n&2){let t=lt();Fe(7),Mn(t.auth.currentUser.displayName),Fe(3),Mn(t.auth.currentUser.role),Fe(5),Mr("",t.auth.currentUser.displayName," "),Fe(3),Rt("ngIf",t.auth.canAccessCertificate()),Fe(),Rt("ngIf",t.auth.isAdmin())}}var A_=class n{constructor(e,t){this.auth=e;this.router=t}logout(){this.auth.logout(),this.router.navigate(["/"])}accessCertificate(){this.auth.isLoggedIn&&this.auth.canAccessCertificate()?this.router.navigate(["/certificate"]):this.showLoginModal()}showLoginModal(){let e=document.getElementById("loginModal");e&&new bootstrap.Modal(e).show()}goToLogin(){let e=document.getElementById("loginModal");if(e){let t=bootstrap.Modal.getInstance(e);t&&t.hide()}this.router.navigate(["/login"])}scrollToSection(e){let t=document.getElementById("navbarNav");t&&t.classList.contains("show")&&new window.bootstrap.Collapse(t,{toggle:!1}).hide(),this.router.navigate(["/"],{fragment:e}).then(()=>{let r=document.getElementById(e);r&&r.scrollIntoView({behavior:"smooth",block:"start"})})}static \u0275fac=function(t){return new(t||n)(Ze(bo),Ze(wi))};static \u0275cmp=dn({type:n,selectors:[["app-app-header"]],decls:46,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"bi","bi-award","me-1"],["class","navbar-nav ms-3",4,"ngIf"],["id","loginModal","tabindex","-1","aria-labelledby","loginModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","border-0"],["id","loginModalLabel",1,"modal-title"],[1,"bi","bi-shield-lock","me-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"mb-4"],[1,"bi","bi-award","display-1","text-primary"],[1,"text-muted"],[1,"modal-footer","border-0","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-box-arrow-in-right","me-1"],[1,"navbar-nav","ms-3"],[1,"nav-item","dropdown"],["href","#","id","userDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center"],[1,"user-avatar","me-2"],[1,"bi","bi-person-circle","fs-5"],[1,"user-info","d-none","d-md-block"],[1,"user-name"],[1,"user-role"],[1,"badge","bg-light","text-dark"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-header"],[1,"bi","bi-person-check","me-1"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"bi","bi-box-arrow-right","me-2"],["routerLink","/certificate","routerLinkActive","active",1,"dropdown-item"],[1,"bi","bi-award","me-2"],["routerLink","/admin","routerLinkActive","active",1,"dropdown-item"],[1,"bi","bi-shield-check","me-2"]],template:function(t,r){t&1&&(ee(0,"nav",0)(1,"div",1)(2,"a",2),q(3,"Psicolog\xEDa Abel Navarro"),ae(),ee(4,"button",3),Re(5,"span",4),ae(),ee(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),et("click",function(){return r.scrollToSection("banner")}),q(10,"Inicio"),ae()(),ee(11,"li",7)(12,"a",8),et("click",function(){return r.scrollToSection("workshops")}),q(13,"Talleres"),ae()(),ee(14,"li",7)(15,"a",8),et("click",function(){return r.scrollToSection("about")}),q(16,"Sobre M\xED"),ae()(),ee(17,"li",7)(18,"a",8),et("click",function(){return r.scrollToSection("contact")}),q(19,"Contacto"),ae()(),ee(20,"li",7)(21,"a",8),et("click",function(){return r.accessCertificate()}),Re(22,"i",9),q(23,"Certificado "),ae()()(),gn(24,nZ,26,5,"div",10),ae()()(),ee(25,"div",11)(26,"div",12)(27,"div",13)(28,"div",14)(29,"h5",15),Re(30,"i",16),q(31,"Acceso Requerido "),ae(),Re(32,"button",17),ae(),ee(33,"div",18)(34,"div",19),Re(35,"i",20),ae(),ee(36,"h6"),q(37,"Para acceder al certificado necesitas autenticarte"),ae(),ee(38,"p",21),q(39,"Solo usuarios autorizados pueden generar certificados"),ae()(),ee(40,"div",22)(41,"button",23),q(42,"Cancelar"),ae(),ee(43,"button",24),et("click",function(){return r.goToLogin()}),Re(44,"i",25),q(45,"Iniciar Sesi\xF3n "),ae()()()()()),t&2&&(Fe(24),Rt("ngIf",r.auth.isLoggedIn&&r.auth.currentUser))},dependencies:[co,Go,Yd,SE],styles:["nav[_ngcontent-%COMP%]{margin-bottom:1rem}.nav-link.active[_ngcontent-%COMP%]{font-weight:600;text-decoration:underline}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.375rem;transition:all .2s ease}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;line-height:1.2}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;line-height:1}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.25em .5em}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:1rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:2rem 2rem 1rem}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#495057;font-weight:600}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 2rem}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:.5rem}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.875rem}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem}@media (max-width: 768px){.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:none!important}}"]})};var I_=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=dn({type:n,selectors:[["app-app-footer"]],decls:3,vars:0,consts:[[1,"bg-primary","text-white","text-center","py-3","mt-5"],[1,"container"]],template:function(t,r){t&1&&(ye(0,"footer",0)(1,"div",1),q(2," \xA9 2025 Abel Uriaz Navarro Carrasco. Todos los derechos reservados. "),we()())},encapsulation:2})};function rZ(n,e){if(n&1){let t=Lr();ee(0,"button",11),et("click",function(){ot(t);let i=lt().$implicit,o=lt();return st(o.executeAction(i))}),q(1),ae()}if(n&2){let t=lt().$implicit;Fe(),Mr(" ",t.action.label," ")}}function iZ(n,e){if(n&1){let t=Lr();ee(0,"div",2)(1,"div",3),Re(2,"span",4),ae(),ee(3,"div",5)(4,"div",6),q(5),ae(),ee(6,"div",7),q(7),ae()(),ee(8,"div",8),gn(9,rZ,2,1,"button",9),ee(10,"button",10),et("click",function(){let i=ot(t).$implicit,o=lt();return st(o.close(i.id))}),q(11," \xD7 "),ae()()()}if(n&2){let t=e.$implicit,r=lt();Md("notification-"+t.type),Rt("@slideIn",void 0),Fe(2),Rt("innerHTML",r.getIcon(t.type),qw),Fe(3),Mn(t.title),Fe(2),Mn(t.message),Fe(2),Rt("ngIf",t.action)}}var T_=class n{constructor(e){this.notificationService=e}notifications=[];subscription;ngOnInit(){this.subscription=this.notificationService.notifications$.subscribe(e=>{this.notifications=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getIcon(e){return{success:"\u2713",error:"\u2715",warning:"\u26A0",info:"\u2139"}[e]||"\u2139"}close(e){this.notificationService.remove(e)}executeAction(e){e.action&&(e.action.callback(),this.close(e.id))}static \u0275fac=function(t){return new(t||n)(Ze(Mi))};static \u0275cmp=dn({type:n,selectors:[["app-notifications"]],decls:2,vars:1,consts:[[1,"notifications-container"],["class","notification",3,"class",4,"ngFor","ngForOf"],[1,"notification"],[1,"notification-icon"],[3,"innerHTML"],[1,"notification-content"],[1,"notification-title"],[1,"notification-message"],[1,"notification-actions"],["class","action-btn",3,"click",4,"ngIf"],["aria-label","Cerrar notificaci\xF3n",1,"close-btn",3,"click"],[1,"action-btn",3,"click"]],template:function(t,r){t&1&&(ee(0,"div",0),gn(1,iZ,12,7,"div",1),ae()),t&2&&(Fe(),Rt("ngForOf",r.notifications))},dependencies:[co,Il,Go],styles:[".notifications-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:400px;width:100%}.notification[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:16px;margin-bottom:12px;border-radius:8px;box-shadow:0 4px 12px #00000026;background:#fff;border-left:4px solid;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.notification-success[_ngcontent-%COMP%]{border-left-color:#10b981;background:#f0fdf4}.notification-error[_ngcontent-%COMP%]{border-left-color:#ef4444;background:#fef2f2}.notification-warning[_ngcontent-%COMP%]{border-left-color:#f59e0b;background:#fffbeb}.notification-info[_ngcontent-%COMP%]{border-left-color:#3b82f6;background:#eff6ff}.notification-icon[_ngcontent-%COMP%]{margin-right:12px;font-size:20px;line-height:1}.notification-success[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#10b981}.notification-error[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#ef4444}.notification-warning[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#f59e0b}.notification-info[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#3b82f6}.notification-content[_ngcontent-%COMP%]{flex:1;min-width:0}.notification-title[_ngcontent-%COMP%]{font-weight:600;font-size:14px;margin-bottom:4px;color:#111827}.notification-message[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;line-height:1.4}.notification-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:12px}.action-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:4px 12px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:background-color .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#2563eb}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;line-height:1;cursor:pointer;color:#9ca3af;transition:color .2s;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{color:#6b7280}@media (max-width: 640px){.notifications-container[_ngcontent-%COMP%]{top:10px;right:10px;left:10px;max-width:none}.notification[_ngcontent-%COMP%]{padding:12px}}"],data:{animation:[ME("slideIn",[Rv(":enter",[kl({transform:"translateX(100%)",opacity:0}),kv("300ms ease-in",kl({transform:"translateX(0%)",opacity:1}))]),Rv(":leave",[kv("300ms ease-out",kl({transform:"translateX(100%)",opacity:0}))])])]}})};var P_=class n{title=Cs("psic-abelnavarro");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=dn({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){t&1&&Re(0,"app-app-header")(1,"router-outlet")(2,"app-app-footer")(3,"app-notifications")},dependencies:[Np,A_,I_,T_],encapsulation:2})};XC(P_,Ok).catch(n=>console.error(n));
