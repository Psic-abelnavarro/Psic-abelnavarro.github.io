import{b as pe}from"./chunk-M2NVJH4O.js";import{c as X,d as V,e as ee,f as te,j as ie,m as ne,n as ae,o as re,p as oe,q as le,u as se,v as de,x as ce}from"./chunk-AUZY6O5Y.js";import{a as me}from"./chunk-IWJALEKK.js";import{a as R}from"./chunk-G3MWZKLR.js";import{g as Q,h as Z,m as J}from"./chunk-2UJ2GV6T.js";import{f as $,h as Y,i as K,l as W}from"./chunk-GBIZ2ZL5.js";import{Cc as z,Da as o,Db as k,Fb as G,Gb as a,Hb as g,I as A,Ib as b,Jb as j,Na as U,P as L,Q as P,S as O,Sb as H,_ as C,ab as q,ac as v,bb as p,cb as u,da as f,ea as x,fb as N,gb as T,hb as S,ia as B,ib as t,jb as i,kb as d,ma as _,r as M,rb as y,sb as h,ub as m}from"./chunk-DWRMJDZW.js";import"./chunk-LJ5XHLMQ.js";import"./chunk-FK42CRUA.js";var ge=r=>["/inscripciones",r],ve=(r,n)=>n.field;function be(r,n){if(r&1&&(t(0,"li",3)(1,"a",12),a(2),i()()),r&2){let e=m();o(),S("routerLink",H(2,ge,e.registration().id)),o(),b(" Detalle #",e.registration().id," ")}}function fe(r,n){r&1&&(t(0,"div",10)(1,"div",13)(2,"div",14),d(3,"span",15)(4,"span",16)(5,"span",17),i()(),t(6,"div",13)(7,"div",18)(8,"div",14),d(9,"div",19),i(),t(10,"div",20),d(11,"span",21)(12,"br")(13,"span",22),i()()(),t(14,"div",13)(15,"div",23)(16,"div",24)(17,"div",14),d(18,"span",25),i()(),t(19,"div",26)(20,"div",10)(21,"div",27)(22,"div",14),d(23,"span",28)(24,"span",29),i()(),t(25,"div",27)(26,"div",14),d(27,"span",30)(28,"span",29),i()()()()()()())}function xe(r,n){if(r&1){let e=y();t(0,"div",11)(1,"div",31)(2,"div",32),d(3,"i",33),t(4,"div",34)(5,"h6",35),a(6,"Error al cargar"),i(),t(7,"p",36),a(8),i(),t(9,"button",37),h("click",function(){f(e);let c=m();return x(c.retry())}),d(10,"i",38),a(11," Reintentar "),i()()()()()}if(r&2){let e=m();o(8),g(e.error())}}function _e(r,n){if(r&1){let e=y();t(0,"div",11)(1,"div",31)(2,"div",39),d(3,"i",40),t(4,"div",34)(5,"h6",35),a(6,"Sin permisos de edici\xF3n"),i(),t(7,"p",36),a(8),i(),t(9,"button",41),h("click",function(){f(e);let c=m();return x(c.navigateBack())}),d(10,"i",42),a(11," Volver al detalle "),i()()()()()}if(r&2){let e=m();o(8),g(e.permissions().reason||"No tiene permisos para editar esta inscripci\xF3n")}}function he(r,n){if(r&1){let e=y();t(0,"div",54),d(1,"i",125),t(2,"div",34)(3,"strong",109),a(4,"Error:"),i(),t(5,"span",109),a(6),i()(),t(7,"button",126),h("click",function(){f(e);let c=m(2);return x(c.clearError())}),i()()}if(r&2){let e=m(2);o(6),g(e.error())}}function Ce(r,n){if(r&1){let e=y();t(0,"div",55),d(1,"i",127),t(2,"div",34)(3,"strong",109),a(4,"\xC9xito:"),i(),t(5,"span",109),a(6),i()(),t(7,"button",126),h("click",function(){f(e);let c=m(2);return x(c.clearSuccess())}),i()()}if(r&2){let e=m(2);o(6),g(e.success())}}function Ee(r,n){if(r&1&&(t(0,"p",129),a(1),i()),r&2){let e=m(3);o(),g(e.registrationStateInfo().description)}}function Se(r,n){if(r&1&&(t(0,"span",128),a(1),i(),p(2,Ee,2,1,"p",129)),r&2){let e=m(2);G("text-bg-"+(e.registrationStateInfo().badgeClass.includes("primary")?"primary":e.registrationStateInfo().badgeClass.includes("success")?"success":e.registrationStateInfo().badgeClass.includes("warning")?"warning":e.registrationStateInfo().badgeClass.includes("danger")?"danger":"secondary")),o(),b(" ",e.registrationStateInfo().name," "),o(),u(e.registrationStateInfo().description?2:-1)}}function ye(r,n){if(r&1&&(t(0,"div"),d(1,"i",130),a(2),i()),r&2){let e=m(2);o(2),b(" ",e.formatCurrency(e.eventCost())," ")}}function Re(r,n){if(r&1&&(t(0,"div"),d(1,"i",131),a(2),i()),r&2){let e=m(2);o(2),b(" ",e.registration().user.institution," ")}}function Ie(r,n){if(r&1&&(t(0,"option",84),a(1),i()),r&2){let e=n.$implicit,s=n.$index;S("value",s+1),o(),j("",e.name," - ",e.description)}}function Fe(r,n){if(r&1&&(t(0,"div",85),a(1),i()),r&2){let e=m(2);o(),b(" ",e.getFieldError("participantRoleId")," ")}}function we(r,n){r&1&&(t(0,"small",66),a(1,"El participante tendr\xE1 este rol en el evento"),i())}function De(r,n){if(r&1&&(t(0,"div",85),a(1),i()),r&2){let e=m(2);o(),b(" ",e.getFieldError("notes")," ")}}function Ne(r,n){r&1&&(t(0,"div",97),d(1,"i",132),t(2,"span",109),a(3,"Hay cambios sin guardar en el formulario"),i()())}function Te(r,n){if(r&1){let e=y();t(0,"button",133),h("click",function(){f(e);let c=m(2);return x(c.resetForm())}),d(1,"i",38),a(2," Restablecer "),i()}if(r&2){let e=m(2);S("disabled",e.saving())}}function ke(r,n){r&1&&(d(0,"span",134),a(1," Guardando... "))}function Ve(r,n){r&1&&(d(0,"i",135),a(1," Guardar Cambios "))}function Me(r,n){if(r&1&&(t(0,"div",111)(1,"h6",136),d(2,"i",87),a(3," Evento con costo "),i(),t(4,"p",124),a(5),i()()),r&2){let e=m(2);o(5),b(" Este evento tiene un costo de ",e.formatCurrency(e.eventCost()),". Los cambios pueden afectar el estado de pago. ")}}function Ae(r,n){r&1&&(t(0,"span",118),a(1,"V\xE1lido"),i())}function Le(r,n){r&1&&(t(0,"span",119),a(1,"Inv\xE1lido"),i())}function Pe(r,n){r&1&&(t(0,"span",120),a(1,"Sin guardar"),i())}function Oe(r,n){r&1&&(t(0,"span",121),a(1,"Sin cambios"),i())}function Be(r,n){if(r&1&&(t(0,"li",137),a(1),i()),r&2){let e=n.$implicit;o(),g(e.message)}}function Ue(r,n){if(r&1&&(t(0,"div",122)(1,"strong",137),a(2,"Errores de validaci\xF3n:"),i(),t(3,"ul",138),N(4,Be,2,1,"li",137,ve),i()()),r&2){let e=m(2);o(4),T(e.validationErrors())}}function qe(r,n){if(r&1&&(t(0,"div")(1,"strong",109),a(2,"\xDAltimo cambio de estado:"),i(),t(3,"p",124),a(4),i()()),r&2){let e=m(2);o(4),g(e.formatDate(e.registration().stateChangedAt))}}function Ge(r,n){if(r&1){let e=y();t(0,"div",43)(1,"div",44)(2,"h1",45)(3,"div",46),d(4,"i",47),i(),t(5,"div",48)(6,"span",49),a(7),i(),t(8,"p",50),a(9,"Modifica los datos de la inscripci\xF3n"),i()()()(),t(10,"div",51)(11,"button",52),h("click",function(){f(e);let c=m();return x(c.onCancel())}),d(12,"i",42),t(13,"span",53),a(14,"Volver"),i()()()(),p(15,he,8,1,"div",54),p(16,Ce,8,1,"div",55),t(17,"form",56),h("ngSubmit",function(){f(e);let c=m();return x(c.onSubmit())}),t(18,"div",57)(19,"div",58)(20,"div",59)(21,"div",60)(22,"h6",61),d(23,"i",62),a(24," Informaci\xF3n de la Inscripci\xF3n "),i()(),t(25,"div",63)(26,"div",57)(27,"div",13)(28,"div",64)(29,"div")(30,"h6",65),a(31,"Estado Actual"),i(),p(32,Se,3,4),i(),t(33,"div")(34,"small",66),a(35,"Fecha de registro"),i(),t(36,"p",67),a(37),i()()()(),t(38,"div",27)(39,"label",68),a(40,"Evento"),i(),t(41,"div",69)(42,"div",70)(43,"div",71),d(44,"i",72),i(),t(45,"div",34)(46,"h6",73),a(47),i(),t(48,"div",66)(49,"div",65),d(50,"i",74),a(51),i(),p(52,ye,3,1,"div"),i()()()()(),t(53,"div",27)(54,"label",68),a(55,"Participante"),i(),t(56,"div",69)(57,"div",70)(58,"div",75)(59,"span",76),a(60),i()(),t(61,"div",34)(62,"h6",73),a(63),i(),t(64,"div",66)(65,"div",65),d(66,"i",77),a(67),i(),p(68,Re,3,1,"div"),i()()()()()()()(),t(69,"div",23)(70,"div",78)(71,"h6",61),d(72,"i",79),a(73," Datos Editables "),i()(),t(74,"div",63)(75,"div",57)(76,"div",27)(77,"label",80),a(78," Rol del participante "),t(79,"span",81),a(80,"*"),i()(),t(81,"select",82)(82,"option",83),a(83,"Seleccione un rol"),i(),N(84,Ie,2,3,"option",84,q().trackByRoleIndex,!0),i(),p(86,Fe,2,1,"div",85),t(87,"div",86),d(88,"i",87),a(89," Especifica la funci\xF3n del participante en el evento "),i()(),t(90,"div",27)(91,"label",88),a(92,"Rol seleccionado"),i(),t(93,"div",89)(94,"div",90),d(95,"i",91),t(96,"span",92),a(97),i()(),p(98,we,2,0,"small",66),i()(),t(99,"div",13)(100,"label",93),a(101," Notas o comentarios "),i(),d(102,"textarea",94),p(103,De,2,1,"div",85),t(104,"div",95)(105,"span"),d(106,"i",87),a(107," Opcional: Cualquier informaci\xF3n relevante para la inscripci\xF3n "),i(),t(108,"span",96),a(109),i()()()(),p(110,Ne,4,0,"div",97),t(111,"div",98)(112,"button",99),h("click",function(){f(e);let c=m();return x(c.onCancel())}),d(113,"i",100),a(114," Cancelar "),i(),t(115,"div",101),p(116,Te,3,1,"button",102),t(117,"button",103),p(118,ke,2,0)(119,Ve,2,0),i()()()()()(),t(120,"div",104)(121,"div",23)(122,"div",63)(123,"h6",105),d(124,"i",106),a(125," Informaci\xF3n de Edici\xF3n "),i(),t(126,"div",107)(127,"div",108)(128,"strong",109),a(129,"Campos editables:"),i(),t(130,"ul",110)(131,"li",65),a(132,"Rol del participante"),i(),t(133,"li",65),a(134,"Notas y comentarios"),i()()(),t(135,"div",108)(136,"strong",109),a(137,"Restricciones:"),i(),t(138,"ul",110)(139,"li",65),a(140,"Solo ciertos estados permiten edici\xF3n"),i(),t(141,"li",65),a(142,"Se requieren permisos espec\xEDficos"),i(),t(143,"li",65),a(144,"Los cambios quedan registrados"),i()()(),p(145,Me,6,1,"div",111),t(146,"div")(147,"strong",109),a(148,"\xBFNecesita ayuda?"),i(),t(149,"p",112)(150,"a",113),a(151,"Ver documentaci\xF3n"),i(),a(152," \xB7 "),t(153,"a",113),a(154,"Contactar soporte"),i()()()()()(),t(155,"div",114)(156,"div",63)(157,"h6",105),d(158,"i",115),a(159," Estado del Formulario "),i(),t(160,"div",116)(161,"div",117)(162,"span",109),a(163,"Validaci\xF3n"),i(),p(164,Ae,2,0,"span",118)(165,Le,2,0,"span",119),i(),t(166,"div",117)(167,"span",109),a(168,"Cambios"),i(),p(169,Pe,2,0,"span",120)(170,Oe,2,0,"span",121),i(),p(171,Ue,6,0,"div",122),i()()(),t(172,"div",114)(173,"div",63)(174,"h6",105),d(175,"i",123),a(176," Informaci\xF3n de Registro "),i(),t(177,"div",116)(178,"div",36)(179,"strong",109),a(180,"Creado:"),i(),t(181,"p",124),a(182),i()(),t(183,"div",36)(184,"strong",109),a(185,"\xDAltima actualizaci\xF3n:"),i(),t(186,"p",124),a(187),i()(),p(188,qe,5,1,"div"),i()()()()()()}if(r&2){let e,s,c,E,I,F,w,D,l=m();o(7),b("Editar Inscripci\xF3n #",l.registration().id),o(8),u(l.error()?15:-1),o(),u(l.success()?16:-1),o(),S("formGroup",l.editForm),o(15),u(l.registrationStateInfo()?32:-1),o(5),g(l.formatDate(l.registration().registrationDate)),o(10),g(((e=l.registration().event)==null?null:e.title)||"No disponible"),o(4),b(" ",l.formatDate((s=l.registration().event)==null?null:s.startDate)," "),o(),u(l.hasEventCost()?52:-1),o(8),g(l.getUserInitials((c=l.registration().user)==null?null:c.fullName)),o(3),g(((E=l.registration().user)==null?null:E.fullName)||"No disponible"),o(4),b(" ",((I=l.registration().user)==null?null:I.email)||"No disponible"," "),o(),u((F=l.registration().user)!=null&&F.institution?68:-1),o(13),k("is-invalid",l.isFieldInvalid("participantRoleId")),o(3),T(l.availableRoles()),o(2),u(l.isFieldInvalid("participantRoleId")?86:-1),o(11),g(l.selectedRoleName()),o(),u((w=l.editForm.get("participantRoleId"))!=null&&w.value?98:-1),o(4),k("is-invalid",l.isFieldInvalid("notes")),o(),u(l.isFieldInvalid("notes")?103:-1),o(6),b(" ",((D=l.editForm.get("notes"))==null||D.value==null?null:D.value.length)||0,"/500 "),o(),u(l.formHasChanges()?110:-1),o(2),S("disabled",l.saving()),o(4),u(l.formHasChanges()?116:-1),o(),S("disabled",!l.isFormValid()||l.saving()||!l.formHasChanges()),o(),u(l.saving()?118:119),o(27),u(l.hasEventCost()?145:-1),o(19),u(l.isFormValid()?164:165),o(5),u(l.formHasChanges()?169:170),o(2),u(l.hasValidationErrors()?171:-1),o(11),g(l.formatDate(l.registration().createdAt)),o(5),g(l.formatDate(l.registration().updatedAt)),o(),u(l.registration().stateChangedAt?188:-1)}}var ue=class r{fb=C(de);router=C(Y);route=C($);destroyRef=C(B);registrationService=C(pe);staticDataService=C(me);authService=C(J);loadingState=_("idle");loading=v(()=>this.loadingState()==="loading");savingState=_("idle");saving=v(()=>this.savingState()==="saving");error=_(null);success=_(null);registrationId=_(null);registration=_(null);availableRoles=_([]);originalFormValue=_(null);currentUser=v(()=>this.authService.currentUser);editForm=this.fb.group({participantRoleId:this.fb.control(null,[V.required]),notes:this.fb.control("",[V.maxLength(500)])});permissions=v(()=>{let n=this.registration(),e=this.currentUser();if(!n||!e)return{canEdit:!1,canChangeState:!1,canCancel:!1,reason:"Informaci\xF3n no disponible"};if(!Z.includes(n.currentState?.stateKey))return{canEdit:!1,canChangeState:!1,canCancel:!1,reason:"El estado actual no permite edici\xF3n"};let s=e.role==="admin",c=e.role==="organizer",E=e.id===n.userId;return{canEdit:s||c||E,canChangeState:s||c,canCancel:s||c||E}});hasPermissionToEdit=v(()=>this.permissions().canEdit);hasEventCost=v(()=>{let n=this.registration();return n?.event?.cost!=null&&n.event.cost>0});eventCost=v(()=>this.registration()?.event?.cost||0);formHasChanges=v(()=>{let n=this.editForm.value,e=this.originalFormValue();return e?n.participantRoleId!==e.participantRoleId||n.notes?.trim()!==e.notes?.trim():!1});isFormValid=v(()=>this.editForm.valid);selectedRoleName=v(()=>{let n=this.editForm.get("participantRoleId")?.value;return n?this.availableRoles().find((c,E)=>E+1===n)?.name||"Rol desconocido":"Sin rol asignado"});validationErrors=v(()=>{let n=[],e=this.editForm;if(e.get("participantRoleId")?.invalid&&e.get("participantRoleId")?.touched&&e.get("participantRoleId")?.errors?.required&&n.push({field:"participantRoleId",message:"Debe seleccionar un rol para el participante",type:"required"}),e.get("notes")?.invalid&&e.get("notes")?.touched){let s=e.get("notes");s?.errors?.maxlength&&n.push({field:"notes",message:`Las notas no pueden exceder ${s.errors.maxlength.requiredLength} caracteres`,type:"maxlength"})}return n});hasValidationErrors=v(()=>this.validationErrors().length>0);registrationStateInfo=v(()=>{let n=this.registration();if(!n?.currentState)return null;let e=n.currentState.stateKey;return{key:e,name:n.currentState.displayName,description:n.currentState.description,color:Q[e]||"#6b7280",badgeClass:this.getStateBadgeClass(e)}});trackByRoleIndex=(n,e)=>n;ngOnInit(){this.loadInitialData(),this.setupFormSubscriptions()}loadInitialData(){this.loadingState.set("loading"),this.error.set(null),this.route.params.pipe(O(n=>{let e=parseInt(n.id);if(isNaN(e))throw new Error("ID de inscripci\xF3n inv\xE1lido");this.registrationId.set(e)}),P(n=>{let e=parseInt(n.id);return M([this.registrationService.getRegistrationById(e),this.staticDataService.getParticipantRolesList()])}),R(this.destroyRef)).subscribe({next:([n,e])=>{this.registration.set(n),this.availableRoles.set(e),this.populateForm(n),this.loadingState.set("success")},error:n=>{console.error("Error loading registration:",n),this.error.set("Error al cargar la inscripci\xF3n. Verifique que el ID sea correcto."),this.loadingState.set("error")}})}setupFormSubscriptions(){this.editForm.valueChanges.pipe(L(this.editForm.value),R(this.destroyRef)).subscribe(()=>{this.clearMessages()})}populateForm(n){let e={participantRoleId:n.participantRoleId,notes:n.notes||""};this.editForm.patchValue(e),this.originalFormValue.set(e)}onSubmit(){if(!this.isFormValid()){this.markFormAsTouched();return}if(!this.formHasChanges()){this.success.set("No hay cambios para guardar");return}this.saveChanges()}saveChanges(){let n=this.registration();if(!n)return;this.savingState.set("saving"),this.error.set(null),this.success.set(null);let e=this.editForm.value,s={participantRoleId:e.participantRoleId||void 0,notes:e.notes?.trim()||void 0};this.registrationService.updateRegistration(n.id,s).pipe(R(this.destroyRef),A(()=>this.savingState.set("idle"))).subscribe({next:c=>{this.savingState.set("success"),this.success.set("Inscripci\xF3n actualizada exitosamente"),this.registration.set(c),this.originalFormValue.set({participantRoleId:this.editForm.value.participantRoleId??null,notes:this.editForm.value.notes??null}),setTimeout(()=>{this.router.navigate(["/inscripciones",n.id])},1500)},error:c=>{console.error("Error updating registration:",c),this.savingState.set("error"),this.error.set(c.error?.message||"Error al actualizar la inscripci\xF3n. Por favor, intente nuevamente.")}})}onCancel(){this.formHasChanges()?confirm("\xBFEst\xE1 seguro de cancelar? Se perder\xE1n los cambios no guardados.")&&this.navigateBack():this.navigateBack()}navigateBack(){let n=this.registration();n?this.router.navigate(["/inscripciones",n.id]):this.router.navigate(["/inscripciones"])}markFormAsTouched(){Object.keys(this.editForm.controls).forEach(n=>{this.editForm.get(n)?.markAsTouched()})}isFieldInvalid(n){let e=this.editForm.get(n);return!!(e?.invalid&&e?.touched)}getFieldError(n){return this.validationErrors().find(s=>s.field===n)?.message||""}formatDate(n){if(!n?.trim())return"No disponible";try{let e=new Date(n);return isNaN(e.getTime())?"Fecha inv\xE1lida":e.toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date:",n,e),"Fecha inv\xE1lida"}}formatCurrency(n){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(n)}getUserInitials(n){if(!n?.trim())return"U";try{return n.trim().split(" ").filter(s=>s.length>0).slice(0,2).map(s=>s.charAt(0).toUpperCase()).join("")}catch(e){return console.error("Error generating initials:",n,e),"U"}}getStateBadgeClass(n){switch(n){case"draft":return"bg-secondary-subtle text-secondary-emphasis";case"pending_validation":return"bg-warning-subtle text-warning-emphasis";case"payment_required":return"bg-danger-subtle text-danger-emphasis";case"payment_pending":return"bg-warning-subtle text-warning-emphasis";case"payment_failed":return"bg-danger text-white";case"confirmed":return"bg-success-subtle text-success-emphasis";case"waitlist":return"bg-info-subtle text-info-emphasis";case"checked_in":return"bg-primary-subtle text-primary-emphasis";case"attended":return"bg-success text-white";case"no_show":return"bg-dark text-white";case"cancelled_by_user":return"bg-secondary-subtle text-secondary-emphasis";case"cancelled_by_admin":return"bg-dark-subtle text-dark-emphasis";default:return"bg-secondary-subtle text-secondary-emphasis"}}clearMessages(){this.error()&&this.error.set(null),this.success()&&this.success.set(null)}clearError(){this.error.set(null)}clearSuccess(){this.success.set(null)}retry(){this.error.set(null),this.loadInitialData()}resetForm(){let n=this.registration();n&&(this.populateForm(n),this.clearMessages())}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=U({type:r,selectors:[["app-registration-edit"]],decls:20,vars:2,consts:[[1,"container-fluid","py-3"],["aria-label","breadcrumb",1,"mb-4"],[1,"breadcrumb","mb-0","fs-7"],[1,"breadcrumb-item"],["routerLink","/",1,"text-decoration-none","link-primary"],[1,"bi","bi-house-door","me-1"],[1,"d-none","d-sm-inline"],["routerLink","/inscripciones",1,"text-decoration-none","link-primary"],[1,"bi","bi-person-badge","me-1"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","g-3"],[1,"row","justify-content-center"],[1,"text-decoration-none","link-primary",3,"routerLink"],[1,"col-12"],[1,"placeholder-glow"],[1,"placeholder","placeholder-sm","col-2"],[1,"placeholder","placeholder-sm","col-1","ms-2"],[1,"placeholder","placeholder-sm","col-3","ms-2"],[1,"d-flex","align-items-center","gap-2","mb-4"],[1,"placeholder","bg-secondary","rounded-circle",2,"width","32px","height","32px"],[1,"placeholder-glow","flex-grow-1"],[1,"placeholder","col-4"],[1,"placeholder","placeholder-sm","col-6"],[1,"card","border-0","shadow-sm"],[1,"card-header","bg-light","py-2"],[1,"placeholder","col-3"],[1,"card-body","py-2"],[1,"col-12","col-md-6"],[1,"placeholder","placeholder-sm","col-3","mb-1"],[1,"placeholder","col-12"],[1,"placeholder","placeholder-sm","col-4","mb-1"],[1,"col-md-6"],["role","alert",1,"alert","alert-danger","d-flex","align-items-center"],[1,"bi","bi-exclamation-triangle-fill","me-3","fs-4"],[1,"flex-grow-1"],[1,"alert-heading","mb-1"],[1,"mb-2"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-arrow-clockwise","me-1"],["role","alert",1,"alert","alert-warning","d-flex","align-items-center"],[1,"bi","bi-shield-exclamation","me-3","fs-4"],[1,"btn","btn-outline-warning","btn-sm",3,"click"],[1,"bi","bi-arrow-left","me-1"],[1,"d-flex","flex-column","flex-md-row","align-items-start","align-items-md-center","justify-content-between","gap-3","mb-4"],[1,"order-1","order-md-0"],[1,"h6","mb-1","fw-normal","d-flex","align-items-center"],[1,"bg-warning","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"bi","bi-pencil-square","text-white","fs-7"],[1,"ms-2"],[1,"fs-7"],[1,"text-muted","fs-8","mb-0","d-none","d-md-block"],[1,"d-flex","gap-2","order-0","order-md-1"],["type","button","title","Volver al detalle",1,"btn","btn-outline-secondary","btn-sm","px-2",3,"click"],[1,"d-none","d-sm-inline","fs-8"],["role","alert",1,"alert","alert-danger","alert-dismissible","d-flex","align-items-center","mb-4","py-2"],["role","alert",1,"alert","alert-success","alert-dismissible","d-flex","align-items-center","mb-4","py-2"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row","g-4"],[1,"col-12","col-xl-8"],[1,"card","border-0","shadow-sm","mb-4"],[1,"card-header","bg-light","border-bottom","py-3"],[1,"mb-0","fw-semibold","d-flex","align-items-center"],[1,"bi","bi-info-circle","me-2","text-primary"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","p-3","bg-light","rounded"],[1,"mb-1"],[1,"text-muted","fs-8"],[1,"mb-0","fw-semibold","fs-8"],[1,"form-label","fw-semibold","text-muted","small"],[1,"p-3","border","rounded","bg-white"],[1,"d-flex","align-items-start","gap-3"],[1,"bg-primary","rounded-circle","p-2","d-flex","align-items-center","justify-content-center","flex-shrink-0",2,"width","32px","height","32px"],[1,"bi","bi-calendar-event","text-white",2,"font-size","14px"],[1,"mb-1","fs-8"],[1,"bi","bi-calendar","me-1"],[1,"bg-success","rounded-circle","d-flex","align-items-center","justify-content-center","text-white","flex-shrink-0",2,"width","32px","height","32px"],[1,"fw-semibold",2,"font-size","12px"],[1,"bi","bi-envelope","me-1"],[1,"card-header","bg-primary","text-white","py-3"],[1,"bi","bi-pencil-square","me-2"],["for","participantRoleId",1,"form-label","fw-semibold","fs-8"],[1,"text-danger"],["id","participantRoleId","formControlName","participantRoleId",1,"form-select","form-select-sm"],["value",""],[3,"value"],[1,"invalid-feedback","fs-8"],[1,"form-text","fs-8"],[1,"bi","bi-info-circle","me-1"],[1,"form-label","fw-semibold","text-muted","fs-8"],[1,"p-3","bg-light","rounded"],[1,"d-flex","align-items-center","gap-2"],[1,"bi","bi-person-badge","text-primary"],[1,"fw-semibold","fs-8"],["for","notes",1,"form-label","fw-semibold","fs-8"],["id","notes","formControlName","notes","rows","4","placeholder","Informaci\xF3n adicional, requerimientos especiales, comentarios, etc.","maxlength","500",1,"form-control","form-control-sm"],[1,"form-text","d-flex","justify-content-between","fs-8"],[1,"text-muted"],[1,"alert","alert-info","border-0","mt-4","d-flex","align-items-center","py-2"],[1,"d-flex","flex-column","flex-md-row","gap-2","justify-content-between","pt-4","border-top","mt-4"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"bi","bi-x-circle","me-1"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-warning","btn-sm",3,"disabled"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled"],[1,"col-12","col-xl-4"],[1,"card-title","d-flex","align-items-center"],[1,"bi","bi-lightbulb","me-2","text-warning"],[1,"small","text-muted"],[1,"mb-3"],[1,"fs-8"],[1,"mt-2","ps-3","mb-0","fs-8"],[1,"alert","alert-info","border-0","p-3","mb-3"],[1,"mt-1","mb-0","fs-8"],["href","#",1,"text-decoration-none"],[1,"card","border-0","shadow-sm","mt-3"],[1,"bi","bi-clipboard-check","me-2","text-success"],[1,"small"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"badge","text-bg-success","fs-8"],[1,"badge","text-bg-danger","fs-8"],[1,"badge","text-bg-warning","fs-8"],[1,"badge","text-bg-secondary","fs-8"],[1,"mt-3"],[1,"bi","bi-clock-history","me-2","text-info"],[1,"mb-0","fs-8"],[1,"bi","bi-exclamation-triangle-fill","me-2"],["type","button","aria-label","Cerrar",1,"btn-close","btn-close-sm",3,"click"],[1,"bi","bi-check-circle-fill","me-2"],[1,"badge","fs-8"],[1,"text-muted","fs-8","mt-1","mb-0"],[1,"bi","bi-credit-card","me-1"],[1,"bi","bi-building","me-1"],[1,"bi","bi-info-circle","me-2"],["type","button",1,"btn","btn-outline-warning","btn-sm",3,"click","disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-check-circle","me-2"],[1,"alert-heading"],[1,"text-danger","fs-8"],[1,"mt-1","ps-3","mb-0"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),d(5,"i",5),t(6,"span",6),a(7,"Inicio"),i()()(),t(8,"li",3)(9,"a",7),d(10,"i",8),t(11,"span",6),a(12,"Inscripciones"),i()()(),p(13,be,3,4,"li",3),t(14,"li",9),a(15,"Editar"),i()()(),p(16,fe,29,0,"div",10)(17,xe,12,1,"div",11)(18,_e,12,1,"div",11)(19,Ge,189,34),i()),e&2&&(o(13),u(s.registration()?13:-1),o(3),u(s.loading()?16:s.error()&&!s.registration()?17:s.registration()&&!s.hasPermissionToEdit()?18:s.registration()?19:-1))},dependencies:[z,W,K,ce,ie,oe,le,X,re,ee,te,se,ne,ae],encapsulation:2,changeDetection:0})};export{ue as RegistrationEditComponent};
