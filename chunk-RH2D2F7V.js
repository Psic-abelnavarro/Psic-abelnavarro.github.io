import{a as Ge}from"./chunk-U3NQJ2F2.js";import{b as He}from"./chunk-ZS5CCIUB.js";import{b as Ue}from"./chunk-663N75WB.js";import{a as Be}from"./chunk-JLPBVVZJ.js";import{a as ze}from"./chunk-RCRSDNNN.js";import{a as we,b as Re,c as z,e as U,f as Ie,g as De,h as x,i as Me,j as Te,l as Fe,m as Ne,n as Ae,p as ke,q as Pe,w as H,x as Le}from"./chunk-XPHFKPJP.js";import{b as Ve}from"./chunk-3AZUY6EQ.js";import{a as Oe}from"./chunk-GY3IPELX.js";import"./chunk-MPC7SZEK.js";import{a as L}from"./chunk-TVASKIN6.js";import{a as Ce,g as Se,h as xe,i as ye,k as P,m as Ee}from"./chunk-EDRQHDMA.js";import{h as _e,i as fe,l as ve}from"./chunk-PZ46FPEX.js";import{$a as O,Ab as re,Bb as oe,Bc as he,Ca as ie,Cb as le,Cc as B,D as K,Da as o,Db as T,Eb as se,F as J,Fb as w,Gb as l,H as X,Hb as v,Ib as E,Jb as de,Na as V,Ob as ce,Qb as me,Ra as ne,Rb as j,Sb as A,Ta as Y,U as Z,Vb as R,Xb as I,_ as y,ab as Q,ac as S,bb as b,cb as h,cc as F,da as u,dc as pe,ea as g,eb as $,fb as D,fc as N,gb as M,gc as k,hb as p,hc as ue,ia as ee,ib as i,jb as a,kb as d,ma as f,o as W,rb as C,sa as te,sb as _,ub as c,vc as ge,zb as ae,zc as be}from"./chunk-DCXCOY7M.js";import"./chunk-LJ5XHLMQ.js";import{h as q}from"./chunk-FK42CRUA.js";var Xe=(r,e)=>e.id;function Ze(r,e){if(r&1&&(i(0,"span",2),l(1),a()),r&2){let t=c();o(),v(t.placeholder)}}function et(r,e){if(r&1&&(i(0,"span"),l(1),a()),r&2){let t=c();o(),de("",t.selectedCount()," ",t.summaryText||"seleccionados")}}function tt(r,e){if(r&1){let t=C();i(0,"div",5)(1,"input",8),_("ngModelChange",function(s){u(t);let m=c(2);return g(m.onSearchChange(s))})("click",function(s){return u(t),g(s.stopPropagation())}),a()()}if(r&2){let t=c(2);o(),p("ngModel",t.searchTerm())}}function it(r,e){if(r&1&&(i(0,"small",11),l(1),a()),r&2){let t=c().$implicit;o(),v(t.description)}}function nt(r,e){if(r&1){let t=C();i(0,"div",6)(1,"input",9),_("change",function(){let s=u(t).$implicit,m=c(2);return g(m.toggleItem(s.id))})("click",function(s){return u(t),g(s.stopPropagation())}),a(),i(2,"label",10),l(3),b(4,it,2,1,"small",11),a()()}if(r&2){let t=e.$implicit,n=c(2);o(),p("id","checkbox-"+t.id)("checked",n.isItemSelected(t.id))("disabled",t.disabled||n.disabled||n.readonly),o(),p("for","checkbox-"+t.id),o(),E(" ",t.label," "),o(),h(t.description?4:-1)}}function at(r,e){if(r&1&&(i(0,"div",7),l(1),a()),r&2){let t=c(2);o(),E(" ",t.noResultsText||"No se encontraron opciones"," ")}}function rt(r,e){if(r&1){let t=C();d(0,"hr",12),i(1,"div",13)(2,"button",14),_("click",function(s){return u(t),c(2).selectAll(),g(s.stopPropagation())}),l(3," Todos "),a(),i(4,"button",15),_("click",function(s){return u(t),c(2).deselectAll(),g(s.stopPropagation())}),l(5," Ninguno "),a()()}if(r&2){let t=c(2);o(2),p("disabled",t.disabled||t.readonly),o(2),p("disabled",t.disabled||t.readonly)}}function ot(r,e){if(r&1&&(i(0,"div",4),b(1,tt,2,1,"div",5),D(2,nt,5,6,"div",6,Xe,!1,at,2,1,"div",7),b(5,rt,6,2),a()),r&2){let t=c();se(ce("max-height: ",t.maxHeight,"; overflow-y: auto;")),o(),h(t.showSearch&&t.items.length>5?1:-1),o(),M(t.filteredItems()),o(3),h(t.showSelectAll&&t.items.length>1?5:-1)}}var G=class r{elementRef=y(te);items=[];placeholder="Seleccionar...";summaryText="elementos seleccionados";maxHeight="300px";disabled=!1;readonly=!1;invalid=!1;showSearch=!0;showSelectAll=!0;showSelectionPills=!1;noResultsText="No se encontraron opciones";class="";selectionChange=new Y;itemToggled=new Y;_searchTerm=f("");_isOpen=f(!1);_selectedIds=f([]);searchTerm=S(()=>this._searchTerm());isOpen=S(()=>this._isOpen());selectedIds=S(()=>this._selectedIds());selectedCount=S(()=>this._selectedIds().length);filteredItems=S(()=>{let e=this._searchTerm().toLowerCase().trim();return e?this.items.filter(t=>t.label.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e)):this.items});id=Math.random().toString(36).substring(2,9);get selectClasses(){let e=["form-select"];if(this.invalid&&e.push("is-invalid"),this.class){let t=this.class.split(" ").filter(n=>n.trim());e.push(...t)}return e.join(" ")}onChange=()=>{};onTouched=()=>{};writeValue(e){this._selectedIds.set(Array.isArray(e)?e:[])}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}toggleDropdown(e){e&&(e.preventDefault(),e.stopPropagation()),!(this.disabled||this.readonly)&&this._isOpen.update(t=>!t)}toggleItem(e){this.disabled||this.readonly||this._selectedIds.update(t=>{let n=t.includes(e),s=n?t.filter(m=>m!==e):[...t,e];return this.onChange(s),this.selectionChange.emit(s),this.itemToggled.emit({id:e,selected:!n}),s})}selectAll(){if(this.disabled||this.readonly)return;let e=this.filteredItems().filter(t=>!t.disabled).map(t=>t.id);this._selectedIds.set(e),this.onChange(e),this.selectionChange.emit(e)}deselectAll(){this.disabled||this.readonly||(this._selectedIds.set([]),this.onChange([]),this.selectionChange.emit([]))}removeItem(e){this.toggleItem(e)}onSearchChange(e){this._searchTerm.set(e)}clearSearch(){this._searchTerm.set("")}onMainKeyDown(e){switch(e.key){case"Enter":case" ":e.preventDefault(),this.toggleDropdown();break;case"Escape":this._isOpen.set(!1);break}}isItemSelected(e){return this._selectedIds().includes(e)}getItemLabel(e){let t=this.items.find(n=>n.id===e);return t?t.label:String(e)}clickOutside(e){this.elementRef.nativeElement.contains(e.target)||this._isOpen.set(!1)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=V({type:r,selectors:[["app-smart-multi-select"]],hostBindings:function(t,n){t&1&&_("click",function(m){return n.clickOutside(m)},ie)},inputs:{items:"items",placeholder:"placeholder",summaryText:"summaryText",maxHeight:"maxHeight",disabled:"disabled",readonly:"readonly",invalid:"invalid",showSearch:"showSearch",showSelectAll:"showSelectAll",showSelectionPills:"showSelectionPills",noResultsText:"noResultsText",class:"class"},outputs:{selectionChange:"selectionChange",itemToggled:"itemToggled"},features:[me([{provide:we,useExisting:Z(()=>r),multi:!0}])],decls:5,vars:10,consts:[[1,"dropdown"],["role","combobox",3,"click","keydown"],[1,"text-muted"],[1,"dropdown-menu","show","w-100","p-2",3,"style"],[1,"dropdown-menu","show","w-100","p-2"],[1,"mb-2"],[1,"form-check"],[1,"text-muted","text-center","py-2"],["type","text","placeholder","Buscar...",1,"form-control","form-control-sm",3,"ngModelChange","click","ngModel"],["type","checkbox",1,"form-check-input",3,"change","click","id","checked","disabled"],[1,"form-check-label",3,"for"],[1,"text-muted","d-block"],[1,"my-2"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","flex-fill",3,"click","disabled"],["type","button",1,"btn","btn-sm","btn-outline-secondary","flex-fill",3,"click","disabled"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1),_("click",function(m){return n.toggleDropdown(m)})("keydown",function(m){return n.onMainKeyDown(m)}),b(2,Ze,2,1,"span",2)(3,et,2,2,"span"),a(),b(4,ot,6,6,"div",3),a()),t&2&&(o(),w(n.selectClasses),le("pointer-events",n.disabled||n.readonly?"none":"auto"),T("disabled",n.disabled||n.readonly),O("aria-expanded",n.isOpen())("tabindex",n.disabled||n.readonly?-1:0),o(),h(n.selectedCount()===0?2:3),o(2),h(n.isOpen()?4:-1))},dependencies:[B,H,z,U,Me],styles:[".form-select[role=combobox][_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.form-select[role=combobox].disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.65}"],changeDetection:0})};var lt=["confirmModal"],Qe=()=>[1,2,3,4,5,6,7,8],$e=r=>["/inscripciones",r],je=r=>["/inscripciones",r,"editar"];function st(r,e){if(r&1&&(i(0,"span",16),l(1),a()),r&2){let t=c();o(),v(t.totalItems())}}function dt(r,e){r&1&&d(0,"span",20)}function ct(r,e){r&1&&d(0,"i",21)}function mt(r,e){if(r&1&&(i(0,"span",35),l(1),a()),r&2){let t=c();o(),v(t.activeFiltersCount())}}function pt(r,e){if(r&1){let t=C();i(0,"button",61),_("click",function(){u(t);let s=c();return g(s.clearAllFilters())}),d(1,"i",62),a()}}function ut(r,e){if(r&1){let t=C();i(0,"button",93),_("click",function(){u(t),c();let s=oe(10);return c().clearSearch(),g(s.focus())}),d(1,"i",94),a()}}function gt(r,e){if(r&1){let t=C();i(0,"div",40)(1,"form",63)(2,"div",64)(3,"div",65)(4,"label",66),l(5,"Buscar"),a(),i(6,"div",67)(7,"span",68),d(8,"i",69),a(),d(9,"input",70,1),b(11,ut,2,0,"button",71),a()(),i(12,"div",65)(13,"label",66),l(14,"Evento"),a(),i(15,"div",67)(16,"span",72),d(17,"i",73),a(),i(18,"app-autocomplete",74),_("valueChange",function(s){u(t);let m=c();return g(m.onEventSelected(s))}),a()()(),i(19,"div",65)(20,"label",66),l(21,"Participante"),a(),i(22,"div",67)(23,"span",75),d(24,"i",76),a(),i(25,"app-autocomplete",77),_("valueChange",function(s){u(t);let m=c();return g(m.onUserSelected(s))}),a()()(),i(26,"div",65)(27,"label",66),l(28,"Rol del participante"),a(),i(29,"div",67)(30,"span",78),d(31,"i",79),a(),i(32,"app-autocomplete",74),_("valueChange",function(s){u(t);let m=c();return g(m.onRoleSelected(s))}),a()()(),i(33,"div",65)(34,"label",66),l(35,"Estados"),a(),d(36,"app-smart-multi-select",80),a(),i(37,"div",81)(38,"label",66),l(39,"Desde"),a(),d(40,"input",82),a(),i(41,"div",81)(42,"label",66),l(43,"Hasta"),a(),d(44,"input",83),a(),i(45,"div",84)(46,"label",66),l(47,"Adicionales"),a(),i(48,"div",85)(49,"div",86),d(50,"input",87),i(51,"label",88),l(52," Mis inscripciones "),a()(),i(53,"div",86),d(54,"input",89),i(55,"label",90),l(56," Requieren pago "),a()(),i(57,"div",86),d(58,"input",91),i(59,"label",92),l(60," Han asistido "),a()()()()()()()}if(r&2){let t,n=c();o(),p("formGroup",n.filtersForm),o(10),h((t=n.filtersForm.get("searchText"))!=null&&t.value?11:-1),o(7),p("options",n.availableEvents())("displayFn",n.displayEvent)("placeholder","Buscar por nombre del evento...")("minChars",n.autocompleteConfig.minCharsLocal)("maxHeight",n.autocompleteConfig.maxHeight)("noResultsMessage","No se encontraron eventos")("formControl",n.eventFilterControl)("inputClass","form-control border-start-0 bg-light form-control-sm")("size","sm")("autocomplete","off")("ariaDescribedBy","event-search-addon")("inInputGroup",!0)("cacheSize",100)("highlightSearch",!0)("loadingMessage","Buscando eventos..."),o(7),p("searchFn",n.searchUsers)("preloadFn",n.preloadUsers)("displayFn",n.displayUser)("placeholder","Buscar por DNI, email o nombres...")("minChars",n.autocompleteConfig.minCharsRemote)("searchLimit",n.autocompleteConfig.searchLimit)("debounceMs",n.autocompleteConfig.debounceTime)("maxHeight",n.autocompleteConfig.maxHeight)("noResultsMessage","No se encontraron usuarios")("enablePreload",!0)("formControl",n.userFilterControl)("inputClass","form-control border-start-0 bg-light form-control-sm")("size","sm")("autocomplete","off")("ariaDescribedBy","user-search-addon")("inInputGroup",!0)("cacheSize",100)("highlightSearch",!0)("loadingMessage","Buscando usuarios..."),o(7),p("options",n.availableRoles())("displayFn",n.displayRole)("placeholder","Buscar por nombre del rol...")("minChars",n.autocompleteConfig.minCharsLocal)("maxHeight",n.autocompleteConfig.maxHeight)("noResultsMessage","No se encontraron roles")("formControl",n.roleFilterControl)("inputClass","form-control border-start-0 bg-light form-control-sm")("size","sm")("autocomplete","off")("ariaDescribedBy","role-search-addon")("inInputGroup",!0)("cacheSize",100)("highlightSearch",!0)("loadingMessage","Cargando roles..."),o(4),p("items",n.stateSelectItems())("showSelectionPills",!1)}}function bt(r,e){if(r&1&&(i(0,"span",44),l(1),a()),r&2){let t=c();o(),v(t.totalItems())}}function ht(r,e){if(r&1&&(i(0,"option",95),l(1),a()),r&2){let t=e.$implicit;p("value",t),o(),v(t)}}function _t(r,e){r&1&&(i(0,"div",102)(1,"div",103)(2,"div",104)(3,"div",105),d(4,"span",106)(5,"span",107),a()(),i(6,"div",108)(7,"div",109),d(8,"span",110),i(9,"div",111)(10,"div",112),d(11,"span",113)(12,"span",114),a()()(),i(13,"div",115),d(14,"span",116)(15,"span",117)(16,"span",118),a()(),i(17,"div",119)(18,"div",120),d(19,"span",121)(20,"span",121),a()()()())}function ft(r,e){r&1&&(i(0,"div",96),D(1,_t,21,0,"div",102,$),a()),r&2&&(o(),M(j(0,Qe)))}function vt(r,e){r&1&&(i(0,"tr")(1,"td",130),d(2,"span",131),a(),i(3,"td",130)(4,"div",31),d(5,"span",132),i(6,"div",111)(7,"div",112),d(8,"span",113)(9,"span",114),a()()()(),i(10,"td",133)(11,"div",112),d(12,"span",116)(13,"span",134),a()(),i(14,"td",135),d(15,"span",136),a(),i(16,"td",130),d(17,"span",137),a(),i(18,"td",135),d(19,"span",138),a(),i(20,"td",139)(21,"div",112),d(22,"span",113)(23,"span",114),a()(),i(24,"td",130)(25,"div",140),d(26,"span",121)(27,"span",121),a()()())}function Ct(r,e){r&1&&(i(0,"div",97)(1,"table",122)(2,"thead",123)(3,"tr")(4,"th",124),l(5,"Usuario"),a(),i(6,"th",125),l(7,"Usuario"),a(),i(8,"th",126),l(9,"Evento"),a(),i(10,"th",127),l(11,"Rol"),a(),i(12,"th",125),l(13,"Estado"),a(),i(14,"th",127),l(15,"Pago"),a(),i(16,"th",128),l(17,"Fecha"),a(),i(18,"th",129),l(19,"Acciones"),a()()(),i(20,"tbody"),D(21,vt,28,0,"tr",null,$),a()()()),r&2&&(o(21),M(j(0,Qe)))}function St(r,e){if(r&1&&(i(0,"div",58),b(1,ft,3,1,"div",96)(2,Ct,23,1,"div",97),i(3,"div",98)(4,"div",99)(5,"span",100),l(6,"Cargando..."),a()(),i(7,"span",101),l(8,"Cargando inscripciones..."),a()()()),r&2){let t=c();o(),h(t.viewMode()==="cards"?1:2)}}function xt(r,e){if(r&1){let t=C();i(0,"h6",143),l(1,"No se encontraron inscripciones"),a(),i(2,"p",144),l(3,"Intenta ajustar los filtros de b\xFAsqueda"),a(),i(4,"button",145),_("click",function(){u(t);let s=c(2);return g(s.clearAllFilters())}),d(5,"i",146),l(6,"Limpiar filtros "),a()}}function yt(r,e){r&1&&(i(0,"h6",143),l(1,"No hay inscripciones registradas"),a(),i(2,"p",144),l(3,"Comienza creando la primera inscripci\xF3n"),a(),i(4,"a",147),d(5,"i",24),l(6,"Nueva Inscripci\xF3n "),a())}function Et(r,e){if(r&1&&(i(0,"div",59)(1,"div",141),d(2,"i",142),a(),b(3,xt,7,0)(4,yt,7,0),a()),r&2){let t=c();o(3),h(t.hasActiveFilters()?3:4)}}function wt(r,e){if(r&1&&(i(0,"div",32),d(1,"i",175),i(2,"span",176),l(3),R(4,"number"),a()()),r&2){let t=c().$implicit;o(3),E(" S/ ",I(4,1,t.paymentAmount,"1.2-2")," ")}}function Rt(r,e){if(r&1&&(i(0,"button",173),d(1,"i",177),a()),r&2){let t=c().$implicit;p("routerLink",A(1,je,t.id))}}function It(r,e){if(r&1){let t=C();i(0,"button",178),_("click",function(){u(t);let s=c().$implicit,m=c(3);return g(m.confirmCancelRegistration(s))}),d(1,"i",179),a()}if(r&2){let t=c(4);p("disabled",t.isLoading())}}function Dt(r,e){if(r&1){let t=C();i(0,"div",102)(1,"div",149)(2,"div",150)(3,"div",151)(4,"input",152),_("change",function(){let s=u(t).$implicit,m=c(3);return g(m.toggleSelection(s.id))}),a(),i(5,"label",153),l(6," Seleccionar inscripci\xF3n "),a()(),i(7,"span",154),d(8,"i",38),i(9,"span",155),l(10),a()()(),i(11,"div",108)(12,"div",109)(13,"div",156),d(14,"i",157),a(),i(15,"div",158)(16,"h6",159),l(17),a(),i(18,"p",160),l(19),a()()(),i(20,"div",161)(21,"div",162),d(22,"i",163),i(23,"span",164),l(24),a()(),i(25,"div",165)(26,"span",166),l(27),R(28,"date"),a(),i(29,"span",167),l(30),a()(),b(31,wt,5,4,"div",32),a(),i(32,"div",168),d(33,"i",169),l(34),R(35,"date"),a()(),i(36,"div",170)(37,"div",120)(38,"button",171),d(39,"i",172),a(),b(40,Rt,2,3,"button",173),b(41,It,2,1,"button",174),a()()()()}if(r&2){let t=e.$implicit,n=c(3);o(),T("border-primary",n.selectedRegistrations().includes(t.id))("shadow",n.selectedRegistrations().includes(t.id)),o(3),p("id","card-select-"+t.id)("checked",n.selectedRegistrations().includes(t.id)),o(),p("for","card-select-"+t.id),o(2),w(n.getStateBadgeClass(t.detailedState)),o(),w("bi-"+n.getStateIcon(t.detailedState)),o(2),v(n.getStateLabel(t.detailedState)),o(7),v(t.userName),o(2),v(t.userEmail),o(4),p("title",t.eventTitle),o(),E(" ",t.eventTitle," "),o(3),v(I(28,23,t.eventStartDate,"dd/MM/yyyy")),o(3),v(n.getRoleName(t.participantRoleId)),o(),h(t.paymentRequired?31:-1),o(3),E(" ",I(35,26,t.registrationDate,"dd/MM/yyyy HH:mm")," "),o(4),p("routerLink",A(29,$e,t.id)),o(2),h(n.canEdit(t)?40:-1),o(),h(n.canCancel(t)?41:-1)}}function Mt(r,e){if(r&1&&(i(0,"div",148)(1,"div",96),D(2,Dt,42,31,"div",102,Q().trackByRegistrationId,!0),a()()),r&2){let t=c(2);o(2),M(t.registrations())}}function Tt(r,e){if(r&1&&(i(0,"span",190),d(1,"i",196),l(2),R(3,"number"),a()),r&2){let t=c().$implicit;o(2),E(" S/ ",I(3,1,t.paymentAmount,"1.2-2")," ")}}function Ft(r,e){r&1&&(i(0,"span",168),d(1,"i",197),l(2," Gratis "),a())}function Nt(r,e){if(r&1&&(i(0,"button",194),d(1,"i",198),a()),r&2){let t=c().$implicit;p("routerLink",A(1,je,t.id))}}function At(r,e){if(r&1){let t=C();i(0,"button",199),_("click",function(){u(t);let s=c().$implicit,m=c(3);return g(m.confirmCancelRegistration(s))}),d(1,"i",62),a()}if(r&2){let t=c(4);p("disabled",t.isLoading())}}function kt(r,e){if(r&1){let t=C();i(0,"tr")(1,"td",130)(2,"div",180)(3,"input",152),_("change",function(){let s=u(t).$implicit,m=c(3);return g(m.toggleSelection(s.id))}),a(),i(4,"label",153),l(5," Seleccionar inscripci\xF3n "),a()()(),i(6,"td",130)(7,"div",31)(8,"div",184)(9,"span",185),l(10),a()(),i(11,"div",186)(12,"div",187),l(13),a(),i(14,"div",188),l(15),a()()()(),i(16,"td",133)(17,"div")(18,"div",189),l(19),a(),i(20,"div",168),l(21),R(22,"date"),a()()(),i(23,"td",135)(24,"span",167),l(25),a()(),i(26,"td",130)(27,"span",154),d(28,"i",38),i(29,"span",155),l(30),a()()(),i(31,"td",135),b(32,Tt,4,4,"span",190)(33,Ft,3,0,"span",168),a(),i(34,"td",139)(35,"div",166)(36,"div"),l(37),R(38,"date"),a(),i(39,"div",191),l(40),R(41,"date"),a()()(),i(42,"td",130)(43,"div",192)(44,"button",171),d(45,"i",193),a(),b(46,Nt,2,3,"button",194),b(47,At,2,1,"button",195),a()()()}if(r&2){let t=e.$implicit,n=c(3);w(n.getTableRowClass(t.detailedState)),T("table-active",n.selectedRegistrations().includes(t.id)),o(3),p("id","select-"+t.id)("checked",n.selectedRegistrations().includes(t.id)),o(),p("for","select-"+t.id),o(6),v(n.getUserInitials(t.userName)),o(3),v(t.userName),o(2),v(t.userEmail),o(3),p("title",t.eventTitle),o(),E(" ",t.eventTitle," "),o(2),v(I(22,25,t.eventStartDate,"dd/MM/yyyy")),o(4),E(" ",n.getRoleName(t.participantRoleId)," "),o(2),w(n.getStateBadgeClass(t.detailedState)),o(),w("bi-"+n.getStateIcon(t.detailedState)),o(2),v(n.getStateLabel(t.detailedState)),o(2),h(t.paymentRequired?32:33),o(5),v(I(38,28,t.registrationDate,"dd/MM/yyyy")),o(3),v(I(41,31,t.registrationDate,"HH:mm")),o(4),p("routerLink",A(34,$e,t.id)),o(2),h(n.canEdit(t)?46:-1),o(),h(n.canCancel(t)?47:-1)}}function Pt(r,e){if(r&1){let t=C();i(0,"div",97)(1,"table",122)(2,"thead",123)(3,"tr")(4,"th",124)(5,"div",180)(6,"input",181),_("change",function(){u(t);let s=c(2);return g(s.toggleSelectAll())}),a(),i(7,"label",182),l(8," Seleccionar todos "),a()()(),i(9,"th",125),l(10,"Usuario"),a(),i(11,"th",126),l(12,"Evento"),a(),i(13,"th",127),l(14,"Rol"),a(),i(15,"th",125),l(16,"Estado"),a(),i(17,"th",127),l(18,"Pago"),a(),i(19,"th",128),l(20,"Fecha"),a(),i(21,"th",129),l(22,"Acciones"),a()()(),i(23,"tbody"),D(24,kt,48,36,"tr",183,Q().trackByRegistrationId,!0),a()()()}if(r&2){let t=c(2);o(6),p("checked",t.areAllSelected())("indeterminate",t.areSomeSelected()),o(18),M(t.registrations())}}function Lt(r,e){if(r&1&&(b(0,Mt,4,0,"div",148),b(1,Pt,26,2,"div",97)),r&2){let t=c();h(t.viewMode()==="cards"?0:-1),o(),h(t.viewMode()==="table"?1:-1)}}function Vt(r,e){if(r&1){let t=C();i(0,"div",60)(1,"app-pagination",200),_("pageChange",function(s){u(t);let m=c();return g(m.goToPage(s))})("pageSizeChange",function(s){u(t);let m=c();return g(m.onPageSizeChange(s))}),a()()}if(r&2){let t=c();o(),p("totalItems",t.totalItems())("pageSize",t.pageSize())("currentPage",t.currentPage())("showPageSizeSelector",!0)("pageSizeOptions",t.pageSizeOptions)("showGoToPage",!0)("showRangeInfo",!0)("showFirstLastButtons",!0)("maxVisiblePages",5)("density","compact")}}var Ye=class r{router=y(_e);destroyRef=y(ee);registrationService=y(He);staticDataService=y(Oe);eventService=y(Ue);userService=y(Ve);authService=y(Ee);initialFilters=k();initialPageSize=k();initialViewMode=k();showFiltersInitially=k(!1);registrationSelected=N();filtersChanged=N();registrationApproved=N();registrationRejected=N();registrationCancelled=N();confirmModal=ue("confirmModal");pageSizeOptions=P.pagination.pageSizeOptions;autocompleteConfig=P.autocomplete;DetailedRegistrationState=Ce;Math=Math;showFilters=f(!1);viewMode=f("cards");selectedRegistrations=f([]);currentPage=f(1);pageSize=f(P.pagination.defaultPageSize);sortOptions=f({field:"created_at",direction:"desc"});registrationsResource=pe({loader:()=>q(this,null,function*(){try{return yield W(this.registrationService.getRegistrations(this.currentPage(),this.pageSize(),this.buildFilters(),this.sortOptions()))}catch(e){let t=this.processResourceError(e);throw console.error("Registrations Resource Error:",t),t}}),defaultValue:{items:[],pagination:{currentPage:1,totalItems:0,totalPages:0,itemsPerPage:P.pagination.defaultPageSize,hasNextPage:!1,hasPrevPage:!1}}});processResourceError(e){if(!e)return new Error("Error desconocido en el recurso");let t="Error al cargar las inscripciones";e.status===0||e.name==="NetworkError"?t="Error de conexi\xF3n. Verifica tu conexi\xF3n a internet.":e.status>=400&&e.status<500?t=e.error?.message||"Error en la solicitud. Verifica los par\xE1metros.":e.status===401||e.status===403?t="No tienes permisos para acceder a esta informaci\xF3n.":e.status>=500&&(t="Error del servidor. Intenta nuevamente en unos momentos.");let n=new Error(t);return n.originalError=e,n.canRetry=e.status!==401&&e.status!==403,n}registrations=S(()=>this.registrationsResource.value()?.items??[]);totalItems=S(()=>this.registrationsResource.value()?.pagination.totalItems??0);totalPages=S(()=>Math.ceil(this.totalItems()/this.pageSize()));isLoading=S(()=>this.registrationsResource.status()==="loading");resourceError=S(()=>this.registrationsResource.error());errorState=S(()=>{let e=this.resourceError();if(!e)return null;let t=e;return{message:e.message||"Error al cargar las inscripciones",canRetry:t.canRetry??!0,type:this.getErrorType(e),action:t.canRetry!==!1?()=>this.refreshRegistrations():void 0}});getErrorType(e){return e.status===0||e.name==="NetworkError"?"network":e.status>=400&&e.status<500?"validation":e.status===401||e.status===403?"permission":"unknown"}availableEvents=f([]);availableRoles=f([]);selectedEventFilter=f(null);selectedUserFilter=f(null);selectedRoleFilter=f(null);filtersForm=new De({searchText:new x(null),eventId:new x(null),userId:new x(null),participantRoleId:new x(null),states:new x([]),myRegistrationsOnly:new x(!1),needsPayment:new x(!1),hasAttended:new x(!1),startDate:new x(null),endDate:new x(null)});eventFilterControl=new x(null);userFilterControl=new x(null);roleFilterControl=new x(null);selectedEventState=f(null);selectedUserState=f(null);selectedRoleState=f(null);formFiltersState=f({searchText:null,eventId:null,userId:null,participantRoleId:null,states:null,myRegistrationsOnly:null,needsPayment:null,hasAttended:null,startDate:null,endDate:null});confirmAction=f({title:"Confirmar Acci\xF3n",message:"\xBFEst\xE1 seguro?",confirmText:"Confirmar",callback:()=>{}});stateOptions=S(()=>[{value:"draft",label:"Borrador"},{value:"pending_validation",label:"Pendiente Validaci\xF3n"},{value:"payment_required",label:"Pago Requerido"},{value:"payment_pending",label:"Pago Pendiente"},{value:"payment_failed",label:"Pago Fallido"},{value:"confirmed",label:"Confirmado"},{value:"waitlist",label:"Lista de Espera"},{value:"checked_in",label:"Check-in Realizado"},{value:"attended",label:"Asisti\xF3"},{value:"no_show",label:"No Asisti\xF3"},{value:"cancelled_by_user",label:"Cancelado por Usuario"},{value:"cancelled_by_admin",label:"Cancelado por Admin"}]);stateSelectItems=S(()=>this.stateOptions().map(e=>({id:e.value,label:e.label,badge:{text:e.label,color:this.getStateBadgeColorForMultiSelect(e.value)},icon:this.getStateIcon(e.value)})));hasActiveFilters=F(()=>{let e=this.formFiltersState();return!!(e.searchText?.trim()||e.eventId||e.userId||e.participantRoleId||e.states?.length||e.myRegistrationsOnly||e.needsPayment||e.hasAttended||e.startDate||e.endDate)});activeFiltersCount=F(()=>{let e=this.formFiltersState(),t=0;return e.searchText?.trim()&&t++,e.eventId&&t++,e.userId&&t++,e.participantRoleId&&t++,e.states?.length&&t++,e.myRegistrationsOnly&&t++,e.needsPayment&&t++,e.hasAttended&&t++,(e.startDate||e.endDate)&&t++,t});paginationInfo=F(()=>{let e=this.totalItems(),t=this.pageSize(),n=this.currentPage(),s=Math.ceil(e/t);return{total:e,size:t,current:n,totalPages:s,hasItems:e>0,hasPagination:s>1,startItem:e>0?(n-1)*t+1:0,endItem:Math.min(n*t,e)}});areAllSelected=F(()=>{let e=this.registrations(),t=this.selectedRegistrations();return e.length>0&&e.every(n=>t.includes(n.id))});areSomeSelected=F(()=>{let e=this.registrations(),t=this.selectedRegistrations();return e.some(n=>t.includes(n.id))&&!this.areAllSelected()});trackByRegistrationId=(e,t)=>t.id;trackByStateId=(e,t)=>t.id;trackByPageSize=(e,t)=>t;displayEvent=e=>{if(!e)return"";let t=new Date(e.startDate).toLocaleDateString("es-CO");return`${e.title} (${t})`};displayUser=e=>e?`${e.fullName||"Sin nombre"} - ${e.email} - ${e.documentNumber||"Sin DNI"}`:"";displayRole=e=>e?`${e.name} - ${e.description}`:"";searchUsers=(e,t)=>{let n={query:e.trim(),limit:t};return this.userService.queryUsersForAutocomplete(n)};preloadUsers=()=>this.userService.preloadUsersForAutocomplete(15);onEventSelected(e){this.selectedEventState.set(e),e?this.filtersForm.patchValue({eventId:e.id},{emitEvent:!0}):this.filtersForm.patchValue({eventId:null},{emitEvent:!0})}onUserSelected(e){this.selectedUserState.set(e),e?this.filtersForm.patchValue({userId:e.id},{emitEvent:!0}):this.filtersForm.patchValue({userId:null},{emitEvent:!0})}onRoleSelected(e){if(this.selectedRoleState.set(e),e){let t=this.getRoleId(e.name);this.filtersForm.patchValue({participantRoleId:t},{emitEvent:!0})}else this.filtersForm.patchValue({participantRoleId:null},{emitEvent:!0})}getRoleId(e){let t=this.staticDataService.participantRolesSubject?.value;if(t){let n=Object.entries(t).find(([s,m])=>m.name===e);if(n)return parseInt(n[0])}return 1}ngOnInit(){this.initializeFromInputs(),this.loadInitialData(),this.setupFormSubscriptions(),this.loadViewMode()}initializeFromInputs(){let e=this.initialFilters();e&&(this.filtersForm.patchValue(e),this.formFiltersState.set(this.filtersForm.value));let t=this.initialPageSize();t&&this.pageSize.set(t);let n=this.initialViewMode();n&&this.viewMode.set(n),this.showFiltersInitially()&&this.showFilters.set(!0)}loadInitialData(){this.loadEvents(),this.loadParticipantRoles()}loadEvents(){this.eventService.preloadEventsForAutocomplete(100).pipe(L(this.destroyRef)).subscribe({next:e=>{this.availableEvents.set(e||[])},error:e=>console.error("Error loading events:",e)})}loadParticipantRoles(){this.staticDataService.getParticipantRolesList().pipe(L(this.destroyRef)).subscribe({next:e=>{this.availableRoles.set(e)},error:e=>console.error("Error loading participant roles:",e)})}setupFormSubscriptions(){this.filtersForm.valueChanges.pipe(K(300),X(),L(this.destroyRef)).subscribe(e=>{this.updateFiltersState(e)})}updateFiltersState(e){this.formFiltersState.set(e),this.currentPage.set(1),this.registrationsResource.reload();let t=this.buildFilters();this.filtersChanged.emit(t)}loadViewMode(){let e=localStorage.getItem("registration-view-mode");e&&this.viewMode.set(e)}refreshRegistrations(){this.registrationsResource.reload()}buildFilters(){let e=this.filtersForm.value,t={};return e.searchText?.trim()&&(t.search=e.searchText.trim()),e.eventId&&(t.eventId=e.eventId),e.userId&&(t.userId=e.userId),e.participantRoleId&&(t.participantRoleId=e.participantRoleId),e.states?.length&&(t.detailedState=e.states),e.myRegistrationsOnly&&(t.myRegistrations=!0,t.userId=this.authService.currentUser?.id),e.needsPayment&&(t.needsPayment=!0),e.hasAttended&&(t.hasAttended=!0),e.startDate&&(t.startDate=e.startDate),e.endDate&&(t.endDate=e.endDate),t}toggleFiltersPanel(){this.showFilters.update(e=>!e)}clearAllFilters(){this.filtersForm.reset(),this.eventFilterControl.setValue(null),this.userFilterControl.setValue(null),this.roleFilterControl.setValue(null),this.selectedEventState.set(null),this.selectedUserState.set(null),this.selectedRoleState.set(null),this.selectedRegistrations.set([]),this.currentPage.set(1),this.formFiltersState.set({searchText:null,eventId:null,userId:null,participantRoleId:null,states:null,myRegistrationsOnly:null,needsPayment:null,hasAttended:null,startDate:null,endDate:null}),this.refreshRegistrations()}clearSearch(){this.filtersForm.patchValue({searchText:""})}onPageSizeChange(e){if(typeof e=="number")this.pageSize.set(e);else{let t=e.target;this.pageSize.set(Number(t.value))}this.currentPage.set(1),this.refreshRegistrations()}goToPage(e){e>=1&&e<=this.totalPages()&&(this.currentPage.set(e),this.refreshRegistrations())}onPageChange(e){this.goToPage(e)}onSortChange(e){let t=e.target,[n,s]=t.value.split("|");this.sortOptions.set({field:n,direction:s}),this.refreshRegistrations()}setViewMode(e){this.viewMode.set(e),localStorage.setItem("registration-view-mode",e)}toggleSelection(e){this.selectedRegistrations.update(t=>t.indexOf(e)>=0?t.filter(s=>s!==e):[...t,e])}toggleSelectAll(){this.areAllSelected()?this.selectedRegistrations.set([]):this.selectedRegistrations.set(this.registrations().map(t=>t.id))}isSelected(e){return this.selectedRegistrations().includes(e)}getStateColor(e){return Se[e]||"#6b7280"}getStateIcon(e){return{draft:"file-text",pending_validation:"clock",payment_required:"credit-card",payment_pending:"arrow-clockwise",payment_failed:"x-circle",confirmed:"check-circle",waitlist:"list-ul",checked_in:"qr-code",attended:"star",no_show:"dash-circle",cancelled_by_user:"person-x",cancelled_by_admin:"shield-x"}[e]||"question-circle"}getStateLabel(e){return{draft:"Borrador",pending_validation:"Pendiente Validaci\xF3n",payment_required:"Pago Requerido",payment_pending:"Pago Pendiente",payment_failed:"Pago Fallido",confirmed:"Confirmado",waitlist:"Lista de Espera",checked_in:"Check-in Realizado",attended:"Asisti\xF3",no_show:"No Asisti\xF3",cancelled_by_user:"Cancelado por Usuario",cancelled_by_admin:"Cancelado por Admin"}[e]||"Estado Desconocido"}formatDate(e){try{return new Date(e).toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e}}getUserInitials(e){return e.split(" ").slice(0,2).map(t=>t.charAt(0).toUpperCase()).join("")}getStateBadgeClass(e){switch(e){case"draft":return"bg-secondary-subtle text-secondary-emphasis";case"pending_validation":return"bg-warning-subtle text-warning-emphasis";case"payment_required":return"bg-danger-subtle text-danger-emphasis";case"payment_pending":return"bg-warning-subtle text-warning-emphasis";case"payment_failed":return"bg-danger text-white";case"confirmed":return"bg-success-subtle text-success-emphasis";case"waitlist":return"bg-info-subtle text-info-emphasis";case"checked_in":return"bg-primary-subtle text-primary-emphasis";case"attended":return"bg-success text-white";case"no_show":return"bg-dark text-white";case"cancelled_by_user":return"bg-secondary-subtle text-secondary-emphasis";case"cancelled_by_admin":return"bg-dark-subtle text-dark-emphasis";default:return"bg-secondary-subtle text-secondary-emphasis"}}getStateBadgeColorForMultiSelect(e){switch(e){case"attended":case"confirmed":return"success";case"payment_failed":case"no_show":case"payment_required":return"danger";case"payment_pending":case"pending_validation":return"warning";case"checked_in":return"primary";case"waitlist":return"info";case"cancelled_by_user":case"cancelled_by_admin":case"draft":default:return"secondary"}}getTableRowClass(e){switch(e){case"attended":return"table-success";case"confirmed":return"";case"payment_failed":case"no_show":return"table-danger";case"payment_pending":case"pending_validation":return"table-warning";case"cancelled_by_user":case"cancelled_by_admin":return"table-secondary";case"checked_in":return"table-primary";case"waitlist":return"table-info";default:return""}}canEdit(e){return xe.includes(e.detailedState)}canCancel(e){return!ye.includes(e.detailedState)&&e.detailedState!=="attended"}refreshData(){this.refreshRegistrations()}confirmCancelRegistration(e){this.confirmAction.set({title:"Cancelar Inscripci\xF3n",message:`\xBFCancelar la inscripci\xF3n de ${e.userName}?`,confirmText:"S\xED, Cancelar",callback:()=>this.cancelRegistration(e.id)}),this.confirmModal()?.show()}cancelRegistration(e){this.registrationService.cancelRegistration(e).pipe(L(this.destroyRef)).subscribe({next:()=>{this.refreshRegistrations(),this.registrationCancelled.emit({registrationId:e,success:!0})},error:t=>{console.error("Error canceling registration:",t),this.registrationCancelled.emit({registrationId:e,success:!1})}})}canMarkAttendance(e){return e.detailedState==="confirmed"}canConfirm(e){return e.detailedState==="pending_validation"}canSubmitForValidation(e){return e.detailedState==="draft"}canCheckIn(e){return e.detailedState==="confirmed"}canMarkNoShow(e){return["confirmed","checked_in"].includes(e.detailedState)}canAddToWaitlist(e){return["pending_validation","confirmed"].includes(e.detailedState)}getRoleName(e){let t=this.staticDataService.participantRoles$,n="Participante";return t.pipe(J(1)).subscribe(s=>{s&&s[e.toString()]&&(n=s[e.toString()].name)}),n}onConfirmAccepted(){this.confirmAction().callback()}onConfirmCancelled(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=V({type:r,selectors:[["app-registration-list"]],viewQuery:function(t,n){t&1&&ae(n.confirmModal,lt,5),t&2&&re()},inputs:{initialFilters:[1,"initialFilters"],initialPageSize:[1,"initialPageSize"],initialViewMode:[1,"initialViewMode"],showFiltersInitially:[1,"showFiltersInitially"]},outputs:{registrationSelected:"registrationSelected",filtersChanged:"filtersChanged",registrationApproved:"registrationApproved",registrationRejected:"registrationRejected",registrationCancelled:"registrationCancelled"},decls:79,vars:25,consts:[["confirmModal",""],["searchInput",""],[1,"container-fluid","py-3"],[3,"accepted","cancelled","title","message","confirmText"],["aria-label","breadcrumb",1,"mb-3"],[1,"breadcrumb","mb-0","small"],[1,"breadcrumb-item"],["routerLink","/",1,"text-decoration-none","link-primary"],[1,"bi","bi-house-door","me-1"],[1,"d-none","d-sm-inline"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","flex-column","flex-sm-row","align-items-start","align-items-sm-center","justify-content-between","gap-2","mb-3"],[1,"order-1","order-sm-0"],[1,"h6","mb-1","fw-normal","d-flex","align-items-center"],[1,"bi","bi-person-badge","me-2","text-primary"],[1,"small"],[1,"badge","text-bg-primary","ms-2","small"],[1,"text-muted","small","mb-0","d-none","d-sm-block"],[1,"d-flex","flex-wrap","gap-1","order-0","order-sm-1"],["type","button","title","Actualizar datos",1,"btn","btn-outline-secondary","btn-sm","d-flex","align-items-center","px-2",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"bi","bi-arrow-clockwise","me-1"],[1,"d-none","d-md-inline","small"],["routerLink","/inscripciones/nueva","title","Crear nueva inscripci\xF3n",1,"btn","btn-primary","btn-sm","d-flex","align-items-center","px-2"],[1,"bi","bi-plus-circle","me-1"],["routerLink","/inscripciones/masiva","title","Matr\xEDcula masiva de usuarios",1,"btn","btn-success","btn-sm","d-flex","align-items-center","px-2"],[1,"bi","bi-people-fill","me-1"],[1,"d-none","d-sm-inline","small"],[1,"card","border-0","shadow-sm","mb-3"],[1,"card-header","bg-light","border-bottom","py-2"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","align-items-center","gap-1"],[1,"bi","bi-funnel","text-primary"],[1,"mb-0","fw-normal","small"],[1,"badge","text-bg-primary","rounded-pill","small"],["role","group",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-outline-secondary","border-0","btn-sm",3,"click","title"],[1,"bi"],["type","button","title","Limpiar todos los filtros",1,"btn","btn-outline-danger","border-0","btn-sm"],[1,"card-body","py-3"],[1,"card","border-0","shadow-sm"],[1,"d-flex","align-items-center","gap-2","flex-grow-1","overflow-hidden"],[1,"bi","bi-list-ul","text-primary"],[1,"badge","text-bg-info","small"],[1,"d-flex","align-items-center","gap-1","ms-auto","me-2"],[1,"form-label","mb-0","text-muted","small","d-none","d-md-inline"],[1,"form-select","form-select-sm","small",2,"width","auto","min-width","60px",3,"change","value"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["role","group","aria-label","Modo de vista",1,"btn-group","btn-group-sm","flex-shrink-0"],["type","radio","name","viewMode","id","cardsView","autocomplete","off",1,"btn-check",3,"change","checked"],["for","cardsView","title","Vista tarjetas",1,"btn","btn-outline-primary","btn-sm","px-2"],[1,"bi","bi-grid-3x3-gap"],[1,"d-none","d-lg-inline","ms-1","small"],["type","radio","name","viewMode","id","tableView","autocomplete","off",1,"btn-check",3,"change","checked"],["for","tableView","title","Vista tabla",1,"btn","btn-outline-primary","btn-sm","px-2"],[1,"bi","bi-table"],[1,"card-body","p-0"],[1,"p-3"],[1,"text-center","py-4"],[1,"card-footer","bg-light","border-top","py-2"],["type","button","title","Limpiar todos los filtros",1,"btn","btn-outline-danger","border-0","btn-sm",3,"click"],[1,"bi","bi-x-circle"],[3,"formGroup"],[1,"row","g-2"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"form-label","fw-normal","small","mb-1"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-light","border-end-0"],[1,"bi","bi-search","text-muted"],["type","text","placeholder","Buscar por referencia de pago, notas o fuente...","formControlName","searchText",1,"form-control","border-start-0","bg-light","form-control-sm"],["type","button","title","Limpiar b\xFAsqueda",1,"btn","btn-outline-secondary","border-start-0","btn-sm"],["id","event-search-addon",1,"input-group-text","bg-light","border-end-0"],[1,"bi","bi-calendar-event","text-muted"],[3,"valueChange","options","displayFn","placeholder","minChars","maxHeight","noResultsMessage","formControl","inputClass","size","autocomplete","ariaDescribedBy","inInputGroup","cacheSize","highlightSearch","loadingMessage"],["id","user-search-addon",1,"input-group-text","bg-light","border-end-0"],[1,"bi","bi-person","text-muted"],[3,"valueChange","searchFn","preloadFn","displayFn","placeholder","minChars","searchLimit","debounceMs","maxHeight","noResultsMessage","enablePreload","formControl","inputClass","size","autocomplete","ariaDescribedBy","inInputGroup","cacheSize","highlightSearch","loadingMessage"],["id","role-search-addon",1,"input-group-text","bg-light","border-end-0"],[1,"bi","bi-person-badge","text-muted"],["formControlName","states","placeholder","Estados...","summaryText","estados",1,"form-select","form-select-sm","bg-light",3,"items","showSelectionPills"],[1,"col-6","col-sm-3","col-lg-2"],["type","date","formControlName","startDate",1,"form-control","form-control-sm","bg-light"],["type","date","formControlName","endDate",1,"form-control","form-control-sm","bg-light"],[1,"col-12"],[1,"d-flex","flex-wrap","gap-2","mt-1"],[1,"form-check","form-check-sm"],["type","checkbox","id","myRegistrationsOnly","formControlName","myRegistrationsOnly",1,"form-check-input","form-check-input-sm"],["for","myRegistrationsOnly",1,"form-check-label","small"],["type","checkbox","id","needsPayment","formControlName","needsPayment",1,"form-check-input","form-check-input-sm"],["for","needsPayment",1,"form-check-label","small"],["type","checkbox","id","hasAttended","formControlName","hasAttended",1,"form-check-input","form-check-input-sm"],["for","hasAttended",1,"form-check-label","small"],["type","button","title","Limpiar b\xFAsqueda",1,"btn","btn-outline-secondary","border-start-0","btn-sm",3,"click"],[1,"bi","bi-x"],[3,"value"],[1,"row","row-cols-2","row-cols-sm-3","row-cols-md-4","row-cols-lg-5","row-cols-xl-6","g-2"],[1,"table-responsive"],[1,"text-center","mt-3"],["role","status",1,"spinner-border","text-primary","me-2",2,"width","1.25rem","height","1.25rem"],[1,"visually-hidden"],[1,"text-muted","fs-7"],[1,"col"],[1,"card","h-100","border-0","shadow-sm"],[1,"card-header","bg-light","py-1"],[1,"d-flex","justify-content-between","align-items-center"],[1,"placeholder","col-2","bg-secondary","rounded",2,"height","16px"],[1,"placeholder","col-4","bg-primary","rounded-pill",2,"height","18px"],[1,"card-body","py-2"],[1,"d-flex","align-items-start","gap-2","mb-2"],[1,"placeholder","bg-primary","rounded-circle","flex-shrink-0",2,"width","32px","height","32px"],[1,"flex-grow-1"],[1,"placeholder-glow"],[1,"placeholder","col-8","mb-1"],[1,"placeholder","col-6"],[1,"placeholder-glow","mb-2"],[1,"placeholder","col-10","mb-1"],[1,"placeholder","col-7","mb-1"],[1,"placeholder","col-5"],[1,"card-footer","bg-transparent","py-1"],[1,"d-flex","gap-1","justify-content-end"],[1,"placeholder","bg-secondary","rounded",2,"width","32px","height","24px"],[1,"table","table-hover","mb-0","table-sm"],[1,"table-light"],["scope","col",1,"border-0",2,"width","40px"],["scope","col",1,"fw-semibold","border-0","fs-7"],["scope","col",1,"fw-semibold","border-0","d-none","d-md-table-cell","fs-7"],["scope","col",1,"fw-semibold","border-0","d-none","d-lg-table-cell","fs-7"],["scope","col",1,"fw-semibold","border-0","d-none","d-xl-table-cell","fs-7"],["scope","col",1,"fw-semibold","border-0","fs-7",2,"width","120px"],[1,"border-0"],[1,"placeholder","bg-secondary","rounded",2,"width","16px","height","16px"],[1,"placeholder","bg-primary","rounded-circle",2,"width","28px","height","28px"],[1,"border-0","d-none","d-md-table-cell"],[1,"placeholder","col-7"],[1,"border-0","d-none","d-lg-table-cell"],[1,"placeholder","bg-info","rounded-pill",2,"width","60px","height","18px"],[1,"placeholder","bg-primary","rounded-pill",2,"width","80px","height","20px"],[1,"placeholder","bg-success","rounded-pill",2,"width","70px","height","18px"],[1,"border-0","d-none","d-xl-table-cell"],[1,"d-flex","gap-1"],[1,"text-muted","mb-3"],[1,"bi","bi-inbox","opacity-25",2,"font-size","3rem"],[1,"text-muted","mb-2"],[1,"text-muted","mb-3","fs-7"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-funnel","me-1"],["routerLink","/inscripciones/nueva",1,"btn","btn-primary","btn-sm"],[1,"p-2"],[1,"card","h-100","border-0","shadow-sm","position-relative"],[1,"card-header","bg-light","border-bottom-0","py-1","d-flex","align-items-center","justify-content-between"],[1,"form-check","mb-0"],["type","checkbox",1,"form-check-input","form-check-input-sm",3,"change","id","checked"],[1,"form-check-label","visually-hidden",3,"for"],[1,"badge","rounded-pill","fs-8"],[1,"d-none","d-lg-inline","ms-1"],[1,"avatar","text-bg-primary","rounded-circle","d-flex","align-items-center","justify-content-center","flex-shrink-0",2,"width","32px","height","32px"],[1,"bi","bi-person-fill","fs-7"],[1,"flex-grow-1","overflow-hidden"],[1,"card-title","mb-0","text-truncate","fw-semibold","fs-7"],[1,"text-muted","fs-8","mb-0","text-truncate"],[1,"mb-2"],[1,"d-flex","align-items-center","gap-1","mb-1"],[1,"bi","bi-calendar-event","text-primary","fs-8"],[1,"fw-medium","fs-8","text-truncate","flex-grow-1",3,"title"],[1,"d-flex","align-items-center","justify-content-between","small","text-muted"],[1,"fs-8"],[1,"badge","text-bg-info","fs-8"],[1,"text-muted","fs-8"],[1,"bi","bi-clock","me-1"],[1,"card-footer","bg-transparent","border-top","py-1"],["title","Ver detalles",1,"btn","btn-outline-info","btn-sm","px-2",3,"routerLink"],[1,"bi","bi-eye","fs-7"],["title","Editar",1,"btn","btn-outline-primary","btn-sm","px-2",3,"routerLink"],["title","Cancelar",1,"btn","btn-outline-danger","btn-sm","px-2",3,"disabled"],[1,"bi","bi-credit-card","text-success","fs-8"],[1,"text-success","fs-8","fw-medium"],[1,"bi","bi-pencil","fs-7"],["title","Cancelar",1,"btn","btn-outline-danger","btn-sm","px-2",3,"click","disabled"],[1,"bi","bi-x-circle","fs-7"],[1,"form-check"],["type","checkbox","id","selectAll",1,"form-check-input","form-check-input-sm",3,"change","checked","indeterminate"],["for","selectAll",1,"form-check-label","visually-hidden"],[3,"table-active","class"],[1,"avatar","text-bg-primary","rounded-circle","d-flex","align-items-center","justify-content-center","flex-shrink-0",2,"width","28px","height","28px"],[1,"fw-bold","fs-8"],[1,"overflow-hidden"],[1,"fw-medium","text-truncate","fs-7"],[1,"text-muted","fs-8","text-truncate"],[1,"fw-medium","text-truncate","fs-7",3,"title"],[1,"badge","text-bg-success","fs-8"],[1,"text-muted"],[1,"btn-group","btn-group-sm"],[1,"bi","bi-eye"],["title","Editar",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],["title","Cancelar",1,"btn","btn-outline-danger","btn-sm",3,"disabled"],[1,"bi","bi-credit-card","me-1"],[1,"bi","bi-dash"],[1,"bi","bi-pencil"],["title","Cancelar",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],["containerClass","justify-content-between align-items-center",1,"mb-0",3,"pageChange","pageSizeChange","totalItems","pageSize","currentPage","showPageSizeSelector","pageSizeOptions","showGoToPage","showRangeInfo","showFirstLastButtons","maxVisiblePages","density"]],template:function(t,n){if(t&1){let s=C();i(0,"div",2)(1,"app-confirm-modal",3,0),_("accepted",function(){return u(s),g(n.onConfirmAccepted())})("cancelled",function(){return u(s),g(n.onConfirmCancelled())}),a(),i(3,"nav",4)(4,"ol",5)(5,"li",6)(6,"a",7),d(7,"i",8),i(8,"span",9),l(9,"Inicio"),a()()(),i(10,"li",10),l(11,"Inscripciones"),a()()(),i(12,"div",11)(13,"div",12)(14,"h1",13),d(15,"i",14),i(16,"span",15),l(17,"Inscripciones"),a(),b(18,st,2,1,"span",16),a(),i(19,"p",17),l(20,"Administra las inscripciones de eventos"),a()(),i(21,"div",18)(22,"button",19),_("click",function(){return u(s),g(n.refreshData())}),b(23,dt,1,0,"span",20)(24,ct,1,0,"i",21),i(25,"span",22),l(26,"Actualizar"),a()(),i(27,"button",23),d(28,"i",24),i(29,"span",15),l(30,"Nueva"),a()(),i(31,"button",25),d(32,"i",26),i(33,"span",27),l(34,"Masiva"),a()()()(),i(35,"div",28)(36,"div",29)(37,"div",30)(38,"div",31)(39,"div",32),d(40,"i",33),i(41,"h6",34),l(42,"Filtros"),a()(),b(43,mt,2,1,"span",35),a(),i(44,"div",36)(45,"button",37),_("click",function(){return u(s),g(n.toggleFiltersPanel())}),d(46,"i",38),a(),b(47,pt,2,0,"button",39),a()()(),b(48,gt,61,53,"div",40),a(),i(49,"div",41)(50,"div",29)(51,"div",30)(52,"div",42)(53,"div",32),d(54,"i",43),i(55,"h6",34),l(56,"Inscripciones"),a()(),b(57,bt,2,1,"span",44),i(58,"div",45)(59,"label",46),l(60,"Mostrar:"),a(),i(61,"select",47),_("change",function(qe){return u(s),g(n.onPageSizeChange(qe))}),ne(62,ht,2,2,"option",48),a()()(),i(63,"div",49)(64,"input",50),_("change",function(){return u(s),g(n.setViewMode("cards"))}),a(),i(65,"label",51),d(66,"i",52),i(67,"span",53),l(68,"Tarjetas"),a()(),i(69,"input",54),_("change",function(){return u(s),g(n.setViewMode("table"))}),a(),i(70,"label",55),d(71,"i",56),i(72,"span",53),l(73,"Tabla"),a()()()()(),i(74,"div",57),b(75,St,9,1,"div",58)(76,Et,5,1,"div",59)(77,Lt,2,2),a(),b(78,Vt,2,10,"div",60),a()()}t&2&&(o(),p("title",n.confirmAction().title)("message",n.confirmAction().message)("confirmText",n.confirmAction().confirmText),o(17),h(n.totalItems()>0?18:-1),o(4),p("disabled",n.isLoading()),o(),h(n.isLoading()?23:24),o(12),T("border-primary",n.hasActiveFilters()),o(8),h(n.hasActiveFilters()?43:-1),o(2),p("title",n.showFilters()?"Ocultar filtros":"Mostrar filtros"),O("aria-expanded",n.showFilters()),o(),T("bi-chevron-up",n.showFilters())("bi-chevron-down",!n.showFilters()),o(),h(n.hasActiveFilters()?47:-1),o(),h(n.showFilters()?48:-1),o(9),h(n.totalItems()>0?57:-1),o(4),p("value",n.pageSize()),o(),p("ngForOf",n.pageSizeOptions)("ngForTrackBy",n.trackByPageSize),o(2),p("checked",n.viewMode()==="cards"),o(5),p("checked",n.viewMode()==="table"),o(6),h(n.isLoading()?75:n.registrations().length===0?76:77),o(3),h(n.totalPages()>1?78:-1))},dependencies:[B,ge,ve,fe,Le,Te,ke,Pe,z,Re,U,Ie,Fe,Ne,Ae,H,ze,Ge,G,Be,he,be],encapsulation:2,changeDetection:0})};export{Ye as RegistrationListComponent};
