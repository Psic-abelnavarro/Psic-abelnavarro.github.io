import{a as hn}from"./chunk-FK6H3RFT.js";import{b as uS,c as dS,f as WN,g as hS}from"./chunk-X5YLR3NI.js";import{a as De,b as vt,c as _b,e as Ke,g as cS,h as $N,i as ie}from"./chunk-ODN5LVDJ.js";var Lt=Ke(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr._registerNode=Mr.Konva=Mr.glob=void 0;var lU=Math.PI/180;function cU(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}Mr.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{};Mr.Konva={_global:Mr.glob,version:"9.3.22",isBrowser:cU(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return Mr.Konva.angleDeg?n*lU:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Mr.Konva.DD.isDragging},isTransforming(){var n;return(n=Mr.Konva.Transformer)===null||n===void 0?void 0:n.isTransforming()},isDragReady(){return!!Mr.Konva.DD.node},releaseCanvasOnDestroy:!0,document:Mr.glob.document,_injectGlobal(n){Mr.glob.Konva=n}};var uU=n=>{Mr.Konva[n.prototype.getClassName()]=n};Mr._registerNode=uU;Mr.Konva._injectGlobal(Mr.Konva)});var kn=Ke(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.Util=xn.Transform=void 0;var VC=Lt(),qC=class n{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){let t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.m[0]*t+this.m[2]*r,o=this.m[1]*t+this.m[3]*r,s=this.m[0]*-r+this.m[2]*t,a=this.m[1]*-r+this.m[3]*t;return this.m[0]=i,this.m[1]=o,this.m[2]=s,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){let r=this.m[0]+this.m[2]*t,i=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=s,this}multiply(e){let t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}invert(){let e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}getMatrix(){return this.m}decompose(){let e=this.m[0],t=this.m[1],r=this.m[2],i=this.m[3],o=this.m[4],s=this.m[5],a=e*i-t*r,l={x:o,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||t!=0){let c=Math.sqrt(e*e+t*t);l.rotation=t>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+t*i)/a,l.skewY=0}else if(r!=0||i!=0){let c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+t*i)/a}return l.rotation=xn.Util._getRotation(l.rotation),l}};xn.Transform=qC;var dU="[object Array]",hU="[object Number]",fU="[object String]",pU="[object Boolean]",gU=Math.PI/180,mU=180/Math.PI,HC="#",vU="",yU="0",bU="Konva warning: ",L6="Konva error: ",_U="rgb(",zC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},wU=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,mv=[],CU=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,60)};xn.Util={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===dU},_isNumber(n){return Object.prototype.toString.call(n)===hU&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===fU},_isBoolean(n){return Object.prototype.toString.call(n)===pU},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;let e=n[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){mv.push(n),mv.length===1&&CU(function(){let e=mv;mv=[],e.forEach(function(t){t()})})},createCanvasElement(){let n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,e){let t=xn.Util.createImageElement();t.onload=function(){e(t)},t.src=n},_rgbToHex(n,e,t){return((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)},_hexToRgb(n){n=n.replace(HC,vU);let e=parseInt(n,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let n=(Math.random()*16777215<<0).toString(16);for(;n.length<6;)n=yU+n;return HC+n},getRGB(n){let e;return n in zC?(e=zC[n],{r:e[0],g:e[1],b:e[2]}):n[0]===HC?this._hexToRgb(n.substring(1)):n.substr(0,4)===_U?(e=wU.exec(n.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",xn.Util._namedColorToRBA(n)||xn.Util._hex3ColorToRGBA(n)||xn.Util._hex4ColorToRGBA(n)||xn.Util._hex6ColorToRGBA(n)||xn.Util._hex8ColorToRGBA(n)||xn.Util._rgbColorToRGBA(n)||xn.Util._rgbaColorToRGBA(n)||xn.Util._hslColorToRGBA(n)},_namedColorToRBA(n){let e=zC[n.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];let e=n.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];let e=n.split(/ *, */).map((t,r)=>t.slice(-1)==="%"?r===3?parseInt(t)/100:parseInt(t)/100*255:Number(t));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(n){if(n[0]==="#"&&n.length===9)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:parseInt(n.slice(7,9),16)/255}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex4ColorToRGBA(n){if(n[0]==="#"&&n.length===5)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:parseInt(n[4]+n[4],16)/255}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){let[e,...t]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),r=Number(t[0])/360,i=Number(t[1])/100,o=Number(t[2])/100,s,a,l;if(i===0)return l=o*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o<.5?s=o*(1+i):s=o+i-o*i;let c=2*o-s,d=[0,0,0];for(let h=0;h<3;h++)a=r+1/3*-(h-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(s-c)*6*a:2*a<1?l=s:3*a<2?l=c+(s-c)*(2/3-a)*6:l=c,d[h]=l*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(n,e){return!(e.x>n.x+n.width||e.x+e.width<n.x||e.y>n.y+n.height||e.y+e.height<n.y)},cloneObject(n){let e={};for(let t in n)this._isPlainObject(n[t])?e[t]=this.cloneObject(n[t]):this._isArray(n[t])?e[t]=this.cloneArray(n[t]):e[t]=n[t];return e},cloneArray(n){return n.slice(0)},degToRad(n){return n*gU},radToDeg(n){return n*mU},_degToRad(n){return xn.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),xn.Util.degToRad(n)},_radToDeg(n){return xn.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),xn.Util.radToDeg(n)},_getRotation(n){return VC.Konva.angleDeg?xn.Util.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(L6+n)},error(n){console.error(L6+n)},warn(n){VC.Konva.showWarnings&&console.warn(bU+n)},each(n,e){for(let t in n)e(t,n[t])},_inRange(n,e,t){return e<=n&&n<t},_getProjectionToSegment(n,e,t,r,i,o){let s,a,l,c=(n-t)*(n-t)+(e-r)*(e-r);if(c==0)s=n,a=e,l=(i-t)*(i-t)+(o-r)*(o-r);else{let d=((i-n)*(t-n)+(o-e)*(r-e))/c;d<0?(s=n,a=e,l=(n-i)*(n-i)+(e-o)*(e-o)):d>1?(s=t,a=r,l=(t-i)*(t-i)+(r-o)*(r-o)):(s=n+d*(t-n),a=e+d*(r-e),l=(s-i)*(s-i)+(a-o)*(a-o))}return[s,a,l]},_getProjectionToLine(n,e,t){let r=xn.Util.cloneObject(n),i=Number.MAX_VALUE;return e.forEach(function(o,s){if(!t&&s===e.length-1)return;let a=e[(s+1)%e.length],l=xn.Util._getProjectionToSegment(o.x,o.y,a.x,a.y,n.x,n.y),c=l[0],d=l[1],h=l[2];h<i&&(r.x=c,r.y=d,i=h)}),r},_prepareArrayForTween(n,e,t){let r=[],i=[];if(n.length>e.length){let s=e;e=n,n=s}for(let s=0;s<n.length;s+=2)r.push({x:n[s],y:n[s+1]});for(let s=0;s<e.length;s+=2)i.push({x:e[s],y:e[s+1]});let o=[];return i.forEach(function(s){let a=xn.Util._getProjectionToLine(s,r,t);o.push(a.x),o.push(a.y)}),o},_prepareToStringify(n){let e;n.visitedByCircularReferenceRemoval=!0;for(let t in n)if(n.hasOwnProperty(t)&&n[t]&&typeof n[t]=="object"){if(e=Object.getOwnPropertyDescriptor(n,t),n[t].visitedByCircularReferenceRemoval||xn.Util._isElement(n[t]))if(e.configurable)delete n[t];else return null;else if(xn.Util._prepareToStringify(n[t])===null)if(e.configurable)delete n[t];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,e){for(let t in e)n[t]=e[t];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){VC.Konva.releaseCanvasOnDestroy&&n.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(n,e,t,r){let i=0,o=0,s=0,a=0;typeof r=="number"?i=o=s=a=Math.min(r,e/2,t/2):(i=Math.min(r[0]||0,e/2,t/2),o=Math.min(r[1]||0,e/2,t/2),a=Math.min(r[2]||0,e/2,t/2),s=Math.min(r[3]||0,e/2,t/2)),n.moveTo(i,0),n.lineTo(e-o,0),n.arc(e-o,o,o,Math.PI*3/2,0,!1),n.lineTo(e,t-a),n.arc(e-a,t-a,a,0,Math.PI/2,!1),n.lineTo(s,t),n.arc(s,t-s,s,Math.PI/2,Math.PI,!1),n.lineTo(0,i),n.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}}});var WC=Ke(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.HitContext=Cl.SceneContext=Cl.Context=void 0;var B6=kn(),EU=Lt();function SU(n){let e=[],t=n.length,r=B6.Util;for(let i=0;i<t;i++){let o=n[i];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),e.push(o)}return e}var F6=",",xU="(",DU=")",MU="([",IU="])",AU=";",PU="()",TU="=",j6=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],NU=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],OU=100,Rd=class{constructor(e){this.canvas=e,EU.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let r=this.traceArr,i=r.length,o="",s,a,l,c;for(s=0;s<i;s++)a=r[s],l=a.method,l?(c=a.args,o+=l,e?o+=PU:B6.Util._isArray(c[0])?o+=MU+c.join(F6)+IU:(t&&(c=c.map(d=>typeof d=="number"?Math.floor(d):d)),o+=xU+c.join(F6)+DU)):(o+=a.property,e||(o+=TU+a.val)),o+=AU;return o}clearTrace(){this.traceArr=[]}_trace(e){let t=this.traceArr,r;t.push(e),r=t.length,r>=OU&&t.shift()}reset(){let e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){let t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){let t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){let t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){let t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,i,o,s){this._context.arc(e,t,r,i,o,s)}arcTo(e,t,r,i,o){this._context.arcTo(e,t,r,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,i,o,s){this._context.bezierCurveTo(e,t,r,i,o,s)}clearRect(e,t,r,i){this._context.clearRect(e,t,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){let r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,i){return this._context.createLinearGradient(e,t,r,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,i,o,s){return this._context.createRadialGradient(e,t,r,i,o,s)}drawImage(e,t,r,i,o,s,a,l,c){let d=arguments,h=this._context;d.length===3?h.drawImage(e,t,r):d.length===5?h.drawImage(e,t,r,i,o):d.length===9&&h.drawImage(e,t,r,i,o,s,a,l,c)}ellipse(e,t,r,i,o,s,a,l){this._context.ellipse(e,t,r,i,o,s,a,l)}isPointInPath(e,t,r,i){return r?this._context.isPointInPath(r,e,t,i):this._context.isPointInPath(e,t,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,i){this._context.fillRect(e,t,r,i)}strokeRect(e,t,r,i){this._context.strokeRect(e,t,r,i)}fillText(e,t,r,i){i?this._context.fillText(e,t,r,i):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,i){return this._context.getImageData(e,t,r,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,i){this._context.rect(e,t,r,i)}roundRect(e,t,r,i,o){this._context.roundRect(e,t,r,i,o)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,i){this._context.quadraticCurveTo(e,t,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,i,o,s){this._context.setTransform(e,t,r,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,i){this._context.strokeText(e,t,r,i)}transform(e,t,r,i,o,s){this._context.transform(e,t,r,i,o,s)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e=this,t=j6.length,r=this.setAttr,i,o,s=function(a){let l=e[a],c;e[a]=function(){return o=SU(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:o}),c}};for(i=0;i<t;i++)s(j6[i]);e.setAttr=function(){r.apply(e,arguments);let a=arguments[0],l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){let t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}};Cl.Context=Rd;NU.forEach(function(n){Object.defineProperty(Rd.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});var GC=class extends Rd{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){let t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){let t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){let t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){let t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}let i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}let o=e.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(e);return}let s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,r.x,r.y);if(i){for(let s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){let t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,i;let o=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),d=l.x*c,h=l.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",a.x*d),this.setAttr("shadowOffsetY",a.y*h)}};Cl.SceneContext=GC;var $C=class extends Rd{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let t=e.getStrokeScaleEnabled();if(!t){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);let r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}};Cl.HitContext=$C});var yp=Ke(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.HitCanvas=El.SceneCanvas=El.Canvas=void 0;var yv=kn(),U6=WC(),V6=Lt(),vv;function kU(){if(vv)return vv;let n=yv.Util.createCanvasElement(),e=n.getContext("2d");return vv=function(){let t=V6.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}(),yv.Util.releaseCanvas(n),vv}var vp=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;let r=(e||{}).pixelRatio||V6.Konva.pixelRatio||kU();this.pixelRatio=r,this._canvas=yv.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){let t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(i){return yv.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};El.Canvas=vp;var YC=class extends vp{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new U6.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};El.SceneCanvas=YC;var KC=class extends vp{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new U6.HitContext(this),this.setSize(e.width,e.height)}};El.HitCanvas=KC});var bv=Ke(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.DD=void 0;var bp=Lt(),RU=kn();vr.DD={get isDragging(){let n=!1;return vr.DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return vr.DD._dragElements.forEach(e=>{n=e.node}),n},_dragElements:new Map,_drag(n){let e=[];vr.DD._dragElements.forEach((t,r)=>{let{node:i}=t,o=i.getStage();o.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=RU.Util._getFirstPointerId(n));let s=o._changedPointerPositions.find(a=>a.id===t.pointerId);if(s){if(t.dragStatus!=="dragging"){let a=i.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<a||(i.startDrag({evt:n}),!i.isDragging()))return}i._setDragPosition(n,t),e.push(i)}}),e.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){let e=[];vr.DD._dragElements.forEach(t=>{let{node:r}=t,i=r.getStage();if(n&&i.setPointersPositions(n),!i._changedPointerPositions.find(a=>a.id===t.pointerId))return;(t.dragStatus==="dragging"||t.dragStatus==="stopped")&&(vr.DD.justDragged=!0,bp.Konva._mouseListenClick=!1,bp.Konva._touchListenClick=!1,bp.Konva._pointerListenClick=!1,t.dragStatus="stopped");let s=t.node.getLayer()||t.node instanceof bp.Konva.Stage&&t.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(t=>{t.draw()})},_endDragAfter(n){vr.DD._dragElements.forEach((e,t)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:n},!0),e.dragStatus!=="dragging"&&vr.DD._dragElements.delete(t)})}};bp.Konva.isBrowser&&(window.addEventListener("mouseup",vr.DD._endDragBefore,!0),window.addEventListener("touchend",vr.DD._endDragBefore,!0),window.addEventListener("touchcancel",vr.DD._endDragBefore,!0),window.addEventListener("mousemove",vr.DD._drag),window.addEventListener("touchmove",vr.DD._drag),window.addEventListener("mouseup",vr.DD._endDragAfter,!1),window.addEventListener("touchend",vr.DD._endDragAfter,!1),window.addEventListener("touchcancel",vr.DD._endDragAfter,!1))});var Vt=Ke(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.RGBComponent=LU;ki.alphaComponent=FU;ki.getNumberValidator=jU;ki.getNumberOrArrayOfNumbersValidator=BU;ki.getNumberOrAutoValidator=UU;ki.getStringValidator=VU;ki.getStringOrGradientValidator=HU;ki.getFunctionValidator=zU;ki.getNumberArrayValidator=qU;ki.getBooleanValidator=GU;ki.getComponentValidator=$U;var Sa=Lt(),zn=kn();function xa(n){return zn.Util._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||zn.Util._isBoolean(n)?n:Object.prototype.toString.call(n)}function LU(n){return n>255?255:n<0?0:Math.round(n)}function FU(n){return n>1?1:n<1e-4?1e-4:n}function jU(){if(Sa.Konva.isUnminified)return function(n,e){return zn.Util._isNumber(n)||zn.Util.warn(xa(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}}function BU(n){if(Sa.Konva.isUnminified)return function(e,t){let r=zn.Util._isNumber(e),i=zn.Util._isArray(e)&&e.length==n;return!r&&!i&&zn.Util.warn(xa(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}}function UU(){if(Sa.Konva.isUnminified)return function(n,e){return zn.Util._isNumber(n)||n==="auto"||zn.Util.warn(xa(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}}function VU(){if(Sa.Konva.isUnminified)return function(n,e){return zn.Util._isString(n)||zn.Util.warn(xa(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}}function HU(){if(Sa.Konva.isUnminified)return function(n,e){let t=zn.Util._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||zn.Util.warn(xa(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}}function zU(){if(Sa.Konva.isUnminified)return function(n,e){return zn.Util._isFunction(n)||zn.Util.warn(xa(n)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),n}}function qU(){if(Sa.Konva.isUnminified)return function(n,e){let t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&n instanceof t||(zn.Util._isArray(n)?n.forEach(function(r){zn.Util._isNumber(r)||zn.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):zn.Util.warn(xa(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),n}}function GU(){if(Sa.Konva.isUnminified)return function(n,e){return n===!0||n===!1||zn.Util.warn(xa(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}}function $U(n){if(Sa.Konva.isUnminified)return function(e,t){return e==null||zn.Util.isObject(e)||zn.Util.warn(xa(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}}});var Bt=Ke(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.Factory=void 0;var Ri=kn(),WU=Vt(),_p="get",wp="set";Ho.Factory={addGetterSetter(n,e,t,r,i){Ho.Factory.addGetter(n,e,t),Ho.Factory.addSetter(n,e,r,i),Ho.Factory.addOverloadedGetterSetter(n,e)},addGetter(n,e,t){let r=_p+Ri.Util._capitalize(e);n.prototype[r]=n.prototype[r]||function(){let i=this.attrs[e];return i===void 0?t:i}},addSetter(n,e,t,r){let i=wp+Ri.Util._capitalize(e);n.prototype[i]||Ho.Factory.overWriteSetter(n,e,t,r)},overWriteSetter(n,e,t,r){let i=wp+Ri.Util._capitalize(e);n.prototype[i]=function(o){return t&&o!==void 0&&o!==null&&(o=t.call(this,o,e)),this._setAttr(e,o),r&&r.call(this),this}},addComponentsGetterSetter(n,e,t,r,i){let o=t.length,s=Ri.Util._capitalize,a=_p+s(e),l=wp+s(e);n.prototype[a]=function(){let d={};for(let h=0;h<o;h++){let m=t[h];d[m]=this.getAttr(e+s(m))}return d};let c=(0,WU.getComponentValidator)(t);n.prototype[l]=function(d){let h=this.attrs[e];r&&(d=r.call(this,d,e)),c&&c.call(this,d,e);for(let m in d)d.hasOwnProperty(m)&&this._setAttr(e+s(m),d[m]);return d||t.forEach(m=>{this._setAttr(e+s(m),void 0)}),this._fireChangeEvent(e,h,d),i&&i.call(this),this},Ho.Factory.addOverloadedGetterSetter(n,e)},addOverloadedGetterSetter(n,e){let t=Ri.Util._capitalize(e),r=wp+t,i=_p+t;n.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(n,e,t,r){Ri.Util.error("Adding deprecated "+e);let i=_p+Ri.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[i]=function(){Ri.Util.error(o);let s=this.attrs[e];return s===void 0?t:s},Ho.Factory.addSetter(n,e,r,function(){Ri.Util.error(o)}),Ho.Factory.addOverloadedGetterSetter(n,e)},backCompat(n,e){Ri.Util.each(e,function(t,r){let i=n.prototype[r],o=_p+Ri.Util._capitalize(t),s=wp+Ri.Util._capitalize(t);function a(){i.apply(this,arguments),Ri.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}n.prototype[t]=a,n.prototype[o]=a,n.prototype[s]=a})},afterSetFilter(){this._filterUpToDate=!1}}});var qn=Ke(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.Node=void 0;var Ld=yp(),oo=bv(),Cp=Bt(),Sl=Lt(),$t=kn(),Xn=Vt(),wv="absoluteOpacity",_v="allEventListeners",Da="absoluteTransform",H6="absoluteScale",Tc="canvas",YU="Change",KU="children",XU="konva",XC="listening",ZU="mouseenter",JU="mouseleave",QU="pointerenter",eV="pointerleave",tV="touchenter",nV="touchleave",z6="set",q6="Shape",Cv=" ",G6="stage",xl="transform",rV="Stage",ZC="visible",iV=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Cv),oV=1,_t=class n{constructor(e){this._id=oV++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===xl||e===Da)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){let r=this._cache.get(e);return(r===void 0||(e===xl||e===Da)&&r.dirty===!0)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){let i=t.map(o=>o+"Change.konva").join(Cv);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Tc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Da&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Tc)){let{scene:e,filter:t,hit:r,buffer:i}=this._cache.get(Tc);$t.Util.releaseCanvas(e,t,r,i),this._cache.delete(Tc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){let t=e||{},r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(t.width||r.width),o=Math.ceil(t.height||r.height),s=t.pixelRatio,a=t.x===void 0?Math.floor(r.x):t.x,l=t.y===void 0?Math.floor(r.y):t.y,c=t.offset||0,d=t.drawBorder||!1,h=t.hitCanvasPixelRatio||1;if(!i||!o){$t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}let m=Math.abs(Math.round(r.x)-a)>.5?1:0,p=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+m,o+=c*2+p,a-=c,l-=c;let y=new Ld.SceneCanvas({pixelRatio:s,width:i,height:o}),_=new Ld.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),C=new Ld.HitCanvas({pixelRatio:h,width:i,height:o}),w=y.getContext(),x=C.getContext(),O=new Ld.SceneCanvas({width:y.width/y.pixelRatio+Math.abs(a),height:y.height/y.pixelRatio+Math.abs(l),pixelRatio:y.pixelRatio}),k=O.getContext();return C.isCache=!0,y.isCache=!0,this._cache.delete(Tc),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),w.save(),x.save(),k.save(),w.translate(-a,-l),x.translate(-a,-l),k.translate(-a,-l),O.x=a,O.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(wv),this._clearSelfAndDescendantCache(H6),this.drawScene(y,this,O),this.drawHit(C,this),this._isUnderCache=!1,w.restore(),x.restore(),d&&(w.save(),w.beginPath(),w.rect(0,0,i,o),w.closePath(),w.setAttr("strokeStyle","red"),w.setAttr("lineWidth",5),w.stroke(),w.restore()),this._cache.set(Tc,{scene:y,filter:_,hit:C,buffer:O,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Tc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){let r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,o=1/0,s=-1/0,a=-1/0,l=this.getAbsoluteTransform(t);return r.forEach(function(c){let d=l.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let t=this._getCanvasCache();e.translate(t.x,t.y);let r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){let t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),t=this._getCanvasCache(),r=t.scene,i=t.filter,o=i.getContext(),s,a,l,c;if(e){if(!this._filterUpToDate){let d=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){$t.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),o.putImageData(a,0,0)}}catch(h){$t.Util.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,t){if(this._cache&&this._cache.delete(_v),arguments.length===3)return this._delegate.apply(this,arguments);let r=e.split(Cv);for(let i=0;i<r.length;i++){let s=r[i].split("."),a=s[0],l=s[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:t})}return this}off(e,t){let r=(e||"").split(Cv),i=r.length,o,s,a,l,c,d;if(this._cache&&this._cache.delete(_v),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=r[o],l=a.split("."),c=l[0],d=l[1],c)this.eventListeners[c]&&this._off(c,d,t);else for(s in this.eventListeners)this._off(s,d,t);return this}dispatchEvent(e){let t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){let i=this;this.on(e,function(o){let s=o.target.findAncestors(t,!0,i);for(let a=0;a<s.length;a++)o=$t.Util.cloneObject(o),o.currentTarget=s[a],r.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),oo.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Da),this._clearSelfAndDescendantCache(wv),this._clearSelfAndDescendantCache(H6),this._clearSelfAndDescendantCache(G6),this._clearSelfAndDescendantCache(ZC),this._clearSelfAndDescendantCache(XC)}_remove(){this._clearCaches();let e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){let t="get"+$t.Util._capitalize(e);return $t.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,r;if(!e)return this;for(t in e)t!==KU&&(r=z6+$t.Util._capitalize(t),$t.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(XC,this._isListening)}_isListening(e){if(!this.listening())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(ZC,this._isVisible)}_isVisible(e){if(!this.visible())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);let r=this.getLayer(),i=!1;oo.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});let o=!t&&!Sl.Konva.hitOnDragEnabled&&(i||Sl.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),t=this,r=0,i,o,s,a;function l(d){for(i=[],o=d.length,s=0;s<o;s++)a=d[s],r++,a.nodeType!==q6&&(i=i.concat(a.getChildren().slice())),a._id===t._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&l(i)}let c=this.getStage();return t.nodeType!==rV&&c&&l(c.getChildren()),r}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(xl),this._clearSelfAndDescendantCache(Da)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){let e=this.getStage();if(!e)return null;let t=e.getPointerPosition();if(!t)return null;let r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);let i=this.getAbsoluteTransform(e).getMatrix(),o=new $t.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){let s=this._clearTransform(),{x:t,y:r}=s,i=_b(s,["x","y"]);this.attrs.x=t,this.attrs.y=r,this._clearCache(xl);let o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(xl),this._clearSelfAndDescendantCache(Da),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){let e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,r=e.y,i=this.x(),o=this.y();return t!==void 0&&(i+=t),r!==void 0&&(o+=r),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,t){let r=[],i=this.getParent(),o,s;if(!(t&&t._id===this._id)){for(r.unshift(this);i&&(!t||i._id!==t._id);)r.unshift(i),i=i.parent;for(o=r.length,s=0;s<o;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return $t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return $t.Util.warn("Node has no parent. moveUp function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return $t.Util.warn("Node has no parent. moveDown function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return $t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return $t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&$t.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");let t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(wv,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),t,r,i,o,s,a={attrs:{},className:this.getClassName()};for(t in e)r=e[t],s=$t.Util.isObject(r)&&!$t.Util._isPlainObject(r)&&!$t.Util._isArray(r),!s&&(i=typeof this[t]=="function"&&this[t],delete e[t],o=i?i.call(this):null,e[t]=r,o!==r&&(a.attrs[t]=r));return $t.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){let i=[];t&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===r)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let t=e.replace(/ /g,"").split(","),r=t.length,i,o;for(i=0;i<r;i++)if(o=t[i],$t.Util.isValidSelector(o)||($t.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),$t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),$t.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){let e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(G6,this._getStage)}_getStage(){let e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Da,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new $t.Transform,this._eachAncestorReverse(function(r){let i=r.transformsEnabled();i==="all"?t.multiply(r.getTransform()):i==="position"&&t.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),t;{t=this._cache.get(Da)||new $t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();let r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){let i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(i-s,o-a)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();let i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(xl,this._getTransform)}_getTransform(){var e,t;let r=this._cache.get(xl)||new $t.Transform;r.reset();let i=this.x(),o=this.y(),s=Sl.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(i!==0||o!==0)&&r.translate(i,o),s!==0&&r.rotate(s),(c!==0||d!==0)&&r.skew(c,d),(a!==1||l!==1)&&r.scale(a,l),(h!==0||m!==0)&&r.translate(-1*h,-1*m),r.dirty=!1,r}clone(e){let t=$t.Util.cloneObject(this.attrs),r,i,o,s,a;for(r in e)t[r]=e[r];let l=new this.constructor(t);for(r in this.eventListeners)for(i=this.eventListeners[r],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(XU)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};let t=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(t.x),o=e.y!==void 0?e.y:Math.floor(t.y),s=e.pixelRatio||1,a=new Ld.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:s}),l=a.getContext(),c=new Ld.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};let t=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,$t.Util._urlToImage(this.toDataURL(e),function(o){t(o),i?.(o)})}catch(i){r(i)}})}toBlob(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{t(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Sl.Konva.dragDistance}_off(e,t,r){let i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||t==="konva")&&(!t||s===t)&&(!r||r===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,t,r){this._fire(e+YU,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){let t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;let t=this.name();return t?(t||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){let t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){let r=this[z6+$t.Util._capitalize(e)];return $t.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(Sl.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){let r=this.attrs[e];r===t&&!$t.Util.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,t,r){t&&this.nodeType===q6&&(t.target=this);let i=[ZU,JU,QU,eV,tV,nV];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,t);let s=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,i;let o=(t=this._cache.get(_v))!==null&&t!==void 0?t:{},s=o?.[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){let l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];s.push(...l),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(_v,o)}return s}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;let r=this._getProtoListeners(e);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,t);let i=this.eventListeners[e];if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){let t=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;let o=r._getPointerById(t)||r._changedPointerPositions[0]||i;oo.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){oo.DD._dragElements.has(this._id)||this._createDragElement(e);let r=oo.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){let r=this.getStage()._getPointerById(t.pointerId);if(!r)return;let i={x:r.x-t.offset.x,y:r.y-t.offset.y},o=this.dragBoundFunc();if(o!==void 0){let s=o.call(this,i,e);s?i=s:$t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){let t=oo.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),oo.DD._endDragBefore(e),oo.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=oo.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Sl.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;oo.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;let t=oo.DD._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",i=t&&t.dragStatus==="ready";r?this.stopDrag():i&&oo.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let t=this.getStage();if(!t)return!1;let r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return $t.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return $t.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let r=n.prototype.getClassName.call(e),i=e.children,o,s,a;t&&(e.attrs.container=t),Sl.Konva[r]||($t.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");let l=Sl.Konva[r];if(o=new l(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(n._createNode(i[a]));return o}};Ev.Node=_t;_t.prototype.nodeType="Node";_t.prototype._attrsAffectingSize=[];_t.prototype.eventListeners={};_t.prototype.on.call(_t.prototype,iV,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(xl),this._clearSelfAndDescendantCache(Da)});_t.prototype.on.call(_t.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ZC)});_t.prototype.on.call(_t.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(XC)});_t.prototype.on.call(_t.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(wv)});var bn=Cp.Factory.addGetterSetter;bn(_t,"zIndex");bn(_t,"absolutePosition");bn(_t,"position");bn(_t,"x",0,(0,Xn.getNumberValidator)());bn(_t,"y",0,(0,Xn.getNumberValidator)());bn(_t,"globalCompositeOperation","source-over",(0,Xn.getStringValidator)());bn(_t,"opacity",1,(0,Xn.getNumberValidator)());bn(_t,"name","",(0,Xn.getStringValidator)());bn(_t,"id","",(0,Xn.getStringValidator)());bn(_t,"rotation",0,(0,Xn.getNumberValidator)());Cp.Factory.addComponentsGetterSetter(_t,"scale",["x","y"]);bn(_t,"scaleX",1,(0,Xn.getNumberValidator)());bn(_t,"scaleY",1,(0,Xn.getNumberValidator)());Cp.Factory.addComponentsGetterSetter(_t,"skew",["x","y"]);bn(_t,"skewX",0,(0,Xn.getNumberValidator)());bn(_t,"skewY",0,(0,Xn.getNumberValidator)());Cp.Factory.addComponentsGetterSetter(_t,"offset",["x","y"]);bn(_t,"offsetX",0,(0,Xn.getNumberValidator)());bn(_t,"offsetY",0,(0,Xn.getNumberValidator)());bn(_t,"dragDistance",void 0,(0,Xn.getNumberValidator)());bn(_t,"width",0,(0,Xn.getNumberValidator)());bn(_t,"height",0,(0,Xn.getNumberValidator)());bn(_t,"listening",!0,(0,Xn.getBooleanValidator)());bn(_t,"preventDefault",!0,(0,Xn.getBooleanValidator)());bn(_t,"filters",void 0,function(n){return this._filterUpToDate=!1,n});bn(_t,"visible",!0,(0,Xn.getBooleanValidator)());bn(_t,"transformsEnabled","all",(0,Xn.getStringValidator)());bn(_t,"size");bn(_t,"dragBoundFunc");bn(_t,"draggable",!1,(0,Xn.getBooleanValidator)());Cp.Factory.backCompat(_t,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})});var Ep=Ke(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.Container=void 0;var Fd=Bt(),JC=qn(),Sv=Vt(),Ma=class extends JC.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){let t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}let t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){let t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){let r=[];return this._descendants(i=>{let o=i._isMatch(e);return o&&r.push(i),!!(o&&t)}),r}_descendants(e){let t=!1,r=this.getChildren();for(let i of r){if(t=e(i),t)return!0;if(i.hasChildren()&&(t=i._descendants(e),t))return!0}return!1}toObject(){let e=JC.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){let t=JC.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){let t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=o&&o.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();let d=this.getAbsoluteTransform(t).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,t,r);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;let r=this.getLayer(),i=e||r&&r.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache();if(s&&s.hit){o.save();let l=this.getAbsoluteTransform(t).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,r,i){var o;let s=t&&t.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),d=typeof a=="number"&&typeof l=="number"||c,h=r===this;if(d){s.save();let p=this.getAbsoluteTransform(r),y=p.getMatrix();s.transform(y[0],y[1],y[2],y[3],y[4],y[5]),s.beginPath();let _;if(c)_=c.call(this,s,this);else{let C=this.clipX(),w=this.clipY();s.rect(C||0,w||0,a,l)}s.clip.apply(s,_),y=p.copy().invert().getMatrix(),s.transform(y[0],y[1],y[2],y[3],y[4],y[5])}let m=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(p){p[e](t,r,i)}),m&&s.restore(),d&&s.restore()}getClientRect(e={}){var t;let r=e.skipTransform,i=e.relativeTo,o,s,a,l,c={x:1/0,y:1/0,width:0,height:0},d=this;(t=this.children)===null||t===void 0||t.forEach(function(p){if(!p.visible())return;let y=p.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(o===void 0?(o=y.x,s=y.y,a=y.x+y.width,l=y.y+y.height):(o=Math.min(o,y.x),s=Math.min(s,y.y),a=Math.max(a,y.x+y.width),l=Math.max(l,y.y+y.height)))});let h=this.find("Shape"),m=!1;for(let p=0;p<h.length;p++)if(h[p]._isVisible(this)){m=!0;break}return m&&o!==void 0?c={x:o,y:s,width:a-o,height:l-s}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}};xv.Container=Ma;Fd.Factory.addComponentsGetterSetter(Ma,"clip",["x","y","width","height"]);Fd.Factory.addGetterSetter(Ma,"clipX",void 0,(0,Sv.getNumberValidator)());Fd.Factory.addGetterSetter(Ma,"clipY",void 0,(0,Sv.getNumberValidator)());Fd.Factory.addGetterSetter(Ma,"clipWidth",void 0,(0,Sv.getNumberValidator)());Fd.Factory.addGetterSetter(Ma,"clipHeight",void 0,(0,Sv.getNumberValidator)());Fd.Factory.addGetterSetter(Ma,"clipFunc")});var eE=Ke(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.getCapturedShape=aV;Nc.createEvent=QC;Nc.hasPointerCapture=lV;Nc.setPointerCapture=cV;Nc.releaseCapture=W6;var sV=Lt(),Sp=new Map,$6=sV.Konva._global.PointerEvent!==void 0;function aV(n){return Sp.get(n)}function QC(n){return{evt:n,pointerId:n.pointerId}}function lV(n,e){return Sp.get(n)===e}function cV(n,e){W6(n),e.getStage()&&(Sp.set(n,e),$6&&e._fire("gotpointercapture",QC(new PointerEvent("gotpointercapture"))))}function W6(n,e){let t=Sp.get(n);if(!t)return;let r=t.getStage();r&&r.content,Sp.delete(n),$6&&t._fire("lostpointercapture",QC(new PointerEvent("lostpointercapture")))}});var aA=Ke(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.Stage=Is.stages=void 0;var Ms=kn(),uV=Bt(),Y6=Ep(),Zn=Lt(),tE=yp(),nE=bv(),dV=Lt(),Ia=eE(),hV="Stage",fV="string",K6="px",pV="mouseout",Z6="mouseleave",J6="mouseover",Q6="mouseenter",eA="mousemove",tA="mousedown",nA="mouseup",xp="pointermove",Dp="pointerdown",Bd="pointerup",Mp="pointercancel",gV="lostpointercapture",Dv="pointerout",Ip="pointerleave",Mv="pointerover",Iv="pointerenter",iE="contextmenu",rA="touchstart",iA="touchend",oA="touchmove",sA="touchcancel",oE="wheel",mV=5,vV=[[Q6,"_pointerenter"],[tA,"_pointerdown"],[eA,"_pointermove"],[nA,"_pointerup"],[Z6,"_pointerleave"],[rA,"_pointerdown"],[oA,"_pointermove"],[iA,"_pointerup"],[sA,"_pointercancel"],[J6,"_pointerover"],[oE,"_wheel"],[iE,"_contextmenu"],[Dp,"_pointerdown"],[xp,"_pointermove"],[Bd,"_pointerup"],[Mp,"_pointercancel"],[Ip,"_pointerleave"],[gV,"_lostpointercapture"]],rE={mouse:{[Dv]:pV,[Ip]:Z6,[Mv]:J6,[Iv]:Q6,[xp]:eA,[Dp]:tA,[Bd]:nA,[Mp]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Dv]:"touchout",[Ip]:"touchleave",[Mv]:"touchover",[Iv]:"touchenter",[xp]:oA,[Dp]:rA,[Bd]:iA,[Mp]:sA,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Dv]:Dv,[Ip]:Ip,[Mv]:Mv,[Iv]:Iv,[xp]:xp,[Dp]:Dp,[Bd]:Bd,[Mp]:Mp,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ap=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",jd=n=>{let e=Ap(n);if(e==="pointer")return Zn.Konva.pointerEventsEnabled&&rE.pointer;if(e==="touch")return rE.touch;if(e==="mouse")return rE.mouse};function X6(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&Ms.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}var yV="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";Is.stages=[];var Ud=class extends Y6.Container{constructor(e){super(X6(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Is.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{X6(this.attrs)}),this._checkVisibility()}_validateAdd(e){let t=e.getType()==="Layer",r=e.getType()==="FastLayer";t||r||Ms.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===fV){let t;if(e.charAt(0)==="."){let r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?t=e:t=e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let e=this.children,t=e.length;for(let r=0;r<t;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Y6.Container.prototype.clone.call(this,e)}destroy(){super.destroy();let e=this.content;e&&Ms.Util._isInDocument(e)&&this.container().removeChild(e);let t=Is.stages.indexOf(this);return t>-1&&Is.stages.splice(t,1),Ms.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Ms.Util.warn(yV),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();let t=new tE.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=t.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(o){if(!o.isVisible())return;let s=o._toKonvaCanvas(e);r.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}),t}getIntersection(e){if(!e)return null;let t=this.children,r=t.length,i=r-1;for(let o=i;o>=0;o--){let s=t[o].getIntersection(e);if(s)return s}return null}_resizeDOM(){let e=this.width(),t=this.height();this.content&&(this.content.style.width=e+K6,this.content.style.height=t+K6),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(r=>{r.setSize({width:e,height:t}),r.draw()})}add(e,...t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);let r=this.children.length;return r>mV&&Ms.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Zn.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Ia.hasPointerCapture(e,this)}setPointerCapture(e){Ia.setPointerCapture(e,this)}releaseCapture(e){Ia.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){Zn.Konva.isBrowser&&vV.forEach(([e,t])=>{this.content.addEventListener(e,r=>{this[t](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let t=jd(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let t=jd(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){let t=jd(e.type),r=Ap(e.type);if(!t)return;this.setPointersPositions(e);let i=this._getTargetShape(r),o=!(Zn.Konva.isDragging()||Zn.Konva.isTransforming())||Zn.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(t.pointerout,{evt:e}),i._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):o&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){let t=jd(e.type),r=Ap(e.type);if(!t)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(o=>{let s=this.getIntersection(o);if(nE.DD.justDragged=!1,Zn.Konva["_"+r+"ListenClick"]=!0,!s||!s.isListening()){this[r+"ClickStartShape"]=void 0;return}Zn.Konva.capturePointerEventsEnabled&&s.setPointerCapture(o.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(t.pointerdown,{evt:e,pointerId:o.id}),i=!0;let a=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){let t=jd(e.type),r=Ap(e.type);if(!t||(Zn.Konva.isDragging()&&nE.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!(Zn.Konva.isDragging()||Zn.Konva.isTransforming())||Zn.Konva.hitOnDragEnabled)))return;let o={},s=!1,a=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{let c=Ia.getCapturedShape(l.id)||this.getIntersection(l),d=l.id,h={evt:e,pointerId:d},m=a!==c;if(m&&a&&(a._fireAndBubble(t.pointerout,De({},h),c),a._fireAndBubble(t.pointerleave,De({},h),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(s=!0,m&&(c._fireAndBubble(t.pointerover,De({},h),a),c._fireAndBubble(t.pointerenter,De({},h),a),this[r+"targetShape"]=c),c._fireAndBubble(t.pointermove,De({},h))):a&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),s||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let t=jd(e.type),r=Ap(e.type);if(!t)return;this.setPointersPositions(e);let i=this[r+"ClickStartShape"],o=this[r+"ClickEndShape"],s={},a=!1;this._changedPointerPositions.forEach(l=>{let c=Ia.getCapturedShape(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),s[c._id])return;s[c._id]=!0}let d=l.id,h={evt:e,pointerId:d},m=!1;Zn.Konva["_"+r+"InDblClickWindow"]?(m=!0,clearTimeout(this[r+"DblTimeout"])):nE.DD.justDragged||(Zn.Konva["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Zn.Konva["_"+r+"InDblClickWindow"]=!1},Zn.Konva.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(t.pointerup,De({},h)),Zn.Konva["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(t.pointerclick,De({},h)),m&&o&&o===c&&c._fireAndBubble(t.pointerdblclick,De({},h)))):(this[r+"ClickEndShape"]=null,Zn.Konva["_"+r+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),m&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),a||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Zn.Konva["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(iE,{evt:e}):this._fire(iE,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(oE,{evt:e}):this._fire(oE,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let t=Ia.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(Bd,Ia.createEvent(e)),Ia.releaseCapture(e.pointerId)}_lostpointercapture(e){Ia.releaseCapture(e.pointerId)}setPointersPositions(e){let t=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})})):(r=(e.clientX-t.left)/t.scaleX,i=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:Ms.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:Ms.Util._getFirstPointerId(e)}])}_setPointerPosition(e){Ms.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};let e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new tE.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new tE.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!Zn.Konva.isBrowser)return;let e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return Ms.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Is.Stage=Ud;Ud.prototype.nodeType=hV;(0,dV._registerNode)(Ud);uV.Factory.addGetterSetter(Ud,"container");Zn.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{Is.stages.forEach(n=>{n.batchDraw()})})});var yr=Ke(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.Shape=Aa.shapes=void 0;var bV=Lt(),As=kn(),Je=Bt(),lA=qn(),dr=Vt(),_V=Lt(),sE=eE(),cA="hasShadow",uA="shadowRGBA",dA="patternImage",hA="linearGradient",fA="radialGradient",Av;function aE(){return Av||(Av=As.Util.createCanvasElement().getContext("2d"),Av)}Aa.shapes={};function wV(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function CV(n){n.stroke()}function EV(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function SV(n){n.stroke()}function xV(){this._clearCache(cA)}function DV(){this._clearCache(uA)}function MV(){this._clearCache(dA)}function IV(){this._clearCache(hA)}function AV(){this._clearCache(fA)}var Oe=class extends lA.Node{constructor(e){super(e);let t;for(;t=As.Util.getRandomColor(),!(t&&!(t in Aa.shapes)););this.colorKey=t,Aa.shapes[t]=this}getContext(){return As.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return As.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(cA,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(dA,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){let t=aE().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){let r=new As.Transform;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(bV.Konva.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let i=r.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);t.setTransform(o)}return t}}_getLinearGradient(){return this._getCache(hA,this.__getLinearGradient)}__getLinearGradient(){let e=this.fillLinearGradientColorStops();if(e){let t=aE(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(r.x,r.y,i.x,i.y);for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}_getRadialGradient(){return this._getCache(fA,this.__getRadialGradient)}__getRadialGradient(){let e=this.fillRadialGradientColorStops();if(e){let t=aE(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}getShadowRGBA(){return this._getCache(uA,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;let e=As.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){let t=this.getStage();if(!t)return!1;let r=t.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return lA.Node.prototype.destroy.call(this),delete Aa.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!((t=this.attrs.perfectDrawEnabled)!==null&&t!==void 0?t:!0))return!1;let i=e||this.hasFill(),o=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&o&&s)return!0;let a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&o&&a&&l)}setStrokeHitEnabled(e){As.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){let e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,r=this.getParent();for(;r;){if(r.isCached()){t=!0;break}r=r.getParent()}let i=e.skipTransform,o=e.relativeTo||t&&this.getStage()||void 0,s=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=s.width+l,d=s.height+l,h=!e.skipShadow&&this.hasShadow(),m=h?this.shadowOffsetX():0,p=h?this.shadowOffsetY():0,y=c+Math.abs(m),_=d+Math.abs(p),C=h&&this.shadowBlur()||0,w=y+C*2,x=_+C*2,O={width:w,height:x,x:-(l/2+C)+Math.min(m,0)+s.x,y:-(l/2+C)+Math.min(p,0)+s.y};return i?O:this._transformedRect(O,o)}drawScene(e,t,r){let i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),d,h=!1,m=t===this;if(!this.isVisible()&&!m)return this;if(a){s.save();let p=this.getAbsoluteTransform(t).getMatrix();return s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!h){d=this.getStage();let p=r||d.bufferCanvas,y=p.getContext();y.clear(),y.save(),y._applyLineJoin(this);let _=this.getAbsoluteTransform(t).getMatrix();y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.call(this,y,this),y.restore();let C=p.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(p._canvas,p.x||0,p.y||0,p.width/C,p.height/C)}else{if(s._applyLineJoin(this),!m){let p=this.getAbsoluteTransform(t).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,t,r=!1){if(!this.shouldDrawHit(t,r))return this;let i=this.getLayer(),o=e||i.hitCanvas,s=o&&o.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||As.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();let h=this.getAbsoluteTransform(t).getMatrix();return s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),s._applyLineJoin(this),!(this===t)){let h=this.getAbsoluteTransform(t).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){let t=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=t.hit,o=i.getContext(),s=i.getWidth(),a=i.getHeight();o.clear(),o.drawImage(r._canvas,0,0,s,a);try{let l=o.getImageData(0,0,s,a),c=l.data,d=c.length,h=As.Util._hexToRgb(this.colorKey);for(let m=0;m<d;m+=4)c[m+3]>e?(c[m]=h.r,c[m+1]=h.g,c[m+2]=h.b,c[m+3]=255):c[m+3]=0;o.putImageData(l,0,0)}catch(l){As.Util.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return sE.hasPointerCapture(e,this)}setPointerCapture(e){sE.setPointerCapture(e,this)}releaseCapture(e){sE.releaseCapture(e,this)}};Aa.Shape=Oe;Oe.prototype._fillFunc=wV;Oe.prototype._strokeFunc=CV;Oe.prototype._fillFuncHit=EV;Oe.prototype._strokeFuncHit=SV;Oe.prototype._centroid=!1;Oe.prototype.nodeType="Shape";(0,_V._registerNode)(Oe);Oe.prototype.eventListeners={};Oe.prototype.on.call(Oe.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",xV);Oe.prototype.on.call(Oe.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",DV);Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",MV);Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",IV);Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",AV);Je.Factory.addGetterSetter(Oe,"stroke",void 0,(0,dr.getStringOrGradientValidator)());Je.Factory.addGetterSetter(Oe,"strokeWidth",2,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"fillAfterStrokeEnabled",!1);Je.Factory.addGetterSetter(Oe,"hitStrokeWidth","auto",(0,dr.getNumberOrAutoValidator)());Je.Factory.addGetterSetter(Oe,"strokeHitEnabled",!0,(0,dr.getBooleanValidator)());Je.Factory.addGetterSetter(Oe,"perfectDrawEnabled",!0,(0,dr.getBooleanValidator)());Je.Factory.addGetterSetter(Oe,"shadowForStrokeEnabled",!0,(0,dr.getBooleanValidator)());Je.Factory.addGetterSetter(Oe,"lineJoin");Je.Factory.addGetterSetter(Oe,"lineCap");Je.Factory.addGetterSetter(Oe,"sceneFunc");Je.Factory.addGetterSetter(Oe,"hitFunc");Je.Factory.addGetterSetter(Oe,"dash");Je.Factory.addGetterSetter(Oe,"dashOffset",0,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"shadowColor",void 0,(0,dr.getStringValidator)());Je.Factory.addGetterSetter(Oe,"shadowBlur",0,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"shadowOpacity",1,(0,dr.getNumberValidator)());Je.Factory.addComponentsGetterSetter(Oe,"shadowOffset",["x","y"]);Je.Factory.addGetterSetter(Oe,"shadowOffsetX",0,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"shadowOffsetY",0,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"fillPatternImage");Je.Factory.addGetterSetter(Oe,"fill",void 0,(0,dr.getStringOrGradientValidator)());Je.Factory.addGetterSetter(Oe,"fillPatternX",0,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"fillPatternY",0,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"fillLinearGradientColorStops");Je.Factory.addGetterSetter(Oe,"strokeLinearGradientColorStops");Je.Factory.addGetterSetter(Oe,"fillRadialGradientStartRadius",0);Je.Factory.addGetterSetter(Oe,"fillRadialGradientEndRadius",0);Je.Factory.addGetterSetter(Oe,"fillRadialGradientColorStops");Je.Factory.addGetterSetter(Oe,"fillPatternRepeat","repeat");Je.Factory.addGetterSetter(Oe,"fillEnabled",!0);Je.Factory.addGetterSetter(Oe,"strokeEnabled",!0);Je.Factory.addGetterSetter(Oe,"shadowEnabled",!0);Je.Factory.addGetterSetter(Oe,"dashEnabled",!0);Je.Factory.addGetterSetter(Oe,"strokeScaleEnabled",!0);Je.Factory.addGetterSetter(Oe,"fillPriority","color");Je.Factory.addComponentsGetterSetter(Oe,"fillPatternOffset",["x","y"]);Je.Factory.addGetterSetter(Oe,"fillPatternOffsetX",0,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"fillPatternOffsetY",0,(0,dr.getNumberValidator)());Je.Factory.addComponentsGetterSetter(Oe,"fillPatternScale",["x","y"]);Je.Factory.addGetterSetter(Oe,"fillPatternScaleX",1,(0,dr.getNumberValidator)());Je.Factory.addGetterSetter(Oe,"fillPatternScaleY",1,(0,dr.getNumberValidator)());Je.Factory.addComponentsGetterSetter(Oe,"fillLinearGradientStartPoint",["x","y"]);Je.Factory.addComponentsGetterSetter(Oe,"strokeLinearGradientStartPoint",["x","y"]);Je.Factory.addGetterSetter(Oe,"fillLinearGradientStartPointX",0);Je.Factory.addGetterSetter(Oe,"strokeLinearGradientStartPointX",0);Je.Factory.addGetterSetter(Oe,"fillLinearGradientStartPointY",0);Je.Factory.addGetterSetter(Oe,"strokeLinearGradientStartPointY",0);Je.Factory.addComponentsGetterSetter(Oe,"fillLinearGradientEndPoint",["x","y"]);Je.Factory.addComponentsGetterSetter(Oe,"strokeLinearGradientEndPoint",["x","y"]);Je.Factory.addGetterSetter(Oe,"fillLinearGradientEndPointX",0);Je.Factory.addGetterSetter(Oe,"strokeLinearGradientEndPointX",0);Je.Factory.addGetterSetter(Oe,"fillLinearGradientEndPointY",0);Je.Factory.addGetterSetter(Oe,"strokeLinearGradientEndPointY",0);Je.Factory.addComponentsGetterSetter(Oe,"fillRadialGradientStartPoint",["x","y"]);Je.Factory.addGetterSetter(Oe,"fillRadialGradientStartPointX",0);Je.Factory.addGetterSetter(Oe,"fillRadialGradientStartPointY",0);Je.Factory.addComponentsGetterSetter(Oe,"fillRadialGradientEndPoint",["x","y"]);Je.Factory.addGetterSetter(Oe,"fillRadialGradientEndPointX",0);Je.Factory.addGetterSetter(Oe,"fillRadialGradientEndPointY",0);Je.Factory.addGetterSetter(Oe,"fillPatternRotation",0);Je.Factory.addGetterSetter(Oe,"fillRule",void 0,(0,dr.getStringValidator)());Je.Factory.backCompat(Oe,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})});var uE=Ke(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.Layer=void 0;var Pa=kn(),lE=Ep(),Vd=qn(),cE=Bt(),pA=yp(),PV=Vt(),TV=yr(),NV=Lt(),OV="#",kV="beforeDraw",RV="draw",gA=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],LV=gA.length,Dl=class extends lE.Container{constructor(e){super(e),this.canvas=new pA.SceneCanvas,this.hitCanvas=new pA.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);let t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Vd.Node.prototype.moveToTop.call(this);let e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Vd.Node.prototype.moveUp.call(this))return!1;let t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Vd.Node.prototype.moveDown.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Vd.Node.prototype.moveToBottom.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){let e=this.getNativeCanvasElement();return Vd.Node.prototype.remove.call(this),e&&e.parentNode&&Pa.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&Pa.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Vd.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Pa.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Pa.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Pa.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,r=!1;for(;;){for(let i=0;i<LV;i++){let o=gA[i],s=this._getIntersection({x:e.x+o.x*t,y:e.y+o.y*t}),a=s.shape;if(a)return a;if(r=!!s.antialiased,!s.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){let t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=r[3];if(i===255){let o=Pa.Util._rgbToHex(r[0],r[1],r[2]),s=TV.shapes[OV+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas();return this._fire(kV,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),lE.Container.prototype.drawScene.call(this,o,t,r),this._fire(RV,{node:this}),this}drawHit(e,t){let r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),lE.Container.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Pa.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Pa.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;let e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Pa.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Pv.Layer=Dl;Dl.prototype.nodeType="Layer";(0,NV._registerNode)(Dl);cE.Factory.addGetterSetter(Dl,"imageSmoothingEnabled",!0);cE.Factory.addGetterSetter(Dl,"clearBeforeDraw",!0);cE.Factory.addGetterSetter(Dl,"hitGraphEnabled",!0,(0,PV.getBooleanValidator)())});var mA=Ke(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.FastLayer=void 0;var FV=kn(),jV=uE(),BV=Lt(),Pp=class extends jV.Layer{constructor(e){super(e),this.listening(!1),FV.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};Tv.FastLayer=Pp;Pp.prototype.nodeType="FastLayer";(0,BV._registerNode)(Pp)});var Ov=Ke(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.Group=void 0;var UV=kn(),VV=Ep(),HV=Lt(),Tp=class extends VV.Container{_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&UV.Util.throw("You may only add groups and shapes to groups.")}};Nv.Group=Tp;Tp.prototype.nodeType="Group";(0,HV._registerNode)(Tp)});var Rv=Ke(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.Animation=void 0;var dE=Lt(),vA=kn(),hE=function(){return dE.glob.performance&&dE.glob.performance.now?function(){return dE.glob.performance.now()}:function(){return new Date().getTime()}}(),Hd=class n{constructor(e,t){this.id=n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:hE(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){let t=this.layers,r=t.length;for(let i=0;i<r;i++)if(t[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){let t=n.animations,r=t.length;for(let i=0;i<r;i++)if(t[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=hE(),n._addAnimation(this),this}stop(){return n._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){let t=e.id,r=this.animations,i=r.length;for(let o=0;o<i;o++)if(r[o].id===t){this.animations.splice(o,1);break}}static _runFrames(){let e={},t=this.animations;for(let r=0;r<t.length;r++){let i=t[r],o=i.layers,s=i.func;i._updateFrameObject(hE());let a=o.length,l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){let d=o[c];d._id!==void 0&&(e[d._id]=d)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){let e=n;e.animations.length?(e._runFrames(),vA.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,vA.Util.requestAnimFrame(this._animationLoop))}};kv.Animation=Hd;Hd.animations=[];Hd.animIdCounter=0;Hd.animRunning=!1});var wA=Ke(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.Easings=Ps.Tween=void 0;var Ta=kn(),zV=Rv(),qV=qn(),GV=Lt(),$V={node:1,duration:1,easing:1,onFinish:1,yoyo:1},WV=1,yA=2,bA=3,_A=["fill","stroke","shadowColor"],YV=0,fE=class{constructor(e,t,r,i,o,s,a){this.prop=e,this.propFunc=t,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}fire(e){let t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=yA,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=bA,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){let e=this.getTimer()-this._startTime;this.state===yA?this.setTime(e):this.state===bA&&this.setTime(this.duration-e)}pause(){this.state=WV,this.fire("onPause")}getTimer(){return new Date().getTime()}},zd=class n{constructor(e){let t=this,r=e.node,i=r._id,o=e.easing||Ps.Easings.Linear,s=!!e.yoyo,a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=YV++;let c=r.getLayer()||(r instanceof GV.Konva.Stage?r.getLayers():null);c||Ta.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new zV.Animation(function(){t.tween.onEnterFrame()},c),this.tween=new fE(l,function(d){t._tweenFunc(d)},o,0,1,a*1e3,s),this._addListeners(),n.attrs[i]||(n.attrs[i]={}),n.attrs[i][this._id]||(n.attrs[i][this._id]={}),n.tweens[i]||(n.tweens[i]={});for(l in e)$V[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){let r=this.node,i=r._id,o,s,a,l,c,d=n.tweens[i][e];d&&delete n.attrs[i][d][e];let h=r.getAttr(e);if(Ta.Util._isArray(t))if(o=[],s=Math.max(t.length,h.length),e==="points"&&t.length!==h.length&&(t.length>h.length?(l=h,h=Ta.Util._prepareArrayForTween(h,t,r.closed())):(a=t,t=Ta.Util._prepareArrayForTween(t,h,r.closed()))),e.indexOf("fill")===0)for(let m=0;m<s;m++)if(m%2===0)o.push(t[m]-h[m]);else{let p=Ta.Util.colorToRGBA(h[m]);c=Ta.Util.colorToRGBA(t[m]),h[m]=p,o.push({r:c.r-p.r,g:c.g-p.g,b:c.b-p.b,a:c.a-p.a})}else for(let m=0;m<s;m++)o.push(t[m]-h[m]);else _A.indexOf(e)!==-1?(h=Ta.Util.colorToRGBA(h),c=Ta.Util.colorToRGBA(t),o={r:c.r-h.r,g:c.g-h.g,b:c.b-h.b,a:c.a-h.a}):o=t-h;n.attrs[i][this._id][e]={start:h,diff:o,end:t,trueEnd:a,trueStart:l},n.tweens[i][e]=this._id}_tweenFunc(e){let t=this.node,r=n.attrs[t._id][this._id],i,o,s,a,l,c,d,h;for(i in r){if(o=r[i],s=o.start,a=o.diff,h=o.end,Ta.Util._isArray(s))if(l=[],d=Math.max(s.length,h.length),i.indexOf("fill")===0)for(c=0;c<d;c++)c%2===0?l.push((s[c]||0)+a[c]*e):l.push("rgba("+Math.round(s[c].r+a[c].r*e)+","+Math.round(s[c].g+a[c].g*e)+","+Math.round(s[c].b+a[c].b*e)+","+(s[c].a+a[c].a*e)+")");else for(c=0;c<d;c++)l.push((s[c]||0)+a[c]*e);else _A.indexOf(i)!==-1?l="rgba("+Math.round(s.r+a.r*e)+","+Math.round(s.g+a.g*e)+","+Math.round(s.b+a.b*e)+","+(s.a+a.a*e)+")":l=s+a*e;t.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let e=this.node._id,t=this._id,r=n.tweens[e];this.pause(),this.anim&&this.anim.stop();for(let i in r)delete n.tweens[e][i];delete n.attrs[e][t],n.tweens[e]&&(Object.keys(n.tweens[e]).length===0&&delete n.tweens[e],Object.keys(n.attrs[e]).length===0&&delete n.attrs[e])}};Ps.Tween=zd;zd.attrs={};zd.tweens={};qV.Node.prototype.to=function(n){let e=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),e&&e()},new zd(n).play()};Ps.Easings={BackEaseIn(n,e,t,r){return t*(n/=r)*n*((1.70158+1)*n-1.70158)+e},BackEaseOut(n,e,t,r){return t*((n=n/r-1)*n*((1.70158+1)*n+1.70158)+1)+e},BackEaseInOut(n,e,t,r){let i=1.70158;return(n/=r/2)<1?t/2*(n*n*(((i*=1.525)+1)*n-i))+e:t/2*((n-=2)*n*(((i*=1.525)+1)*n+i)+2)+e},ElasticEaseIn(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),-(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e)},ElasticEaseOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),i*Math.pow(2,-10*n)*Math.sin((n*r-s)*(2*Math.PI)/o)+t+e)},ElasticEaseInOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r/2)===2?e+t:(o||(o=r*(.3*1.5)),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),n<1?-.5*(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o)*.5+t+e)},BounceEaseOut(n,e,t,r){return(n/=r)<1/2.75?t*(7.5625*n*n)+e:n<2/2.75?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},BounceEaseIn(n,e,t,r){return t-Ps.Easings.BounceEaseOut(r-n,0,t,r)+e},BounceEaseInOut(n,e,t,r){return n<r/2?Ps.Easings.BounceEaseIn(n*2,0,t,r)*.5+e:Ps.Easings.BounceEaseOut(n*2-r,0,t,r)*.5+t*.5+e},EaseIn(n,e,t,r){return t*(n/=r)*n+e},EaseOut(n,e,t,r){return-t*(n/=r)*(n-2)+e},EaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},StrongEaseIn(n,e,t,r){return t*(n/=r)*n*n*n*n+e},StrongEaseOut(n,e,t,r){return t*((n=n/r-1)*n*n*n*n+1)+e},StrongEaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},Linear(n,e,t,r){return t*n/r+e}}});var xA=Ke(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.Konva=void 0;var KV=Lt(),pE=kn(),XV=qn(),ZV=Ep(),CA=aA(),JV=uE(),QV=mA(),eH=Ov(),tH=bv(),EA=yr(),nH=Rv(),SA=wA(),rH=WC(),iH=yp();qd.Konva=pE.Util._assign(KV.Konva,{Util:pE.Util,Transform:pE.Transform,Node:XV.Node,Container:ZV.Container,Stage:CA.Stage,stages:CA.stages,Layer:JV.Layer,FastLayer:QV.FastLayer,Group:eH.Group,DD:tH.DD,Shape:EA.Shape,shapes:EA.shapes,Animation:nH.Animation,Tween:SA.Tween,Easings:SA.Easings,Context:rH.Context,Canvas:iH.Canvas});qd.default=qd.Konva});var MA=Ke(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.Arc=void 0;var Lv=Bt(),oH=yr(),DA=Lt(),Fv=Vt(),sH=Lt(),zo=class extends oH.Shape{_sceneFunc(e){let t=DA.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),i=DA.Konva.getAngle(r?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=o*(o>0?e:t),d=s*(s>0?t:e),h=a*(a>0?e:t),m=l*(l>0?t:e);return{x:c,y:r?-1*m:h,width:d-c,height:m-h}}};jv.Arc=zo;zo.prototype._centroid=!0;zo.prototype.className="Arc";zo.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,sH._registerNode)(zo);Lv.Factory.addGetterSetter(zo,"innerRadius",0,(0,Fv.getNumberValidator)());Lv.Factory.addGetterSetter(zo,"outerRadius",0,(0,Fv.getNumberValidator)());Lv.Factory.addGetterSetter(zo,"angle",0,(0,Fv.getNumberValidator)());Lv.Factory.addGetterSetter(zo,"clockwise",!1,(0,Fv.getBooleanValidator)())});var mE=Ke(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.Line=void 0;var Bv=Bt(),aH=Lt(),lH=yr(),AA=Vt();function gE(n,e,t,r,i,o,s){let a=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-t,2)+Math.pow(o-r,2)),c=s*a/(a+l),d=s*l/(a+l),h=t-c*(i-n),m=r-c*(o-e),p=t+d*(i-n),y=r+d*(o-e);return[h,m,p,y]}function IA(n,e){let t=n.length,r=[];for(let i=2;i<t-2;i+=2){let o=gE(n[i-2],n[i-1],n[i],n[i+1],n[i+2],n[i+3],e);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(n[i]),r.push(n[i+1]),r.push(o[2]),r.push(o[3]))}return r}var Ts=class extends lH.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let t=this.points(),r=t.length,i=this.tension(),o=this.closed(),s=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(t[0],t[1]),i!==0&&r>4){let l=this.getTensionPoints(),c=l.length;for(a=o?0:4,o||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);o||e.quadraticCurveTo(l[c-2],l[c-1],t[r-2],t[r-1])}else if(s)for(a=2;a<r;)e.bezierCurveTo(t[a++],t[a++],t[a++],t[a++],t[a++],t[a++]);else for(a=2;a<r;a+=2)e.lineTo(t[a],t[a+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():IA(this.points(),this.tension())}_getTensionPointsClosed(){let e=this.points(),t=e.length,r=this.tension(),i=gE(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),o=gE(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),s=IA(e,r);return[i[2],i[3]].concat(s).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);return{x:t,y:i,width:r-t,height:o-i}}};Uv.Line=Ts;Ts.prototype.className="Line";Ts.prototype._attrsAffectingSize=["points","bezier","tension"];(0,aH._registerNode)(Ts);Bv.Factory.addGetterSetter(Ts,"closed",!1);Bv.Factory.addGetterSetter(Ts,"bezier",!1);Bv.Factory.addGetterSetter(Ts,"tension",0,(0,AA.getNumberValidator)());Bv.Factory.addGetterSetter(Ts,"points",[],(0,AA.getNumberArrayValidator)())});var PA=Ke(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.t2length=Lr.getQuadraticArcLength=Lr.getCubicArcLength=Lr.binomialCoefficients=Lr.cValues=Lr.tValues=void 0;Lr.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];Lr.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];Lr.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];var cH=(n,e,t)=>{let r,i,s=t/2;r=0;for(let a=0;a<20;a++)i=s*Lr.tValues[20][a]+s,r+=Lr.cValues[20][a]*dH(n,e,i);return s*r};Lr.getCubicArcLength=cH;var uH=(n,e,t)=>{t===void 0&&(t=1);let r=n[0]-2*n[1]+n[2],i=e[0]-2*e[1]+e[2],o=2*n[1]-2*n[0],s=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*o+i*s),c=o*o+s*s;if(a===0)return t*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(e[2]-e[0],2));let d=l/(2*a),h=c/a,m=t+d,p=h-d*d,y=m*m+p>0?Math.sqrt(m*m+p):0,_=d*d+p>0?Math.sqrt(d*d+p):0,C=d+Math.sqrt(d*d+p)!==0?p*Math.log(Math.abs((m+y)/(d+_))):0;return Math.sqrt(a)/2*(m*y-d*_+C)};Lr.getQuadraticArcLength=uH;function dH(n,e,t){let r=vE(1,t,n),i=vE(1,t,e),o=r*r+i*i;return Math.sqrt(o)}var vE=(n,e,t)=>{let r=t.length-1,i,o;if(r===0)return 0;if(n===0){o=0;for(let s=0;s<=r;s++)o+=Lr.binomialCoefficients[r][s]*Math.pow(1-e,r-s)*Math.pow(e,s)*t[s];return o}else{i=new Array(r);for(let s=0;s<r;s++)i[s]=r*(t[s+1]-t[s]);return vE(n-1,e,i)}},hH=(n,e,t)=>{let r=1,i=n/e,o=(n-t(i))/e,s=0;for(;r>.001;){let a=t(i+o),l=Math.abs(n-a)/e;if(l<r)r=l,i+=o;else{let c=t(i-o),d=Math.abs(n-c)/e;d<r?(r=d,i-=o):o/=2}if(s++,s>500)break}return i};Lr.t2length=hH});var Hv=Ke(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.Path=void 0;var fH=Bt(),pH=Lt(),gH=yr(),Gd=PA(),Oc=class n extends gH.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=n.parsePathData(this.data()),this.pathLength=n.getPathLength(this.dataArray)}_sceneFunc(e){let t=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<t.length;i++){let o=t[i].command,s=t[i].points;switch(o){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":let a=s[0],l=s[1],c=s[2],d=s[3],h=s[4],m=s[5],p=s[6],y=s[7],_=c>d?c:d,C=c>d?1:c/d,w=c>d?d/c:1;e.translate(a,l),e.rotate(p),e.scale(C,w),e.arc(0,0,_,h,h+m,1-y),e.scale(1/C,1/w),e.rotate(-p),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){let c=l.points[4],d=l.points[5],h=l.points[4]+d,m=Math.PI/180;if(Math.abs(c-h)<m&&(m=Math.abs(c-h)),d<0)for(let p=c-m;p>h;p-=m){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(y.x,y.y)}else for(let p=c+m;p<h;p+=m){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(y.x,y.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){let d=n.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],isNaN(s)||(t=Math.min(t,s),r=Math.max(r,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:t,y:i,width:r-t,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return n.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}static getPathLength(e){let t=0;for(let r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let r,i=0,o=t.length;if(!o)return null;for(;i<o&&e>t[i].pathLength;)e-=t[i].pathLength,++i;if(i===o)return r=t[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return t[i].command==="M"?(r=t[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:t[i].start.x,y:t[i].start.y};let s=t[i],a=s.points;switch(s.command){case"L":return n.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return n.getPointOnCubicBezier((0,Gd.t2length)(e,n.getPathLength(t),_=>(0,Gd.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return n.getPointOnQuadraticBezier((0,Gd.t2length)(e,n.getPathLength(t),_=>(0,Gd.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":let l=a[0],c=a[1],d=a[2],h=a[3],m=a[5],p=a[6],y=a[4];return y+=m*e/s.pathLength,n.getPointOnEllipticalArc(l,c,d,h,y,p)}return null}static getPointOnLine(e,t,r,i,o,s,a){s=s??t,a=a??r;let l=this.getLineLength(t,r,i,o);if(l<1e-10)return{x:t,y:r};if(i===t)return{x:s,y:a+(o>r?e:-e)};let c=(o-r)/(i-t),d=Math.sqrt(e*e/(1+c*c))*(i<t?-1:1),h=c*d;if(Math.abs(a-r-c*(s-t))<1e-10)return{x:s+d,y:a+h};let m=((s-t)*(i-t)+(a-r)*(o-r))/(l*l),p=t+m*(i-t),y=r+m*(o-r),_=this.getLineLength(s,a,p,y),C=Math.sqrt(e*e-_*_),w=Math.sqrt(C*C/(1+c*c))*(i<t?-1:1),x=c*w;return{x:p+w,y:y+x}}static getPointOnCubicBezier(e,t,r,i,o,s,a,l,c){function d(C){return C*C*C}function h(C){return 3*C*C*(1-C)}function m(C){return 3*C*(1-C)*(1-C)}function p(C){return(1-C)*(1-C)*(1-C)}let y=l*d(e)+s*h(e)+i*m(e)+t*p(e),_=c*d(e)+a*h(e)+o*m(e)+r*p(e);return{x:y,y:_}}static getPointOnQuadraticBezier(e,t,r,i,o,s,a){function l(p){return p*p}function c(p){return 2*p*(1-p)}function d(p){return(1-p)*(1-p)}let h=s*l(e)+i*c(e)+t*d(e),m=a*l(e)+o*c(e)+r*d(e);return{x:h,y:m}}static getPointOnEllipticalArc(e,t,r,i,o,s){let a=Math.cos(s),l=Math.sin(s),c={x:r*Math.cos(o),y:i*Math.sin(o)};return{x:e+(c.x*a-c.y*l),y:t+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let h=0;h<r.length;h++)t=t.replace(new RegExp(r[h],"g"),"|"+r[h]);let i=t.split("|"),o=[],s=[],a=0,l=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,d;for(let h=1;h<i.length;h++){let m=i[h],p=m.charAt(0);for(m=m.slice(1),s.length=0;d=c.exec(m);)s.push(d[0]);let y=[];for(let _=0,C=s.length;_<C;_++){if(s[_]==="00"){y.push(0,0);continue}let w=parseFloat(s[_]);isNaN(w)?y.push(0):y.push(w)}for(;y.length>0&&!isNaN(y[0]);){let _="",C=[],w=a,x=l,O,k,H,Q,q,j,re,se,P,T;switch(p){case"l":a+=y.shift(),l+=y.shift(),_="L",C.push(a,l);break;case"L":a=y.shift(),l=y.shift(),C.push(a,l);break;case"m":let G=y.shift(),z=y.shift();if(a+=G,l+=z,_="M",o.length>2&&o[o.length-1].command==="z"){for(let de=o.length-2;de>=0;de--)if(o[de].command==="M"){a=o[de].points[0]+G,l=o[de].points[1]+z;break}}C.push(a,l),p="l";break;case"M":a=y.shift(),l=y.shift(),_="M",C.push(a,l),p="L";break;case"h":a+=y.shift(),_="L",C.push(a,l);break;case"H":a=y.shift(),_="L",C.push(a,l);break;case"v":l+=y.shift(),_="L",C.push(a,l);break;case"V":l=y.shift(),_="L",C.push(a,l);break;case"C":C.push(y.shift(),y.shift(),y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"c":C.push(a+y.shift(),l+y.shift(),a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"S":k=a,H=l,O=o[o.length-1],O.command==="C"&&(k=a+(a-O.points[2]),H=l+(l-O.points[3])),C.push(k,H,y.shift(),y.shift()),a=y.shift(),l=y.shift(),_="C",C.push(a,l);break;case"s":k=a,H=l,O=o[o.length-1],O.command==="C"&&(k=a+(a-O.points[2]),H=l+(l-O.points[3])),C.push(k,H,a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"Q":C.push(y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"q":C.push(a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="Q",C.push(a,l);break;case"T":k=a,H=l,O=o[o.length-1],O.command==="Q"&&(k=a+(a-O.points[0]),H=l+(l-O.points[1])),a=y.shift(),l=y.shift(),_="Q",C.push(k,H,a,l);break;case"t":k=a,H=l,O=o[o.length-1],O.command==="Q"&&(k=a+(a-O.points[0]),H=l+(l-O.points[1])),a+=y.shift(),l+=y.shift(),_="Q",C.push(k,H,a,l);break;case"A":Q=y.shift(),q=y.shift(),j=y.shift(),re=y.shift(),se=y.shift(),P=a,T=l,a=y.shift(),l=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(P,T,a,l,re,se,Q,q,j);break;case"a":Q=y.shift(),q=y.shift(),j=y.shift(),re=y.shift(),se=y.shift(),P=a,T=l,a+=y.shift(),l+=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(P,T,a,l,re,se,Q,q,j);break}o.push({command:_||p,points:C,start:{x:w,y:x},pathLength:this.calcLength(w,x,_||p,C)})}(p==="z"||p==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,r,i){let o,s,a,l,c=n;switch(r){case"L":return c.getLineLength(e,t,i[0],i[1]);case"C":return(0,Gd.getCubicArcLength)([e,i[0],i[2],i[4]],[t,i[1],i[3],i[5]],1);case"Q":return(0,Gd.getQuadraticArcLength)([e,i[0],i[2]],[t,i[1],i[3]],1);case"A":o=0;let d=i[4],h=i[5],m=i[4]+h,p=Math.PI/180;if(Math.abs(d-m)<p&&(p=Math.abs(d-m)),s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),h<0)for(l=d-p;l>m;l-=p)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(l=d+p;l<m;l+=p)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,t,r,i,o,s,a,l,c){let d=c*(Math.PI/180),h=Math.cos(d)*(e-r)/2+Math.sin(d)*(t-i)/2,m=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(t-i)/2,p=h*h/(a*a)+m*m/(l*l);p>1&&(a*=Math.sqrt(p),l*=Math.sqrt(p));let y=Math.sqrt((a*a*(l*l)-a*a*(m*m)-l*l*(h*h))/(a*a*(m*m)+l*l*(h*h)));o===s&&(y*=-1),isNaN(y)&&(y=0);let _=y*a*m/l,C=y*-l*h/a,w=(e+r)/2+Math.cos(d)*_-Math.sin(d)*C,x=(t+i)/2+Math.sin(d)*_+Math.cos(d)*C,O=function(se){return Math.sqrt(se[0]*se[0]+se[1]*se[1])},k=function(se,P){return(se[0]*P[0]+se[1]*P[1])/(O(se)*O(P))},H=function(se,P){return(se[0]*P[1]<se[1]*P[0]?-1:1)*Math.acos(k(se,P))},Q=H([1,0],[(h-_)/a,(m-C)/l]),q=[(h-_)/a,(m-C)/l],j=[(-1*h-_)/a,(-1*m-C)/l],re=H(q,j);return k(q,j)<=-1&&(re=Math.PI),k(q,j)>=1&&(re=0),s===0&&re>0&&(re=re-2*Math.PI),s===1&&re<0&&(re=re+2*Math.PI),[w,x,a,l,Q,re,d,s]}};Vv.Path=Oc;Oc.prototype.className="Path";Oc.prototype._attrsAffectingSize=["data"];(0,pH._registerNode)(Oc);fH.Factory.addGetterSetter(Oc,"data")});var OA=Ke(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.Arrow=void 0;var zv=Bt(),mH=mE(),NA=Vt(),vH=Lt(),TA=Hv(),Na=class extends mH.Line{_sceneFunc(e){super._sceneFunc(e);let t=Math.PI*2,r=this.points(),i=r,o=this.tension()!==0&&r.length>4;o&&(i=this.getTensionPoints());let s=this.pointerLength(),a=r.length,l,c;if(o){let m=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],p=TA.Path.calcLength(i[i.length-4],i[i.length-3],"C",m),y=TA.Path.getPointOnQuadraticBezier(Math.min(1,1-s/p),m[0],m[1],m[2],m[3],m[4],m[5]);l=r[a-2]-y.x,c=r[a-1]-y.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];let d=(Math.atan2(c,l)+t)%t,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+t)%t),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){let t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+t*2}}};qv.Arrow=Na;Na.prototype.className="Arrow";(0,vH._registerNode)(Na);zv.Factory.addGetterSetter(Na,"pointerLength",10,(0,NA.getNumberValidator)());zv.Factory.addGetterSetter(Na,"pointerWidth",10,(0,NA.getNumberValidator)());zv.Factory.addGetterSetter(Na,"pointerAtBeginning",!1);zv.Factory.addGetterSetter(Na,"pointerAtEnding",!0)});var kA=Ke(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.Circle=void 0;var yH=Bt(),bH=yr(),_H=Vt(),wH=Lt(),Ml=class extends bH.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Gv.Circle=Ml;Ml.prototype._centroid=!0;Ml.prototype.className="Circle";Ml.prototype._attrsAffectingSize=["radius"];(0,wH._registerNode)(Ml);yH.Factory.addGetterSetter(Ml,"radius",0,(0,_H.getNumberValidator)())});var LA=Ke($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.Ellipse=void 0;var yE=Bt(),CH=yr(),RA=Vt(),EH=Lt(),Ns=class extends CH.Shape{_sceneFunc(e){let t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};$v.Ellipse=Ns;Ns.prototype.className="Ellipse";Ns.prototype._centroid=!0;Ns.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,EH._registerNode)(Ns);yE.Factory.addComponentsGetterSetter(Ns,"radius",["x","y"]);yE.Factory.addGetterSetter(Ns,"radiusX",0,(0,RA.getNumberValidator)());yE.Factory.addGetterSetter(Ns,"radiusY",0,(0,RA.getNumberValidator)())});var FA=Ke(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.Image=void 0;var bE=kn(),kc=Bt(),SH=yr(),xH=Lt(),Np=Vt(),so=class n extends SH.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",t=>{this._removeImageLoad(t.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){let e=!!this.cornerRadius(),t=this.hasShadow();return e&&t?!0:super._useBufferCanvas(!0)}_sceneFunc(e){let t=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image,s;if(o){let a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?s=[o,this.cropX(),this.cropY(),a,l,0,0,t,r]:s=[o,0,0,t,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?bE.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){let t=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?bE.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){let i=bE.Util.createImageElement();i.onload=function(){let o=new n({image:i});t(o)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};Wv.Image=so;so.prototype.className="Image";(0,xH._registerNode)(so);kc.Factory.addGetterSetter(so,"cornerRadius",0,(0,Np.getNumberOrArrayOfNumbersValidator)(4));kc.Factory.addGetterSetter(so,"image");kc.Factory.addComponentsGetterSetter(so,"crop",["x","y","width","height"]);kc.Factory.addGetterSetter(so,"cropX",0,(0,Np.getNumberValidator)());kc.Factory.addGetterSetter(so,"cropY",0,(0,Np.getNumberValidator)());kc.Factory.addGetterSetter(so,"cropWidth",0,(0,Np.getNumberValidator)());kc.Factory.addGetterSetter(so,"cropHeight",0,(0,Np.getNumberValidator)())});var UA=Ke($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.Tag=$d.Label=void 0;var Yv=Bt(),DH=yr(),MH=Ov(),SE=Vt(),jA=Lt(),BA=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],IH="Change.konva",AH="none",_E="up",wE="right",CE="down",EE="left",PH=BA.length,Op=class extends MH.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t=this,r,i=function(){t._sync()};for(r=0;r<PH;r++)e.on(BA[r]+IH,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),t=this.getTag(),r,i,o,s,a,l,c;if(e&&t){switch(r=e.width(),i=e.height(),o=t.pointerDirection(),s=t.pointerWidth(),c=t.pointerHeight(),a=0,l=0,o){case _E:a=r/2,l=-1*c;break;case wE:a=r+s,l=i/2;break;case CE:a=r/2,l=i+c;break;case EE:a=-1*s,l=i/2;break}t.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}};$d.Label=Op;Op.prototype.className="Label";(0,jA._registerNode)(Op);var Oa=class extends DH.Shape{_sceneFunc(e){let t=this.width(),r=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius(),l=0,c=0,d=0,h=0;typeof a=="number"?l=c=d=h=Math.min(a,t/2,r/2):(l=Math.min(a[0]||0,t/2,r/2),c=Math.min(a[1]||0,t/2,r/2),h=Math.min(a[2]||0,t/2,r/2),d=Math.min(a[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(l,0),i===_E&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*s),e.lineTo((t+o)/2,0)),e.lineTo(t-c,0),e.arc(t-c,c,c,Math.PI*3/2,0,!1),i===wE&&(e.lineTo(t,(r-s)/2),e.lineTo(t+o,r/2),e.lineTo(t,(r+s)/2)),e.lineTo(t,r-h),e.arc(t-h,r-h,h,0,Math.PI/2,!1),i===CE&&(e.lineTo((t+o)/2,r),e.lineTo(t/2,r+s),e.lineTo((t-o)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),i===EE&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*o,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,r=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===_E?(t-=i,a+=i):o===CE?a+=i:o===EE?(e-=r*1.5,s+=r):o===wE&&(s+=r*1.5),{x:e,y:t,width:s,height:a}}};$d.Tag=Oa;Oa.prototype.className="Tag";(0,jA._registerNode)(Oa);Yv.Factory.addGetterSetter(Oa,"pointerDirection",AH);Yv.Factory.addGetterSetter(Oa,"pointerWidth",0,(0,SE.getNumberValidator)());Yv.Factory.addGetterSetter(Oa,"pointerHeight",0,(0,SE.getNumberValidator)());Yv.Factory.addGetterSetter(Oa,"cornerRadius",0,(0,SE.getNumberOrArrayOfNumbersValidator)(4))});var xE=Ke(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.Rect=void 0;var TH=Bt(),NH=yr(),OH=Lt(),kH=kn(),RH=Vt(),Wd=class extends NH.Shape{_sceneFunc(e){let t=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),t?kH.Util.drawRoundedRectPath(e,r,i,t):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Kv.Rect=Wd;Wd.prototype.className="Rect";(0,OH._registerNode)(Wd);TH.Factory.addGetterSetter(Wd,"cornerRadius",0,(0,RH.getNumberOrArrayOfNumbersValidator)(4))});var zA=Ke(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.RegularPolygon=void 0;var VA=Bt(),LH=yr(),HA=Vt(),FH=Lt(),ka=class extends LH.Shape{_sceneFunc(e){let t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:t*Math.sin(i*2*Math.PI/e),y:-1*t*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){let e=this._getPoints(),t=e[0].x,r=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{t=Math.min(t,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:t,y:i,width:r-t,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Xv.RegularPolygon=ka;ka.prototype.className="RegularPolygon";ka.prototype._centroid=!0;ka.prototype._attrsAffectingSize=["radius"];(0,FH._registerNode)(ka);VA.Factory.addGetterSetter(ka,"radius",0,(0,HA.getNumberValidator)());VA.Factory.addGetterSetter(ka,"sides",0,(0,HA.getNumberValidator)())});var WA=Ke(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.Ring=void 0;var GA=Bt(),jH=yr(),$A=Vt(),BH=Lt(),qA=Math.PI*2,Ra=class extends jH.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,qA,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),qA,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Zv.Ring=Ra;Ra.prototype.className="Ring";Ra.prototype._centroid=!0;Ra.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,BH._registerNode)(Ra);GA.Factory.addGetterSetter(Ra,"innerRadius",0,(0,$A.getNumberValidator)());GA.Factory.addGetterSetter(Ra,"outerRadius",0,(0,$A.getNumberValidator)())});var KA=Ke(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.Sprite=void 0;var Rc=Bt(),UH=yr(),VH=Rv(),YA=Vt(),HH=Lt(),ao=class extends UH.Shape{constructor(e){super(e),this._updated=!0,this.anim=new VH.Animation(()=>{let t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+0],l=o[i+1],c=o[i+2],d=o[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,d),e.closePath(),e.fillStrokeShape(this)),h)if(s){let m=s[t],p=r*2;e.drawImage(h,a,l,c,d,m[p+0],m[p+1],c,d)}else e.drawImage(h,a,l,c,d,0,0,c,d)}_hitFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+2],l=o[i+3];if(e.beginPath(),s){let c=s[t],d=r*2;e.rect(c[d+0],c[d+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){let e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;let e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){let e=this.frameIndex(),t=this.animation(),r=this.animations(),i=r[t],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}};Jv.Sprite=ao;ao.prototype.className="Sprite";(0,HH._registerNode)(ao);Rc.Factory.addGetterSetter(ao,"animation");Rc.Factory.addGetterSetter(ao,"animations");Rc.Factory.addGetterSetter(ao,"frameOffsets");Rc.Factory.addGetterSetter(ao,"image");Rc.Factory.addGetterSetter(ao,"frameIndex",0,(0,YA.getNumberValidator)());Rc.Factory.addGetterSetter(ao,"frameRate",17,(0,YA.getNumberValidator)());Rc.Factory.backCompat(ao,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})});var XA=Ke(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.Star=void 0;var DE=Bt(),zH=yr(),ME=Vt(),qH=Lt(),Os=class extends zH.Shape{_sceneFunc(e){let t=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let o=1;o<i*2;o++){let s=o%2===0?r:t,a=s*Math.sin(o*Math.PI/i),l=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Qv.Star=Os;Os.prototype.className="Star";Os.prototype._centroid=!0;Os.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,qH._registerNode)(Os);DE.Factory.addGetterSetter(Os,"numPoints",5,(0,ME.getNumberValidator)());DE.Factory.addGetterSetter(Os,"innerRadius",0,(0,ME.getNumberValidator)());DE.Factory.addGetterSetter(Os,"outerRadius",0,(0,ME.getNumberValidator)())});var NE=Ke(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.Text=void 0;Rp.stringToArray=Lc;var TE=kn(),qr=Bt(),GH=yr(),IE=Lt(),Il=Vt(),$H=Lt();function Lc(n){return[...n].reduce((e,t,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(t)){let o=i[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(t+o),i[r+1]=""):e.push(t)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(t+(i[r+1]||""))?e.push(t+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}var Yd="auto",WH="center",t8="inherit",kp="justify",YH="Change.konva",KH="2d",ZA="-",n8="left",XH="text",ZH="Text",JH="top",QH="bottom",JA="middle",r8="normal",ez="px ",ey=" ",tz="right",QA="rtl",nz="word",rz="char",e8="none",AE="\u2026",i8=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],iz=i8.length;function oz(n){return n.split(",").map(e=>{e=e.trim();let t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}var ty;function PE(){return ty||(ty=TE.Util.createCanvasElement().getContext(KH),ty)}function sz(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function az(n){n.setAttr("miterLimit",2),n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function lz(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}var In=class extends GH.Shape{constructor(e){super(lz(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<iz;t++)this.on(i8[t]+YH,this._setTextData);this._setTextData()}_sceneFunc(e){let t=this.textArr,r=t.length;if(!this.text())return;let i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),l=this.direction(),c=0,d=this.align(),h=this.getWidth(),m=this.letterSpacing(),p=this.fill(),y=this.textDecoration(),_=y.indexOf("underline")!==-1,C=y.indexOf("line-through")!==-1,w;l=l===t8?e.direction:l;let x=s/2,O=JA;if(IE.Konva._fixTextRendering){let k=this.measureSize("M");O="alphabetic",x=(k.fontBoundingBoxAscent-k.fontBoundingBoxDescent)/2+s/2}for(l===QA&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",O),e.setAttr("textAlign",n8),a===JA?c=(this.getHeight()-r*s-i*2)/2:a===QH&&(c=this.getHeight()-r*s-i*2),e.translate(i,c+i),w=0;w<r;w++){let k=0,H=0,Q=t[w],q=Q.text,j=Q.width,re=Q.lastInParagraph;if(e.save(),d===tz?k+=h-j-i*2:d===WH&&(k+=(h-j-i*2)/2),_){e.save(),e.beginPath();let se=IE.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),P=k,T=x+H+se;e.moveTo(P,T);let G=d===kp&&!re?h-i*2:j;e.lineTo(P+Math.round(G),T),e.lineWidth=o/15;let z=this._getLinearGradient();e.strokeStyle=z||p,e.stroke(),e.restore()}if(C){e.save(),e.beginPath();let se=IE.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(k,x+H+se);let P=d===kp&&!re?h-i*2:j;e.lineTo(k+Math.round(P),x+H+se),e.lineWidth=o/15;let T=this._getLinearGradient();e.strokeStyle=T||p,e.stroke(),e.restore()}if(l!==QA&&(m!==0||d===kp)){let se=q.split(" ").length-1,P=Lc(q);for(let T=0;T<P.length;T++){let G=P[T];G===" "&&!re&&d===kp&&(k+=(h-i*2-j)/se),this._partialTextX=k,this._partialTextY=x+H,this._partialText=G,e.fillStrokeShape(this),k+=this.measureSize(G).width+m}}else m!==0&&e.setAttr("letterSpacing",`${m}px`),this._partialTextX=k,this._partialTextY=x+H,this._partialText=q,e.fillStrokeShape(this);e.restore(),r>1&&(x+=s)}}_hitFunc(e){let t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){let t=TE.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(XH,t),this}getWidth(){return this.attrs.width===Yd||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Yd||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return TE.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r,i,o,s,a,l,c,d,h,m;let p=PE(),y=this.fontSize(),_;p.save(),p.font=this._getContextFont(),_=p.measureText(e),p.restore();let C=y/100;return{actualBoundingBoxAscent:(t=_.actualBoundingBoxAscent)!==null&&t!==void 0?t:71.58203125*C,actualBoundingBoxDescent:(r=_.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=_.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*C,actualBoundingBoxRight:(o=_.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*C,alphabeticBaseline:(s=_.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(a=_.emHeightAscent)!==null&&a!==void 0?a:100*C,emHeightDescent:(l=_.emHeightDescent)!==null&&l!==void 0?l:-20*C,fontBoundingBoxAscent:(c=_.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*C,fontBoundingBoxDescent:(d=_.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*C,hangingBaseline:(h=_.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*C,ideographicBaseline:(m=_.ideographicBaseline)!==null&&m!==void 0?m:-21*C,width:_.width,height:y}}_getContextFont(){return this.fontStyle()+ey+this.fontVariant()+ey+(this.fontSize()+ez)+oz(this.fontFamily())}_addTextLine(e){this.align()===kp&&(e=e.trim());let r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){let t=this.letterSpacing(),r=e.length;return PE().measureText(e).width+t*r}_setTextData(){let e=this.text().split(`
`),t=+this.fontSize(),r=0,i=this.lineHeight()*t,o=this.attrs.width,s=this.attrs.height,a=o!==Yd&&o!==void 0,l=s!==Yd&&s!==void 0,c=this.padding(),d=o-c*2,h=s-c*2,m=0,p=this.wrap(),y=p!==e8,_=p!==rz&&y,C=this.ellipsis();this.textArr=[],PE().font=this._getContextFont();let w=C?this._getTextWidth(AE):0;for(let x=0,O=e.length;x<O;++x){let k=e[x],H=this._getTextWidth(k);if(a&&H>d)for(;k.length>0;){let Q=0,q=Lc(k).length,j="",re=0;for(;Q<q;){let se=Q+q>>>1,P=Lc(k),T=P.slice(0,se+1).join(""),G=this._getTextWidth(T);(C&&l&&m+i>h?G+w:G)<=d?(Q=se+1,j=T,re=G):q=se}if(j){if(_){let T=Lc(k),G=Lc(j),z=T[G.length],de=z===ey||z===ZA,ce;if(de&&re<=d)ce=G.length;else{let ve=G.lastIndexOf(ey),Z=G.lastIndexOf(ZA);ce=Math.max(ve,Z)+1}ce>0&&(Q=ce,j=T.slice(0,Q).join(""),re=this._getTextWidth(j))}if(j=j.trimRight(),this._addTextLine(j),r=Math.max(r,re),m+=i,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(k=Lc(k).slice(Q).join("").trimLeft(),k.length>0&&(H=this._getTextWidth(k),H<=d)){this._addTextLine(k),m+=i,r=Math.max(r,H);break}}else break}else this._addTextLine(k),m+=i,r=Math.max(r,H),this._shouldHandleEllipsis(m)&&x<O-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+i>h)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){let t=+this.fontSize(),r=this.lineHeight()*t,i=this.attrs.height,o=i!==Yd&&i!==void 0,s=this.padding(),a=i-s*2;return!(this.wrap()!==e8)||o&&e+r>a}_tryToAddEllipsisToLastLine(){let e=this.attrs.width,t=e!==Yd&&e!==void 0,r=this.padding(),i=e-r*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!o||(t&&(this._getTextWidth(s.text+AE)<i||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+AE))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){let e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}};Rp.Text=In;In.prototype._fillFunc=sz;In.prototype._strokeFunc=az;In.prototype.className=ZH;In.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,$H._registerNode)(In);qr.Factory.overWriteSetter(In,"width",(0,Il.getNumberOrAutoValidator)());qr.Factory.overWriteSetter(In,"height",(0,Il.getNumberOrAutoValidator)());qr.Factory.addGetterSetter(In,"direction",t8);qr.Factory.addGetterSetter(In,"fontFamily","Arial");qr.Factory.addGetterSetter(In,"fontSize",12,(0,Il.getNumberValidator)());qr.Factory.addGetterSetter(In,"fontStyle",r8);qr.Factory.addGetterSetter(In,"fontVariant",r8);qr.Factory.addGetterSetter(In,"padding",0,(0,Il.getNumberValidator)());qr.Factory.addGetterSetter(In,"align",n8);qr.Factory.addGetterSetter(In,"verticalAlign",JH);qr.Factory.addGetterSetter(In,"lineHeight",1,(0,Il.getNumberValidator)());qr.Factory.addGetterSetter(In,"wrap",nz);qr.Factory.addGetterSetter(In,"ellipsis",!1,(0,Il.getBooleanValidator)());qr.Factory.addGetterSetter(In,"letterSpacing",0,(0,Il.getNumberValidator)());qr.Factory.addGetterSetter(In,"text","",(0,Il.getStringValidator)());qr.Factory.addGetterSetter(In,"textDecoration","")});var c8=Ke(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});ny.TextPath=void 0;var OE=kn(),qo=Bt(),cz=yr(),Lp=Hv(),kE=NE(),o8=Vt(),uz=Lt(),dz="",s8="normal";function a8(n){n.fillText(this.partialText,0,0)}function l8(n){n.strokeText(this.partialText,0,0)}var Jn=class extends cz.Shape{constructor(e){super(e),this.dummyCanvas=OE.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Lp.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let t=this.pathLength;return e-1>t?null:Lp.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Lp.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();let t=this.textDecoration(),r=this.fill(),i=this.fontSize(),o=this.glyphInfo;t==="underline"&&e.beginPath();for(let s=0;s<o.length;s++){e.save();let a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),t==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();let t=this.glyphInfo;if(t.length>=1){let r=t[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<t.length;r++){let i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return OE.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return kE.Text.prototype.setText.call(this,e)}_getContextFont(){return kE.Text.prototype._getContextFont.call(this)}_getTextSize(e){let r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();let i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;let r=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0),a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));let l=(0,kE.stringToArray)(this.text()),c=a;for(let d=0;d<l.length;d++){let h=this._getPointAtLength(c);if(!h)return;let m=this._getTextSize(l[d]).width+r;if(l[d]===" "&&i==="justify"){let x=this.text().split(" ").length-1;m+=(this.pathLength-s)/x}let p=this._getPointAtLength(c+m);if(!p)return;let y=Lp.Path.getLineLength(h.x,h.y,p.x,p.y),_=0;if(o)try{_=o(l[d-1],l[d])*this.fontSize()}catch{_=0}h.x+=_,p.x+=_,this.textWidth+=_;let C=Lp.Path.getPointOnLine(_+y/2,h.x,h.y,p.x,p.y),w=Math.atan2(p.y-h.y,p.x-h.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:l[d],rotation:w,p0:h,p1:p}),c+=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};let e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let t=e[0]||0,r=e[0]||0,i=e[1]||0,o=e[1]||0,s,a;for(let c=0;c<e.length/2;c++)s=e[c*2],a=e[c*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);let l=this.fontSize();return{x:t-l/2,y:i-l/2,width:r-t+l,height:o-i+l}}destroy(){return OE.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};ny.TextPath=Jn;Jn.prototype._fillFunc=a8;Jn.prototype._strokeFunc=l8;Jn.prototype._fillFuncHit=a8;Jn.prototype._strokeFuncHit=l8;Jn.prototype.className="TextPath";Jn.prototype._attrsAffectingSize=["text","fontSize","data"];(0,uz._registerNode)(Jn);qo.Factory.addGetterSetter(Jn,"data");qo.Factory.addGetterSetter(Jn,"fontFamily","Arial");qo.Factory.addGetterSetter(Jn,"fontSize",12,(0,o8.getNumberValidator)());qo.Factory.addGetterSetter(Jn,"fontStyle",s8);qo.Factory.addGetterSetter(Jn,"align","left");qo.Factory.addGetterSetter(Jn,"letterSpacing",0,(0,o8.getNumberValidator)());qo.Factory.addGetterSetter(Jn,"textBaseline","middle");qo.Factory.addGetterSetter(Jn,"fontVariant",s8);qo.Factory.addGetterSetter(Jn,"text",dz);qo.Factory.addGetterSetter(Jn,"textDecoration","");qo.Factory.addGetterSetter(Jn,"kerningFunc",void 0)});var m8=Ke(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0});iy.Transformer=void 0;var gn=kn(),en=Bt(),u8=qn(),hz=yr(),fz=xE(),d8=Ov(),Go=Lt(),Al=Vt(),pz=Lt(),p8="tr-konva",gz=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(n=>n+`.${p8}`).join(" "),h8="nodesRect",mz=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],vz={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},yz="ontouchstart"in Go.Konva._global;function bz(n,e,t){if(n==="rotater")return t;e+=gn.Util.degToRad(vz[n]||0);let r=(gn.Util.radToDeg(e)%360+360)%360;return gn.Util._inRange(r,315+22.5,360)||gn.Util._inRange(r,0,22.5)?"ns-resize":gn.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":gn.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":gn.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":gn.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":gn.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":gn.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":gn.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(gn.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var ry=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],f8=1e8;function _z(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function g8(n,e,t){let r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),i=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return vt(De({},n),{rotation:n.rotation+e,x:r,y:i})}function wz(n,e){let t=_z(n);return g8(n,e,t)}function Cz(n,e,t){let r=e;for(let i=0;i<n.length;i++){let o=Go.Konva.getAngle(n[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<t&&(r=o)}return r}var RE=0,Ht=class extends d8.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(gz,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return gn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return p8+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let t=e.filter(i=>i.isAncestorOf(this)?(gn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{let o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){let s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o)}i.on(mz.map(s=>s+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;let i=e.getAbsolutePosition(),o=i.x-t.x,s=i.y-t.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;let l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+o,y:l.y+s}),a.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h8),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h8,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){let i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),a=i.x*o.x-e.offsetX()*o.x,l=i.y*o.y-e.offsetY()*o.y,c=(Go.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+a*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*o.x,height:i.height*o.y,rotation:c};return g8(d,-Go.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-f8,y:-f8,width:0,height:0,rotation:0};let t=[];this.nodes().map(c=>{let d=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],m=c.getAbsoluteTransform();h.forEach(function(p){let y=m.point(p);t.push(y)})});let r=new gn.Transform;r.rotate(-Go.Konva.getAngle(this.rotation()));let i=1/0,o=1/0,s=-1/0,a=-1/0;t.forEach(function(c){let d=r.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),r.invert();let l=r.point({x:i,y:o});return{x:l.x,y:l.y,width:s-i,height:a-o,rotation:Go.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ry.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){let t=new fz.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:yz?10:"auto"}),r=this;t.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),t.on("dragstart",i=>{t.stopDrag(),i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),t.on("mouseenter",()=>{let i=Go.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=bz(e,i,o);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){let e=new hz.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,r){let i=r.getParent(),o=i.padding();t.beginPath(),t.rect(-o,-o,r.width()+o*2,r.height()+o*2),t.moveTo(r.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&t.lineTo(r.width()/2,-i.rotateAnchorOffset()*gn.Util._sign(r.height())-o),t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(!this.shouldOverdrawWholeArea())return;let i=this.padding();t.beginPath(),t.rect(-i,-i,r.width()+i*2,r.height()+i*2),t.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];let t=this._getNodeRect(),r=t.width,i=t.height,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(r/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;let s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},RE++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let t,r,i,o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);let a=s.getPointerPosition(),l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),o.setAbsolutePosition(l);let d=o.getAbsolutePosition();if(c.x===d.x&&c.y===d.y)return;if(this._movingAnchorName==="rotater"){let x=this._getNodeRect();t=o.x()-x.width/2,r=-o.y()+x.height/2;let O=Math.atan2(-r,t)+Math.PI/2;x.height<0&&(O-=Math.PI);let H=Go.Konva.getAngle(this.rotation())+O,Q=Go.Konva.getAngle(this.rotationSnapTolerance()),j=Cz(this.rotationSnaps(),H,Q)-x.rotation,re=wz(x,j);this._fitNodesInto(re,e);return}let h=this.shiftBehavior(),m;h==="inverted"?m=this.keepRatio()&&!e.shiftKey:h==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){let x=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(x.x-o.x(),2)+Math.pow(x.y-o.y(),2));let O=this.findOne(".top-left").x()>x.x?-1:1,k=this.findOne(".top-left").y()>x.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".top-left").x(x.x-t),this.findOne(".top-left").y(x.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(m){let x=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-x.x,2)+Math.pow(x.y-o.y(),2));let O=this.findOne(".top-right").x()<x.x?-1:1,k=this.findOne(".top-right").y()>x.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".top-right").x(x.x+t),this.findOne(".top-right").y(x.y-r)}var y=o.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(m){let x=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(x.x-o.x(),2)+Math.pow(o.y()-x.y,2));let O=x.x<o.x()?-1:1,k=o.y()<x.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,o.x(x.x-t),o.y(x.y+r)}y=o.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(m){let x=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-x.x,2)+Math.pow(o.y()-x.y,2));let O=this.findOne(".bottom-right").x()<x.x?-1:1,k=this.findOne(".bottom-right").y()<x.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".bottom-right").x(x.x+t),this.findOne(".bottom-right").y(x.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||e.altKey,p){let x=this.findOne(".top-left"),O=this.findOne(".bottom-right"),k=x.x(),H=x.y(),Q=this.getWidth()-O.x(),q=this.getHeight()-O.y();O.move({x:-k,y:-H}),x.move({x:Q,y:q})}let _=this.findOne(".top-left").getAbsolutePosition();t=_.x,r=_.y;let C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:C,height:w,rotation:Go.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));let r=this.getNode();RE--,this._fire("transformend",{evt:e,target:r}),(t=this.getLayer())===null||t===void 0||t.batchDraw(),r&&this._nodes.forEach(i=>{var o;i._fire("transformend",{evt:e,target:i}),(o=i.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){let r=this._getNodeRect(),i=1;if(gn.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(gn.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}let o=new gn.Transform;if(o.rotate(Go.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let m=o.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let m=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let m=o.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let m=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){let m=this.boundBoxFunc()(r,e);m?e=m:gn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let s=1e7,a=new gn.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/s,r.height/s);let l=new gn.Transform,c=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,d));let h=l.multiply(a.invert());this._nodes.forEach(m=>{var p;let y=m.getParent().getAbsoluteTransform(),_=m.getTransform().copy();_.translate(m.offsetX(),m.offsetY());let C=new gn.Transform;C.multiply(y.copy().invert()).multiply(h).multiply(y).multiply(_);let w=C.decompose();m.setAttrs(w),(p=m.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(gn.Util._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:t,target:m}),m._fire("transform",{evt:t,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;let t=this._getNodeRect();this.rotation(gn.Util._getRotation(t.rotation));let r=t.width,i=t.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*gn.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let d=this.anchorStyleFunc();d&&c.forEach(h=>{d(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();let e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),d8.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return u8.Node.prototype.toObject.call(this)}clone(e){return u8.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};iy.Transformer=Ht;Ht.isTransforming=()=>RE>0;function Ez(n){return n instanceof Array||gn.Util.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){ry.indexOf(e)===-1&&gn.Util.warn("Unknown anchor name: "+e+". Available names are: "+ry.join(", "))}),n||[]}Ht.prototype.className="Transformer";(0,pz._registerNode)(Ht);en.Factory.addGetterSetter(Ht,"enabledAnchors",ry,Ez);en.Factory.addGetterSetter(Ht,"flipEnabled",!0,(0,Al.getBooleanValidator)());en.Factory.addGetterSetter(Ht,"resizeEnabled",!0);en.Factory.addGetterSetter(Ht,"anchorSize",10,(0,Al.getNumberValidator)());en.Factory.addGetterSetter(Ht,"rotateEnabled",!0);en.Factory.addGetterSetter(Ht,"rotateLineVisible",!0);en.Factory.addGetterSetter(Ht,"rotationSnaps",[]);en.Factory.addGetterSetter(Ht,"rotateAnchorOffset",50,(0,Al.getNumberValidator)());en.Factory.addGetterSetter(Ht,"rotateAnchorCursor","crosshair");en.Factory.addGetterSetter(Ht,"rotationSnapTolerance",5,(0,Al.getNumberValidator)());en.Factory.addGetterSetter(Ht,"borderEnabled",!0);en.Factory.addGetterSetter(Ht,"anchorStroke","rgb(0, 161, 255)");en.Factory.addGetterSetter(Ht,"anchorStrokeWidth",1,(0,Al.getNumberValidator)());en.Factory.addGetterSetter(Ht,"anchorFill","white");en.Factory.addGetterSetter(Ht,"anchorCornerRadius",0,(0,Al.getNumberValidator)());en.Factory.addGetterSetter(Ht,"borderStroke","rgb(0, 161, 255)");en.Factory.addGetterSetter(Ht,"borderStrokeWidth",1,(0,Al.getNumberValidator)());en.Factory.addGetterSetter(Ht,"borderDash");en.Factory.addGetterSetter(Ht,"keepRatio",!0);en.Factory.addGetterSetter(Ht,"shiftBehavior","default");en.Factory.addGetterSetter(Ht,"centeredScaling",!1);en.Factory.addGetterSetter(Ht,"ignoreStroke",!1);en.Factory.addGetterSetter(Ht,"padding",0,(0,Al.getNumberValidator)());en.Factory.addGetterSetter(Ht,"nodes");en.Factory.addGetterSetter(Ht,"node");en.Factory.addGetterSetter(Ht,"boundBoxFunc");en.Factory.addGetterSetter(Ht,"anchorDragBoundFunc");en.Factory.addGetterSetter(Ht,"anchorStyleFunc");en.Factory.addGetterSetter(Ht,"shouldOverdrawWholeArea",!1);en.Factory.addGetterSetter(Ht,"useSingleNodeRotation",!0);en.Factory.backCompat(Ht,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})});var y8=Ke(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0});sy.Wedge=void 0;var oy=Bt(),Sz=yr(),xz=Lt(),v8=Vt(),Dz=Lt(),$o=class extends Sz.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,xz.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};sy.Wedge=$o;$o.prototype.className="Wedge";$o.prototype._centroid=!0;$o.prototype._attrsAffectingSize=["radius"];(0,Dz._registerNode)($o);oy.Factory.addGetterSetter($o,"radius",0,(0,v8.getNumberValidator)());oy.Factory.addGetterSetter($o,"angle",0,(0,v8.getNumberValidator)());oy.Factory.addGetterSetter($o,"clockwise",!1);oy.Factory.backCompat($o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})});var w8=Ke(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0});ay.Blur=void 0;var b8=Bt(),Mz=qn(),Iz=Vt();function _8(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var Az=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Pz=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Tz(n,e){let t=n.data,r=n.width,i=n.height,o,s,a,l,c,d,h,m,p,y,_,C,w,x,O,k,H,Q,q,j,re=e+e+1,se=r-1,P=i-1,T=e+1,G=T*(T+1)/2,z=new _8,de=Az[e],ce=Pz[e],ve=null,Z=z,he=null,ge=null;for(let Ne=1;Ne<re;Ne++)Z=Z.next=new _8,Ne===T&&(ve=Z);Z.next=z,a=s=0;for(let Ne=0;Ne<i;Ne++){C=w=x=O=l=c=d=h=0,m=T*(k=t[s]),p=T*(H=t[s+1]),y=T*(Q=t[s+2]),_=T*(q=t[s+3]),l+=G*k,c+=G*H,d+=G*Q,h+=G*q,Z=z;for(let M=0;M<T;M++)Z.r=k,Z.g=H,Z.b=Q,Z.a=q,Z=Z.next;for(let M=1;M<T;M++)o=s+((se<M?se:M)<<2),l+=(Z.r=k=t[o])*(j=T-M),c+=(Z.g=H=t[o+1])*j,d+=(Z.b=Q=t[o+2])*j,h+=(Z.a=q=t[o+3])*j,C+=k,w+=H,x+=Q,O+=q,Z=Z.next;he=z,ge=ve;for(let M=0;M<r;M++)t[s+3]=q=h*de>>ce,q!==0?(q=255/q,t[s]=(l*de>>ce)*q,t[s+1]=(c*de>>ce)*q,t[s+2]=(d*de>>ce)*q):t[s]=t[s+1]=t[s+2]=0,l-=m,c-=p,d-=y,h-=_,m-=he.r,p-=he.g,y-=he.b,_-=he.a,o=a+((o=M+e+1)<se?o:se)<<2,C+=he.r=t[o],w+=he.g=t[o+1],x+=he.b=t[o+2],O+=he.a=t[o+3],l+=C,c+=w,d+=x,h+=O,he=he.next,m+=k=ge.r,p+=H=ge.g,y+=Q=ge.b,_+=q=ge.a,C-=k,w-=H,x-=Q,O-=q,ge=ge.next,s+=4;a+=r}for(let Ne=0;Ne<r;Ne++){w=x=O=C=c=d=h=l=0,s=Ne<<2,m=T*(k=t[s]),p=T*(H=t[s+1]),y=T*(Q=t[s+2]),_=T*(q=t[s+3]),l+=G*k,c+=G*H,d+=G*Q,h+=G*q,Z=z;for(let L=0;L<T;L++)Z.r=k,Z.g=H,Z.b=Q,Z.a=q,Z=Z.next;let M=r;for(let L=1;L<=e;L++)s=M+Ne<<2,l+=(Z.r=k=t[s])*(j=T-L),c+=(Z.g=H=t[s+1])*j,d+=(Z.b=Q=t[s+2])*j,h+=(Z.a=q=t[s+3])*j,C+=k,w+=H,x+=Q,O+=q,Z=Z.next,L<P&&(M+=r);s=Ne,he=z,ge=ve;for(let L=0;L<i;L++)o=s<<2,t[o+3]=q=h*de>>ce,q>0?(q=255/q,t[o]=(l*de>>ce)*q,t[o+1]=(c*de>>ce)*q,t[o+2]=(d*de>>ce)*q):t[o]=t[o+1]=t[o+2]=0,l-=m,c-=p,d-=y,h-=_,m-=he.r,p-=he.g,y-=he.b,_-=he.a,o=Ne+((o=L+T)<P?o:P)*r<<2,l+=C+=he.r=t[o],c+=w+=he.g=t[o+1],d+=x+=he.b=t[o+2],h+=O+=he.a=t[o+3],he=he.next,m+=k=ge.r,p+=H=ge.g,y+=Q=ge.b,_+=q=ge.a,C-=k,w-=H,x-=Q,O-=q,ge=ge.next,s+=r}}var Nz=function(e){let t=Math.round(this.blurRadius());t>0&&Tz(e,t)};ay.Blur=Nz;b8.Factory.addGetterSetter(Mz.Node,"blurRadius",0,(0,Iz.getNumberValidator)(),b8.Factory.afterSetFilter)});var E8=Ke(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0});ly.Brighten=void 0;var C8=Bt(),Oz=qn(),kz=Vt(),Rz=function(n){let e=this.brightness()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=4)t[i]+=e,t[i+1]+=e,t[i+2]+=e};ly.Brighten=Rz;C8.Factory.addGetterSetter(Oz.Node,"brightness",0,(0,kz.getNumberValidator)(),C8.Factory.afterSetFilter)});var x8=Ke(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});cy.Contrast=void 0;var S8=Bt(),Lz=qn(),Fz=Vt(),jz=function(n){let e=Math.pow((this.contrast()+100)/100,2),t=n.data,r=t.length,i=150,o=150,s=150;for(let a=0;a<r;a+=4)i=t[a],o=t[a+1],s=t[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,t[a]=i,t[a+1]=o,t[a+2]=s};cy.Contrast=jz;S8.Factory.addGetterSetter(Lz.Node,"contrast",0,(0,Fz.getNumberValidator)(),S8.Factory.afterSetFilter)});var M8=Ke(dy=>{"use strict";Object.defineProperty(dy,"__esModule",{value:!0});dy.Emboss=void 0;var Pl=Bt(),uy=qn(),Bz=kn(),D8=Vt(),Uz=function(n){let e=this.embossStrength()*10,t=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),o=n.data,s=n.width,a=n.height,l=s*4,c=0,d=0,h=a;switch(r){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:Bz.Util.error("Unknown emboss direction: "+r)}do{let m=(h-1)*l,p=c;h+p<1&&(p=0),h+p>a&&(p=0);let y=(h-1+p)*s*4,_=s;do{let C=m+(_-1)*4,w=d;_+w<1&&(w=0),_+w>s&&(w=0);let x=y+(_-1+w)*4,O=o[C]-o[x],k=o[C+1]-o[x+1],H=o[C+2]-o[x+2],Q=O,q=Q>0?Q:-Q,j=k>0?k:-k,re=H>0?H:-H;if(j>q&&(Q=k),re>q&&(Q=H),Q*=e,i){let se=o[C]+Q,P=o[C+1]+Q,T=o[C+2]+Q;o[C]=se>255?255:se<0?0:se,o[C+1]=P>255?255:P<0?0:P,o[C+2]=T>255?255:T<0?0:T}else{let se=t-Q;se<0?se=0:se>255&&(se=255),o[C]=o[C+1]=o[C+2]=se}}while(--_)}while(--h)};dy.Emboss=Uz;Pl.Factory.addGetterSetter(uy.Node,"embossStrength",.5,(0,D8.getNumberValidator)(),Pl.Factory.afterSetFilter);Pl.Factory.addGetterSetter(uy.Node,"embossWhiteLevel",.5,(0,D8.getNumberValidator)(),Pl.Factory.afterSetFilter);Pl.Factory.addGetterSetter(uy.Node,"embossDirection","top-left",void 0,Pl.Factory.afterSetFilter);Pl.Factory.addGetterSetter(uy.Node,"embossBlend",!1,void 0,Pl.Factory.afterSetFilter)});var A8=Ke(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0});hy.Enhance=void 0;var I8=Bt(),Vz=qn(),Hz=Vt();function LE(n,e,t,r,i){let o=t-e,s=i-r;if(o===0)return r+s/2;if(s===0)return r;let a=(n-e)/o;return a=s*a+r,a}var zz=function(n){let e=n.data,t=e.length,r=e[0],i=r,o,s=e[1],a=s,l,c=e[2],d=c,h,m=this.enhance();if(m===0)return;for(let O=0;O<t;O+=4)o=e[O+0],o<r?r=o:o>i&&(i=o),l=e[O+1],l<s?s=l:l>a&&(a=l),h=e[O+2],h<c?c=h:h>d&&(d=h);i===r&&(i=255,r=0),a===s&&(a=255,s=0),d===c&&(d=255,c=0);let p,y,_,C,w,x;if(m>0)p=i+m*(255-i),y=r-m*(r-0),_=a+m*(255-a),C=s-m*(s-0),w=d+m*(255-d),x=c-m*(c-0);else{let O=(i+r)*.5;p=i+m*(i-O),y=r+m*(r-O);let k=(a+s)*.5;_=a+m*(a-k),C=s+m*(s-k);let H=(d+c)*.5;w=d+m*(d-H),x=c+m*(c-H)}for(let O=0;O<t;O+=4)e[O+0]=LE(e[O+0],r,i,y,p),e[O+1]=LE(e[O+1],s,a,C,_),e[O+2]=LE(e[O+2],c,d,x,w)};hy.Enhance=zz;I8.Factory.addGetterSetter(Vz.Node,"enhance",0,(0,Hz.getNumberValidator)(),I8.Factory.afterSetFilter)});var P8=Ke(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0});fy.Grayscale=void 0;var qz=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};fy.Grayscale=qz});var T8=Ke(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});py.HSL=void 0;var Kd=Bt(),FE=qn(),jE=Vt();Kd.Factory.addGetterSetter(FE.Node,"hue",0,(0,jE.getNumberValidator)(),Kd.Factory.afterSetFilter);Kd.Factory.addGetterSetter(FE.Node,"saturation",0,(0,jE.getNumberValidator)(),Kd.Factory.afterSetFilter);Kd.Factory.addGetterSetter(FE.Node,"luminance",0,(0,jE.getNumberValidator)(),Kd.Factory.afterSetFilter);var Gz=function(n){let e=n.data,t=e.length,r=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a=r*i*Math.cos(o*Math.PI/180),l=r*i*Math.sin(o*Math.PI/180),c=.299*r+.701*a+.167*l,d=.587*r-.587*a+.33*l,h=.114*r-.114*a-.497*l,m=.299*r-.299*a-.328*l,p=.587*r+.413*a+.035*l,y=.114*r-.114*a+.293*l,_=.299*r-.3*a+1.25*l,C=.587*r-.586*a-1.05*l,w=.114*r+.886*a-.2*l,x,O,k,H;for(let Q=0;Q<t;Q+=4)x=e[Q+0],O=e[Q+1],k=e[Q+2],H=e[Q+3],e[Q+0]=c*x+d*O+h*k+s,e[Q+1]=m*x+p*O+y*k+s,e[Q+2]=_*x+C*O+w*k+s,e[Q+3]=H};py.HSL=Gz});var N8=Ke(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0});gy.HSV=void 0;var Xd=Bt(),BE=qn(),UE=Vt(),$z=function(n){let e=n.data,t=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=r*i*Math.cos(o*Math.PI/180),a=r*i*Math.sin(o*Math.PI/180),l=.299*r+.701*s+.167*a,c=.587*r-.587*s+.33*a,d=.114*r-.114*s-.497*a,h=.299*r-.299*s-.328*a,m=.587*r+.413*s+.035*a,p=.114*r-.114*s+.293*a,y=.299*r-.3*s+1.25*a,_=.587*r-.586*s-1.05*a,C=.114*r+.886*s-.2*a;for(let w=0;w<t;w+=4){let x=e[w+0],O=e[w+1],k=e[w+2],H=e[w+3];e[w+0]=l*x+c*O+d*k,e[w+1]=h*x+m*O+p*k,e[w+2]=y*x+_*O+C*k,e[w+3]=H}};gy.HSV=$z;Xd.Factory.addGetterSetter(BE.Node,"hue",0,(0,UE.getNumberValidator)(),Xd.Factory.afterSetFilter);Xd.Factory.addGetterSetter(BE.Node,"saturation",0,(0,UE.getNumberValidator)(),Xd.Factory.afterSetFilter);Xd.Factory.addGetterSetter(BE.Node,"value",0,(0,UE.getNumberValidator)(),Xd.Factory.afterSetFilter)});var O8=Ke(my=>{"use strict";Object.defineProperty(my,"__esModule",{value:!0});my.Invert=void 0;var Wz=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};my.Invert=Wz});var F8=Ke(yy=>{"use strict";Object.defineProperty(yy,"__esModule",{value:!0});yy.Kaleidoscope=void 0;var vy=Bt(),R8=qn(),k8=kn(),L8=Vt(),Yz=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,h=s-l,m=Math.sqrt(d*d+h*h);c=m>c?m:c;let p=s,y=o,_=360/y*Math.PI/180;for(let C=0;C<y;C+=1){let w=Math.sin(C*_),x=Math.cos(C*_);for(let O=0;O<p;O+=1){d=Math.floor(a+c*O/p*x),h=Math.floor(l+c*O/p*w);let k=(h*o+d)*4,H=r[k+0],Q=r[k+1],q=r[k+2],j=r[k+3];k=(C+O*o)*4,i[k+0]=H,i[k+1]=Q,i[k+2]=q,i[k+3]=j}}},Kz=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,h=s-l,m=Math.sqrt(d*d+h*h);c=m>c?m:c;let p=s,y=o,_=t.polarRotation||0,C,w;for(d=0;d<o;d+=1)for(h=0;h<s;h+=1){let x=d-a,O=h-l,k=Math.sqrt(x*x+O*O)*p/c,H=(Math.atan2(O,x)*180/Math.PI+360+_)%360;H=H*y/360,C=Math.floor(H),w=Math.floor(k);let Q=(w*o+C)*4,q=r[Q+0],j=r[Q+1],re=r[Q+2],se=r[Q+3];Q=(h*o+d)*4,i[Q+0]=q,i[Q+1]=j,i[Q+2]=re,i[Q+3]=se}},Xz=function(n){let e=n.width,t=n.height,r,i,o,s,a,l,c,d,h,m,p=Math.round(this.kaleidoscopePower()),y=Math.round(this.kaleidoscopeAngle()),_=Math.floor(e*(y%360)/360);if(p<1)return;let C=k8.Util.createCanvasElement();C.width=e,C.height=t;let w=C.getContext("2d").getImageData(0,0,e,t);k8.Util.releaseCanvas(C),Yz(n,w,{polarCenterX:e/2,polarCenterY:t/2});let x=e/Math.pow(2,p);for(;x<=8;)x=x*2,p-=1;x=Math.ceil(x);let O=x,k=0,H=O,Q=1;for(_+x>e&&(k=O,H=0,Q=-1),i=0;i<t;i+=1)for(r=k;r!==H;r+=Q)o=Math.round(r+_)%e,h=(e*i+o)*4,a=w.data[h+0],l=w.data[h+1],c=w.data[h+2],d=w.data[h+3],m=(e*i+r)*4,w.data[m+0]=a,w.data[m+1]=l,w.data[m+2]=c,w.data[m+3]=d;for(i=0;i<t;i+=1)for(O=Math.floor(x),s=0;s<p;s+=1){for(r=0;r<O+1;r+=1)h=(e*i+r)*4,a=w.data[h+0],l=w.data[h+1],c=w.data[h+2],d=w.data[h+3],m=(e*i+O*2-r-1)*4,w.data[m+0]=a,w.data[m+1]=l,w.data[m+2]=c,w.data[m+3]=d;O*=2}Kz(w,n,{polarRotation:0})};yy.Kaleidoscope=Xz;vy.Factory.addGetterSetter(R8.Node,"kaleidoscopePower",2,(0,L8.getNumberValidator)(),vy.Factory.afterSetFilter);vy.Factory.addGetterSetter(R8.Node,"kaleidoscopeAngle",0,(0,L8.getNumberValidator)(),vy.Factory.afterSetFilter)});var B8=Ke(_y=>{"use strict";Object.defineProperty(_y,"__esModule",{value:!0});_y.Mask=void 0;var j8=Bt(),Zz=qn(),Jz=Vt();function by(n,e,t){let r=(t*n.width+e)*4,i=[];return i.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),i}function Fp(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}function Qz(n){let e=[0,0,0];for(let t=0;t<n.length;t++)e[0]+=n[t][0],e[1]+=n[t][1],e[2]+=n[t][2];return e[0]/=n.length,e[1]/=n.length,e[2]/=n.length,e}function eq(n,e){let t=by(n,0,0),r=by(n,n.width-1,0),i=by(n,0,n.height-1),o=by(n,n.width-1,n.height-1),s=e||10;if(Fp(t,r)<s&&Fp(r,o)<s&&Fp(o,i)<s&&Fp(i,t)<s){let a=Qz([r,t,o,i]),l=[];for(let c=0;c<n.width*n.height;c++){let d=Fp(a,[n.data[c*4],n.data[c*4+1],n.data[c*4+2]]);l[c]=d<s?0:255}return l}}function tq(n,e){for(let t=0;t<n.width*n.height;t++)n.data[4*t+3]=e[t]}function nq(n,e,t){let r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let m=0;m<i;m++){let p=a+h-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[h*i+m];d+=n[_]*C}}s[c]=d===255*8?255:0}return s}function rq(n,e,t){let r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let m=0;m<i;m++){let p=a+h-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[h*i+m];d+=n[_]*C}}s[c]=d>=255*4?255:0}return s}function iq(n,e,t){let r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let m=0;m<i;m++){let p=a+h-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[h*i+m];d+=n[_]*C}}s[c]=d}return s}var oq=function(n){let e=this.threshold(),t=eq(n,e);return t&&(t=nq(t,n.width,n.height),t=rq(t,n.width,n.height),t=iq(t,n.width,n.height),tq(n,t)),n};_y.Mask=oq;j8.Factory.addGetterSetter(Zz.Node,"threshold",0,(0,Jz.getNumberValidator)(),j8.Factory.afterSetFilter)});var V8=Ke(wy=>{"use strict";Object.defineProperty(wy,"__esModule",{value:!0});wy.Noise=void 0;var U8=Bt(),sq=qn(),aq=Vt(),lq=function(n){let e=this.noise()*255,t=n.data,r=t.length,i=e/2;for(let o=0;o<r;o+=4)t[o+0]+=i-2*i*Math.random(),t[o+1]+=i-2*i*Math.random(),t[o+2]+=i-2*i*Math.random()};wy.Noise=lq;U8.Factory.addGetterSetter(sq.Node,"noise",.2,(0,aq.getNumberValidator)(),U8.Factory.afterSetFilter)});var z8=Ke(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.Pixelate=void 0;var H8=Bt(),cq=kn(),uq=qn(),dq=Vt(),hq=function(n){let e=Math.ceil(this.pixelSize()),t=n.width,r=n.height,i=Math.ceil(t/e),o=Math.ceil(r/e),s=n.data;if(e<=0){cq.Util.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<o;l+=1){let c=0,d=0,h=0,m=0,p=a*e,y=p+e,_=l*e,C=_+e,w=0;for(let x=p;x<y;x+=1)if(!(x>=t))for(let O=_;O<C;O+=1){if(O>=r)continue;let k=(t*O+x)*4;c+=s[k+0],d+=s[k+1],h+=s[k+2],m+=s[k+3],w+=1}c=c/w,d=d/w,h=h/w,m=m/w;for(let x=p;x<y;x+=1)if(!(x>=t))for(let O=_;O<C;O+=1){if(O>=r)continue;let k=(t*O+x)*4;s[k+0]=c,s[k+1]=d,s[k+2]=h,s[k+3]=m}}};Cy.Pixelate=hq;H8.Factory.addGetterSetter(uq.Node,"pixelSize",8,(0,dq.getNumberValidator)(),H8.Factory.afterSetFilter)});var G8=Ke(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0});Ey.Posterize=void 0;var q8=Bt(),fq=qn(),pq=Vt(),gq=function(n){let e=Math.round(this.levels()*254)+1,t=n.data,r=t.length,i=255/e;for(let o=0;o<r;o+=1)t[o]=Math.floor(t[o]/i)*i};Ey.Posterize=gq;q8.Factory.addGetterSetter(fq.Node,"levels",.5,(0,pq.getNumberValidator)(),q8.Factory.afterSetFilter)});var $8=Ke(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});xy.RGB=void 0;var Sy=Bt(),VE=qn(),mq=Vt(),vq=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue();for(let s=0;s<t;s+=4){let a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=a*r,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]}};xy.RGB=vq;Sy.Factory.addGetterSetter(VE.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});Sy.Factory.addGetterSetter(VE.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});Sy.Factory.addGetterSetter(VE.Node,"blue",0,mq.RGBComponent,Sy.Factory.afterSetFilter)});var W8=Ke(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});My.RGBA=void 0;var jp=Bt(),Dy=qn(),yq=Vt(),bq=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue(),s=this.alpha();for(let a=0;a<t;a+=4){let l=1-s;e[a]=r*s+e[a]*l,e[a+1]=i*s+e[a+1]*l,e[a+2]=o*s+e[a+2]*l}};My.RGBA=bq;jp.Factory.addGetterSetter(Dy.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});jp.Factory.addGetterSetter(Dy.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});jp.Factory.addGetterSetter(Dy.Node,"blue",0,yq.RGBComponent,jp.Factory.afterSetFilter);jp.Factory.addGetterSetter(Dy.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n})});var Y8=Ke(Iy=>{"use strict";Object.defineProperty(Iy,"__esModule",{value:!0});Iy.Sepia=void 0;var _q=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=e[r+0],o=e[r+1],s=e[r+2];e[r+0]=Math.min(255,i*.393+o*.769+s*.189),e[r+1]=Math.min(255,i*.349+o*.686+s*.168),e[r+2]=Math.min(255,i*.272+o*.534+s*.131)}};Iy.Sepia=_q});var K8=Ke(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.Solarize=void 0;var wq=function(n){let e=n.data,t=n.width,r=n.height,i=t*4,o=r;do{let s=(o-1)*i,a=t;do{let l=s+(a-1)*4,c=e[l],d=e[l+1],h=e[l+2];c>127&&(c=255-c),d>127&&(d=255-d),h>127&&(h=255-h),e[l]=c,e[l+1]=d,e[l+2]=h}while(--a)}while(--o)};Ay.Solarize=wq});var Z8=Ke(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});Py.Threshold=void 0;var X8=Bt(),Cq=qn(),Eq=Vt(),Sq=function(n){let e=this.threshold()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=1)t[i]=t[i]<e?0:255};Py.Threshold=Sq;X8.Factory.addGetterSetter(Cq.Node,"threshold",.5,(0,Eq.getNumberValidator)(),X8.Factory.afterSetFilter)});var eP=Ke(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});Ty.Konva=void 0;var J8=xA(),xq=MA(),Dq=OA(),Mq=kA(),Iq=LA(),Aq=FA(),Q8=UA(),Pq=mE(),Tq=Hv(),Nq=xE(),Oq=zA(),kq=WA(),Rq=KA(),Lq=XA(),Fq=NE(),jq=c8(),Bq=m8(),Uq=y8(),Vq=w8(),Hq=E8(),zq=x8(),qq=M8(),Gq=A8(),$q=P8(),Wq=T8(),Yq=N8(),Kq=O8(),Xq=F8(),Zq=B8(),Jq=V8(),Qq=z8(),eG=G8(),tG=$8(),nG=W8(),rG=Y8(),iG=K8(),oG=Z8();Ty.Konva=J8.Konva.Util._assign(J8.Konva,{Arc:xq.Arc,Arrow:Dq.Arrow,Circle:Mq.Circle,Ellipse:Iq.Ellipse,Image:Aq.Image,Label:Q8.Label,Tag:Q8.Tag,Line:Pq.Line,Path:Tq.Path,Rect:Nq.Rect,RegularPolygon:Oq.RegularPolygon,Ring:kq.Ring,Sprite:Rq.Sprite,Star:Lq.Star,Text:Fq.Text,TextPath:jq.TextPath,Transformer:Bq.Transformer,Wedge:Uq.Wedge,Filters:{Blur:Vq.Blur,Brighten:Hq.Brighten,Contrast:zq.Contrast,Emboss:qq.Emboss,Enhance:Gq.Enhance,Grayscale:$q.Grayscale,HSL:Wq.HSL,HSV:Yq.HSV,Invert:Kq.Invert,Kaleidoscope:Xq.Kaleidoscope,Mask:Zq.Mask,Noise:Jq.Noise,Pixelate:Qq.Pixelate,Posterize:eG.Posterize,RGB:tG.RGB,RGBA:nG.RGBA,Sepia:rG.Sepia,Solarize:iG.Solarize,Threshold:oG.Threshold}})});var rP=Ke((tP,nP)=>{"use strict";Object.defineProperty(tP,"__esModule",{value:!0});var sG=eP();nP.exports=sG.Konva});var f3=Ke(h3=>{"use strict";Object.defineProperty(h3,"__esModule",{value:!0});var d3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};h3.default=d3});var g3=Ke(Wp=>{"use strict";var KP=Wp&&Wp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wp,"__esModule",{value:!0});var m$=KP((hS(),$N(WN))),v$=KP(f3()),p3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=m$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>ie(this,null,function*(){var s,a,l;let c=null,d=null,h=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let w=yield o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(d=[],c=null,m=200,p="OK")}catch{o.status===404&&_===""?(m=204,p="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,p="OK"),c&&this.shouldThrowOnError)throw new v$.default(c)}return{error:c,data:d,count:h,status:m,statusText:p}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};Wp.default=p3});var v3=Ke(Yp=>{"use strict";var y$=Yp&&Yp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yp,"__esModule",{value:!0});var b$=y$(g3()),m3=class extends b$.default{select(e){let t=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yp.default=m3});var Xy=Ke(Kp=>{"use strict";var _$=Kp&&Kp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kp,"__esModule",{value:!0});var w$=_$(v3()),y3=class extends w$.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Kp.default=y3});var _3=Ke(Zp=>{"use strict";var C$=Zp&&Zp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zp,"__esModule",{value:!0});var Xp=C$(Xy()),b3=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Xp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Xp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){let c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Xp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Xp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Xp.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zp.default=b3});var XP=Ke(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});Zy.version=void 0;Zy.version="0.0.0-automated"});var ZP=Ke(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.DEFAULT_HEADERS=void 0;var E$=XP();Jy.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${E$.version}`}});var QP=Ke(Jp=>{"use strict";var JP=Jp&&Jp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jp,"__esModule",{value:!0});var S$=JP(_3()),x$=JP(Xy()),D$=ZP(),w3=class n{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},D$.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new S$.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${e}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new x$.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Jp.default=w3});var sT=Ke(Fr=>{"use strict";var sh=Fr&&Fr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.PostgrestError=Fr.PostgrestBuilder=Fr.PostgrestTransformBuilder=Fr.PostgrestFilterBuilder=Fr.PostgrestQueryBuilder=Fr.PostgrestClient=void 0;var eT=sh(QP());Fr.PostgrestClient=eT.default;var tT=sh(_3());Fr.PostgrestQueryBuilder=tT.default;var nT=sh(Xy());Fr.PostgrestFilterBuilder=nT.default;var rT=sh(v3());Fr.PostgrestTransformBuilder=rT.default;var iT=sh(g3());Fr.PostgrestBuilder=iT.default;var oT=sh(f3());Fr.PostgrestError=oT.default;Fr.default={PostgrestClient:eT.default,PostgrestQueryBuilder:tT.default,PostgrestFilterBuilder:nT.default,PostgrestTransformBuilder:rT.default,PostgrestBuilder:iT.default,PostgrestError:oT.default}});var wb;function rm(){return wb}function ls(n){let e=wb;return wb=n,e}var fS=Symbol("NotFound");function Pu(n){return n===fS||n?.name==="\u0275NotFound"}function lm(n,e){return Object.is(n,e)}var gr=null,im=!1,Cb=1,YN=null,Vr=Symbol("SIGNAL");function Nt(n){let e=gr;return gr=n,e}function cm(){return gr}var Xl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Tu(n){if(im)throw new Error("");if(gr===null)return;gr.consumerOnSignalRead(n);let e=gr.nextProducerIndex++;if(fm(gr),e<gr.producerNode.length&&gr.producerNode[e]!==n&&Yh(gr)){let t=gr.producerNode[e];hm(t,gr.producerIndexOfThis[e])}gr.producerNode[e]!==n&&(gr.producerNode[e]=n,gr.producerIndexOfThis[e]=Yh(gr)?gS(n,gr,e):0),gr.producerLastReadVersion[e]=n.version}function pS(){Cb++}function um(n){if(!(Yh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Cb)){if(!n.producerMustRecompute(n)&&!Kh(n)){am(n);return}n.producerRecomputeValue(n),am(n)}}function Eb(n){if(n.liveConsumerNode===void 0)return;let e=im;im=!0;try{for(let t of n.liveConsumerNode)t.dirty||KN(t)}finally{im=e}}function Sb(){return gr?.consumerAllowSignalWrites!==!1}function KN(n){n.dirty=!0,Eb(n),n.consumerMarkedDirty?.(n)}function am(n){n.dirty=!1,n.lastCleanEpoch=Cb}function Zl(n){return n&&(n.nextProducerIndex=0),Nt(n)}function Nu(n,e){if(Nt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Yh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)hm(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Kh(n){fm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(um(t),r!==t.version))return!0}return!1}function dm(n){if(fm(n),Yh(n))for(let e=0;e<n.producerNode.length;e++)hm(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function gS(n,e,t){if(mS(n),n.liveConsumerNode.length===0&&vS(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=gS(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function hm(n,e){if(mS(n),n.liveConsumerNode.length===1&&vS(n))for(let r=0;r<n.producerNode.length;r++)hm(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];fm(i),i.producerIndexOfThis[r]=e}}function Yh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function mS(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function vS(n){return n.producerNode!==void 0}function pm(n){YN?.(n)}function gm(n,e){let t=Object.create(XN);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(um(t),Tu(t),t.value===Wh)throw t.error;return t.value};return r[Vr]=t,pm(t),r}var om=Symbol("UNSET"),sm=Symbol("COMPUTING"),Wh=Symbol("ERRORED"),XN=vt(De({},Xl),{value:om,dirty:!0,error:null,equal:lm,kind:"computed",producerMustRecompute(n){return n.value===om||n.value===sm},producerRecomputeValue(n){if(n.value===sm)throw new Error("");let e=n.value;n.value=sm;let t=Zl(n),r,i=!1;try{r=n.computation(),Nt(null),i=e!==om&&e!==Wh&&r!==Wh&&n.equal(e,r)}catch(o){r=Wh,n.error=o}finally{Nu(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function ZN(){throw new Error}var yS=ZN;function bS(n){yS(n)}function xb(n){yS=n}var JN=null;function Db(n,e){let t=Object.create(mm);t.value=n,e!==void 0&&(t.equal=e);let r=()=>_S(t);return r[Vr]=t,pm(t),[r,s=>Ou(t,s),s=>Mb(t,s)]}function _S(n){return Tu(n),n.value}function Ou(n,e){Sb()||bS(n),n.equal(n.value,e)||(n.value=e,QN(n))}function Mb(n,e){Sb()||bS(n),Ou(n,e(n.value))}var mm=vt(De({},Xl),{equal:lm,value:void 0,kind:"signal"});function QN(n){n.version++,pS(),Eb(n),JN?.(n)}function It(n){return typeof n=="function"}function ku(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vm=ku(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Jl(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Bn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(It(r))try{r()}catch(o){e=o instanceof vm?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wS(o)}catch(s){e=e??[],s instanceof vm?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vm(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Jl(t,e)}remove(e){let{_finalizers:t}=this;t&&Jl(t,e),e instanceof n&&e._removeParent(this)}};Bn.EMPTY=(()=>{let n=new Bn;return n.closed=!0,n})();var Ib=Bn.EMPTY;function ym(n){return n instanceof Bn||n&&"closed"in n&&It(n.remove)&&It(n.add)&&It(n.unsubscribe)}function wS(n){It(n)?n():n.unsubscribe()}var xo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ru={setTimeout(n,e,...t){let{delegate:r}=Ru;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ru;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function bm(n){Ru.setTimeout(()=>{let{onUnhandledError:e}=xo;if(e)e(n);else throw n})}function Xh(){}var CS=Ab("C",void 0,void 0);function ES(n){return Ab("E",void 0,n)}function SS(n){return Ab("N",n,void 0)}function Ab(n,e,t){return{kind:n,value:e,error:t}}var Ql=null;function Lu(n){if(xo.useDeprecatedSynchronousErrorHandling){let e=!Ql;if(e&&(Ql={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ql;if(Ql=null,t)throw r}}else n()}function xS(n){xo.useDeprecatedSynchronousErrorHandling&&Ql&&(Ql.errorThrown=!0,Ql.error=n)}var ec=class extends Bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ym(e)&&e.add(this)):this.destination=nO}static create(e,t,r){return new Fu(e,t,r)}next(e){this.isStopped?Tb(SS(e),this):this._next(e)}error(e){this.isStopped?Tb(ES(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tb(CS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eO=Function.prototype.bind;function Pb(n,e){return eO.call(n,e)}var Nb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){_m(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){_m(r)}else _m(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_m(t)}}},Fu=class extends ec{constructor(e,t,r){super();let i;if(It(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&xo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pb(e.next,o),error:e.error&&Pb(e.error,o),complete:e.complete&&Pb(e.complete,o)}):i=e}this.destination=new Nb(i)}};function _m(n){xo.useDeprecatedSynchronousErrorHandling?xS(n):bm(n)}function tO(n){throw n}function Tb(n,e){let{onStoppedNotification:t}=xo;t&&Ru.setTimeout(()=>t(n,e))}var nO={closed:!0,next:Xh,error:tO,complete:Xh};var ju=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mi(n){return n}function Ob(...n){return kb(n)}function kb(n){return n.length===0?Mi:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Rt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=iO(t)?t:new Fu(t,r,i);return Lu(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=DS(r),new r((i,o)=>{let s=new Fu({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ju](){return this}pipe(...t){return kb(t)(this)}toPromise(t){return t=DS(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function DS(n){var e;return(e=n??xo.Promise)!==null&&e!==void 0?e:Promise}function rO(n){return n&&It(n.next)&&It(n.error)&&It(n.complete)}function iO(n){return n&&n instanceof ec||rO(n)&&ym(n)}function Rb(n){return It(n?.lift)}function Yt(n){return e=>{if(Rb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qt(n,e,t,r,i){return new Lb(n,e,t,r,i)}var Lb=class extends ec{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bu(){return Yt((n,e)=>{let t=null;n._refCount++;let r=qt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Uu=class extends Rt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Rb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bn;let t=this.getSubject();e.add(this.source.subscribe(qt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bn.EMPTY)}return e}refCount(){return Bu()(this)}};var MS=ku(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Kn=(()=>{class n extends Rt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new wm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new MS}next(t){Lu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Lu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Lu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ib:(this.currentObservers=null,o.push(t),new Bn(()=>{this.currentObservers=null,Jl(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Rt;return t.source=this,t}}return n.create=(e,t)=>new wm(e,t),n})(),wm=class extends Kn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ib}};var En=class extends Kn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fb={now(){return(Fb.delegate||Date).now()},delegate:void 0};var Cm=class extends Bn{constructor(e,t){super()}schedule(e,t=0){return this}};var Zh={setInterval(n,e,...t){let{delegate:r}=Zh;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Zh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Em=class extends Cm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Zh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Zh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Jl(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Vu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Vu.now=Fb.now;var Sm=class extends Vu{constructor(e,t=Vu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var jb=new Sm(Em),IS=jb;var fi=new Rt(n=>n.complete());function xm(n){return n&&It(n.schedule)}function AS(n){return n[n.length-1]}function Dm(n){return It(AS(n))?n.pop():void 0}function el(n){return xm(AS(n))?n.pop():void 0}function TS(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function PS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tc(n){return this instanceof tc?(this.v=n,this):new tc(n)}function NS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(y){return Promise.resolve(y).then(p,h)}}function a(p,y){r[p]&&(i[p]=function(_){return new Promise(function(C,w){o.push([p,_,C,w])>1||l(p,_)})},y&&(i[p]=y(i[p])))}function l(p,y){try{c(r[p](y))}catch(_){m(o[0][3],_)}}function c(p){p.value instanceof tc?Promise.resolve(p.value.v).then(d,h):m(o[0][2],p)}function d(p){l("next",p)}function h(p){l("throw",p)}function m(p,y){p(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function OS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof PS=="function"?PS(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Mm=n=>n&&typeof n.length=="number"&&typeof n!="function";function Im(n){return It(n?.then)}function Am(n){return It(n[ju])}function Pm(n){return Symbol.asyncIterator&&It(n?.[Symbol.asyncIterator])}function Tm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nm=oO();function Om(n){return It(n?.[Nm])}function km(n){return NS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield tc(t.read());if(i)return yield tc(void 0);yield yield tc(r)}}finally{t.releaseLock()}})}function Rm(n){return It(n?.getReader)}function sr(n){if(n instanceof Rt)return n;if(n!=null){if(Am(n))return sO(n);if(Mm(n))return aO(n);if(Im(n))return lO(n);if(Pm(n))return kS(n);if(Om(n))return cO(n);if(Rm(n))return uO(n)}throw Tm(n)}function sO(n){return new Rt(e=>{let t=n[ju]();if(It(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aO(n){return new Rt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function lO(n){return new Rt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,bm)})}function cO(n){return new Rt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function kS(n){return new Rt(e=>{dO(n,e).catch(t=>e.error(t))})}function uO(n){return kS(km(n))}function dO(n,e){var t,r,i,o;return TS(this,void 0,void 0,function*(){try{for(t=OS(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function pi(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Lm(n,e=0){return Yt((t,r)=>{t.subscribe(qt(r,i=>pi(r,n,()=>r.next(i),e),()=>pi(r,n,()=>r.complete(),e),i=>pi(r,n,()=>r.error(i),e)))})}function Fm(n,e=0){return Yt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function RS(n,e){return sr(n).pipe(Fm(e),Lm(e))}function LS(n,e){return sr(n).pipe(Fm(e),Lm(e))}function FS(n,e){return new Rt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function jS(n,e){return new Rt(t=>{let r;return pi(t,e,()=>{r=n[Nm](),pi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>It(r?.return)&&r.return()})}function jm(n,e){if(!n)throw new Error("Iterable cannot be null");return new Rt(t=>{pi(t,e,()=>{let r=n[Symbol.asyncIterator]();pi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function BS(n,e){return jm(km(n),e)}function US(n,e){if(n!=null){if(Am(n))return RS(n,e);if(Mm(n))return FS(n,e);if(Im(n))return LS(n,e);if(Pm(n))return jm(n,e);if(Om(n))return jS(n,e);if(Rm(n))return BS(n,e)}throw Tm(n)}function Pn(n,e){return e?US(n,e):sr(n)}function ht(...n){let e=el(n);return Pn(n,e)}function Hu(n,e){let t=It(n)?n:()=>n,r=i=>i.error(t());return new Rt(e?i=>e.schedule(r,0,i):r)}function Bb(n){return!!n&&(n instanceof Rt||It(n.lift)&&It(n.subscribe))}var ta=ku(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function VS(n){return n instanceof Date&&!isNaN(n)}function ft(n,e){return Yt((t,r)=>{let i=0;t.subscribe(qt(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:hO}=Array;function fO(n,e){return hO(e)?n(...e):n(e)}function Bm(n){return ft(e=>fO(n,e))}var{isArray:pO}=Array,{getPrototypeOf:gO,prototype:mO,keys:vO}=Object;function Um(n){if(n.length===1){let e=n[0];if(pO(e))return{args:e,keys:null};if(yO(e)){let t=vO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function yO(n){return n&&typeof n=="object"&&gO(n)===mO}function Vm(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Hm(...n){let e=el(n),t=Dm(n),{args:r,keys:i}=Um(n);if(r.length===0)return Pn([],e);let o=new Rt(bO(r,e,i?s=>Vm(i,s):Mi));return t?o.pipe(Bm(t)):o}function bO(n,e,t=Mi){return r=>{HS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)HS(e,()=>{let c=Pn(n[l],e),d=!1;c.subscribe(qt(r,h=>{o[l]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function HS(n,e,t){n?pi(t,n,e):e()}function zS(n,e,t,r,i,o,s,a){let l=[],c=0,d=0,h=!1,m=()=>{h&&!l.length&&!c&&e.complete()},p=_=>c<r?y(_):l.push(_),y=_=>{o&&e.next(_),c++;let C=!1;sr(t(_,d++)).subscribe(qt(e,w=>{i?.(w),o?p(w):e.next(w)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let w=l.shift();s?pi(e,s,()=>y(w)):y(w)}m()}catch(w){e.error(w)}}))};return n.subscribe(qt(e,p,()=>{h=!0,m()})),()=>{a?.()}}function ar(n,e,t=1/0){return It(e)?ar((r,i)=>ft((o,s)=>e(r,o,i,s))(sr(n(r,i))),t):(typeof e=="number"&&(t=e),Yt((r,i)=>zS(r,i,n,t)))}function zu(n=1/0){return ar(Mi,n)}function qS(){return zu(1)}function qu(...n){return qS()(Pn(n,el(n)))}function Jh(n){return new Rt(e=>{sr(n()).subscribe(e)})}function Ub(...n){let e=Dm(n),{args:t,keys:r}=Um(n),i=new Rt(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let h=!1;sr(t[d]).subscribe(qt(o,m=>{h||(h=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(r?Vm(r,a):a),o.complete())}))}});return e?i.pipe(Bm(e)):i}function GS(n=0,e,t=IS){let r=-1;return e!=null&&(xm(e)?t=e:r=e),new Rt(i=>{let o=VS(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Vb(n=0,e=jb){return n<0&&(n=0),GS(n,n,e)}function ei(n,e){return Yt((t,r)=>{let i=0;t.subscribe(qt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function na(n){return Yt((e,t)=>{let r=null,i=!1,o;r=e.subscribe(qt(t,void 0,void 0,s=>{o=sr(n(s,na(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function $S(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(qt(s,d=>{let h=c++;l=a?n(l,d,h):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ra(n,e){return It(e)?ar(n,e,1):ar(n,1)}function tl(n){return Yt((e,t)=>{let r=!1;e.subscribe(qt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ia(n){return n<=0?()=>fi:Yt((e,t)=>{let r=0;e.subscribe(qt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function zm(n=_O){return Yt((e,t)=>{let r=!1;e.subscribe(qt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _O(){return new ta}function nc(n){return Yt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function oa(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ei((i,o)=>n(i,o,r)):Mi,ia(1),t?tl(e):zm(()=>new ta))}function Gu(n){return n<=0?()=>fi:Yt((e,t)=>{let r=[];e.subscribe(qt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hb(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ei((i,o)=>n(i,o,r)):Mi,Gu(1),t?tl(e):zm(()=>new ta))}function zb(n,e){return Yt($S(n,e,arguments.length>=2,!0))}function qb(...n){let e=el(n);return Yt((t,r)=>{(e?qu(n,t,e):qu(n,t)).subscribe(r)})}function gi(n,e){return Yt((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(qt(r,l=>{i?.unsubscribe();let c=0,d=o++;sr(n(l,d)).subscribe(i=qt(r,h=>r.next(e?e(l,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function qm(n){return Yt((e,t)=>{sr(n).subscribe(qt(t,()=>t.complete(),Xh)),!t.closed&&e.subscribe(t)})}function Cr(n,e,t){let r=It(n)||e||t?{next:n,error:e,complete:t}:n;return r?Yt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(qt(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Mi}function WS(n){let e=Nt(null);try{return n()}finally{Nt(e)}}var Km="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Fe=class extends Error{code;constructor(e,t){super(il(e,t)),this.code=e}};function wO(n){return`NG0${Math.abs(n)}`}function il(n,e){return`${wO(n)}${e?": "+e:""}`}var Mo=globalThis;function on(n){for(let e in n)if(n[e]===on)return e;throw Error("")}function XS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function aa(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(aa).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Xm(n,e){return n?e?`${n} ${e}`:n:e||""}var CO=on({__forward_ref__:on});function Gi(n){return n.__forward_ref__=Gi,n.toString=function(){return aa(this())},n}function Nr(n){return r_(n)?n():n}function r_(n){return typeof n=="function"&&n.hasOwnProperty(CO)&&n.__forward_ref__===Gi}function ZS(n,e){n==null&&i_(e,n,null,"!=")}function i_(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function Be(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Io(n){return{providers:n.providers||[],imports:n.imports||[]}}function rf(n){return EO(n,Zm)}function o_(n){return rf(n)!==null}function EO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function SO(n){let e=n?.[Zm]??null;return e||null}function $b(n){return n&&n.hasOwnProperty($m)?n[$m]:null}var Zm=on({\u0275prov:on}),$m=on({\u0275inj:on}),Xe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Be({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function s_(n){return n&&!!n.\u0275providers}var a_=on({\u0275cmp:on}),l_=on({\u0275dir:on}),c_=on({\u0275pipe:on}),u_=on({\u0275mod:on}),tf=on({\u0275fac:on}),ac=on({__NG_ELEMENT_ID__:on}),YS=on({__NG_ENV_ID__:on});function ol(n){return typeof n=="string"?n:n==null?"":String(n)}function Wm(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ol(n)}var d_=on({ngErrorCode:on}),JS=on({ngErrorMessage:on}),ef=on({ngTokenPath:on});function h_(n,e){return QS("",-200,e)}function Jm(n,e){throw new Fe(-201,!1)}function xO(n,e){n[ef]??=[];let t=n[ef],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(ZS(e.provide,"Token with multi: true should have a provide property"),r=Wm(e.provide)):r=Wm(e),t[0]!==r&&n[ef].unshift(r)}function DO(n,e){let t=n[ef],r=n[d_],i=n[JS]||n.message;return n.message=IO(i,r,t,e),n}function QS(n,e,t){let r=new Fe(e,n);return r[d_]=e,r[JS]=n,t&&(r[ef]=t),r}function MO(n){return n[d_]}function IO(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return il(e,`${n}${o}${i}`)}var Wb;function ex(){return Wb}function ti(n){let e=Wb;return Wb=n,e}function f_(n,e,t){let r=rf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Jm(n,"Injector")}var AO={},rc=AO,Yb="__NG_DI_FLAG__",Kb=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ic(t)||0;try{return this.injector.get(e,r&8?null:rc,r)}catch(i){if(Pu(i))return i;throw i}}};function PO(n,e=0){let t=rm();if(t===void 0)throw new Fe(-203,!1);if(t===null)return f_(n,void 0,e);{let r=TO(e),i=t.retrieve(n,r);if(Pu(i)){if(r.optional)return null;throw i}return i}}function Ye(n,e=0){return(ex()||PO)(Nr(n),e)}function Ee(n,e){return Ye(n,ic(e))}function ic(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function TO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Xb(n){let e=[];for(let t=0;t<n.length;t++){let r=Nr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Fe(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=NO(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ye(i,o))}else e.push(Ye(r))}return e}function p_(n,e){return n[Yb]=e,n.prototype[Yb]=e,n}function NO(n){return n[Yb]}function nl(n,e){let t=n.hasOwnProperty(tf);return t?n[tf]:null}function tx(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function nx(n){return n.flat(Number.POSITIVE_INFINITY)}function Qm(n,e){n.forEach(t=>Array.isArray(t)?Qm(t,e):e(t))}function g_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function of(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function rx(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function e0(n,e,t){let r=Wu(n,e);return r>=0?n[r|1]=t:(r=~r,rx(n,r,e,t)),r}function t0(n,e){let t=Wu(n,e);if(t>=0)return n[t|1]}function Wu(n,e){return OO(n,e,1)}function OO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var sl={},ni=[],ca=new Xe(""),m_=new Xe("",-1),v_=new Xe(""),nf=class{get(e,t=rc){if(t===rc){let i=QS("",-201);throw i.name="\u0275NotFound",i}return t}};function y_(n){return n[u_]||null}function al(n){return n[a_]||null}function b_(n){return n[l_]||null}function ix(n){return n[c_]||null}function ua(n){return{\u0275providers:n}}function ox(n){return ua([{provide:ca,multi:!0,useValue:n}])}function sx(...n){return{\u0275providers:__(!0,n),\u0275fromNgModule:!0}}function __(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Qm(e,s=>{let a=s;Ym(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ax(i,o),t}function ax(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];w_(i,o=>{e(o,r)})}}function Ym(n,e,t,r){if(n=Nr(n),!n)return!1;let i=null,o=$b(n),s=!o&&al(n);if(!o&&!s){let l=n.ngModule;if(o=$b(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ym(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Qm(o.imports,d=>{Ym(d,e,t,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&ax(c,e)}if(!a){let c=nl(i)||(()=>new i);e({provide:i,useFactory:c,deps:ni},i),e({provide:v_,useValue:i,multi:!0},i),e({provide:ca,useValue:()=>Ye(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;w_(l,d=>{e(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function w_(n,e){for(let t of n)s_(t)&&(t=t.\u0275providers),Array.isArray(t)?w_(t,e):e(t)}var kO=on({provide:String,useValue:on});function lx(n){return n!==null&&typeof n=="object"&&kO in n}function RO(n){return!!(n&&n.useExisting)}function LO(n){return!!(n&&n.useFactory)}function oc(n){return typeof n=="function"}function cx(n){return!!n.useClass}var sf=new Xe(""),Gm={},KS={},Gb;function af(){return Gb===void 0&&(Gb=new nf),Gb}var lr=class{},sc=class extends lr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Jb(e,s=>this.processProvider(s)),this.records.set(m_,$u(void 0,this)),i.has("environment")&&this.records.set(lr,$u(void 0,this));let o=this.records.get(sf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(v_,ni,{self:!0}))}retrieve(e,t){let r=ic(t)||0;try{return this.get(e,rc,r)}catch(i){if(Pu(i))return i;throw i}}destroy(){Qh(this),this._destroyed=!0;let e=Nt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Nt(e)}}onDestroy(e){return Qh(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Qh(this);let t=ls(this),r=ti(void 0),i;try{return e()}finally{ls(t),ti(r)}}get(e,t=rc,r){if(Qh(this),e.hasOwnProperty(YS))return e[YS](this);let i=ic(r),o,s=ls(this),a=ti(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let d=VO(e)&&rf(e);d&&this.injectableDefInScope(d)?c=$u(Zb(e),Gm):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?af():this.parent;return t=i&8&&t===rc?null:t,l.get(e,t)}catch(l){let c=MO(l);throw c===-200||c===-201?new Fe(c,null):l}finally{ti(a),ls(s)}}resolveInjectorInitializers(){let e=Nt(null),t=ls(this),r=ti(void 0),i;try{let o=this.get(ca,ni,{self:!0});for(let s of o)s()}finally{ls(t),ti(r),Nt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(aa(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Nr(e);let t=oc(e)?e:Nr(e&&e.provide),r=jO(e);if(!oc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=$u(void 0,Gm,!0),i.factory=()=>Xb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Nt(null);try{if(t.value===KS)throw h_(aa(e));return t.value===Gm&&(t.value=KS,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&UO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Nt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Nr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Zb(n){let e=rf(n),t=e!==null?e.factory:nl(n);if(t!==null)return t;if(n instanceof Xe)throw new Fe(204,!1);if(n instanceof Function)return FO(n);throw new Fe(204,!1)}function FO(n){if(n.length>0)throw new Fe(204,!1);let t=SO(n);return t!==null?()=>t.factory(n):()=>new n}function jO(n){if(lx(n))return $u(void 0,n.useValue);{let e=C_(n);return $u(e,Gm)}}function C_(n,e,t){let r;if(oc(n)){let i=Nr(n);return nl(i)||Zb(i)}else if(lx(n))r=()=>Nr(n.useValue);else if(LO(n))r=()=>n.useFactory(...Xb(n.deps||[]));else if(RO(n))r=(i,o)=>Ye(Nr(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Nr(n&&(n.useClass||n.provide));if(BO(n))r=()=>new i(...Xb(n.deps));else return nl(i)||Zb(i)}return r}function Qh(n){if(n.destroyed)throw new Fe(205,!1)}function $u(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BO(n){return!!n.deps}function UO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function VO(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Jb(n,e){for(let t of n)Array.isArray(t)?Jb(t,e):t&&s_(t)?Jb(t.\u0275providers,e):e(t)}function Or(n,e){let t;n instanceof sc?(Qh(n),t=n):t=new Kb(n);let r,i=ls(t),o=ti(void 0);try{return e()}finally{ls(i),ti(o)}}function ux(){return ex()!==void 0||rm()!=null}var Ao=0,mt=1,bt=2,Er=3,$i=4,Wi=5,lf=6,Yu=7,Hr=8,lc=9,cs=10,Tn=11,Ku=12,E_=13,cc=14,Yi=15,ll=16,uc=17,us=18,cf=19,S_=20,sa=21,n0=22,uf=23,Ai=24,dc=25,kr=26,dx=1;var cl=7,df=8,hc=9,ri=10;function ds(n){return Array.isArray(n)&&typeof n[dx]=="object"}function Po(n){return Array.isArray(n)&&n[dx]===!0}function x_(n){return(n.flags&4)!==0}function ul(n){return n.componentOffset>-1}function hf(n){return(n.flags&1)===1}function hs(n){return!!n.template}function Xu(n){return(n[bt]&512)!==0}function fc(n){return(n[bt]&256)===256}var D_="svg",hx="math";function Ki(n){for(;Array.isArray(n);)n=n[Ao];return n}function M_(n,e){return Ki(e[n])}function To(n,e){return Ki(e[n.index])}function r0(n,e){return n.data[e]}function I_(n,e){return n[e]}function A_(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Xi(n,e){let t=e[n];return ds(t)?t:t[Ao]}function fx(n){return(n[bt]&4)===4}function i0(n){return(n[bt]&128)===128}function px(n){return Po(n[Er])}function pc(n,e){return e==null?null:n[e]}function P_(n){n[uc]=0}function T_(n){n[bt]&1024||(n[bt]|=1024,i0(n)&&Zu(n))}function gx(n,e){for(;n>0;)e=e[cc],n--;return e}function ff(n){return!!(n[bt]&9216||n[Ai]?.dirty)}function o0(n){n[cs].changeDetectionScheduler?.notify(8),n[bt]&64&&(n[bt]|=1024),ff(n)&&Zu(n)}function Zu(n){n[cs].changeDetectionScheduler?.notify(0);let e=rl(n);for(;e!==null&&!(e[bt]&8192||(e[bt]|=8192,!i0(e)));)e=rl(e)}function N_(n,e){if(fc(n))throw new Fe(911,!1);n[sa]===null&&(n[sa]=[]),n[sa].push(e)}function mx(n,e){if(n[sa]===null)return;let t=n[sa].indexOf(e);t!==-1&&n[sa].splice(t,1)}function rl(n){let e=n[Er];return Po(e)?e[Er]:e}function O_(n){return n[Yu]??=[]}function k_(n){return n.cleanup??=[]}function vx(n,e,t,r){let i=O_(e);i.push(t),n.firstCreatePass&&k_(n).push(r,i.length-1)}var Ot={lFrame:Nx(null),bindingsEnabled:!0,skipHydrationRootTNode:null},pf=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(pf||{}),HO=0,Qb=!1;function yx(){return Ot.lFrame.elementDepthCount}function bx(){Ot.lFrame.elementDepthCount++}function R_(){Ot.lFrame.elementDepthCount--}function L_(){return Ot.bindingsEnabled}function _x(){return Ot.skipHydrationRootTNode!==null}function F_(n){return Ot.skipHydrationRootTNode===n}function j_(){Ot.skipHydrationRootTNode=null}function Gt(){return Ot.lFrame.lView}function Sr(){return Ot.lFrame.tView}function ot(n){return Ot.lFrame.contextLView=n,n[Hr]}function st(n){return Ot.lFrame.contextLView=null,n}function xr(){let n=B_();for(;n!==null&&n.type===64;)n=n.parent;return n}function B_(){return Ot.lFrame.currentTNode}function wx(){let n=Ot.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ju(n,e){let t=Ot.lFrame;t.currentTNode=n,t.isParent=e}function U_(){return Ot.lFrame.isParent}function Cx(){Ot.lFrame.isParent=!1}function Ex(){return Ot.lFrame.contextLView}function V_(n){i_("Must never be called in production mode"),HO=n}function H_(){return Qb}function z_(n){let e=Qb;return Qb=n,e}function Sx(){let n=Ot.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function xx(){return Ot.lFrame.bindingIndex}function Dx(n){return Ot.lFrame.bindingIndex=n}function gf(){return Ot.lFrame.bindingIndex++}function s0(n){let e=Ot.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Mx(){return Ot.lFrame.inI18n}function Ix(n,e){let t=Ot.lFrame;t.bindingIndex=t.bindingRootIndex=n,a0(e)}function Ax(){return Ot.lFrame.currentDirectiveIndex}function a0(n){Ot.lFrame.currentDirectiveIndex=n}function Px(n){let e=Ot.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function q_(){return Ot.lFrame.currentQueryIndex}function l0(n){Ot.lFrame.currentQueryIndex=n}function zO(n){let e=n[mt];return e.type===2?e.declTNode:e.type===1?n[Wi]:null}function G_(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=zO(o),i===null||(o=o[cc],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ot.lFrame=Tx();return r.currentTNode=e,r.lView=n,!0}function c0(n){let e=Tx(),t=n[mt];Ot.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Tx(){let n=Ot.lFrame,e=n===null?null:n.child;return e===null?Nx(n):e}function Nx(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Ox(){let n=Ot.lFrame;return Ot.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var $_=Ox;function u0(){let n=Ox();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kx(n){return(Ot.lFrame.contextLView=gx(n,Ot.lFrame.contextLView))[Hr]}function da(){return Ot.lFrame.selectedIndex}function dl(n){Ot.lFrame.selectedIndex=n}function d0(){let n=Ot.lFrame;return r0(n.tView,n.selectedIndex)}function h0(){Ot.lFrame.currentNamespace=D_}function Rx(){return Ot.lFrame.currentNamespace}var Lx=!0;function f0(){return Lx}function p0(n){Lx=n}function e_(n,e=null,t=null,r){let i=W_(n,e,t,r);return i.resolveInjectorInitializers(),i}function W_(n,e=null,t=null,r,i=new Set){let o=[t||ni,sx(n)];return r=r||(typeof n=="object"?void 0:aa(n)),new sc(o,e||af(),r||null,i)}var Ii=class n{static THROW_IF_NOT_FOUND=rc;static NULL=new nf;static create(e,t){if(Array.isArray(e))return e_({name:""},t,e,"");{let r=e.name??"";return e_({name:r},e.parent,e.providers,r)}}static \u0275prov=Be({token:n,providedIn:"any",factory:()=>Ye(m_)});static __NG_ELEMENT_ID__=-1},Un=new Xe(""),Zi=(()=>{class n{static __NG_ELEMENT_ID__=qO;static __NG_ENV_ID__=t=>t}return n})(),t_=class extends Zi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return fc(this._lView)}onDestroy(e){let t=this._lView;return N_(t,e),()=>mx(t,e)}};function qO(){return new t_(Gt())}var Do=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ii=new Xe("",{providedIn:"root",factory:()=>{let n=Ee(lr),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Do),e.handleError(t))}}}),Fx={provide:ca,useValue:()=>void Ee(Do),multi:!0},GO=new Xe("",{providedIn:"root",factory:()=>{let n=Ee(Un).defaultView;if(!n)return;let e=Ee(ii),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),Ee(Zi).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Y_(){return ua([ox(()=>void Ee(GO))])}function K_(n){return typeof n=="function"&&n[Vr]!==void 0}function fs(n,e){let[t,r,i]=Db(n,e?.equal),o=t,s=o[Vr];return o.set=r,o.update=i,o.asReadonly=jx.bind(o),o}function jx(){let n=this[Vr];if(n.readonlyFn===void 0){let e=()=>this();e[Vr]=n,n.readonlyFn=e}return n.readonlyFn}function X_(n){return K_(n)&&typeof n.set=="function"}var la=class{},mf=new Xe("",{providedIn:"root",factory:()=>!1});var Z_=new Xe(""),J_=new Xe("");var g0=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=$O}return n})();function $O(){return new g0(Gt(),xr())}var ps=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new En(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Rt(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Be({token:n,providedIn:"root",factory:()=>new n})}return n})(),m0=(()=>{class n{internalPendingTasks=Ee(ps);scheduler=Ee(la);errorHandler=Ee(ii);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=Be({token:n,providedIn:"root",factory:()=>new n})}return n})();function vf(...n){}var Q_=(()=>{class n{static \u0275prov=Be({token:n,providedIn:"root",factory:()=>new n_})}return n})(),n_=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function od(n){return{toString:n}.toString()}var v0="__parameters__";function QO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function b4(n,e,t){return od(()=>{let r=QO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,d){let h=l.hasOwnProperty(v0)?l[v0]:Object.defineProperty(l,v0,{value:[]})[v0];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var _4=p_(b4("Optional"),8);var w4=p_(b4("SkipSelf"),4);function e7(n){return typeof n=="function"}var D0=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function C4(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var vs=(()=>{let n=()=>E4;return n.ngInherit=!0,n})();function E4(n){return n.type.prototype.ngOnChanges&&(n.setInput=n7),t7}function t7(){let n=x4(this),e=n?.current;if(e){let t=n.previous;if(t===sl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function n7(n,e,t,r,i){let o=this.declaredInputs[r],s=x4(n)||r7(n,{previous:sl,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new D0(c&&c.currentValue,t,l===sl),C4(n,e,i,t)}var S4="__ngSimpleChanges__";function x4(n){return n[S4]||null}function r7(n,e){return n[S4]=e}var Bx=[];var ln=function(n,e=null,t){for(let r=0;r<Bx.length;r++){let i=Bx[r];i(n,e,t)}};function i7(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=E4(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function D4(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function C0(n,e,t){M4(n,e,3,t)}function E0(n,e,t,r){(n[bt]&3)===t&&M4(n,e,t,r)}function e5(n,e){let t=n[bt];(t&3)===e&&(t&=16383,t+=1,n[bt]=t)}function M4(n,e,t,r){let i=r!==void 0?n[uc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[uc]+=65536),(a<o||o==-1)&&(o7(n,t,e,l),n[uc]=(n[uc]&4294901760)+l+2),l++}function Ux(n,e){ln(4,n,e);let t=Nt(null);try{e.call(n)}finally{Nt(t),ln(5,n,e)}}function o7(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[bt]>>14<n[uc]>>16&&(n[bt]&3)===e&&(n[bt]+=16384,Ux(a,o)):Ux(a,o)}var ed=-1,vc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function s7(n){return(n.flags&8)!==0}function a7(n){return(n.flags&16)!==0}function l7(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];c7(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function I4(n){return n===3||n===4||n===6}function c7(n){return n.charCodeAt(0)===64}function td(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Vx(n,t,i,null,e[++r]):Vx(n,t,i,null,null))}}return n}function Vx(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function A4(n){return n!==ed}function M0(n){return n&32767}function u7(n){return n>>16}function I0(n,e){let t=u7(n),r=e;for(;t>0;)r=r[cc],t--;return r}var d5=!0;function A0(n){let e=d5;return d5=n,e}var d7=256,P4=d7-1,T4=5,h7=0,gs={};function f7(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ac)&&(r=t[ac]),r==null&&(r=t[ac]=h7++);let i=r&P4,o=1<<i;e.data[n+(i>>T4)]|=o}function P0(n,e){let t=N4(n,e);if(t!==-1)return t;let r=e[mt];r.firstCreatePass&&(n.injectorIndex=e.length,t5(r.data,n),t5(e,null),t5(r.blueprint,null));let i=B5(n,e),o=n.injectorIndex;if(A4(i)){let s=M0(i),a=I0(i,e),l=a[mt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function t5(n,e){n.push(0,0,0,0,0,0,0,0,e)}function N4(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function B5(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=F4(i),r===null)return ed;if(t++,i=i[cc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ed}function h5(n,e,t){f7(n,e,t)}function p7(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(I4(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function O4(n,e,t){if(t&8||n!==void 0)return n;Jm(e,"NodeInjector")}function k4(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[lc],o=ti(void 0);try{return i?i.get(e,r,t&8):f_(e,r,t&8)}finally{ti(o)}}return O4(r,e,t)}function R4(n,e,t,r=0,i){if(n!==null){if(e[bt]&2048&&!(r&2)){let s=y7(n,e,t,r,gs);if(s!==gs)return s}let o=L4(n,e,t,r,gs);if(o!==gs)return o}return k4(e,t,r,i)}function L4(n,e,t,r,i){let o=m7(t);if(typeof o=="function"){if(!G_(e,n,r))return r&1?O4(i,t,r):k4(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Jm(t);else return s}finally{$_()}}else if(typeof o=="number"){let s=null,a=N4(n,e),l=ed,c=r&1?e[Yi][Wi]:null;for((a===-1||r&4)&&(l=a===-1?B5(n,e):e[a+8],l===ed||!zx(r,!1)?a=-1:(s=e[mt],a=M0(l),e=I0(l,e)));a!==-1;){let d=e[mt];if(Hx(o,a,d.data)){let h=g7(a,e,t,s,r,c);if(h!==gs)return h}l=e[a+8],l!==ed&&zx(r,e[mt].data[a+8]===c)&&Hx(o,a,e)?(s=d,a=M0(l),e=I0(l,e)):a=-1}}return i}function g7(n,e,t,r,i,o){let s=e[mt],a=s.data[n+8],l=r==null?ul(a)&&d5:r!=s&&(a.type&3)!==0,c=i&1&&o===a,d=S0(a,s,t,l,c);return d!==null?_f(e,s,d,a,i):gs}function S0(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,d=o>>20,h=r?a:a+d,m=i?a+d:c;for(let p=h;p<m;p++){let y=s[p];if(p<l&&t===y||p>=l&&y.type===t)return p}if(i){let p=s[l];if(p&&hs(p)&&p.type===t)return l}return null}function _f(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof vc){let a=o;if(a.resolving){let p=Wm(s[t]);throw h_(p)}let l=A0(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],d,h=a.injectImpl?ti(a.injectImpl):null,m=G_(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&i7(t,s[t],e)}finally{h!==null&&ti(h),A0(l),a.resolving=!1,$_()}}return o}function m7(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ac)?n[ac]:void 0;return typeof e=="number"?e>=0?e&P4:v7:e}function Hx(n,e,t){let r=1<<n;return!!(t[e+(n>>T4)]&r)}function zx(n,e){return!(n&2)&&!(n&1&&e)}var mc=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return R4(this._tNode,this._lView,e,ic(r),t)}};function v7(){return new mc(xr(),Gt())}function ko(n){return od(()=>{let e=n.prototype.constructor,t=e[tf]||f5(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[tf]||f5(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function f5(n){return r_(n)?()=>{let e=f5(Nr(n));return e&&e()}:nl(n)}function y7(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[bt]&2048&&!Xu(s);){let a=L4(o,s,t,r|2,gs);if(a!==gs)return a;let l=o.parent;if(!l){let c=s[S_];if(c){let d=c.get(t,gs,r);if(d!==gs)return d}l=F4(s),s=s[cc]}o=l}return i}function F4(n){let e=n[mt],t=e.type;return t===2?e.declTNode:t===1?n[Wi]:null}function Sf(n){return p7(xr(),n)}function b7(){return sd(xr(),Gt())}function sd(n,e){return new oi(To(n,e))}var oi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=b7}return n})();function _7(n){return n instanceof oi?n.nativeElement:n}function w7(){return this._results[Symbol.iterator]()}var T0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Kn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=nx(e);(this._changesDetected=!tx(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=w7};function j4(n){return(n.flags&128)===128}var U5=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(U5||{}),B4=new Map,C7=0;function E7(){return C7++}function S7(n){B4.set(n[cf],n)}function p5(n){B4.delete(n[cf])}var qx="__ngContext__";function nd(n,e){ds(e)?(n[qx]=e[cf],S7(e)):n[qx]=e}function U4(n){return H4(n[Ku])}function V4(n){return H4(n[$i])}function H4(n){for(;n!==null&&!Po(n);)n=n[$i];return n}var g5;function V5(n){g5=n}function H5(){if(g5!==void 0)return g5;if(typeof document<"u")return document;throw new Fe(210,!1)}var G0=new Xe("",{providedIn:"root",factory:()=>x7}),x7="ng",$0=new Xe(""),ad=new Xe("",{providedIn:"platform",factory:()=>"unknown"});var W0=new Xe("",{providedIn:"root",factory:()=>H5().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var D7="h",M7="b";var z4=!1,q4=new Xe("",{providedIn:"root",factory:()=>z4});var I7=(n,e,t,r)=>{};function A7(n,e,t,r){I7(n,e,t,r)}function z5(n){return(n.flags&32)===32}var P7=()=>null;function G4(n,e,t=!1){return P7(n,e,t)}function $4(n,e){let t=n.contentQueries;if(t!==null){let r=Nt(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];l0(o),a.contentQueries(2,e[s],s)}}}finally{Nt(r)}}}function m5(n,e,t){l0(0);let r=Nt(null);try{e(n,t)}finally{Nt(r)}}function W4(n,e,t){if(x_(e)){let r=Nt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Nt(r)}}}var ha=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ha||{}),y0;function T7(){if(y0===void 0&&(y0=null,Mo.trustedTypes))try{y0=Mo.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return y0}function Y0(n){return T7()?.createHTML(n)||n}var b0;function Y4(){if(b0===void 0&&(b0=null,Mo.trustedTypes))try{b0=Mo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return b0}function Gx(n){return Y4()?.createHTML(n)||n}function $x(n){return Y4()?.createScriptURL(n)||n}var N0=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Km})`}};function wc(n){return n instanceof N0?n.changingThisBreaksApplicationSecurity:n}function K0(n,e){let t=K4(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Km})`)}return t===e}function K4(n){return n instanceof N0&&n.getTypeName()||null}function N7(n){let e=new y5(n);return O7()?new v5(e):e}var v5=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Y0(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},y5=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Y0(e),t}};function O7(){try{return!!new window.DOMParser().parseFromString(Y0(""),"text/html")}catch{return!1}}var k7=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function q5(n){return n=String(n),n.match(k7)?n:"unsafe:"+n}function fa(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function xf(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var X4=fa("area,br,col,hr,img,wbr"),Z4=fa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J4=fa("rp,rt"),R7=xf(J4,Z4),L7=xf(Z4,fa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),F7=xf(J4,fa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wx=xf(X4,L7,F7,R7),Q4=fa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j7=fa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),B7=fa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),U7=xf(Q4,j7,B7),V7=fa("script,style,template"),b5=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=q7(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=z7(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Yx(e).toLowerCase();if(!Wx.hasOwnProperty(t))return this.sanitizedSomething=!0,!V7.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!U7.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Q4[a]&&(l=q5(l)),this.buf.push(" ",s,'="',Kx(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=Yx(e).toLowerCase();Wx.hasOwnProperty(t)&&!X4.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Kx(e))}};function H7(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function z7(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw eD(e);return e}function q7(n){let e=n.firstChild;if(e&&H7(n,e))throw eD(e);return e}function Yx(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function eD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var G7=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$7=/([^\#-~ |!])/g;function Kx(n){return n.replace(/&/g,"&amp;").replace(G7,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace($7,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var _0;function tD(n,e){let t=null;try{_0=_0||N7(n);let r=e?String(e):"";t=_0.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=_0.getInertBodyElement(r)}while(r!==o);let a=new b5().sanitizeChildren(Xx(t)||t);return Y0(a)}finally{if(t){let r=Xx(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Xx(n){return"content"in n&&W7(n)?n.content:null}function W7(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Df=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Df||{});function G5(n){let e=W5();return e?Gx(e.sanitize(Df.HTML,n)||""):K0(n,"HTML")?Gx(wc(n)):tD(H5(),ol(n))}function nD(n){let e=W5();return e?e.sanitize(Df.URL,n)||"":K0(n,"URL")?wc(n):q5(ol(n))}function rD(n){let e=W5();if(e)return $x(e.sanitize(Df.RESOURCE_URL,n)||"");if(K0(n,"ResourceURL"))return $x(wc(n));throw new Fe(904,!1)}function Y7(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?rD:nD}function $5(n,e,t){return Y7(e,t)(n)}function W5(){let n=Gt();return n&&n[cs].sanitizer}function Y5(n){return n.ownerDocument}function iD(n){return n instanceof Function?n():n}function K7(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var oD="ng-template";function X7(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&K7(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(K5(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function K5(n){return n.type===4&&n.value!==oD}function Z7(n,e,t){let r=n.type===4&&!t?oD:n.value;return e===r}function J7(n,e,t){let r=4,i=n.attrs,o=i!==null?tk(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!No(r)&&!No(l))return!1;if(s&&No(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Z7(n,l,t)||l===""&&e.length===1){if(No(r))return!1;s=!0}}else if(r&8){if(i===null||!X7(n,i,l,t)){if(No(r))return!1;s=!0}}else{let c=e[++a],d=Q7(l,i,K5(n),t);if(d===-1){if(No(r))return!1;s=!0;continue}if(c!==""){let h;if(d>o?h="":h=i[d+1].toLowerCase(),r&2&&c!==h){if(No(r))return!1;s=!0}}}}return No(r)||s}function No(n){return(n&1)===0}function Q7(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return nk(e,n)}function ek(n,e,t=!1){for(let r=0;r<e.length;r++)if(J7(n,e[r],t))return!0;return!1}function tk(n){for(let e=0;e<n.length;e++){let t=n[e];if(I4(t))return e}return n.length}function nk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Zx(n,e){return n?":not("+e.trim()+")":e}function rk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!No(s)&&(e+=Zx(o,i),i=""),r=s,o=o||!No(r);t++}return i!==""&&(e+=Zx(o,i)),e}function ik(n){return n.map(rk).join(",")}function ok(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!No(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Pi={};function sk(n,e){return n.createText(e)}function ak(n,e,t){n.setValue(e,t)}function sD(n,e,t){return n.createElement(e,t)}function O0(n,e,t,r,i){n.insertBefore(e,t,r,i)}function aD(n,e,t){n.appendChild(e,t)}function Jx(n,e,t,r,i){r!==null?O0(n,e,t,r,i):aD(n,e,t)}function lk(n,e,t){n.removeChild(null,e,t)}function ck(n,e,t){n.setAttribute(e,"style",t)}function uk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function lD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&l7(n,e,r),i!==null&&uk(n,e,i),o!==null&&ck(n,e,o)}function X5(n,e,t,r,i,o,s,a,l,c,d){let h=kr+r,m=h+i,p=dk(h,m),y=typeof c=="function"?c():c;return p[mt]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function dk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Pi);return t}function hk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=X5(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Z5(n,e,t,r,i,o,s,a,l,c,d){let h=e.blueprint.slice();return h[Ao]=i,h[bt]=r|4|128|8|64|1024,(c!==null||n&&n[bt]&2048)&&(h[bt]|=2048),P_(h),h[Er]=h[cc]=n,h[Hr]=t,h[cs]=s||n&&n[cs],h[Tn]=a||n&&n[Tn],h[lc]=l||n&&n[lc]||null,h[Wi]=o,h[cf]=E7(),h[lf]=d,h[S_]=c,h[Yi]=e.type==2?n[Yi]:h,h}function fk(n,e,t){let r=To(e,n),i=hk(t),o=n[cs].rendererFactory,s=J5(n,Z5(n,i,null,cD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function cD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function uD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function J5(n,e){return n[Ku]?n[E_][$i]=e:n[Ku]=e,n[E_]=e,e}function je(n=1){dD(Sr(),Gt(),da()+n,!1)}function dD(n,e,t,r){if(!r)if((e[bt]&3)===3){let o=n.preOrderCheckHooks;o!==null&&C0(e,o,t)}else{let o=n.preOrderHooks;o!==null&&E0(e,o,0,t)}dl(t)}var X0=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(X0||{});function _5(n,e,t,r){let i=Nt(null);try{let[o,s,a]=n.inputs[t],l=null;(s&X0.SignalBased)!==0&&(l=e[o][Vr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):C4(e,l,o,r)}finally{Nt(i)}}var ms=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ms||{}),pk;function Q5(n,e){return pk(n,e)}function Qu(n,e,t,r,i){if(r!=null){let o,s=!1;Po(r)?o=r:ds(r)&&(s=!0,r=r[Ao]);let a=Ki(r);n===0&&t!==null?i==null?aD(e,t,a):O0(e,t,a,i||null,!0):n===1&&t!==null?O0(e,t,a,i||null,!0):n===2?lk(e,a,s):n===3&&e.destroyNode(a),o!=null&&Dk(e,n,o,t,i)}}function gk(n,e){hD(n,e),e[Ao]=null,e[Wi]=null}function mk(n,e,t,r,i,o){r[Ao]=i,r[Wi]=e,Z0(n,r,t,1,i,o)}function hD(n,e){e[cs].changeDetectionScheduler?.notify(9),Z0(n,e,e[Tn],2,null,null)}function vk(n){let e=n[Ku];if(!e)return n5(n[mt],n);for(;e;){let t=null;if(ds(e))t=e[Ku];else{let r=e[ri];r&&(t=r)}if(!t){for(;e&&!e[$i]&&e!==n;)ds(e)&&n5(e[mt],e),e=e[Er];e===null&&(e=n),ds(e)&&n5(e[mt],e),t=e&&e[$i]}e=t}}function ew(n,e){let t=n[hc],r=t.indexOf(e);t.splice(r,1)}function fD(n,e){if(fc(e))return;let t=e[Tn];t.destroyNode&&Z0(n,e,t,3,null,null),vk(e)}function n5(n,e){if(fc(e))return;let t=Nt(null);try{e[bt]&=-129,e[bt]|=256,e[Ai]&&dm(e[Ai]),bk(n,e),yk(n,e),e[mt].type===1&&e[Tn].destroy();let r=e[ll];if(r!==null&&Po(e[Er])){r!==e[Er]&&ew(r,e);let i=e[us];i!==null&&i.detachView(n)}p5(e)}finally{Nt(t)}}function yk(n,e){let t=n.cleanup,r=e[Yu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Yu]=null);let i=e[sa];if(i!==null){e[sa]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[uf];if(o!==null){e[uf]=null;for(let s of o)s.destroy()}}function bk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof vc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ln(4,a,l);try{l.call(a)}finally{ln(5,a,l)}}else{ln(4,i,o);try{o.call(i)}finally{ln(5,i,o)}}}}}function _k(n,e,t){return wk(n,e.parent,t)}function wk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ao];if(ul(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ha.None||i===ha.Emulated)return null}return To(r,t)}function Ck(n,e,t){return Sk(n,e,t)}function Ek(n,e,t){return n.type&40?To(n,t):null}var Sk=Ek,Qx;function tw(n,e,t,r){let i=_k(n,r,e),o=e[Tn],s=r.parent||e[Wi],a=Ck(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Jx(o,i,t[l],a,!1);else Jx(o,i,t,a,!1);Qx!==void 0&&Qx(o,r,e,t,i)}function yf(n,e){if(e!==null){let t=e.type;if(t&3)return To(e,n);if(t&4)return w5(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return yf(n,r);{let i=n[e.index];return Po(i)?w5(-1,i):Ki(i)}}else{if(t&128)return yf(n,e.next);if(t&32)return Q5(e,n)()||Ki(n[e.index]);{let r=pD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rl(n[Yi]);return yf(i,r)}else return yf(n,e.next)}}}return null}function pD(n,e){if(e!==null){let r=n[Yi][Wi],i=e.projection;return r.projection[i]}return null}function w5(n,e){let t=ri+n+1;if(t<e.length){let r=e[t],i=r[mt].firstChild;if(i!==null)return yf(r,i)}return e[cl]}function nw(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&nd(Ki(a),r),t.flags|=2),!z5(t))if(l&8)nw(n,e,t.child,r,i,o,!1),Qu(e,n,i,a,o);else if(l&32){let c=Q5(t,r),d;for(;d=c();)Qu(e,n,i,d,o);Qu(e,n,i,a,o)}else l&16?xk(n,e,r,t,i,o):Qu(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Z0(n,e,t,r,i,o){nw(t,r,n.firstChild,e,i,o,!1)}function xk(n,e,t,r,i,o){let s=t[Yi],l=s[Wi].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Qu(e,n,i,d,o)}else{let c=l,d=s[Er];j4(r)&&(c.flags|=128),nw(n,e,c,d,i,o,!0)}}function Dk(n,e,t,r,i){let o=t[cl],s=Ki(t);o!==s&&Qu(e,n,r,o,i);for(let a=ri;a<t.length;a++){let l=t[a];Z0(l[mt],l,n,e,r,o)}}function Mk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ms.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ms.Important),n.setStyle(t,r,i,o))}}function gD(n,e,t,r,i){let o=da(),s=r&2;try{dl(-1),s&&e.length>kr&&dD(n,e,kr,!1),ln(s?2:0,i,t),t(r,i)}finally{dl(o),ln(s?3:1,i,t)}}function rw(n,e,t){kk(n,e,t),(t.flags&64)===64&&Rk(n,e,t)}function iw(n,e,t=To){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Ik(n,e,t,r){let o=r.get(q4,z4)||t===ha.ShadowDom,s=n.selectRootElement(e,o);return Ak(s),s}function Ak(n){Pk(n)}var Pk=()=>null;function Tk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function mD(n,e,t,r,i,o){let s=e[mt];if(ow(n,s,e,t,r)){ul(n)&&Ok(e,n.index);return}n.type&3&&(t=Tk(t)),Nk(n,e,t,r,i,o)}function Nk(n,e,t,r,i,o){if(n.type&3){let s=To(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Ok(n,e){let t=Xi(e,n);t[bt]&16||(t[bt]|=64)}function kk(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ul(t)&&fk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||P0(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=_f(e,n,s,t);if(nd(l,e),o!==null&&Bk(e,s-r,l,a,t,o),hs(a)){let c=Xi(t.index,e);c[Hr]=_f(e,n,s,t)}}}function Rk(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Ax();try{dl(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];a0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Lk(l,c)}}finally{dl(-1),a0(s)}}function Lk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function vD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];ek(e,o.selectors,!1)&&(r??=[],hs(o)?r.unshift(o):r.push(o))}return r}function Fk(n,e,t,r,i,o){let s=To(n,e);jk(e[Tn],s,o,n.value,t,r,i)}function jk(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?ol(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Bk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];_5(r,t,l,c)}}function yD(n,e,t,r,i){let o=kr+t,s=e[mt],a=i(s,e,n,r,t);e[o]=a,Ju(n,!0);let l=n.type===2;return l?(lD(e[Tn],a,n),(yx()===0||hf(n))&&nd(a,e),bx()):nd(a,e),f0()&&(!l||!z5(n))&&tw(s,e,a,n),n}function bD(n){let e=n;return U_()?Cx():(e=e.parent,Ju(e,!1)),e}function Uk(n,e){let t=n[lc];if(!t)return;t.get(ii,null)?.(e)}function ow(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],h=e.data[c];_5(h,t[c],d,i),a=!0}if(o)for(let l of o){let c=t[l],d=e.data[l];_5(d,c,r,i),a=!0}return a}function Vk(n,e){let t=Xi(e,n),r=t[mt];Hk(r,t);let i=t[Ao];i!==null&&t[lf]===null&&(t[lf]=G4(i,t[lc])),ln(18),sw(r,t,t[Hr]),ln(19,t[Hr])}function Hk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function sw(n,e,t){c0(e);try{let r=n.viewQuery;r!==null&&m5(1,r,t);let i=n.template;i!==null&&gD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[us]?.finishViewCreation(n),n.staticContentQueries&&$4(n,e),n.staticViewQueries&&m5(2,n.viewQuery,t);let o=n.components;o!==null&&zk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[bt]&=-5,u0()}}function zk(n,e){for(let t=0;t<e.length;t++)Vk(n,e[t])}function qk(n,e,t,r){let i=Nt(null);try{let o=e.tView,a=n[bt]&4096?4096:16,l=Z5(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[ll]=c;let d=n[us];return d!==null&&(l[us]=d.createEmbeddedView(o)),sw(o,l,t),l}finally{Nt(i)}}function e4(n,e){return!e||e.firstChild===null||j4(n)}var t4=!1,Gk=new Xe("");function wf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ki(o)),Po(o)&&_D(o,r);let s=t.type;if(s&8)wf(n,e,t.child,r);else if(s&32){let a=Q5(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=pD(e,t);if(Array.isArray(a))r.push(...a);else{let l=rl(e[Yi]);wf(l[mt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function _D(n,e){for(let t=ri;t<n.length;t++){let r=n[t],i=r[mt].firstChild;i!==null&&wf(r[mt],r,i,e)}n[cl]!==n[Ao]&&e.push(n[cl])}function wD(n){if(n[dc]!==null){for(let e of n[dc])e.impl.addSequence(e);n[dc].length=0}}var CD=[];function $k(n){return n[Ai]??Wk(n)}function Wk(n){let e=CD.pop()??Object.create(Kk);return e.lView=n,e}function Yk(n){n.lView[Ai]!==n&&(n.lView=null,CD.push(n))}var Kk=vt(De({},Xl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Zu(n.lView)},consumerOnSignalRead(){this.lView[Ai]=this}});function Xk(n){let e=n[Ai]??Object.create(Zk);return e.lView=n,e}var Zk=vt(De({},Xl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=rl(n.lView);for(;e&&!ED(e[mt]);)e=rl(e);e&&T_(e)},consumerOnSignalRead(){this.lView[Ai]=this}});function ED(n){return n.type!==2}function SD(n){if(n[uf]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[uf])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[bt]&8192)}}var Jk=100;function aw(n,e=0){let r=n[cs].rendererFactory,i=!1;i||r.begin?.();try{Qk(n,e)}finally{i||r.end?.()}}function Qk(n,e){let t=H_();try{z_(!0),C5(n,e);let r=0;for(;ff(n);){if(r===Jk)throw new Fe(103,!1);r++,C5(n,1)}}finally{z_(t)}}function xD(n,e){V_(e?pf.Exhaustive:pf.OnlyDirtyViews);try{aw(n)}finally{V_(pf.Off)}}function eR(n,e,t,r){if(fc(e))return;let i=e[bt],o=!1,s=!1;c0(e);let a=!0,l=null,c=null;o||(ED(n)?(c=$k(e),l=Zl(c)):cm()===null?(a=!1,c=Xk(e),l=Zl(c)):e[Ai]&&(dm(e[Ai]),e[Ai]=null));try{P_(e),Dx(n.bindingStartIndex),t!==null&&gD(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let p=n.preOrderCheckHooks;p!==null&&C0(e,p,null)}else{let p=n.preOrderHooks;p!==null&&E0(e,p,0,null),e5(e,0)}if(s||tR(e),SD(e),DD(e,0),n.contentQueries!==null&&$4(n,e),!o)if(d){let p=n.contentCheckHooks;p!==null&&C0(e,p)}else{let p=n.contentHooks;p!==null&&E0(e,p,1),e5(e,1)}rR(n,e);let h=n.components;h!==null&&ID(e,h,0);let m=n.viewQuery;if(m!==null&&m5(2,m,r),!o)if(d){let p=n.viewCheckHooks;p!==null&&C0(e,p)}else{let p=n.viewHooks;p!==null&&E0(e,p,2),e5(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[n0]){for(let p of e[n0])p();e[n0]=null}o||(wD(e),e[bt]&=-73)}catch(d){throw o||Zu(e),d}finally{c!==null&&(Nu(c,l),a&&Yk(c)),u0()}}function DD(n,e){for(let t=U4(n);t!==null;t=V4(t))for(let r=ri;r<t.length;r++){let i=t[r];MD(i,e)}}function tR(n){for(let e=U4(n);e!==null;e=V4(e)){if(!(e[bt]&2))continue;let t=e[hc];for(let r=0;r<t.length;r++){let i=t[r];T_(i)}}}function nR(n,e,t){ln(18);let r=Xi(e,n);MD(r,t),ln(19,r[Hr])}function MD(n,e){i0(n)&&C5(n,e)}function C5(n,e){let r=n[mt],i=n[bt],o=n[Ai],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Kh(o)),s||=!1,o&&(o.dirty=!1),n[bt]&=-9217,s)eR(r,n,r.template,n[Hr]);else if(i&8192){let a=Nt(null);try{SD(n),DD(n,1);let l=r.components;l!==null&&ID(n,l,1),wD(n)}finally{Nt(a)}}}function ID(n,e,t){for(let r=0;r<e.length;r++)nR(n,e[r],t)}function rR(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)dl(~i);else{let o=i,s=t[++r],a=t[++r];Ix(s,o);let l=e[o];ln(24,l),a(2,l),ln(25,l)}}}finally{dl(-1)}}function lw(n,e){let t=H_()?64:1088;for(n[cs].changeDetectionScheduler?.notify(e);n;){n[bt]|=t;let r=rl(n);if(Xu(n)&&!r)return n;n=r}return null}function AD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function iR(n,e,t,r=!0){let i=e[mt];if(oR(i,e,n,t),r){let s=w5(t,n),a=e[Tn],l=a.parentNode(n[cl]);l!==null&&mk(i,n[Wi],a,e,l,s)}let o=e[lf];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function E5(n,e){if(n.length<=ri)return;let t=ri+e,r=n[t];if(r){let i=r[ll];i!==null&&i!==n&&ew(i,r),e>0&&(n[t-1][$i]=r[$i]);let o=of(n,ri+e);gk(r[mt],r);let s=o[us];s!==null&&s.detachView(o[mt]),r[Er]=null,r[$i]=null,r[bt]&=-129}return r}function oR(n,e,t,r){let i=ri+r,o=t.length;r>0&&(t[i-1][$i]=e),r<o-ri?(e[$i]=t[i],g_(t,ri+r,e)):(t.push(e),e[$i]=null),e[Er]=t;let s=e[ll];s!==null&&t!==s&&PD(s,e);let a=e[us];a!==null&&a.insertView(n),o0(e),e[bt]|=128}function PD(n,e){let t=n[hc],r=e[Er];if(ds(r))n[bt]|=2;else{let i=r[Er][Yi];e[Yi]!==i&&(n[bt]|=2)}t===null?n[hc]=[e]:t.push(e)}var hl=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[mt];return wf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Hr]}set context(e){this._lView[Hr]=e}get destroyed(){return fc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Er];if(Po(e)){let t=e[df],r=t?t.indexOf(this):-1;r>-1&&(E5(e,r),of(t,r))}this._attachedToViewContainer=!1}fD(this._lView[mt],this._lView)}onDestroy(e){N_(this._lView,e)}markForCheck(){lw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[bt]&=-129}reattach(){o0(this._lView),this._lView[bt]|=128}detectChanges(){this._lView[bt]|=1024,aw(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[lc].get(Gk,t4)}catch{this.exhaustive=t4}}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Xu(this._lView),t=this._lView[ll];t!==null&&!e&&ew(t,this._lView),hD(this._lView[mt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=e;let t=Xu(this._lView),r=this._lView[ll];r!==null&&!t&&PD(r,this._lView),o0(this._lView)}};var fl=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=sR;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=qk(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new hl(o)}}return n})();function sR(){return J0(xr(),Gt())}function J0(n,e){return n.type&4?new fl(e,n,sd(n,e)):null}function Q0(n,e,t,r,i){let o=n.data[e];if(o===null)o=aR(n,e,t,r,i),Mx()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=wx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ju(o,!0),o}function aR(n,e,t,r,i){let o=B_(),s=U_(),a=s?o:o&&o.parent,l=n.data[e]=cR(n,a,t,e,r,i);return lR(n,l,o,s),l}function lR(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function cR(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _x()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var gte=new RegExp(`^(\\d+)*(${M7}|${D7})*(.*)`);var uR=()=>null;function n4(n,e){return uR(n,e)}var TD=class{},e1=class{},S5=class{resolveComponentFactory(e){throw new Fe(917,!1)}},Mf=class{static NULL=new S5},yc=class{},Ro=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>dR()}return n})();function dR(){let n=Gt(),e=xr(),t=Xi(e.index,n);return(ds(t)?t:n)[Tn]}var ND=(()=>{class n{static \u0275prov=Be({token:n,providedIn:"root",factory:()=>null})}return n})();var x0={},x5=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,x0,r);return i!==x0||t===x0?i:this.parentInjector.get(e,t,r)}};function k0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Xm(i,a);else if(o==2){let l=a,c=e[++s];r=Xm(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function tt(n,e=0){let t=Gt();if(t===null)return Ye(n,e);let r=xr();return R4(r,t,Nr(n),e)}function cw(){let n="invalid";throw new Error(n)}function OD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}pR(n,e,t,a,o,l,c)}o!==null&&r!==null&&hR(t,r,o)}function hR(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Fe(-301,!1);r.push(e[i],o)}}function fR(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function pR(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let p=r[m];!l&&hs(p)&&(l=!0,fR(n,t,m)),h5(P0(t,e),n,p.type)}_R(t,n.data.length,a);for(let m=0;m<a;m++){let p=r[m];p.providersResolver&&p.providersResolver(p)}let c=!1,d=!1,h=uD(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let p=r[m];if(t.mergedAttrs=td(t.mergedAttrs,p.hostAttrs),mR(n,t,e,h,p),bR(h,p,i),s!==null&&s.has(p)){let[_,C]=s.get(p);t.directiveToIndex.set(p.type,[h,_+t.directiveStart,C+t.directiveStart])}else(o===null||!o.has(p))&&t.directiveToIndex.set(p.type,h);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let y=p.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),h++}gR(n,t,o)}function gR(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))r4(0,e,i,r),r4(1,e,i,r),o4(e,r,!1);else{let o=t.get(i);i4(0,e,o,r),i4(1,e,o,r),o4(e,r,!0)}}}function r4(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),kD(e,o)}}function i4(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),kD(e,s)}}function kD(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function o4(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||K5(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function mR(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=nl(i.type,!0)),s=new vc(o,hs(i),tt,null);n.blueprint[r]=s,t[r]=s,vR(n,e,r,uD(n,t,i.hostVars,Pi),i)}function vR(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;yR(s)!=a&&s.push(a),s.push(t,r,o)}}function yR(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function bR(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hs(e)&&(t[""]=n)}}function _R(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function RD(n,e,t,r,i,o,s,a){let l=e[mt],c=l.consts,d=pc(c,s),h=Q0(l,n,t,r,d);return o&&OD(l,e,h,pc(c,a),i),h.mergedAttrs=td(h.mergedAttrs,h.attrs),h.attrs!==null&&k0(h,h.attrs,!1),h.mergedAttrs!==null&&k0(h,h.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,h),h}function LD(n,e){D4(n,e),x_(e)&&n.queries.elementEnd(e)}function wR(n,e,t,r,i,o){let s=e.consts,a=pc(s,i),l=Q0(e,n,t,r,a);if(l.mergedAttrs=td(l.mergedAttrs,l.attrs),o!=null){let c=pc(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&k0(l,l.attrs,!1),l.mergedAttrs!==null&&k0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function uw(n){return jD(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function FD(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function jD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function CR(n,e,t){return n[e]=t}function pl(n,e,t){if(t===Pi)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function BD(n,e,t,r){let i=pl(n,e,t);return pl(n,e+1,r)||i}function r5(n,e,t){return function r(i){let o=ul(n)?Xi(n.index,e):e;lw(o,5);let s=e[Hr],a=s4(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=s4(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function s4(n,e,t,r){let i=Nt(null);try{return ln(6,e,t),t(r)!==!1}catch(o){return Uk(n,o),!1}finally{ln(7,e,t),Nt(i)}}function ER(n,e,t,r,i,o,s,a){let l=hf(n),c=!1,d=null;if(!r&&l&&(d=SR(e,t,o,n.index)),d!==null){let h=d.__ngLastListenerFn__||d;h.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let h=To(n,t),m=r?r(h):h;A7(t,m,o,a);let p=i.listen(m,o,a),y=r?_=>r(Ki(_[n.index])):n.index;UD(y,e,t,o,a,p,!1)}return c}function SR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Yu],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function UD(n,e,t,r,i,o,s){let a=e.firstCreatePass?k_(e):null,l=O_(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function a4(n,e,t,r,i,o){let s=e[t],a=e[mt],c=a.data[t].outputs[r],h=s[c].subscribe(o);UD(n.index,a,e,i,o,h,!0)}var D5=Symbol("BINDING");var R0=class extends Mf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=al(e);return new rd(t,this.ngModule)}};function xR(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&X0.SignalBased)!==0};return i&&(o.transform=i),o})}function DR(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function MR(n,e,t){let r=e instanceof lr?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new x5(t,r):t}function IR(n){let e=n.get(yc,null);if(e===null)throw new Fe(407,!1);let t=n.get(ND,null),r=n.get(la,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function AR(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return sD(e,t,t==="svg"?D_:t==="math"?hx:null)}var rd=class extends e1{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xR(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=DR(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=ik(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ln(22);let a=Nt(null);try{let l=this.componentDef,c=PR(r,l,s,o),d=MR(l,i||this.ngModule,e),h=IR(d),m=h.rendererFactory.createRenderer(null,l),p=r?Ik(m,r,l.encapsulation,d):AR(l,m),y=s?.some(l4)||o?.some(w=>typeof w!="function"&&w.bindings.some(l4)),_=Z5(null,c,null,512|cD(l),null,null,h,m,d,null,G4(p,d,!0));_[kr]=p,c0(_);let C=null;try{let w=RD(kr,_,2,"#host",()=>c.directiveRegistry,!0,0);p&&(lD(m,p,w),nd(p,_)),rw(c,_,w),W4(c,w,_),LD(c,w),t!==void 0&&NR(w,this.ngContentSelectors,t),C=Xi(w.index,_),_[Hr]=C[Hr],sw(c,_,null)}catch(w){throw C!==null&&p5(C),p5(_),w}finally{ln(23),u0()}return new L0(this.componentType,_,!!y)}finally{Nt(a)}}};function PR(n,e,t,r){let i=n?["ng-version","20.1.3"]:ok(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[D5].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let h=r[d];if(typeof h!="function")for(let m of h.bindings){a+=m[D5].requiredVars;let p=d+1;m.create&&(m.targetIdx=p,(o??=[]).push(m)),m.update&&(m.targetIdx=p,(s??=[]).push(m))}}let l=[e];if(r)for(let d of r){let h=typeof d=="function"?d:d.type,m=b_(h);l.push(m)}return X5(0,null,TR(o,s),1,a,l,null,null,null,[i],null)}function TR(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function l4(n){let e=n[D5].kind;return e==="input"||e==="twoWay"}var L0=class extends TD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=r0(t[mt],kr),this.location=sd(this._tNode,t),this.instance=Xi(this._tNode.index,t)[Hr],this.hostView=this.changeDetectorRef=new hl(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ow(r,i[mt],i,e,t);this.previousInputValues.set(e,t);let s=Xi(r.index,i);lw(s,1)}get injector(){return new mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function NR(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pa=(()=>{class n{static __NG_ELEMENT_ID__=OR}return n})();function OR(){let n=xr();return HD(n,Gt())}var kR=pa,VD=class extends kR{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return sd(this._hostTNode,this._hostLView)}get injector(){return new mc(this._hostTNode,this._hostLView)}get parentInjector(){let e=B5(this._hostTNode,this._hostLView);if(A4(e)){let t=I0(e,this._hostLView),r=M0(e),i=t[mt].data[r+8];return new mc(i,t)}else return new mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=c4(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ri}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=n4(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,e4(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!e7(e),c;if(l)c=t;else{let C=t||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let d=l?e:new rd(al(e)),h=r||this.parentInjector;if(!o&&d.ngModule==null){let w=(l?h:this.parentInjector).get(lr,null);w&&(o=w)}let m=al(d.componentType??{}),p=n4(this._lContainer,m?.id??null),y=p?.firstChild??null,_=d.create(h,i,y,o,s,a);return this.insertImpl(_.hostView,c,e4(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(px(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Er],c=new VD(l,l[Wi],l[Er]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return iR(s,i,o,r),e.attachToViewContainerRef(),g_(i5(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=c4(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=E5(this._lContainer,t);r&&(of(i5(this._lContainer),t),fD(r[mt],r))}detach(e){let t=this._adjustIndex(e,-1),r=E5(this._lContainer,t);return r&&of(i5(this._lContainer),t)!=null?new hl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function c4(n){return n[df]}function i5(n){return n[df]||(n[df]=[])}function HD(n,e){let t,r=e[n.index];return Po(r)?t=r:(t=AD(r,e,null,n),e[n.index]=t,J5(e,t)),LR(t,e,n,r),new VD(t,n,e)}function RR(n,e){let t=n[Tn],r=t.createComment(""),i=To(e,n),o=t.parentNode(i);return O0(t,o,r,t.nextSibling(i),!1),r}var LR=BR,FR=()=>!1;function jR(n,e,t){return FR(n,e,t)}function BR(n,e,t,r){if(n[cl])return;let i;t.type&8?i=Ki(r):i=RR(e,t),n[cl]=i}var M5=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},I5=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)dw(e,t).matches!==null&&this.queries[t].setDirty()}},F0=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=WR(e):this.predicate=e}},A5=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},P5=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,UR(t,o)),this.matchTNodeWithReadOption(e,t,S0(t,e,o,!1,!1))}else r===fl?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,S0(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===oi||i===pa||i===fl&&t.type&4)this.addMatch(t.index,-2);else{let o=S0(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function UR(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function VR(n,e){return n.type&11?sd(n,e):n.type&4?J0(n,e):null}function HR(n,e,t,r){return t===-1?VR(e,n):t===-2?zR(n,e,r):_f(n,n[mt],t,e)}function zR(n,e,t){if(t===oi)return sd(e,n);if(t===fl)return J0(e,n);if(t===pa)return HD(e,n)}function zD(n,e,t,r){let i=e[us].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(HR(e,d,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function T5(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=zD(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let h=ri;h<d.length;h++){let m=d[h];m[ll]===m[Er]&&T5(m[mt],m,c,r)}if(d[hc]!==null){let h=d[hc];for(let m=0;m<h.length;m++){let p=h[m];T5(p[mt],p,c,r)}}}}}return r}function qR(n,e){return n[us].queries[e].queryList}function qD(n,e,t){let r=new T0((t&4)===4);return vx(n,e,r,r.destroy),(e[us]??=new I5).queries.push(new M5(r))-1}function GR(n,e,t){let r=Sr();return r.firstCreatePass&&(GD(r,new F0(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),qD(r,Gt(),e)}function $R(n,e,t,r){let i=Sr();if(i.firstCreatePass){let o=xr();GD(i,new F0(e,t,r),o.index),YR(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return qD(i,Gt(),t)}function WR(n){return n.split(",").map(e=>e.trim())}function GD(n,e,t){n.queries===null&&(n.queries=new A5),n.queries.track(new P5(e,t))}function YR(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function dw(n,e){return n.queries.getByIndex(e)}function KR(n,e){let t=n[mt],r=dw(t,e);return r.crossesNgTemplate?T5(t,n,e,[]):zD(t,n,r,e)}var u4=new Set;function ld(n){u4.has(n)||(u4.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var bc=class{},t1=class{};var j0=class extends bc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new R0(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=y_(e);this._bootstrapComponents=iD(o.bootstrap),this._r3Injector=W_(e,t,[{provide:bc,useValue:this},{provide:Mf,useValue:this.componentFactoryResolver},...r],aa(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},B0=class extends t1{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new j0(this.moduleType,e,[])}};var Cf=class extends bc{injector;componentFactoryResolver=new R0(this);instance=null;constructor(e){super();let t=new sc([...e.providers,{provide:bc,useValue:this},{provide:Mf,useValue:this.componentFactoryResolver}],e.parent||af(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function If(n,e,t=null){return new Cf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var XR=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=__(!1,t.type),i=r.length>0?If([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Be({token:n,providedIn:"environment",factory:()=>new n(Ye(lr))})}return n})();function yn(n){return od(()=>{let e=$D(n),t=vt(De({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===U5.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(XR).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ha.Emulated,styles:n.styles||ni,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ld("NgStandalone"),WD(t);let r=n.dependencies;return t.directiveDefs=d4(r,ZR),t.pipeDefs=d4(r,ix),t.id=e9(t),t})}function ZR(n){return al(n)||b_(n)}function ys(n){return od(()=>({type:n.type,bootstrap:n.bootstrap||ni,declarations:n.declarations||ni,imports:n.imports||ni,exports:n.exports||ni,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function JR(n,e){if(n==null)return sl;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=X0.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function QR(n){if(n==null)return sl;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Nn(n){return od(()=>{let e=$D(n);return WD(e),e})}function n1(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function $D(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||sl,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ni,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:JR(n.inputs,e),outputs:QR(n.outputs),debugInfo:null}}function WD(n){n.features?.forEach(e=>e(n))}function d4(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function e9(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function t9(n){return Object.getPrototypeOf(n.prototype).constructor}function Ji(n){let e=t9(n.type),t=!0,r=[n];for(;e;){let i;if(hs(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Fe(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=o5(n.inputs),s.declaredInputs=o5(n.declaredInputs),s.outputs=o5(n.outputs);let a=i.hostBindings;a&&s9(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&i9(n,l),c&&o9(n,c),n9(n,i),XS(n.outputs,i.outputs),hs(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ji&&(t=!1)}}e=Object.getPrototypeOf(e)}r9(r)}function n9(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function r9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=td(i.hostAttrs,t=td(t,i.hostAttrs))}}function o5(n){return n===sl?{}:n===ni?[]:n}function i9(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function o9(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function s9(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function a9(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=td(n.mergedAttrs,n.attrs);let d=n.tView=X5(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Ju(n,!1);let l=c9(t,e,n,r);f0()&&tw(t,e,l,n),nd(l,e);let c=AD(l,e,l,n);e[r+kr]=c,J5(e,c),jR(c,n,e)}function l9(n,e,t,r,i,o,s,a,l,c,d){let h=t+kr,m;return e.firstCreatePass?(m=Q0(e,h,4,s||null,a||null),L_()&&OD(e,n,m,pc(e.consts,c),vD),D4(e,m)):m=e.data[h],a9(m,n,e,t,r,i,o,l),hf(m)&&rw(e,n,m),c!=null&&iw(n,m,d),m}function fn(n,e,t,r,i,o,s,a){let l=Gt(),c=Sr(),d=pc(c.consts,o);return l9(l,c,n,e,t,r,i,d,void 0,s,a),fn}var c9=u9;function u9(n,e,t,r){return p0(!0),e[Tn].createComment("")}var r1=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(r1||{}),Cc=new Xe(""),YD=!1,N5=class extends Kn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ux()&&(this.destroyRef=Ee(Zi,{optional:!0})??void 0,this.pendingTasks=Ee(ps,{optional:!0})??void 0)}emit(e){let t=Nt(null);try{super.next(e)}finally{Nt(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Bn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},cr=N5;function KD(n){let e,t;function r(){n=vf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function h4(n){return queueMicrotask(()=>n()),()=>{n=vf}}var hw="isAngularZone",U0=hw+"_ID",d9=0,Vn=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new cr(!1);onMicrotaskEmpty=new cr(!1);onStable=new cr(!1);onError=new cr(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=YD}=e;if(typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,p9(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Fe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,h9,vf,vf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},h9={};function fw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function f9(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){KD(()=>{n.callbackScheduled=!1,O5(n),n.isCheckStableRunning=!0,fw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),O5(n)}function p9(n){let e=()=>{f9(n)},t=d9++;n._inner=n._inner.fork({name:"angular",properties:{[hw]:!0,[U0]:t,[U0+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(g9(l))return r.invokeTask(o,s,a,l);try{return f4(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),p4(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return f4(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!m9(l)&&e(),p4(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,O5(n),fw(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function O5(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function f4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function p4(n){n._nesting--,fw(n)}var V0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new cr;onMicrotaskEmpty=new cr;onStable=new cr;onError=new cr;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function g9(n){return XD(n,"__ignore_ng_zone__")}function m9(n){return XD(n,"__scheduler_tick__")}function XD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Be({token:n,providedIn:"root",factory:()=>new n})}return n})(),ZD=[0,1,2,3],JD=(()=>{class n{ngZone=Ee(Vn);scheduler=Ee(la);errorHandler=Ee(Do,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ee(Cc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ln(16),this.executing=!0;for(let r of ZD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ln(17)}register(t){let{view:r}=t;r!==void 0?((r[dc]??=[]).push(t),Zu(r),r[bt]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(r1.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Be({token:n,providedIn:"root",factory:()=>new n})}return n})(),H0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[dc];e&&(this.view[dc]=e.filter(t=>t!==this))}};function i1(n,e){let t=e?.injector??Ee(Ii);return ld("NgAfterNextRender"),y9(n,t,e,!0)}function v9(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function y9(n,e,t,r){let i=e.get(pw);i.impl??=e.get(JD);let o=e.get(Cc,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Zi):null,a=e.get(g0,null,{optional:!0}),l=new H0(i.impl,v9(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var gw=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var mw=new Xe("");function gl(n){return!!n&&typeof n.then=="function"}function vw(n){return!!n&&typeof n.subscribe=="function"}var QD=new Xe("");var yw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Ee(QD,{optional:!0})??[];injector=Ee(Ii);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Or(this.injector,i);if(gl(o))t.push(o);else if(vw(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o1=new Xe("");function eM(){xb(()=>{let n="";throw new Fe(600,n)})}function tM(n){return n.isBoundToModule}var b9=10;var ga=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ee(ii);afterRenderManager=Ee(pw);zonelessEnabled=Ee(mf);rootEffectScheduler=Ee(Q_);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Kn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Ee(ps);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ft(t=>!t))}constructor(){Ee(Cc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Ee(lr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ii.NULL){return this._injector.get(Vn).run(()=>{ln(10);let s=t instanceof e1;if(!this._injector.get(yw).done){let y="";throw new Fe(405,y)}let l;s?l=t:l=this._injector.get(Mf).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=tM(l)?void 0:this._injector.get(bc),d=r||l.selector,h=l.create(i,[],d,c),m=h.location.nativeElement,p=h.injector.get(mw,null);return p?.registerApplication(m),h.onDestroy(()=>{this.detachView(h.hostView),bf(this.components,h),p?.unregisterApplication(m)}),this._loadComponent(h),ln(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ln(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(r1.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Fe(101,!1);let t=Nt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Nt(t),this.afterTick.next(),ln(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(yc,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<b9;)ln(14),this.synchronizeOnce(),ln(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ff(i))continue;let o=r&&!this.zonelessEnabled?0:1;aw(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ff(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;bf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(o1,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Fe(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ma(n,e,t,r){let i=Gt(),o=gf();if(pl(i,o,e)){let s=Sr(),a=d0();Fk(a,i,n,e,t,r)}return ma}function kt(n,e,t){let r=Gt(),i=gf();if(pl(r,i,e)){let o=Sr(),s=d0();mD(s,r,n,e,r[Tn],t)}return kt}function k5(n,e,t,r,i){ow(e,n,t,i?"class":"style",r)}function J(n,e,t,r){let i=Gt(),o=i[mt],s=n+kr,a=o.firstCreatePass?RD(s,i,2,e,vD,L_(),t,r):o.data[s];if(yD(a,i,n,e,nM),hf(a)){let l=i[mt];rw(l,i,a),W4(l,a,i)}return r!=null&&iw(i,a),J}function ne(){let n=Sr(),e=xr(),t=bD(e);return n.firstCreatePass&&LD(n,t),F_(t)&&j_(),R_(),t.classesWithoutHost!=null&&s7(t)&&k5(n,t,Gt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&a7(t)&&k5(n,t,Gt(),t.stylesWithoutHost,!1),ne}function ke(n,e,t,r){return J(n,e,t,r),ne(),ke}function be(n,e,t,r){let i=Gt(),o=i[mt],s=n+kr,a=o.firstCreatePass?wR(s,o,2,e,t,r):o.data[s];return yD(a,i,n,e,nM),r!=null&&iw(i,a),be}function we(){let n=xr(),e=bD(n);return F_(e)&&j_(),R_(),we}function nt(n,e,t,r){return be(n,e,t,r),we(),nt}var nM=(n,e,t,r,i)=>(p0(!0),sD(e[Tn],r,Rx()));function Rr(){return Gt()}var gc=void 0;function _9(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var w9=["en",[["a","p"],["AM","PM"],gc],[["AM","PM"],gc,gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gc,"{1} 'at' {0}",gc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_9],s5={};function mi(n){let e=C9(n),t=g4(e);if(t)return t;let r=e.split("-")[0];if(t=g4(r),t)return t;if(r==="en")return w9;throw new Fe(701,!1)}function g4(n){return n in s5||(s5[n]=Mo.ng&&Mo.ng.common&&Mo.ng.common.locales&&Mo.ng.common.locales[n]),s5[n]}var Hn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Hn||{});function C9(n){return n.toLowerCase().replace(/_/g,"-")}var Af="en-US";var E9=Af;function rM(n){typeof n=="string"&&(E9=n.toLowerCase().replace(/_/g,"-"))}function Qe(n,e,t){let r=Gt(),i=Sr(),o=xr();return iM(i,r,r[Tn],o,n,e,t),Qe}function iM(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=r5(r,e,o),ER(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){let m=d[h],p=d[h+1];l??=r5(r,e,o),a4(r,e,m,p,i,l)}if(c&&c.length)for(let h of c)l??=r5(r,e,o),a4(r,e,h,i,i,l)}}function lt(n=1){return kx(n)}function bw(n,e,t,r){$R(n,e,t,r)}function _w(n,e,t){GR(n,e,t)}function Pf(n){let e=Gt(),t=Sr(),r=q_();l0(r+1);let i=dw(t,r);if(n.dirty&&fx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=KR(e,r);n.reset(o,_7),n.notifyOnChanges()}return!0}return!1}function Tf(){return qR(Gt(),q_())}function s1(n){let e=Ex();return I_(e,kr+n)}function w0(n,e){return n<<17|e<<2}function _c(n){return n>>17&32767}function S9(n){return(n&2)==2}function x9(n,e){return n&131071|e<<17}function R5(n){return n|2}function id(n){return(n&131068)>>2}function a5(n,e){return n&-131069|e<<2}function D9(n){return(n&1)===1}function L5(n){return n|1}function M9(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_c(s),l=id(s);n[r]=t;let c=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||Wu(h,d)>0)&&(c=!0)}else d=t;if(i)if(l!==0){let m=_c(n[a+1]);n[r+1]=w0(m,a),m!==0&&(n[m+1]=a5(n[m+1],r)),n[a+1]=x9(n[a+1],r)}else n[r+1]=w0(a,0),a!==0&&(n[a+1]=a5(n[a+1],r)),a=r;else n[r+1]=w0(l,0),a===0?a=r:n[l+1]=a5(n[l+1],r),l=r;c&&(n[r+1]=R5(n[r+1])),m4(n,d,r,!0),m4(n,d,r,!1),I9(e,d,n,r,o),s=w0(a,l),o?e.classBindings=s:e.styleBindings=s}function I9(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wu(o,e)>=0&&(t[r+1]=L5(t[r+1]))}function m4(n,e,t,r){let i=n[t+1],o=e===null,s=r?_c(i):id(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];A9(l,e)&&(a=!0,n[s+1]=r?L5(c):R5(c)),s=r?_c(c):id(c)}a&&(n[t+1]=r?R5(i):L5(i))}function A9(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wu(n,e)>=0:!1}var Oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P9(n){return n.substring(Oo.key,Oo.keyEnd)}function T9(n){return N9(n),oM(n,sM(n,0,Oo.textEnd))}function oM(n,e){let t=Oo.textEnd;return t===e?-1:(e=Oo.keyEnd=O9(n,Oo.key=e,t),sM(n,e,t))}function N9(n){Oo.key=0,Oo.keyEnd=0,Oo.value=0,Oo.valueEnd=0,Oo.textEnd=n.length}function sM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function O9(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function a1(n,e,t){return aM(n,e,t,!1),a1}function Ti(n,e){return aM(n,e,null,!0),Ti}function cd(n){R9(V9,k9,n,!0)}function k9(n,e){for(let t=T9(e);t>=0;t=oM(e,t))e0(n,P9(e),!0)}function aM(n,e,t,r){let i=Gt(),o=Sr(),s=s0(2);if(o.firstUpdatePass&&cM(o,n,s,r),e!==Pi&&pl(i,s,e)){let a=o.data[da()];uM(o,a,i,i[Tn],n,i[s+1]=z9(e,t),r,s)}}function R9(n,e,t,r){let i=Sr(),o=s0(2);i.firstUpdatePass&&cM(i,null,o,r);let s=Gt();if(t!==Pi&&pl(s,o,t)){let a=i.data[da()];if(dM(a,r)&&!lM(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Xm(l,t||"")),k5(i,a,s,t,r)}else H9(i,a,s,s[Tn],s[o+1],s[o+1]=U9(n,e,t),r,o)}}function lM(n,e){return e>=n.expandoStartIndex}function cM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[da()],s=lM(n,t);dM(o,r)&&e===null&&!s&&(e=!1),e=L9(i,o,e,r),M9(i,o,e,t,s,r)}}function L9(n,e,t,r){let i=Px(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=l5(null,n,e,t,r),t=Ef(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=l5(i,n,e,t,r),o===null){let l=F9(n,e,r);l!==void 0&&Array.isArray(l)&&(l=l5(null,n,e,l[1],r),l=Ef(l,e.attrs,r),j9(n,e,r,l))}else o=B9(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function F9(n,e,t){let r=t?e.classBindings:e.styleBindings;if(id(r)!==0)return n[_c(r)]}function j9(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[_c(i)]=r}function B9(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ef(r,s,t)}return Ef(r,e.attrs,t)}function l5(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ef(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ef(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),e0(n,s,t?!0:e[++o]))}return n===void 0?null:n}function U9(n,e,t){if(t==null||t==="")return ni;let r=[],i=wc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function V9(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&e0(n,r,t)}function H9(n,e,t,r,i,o,s,a){i===Pi&&(i=ni);let l=0,c=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;d!==null||h!==null;){let m=l<i.length?i[l+1]:void 0,p=c<o.length?o[c+1]:void 0,y=null,_;d===h?(l+=2,c+=2,m!==p&&(y=h,_=p)):h===null||d!==null&&d<h?(l+=2,y=d):(c+=2,y=h,_=p),y!==null&&uM(n,e,t,r,y,_,s,a),d=l<i.length?i[l]:null,h=c<o.length?o[c]:null}}function uM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=D9(c)?v4(l,e,t,i,id(c),s):void 0;if(!z0(d)){z0(o)||S9(c)&&(o=v4(l,null,t,i,a,s));let h=M_(da(),t);Mk(r,s,h,i,o)}}function v4(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),d=c?l[1]:l,h=d===null,m=t[i+1];m===Pi&&(m=h?ni:void 0);let p=h?t0(m,r):d===r?m:void 0;if(c&&!z0(p)&&(p=t0(l,r)),z0(p)&&(a=p,s))return a;let y=n[i+1];i=s?_c(y):id(y)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=t0(l,r))}return a}function z0(n){return n!==void 0}function z9(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=aa(wc(n)))),n}function dM(n,e){return(n.flags&(e?8:16))!==0}function V(n,e=""){let t=Gt(),r=Sr(),i=n+kr,o=r.firstCreatePass?Q0(r,i,1,e,null):r.data[i],s=q9(r,t,o,e,n);t[i]=s,f0()&&tw(r,t,s,o),Ju(o,!1)}var q9=(n,e,t,r,i)=>(p0(!0),sk(e[Tn],r));function G9(n,e,t,r=""){return pl(n,gf(),t)?e+ol(t)+r:Pi}function $9(n,e,t,r,i,o=""){let s=xx(),a=BD(n,s,t,i);return s0(2),a?e+ol(t)+r+ol(i)+o:Pi}function On(n){return Dr("",n),On}function Dr(n,e,t){let r=Gt(),i=G9(r,n,e,t);return i!==Pi&&hM(r,da(),i),Dr}function ml(n,e,t,r,i){let o=Gt(),s=$9(o,n,e,t,r,i);return s!==Pi&&hM(o,da(),s),ml}function hM(n,e,t){let r=M_(e,n);ak(n[Tn],r,t)}function bs(n,e,t){X_(e)&&(e=e());let r=Gt(),i=gf();if(pl(r,i,e)){let o=Sr(),s=d0();mD(s,r,n,e,r[Tn],t)}return bs}function va(n,e){let t=X_(n);return t&&n.set(e),t}function _s(n,e){let t=Gt(),r=Sr(),i=xr();return iM(r,t,t[Tn],i,n,e),_s}function W9(n,e,t){let r=Sr();if(r.firstCreatePass){let i=hs(n);F5(t,r.data,r.blueprint,i,!0),F5(e,r.data,r.blueprint,i,!1)}}function F5(n,e,t,r,i){if(n=Nr(n),Array.isArray(n))for(let o=0;o<n.length;o++)F5(n[o],e,t,r,i);else{let o=Sr(),s=Gt(),a=xr(),l=oc(n)?n:Nr(n.provide),c=C_(n),d=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(oc(n)||!n.multi){let p=new vc(c,i,tt,null),y=u5(l,e,i?d:d+m,h);y===-1?(h5(P0(a,s),o,l),c5(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[y]=p,s[y]=p)}else{let p=u5(l,e,d+m,h),y=u5(l,e,d,d+m),_=p>=0&&t[p],C=y>=0&&t[y];if(i&&!C||!i&&!_){h5(P0(a,s),o,l);let w=X9(i?K9:Y9,t.length,i,r,c,n);!i&&C&&(t[y].providerFactory=w),c5(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)}else{let w=fM(t[i?y:p],c,!i&&r);c5(o,n,p>-1?p:y,w)}!i&&r&&C&&t[y].componentProviders++}}}function c5(n,e,t,r){let i=oc(e),o=cx(e);if(i||o){let l=(o?Nr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function fM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function u5(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Y9(n,e,t,r,i){return j5(this.multi,[])}function K9(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=_f(r,r[mt],this.providerFactory.index,i);s=l.slice(0,a),j5(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],j5(o,s);return s}function j5(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function X9(n,e,t,r,i,o){let s=new vc(n,t,tt,null);return s.multi=[],s.index=e,s.componentProviders=0,fM(s,i,r&&!t),s}function ya(n,e=[]){return t=>{t.providersResolver=(r,i)=>W9(r,i?i(n):n,e)}}function Z9(n,e){let t=n[e];return t===Pi?void 0:t}function J9(n,e,t,r,i,o,s){let a=e+t;return BD(n,a,i,o)?CR(n,a+2,s?r.call(s,i,o):r(i,o)):Z9(n,a+2)}function ba(n,e){let t=Sr(),r,i=n+kr;t.firstCreatePass?(r=Q9(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=nl(r.type,!0)),s,a=ti(tt);try{let l=A0(!1),c=o();return A0(l),A_(t,Gt(),i,c),c}finally{ti(a)}}function Q9(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function _a(n,e,t,r){let i=n+kr,o=Gt(),s=I_(o,i);return eL(o,i)?J9(o,Sx(),e,s.transform,t,r,s):s.transform(t,r)}function eL(n,e){return n[mt].data[e].pure}function ww(n,e){return J0(n,e)}var q0=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Cw=(()=>{class n{compileModuleSync(t){return new B0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=y_(t),o=iD(i.declarations).reduce((s,a)=>{let l=al(a);return l&&s.push(new rd(l)),s},[]);return new q0(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tL=(()=>{class n{zone=Ee(Vn);changeDetectionScheduler=Ee(la);applicationRef=Ee(ga);applicationErrorHandler=Ee(ii);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pM=new Xe("",{factory:()=>!1});function Ew({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Vn(vt(De({},xw()),{scheduleInRootZone:t})),[{provide:Vn,useFactory:n},{provide:ca,multi:!0,useFactory:()=>{let r=Ee(tL,{optional:!0});return()=>r.initialize()}},{provide:ca,multi:!0,useFactory:()=>{let r=Ee(nL);return()=>{r.initialize()}}},e===!0?{provide:Z_,useValue:!0}:[],{provide:J_,useValue:t??YD},{provide:ii,useFactory:()=>{let r=Ee(Vn),i=Ee(lr),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Do),o.handleError(s))})}}}]}function Sw(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Ew({ngZoneFactory:()=>{let i=xw(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ld("NgZone_CoalesceEvent"),new Vn(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return ua([{provide:pM,useValue:!0},{provide:mf,useValue:!1},r])}function xw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var nL=(()=>{class n{subscription=new Bn;initialized=!1;zone=Ee(Vn);pendingTasks=Ee(ps);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Vn.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Vn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gM=(()=>{class n{applicationErrorHandler=Ee(ii);appRef=Ee(ga);taskService=Ee(ps);ngZone=Ee(Vn);zonelessEnabled=Ee(mf);tracing=Ee(Cc,{optional:!0});disableScheduling=Ee(Z_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Bn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(U0):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ee(J_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof V0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?h4:KD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(U0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,h4(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rL(){return typeof $localize<"u"&&$localize.locale||Af}var ud=new Xe("",{providedIn:"root",factory:()=>Ee(ud,{optional:!0,skipSelf:!0})||rL()});function Lo(n){return WS(n)}function Nf(n,e){return gm(n,e?.equal)}var mM=class{[Vr];constructor(e){this[Vr]=e}destroy(){this[Vr].destroy()}};var wM=Symbol("InputSignalNode#UNSET"),mL=vt(De({},mm),{transformFn:void 0,applyValueToInputSignal(n,e){Ou(n,e)}});function CM(n,e){let t=Object.create(mL);t.value=n,t.transformFn=e?.transform;function r(){if(Tu(t),t.value===wM){let i=null;throw new Fe(-950,i)}return t.value}return r[Vr]=t,r}var c1=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Sf(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},vL=new Xe("");vL.__NG_ELEMENT_ID__=n=>{let e=xr();if(e===null)throw new Fe(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Fe(204,!1)};function vM(n,e){return CM(n,e)}function yL(n){return CM(wM,n)}var EM=(vM.required=yL,vM);var Dw=new Xe(""),bL=new Xe("");function Of(n){return!n.moduleRef}function _L(n){let e=Of(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Vn);return t.run(()=>{Of(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ii),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Of(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Dw);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Dw);s.add(o),n.moduleRef.onDestroy(()=>{bf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return CL(r,t,()=>{let o=e.get(ps),s=o.add(),a=e.get(yw);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(ud,Af);if(rM(l||Af),!e.get(bL,!0))return Of(n)?e.get(ga):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Of(n)){let d=e.get(ga);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return wL?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var wL;function CL(n,e,t){try{let r=t();return gl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var l1=null;function EL(n=[],e){return Ii.create({name:e,providers:[{provide:sf,useValue:"platform"},{provide:Dw,useValue:new Set([()=>l1=null])},...n]})}function SL(n=[]){if(l1)return l1;let e=EL(n);return l1=e,eM(),xL(e),e}function xL(n){let e=n.get($0,null);Or(n,()=>{e?.forEach(t=>t())})}var Fo=(()=>{class n{static __NG_ELEMENT_ID__=DL}return n})();function DL(n){return ML(xr(),Gt(),(n&16)===16)}function ML(n,e,t){if(ul(n)&&!t){let r=Xi(n.index,e);return new hl(r,r)}else if(n.type&175){let r=e[Yi];return new hl(r,e)}return null}var Mw=class{constructor(){}supports(e){return uw(e)}create(e){return new Iw(e)}},IL=(n,e)=>e,Iw=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||IL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<yM(r,i,o)?t:r,a=yM(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,d=l-i;if(c!=d){for(let m=0;m<c;m++){let p=m<o.length?o[m]:o[m]=0,y=p+m;d<=y&&y<c&&(o[m]=p+1)}let h=s.previousIndex;o[h]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!uw(e))throw new Fe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,FD(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Aw(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new u1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new u1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Aw=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Pw=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},u1=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Pw,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yM(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function bM(){return new Tw([new Mw])}var Tw=(()=>{class n{factories;static \u0275prov=Be({token:n,providedIn:"root",factory:bM});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||bM()),deps:[[n,new w4,new _4]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Fe(901,!1)}}return n})();function SM(n){ln(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=SL(r),o=[Ew({}),{provide:la,useExisting:gM},Fx,...t||[]],s=new Cf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return _L({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ln(9)}}function Ec(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var MM=null;function eo(){return MM}function Nw(n){MM??=n}var kf=class{},Rf=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:()=>Ee(IM),providedIn:"platform"})}return n})();var IM=(()=>{class n extends Rf{_location;_history;_doc=Ee(Un);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eo().getBaseHref(this._doc)}onPopState(t){let r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function d1(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function xM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function jo(n){return n&&n[0]!=="?"?`?${n}`:n}var ws=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:()=>Ee(Ow),providedIn:"root"})}return n})(),h1=new Xe(""),Ow=(()=>{class n extends ws{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ee(Un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d1(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+jo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+jo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+jo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ye(Rf),Ye(h1,8))};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sc=(()=>{class n{_subject=new Kn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=TL(xM(DM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+jo(r))}normalize(t){return n.stripTrailingSlash(PL(this._basePath,DM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=jo;static joinWithSlash=d1;static stripTrailingSlash=xM;static \u0275fac=function(r){return new(r||n)(Ye(ws))};static \u0275prov=Be({token:n,factory:()=>AL(),providedIn:"root"})}return n})();function AL(){return new Sc(Ye(ws))}function PL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function DM(n){return n.replace(/\/index.html$/,"")}function TL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Bw=(()=>{class n extends ws{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=d1(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+jo(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+jo(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ye(Rf),Ye(h1,8))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();var Uw=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Uw||{});var zr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(zr||{}),pn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(pn||{}),vi=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(vi||{}),yi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function OM(n){return mi(n)[Hn.LocaleId]}function kM(n,e,t){let r=mi(n),i=[r[Hn.DayPeriodsFormat],r[Hn.DayPeriodsStandalone]],o=to(i,e);return to(o,t)}function RM(n,e,t){let r=mi(n),i=[r[Hn.DaysFormat],r[Hn.DaysStandalone]],o=to(i,e);return to(o,t)}function LM(n,e,t){let r=mi(n),i=[r[Hn.MonthsFormat],r[Hn.MonthsStandalone]],o=to(i,e);return to(o,t)}function FM(n,e){let r=mi(n)[Hn.Eras];return to(r,e)}function Lf(n,e){let t=mi(n);return to(t[Hn.DateFormat],e)}function Ff(n,e){let t=mi(n);return to(t[Hn.TimeFormat],e)}function jf(n,e){let r=mi(n)[Hn.DateTimeFormat];return to(r,e)}function Cs(n,e){let t=mi(n),r=t[Hn.NumberSymbols][e];if(typeof r>"u"){if(e===yi.CurrencyDecimal)return t[Hn.NumberSymbols][yi.Decimal];if(e===yi.CurrencyGroup)return t[Hn.NumberSymbols][yi.Group]}return r}function jM(n,e){return mi(n)[Hn.NumberFormats][e]}function BM(n){if(!n[Hn.ExtraData])throw new Fe(2303,!1)}function UM(n){let e=mi(n);return BM(e),(e[Hn.ExtraData][2]||[]).map(r=>typeof r=="string"?kw(r):[kw(r[0]),kw(r[1])])}function VM(n,e,t){let r=mi(n);BM(r);let i=[r[Hn.ExtraData][0],r[Hn.ExtraData][1]],o=to(i,e)||[];return to(o,t)||[]}function to(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Fe(2304,!1)}function kw(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var NL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,f1={},OL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function HM(n,e,t,r){let i=HL(n);e=wa(t,e)||e;let s=[],a;for(;e;)if(a=OL.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=qM(r,l),i=VL(i,r));let c="";return s.forEach(d=>{let h=BL(d);c+=h?h(i,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function y1(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function wa(n,e){let t=OM(n);if(f1[t]??={},f1[t][e])return f1[t][e];let r="";switch(e){case"shortDate":r=Lf(n,vi.Short);break;case"mediumDate":r=Lf(n,vi.Medium);break;case"longDate":r=Lf(n,vi.Long);break;case"fullDate":r=Lf(n,vi.Full);break;case"shortTime":r=Ff(n,vi.Short);break;case"mediumTime":r=Ff(n,vi.Medium);break;case"longTime":r=Ff(n,vi.Long);break;case"fullTime":r=Ff(n,vi.Full);break;case"short":let i=wa(n,"shortTime"),o=wa(n,"shortDate");r=p1(jf(n,vi.Short),[i,o]);break;case"medium":let s=wa(n,"mediumTime"),a=wa(n,"mediumDate");r=p1(jf(n,vi.Medium),[s,a]);break;case"long":let l=wa(n,"longTime"),c=wa(n,"longDate");r=p1(jf(n,vi.Long),[l,c]);break;case"full":let d=wa(n,"fullTime"),h=wa(n,"fullDate");r=p1(jf(n,vi.Full),[d,h]);break}return r&&(f1[t][e]=r),r}function p1(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Bo(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function kL(n,e){return Bo(n,3).substring(0,e)}function ur(n,e,t=0,r=!1,i=!1){return function(o,s){let a=RL(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return kL(a,e);let l=Cs(s,yi.MinusSign);return Bo(a,e,l,r,i)}}function RL(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Fe(2301,!1)}}function Sn(n,e,t=zr.Format,r=!1){return function(i,o){return LL(i,o,n,e,t,r)}}function LL(n,e,t,r,i,o){switch(t){case 2:return LM(e,i,r)[n.getMonth()];case 1:return RM(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=UM(e),d=VM(e,i,r),h=c.findIndex(m=>{if(Array.isArray(m)){let[p,y]=m,_=s>=p.hours&&a>=p.minutes,C=s<y.hours||s===y.hours&&a<y.minutes;if(p.hours<y.hours){if(_&&C)return!0}else if(_||C)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return kM(e,i,r)[s<12?0:1];case 3:return FM(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Fe(2302,!1)}}function g1(n){return function(e,t,r){let i=-1*r,o=Cs(t,yi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Bo(s,2,o)+Bo(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Bo(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Bo(s,2,o)+":"+Bo(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Bo(s,2,o)+":"+Bo(Math.abs(i%60),2,o);default:throw new Fe(2302,!1)}}}var FL=0,v1=4;function jL(n){let e=y1(n,FL,1).getDay();return y1(n,0,1+(e<=v1?v1:v1+7)-e)}function zM(n){let e=n.getDay(),t=e===0?-3:v1-e;return y1(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Rw(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=zM(t),s=jL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Bo(i,n,Cs(r,yi.MinusSign))}}function m1(n,e=!1){return function(t,r){let o=zM(t).getFullYear();return Bo(o,n,Cs(r,yi.MinusSign),e)}}var Lw={};function BL(n){if(Lw[n])return Lw[n];let e;switch(n){case"G":case"GG":case"GGG":e=Sn(3,pn.Abbreviated);break;case"GGGG":e=Sn(3,pn.Wide);break;case"GGGGG":e=Sn(3,pn.Narrow);break;case"y":e=ur(0,1,0,!1,!0);break;case"yy":e=ur(0,2,0,!0,!0);break;case"yyy":e=ur(0,3,0,!1,!0);break;case"yyyy":e=ur(0,4,0,!1,!0);break;case"Y":e=m1(1);break;case"YY":e=m1(2,!0);break;case"YYY":e=m1(3);break;case"YYYY":e=m1(4);break;case"M":case"L":e=ur(1,1,1);break;case"MM":case"LL":e=ur(1,2,1);break;case"MMM":e=Sn(2,pn.Abbreviated);break;case"MMMM":e=Sn(2,pn.Wide);break;case"MMMMM":e=Sn(2,pn.Narrow);break;case"LLL":e=Sn(2,pn.Abbreviated,zr.Standalone);break;case"LLLL":e=Sn(2,pn.Wide,zr.Standalone);break;case"LLLLL":e=Sn(2,pn.Narrow,zr.Standalone);break;case"w":e=Rw(1);break;case"ww":e=Rw(2);break;case"W":e=Rw(1,!0);break;case"d":e=ur(2,1);break;case"dd":e=ur(2,2);break;case"c":case"cc":e=ur(7,1);break;case"ccc":e=Sn(1,pn.Abbreviated,zr.Standalone);break;case"cccc":e=Sn(1,pn.Wide,zr.Standalone);break;case"ccccc":e=Sn(1,pn.Narrow,zr.Standalone);break;case"cccccc":e=Sn(1,pn.Short,zr.Standalone);break;case"E":case"EE":case"EEE":e=Sn(1,pn.Abbreviated);break;case"EEEE":e=Sn(1,pn.Wide);break;case"EEEEE":e=Sn(1,pn.Narrow);break;case"EEEEEE":e=Sn(1,pn.Short);break;case"a":case"aa":case"aaa":e=Sn(0,pn.Abbreviated);break;case"aaaa":e=Sn(0,pn.Wide);break;case"aaaaa":e=Sn(0,pn.Narrow);break;case"b":case"bb":case"bbb":e=Sn(0,pn.Abbreviated,zr.Standalone,!0);break;case"bbbb":e=Sn(0,pn.Wide,zr.Standalone,!0);break;case"bbbbb":e=Sn(0,pn.Narrow,zr.Standalone,!0);break;case"B":case"BB":case"BBB":e=Sn(0,pn.Abbreviated,zr.Format,!0);break;case"BBBB":e=Sn(0,pn.Wide,zr.Format,!0);break;case"BBBBB":e=Sn(0,pn.Narrow,zr.Format,!0);break;case"h":e=ur(3,1,-12);break;case"hh":e=ur(3,2,-12);break;case"H":e=ur(3,1);break;case"HH":e=ur(3,2);break;case"m":e=ur(4,1);break;case"mm":e=ur(4,2);break;case"s":e=ur(5,1);break;case"ss":e=ur(5,2);break;case"S":e=ur(6,1);break;case"SS":e=ur(6,2);break;case"SSS":e=ur(6,3);break;case"Z":case"ZZ":case"ZZZ":e=g1(0);break;case"ZZZZZ":e=g1(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=g1(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=g1(2);break;default:return null}return Lw[n]=e,e}function qM(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function UL(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function VL(n,e,t){let i=n.getTimezoneOffset(),o=qM(e,i);return UL(n,-1*(o-i))}function HL(n){if(AM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return y1(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(NL))return zL(r)}let e=new Date(n);if(!AM(e))throw new Fe(2302,!1);return e}function zL(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,c),e}function AM(n){return n instanceof Date&&!isNaN(n.valueOf())}var qL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,PM=22,b1=".",Bf="0",GL=";",$L=",",Fw="#";function WL(n,e,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Cs(t,yi.Infinity);else{let c=XL(n);s&&(c=KL(c));let d=e.minInt,h=e.minFrac,m=e.maxFrac;if(o){let x=o.match(qL);if(x===null)throw new Fe(2306,!1);let O=x[1],k=x[3],H=x[5];O!=null&&(d=jw(O)),k!=null&&(h=jw(k)),H!=null?m=jw(H):k!=null&&h>m&&(m=h)}ZL(c,h,m);let p=c.digits,y=c.integerLen,_=c.exponent,C=[];for(l=p.every(x=>!x);y<d;y++)p.unshift(0);for(;y<0;y++)p.unshift(0);y>0?C=p.splice(y,p.length):(C=p,p=[0]);let w=[];for(p.length>=e.lgSize&&w.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)w.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&w.unshift(p.join("")),a=w.join(Cs(t,r)),C.length&&(a+=Cs(t,i)+C.join("")),_&&(a+=Cs(t,yi.Exponential)+"+"+_)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function GM(n,e,t){let r=jM(e,Uw.Decimal),i=YL(r,Cs(e,yi.MinusSign));return WL(n,i,e,yi.Group,yi.Decimal,t)}function YL(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(GL),i=r[0],o=r[1],s=i.indexOf(b1)!==-1?i.split(b1):[i.substring(0,i.lastIndexOf(Bf)+1),i.substring(i.lastIndexOf(Bf)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(Fw));for(let d=0;d<l.length;d++){let h=l.charAt(d);h===Bf?t.minFrac=t.maxFrac=d+1:h===Fw?t.maxFrac=d+1:t.posSuf+=h}let c=a.split($L);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,h=o.indexOf(Fw);t.negPre=o.substring(0,h).replace(/'/g,""),t.negSuf=o.slice(h+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function KL(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function XL(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(b1))>-1&&(e=e.replace(b1,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Bf;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Bf;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>PM&&(r=r.splice(0,PM-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function ZL(n,e,t){if(e>t)throw new Fe(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=e+n.integerLen,d=r.reduceRight(function(h,m,p,y){return m=m+h,y[p]=m<10?m:m-10,l&&(y[p]===0&&p>=c?y.pop():l=!1),m>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function jw(n){let e=parseInt(n);if(isNaN(e))throw new Fe(2305,!1);return e}var _1=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vl=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new _1(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),TM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);TM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(tt(pa),tt(fl),tt(Tw))};static \u0275dir=Nn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function TM(n,e){n.context.$implicit=e.item}var Uo=(()=>{class n{_viewContainer;_context=new w1;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){NM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){NM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(tt(pa),tt(fl))};static \u0275dir=Nn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),w1=class{$implicit=null;ngIf=null};function NM(n,e){if(n&&!n.createEmbeddedView)throw new Fe(2020,!1)}function $M(n,e){return new Fe(2100,!1)}var JL="mediumDate",WM=new Xe(""),YM=new Xe(""),Vw=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??JL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return HM(t,s,o||this.locale,a)}catch(s){throw $M(n,s.message)}}static \u0275fac=function(r){return new(r||n)(tt(ud,16),tt(WM,24),tt(YM,24))};static \u0275pipe=n1({name:"date",type:n,pure:!0})}return n})();var Hw=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!QL(t))return null;i||=this._locale;try{let o=eF(t);return GM(o,i,r)}catch(o){throw $M(n,o.message)}}static \u0275fac=function(r){return new(r||n)(tt(ud,16))};static \u0275pipe=n1({name:"number",type:n,pure:!0})}return n})();function QL(n){return!(n==null||n===""||n!==n)}function eF(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Fe(2309,!1);return n}var no=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ys({type:n});static \u0275inj=Io({})}return n})();function Uf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var xc=class{};var KM="browser";var XM=(()=>{class n{static \u0275prov=Be({token:n,providedIn:"root",factory:()=>new zw(Ee(Un),window)})}return n})(),zw=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(vt(De({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=rF(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(il(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(vt(De({},t),{left:i-s[0],top:o-s[1]}))}};function rF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var E1=new Xe(""),Yw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Fe(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Ye(E1),Ye(Vn))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),Vf=class{_doc;constructor(e){this._doc=e}manager},qw="ng-app-id";function ZM(n){for(let e of n)e.remove()}function JM(n,e){let t=e.createElement("style");return t.textContent=n,t}function iF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${qw}="${e}"],link[${qw}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qw),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function $w(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Kw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,iF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,JM);r?.forEach(i=>this.addUsage(i,this.external,$w))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(ZM(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ZM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,JM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,$w(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Ye(Un),Ye(G0),Ye(W0,8),Ye(ad))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),Gw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xw=/%COMP%/g;var eI="%COMP%",oF=`_nghost-${eI}`,sF=`_ngcontent-${eI}`,aF=!0,lF=new Xe("",{providedIn:"root",factory:()=>aF});function cF(n){return sF.replace(Xw,n)}function uF(n){return oF.replace(Xw,n)}function tI(n,e){return e.map(t=>t.replace(Xw,n))}var Zw=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Hf(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof C1?i.applyToHost(t):i instanceof zf&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case ha.Emulated:o=new C1(l,c,r,this.appId,d,s,a,h,m);break;case ha.ShadowDom:return new Ww(l,c,t,r,s,a,this.nonce,h,m);default:o=new zf(l,c,r,d,s,a,h,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Ye(Yw),Ye(Kw),Ye(G0),Ye(lF),Ye(Un),Ye(ad),Ye(Vn),Ye(W0),Ye(Cc,8))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),Hf=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Gw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(QM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(QM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Fe(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Gw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Gw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ms.DashCase|ms.Important)?e.style.setProperty(t,r,i&ms.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ms.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=eo().getGlobalEventTarget(this.doc,e),!e))throw new Fe(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function QM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ww=class extends Hf{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=tI(i.id,d);for(let m of d){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=m,this.shadowRoot.appendChild(p)}let h=i.getExternalStyles?.();if(h)for(let m of h){let p=$w(m,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zf=class extends Hf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?tI(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},C1=class extends zf{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let d=i+"-"+r.id;super(e,t,r,o,s,a,l,c,d),this.contentAttr=cF(d),this.hostAttr=uF(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var S1=class n extends kf{supportsDOMEvents=!0;static makeCurrent(){Nw(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=dF();return t==null?null:hF(t)}resetBaseElement(){qf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Uf(document.cookie,e)}},qf=null;function dF(){return qf=qf||document.head.querySelector("base"),qf?qf.getAttribute("href"):null}function hF(n){return new URL(n,document.baseURI).pathname}var fF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),rI=(()=>{class n extends Vf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Ye(Un))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),nI=["alt","control","meta","shift"],pF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},iI=(()=>{class n extends Vf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eo().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nI.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=pF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),nI.forEach(s=>{if(s!==i){let a=gF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Ye(Un))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();function Jw(n,e){let t=De({rootComponent:n},mF(e));return SM(t)}function mF(n){return{appProviders:[...wF,...n?.providers??[]],platformProviders:_F}}function vF(){S1.makeCurrent()}function yF(){return new Do}function bF(){return V5(document),document}var _F=[{provide:ad,useValue:KM},{provide:$0,useValue:vF,multi:!0},{provide:Un,useFactory:bF}];var wF=[{provide:sf,useValue:"root"},{provide:Do,useFactory:yF},{provide:E1,useClass:rI,multi:!0,deps:[Un]},{provide:E1,useClass:iI,multi:!0,deps:[Un]},Zw,Kw,Yw,{provide:yc,useExisting:Zw},{provide:xc,useClass:fF},[]];var fd=class{},Wf=class{},Dc=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var D1=class{encodeKey(e){return oI(e)}encodeValue(e){return oI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function CF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var EF=/%(\d[a-f0-9])/gi,SF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oI(n){return encodeURIComponent(n).replace(EF,(e,t)=>SF[t]??e)}function x1(n){return`${n}`}var yl=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new D1,e.fromString){if(e.fromObject)throw new Fe(2805,!1);this.map=CF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(x1):[x1(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(x1(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(x1(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var M1=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function xF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aI(n){return typeof Blob<"u"&&n instanceof Blob}function lI(n){return typeof FormData<"u"&&n instanceof FormData}function DF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var cI="Content-Type",uI="Accept",dI="X-Request-URL",hI="text/plain",fI="application/json",MF=`${fI}, ${hI}, */*`,Gf=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(xF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new Dc,this.context??=new M1,!this.params)this.params=new yl,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sI(this.body)||aI(this.body)||lI(this.body)||DF(this.body)?this.body:this.body instanceof yl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||lI(this.body)?null:aI(this.body)?this.body.type||null:sI(this.body)?null:typeof this.body=="string"?hI:this.body instanceof yl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?fI:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,h=e.transferCache??this.transferCache,m=e.timeout??this.timeout,p=e.body!==void 0?e.body:this.body,y=e.withCredentials??this.withCredentials,_=e.reportProgress??this.reportProgress,C=e.headers||this.headers,w=e.params||this.params,x=e.context??this.context;return e.setHeaders!==void 0&&(C=Object.keys(e.setHeaders).reduce((O,k)=>O.set(k,e.setHeaders[k]),C)),e.setParams&&(w=Object.keys(e.setParams).reduce((O,k)=>O.set(k,e.setParams[k]),w)),new n(t,r,p,{params:w,headers:C,context:x,reportProgress:_,responseType:i,withCredentials:y,transferCache:h,keepalive:o,cache:a,priority:s,timeout:m,mode:l,redirect:c,credentials:d})}},hd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(hd||{}),pd=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Dc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},I1=class n extends pd{constructor(e={}){super(e)}type=hd.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},A1=class n extends pd{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=hd.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$f=class extends pd{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},IF=200,AF=204;function Qw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect}}var PF=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Gf)o=t;else{let l;i.headers instanceof Dc?l=i.headers:l=new Dc(i.headers);let c;i.params&&(i.params instanceof yl?c=i.params:c=new yl({fromObject:i.params})),o=new Gf(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=ht(o).pipe(ra(l=>this.handler.handle(l)));if(t instanceof Gf||i.observe==="events")return s;let a=s.pipe(ei(l=>l instanceof A1));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ft(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Fe(2806,!1);return l.body}));case"blob":return a.pipe(ft(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Fe(2807,!1);return l.body}));case"text":return a.pipe(ft(l=>{if(l.body!==null&&typeof l.body!="string")throw new Fe(2808,!1);return l.body}));case"json":default:return a.pipe(ft(l=>l.body))}case"response":return a;default:throw new Fe(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new yl().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qw(i,r))}post(t,r,i={}){return this.request("POST",t,Qw(i,r))}put(t,r,i={}){return this.request("PUT",t,Qw(i,r))}static \u0275fac=function(r){return new(r||n)(Ye(fd))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();var TF=new Xe("");function NF(n,e){return e(n)}function OF(n,e,t){return(r,i)=>Or(t,()=>e(r,o=>n(o,i)))}var pI=new Xe(""),kF=new Xe(""),gI=new Xe("",{providedIn:"root",factory:()=>!0});var P1=(()=>{class n extends fd{backend;injector;chain=null;pendingTasks=Ee(m0);contributeToStability=Ee(gI);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(pI),...this.injector.get(kF,[])]));this.chain=r.reduceRight((i,o)=>OF(i,o,this.injector),NF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(nc(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Ye(Wf),Ye(lr))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();var RF=/^\)\]\}',?\n/,LF=RegExp(`^${dI}:`,"m");function FF(n){return"responseURL"in n&&n.responseURL?n.responseURL:LF.test(n.getAllResponseHeaders())?n.getResponseHeader(dI):null}var eC=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Fe(-2800,!1);let r=this.xhrFactory;return ht(null).pipe(gi(()=>new Rt(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,w)=>s.setRequestHeader(C,w.join(","))),t.headers.has(uI)||s.setRequestHeader(uI,MF),!t.headers.has(cI)){let C=t.detectContentTypeHeader();C!==null&&s.setRequestHeader(cI,C)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let C=t.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let C=s.statusText||"OK",w=new Dc(s.getAllResponseHeaders()),x=FF(s)||t.url;return l=new I1({headers:w,status:s.status,statusText:C,url:x}),l},d=()=>{let{headers:C,status:w,statusText:x,url:O}=c(),k=null;w!==AF&&(k=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=k?IF:0);let H=w>=200&&w<300;if(t.responseType==="json"&&typeof k=="string"){let Q=k;k=k.replace(RF,"");try{k=k!==""?JSON.parse(k):null}catch(q){k=Q,H&&(H=!1,k={error:q,text:k})}}H?(o.next(new A1({body:k,headers:C,status:w,statusText:x,url:O||void 0})),o.complete()):o.error(new $f({error:k,headers:C,status:w,statusText:x,url:O||void 0}))},h=C=>{let{url:w}=c(),x=new $f({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(x)},m=h;t.timeout&&(m=C=>{let{url:w}=c(),x=new $f({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:w||void 0});o.error(x)});let p=!1,y=C=>{p||(o.next(c()),p=!0);let w={type:hd.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),t.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},_=C=>{let w={type:hd.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",m),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:hd.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Ye(xc))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),mI=new Xe(""),jF="XSRF-TOKEN",BF=new Xe("",{providedIn:"root",factory:()=>jF}),UF="X-XSRF-TOKEN",VF=new Xe("",{providedIn:"root",factory:()=>UF}),Yf=class{},HF=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Uf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Ye(Un),Ye(BF))};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();function zF(n,e){let t=n.url.toLowerCase();if(!Ee(mI)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=Ee(Yf).getToken(),i=Ee(VF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function tC(...n){let e=[PF,eC,P1,{provide:fd,useExisting:P1},{provide:Wf,useFactory:()=>Ee(TF,{optional:!0})??Ee(eC)},{provide:pI,useValue:zF,multi:!0},{provide:mI,useValue:!0},{provide:Yf,useClass:HF}];for(let t of n)e.push(...t.\u0275providers);return ua(e)}var vI=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Ye(Un))};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pt="primary",ap=Symbol("RouteTitle"),sC=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ac(n){return new sC(n)}function xI(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function GF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Es(n[t],e[t]))return!1;return!0}function Es(n,e){let t=n?aC(n):void 0,r=e?aC(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!DI(n[i],e[i]))return!1;return!0}function aC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function DI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function MI(n){return n.length>0?n[n.length-1]:null}function Ea(n){return Bb(n)?n:gl(n)?Pn(Promise.resolve(n)):ht(n)}var $F={exact:AI,subset:PI},II={exact:WF,subset:YF,ignored:()=>!0};function yI(n,e,t){return $F[t.paths](n.root,e.root,t.matrixParams)&&II[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function WF(n,e){return Es(n,e)}function AI(n,e,t){if(!Mc(n.segments,e.segments)||!O1(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!AI(n.children[r],e.children[r],t))return!1;return!0}function YF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DI(n[t],e[t]))}function PI(n,e,t){return TI(n,e,e.segments,t)}function TI(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Mc(i,t)||e.hasChildren()||!O1(i,t,r))}else if(n.segments.length===t.length){if(!Mc(n.segments,t)||!O1(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!PI(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Mc(n.segments,i)||!O1(n.segments,i,r)||!n.children[Pt]?!1:TI(n.children[Pt],e,o,r)}}function O1(n,e,t){return e.every((r,i)=>II[t](n[i].parameters,r.parameters))}var xs=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Qt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ac(this.queryParams),this._queryParamMap}toString(){return ZF.serialize(this)}},Qt=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return k1(this)}},bl=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ac(this.parameters),this._parameterMap}toString(){return OI(this)}};function KF(n,e){return Mc(n,e)&&n.every((t,r)=>Es(t.parameters,e[r].parameters))}function Mc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function XF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Pt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Pt&&(t=t.concat(e(i,r)))}),t}var Dd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:()=>new Pc,providedIn:"root"})}return n})(),Pc=class{parse(e){let t=new cC(e);return new xs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Kf(e.root,!0)}`,r=ej(e.queryParams),i=typeof e.fragment=="string"?`#${JF(e.fragment)}`:"";return`${t}${r}${i}`}},ZF=new Pc;function k1(n){return n.segments.map(e=>OI(e)).join("/")}function Kf(n,e){if(!n.hasChildren())return k1(n);if(e){let t=n.children[Pt]?Kf(n.children[Pt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Pt&&r.push(`${i}:${Kf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=XF(n,(r,i)=>i===Pt?[Kf(n.children[Pt],!1)]:[`${i}:${Kf(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Pt]!=null?`${k1(n)}/${t[0]}`:`${k1(n)}/(${t.join("//")})`}}function NI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function T1(n){return NI(n).replace(/%3B/gi,";")}function JF(n){return encodeURI(n)}function lC(n){return NI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function R1(n){return decodeURIComponent(n)}function bI(n){return R1(n.replace(/\+/g,"%20"))}function OI(n){return`${lC(n.path)}${QF(n.parameters)}`}function QF(n){return Object.entries(n).map(([e,t])=>`;${lC(e)}=${lC(t)}`).join("")}function ej(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${T1(t)}=${T1(i)}`).join("&"):`${T1(t)}=${T1(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var tj=/^[^\/()?;#]+/;function nC(n){let e=n.match(tj);return e?e[0]:""}var nj=/^[^\/()?;=#]+/;function rj(n){let e=n.match(nj);return e?e[0]:""}var ij=/^[^=?&#]+/;function oj(n){let e=n.match(ij);return e?e[0]:""}var sj=/^[^&#]+/;function aj(n){let e=n.match(sj);return e?e[0]:""}var cC=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new Qt(e,t)),r}parseSegment(){let e=nC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Fe(4009,!1);return this.capture(e),new bl(R1(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=rj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=nC(this.remaining);i&&(r=i,this.capture(r))}e[R1(t)]=R1(r)}parseQueryParam(e){let t=oj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=aj(this.remaining);s&&(r=s,this.capture(r))}let i=bI(t),o=bI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nC(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Fe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pt);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Pt]:new Qt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Fe(4011,!1)}};function kI(n){return n.segments.length>0?new Qt([],{[Pt]:n}):n}function RI(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=RI(i);if(r===Pt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Qt(n.segments,e);return lj(t)}function lj(n){if(n.numberOfChildren===1&&n.children[Pt]){let e=n.children[Pt];return new Qt(n.segments.concat(e.segments),e.children)}return n}function _l(n){return n instanceof xs}function LI(n,e,t=null,r=null){let i=FI(n);return jI(i,e,t,r)}function FI(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new Qt(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=kI(r);return e??i}function jI(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return rC(i,i,i,t,r);let o=cj(e);if(o.toRoot())return rC(i,i,new Qt([],{}),t,r);let s=uj(o,i,n),a=s.processChildren?Zf(s.segmentGroup,s.index,o.commands):UI(s.segmentGroup,s.index,o.commands);return rC(i,s.segmentGroup,a,t,r)}function L1(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Qf(n){return typeof n=="object"&&n!=null&&n.outlets}function rC(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===e?s=t:s=BI(n,e,t);let a=kI(RI(s));return new xs(a,o,i)}function BI(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=BI(o,e,t)}),new Qt(n.segments,r)}var F1=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&L1(r[0]))throw new Fe(4003,!1);let i=r.find(Qf);if(i&&i!==MI(r))throw new Fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new F1(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new F1(t,e,r)}var vd=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function uj(n,e,t){if(n.isAbsolute)return new vd(e,!0,0);if(!t)return new vd(e,!1,NaN);if(t.parent===null)return new vd(t,!0,0);let r=L1(n.commands[0])?0:1,i=t.segments.length-1+r;return dj(t,i,n.numberOfDoubleDots)}function dj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Fe(4005,!1);i=r.segments.length}return new vd(r,!1,i-o)}function hj(n){return Qf(n[0])?n[0].outlets:{[Pt]:n}}function UI(n,e,t){if(n??=new Qt([],{}),n.segments.length===0&&n.hasChildren())return Zf(n,e,t);let r=fj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Qt(n.segments.slice(0,r.pathIndex),{});return o.children[Pt]=new Qt(n.segments.slice(r.pathIndex),n.children),Zf(o,0,i)}else return r.match&&i.length===0?new Qt(n.segments,{}):r.match&&!n.hasChildren()?uC(n,e,t):r.match?Zf(n,0,i):uC(n,e,t)}function Zf(n,e,t){if(t.length===0)return new Qt(n.segments,{});{let r=hj(t),i={};if(Object.keys(r).some(o=>o!==Pt)&&n.children[Pt]&&n.numberOfChildren===1&&n.children[Pt].segments.length===0){let o=Zf(n.children[Pt],e,t);return new Qt(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=UI(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Qt(n.segments,i)}}function fj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Qf(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!wI(l,c,s))return o;r+=2}else{if(!wI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uC(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Qf(o)){let l=pj(o.outlets);return new Qt(r,l)}if(i===0&&L1(t[0])){let l=n.segments[e];r.push(new bl(l.path,_I(t[0]))),i++;continue}let s=Qf(o)?o.outlets[Pt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&L1(a)?(r.push(new bl(s,_I(a))),i+=2):(r.push(new bl(s,{})),i++)}return new Qt(r,{})}function pj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=uC(new Qt([],{}),0,r))}),e}function _I(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function wI(n,e,t){return n==t.path&&Es(e,t.parameters)}var yd="imperative",mr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(mr||{}),Oi=class{id;url;constructor(e,t){this.id=e,this.url=t}},wl=class extends Oi{type=mr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ro=class extends Oi{urlAfterRedirects;type=mr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},si=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(si||{}),_d=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(_d||{}),Ss=class extends Oi{reason;code;type=mr.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ds=class extends Oi{reason;code;type=mr.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},wd=class extends Oi{error;target;type=mr.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ep=class extends Oi{urlAfterRedirects;state;type=mr.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j1=class extends Oi{urlAfterRedirects;state;type=mr.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B1=class extends Oi{urlAfterRedirects;state;shouldActivate;type=mr.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},U1=class extends Oi{urlAfterRedirects;state;type=mr.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V1=class extends Oi{urlAfterRedirects;state;type=mr.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},H1=class{route;type=mr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},z1=class{route;type=mr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},q1=class{snapshot;type=mr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G1=class{snapshot;type=mr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$1=class{snapshot;type=mr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},W1=class{snapshot;type=mr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cd=class{routerEvent;position;anchor;type=mr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},tp=class{},Ed=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function gj(n){return!(n instanceof tp)&&!(n instanceof Ed)}function mj(n,e){return n.providers&&!n._injector&&(n._injector=If(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Vo(n){return n.outlet||Pt}function vj(n,e){let t=n.filter(r=>Vo(r)===e);return t.push(...n.filter(r=>Vo(r)!==e)),t}function Md(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Y1=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Md(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Id(this.rootInjector)}},Id=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Y1(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Ye(lr))};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),K1=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=dC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=dC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=hC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hC(e,this._root).map(t=>t.value)}};function dC(n,e){if(n===e.value)return e;for(let t of e.children){let r=dC(n,t);if(r)return r}return null}function hC(n,e){if(n===e.value)return[e];for(let t of e.children){let r=hC(n,t);if(r.length)return r.unshift(e),r}return[]}var Ni=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function md(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var np=class extends K1{snapshot;constructor(e,t){super(e),this.snapshot=t,_C(this,e)}toString(){return this.snapshot.toString()}};function VI(n){let e=yj(n),t=new En([new bl("",{})]),r=new En({}),i=new En({}),o=new En({}),s=new En(""),a=new Ca(t,r,o,s,i,Pt,n,e.root);return a.snapshot=e.root,new np(new Ni(a,[]),e)}function yj(n){let e={},t={},r={},i="",o=new Ic([],e,r,i,t,Pt,n,null,{});return new rp("",new Ni(o,[]))}var Ca=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ft(c=>c[ap]))??ht(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(e=>Ac(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(e=>Ac(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function X1(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:De(De({},e.params),n.params),data:De(De({},e.data),n.data),resolve:De(De(De(De({},n.data),e.data),i?.data),n._resolvedData)}:r={params:De({},n.params),data:De({},n.data),resolve:De(De({},n.data),n._resolvedData??{})},i&&zI(i)&&(r.resolve[ap]=i.title),r}var Ic=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ap]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ac(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ac(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},rp=class extends K1{url;constructor(e,t){super(t),this.url=e,_C(this,t)}toString(){return HI(this._root)}};function _C(n,e){e.value._routerState=n,e.children.forEach(t=>_C(n,t))}function HI(n){let e=n.children.length>0?` { ${n.children.map(HI).join(", ")} } `:"";return`${n.value}${e}`}function iC(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Es(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Es(e.params,t.params)||n.paramsSubject.next(t.params),GF(e.url,t.url)||n.urlSubject.next(t.url),Es(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fC(n,e){let t=Es(n.params,e.params)&&KF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||fC(n.parent,e.parent))}function zI(n){return typeof n.title=="string"||n.title===null}var qI=new Xe(""),lp=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Pt;activateEvents=new cr;deactivateEvents=new cr;attachEvents=new cr;detachEvents=new cr;routerOutletData=EM(void 0);parentContexts=Ee(Id);location=Ee(pa);changeDetector=Ee(Fo);inputBinder=Ee(ev,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Fe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Fe(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new pC(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Nn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vs]})}return n})(),pC=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ca?this.route:e===Id?this.childContexts:e===qI?this.outletData:this.parent.get(e,t)}},ev=new Xe("");var wC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=yn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ke(0,"router-outlet")},dependencies:[lp],encapsulation:2})}return n})();function CC(n){let e=n.children&&n.children.map(CC),t=e?vt(De({},n),{children:e}):De({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=wC),t}function bj(n,e,t){let r=ip(n,e._root,t?t._root:void 0);return new np(r,e)}function ip(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=_j(n,e,t);return new Ni(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ip(n,a)),s}}let r=wj(e.value),i=e.children.map(o=>ip(n,o));return new Ni(r,i)}}function _j(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ip(n,r,i);return ip(n,r)})}function wj(n){return new Ca(new En(n.url),new En(n.params),new En(n.queryParams),new En(n.fragment),new En(n.data),n.outlet,n.component,n)}var Sd=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},GI="ngNavigationCancelingError";function Z1(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=_l(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$I(!1,si.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function $I(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[GI]=!0,t.cancellationCode=e,t}function Cj(n){return WI(n)&&_l(n.url)}function WI(n){return!!n&&n[GI]}var Ej=(n,e,t,r)=>ft(i=>(new gC(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),gC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),iC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=md(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=md(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=md(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=md(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new W1(o.value.snapshot))}),e.children.length&&this.forwardEvent(new G1(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(iC(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iC(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},J1=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bd=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Sj(n,e,t){let r=n._root,i=e?e._root:null;return Xf(r,i,t,[r.value])}function xj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ad(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!o_(n)?n:e.get(n):r}function Xf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=md(e);return n.children.forEach(s=>{Dj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Jf(a,t.getContext(s),i)),i}function Dj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Mj(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new J1(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xf(n,e,a?a.children:null,r,i):Xf(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bd(a.outlet.component,s))}else s&&Jf(e,a,i),i.canActivateChecks.push(new J1(r)),o.component?Xf(n,null,a?a.children:null,r,i):Xf(n,null,t,r,i);return i}function Mj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Mc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mc(n.url,e.url)||!Es(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fC(n,e)||!Es(n.queryParams,e.queryParams);case"paramsChange":default:return!fC(n,e)}}function Jf(n,e,t){let r=md(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Jf(s,e.children.getContext(o),t):Jf(s,null,t):Jf(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new bd(e.outlet.component,i)):t.canDeactivateChecks.push(new bd(null,i)):t.canDeactivateChecks.push(new bd(null,i))}function cp(n){return typeof n=="function"}function Ij(n){return typeof n=="boolean"}function Aj(n){return n&&cp(n.canLoad)}function Pj(n){return n&&cp(n.canActivate)}function Tj(n){return n&&cp(n.canActivateChild)}function Nj(n){return n&&cp(n.canDeactivate)}function Oj(n){return n&&cp(n.canMatch)}function YI(n){return n instanceof ta||n?.name==="EmptyError"}var N1=Symbol("INITIAL_VALUE");function xd(){return gi(n=>Hm(n.map(e=>e.pipe(ia(1),qb(N1)))).pipe(ft(e=>{for(let t of e)if(t!==!0){if(t===N1)return N1;if(t===!1||kj(t))return t}return!0}),ei(e=>e!==N1),ia(1)))}function kj(n){return _l(n)||n instanceof Sd}function Rj(n,e){return ar(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ht(vt(De({},t),{guardsResult:!0})):Lj(s,r,i,n).pipe(ar(a=>a&&Ij(a)?Fj(r,o,n,e):ht(a)),ft(a=>vt(De({},t),{guardsResult:a})))})}function Lj(n,e,t,r){return Pn(n).pipe(ar(i=>Hj(i.component,i.route,t,e,r)),oa(i=>i!==!0,!0))}function Fj(n,e,t,r){return Pn(e).pipe(ra(i=>qu(Bj(i.route.parent,r),jj(i.route,r),Vj(n,i.path,t),Uj(n,i.route,t))),oa(i=>i!==!0,!0))}function jj(n,e){return n!==null&&e&&e(new $1(n)),ht(!0)}function Bj(n,e){return n!==null&&e&&e(new q1(n)),ht(!0)}function Uj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ht(!0);let i=r.map(o=>Jh(()=>{let s=Md(e)??t,a=Ad(o,s),l=Pj(a)?a.canActivate(e,n):Or(s,()=>a(e,n));return Ea(l).pipe(oa())}));return ht(i).pipe(xd())}function Vj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>xj(s)).filter(s=>s!==null).map(s=>Jh(()=>{let a=s.guards.map(l=>{let c=Md(s.node)??t,d=Ad(l,c),h=Tj(d)?d.canActivateChild(r,n):Or(c,()=>d(r,n));return Ea(h).pipe(oa())});return ht(a).pipe(xd())}));return ht(o).pipe(xd())}function Hj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ht(!0);let s=o.map(a=>{let l=Md(e)??i,c=Ad(a,l),d=Nj(c)?c.canDeactivate(n,e,t,r):Or(l,()=>c(n,e,t,r));return Ea(d).pipe(oa())});return ht(s).pipe(xd())}function zj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ht(!0);let o=i.map(s=>{let a=Ad(s,n),l=Aj(a)?a.canLoad(e,t):Or(n,()=>a(e,t));return Ea(l)});return ht(o).pipe(xd(),KI(r))}function KI(n){return Ob(Cr(e=>{if(typeof e!="boolean")throw Z1(n,e)}),ft(e=>e===!0))}function qj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ht(!0);let o=i.map(s=>{let a=Ad(s,n),l=Oj(a)?a.canMatch(e,t):Or(n,()=>a(e,t));return Ea(l)});return ht(o).pipe(xd(),KI(r))}var op=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},sp=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function gd(n){return Hu(new op(n))}function Gj(n){return Hu(new Fe(4e3,!1))}function $j(n){return Hu($I(!1,si.GuardRejected))}var mC=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ht(r);if(i.numberOfChildren>1||!i.children[Pt])return Gj(`${e.redirectTo}`);i=i.children[Pt]}}applyRedirectCommands(e,t,r,i,o){return Wj(t,i,o).pipe(ft(s=>{if(s instanceof xs)throw new sp(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new sp(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new xs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Qt(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Fe(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Wj(n,e,t){if(typeof n=="string")return ht(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:d,title:h}=e;return Ea(Or(t,()=>r({params:c,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:h})))}var vC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yj(n,e,t,r,i){let o=XI(n,e,t);return o.matched?(r=mj(e,r),qj(r,e,t,i).pipe(ft(s=>s===!0?o:De({},vC)))):ht(o)}function XI(n,e,t){if(e.path==="**")return Kj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?De({},vC):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||xI)(t,n,e);if(!i)return De({},vC);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?De(De({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Kj(n){return{matched:!0,parameters:n.length>0?MI(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function CI(n,e,t,r){return t.length>0&&Jj(n,t,r)?{segmentGroup:new Qt(e,Zj(r,new Qt(t,n.children))),slicedSegments:[]}:t.length===0&&Qj(n,t,r)?{segmentGroup:new Qt(n.segments,Xj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Qt(n.segments,n.children),slicedSegments:t}}function Xj(n,e,t,r){let i={};for(let o of t)if(tv(n,e,o)&&!r[Vo(o)]){let s=new Qt([],{});i[Vo(o)]=s}return De(De({},r),i)}function Zj(n,e){let t={};t[Pt]=e;for(let r of n)if(r.path===""&&Vo(r)!==Pt){let i=new Qt([],{});t[Vo(r)]=i}return t}function Jj(n,e,t){return t.some(r=>tv(n,e,r)&&Vo(r)!==Pt)}function Qj(n,e,t){return t.some(r=>tv(n,e,r))}function tv(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function eB(n,e,t){return e.length===0&&!n.children[t]}var yC=class{};function tB(n,e,t,r,i,o,s="emptyOnly"){return new bC(n,e,t,r,i,s,o).recognize()}var nB=31,bC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mC(this.urlSerializer,this.urlTree)}noMatchError(e){return new Fe(4002,`'${e.segmentGroup}'`)}recognize(){let e=CI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ft(({children:t,rootSnapshot:r})=>{let i=new Ni(r,t),o=new rp("",i),s=LI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ic([],Object.freeze({}),Object.freeze(De({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Pt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Pt,t).pipe(ft(r=>({children:r,rootSnapshot:t})),na(r=>{if(r instanceof sp)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof op?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ft(s=>s instanceof Ni?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pn(o).pipe(ra(s=>{let a=r.children[s],l=vj(t,s);return this.processSegmentGroup(e,l,a,s,i)}),zb((s,a)=>(s.push(...a),s)),tl(null),Hb(),ar(s=>{if(s===null)return gd(r);let a=ZI(s);return rB(a),ht(a)}))}processSegment(e,t,r,i,o,s,a){return Pn(t).pipe(ra(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(na(c=>{if(c instanceof op)return ht(null);throw c}))),oa(l=>!!l),na(l=>{if(YI(l))return eB(r,i,o)?ht(new yC):gd(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Vo(r)!==s&&(s===Pt||!tv(i,o,r))?gd(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):gd(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=XI(t,i,o);if(!l)return gd(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nB&&(this.allowRedirects=!1));let p=new Ic(o,c,Object.freeze(De({},this.urlTree.queryParams)),this.urlTree.fragment,EI(i),Vo(i),i.component??i._loadedComponent??null,i,SI(i)),y=X1(p,a,this.paramsInheritanceStrategy);return p.params=Object.freeze(y.params),p.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,p,e).pipe(gi(C=>this.applyRedirects.lineralizeSegments(i,C)),ar(C=>this.processSegment(e,r,t,C.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Yj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(gi(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(gi(({routes:c})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:p}=l,y=new Ic(m,h,Object.freeze(De({},this.urlTree.queryParams)),this.urlTree.fragment,EI(r),Vo(r),r.component??r._loadedComponent??null,r,SI(r)),_=X1(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:w}=CI(t,m,p,c);if(w.length===0&&C.hasChildren())return this.processChildren(d,c,C,y).pipe(ft(O=>new Ni(y,O)));if(c.length===0&&w.length===0)return ht(new Ni(y,[]));let x=Vo(r)===o;return this.processSegment(d,c,C,w,x?Pt:o,!0,y).pipe(ft(O=>new Ni(y,O instanceof Ni?[O]:[])))}))):gd(t)))}getChildConfig(e,t,r){return t.children?ht({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ht({routes:t._loadedRoutes,injector:t._loadedInjector}):zj(e,t,r,this.urlSerializer).pipe(ar(i=>i?this.configLoader.loadChildren(e,t).pipe(Cr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):$j(t))):ht({routes:[],injector:e})}};function rB(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}function iB(n){let e=n.value.routeConfig;return e&&e.path===""}function ZI(n){let e=[],t=new Set;for(let r of n){if(!iB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ZI(r.children);e.push(new Ni(r.value,i))}return e.filter(r=>!t.has(r))}function EI(n){return n.data||{}}function SI(n){return n.resolve||{}}function oB(n,e,t,r,i,o){return ar(s=>tB(n,e,t,r,s.extractedUrl,i,o).pipe(ft(({state:a,tree:l})=>vt(De({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function sB(n,e){return ar(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ht(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of JI(l))s.add(c);let a=0;return Pn(s).pipe(ra(l=>o.has(l)?aB(l,r,n,e):(l.data=X1(l,l.parent,n).resolve,ht(void 0))),Cr(()=>a++),Gu(1),ar(l=>a===s.size?ht(t):fi))})}function JI(n){let e=n.children.map(t=>JI(t)).flat();return[n,...e]}function aB(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!zI(i)&&(o[ap]=i.title),Jh(()=>(n.data=X1(n,n.parent,t).resolve,lB(o,n,e,r).pipe(ft(s=>(n._resolvedData=s,n.data=De(De({},n.data),s),null)))))}function lB(n,e,t,r){let i=aC(n);if(i.length===0)return ht({});let o={};return Pn(i).pipe(ar(s=>cB(n[s],e,t,r).pipe(oa(),Cr(a=>{if(a instanceof Sd)throw Z1(new Pc,a);o[s]=a}))),Gu(1),ft(()=>o),na(s=>YI(s)?fi:Hu(s)))}function cB(n,e,t,r){let i=Md(e)??r,o=Ad(n,i),s=o.resolve?o.resolve(e,t):Or(i,()=>o(e,t));return Ea(s)}function oC(n){return gi(e=>{let t=n(e);return t?Pn(t).pipe(ft(()=>e)):ht(e)})}var EC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Pt);return r}getResolvedTitleForRoute(t){return t.data[ap]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:()=>Ee(QI),providedIn:"root"})}return n})(),QI=(()=>{class n extends EC{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Ye(vI))};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pd=new Xe("",{providedIn:"root",factory:()=>({})}),up=new Xe(""),e6=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ee(Cw);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ht(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ea(Or(t,()=>r.loadComponent())).pipe(ft(n6),Cr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),nc(()=>{this.componentLoaders.delete(r)})),o=new Uu(i,()=>new Kn).pipe(Bu());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=t6(r,this.compiler,t,this.onLoadEndListener).pipe(nc(()=>{this.childrenLoaders.delete(r)})),s=new Uu(o,()=>new Kn).pipe(Bu());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t6(n,e,t,r){return Ea(Or(t,()=>n.loadChildren())).pipe(ft(n6),ar(i=>i instanceof t1||Array.isArray(i)?ht(i):Pn(e.compileModuleAsync(i))),ft(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(up,[],{optional:!0,self:!0}).flat()),{routes:s.map(CC),injector:o}}))}function uB(n){return n&&typeof n=="object"&&"default"in n}function n6(n){return uB(n)?n.default:n}var nv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:()=>Ee(dB),providedIn:"root"})}return n})(),dB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),r6=new Xe("");var i6=new Xe(""),SC=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Kn;transitionAbortWithErrorSubject=new Kn;configLoader=Ee(e6);environmentInjector=Ee(lr);destroyRef=Ee(Zi);urlSerializer=Ee(Dd);rootContexts=Ee(Id);location=Ee(Sc);inputBindingEnabled=Ee(ev,{optional:!0})!==null;titleStrategy=Ee(EC);options=Ee(Pd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ee(nv);createViewTransition=Ee(r6,{optional:!0});navigationErrorHandler=Ee(i6,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ht(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new H1(i)),r=i=>this.events.next(new z1(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(vt(De({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new En(null),this.transitions.pipe(ei(r=>r!==null),gi(r=>{let i=!1;return ht(r).pipe(gi(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",si.SupersededByNewNavigation),fi;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?vt(De({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new Ds(o.id,this.urlSerializer.serialize(o.rawUrl),l,_d.IgnoredSameUrlNavigation)),o.resolve(!1),fi}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ht(o).pipe(gi(l=>(this.events.next(new wl(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?fi:Promise.resolve(l))),oB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Cr(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=vt(De({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new ep(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:h,extras:m}=o,p=new wl(l,this.urlSerializer.serialize(c),d,h);this.events.next(p);let y=VI(this.rootComponentType).snapshot;return this.currentTransition=r=vt(De({},o),{targetSnapshot:y,urlAfterRedirects:c,extras:vt(De({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,ht(r)}else{let l="";return this.events.next(new Ds(o.id,this.urlSerializer.serialize(o.extractedUrl),l,_d.IgnoredByUrlHandlingStrategy)),o.resolve(!1),fi}}),Cr(o=>{let s=new j1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ft(o=>(this.currentTransition=r=vt(De({},o),{guards:Sj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Rj(this.environmentInjector,o=>this.events.next(o)),Cr(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Z1(this.urlSerializer,o.guardsResult);let s=new B1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ei(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",si.GuardRejected),!1)),oC(o=>{if(o.guards.canActivateChecks.length!==0)return ht(o).pipe(Cr(s=>{let a=new U1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),gi(s=>{let a=!1;return ht(s).pipe(sB(this.paramsInheritanceStrategy,this.environmentInjector),Cr({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",si.NoDataFromResolver)}}))}),Cr(s=>{let a=new V1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),oC(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=Md(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Cr(d=>{a.component=d}),ft(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return Hm(s(o.targetSnapshot.root)).pipe(tl(null),ia(1))}),oC(()=>this.afterPreactivation()),gi(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Pn(a).pipe(ft(()=>r)):ht(r)}),ft(o=>{let s=bj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=vt(De({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Cr(()=>{this.events.next(new tp)}),Ej(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ia(1),qm(new Rt(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ei(()=>!i&&!r.targetRouterState),Cr(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",si.Aborted)}))),Cr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ro(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),qm(this.transitionAbortWithErrorSubject.pipe(Cr(o=>{throw o}))),nc(()=>{i||this.cancelNavigationTransition(r,"",si.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),na(o=>{if(this.destroyed)return r.resolve(!1),fi;if(i=!0,WI(o))this.events.next(new Ss(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Cj(o)?this.events.next(new Ed(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new wd(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Or(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Sd){let{message:l,cancellationCode:c}=Z1(this.urlSerializer,a);this.events.next(new Ss(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Ed(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return fi}))}))}cancelNavigationTransition(t,r,i){let o=new Ss(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hB(n){return n!==yd}var o6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:()=>Ee(fB),providedIn:"root"})}return n})(),Q1=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},fB=(()=>{class n extends Q1{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ko(n)))(i||n)}})();static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s6=(()=>{class n{urlSerializer=Ee(Dd);options=Ee(Pd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Ee(Sc);urlHandlingStrategy=Ee(nv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xs;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof xs?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=VI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:()=>Ee(pB),providedIn:"root"})}return n})(),pB=(()=>{class n extends s6{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof wl?this.updateStateMemento():t instanceof Ds?this.commitTransition(r):t instanceof ep?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof tp?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ss&&t.code!==si.SupersededByNewNavigation&&t.code!==si.Redirect?this.restoreHistory(r):t instanceof wd?this.restoreHistory(r,!0):t instanceof ro&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=De(De({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=De(De({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ko(n)))(i||n)}})();static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xC(n,e){n.events.pipe(ei(t=>t instanceof ro||t instanceof Ss||t instanceof wd||t instanceof Ds),ft(t=>t instanceof ro||t instanceof Ds?0:(t instanceof Ss?t.code===si.Redirect||t.code===si.SupersededByNewNavigation:!1)?2:1),ei(t=>t!==2),ia(1)).subscribe(()=>{e()})}var gB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},io=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ee(gw);stateManager=Ee(s6);options=Ee(Pd,{optional:!0})||{};pendingTasks=Ee(ps);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ee(SC);urlSerializer=Ee(Dd);location=Ee(Sc);urlHandlingStrategy=Ee(nv);injector=Ee(lr);_events=new Kn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ee(o6);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ee(up,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ee(ev,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Bn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ss&&r.code!==si.Redirect&&r.code!==si.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ro)this.navigated=!0;else if(r instanceof Ed){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=De({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hB(i.source)},s);this.scheduleNavigation(a,yd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}gj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=De({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(ii)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(CC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=De(De({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=i?i.snapshot:this.routerState.snapshot.root;h=FI(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return jI(h,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=_l(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yd,null,r)}navigate(t,r={skipLocationChange:!1}){return vB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=De({},gB):r===!1?i=De({},mB):i=r,_l(t))return yI(this.currentUrlTree,t,i);let o=this.parseUrl(t);return yI(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,m)=>{a=h,l=m});let d=this.pendingTasks.add();return xC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Fe(4008,!1)}var Td=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=fs(null);get href(){return Lo(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Kn;applicationErrorHandler=Ee(ii);options=Ee(Pd,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Ee(new c1("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof ro&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_l(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:_l(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(tt(io),tt(Ca),Sf("tabindex"),tt(Ro),tt(oi),tt(ws))};static \u0275dir=Nn({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Qe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ma("href",i.reactiveHref(),$5)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ec],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ec],replaceUrl:[2,"replaceUrl","replaceUrl",Ec],routerLink:"routerLink"},features:[vs]})}return n})(),DC=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new cr;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ro&&this.update()})}ngAfterContentInit(){ht(this.links.changes,ht(null)).pipe(zu()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Pn(t).pipe(zu()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=yB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(tt(io),tt(oi),tt(Ro),tt(Fo),tt(Td,8))};static \u0275dir=Nn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&bw(o,Td,5),r&2){let s;Pf(s=Tf())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[vs]})}return n})();function yB(n){return!!n.paths}var a6=new Xe(""),bB=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=yd;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ro?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ds&&t.code===_d.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>ie(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Cd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){cw()};static \u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();function MC(n,...e){return ua([{provide:up,multi:!0,useValue:n},[],{provide:Ca,useFactory:_B,deps:[io]},{provide:o1,multi:!0,useFactory:wB},e.map(t=>t.\u0275providers)])}function _B(n){return n.routerState.root}function l6(n,e){return{\u0275kind:n,\u0275providers:e}}function IC(n={}){return l6(4,[{provide:a6,useFactory:()=>{let t=Ee(XM),r=Ee(Vn),i=Ee(SC),o=Ee(Dd);return new bB(o,i,t,r,n)}}])}function wB(){let n=Ee(Ii);return e=>{let t=n.get(ga);if(e!==t.components[0])return;let r=n.get(io),i=n.get(CB);n.get(EB)===1&&r.initialNavigation(),n.get(SB,null,{optional:!0})?.setUpPreloading(),n.get(a6,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var CB=new Xe("",{factory:()=>new Kn}),EB=new Xe("",{providedIn:"root",factory:()=>1});var SB=new Xe("");function AC(){return l6(6,[{provide:ws,useClass:Bw}])}var rv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yn({type:n,selectors:[["app-banner"]],decls:53,vars:0,consts:[["id","banner",1,"hero-banner","bg-gradient","position-relative","overflow-hidden"],[1,"container-fluid","px-0"],[1,"row","g-0","align-items-center","min-vh-75"],[1,"col-lg-6","order-lg-1","order-2"],[1,"hero-content","px-4","px-lg-5","py-5"],[1,"hero-badge","mb-3"],[1,"badge","bg-white","text-primary","px-3","py-2","rounded-pill","fs-6","fw-semibold"],[1,"bi","bi-award-fill","me-2"],[1,"display-4","fw-bold","text-white","mb-4","animate-fade-in"],[1,"lead","text-white-50","mb-4","fs-5"],[1,"hero-features","mb-4"],[1,"row","g-3"],[1,"col-auto"],[1,"feature-item","d-flex","align-items-center","text-white-50"],[1,"bi","bi-people-fill","me-2","text-warning"],[1,"bi","bi-mortarboard-fill","me-2","text-warning"],[1,"bi","bi-graph-up-arrow","me-2","text-warning"],[1,"hero-cta"],["href","#contact",1,"btn","btn-warning","btn-lg","px-4","py-3","me-3","shadow-sm"],[1,"bi","bi-telephone-fill","me-2"],["href","#about",1,"btn","btn-outline-light","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-person-circle","me-2"],[1,"col-lg-6","order-lg-2","order-1"],[1,"hero-image-container","position-relative"],[1,"hero-image-wrapper","p-4"],[1,"professional-image-placeholder","bg-white","rounded-4","shadow-lg","p-5","text-center"],[1,"bi","bi-person-circle","display-1","text-primary","mb-3"],[1,"text-muted"],[1,"text-muted","small","mb-0"],[1,"position-absolute","top-0","start-0","w-100","h-100"],[1,"floating-shape","shape-1"],[1,"floating-shape","shape-2"],[1,"floating-shape","shape-3"],[1,"scroll-indicator","position-absolute","bottom-0","start-50","translate-middle-x","mb-4"],[1,"scroll-arrow","animate-bounce"],[1,"bi","bi-chevron-down","text-white","fs-4"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),nt(7,"i",7),V(8,"Psic\xF3logo Certificado "),we()(),be(9,"h1",8),V(10," Abel Uriaz Navarro Carrasco "),we(),be(11,"p",9),V(12," Especialista en desarrollo del talento humano y transformaci\xF3n organizacional "),we(),be(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),nt(17,"i",14),be(18,"small"),V(19,"Capacitaci\xF3n Empresarial"),we()()(),be(20,"div",12)(21,"div",13),nt(22,"i",15),be(23,"small"),V(24,"Talleres Especializados"),we()()(),be(25,"div",12)(26,"div",13),nt(27,"i",16),be(28,"small"),V(29,"Desarrollo Organizacional"),we()()()()(),be(30,"div",17)(31,"a",18),nt(32,"i",19),V(33,"Contactar Ahora "),we(),be(34,"a",20),nt(35,"i",21),V(36,"Conocer M\xE1s "),we()()()(),be(37,"div",22)(38,"div",23)(39,"div",24)(40,"div",25),nt(41,"i",26),be(42,"h5",27),V(43,"Foto Profesional"),we(),be(44,"p",28),V(45,"Imagen del profesional"),we()()(),be(46,"div",29),nt(47,"div",30)(48,"div",31)(49,"div",32),we()()()()(),be(50,"div",33)(51,"div",34),nt(52,"i",35),we()()())},styles:['.hero-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;position:relative;overflow:hidden}.hero-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#667eeacc,#764ba2e6);z-index:1}.hero-banner[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{position:relative;z-index:2}.min-vh-75[_ngcontent-%COMP%]{min-height:75vh}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:3}.hero-content[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .2s both}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .4s both;text-shadow:0 2px 4px rgba(0,0,0,.3)}.hero-content[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .6s both}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .8s both}.hero-content[_ngcontent-%COMP%]   .hero-cta[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1s both}.hero-image-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInRight 1s ease-out .5s both}.professional-image-placeholder[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.professional-image-placeholder[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 20px 40px #00000026!important}.floating-shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.floating-shape.shape-1[_ngcontent-%COMP%]{width:80px;height:80px;top:20%;right:20%;animation-delay:0s}.floating-shape.shape-2[_ngcontent-%COMP%]{width:120px;height:120px;bottom:30%;right:10%;animation-delay:2s}.floating-shape.shape-3[_ngcontent-%COMP%]{width:60px;height:60px;top:60%;right:30%;animation-delay:4s}.scroll-indicator[_ngcontent-%COMP%]{z-index:3}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]:hover{transform:translateY(5px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.animate-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s infinite}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out both}@media (max-width: 991.98px){.hero-banner[_ngcontent-%COMP%]{min-height:auto}.hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem!important}.hero-banner[_ngcontent-%COMP%]   .hero-image-container[_ngcontent-%COMP%]{padding:2rem 1rem}.floating-shape[_ngcontent-%COMP%]{display:none}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-bottom:0}}@media (max-width: 575.98px){.hero-content[_ngcontent-%COMP%]{padding:2rem 1rem!important}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem!important}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}']})};var iv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yn({type:n,selectors:[["app-workshops-promo"]],decls:118,vars:0,consts:[["id","workshops",1,"workshops-section","py-5","bg-light","position-relative"],[1,"container"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-mortarboard-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"lead","text-muted"],[1,"row","g-4","mb-5"],[1,"col-lg-4","col-md-6"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover"],[1,"service-icon","mb-4"],[1,"icon-wrapper","bg-primary","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-building","text-primary","fs-1"],[1,"fw-bold","text-dark","mb-3"],[1,"text-muted","mb-4"],[1,"list-unstyled","text-muted","small"],[1,"mb-2"],[1,"bi","bi-check-circle-fill","text-success","me-2"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover","featured"],[1,"featured-badge"],[1,"badge","bg-warning","text-dark","small"],[1,"icon-wrapper","bg-warning","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-briefcase-fill","text-warning","fs-1"],[1,"icon-wrapper","bg-success","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-mic-fill","text-success","fs-1"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"benefits-container","bg-white","rounded-4","shadow-sm","p-4","p-lg-5"],[1,"row","align-items-center"],[1,"col-lg-6","mb-4","mb-lg-0"],[1,"col-lg-6"],[1,"row","g-3"],[1,"col-6"],[1,"benefit-item","text-center","p-3"],[1,"benefit-icon","bg-primary","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-target","text-primary","fs-5"],[1,"fw-semibold","text-dark","mb-1"],[1,"text-muted"],[1,"benefit-icon","bg-success","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-people-fill","text-success","fs-5"],[1,"benefit-icon","bg-warning","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-award-fill","text-warning","fs-5"],[1,"benefit-icon","bg-info","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-headset","text-info","fs-5"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-mortarboard-fill","text-primary",2,"font-size","15rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),nt(6,"i",6),V(7,"Programas Profesionales "),we()(),be(8,"h2",7),V(9,"Talleres y Programas de Capacitaci\xF3n"),we(),be(10,"p",8),V(11," Soluciones integrales de capacitaci\xF3n dise\xF1adas para potenciar el talento humano y fortalecer las competencias organizacionales de tu empresa. "),we()()(),be(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),nt(17,"i",14),we()(),be(18,"h4",15),V(19,"Talleres Institucionales"),we(),be(20,"p",16),V(21," Programas especializados para instituciones p\xFAblicas y privadas, enfocados en el desarrollo organizacional y mejora de procesos. "),we(),be(22,"ul",17)(23,"li",18),nt(24,"i",19),V(25,"Liderazgo y gesti\xF3n de equipos"),we(),be(26,"li",18),nt(27,"i",19),V(28,"Comunicaci\xF3n efectiva"),we(),be(29,"li",18),nt(30,"i",19),V(31,"Resoluci\xF3n de conflictos"),we()()()(),be(32,"div",10)(33,"div",20)(34,"div",21)(35,"span",22),V(36,"M\xE1s Solicitado"),we()(),be(37,"div",12)(38,"div",23),nt(39,"i",24),we()(),be(40,"h4",15),V(41,"Capacitaci\xF3n Empresarial"),we(),be(42,"p",16),V(43," Programas personalizados para empresas que buscan optimizar el rendimiento y bienestar de sus colaboradores. "),we(),be(44,"ul",17)(45,"li",18),nt(46,"i",19),V(47,"Habilidades blandas"),we(),be(48,"li",18),nt(49,"i",19),V(50,"Bienestar laboral"),we(),be(51,"li",18),nt(52,"i",19),V(53,"Productividad y motivaci\xF3n"),we()()()(),be(54,"div",10)(55,"div",11)(56,"div",12)(57,"div",25),nt(58,"i",26),we()(),be(59,"h4",15),V(60,"Charlas Especializadas"),we(),be(61,"p",16),V(62," Conferencias y charlas magistrales sobre temas espec\xEDficos del desarrollo humano y organizacional. "),we(),be(63,"ul",17)(64,"li",18),nt(65,"i",19),V(66,"Psicolog\xEDa organizacional"),we(),be(67,"li",18),nt(68,"i",19),V(69,"Gesti\xF3n del cambio"),we(),be(70,"li",18),nt(71,"i",19),V(72,"Inteligencia emocional"),we()()()()(),be(73,"div",27)(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",31)(78,"h3",15),V(79,"\xBFPor qu\xE9 elegir nuestros programas?"),we(),be(80,"p",16),V(81," Cada programa est\xE1 dise\xF1ado con metodolog\xEDas probadas y adaptadas a las necesidades espec\xEDficas de tu organizaci\xF3n. "),we()(),be(82,"div",32)(83,"div",33)(84,"div",34)(85,"div",35)(86,"div",36),nt(87,"i",37),we(),be(88,"h6",38),V(89,"Enfoque Pr\xE1ctico"),we(),be(90,"small",39),V(91,"Metodolog\xEDa aplicada"),we()()(),be(92,"div",34)(93,"div",35)(94,"div",40),nt(95,"i",41),we(),be(96,"h6",38),V(97,"Grupos Reducidos"),we(),be(98,"small",39),V(99,"Atenci\xF3n personalizada"),we()()(),be(100,"div",34)(101,"div",35)(102,"div",42),nt(103,"i",43),we(),be(104,"h6",38),V(105,"Certificaci\xF3n"),we(),be(106,"small",39),V(107,"Reconocimiento oficial"),we()()(),be(108,"div",34)(109,"div",35)(110,"div",44),nt(111,"i",45),we(),be(112,"h6",38),V(113,"Seguimiento"),we(),be(114,"small",39),V(115,"Apoyo continuo"),we()()()()()()()()()(),be(116,"div",46),nt(117,"i",47),we()())},styles:[".workshops-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.section-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out both}.service-card[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 40px #0000001a!important;border-color:#0000001a}.service-card.featured[_ngcontent-%COMP%]{border:2px solid #ffc107;position:relative}.service-card.featured[_ngcontent-%COMP%]   .featured-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:20px;z-index:10}.service-card.featured[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #ffc10733!important}.service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1)}.transition-hover[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.benefits-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.05)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{transition:transform .3s ease}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.benefits-container[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{transition:transform .3s ease}.service-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}.service-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.service-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.service-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 991.98px){.workshops-section[_ngcontent-%COMP%]   .benefits-container[_ngcontent-%COMP%]{margin-top:2rem}.workshops-section[_ngcontent-%COMP%]   .benefits-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 767.98px){.service-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{margin-bottom:1rem}}.service-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .bi-check-circle-fill[_ngcontent-%COMP%]{font-size:.9rem}@media (max-width: 1199.98px){.workshops-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10rem!important}}@media (max-width: 767.98px){.workshops-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}"]})};var ov=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yn({type:n,selectors:[["app-about-me"]],decls:122,vars:0,consts:[["id","about",1,"about-section","py-5","bg-white","position-relative"],[1,"container"],[1,"row","align-items-center","g-5"],[1,"col-lg-5","order-lg-1","order-2"],[1,"about-image-container","position-relative"],[1,"professional-image","bg-light","rounded-4","shadow-lg","p-4","text-center"],[1,"bi","bi-person-circle","display-1","text-primary","mb-3"],[1,"text-muted"],[1,"credential-badge","credential-1","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"d-flex","align-items-center"],[1,"credential-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-primary"],[1,"mb-0","fw-semibold","small"],[1,"credential-badge","credential-2","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"credential-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-building","text-success"],[1,"col-lg-7","order-lg-2","order-1"],[1,"about-content"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","bg-opacity-10","text-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-person-badge-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"about-intro","mb-4"],[1,"lead","text-muted"],[1,"text-primary"],[1,"about-description","mb-4"],[1,"text-muted","mb-3"],[1,"expertise-areas","mb-4"],[1,"fw-bold","text-dark","mb-3"],[1,"row","g-3"],[1,"col-md-6"],[1,"expertise-item","d-flex","align-items-center","p-3","bg-light","rounded-3"],[1,"expertise-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-brain","text-primary"],[1,"mb-1","fw-semibold"],[1,"expertise-icon","bg-warning","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-people-fill","text-warning"],[1,"expertise-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-heart-pulse-fill","text-success"],[1,"expertise-icon","bg-info","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-lightbulb-fill","text-info"],[1,"professional-stats"],[1,"row","g-4"],[1,"col-4"],[1,"stat-item","text-center"],[1,"stat-number","display-6","fw-bold","text-primary"],[1,"stat-label","small","text-muted"],[1,"stat-number","display-6","fw-bold","text-success"],[1,"stat-number","display-6","fw-bold","text-warning"],[1,"position-absolute","top-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-person-workspace","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),nt(6,"i",6),be(7,"h6",7),V(8,"Abel Uriaz Navarro Carrasco"),we(),be(9,"small",7),V(10,"Psic\xF3logo Organizacional"),we()(),be(11,"div",8)(12,"div",9)(13,"div",10),nt(14,"i",11),we(),be(15,"div")(16,"h6",12),V(17,"Colegiatura"),we(),be(18,"small",7),V(19,"C.Ps.P. N\xB0 64179"),we()()()(),be(20,"div",13)(21,"div",9)(22,"div",14),nt(23,"i",15),we(),be(24,"div")(25,"h6",12),V(26,"RUC"),we(),be(27,"small",7),V(28,"10758489677"),we()()()()()(),be(29,"div",16)(30,"div",17)(31,"div",18)(32,"span",19),nt(33,"i",20),V(34,"Conoce al Profesional "),we()(),be(35,"h2",21),V(36,"Sobre m\xED"),we(),be(37,"div",22)(38,"p",23),V(39," Soy "),be(40,"strong",24),V(41,"Abel Uriaz Navarro Carrasco"),we(),V(42,", psic\xF3logo de profesi\xF3n con especializaci\xF3n en el desarrollo del talento humano y transformaci\xF3n organizacional. "),we()(),be(43,"div",25)(44,"p",26),V(45," Me dedico a brindar "),be(46,"strong"),V(47,"talleres, charlas y programas de capacitaci\xF3n"),we(),V(48," dirigidos a instituciones y empresas, con el objetivo de fortalecer competencias personales, grupales y organizacionales que generen un impacto positivo duradero. "),we(),be(49,"p",7),V(50," Mi enfoque integra conocimientos especializados en "),be(51,"strong"),V(52,"psicolog\xEDa organizacional, habilidades blandas, bienestar laboral y liderazgo"),we(),V(53,", aplicados de manera din\xE1mica y efectiva para potenciar el rendimiento de los equipos de trabajo. "),we()(),be(54,"div",27)(55,"h5",28),V(56,"\xC1reas de Especializaci\xF3n"),we(),be(57,"div",29)(58,"div",30)(59,"div",31)(60,"div",32),nt(61,"i",33),we(),be(62,"div")(63,"h6",34),V(64,"Psicolog\xEDa Organizacional"),we(),be(65,"small",7),V(66,"Comportamiento y clima laboral"),we()()()(),be(67,"div",30)(68,"div",31)(69,"div",35),nt(70,"i",36),we(),be(71,"div")(72,"h6",34),V(73,"Liderazgo y Equipos"),we(),be(74,"small",7),V(75,"Gesti\xF3n y desarrollo"),we()()()(),be(76,"div",30)(77,"div",31)(78,"div",37),nt(79,"i",38),we(),be(80,"div")(81,"h6",34),V(82,"Bienestar Laboral"),we(),be(83,"small",7),V(84,"Salud mental y productividad"),we()()()(),be(85,"div",30)(86,"div",31)(87,"div",39),nt(88,"i",40),we(),be(89,"div")(90,"h6",34),V(91,"Habilidades Blandas"),we(),be(92,"small",7),V(93,"Comunicaci\xF3n y empat\xEDa"),we()()()()()(),be(94,"div",41)(95,"div",42)(96,"div",43)(97,"div",44)(98,"div",45),V(99,"5+"),we(),be(100,"div",46),V(101,"A\xF1os de"),nt(102,"br"),V(103,"Experiencia"),we()()(),be(104,"div",43)(105,"div",44)(106,"div",47),V(107,"50+"),we(),be(108,"div",46),V(109,"Empresas"),nt(110,"br"),V(111,"Capacitadas"),we()()(),be(112,"div",43)(113,"div",44)(114,"div",48),V(115,"1000+"),we(),be(116,"div",46),V(117,"Profesionales"),nt(118,"br"),V(119,"Formados"),we()()()()()()()()(),be(120,"div",49),nt(121,"i",50),we()())},styles:[".about-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.about-image-container[_ngcontent-%COMP%]{position:relative}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #0000001a!important}.credential-badge[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(0,0,0,.05);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.credential-badge[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #00000026!important}.credential-badge.credential-1[_ngcontent-%COMP%]{top:10%;right:-15%;animation:_ngcontent-%COMP%_fadeInRight .8s ease-out .5s both}.credential-badge.credential-2[_ngcontent-%COMP%]{bottom:20%;left:-15%;animation:_ngcontent-%COMP%_fadeInLeft .8s ease-out .7s both}.about-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .3s both}.about-content[_ngcontent-%COMP%]   .section-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .1s both}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .3s both}.about-content[_ngcontent-%COMP%]   .about-intro[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .5s both}.about-content[_ngcontent-%COMP%]   .about-description[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .7s both}.about-content[_ngcontent-%COMP%]   .expertise-areas[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .9s both}.about-content[_ngcontent-%COMP%]   .professional-stats[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1.1s both}.expertise-item[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid transparent}.expertise-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background-color:#fff!important;border-color:#0000001a;box-shadow:0 8px 25px #0000001a}.expertise-item[_ngcontent-%COMP%]:hover   .expertise-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.expertise-icon[_ngcontent-%COMP%]{transition:transform .3s ease;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.stat-item[_ngcontent-%COMP%]{transition:transform .3s ease}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-item[_ngcontent-%COMP%]:hover   .stat-number[_ngcontent-%COMP%]{transform:scale(1.1)}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{transition:transform .3s ease}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@media (max-width: 991.98px){.about-image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.about-image-container[_ngcontent-%COMP%]   .credential-badge[_ngcontent-%COMP%]{position:static!important;display:inline-block;margin:1rem .5rem 0;transform:none!important}.about-content[_ngcontent-%COMP%]{text-align:center}.about-content[_ngcontent-%COMP%]   .expertise-areas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767.98px){.professional-stats[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}.professional-stats[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2.5rem!important}.expertise-item[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center;flex-direction:column}.expertise-item[_ngcontent-%COMP%]   .expertise-icon[_ngcontent-%COMP%]{margin-bottom:.5rem!important;margin-right:0!important}.credential-badge[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:.5rem auto!important}}@media (max-width: 1199.98px){.about-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8rem!important}}@media (max-width: 767.98px){.about-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}"]})};var sv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yn({type:n,selectors:[["app-contact-info"]],decls:98,vars:0,consts:[["id","contact",1,"contact-section","py-5","bg-dark","text-white","position-relative","overflow-hidden"],[1,"container"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-warning","text-dark","px-3","py-2","rounded-pill"],[1,"bi","bi-telephone-fill","me-2"],[1,"display-5","fw-bold","mb-4"],[1,"lead","text-white-50"],[1,"row","g-4","justify-content-center"],[1,"col-lg-4","col-md-6"],[1,"contact-card","h-100","bg-white","bg-opacity-10","rounded-4","p-4","text-center","backdrop-blur"],[1,"contact-icon","mb-4"],[1,"icon-wrapper","bg-success","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-whatsapp","text-white","fs-2"],[1,"fw-bold","mb-3"],[1,"text-white-50","mb-4"],["href","https://wa.me/tu-numero","target","_blank",1,"btn","btn-success","btn-lg","w-100","shadow-sm"],[1,"bi","bi-whatsapp","me-2"],[1,"icon-wrapper","bg-primary","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-facebook","text-white","fs-2"],["href","https://facebook.com/tu-pagina","target","_blank",1,"btn","btn-primary","btn-lg","w-100","shadow-sm"],[1,"bi","bi-facebook","me-2"],[1,"icon-wrapper","bg-warning","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-envelope-fill","text-white","fs-2"],["href","mailto:tu.email@example.com",1,"btn","btn-warning","btn-lg","w-100","shadow-sm","text-dark"],[1,"bi","bi-envelope-fill","me-2"],[1,"row","justify-content-center","mt-5"],[1,"col-lg-10"],[1,"additional-info","bg-white","bg-opacity-5","rounded-4","p-4","p-lg-5","backdrop-blur"],[1,"row","align-items-center"],[1,"col-lg-8","mb-4","mb-lg-0"],[1,"text-white-50","mb-0"],[1,"col-lg-4","text-center"],[1,"cta-buttons"],["href","https://wa.me/tu-numero?text=Hola,%20me%20interesa%20una%20cotizaci\xF3n%20para%20capacitaci\xF3n","target","_blank",1,"btn","btn-outline-warning","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-calculator","me-2"],[1,"credentials-footer"],[1,"row","g-4","justify-content-center","align-items-center"],[1,"col-auto"],[1,"credential-item","d-flex","align-items-center"],[1,"credential-icon","bg-white","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-warning"],[1,"text-start"],[1,"mb-0","fw-semibold"],[1,"text-white-50"],[1,"bi","bi-building","text-warning"],[1,"bi","bi-award-fill","text-warning"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-telephone-fill","text-warning",2,"font-size","15rem"],[1,"position-absolute","bottom-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-chat-dots-fill","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),nt(6,"i",6),V(7,"Contacto Profesional "),we()(),be(8,"h2",7),V(9,"\xBFListo para transformar tu organizaci\xF3n?"),we(),be(10,"p",8),V(11," Conecta conmigo para dise\xF1ar un programa de capacitaci\xF3n personalizado que impulse el crecimiento de tu equipo y organizaci\xF3n. "),we()()(),be(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),nt(17,"i",14),we()(),be(18,"h4",15),V(19,"WhatsApp"),we(),be(20,"p",16),V(21," Conecta directamente conmigo para una consulta r\xE1pida y personalizada. "),we(),be(22,"a",17),nt(23,"i",18),V(24,"+51 9XX XXX XXX "),we()()(),be(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",19),nt(29,"i",20),we()(),be(30,"h4",15),V(31,"Facebook"),we(),be(32,"p",16),V(33," S\xEDgueme en redes sociales para contenido profesional y actualizaciones. "),we(),be(34,"a",21),nt(35,"i",22),V(36,"Seguir en Facebook "),we()()(),be(37,"div",10)(38,"div",11)(39,"div",12)(40,"div",23),nt(41,"i",24),we()(),be(42,"h4",15),V(43,"Email"),we(),be(44,"p",16),V(45," Env\xEDame un correo detallado con tus necesidades de capacitaci\xF3n. "),we(),be(46,"a",25),nt(47,"i",26),V(48,"Enviar Email "),we()()()(),be(49,"div",27)(50,"div",28)(51,"div",29)(52,"div",30)(53,"div",31)(54,"h4",15),V(55,"\xBFNecesitas una cotizaci\xF3n personalizada?"),we(),be(56,"p",32),V(57," Cu\xE9ntame sobre tu organizaci\xF3n, objetivos y necesidades espec\xEDficas. Dise\xF1ar\xE9 una propuesta de capacitaci\xF3n adaptada a tu presupuesto y cronograma. "),we()(),be(58,"div",33)(59,"div",34)(60,"a",35),nt(61,"i",36),V(62,"Solicitar Cotizaci\xF3n "),we()()()()()()(),be(63,"div",27)(64,"div",3)(65,"div",37)(66,"div",38)(67,"div",39)(68,"div",40)(69,"div",41),nt(70,"i",42),we(),be(71,"div",43)(72,"h6",44),V(73,"Colegiatura"),we(),be(74,"small",45),V(75,"C.Ps.P. N\xB0 64179"),we()()()(),be(76,"div",39)(77,"div",40)(78,"div",41),nt(79,"i",46),we(),be(80,"div",43)(81,"h6",44),V(82,"RUC"),we(),be(83,"small",45),V(84,"10758489677"),we()()()(),be(85,"div",39)(86,"div",40)(87,"div",41),nt(88,"i",47),we(),be(89,"div",43)(90,"h6",44),V(91,"Especialista"),we(),be(92,"small",45),V(93,"Desarrollo Humano"),we()()()()()()()()(),be(94,"div",48),nt(95,"i",49),we(),be(96,"div",50),nt(97,"i",51),we()())},styles:['.contact-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3c72,#2a5298);position:relative}.contact-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#1e3c72e6,#2a5298cc);z-index:1}.contact-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.backdrop-blur[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.contact-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.1)}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);background-color:#ffffff26!important;box-shadow:0 20px 40px #0000004d;border-color:#fff3}.contact-card[_ngcontent-%COMP%]:hover   .contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1)}.contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:all .3s ease;box-shadow:0 8px 25px #0003}.additional-info[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1)}.additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:all .3s ease}.additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #ffc1074d}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{transition:transform .3s ease}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover   .credential-icon[_ngcontent-%COMP%]{transform:scale(1.1);background-color:#fff3!important}.credentials-footer[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{transition:all .3s ease;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.contact-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}.contact-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.contact-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.contact-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.5s}.additional-info[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .7s both}.credentials-footer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .9s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn.btn-success[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #19875466}.btn.btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #0d6efd66}.btn.btn-warning[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffc10766}.btn.btn-outline-warning[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffc1074d}@media (max-width: 991.98px){.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{text-align:center}.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]{margin-top:2rem}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center;text-align:center}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767.98px){.contact-card[_ngcontent-%COMP%]{margin-bottom:2rem}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.contact-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.75rem 1rem}.additional-info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{margin-right:1rem!important}}@media (max-width: 1199.98px){.contact-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10rem!important}}@media (max-width: 767.98px){.contact-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}']})};var av=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yn({type:n,selectors:[["app-landing-page"]],decls:5,vars:0,consts:[[1,"landing-page"]],template:function(t,r){t&1&&(J(0,"div",0),ke(1,"app-banner")(2,"app-workshops-promo")(3,"app-about-me")(4,"app-contact-info"),ne())},dependencies:[rv,iv,ov,sv],styles:[".landing-page[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{position:relative}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa80}@media (prefers-reduced-motion: no-preference){.landing-page[_ngcontent-%COMP%]{scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);transition:all .6s cubic-bezier(.4,0,.2,1)}}.landing-page[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{z-index:1}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] + section[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 991.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}}@media (max-width: 767.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:2rem!important;padding-bottom:2rem!important}}@media print{.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}}"]})};var y6=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(tt(Ro),tt(oi))};static \u0275dir=Nn({type:n})}return n})(),hv=(()=>{class n extends y6{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ko(n)))(i||n)}})();static \u0275dir=Nn({type:n,features:[Ji]})}return n})(),mp=new Xe("");var xB={provide:mp,useExisting:Gi(()=>fv),multi:!0};function DB(){let n=eo()?eo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var MB=new Xe(""),fv=(()=>{class n extends y6{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!DB())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(tt(Ro),tt(oi),tt(MB,8))};static \u0275dir=Nn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Qe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ya([xB]),Ji]})}return n})();var RC=new Xe(""),IB=new Xe("");function AB(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function PB(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function c6(n){return null}function b6(n){return n!=null}function _6(n){return gl(n)?Pn(n):n}function w6(n){let e={};return n.forEach(t=>{e=t!=null?De(De({},e),t):e}),Object.keys(e).length===0?null:e}function C6(n,e){return e.map(t=>t(n))}function TB(n){return!n.validate}function E6(n){return n.map(e=>TB(e)?e:t=>e.validate(t))}function NB(n){if(!n)return null;let e=n.filter(b6);return e.length==0?null:function(t){return w6(C6(t,e))}}function S6(n){return n!=null?NB(E6(n)):null}function OB(n){if(!n)return null;let e=n.filter(b6);return e.length==0?null:function(t){let r=C6(t,e).map(_6);return Ub(r).pipe(ft(w6))}}function x6(n){return n!=null?OB(E6(n)):null}function u6(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kB(n){return n._rawValidators}function RB(n){return n._rawAsyncValidators}function TC(n){return n?Array.isArray(n)?n:[n]:[]}function cv(n,e){return Array.isArray(n)?n.includes(e):n===e}function d6(n,e){let t=TC(e);return TC(n).forEach(i=>{cv(t,i)||t.push(i)}),t}function h6(n,e){return TC(e).filter(t=>!cv(n,t))}var uv=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=S6(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=x6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},NC=class extends uv{name;get formDirective(){return null}get path(){return null}},gp=class extends uv{_parent=null;name=null;valueAccessor=null},OC=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},LB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fde=vt(De({},LB),{"[class.ng-submitted]":"isSubmitted"}),D6=(()=>{class n extends OC{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(tt(gp,2))};static \u0275dir=Nn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ti("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ji]})}return n})();var dp="VALID",lv="INVALID",Nd="PENDING",hp="DISABLED",kd=class{},dv=class extends kd{value;source;constructor(e,t){super(),this.value=e,this.source=t}},fp=class extends kd{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},pp=class extends kd{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Od=class extends kd{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function FB(n){return(pv(n)?n.validators:n)||null}function jB(n){return Array.isArray(n)?S6(n):n||null}function BB(n,e){return(pv(e)?e.asyncValidators:n)||null}function UB(n){return Array.isArray(n)?x6(n):n||null}function pv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var kC=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Lo(this.statusReactive)}set status(e){Lo(()=>this.statusReactive.set(e))}_status=Nf(()=>this.statusReactive());statusReactive=fs(void 0);get valid(){return this.status===dp}get invalid(){return this.status===lv}get pending(){return this.status==Nd}get disabled(){return this.status===hp}get enabled(){return this.status!==hp}errors;get pristine(){return Lo(this.pristineReactive)}set pristine(e){Lo(()=>this.pristineReactive.set(e))}_pristine=Nf(()=>this.pristineReactive());pristineReactive=fs(!0);get dirty(){return!this.pristine}get touched(){return Lo(this.touchedReactive)}set touched(e){Lo(()=>this.touchedReactive.set(e))}_touched=Nf(()=>this.touchedReactive());touchedReactive=fs(!1);get untouched(){return!this.touched}_events=new Kn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(d6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(d6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(h6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(h6(e,this._rawAsyncValidators))}hasValidator(e){return cv(this._rawValidators,e)}hasAsyncValidator(e){return cv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(vt(De({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new pp(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new pp(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(vt(De({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new fp(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new fp(!0,r))}markAsPending(e={}){this.status=Nd;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Od(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(vt(De({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=hp,this.errors=null,this._forEachChild(i=>{i.disable(vt(De({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dv(this.value,r)),this._events.next(new Od(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(vt(De({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=dp,this._forEachChild(r=>{r.enable(vt(De({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(vt(De({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dp||this.status===Nd)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dv(this.value,t)),this._events.next(new Od(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(vt(De({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hp:dp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Nd,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=_6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Od(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new cr,this.statusChanges=new cr}_calculateStatus(){return this._allControlsDisabled()?hp:this.errors?lv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nd)?Nd:this._anyControlsHaveStatus(lv)?lv:dp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new fp(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new pp(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=UB(this._rawAsyncValidators)}};var M6=new Xe("",{providedIn:"root",factory:()=>LC}),LC="always";function VB(n,e){return[...e.path,n]}function HB(n,e,t=LC){qB(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),GB(n,e),WB(n,e),$B(n,e),zB(n,e)}function f6(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zB(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qB(n,e){let t=kB(n);e.validator!==null?n.setValidators(u6(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=RB(n);e.asyncValidator!==null?n.setAsyncValidators(u6(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();f6(e._rawValidators,i),f6(e._rawAsyncValidators,i)}function GB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&I6(n,e)})}function $B(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&I6(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function I6(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WB(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function YB(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function KB(n){return Object.getPrototypeOf(n.constructor)===hv}function XB(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===fv?t=o:KB(o)?r=o:i=o}),i||r||t||null}function p6(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function g6(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ZB=class extends kC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(FB(t),BB(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(g6(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){p6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){p6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){g6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var JB={provide:gp,useExisting:Gi(()=>FC)},m6=Promise.resolve(),FC=(()=>{class n extends gp{_changeDetectorRef;callSetDisabledState;control=new ZB;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new cr;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=XB(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),YB(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){HB(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){m6.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ec(r);m6.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?VB(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(tt(NC,9),tt(RC,10),tt(IB,10),tt(mp,10),tt(Fo,8),tt(M6,8))};static \u0275dir=Nn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ya([JB]),Ji,vs]})}return n})();var QB={provide:mp,useExisting:Gi(()=>jC),multi:!0},jC=(()=>{class n extends hv{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ko(n)))(i||n)}})();static \u0275dir=Nn({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Qe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ya([QB]),Ji]})}return n})();var eU={provide:mp,useExisting:Gi(()=>gv),multi:!0};function A6(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function tU(n){return n.split(":")[0]}var gv=(()=>{class n extends hv{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=Ee(ga).injector;appRefDestroyRef=this.appRefInjector.get(Zi);destroyRef=Ee(Zi);cdr=Ee(Fo);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,i1({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=A6(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=tU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ko(n)))(i||n)}})();static \u0275dir=Nn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Qe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ya([eU]),Ji]})}return n})(),P6=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(A6(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(tt(oi),tt(Ro),tt(gv,9))};static \u0275dir=Nn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),nU={provide:mp,useExisting:Gi(()=>T6),multi:!0};function v6(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function rU(n){return n.split(":")[0]}var T6=(()=>{class n extends hv{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=rU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ko(n)))(i||n)}})();static \u0275dir=Nn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Qe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ya([nU]),Ji]})}return n})(),N6=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(v6(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(v6(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(tt(oi),tt(Ro),tt(T6,9))};static \u0275dir=Nn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function O6(n){return typeof n=="number"?n:parseFloat(n)}var k6=(()=>{class n{_validator=c6;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):c6,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Nn({type:n,features:[vs]})}return n})(),iU={provide:RC,useExisting:Gi(()=>BC),multi:!0},BC=(()=>{class n extends k6{max;inputName="max";normalizeInput=t=>O6(t);createValidator=t=>PB(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=ko(n)))(i||n)}})();static \u0275dir=Nn({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ma("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[ya([iU]),Ji]})}return n})(),oU={provide:RC,useExisting:Gi(()=>UC),multi:!0},UC=(()=>{class n extends k6{min;inputName="min";normalizeInput=t=>O6(t);createValidator=t=>AB(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=ko(n)))(i||n)}})();static \u0275dir=Nn({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ma("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[ya([oU]),Ji]})}return n})();var sU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ys({type:n});static \u0275inj=Io({})}return n})();var R6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:M6,useValue:t.callSetDisabledState??LC}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ys({type:n});static \u0275inj=Io({imports:[sU]})}return n})();var _i=cS(rP());var Gr=Uint8Array,Li=Uint16Array,KE=Int32Array,Ny=new Gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oy=new Gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),GE=new Gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aP=function(n,e){for(var t=new Li(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new KE(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},lP=aP(Ny,2),cP=lP.b,$E=lP.r;cP[28]=258,$E[258]=28;var uP=aP(Oy,0),aG=uP.b,iP=uP.r,WE=new Li(32768);for(tn=0;tn<32768;++tn)La=(tn&43690)>>1|(tn&21845)<<1,La=(La&52428)>>2|(La&13107)<<2,La=(La&61680)>>4|(La&3855)<<4,WE[tn]=((La&65280)>>8|(La&255)<<8)>>1;var La,tn,ks=function(n,e,t){for(var r=n.length,i=0,o=new Li(e);i<r;++i)n[i]&&++o[n[i]-1];var s=new Li(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new Li(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],d=e-n[i],h=s[n[i]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)a[WE[h]>>l]=c}else for(a=new Li(r),i=0;i<r;++i)n[i]&&(a[i]=WE[s[n[i]-1]++]>>15-n[i]);return a},Tl=new Gr(288);for(tn=0;tn<144;++tn)Tl[tn]=8;var tn;for(tn=144;tn<256;++tn)Tl[tn]=9;var tn;for(tn=256;tn<280;++tn)Tl[tn]=7;var tn;for(tn=280;tn<288;++tn)Tl[tn]=8;var tn,Vp=new Gr(32);for(tn=0;tn<32;++tn)Vp[tn]=5;var tn,lG=ks(Tl,9,0),cG=ks(Tl,9,1),uG=ks(Vp,5,0),dG=ks(Vp,5,1),HE=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Wo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},zE=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},XE=function(n){return(n+7)/8|0},dP=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new Gr(n.subarray(e,t))};var hG=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Yo=function(n,e,t){var r=new Error(e||hG[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Yo),!t)throw r;return r},fG=function(n,e,t,r){var i=n.length,o=r?r.length:0;if(!i||e.f&&!e.l)return t||new Gr(0);var s=!t,a=s||e.i!=2,l=e.i;s&&(t=new Gr(i*3));var c=function(Pe){var ze=t.length;if(Pe>ze){var Ue=new Gr(Math.max(ze*2,Pe));Ue.set(t),t=Ue}},d=e.f||0,h=e.p||0,m=e.b||0,p=e.l,y=e.d,_=e.m,C=e.n,w=i*8;do{if(!p){d=Wo(n,h,1);var x=Wo(n,h+1,3);if(h+=3,x)if(x==1)p=cG,y=dG,_=9,C=5;else if(x==2){var Q=Wo(n,h,31)+257,q=Wo(n,h+10,15)+4,j=Q+Wo(n,h+5,31)+1;h+=14;for(var re=new Gr(j),se=new Gr(19),P=0;P<q;++P)se[GE[P]]=Wo(n,h+P*3,7);h+=q*3;for(var T=HE(se),G=(1<<T)-1,z=ks(se,T,1),P=0;P<j;){var de=z[Wo(n,h,G)];h+=de&15;var O=de>>4;if(O<16)re[P++]=O;else{var ce=0,ve=0;for(O==16?(ve=3+Wo(n,h,3),h+=2,ce=re[P-1]):O==17?(ve=3+Wo(n,h,7),h+=3):O==18&&(ve=11+Wo(n,h,127),h+=7);ve--;)re[P++]=ce}}var Z=re.subarray(0,Q),he=re.subarray(Q);_=HE(Z),C=HE(he),p=ks(Z,_,1),y=ks(he,C,1)}else Yo(1);else{var O=XE(h)+4,k=n[O-4]|n[O-3]<<8,H=O+k;if(H>i){l&&Yo(0);break}a&&c(m+k),t.set(n.subarray(O,H),m),e.b=m+=k,e.p=h=H*8,e.f=d;continue}if(h>w){l&&Yo(0);break}}a&&c(m+131072);for(var ge=(1<<_)-1,Ne=(1<<C)-1,M=h;;M=h){var ce=p[zE(n,h)&ge],L=ce>>4;if(h+=ce&15,h>w){l&&Yo(0);break}if(ce||Yo(2),L<256)t[m++]=L;else if(L==256){M=h,p=null;break}else{var B=L-254;if(L>264){var P=L-257,W=Ny[P];B=Wo(n,h,(1<<W)-1)+cP[P],h+=W}var te=y[zE(n,h)&Ne],ue=te>>4;te||Yo(3),h+=te&15;var he=aG[ue];if(ue>3){var W=Oy[ue];he+=zE(n,h)&(1<<W)-1,h+=W}if(h>w){l&&Yo(0);break}a&&c(m+131072);var fe=m+B;if(m<he){var pe=o-he,Te=Math.min(he,fe);for(pe+m<0&&Yo(3);m<Te;++m)t[m]=r[pe+m]}for(;m<fe;++m)t[m]=t[m-he]}}e.l=p,e.p=M,e.b=m,e.f=d,p&&(d=1,e.m=_,e.d=y,e.n=C)}while(!d);return m!=t.length&&s?dP(t,0,m):t.subarray(0,m)},Fa=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Bp=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},qE=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:fP,l:0};if(i==1){var s=new Gr(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(H,Q){return H.f-Q.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,d=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=d&&t[c].f<t[h].f?c++:h++],t[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=o[0].s,r=1;r<i;++r)o[r].s>m&&(m=o[r].s);var p=new Li(m+1),y=YE(t[d-1],p,0);if(y>e){var r=0,_=0,C=y-e,w=1<<C;for(o.sort(function(Q,q){return p[q.s]-p[Q.s]||Q.f-q.f});r<i;++r){var x=o[r].s;if(p[x]>e)_+=w-(1<<y-p[x]),p[x]=e;else break}for(_>>=C;_>0;){var O=o[r].s;p[O]<e?_-=1<<e-p[O]++-1:++r}for(;r>=0&&_;--r){var k=o[r].s;p[k]==e&&(--p[k],++_)}y=e}return{t:new Gr(p),l:y}},YE=function(n,e,t){return n.s==-1?Math.max(YE(n.l,e,t+1),YE(n.r,e,t+1)):e[n.s]=t},oP=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Li(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},Up=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},hP=function(n,e,t){var r=t.length,i=XE(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},sP=function(n,e,t,r,i,o,s,a,l,c,d){Fa(e,d++,t),++i[256];for(var h=qE(i,15),m=h.t,p=h.l,y=qE(o,15),_=y.t,C=y.l,w=oP(m),x=w.c,O=w.n,k=oP(_),H=k.c,Q=k.n,q=new Li(19),j=0;j<x.length;++j)++q[x[j]&31];for(var j=0;j<H.length;++j)++q[H[j]&31];for(var re=qE(q,7),se=re.t,P=re.l,T=19;T>4&&!se[GE[T-1]];--T);var G=c+5<<3,z=Up(i,Tl)+Up(o,Vp)+s,de=Up(i,m)+Up(o,_)+s+14+3*T+Up(q,se)+2*q[16]+3*q[17]+7*q[18];if(l>=0&&G<=z&&G<=de)return hP(e,d,n.subarray(l,l+c));var ce,ve,Z,he;if(Fa(e,d,1+(de<z)),d+=2,de<z){ce=ks(m,p,0),ve=m,Z=ks(_,C,0),he=_;var ge=ks(se,P,0);Fa(e,d,O-257),Fa(e,d+5,Q-1),Fa(e,d+10,T-4),d+=14;for(var j=0;j<T;++j)Fa(e,d+3*j,se[GE[j]]);d+=3*T;for(var Ne=[x,H],M=0;M<2;++M)for(var L=Ne[M],j=0;j<L.length;++j){var B=L[j]&31;Fa(e,d,ge[B]),d+=se[B],B>15&&(Fa(e,d,L[j]>>5&127),d+=L[j]>>12)}}else ce=lG,ve=Tl,Z=uG,he=Vp;for(var j=0;j<a;++j){var W=r[j];if(W>255){var B=W>>18&31;Bp(e,d,ce[B+257]),d+=ve[B+257],B>7&&(Fa(e,d,W>>23&31),d+=Ny[B]);var te=W&31;Bp(e,d,Z[te]),d+=he[te],te>3&&(Bp(e,d,W>>5&8191),d+=Oy[te])}else Bp(e,d,ce[W]),d+=ve[W]}return Bp(e,d,ce[256]),d+ve[256]},pG=new KE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fP=new Gr(0),gG=function(n,e,t,r,i,o){var s=o.z||n.length,a=new Gr(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,d=(o.r||0)&7;if(e){d&&(l[0]=o.r>>3);for(var h=pG[e-1],m=h>>13,p=h&8191,y=(1<<t)-1,_=o.p||new Li(32768),C=o.h||new Li(y+1),w=Math.ceil(t/3),x=2*w,O=function(dt){return(n[dt]^n[dt+1]<<w^n[dt+2]<<x)&y},k=new KE(25e3),H=new Li(288),Q=new Li(32),q=0,j=0,re=o.i||0,se=0,P=o.w||0,T=0;re+2<s;++re){var G=O(re),z=re&32767,de=C[G];if(_[z]=de,C[G]=z,P<=re){var ce=s-re;if((q>7e3||se>24576)&&(ce>423||!c)){d=sP(n,l,0,k,H,Q,j,se,T,re-T,d),se=q=j=0,T=re;for(var ve=0;ve<286;++ve)H[ve]=0;for(var ve=0;ve<30;++ve)Q[ve]=0}var Z=2,he=0,ge=p,Ne=z-de&32767;if(ce>2&&G==O(re-Ne))for(var M=Math.min(m,ce)-1,L=Math.min(32767,re),B=Math.min(258,ce);Ne<=L&&--ge&&z!=de;){if(n[re+Z]==n[re+Z-Ne]){for(var W=0;W<B&&n[re+W]==n[re+W-Ne];++W);if(W>Z){if(Z=W,he=Ne,W>M)break;for(var te=Math.min(Ne,W-2),ue=0,ve=0;ve<te;++ve){var fe=re-Ne+ve&32767,pe=_[fe],Te=fe-pe&32767;Te>ue&&(ue=Te,de=fe)}}}z=de,de=_[z],Ne+=z-de&32767}if(he){k[se++]=268435456|$E[Z]<<18|iP[he];var Pe=$E[Z]&31,ze=iP[he]&31;j+=Ny[Pe]+Oy[ze],++H[257+Pe],++Q[ze],P=re+Z,++q}else k[se++]=n[re],++H[n[re]]}}for(re=Math.max(re,P);re<s;++re)k[se++]=n[re],++H[n[re]];d=sP(n,l,c,k,H,Q,j,se,T,re-T,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=C,o.p=_,o.i=re,o.w=P)}else{for(var re=o.w||0;re<s+c;re+=65535){var Ue=re+65535;Ue>=s&&(l[d/8|0]=c,Ue=s),d=hP(l,d+1,n.subarray(re,Ue))}o.i=s}return dP(a,0,r+XE(d)+i)};var pP=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},mG=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Gr(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return gG(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var gP=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var vG=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=pP();i.p(e.dictionary),gP(n,2,i.d())}},yG=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Yo(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Yo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function ky(n,e){e||(e={});var t=pP();t.p(n);var r=mG(n,e,e.dictionary?6:2,4);return vG(r,e),gP(r,r.length-4,t.d()),r}function mP(n,e){return fG(n.subarray(yG(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var bG=typeof TextDecoder<"u"&&new TextDecoder,_G=0;try{bG.decode(fP,{stream:!0}),_G=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ZE(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var _n={log:ZE,warn:function(n){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):ZE.call(null,arguments))},error:function(n){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):ZE(n))}};function JE(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Fc(r.response,e,t)},r.onerror=function(){_n.error("could not download file")},r.send()}function vP(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ry(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Hp,r3,Fc=pt.saveAs||((typeof window>"u"?"undefined":hn(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=pt.URL||pt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?vP(i.href)?JE(n,e,t):Ry(i,i.target="_blank"):Ry(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ry(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(vP(n))JE(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Ry(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:hn(o)!=="object"&&(_n.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return JE(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(pt.HTMLElement)||pt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":hn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(n)}else{var l=pt.URL||pt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function kP(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,s=i.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function QE(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=$r(t,r,i,o,e[0],7,-680876936),o=$r(o,t,r,i,e[1],12,-389564586),i=$r(i,o,t,r,e[2],17,606105819),r=$r(r,i,o,t,e[3],22,-1044525330),t=$r(t,r,i,o,e[4],7,-176418897),o=$r(o,t,r,i,e[5],12,1200080426),i=$r(i,o,t,r,e[6],17,-1473231341),r=$r(r,i,o,t,e[7],22,-45705983),t=$r(t,r,i,o,e[8],7,1770035416),o=$r(o,t,r,i,e[9],12,-1958414417),i=$r(i,o,t,r,e[10],17,-42063),r=$r(r,i,o,t,e[11],22,-1990404162),t=$r(t,r,i,o,e[12],7,1804603682),o=$r(o,t,r,i,e[13],12,-40341101),i=$r(i,o,t,r,e[14],17,-1502002290),t=Wr(t,r=$r(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Wr(o,t,r,i,e[6],9,-1069501632),i=Wr(i,o,t,r,e[11],14,643717713),r=Wr(r,i,o,t,e[0],20,-373897302),t=Wr(t,r,i,o,e[5],5,-701558691),o=Wr(o,t,r,i,e[10],9,38016083),i=Wr(i,o,t,r,e[15],14,-660478335),r=Wr(r,i,o,t,e[4],20,-405537848),t=Wr(t,r,i,o,e[9],5,568446438),o=Wr(o,t,r,i,e[14],9,-1019803690),i=Wr(i,o,t,r,e[3],14,-187363961),r=Wr(r,i,o,t,e[8],20,1163531501),t=Wr(t,r,i,o,e[13],5,-1444681467),o=Wr(o,t,r,i,e[2],9,-51403784),i=Wr(i,o,t,r,e[7],14,1735328473),t=Yr(t,r=Wr(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Yr(o,t,r,i,e[8],11,-2022574463),i=Yr(i,o,t,r,e[11],16,1839030562),r=Yr(r,i,o,t,e[14],23,-35309556),t=Yr(t,r,i,o,e[1],4,-1530992060),o=Yr(o,t,r,i,e[4],11,1272893353),i=Yr(i,o,t,r,e[7],16,-155497632),r=Yr(r,i,o,t,e[10],23,-1094730640),t=Yr(t,r,i,o,e[13],4,681279174),o=Yr(o,t,r,i,e[0],11,-358537222),i=Yr(i,o,t,r,e[3],16,-722521979),r=Yr(r,i,o,t,e[6],23,76029189),t=Yr(t,r,i,o,e[9],4,-640364487),o=Yr(o,t,r,i,e[12],11,-421815835),i=Yr(i,o,t,r,e[15],16,530742520),t=Kr(t,r=Yr(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Kr(o,t,r,i,e[7],10,1126891415),i=Kr(i,o,t,r,e[14],15,-1416354905),r=Kr(r,i,o,t,e[5],21,-57434055),t=Kr(t,r,i,o,e[12],6,1700485571),o=Kr(o,t,r,i,e[3],10,-1894986606),i=Kr(i,o,t,r,e[10],15,-1051523),r=Kr(r,i,o,t,e[1],21,-2054922799),t=Kr(t,r,i,o,e[8],6,1873313359),o=Kr(o,t,r,i,e[15],10,-30611744),i=Kr(i,o,t,r,e[6],15,-1560198380),r=Kr(r,i,o,t,e[13],21,1309151649),t=Kr(t,r,i,o,e[4],6,-145523070),o=Kr(o,t,r,i,e[11],10,-1120210379),i=Kr(i,o,t,r,e[2],15,718787259),r=Kr(r,i,o,t,e[9],21,-343485551),n[0]=Ol(t,n[0]),n[1]=Ol(r,n[1]),n[2]=Ol(i,n[2]),n[3]=Ol(o,n[3])}function Gy(n,e,t,r,i,o){return e=Ol(Ol(e,n),Ol(r,o)),Ol(e<<i|e>>>32-i,t)}function $r(n,e,t,r,i,o,s){return Gy(e&t|~e&r,n,e,i,o,s)}function Wr(n,e,t,r,i,o,s){return Gy(e&r|t&~r,n,e,i,o,s)}function Yr(n,e,t,r,i,o,s){return Gy(e^t^r,n,e,i,o,s)}function Kr(n,e,t,r,i,o,s){return Gy(t^(e|~r),n,e,i,o,s)}function RP(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)QE(r,wG(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(QE(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,QE(r,i),r}function wG(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Hp=pt.atob.bind(pt),r3=pt.btoa.bind(pt);var yP="0123456789abcdef".split("");function CG(n){for(var e="",t=0;t<4;t++)e+=yP[n>>8*t+4&15]+yP[n>>8*t&15];return e}function EG(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function i3(n){return RP(n).map(EG).join("")}var SG=function(n){for(var e=0;e<n.length;e++)n[e]=CG(n[e]);return n.join("")}(RP("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ol(n,e){if(SG){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function o3(n,e){var t,r,i,o;if(n!==t){for(var s=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}t=n,r=a}else a=r;var h=e.length,m=0,p=0,y="";for(l=0;l<h;l++)p=(p+(d=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=d,s=a[(a[m]+a[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}var bP={print:4,modify:8,copy:16,"annot-forms":32};function Qd(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(bP.perm!==void 0)throw new Error("Invalid permission: "+a);i+=bP[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=i3(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=o3(this.encryptionKey,this.padding)}function eh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function _P(n){if(hn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){pt.console&&_n.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function zy(n){if(!(this instanceof zy))return new zy(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function LP(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function jc(n,e,t,r,i){if(!(this instanceof jc))return new jc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,LP.call(this,r,i)}function th(n,e,t,r,i){if(!(this instanceof th))return new th(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,LP.call(this,r,i)}function ct(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;hn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=_P;var y="1.3",_=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(g){y=g};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return C};var w=p.__private__.getPageFormat=function(g){return C[g]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},O=x.COMPAT;function k(){this.saveGraphicsState(),U(new ut(Ge,0,0,-Ge,0,Ha()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),c="n",O=x.ADVANCED}function H(){this.restoreGraphicsState(),c="S",O=x.COMPAT}var Q=p.__private__.combineFontStyleAndFontWeight=function(g,S){if(g=="bold"&&S=="normal"||g=="bold"&&S==400||g=="normal"&&S=="italic"||g=="bold"&&S=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return S&&(g=S==400||S==="normal"?g==="italic"?"italic":"normal":S!=700&&S!=="bold"||g!=="normal"?(S==700?"bold":S)+""+g:"bold"),g};p.advancedAPI=function(g){var S=O===x.COMPAT;return S&&k.call(this),typeof g!="function"||(g(this),S&&H.call(this)),this},p.compatAPI=function(g){var S=O===x.ADVANCED;return S&&H.call(this),typeof g!="function"||(g(this),S&&k.call(this)),this},p.isAdvancedAPI=function(){return O===x.ADVANCED};var q,j=function(g){if(O!==x.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=p.roundToPrecision=p.__private__.roundToPrecision=function(g,S){var F=e||S;if(isNaN(g)||isNaN(F))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(F).replace(/0+$/,"")};q=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return re(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return re(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return re(g,16)};var se=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return re(g,2)},P=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return re(g,3)},T=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return O===x.COMPAT?g*Ge:O===x.ADVANCED?g:void 0},G=function(g){return O===x.COMPAT?Ha()-g:O===x.ADVANCED?g:void 0},z=function(g){return T(G(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var de,ce="00000000000000000000000000000000",ve=p.__private__.getFileId=function(){return ce},Z=p.__private__.setFileId=function(g){return ce=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Br=new Qd(d.userPermissions,d.userPassword,d.ownerPassword,ce)),ce};p.setFileId=function(g){return Z(g),this},p.getFileId=function(){return ve()};var he=p.__private__.convertDateToPDFDate=function(g){var S=g.getTimezoneOffset(),F=S<0?"+":"-",$=Math.floor(Math.abs(S/60)),oe=Math.abs(S%60),ye=[F,B($),"'",B(oe),"'"].join("");return["D:",g.getFullYear(),B(g.getMonth()+1),B(g.getDate()),B(g.getHours()),B(g.getMinutes()),B(g.getSeconds()),ye].join("")},ge=p.__private__.convertPDFDateToDate=function(g){var S=parseInt(g.substr(2,4),10),F=parseInt(g.substr(6,2),10)-1,$=parseInt(g.substr(8,2),10),oe=parseInt(g.substr(10,2),10),ye=parseInt(g.substr(12,2),10),Ie=parseInt(g.substr(14,2),10);return new Date(S,F,$,oe,ye,Ie,0)},Ne=p.__private__.setCreationDate=function(g){var S;if(g===void 0&&(g=new Date),g instanceof Date)S=he(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");S=g}return de=S},M=p.__private__.getCreationDate=function(g){var S=de;return g==="jsDate"&&(S=ge(de)),S};p.setCreationDate=function(g){return Ne(g),this},p.getCreationDate=function(g){return M(g)};var L,B=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},W=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},te=0,ue=[],fe=[],pe=0,Te=[],Pe=[],ze=!1,Ue=fe,dt=function(){te=0,pe=0,fe=[],ue=[],Te=[],Gs=nr(),vo=nr()};p.__private__.setCustomOutputDestination=function(g){ze=!0,Ue=g};var _e=function(g){ze||(Ue=g)};p.__private__.resetCustomOutputDestination=function(){ze=!1,Ue=fe};var U=p.__private__.out=function(g){return g=g.toString(),pe+=g.length+1,Ue.push(g),Ue},Dt=p.__private__.write=function(g){return U(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},et=p.__private__.getArrayBuffer=function(g){for(var S=g.length,F=new ArrayBuffer(S),$=new Uint8Array(F);S--;)$[S]=g.charCodeAt(S);return F},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ae};var Re=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Re=O===x.ADVANCED?g/Ge:g,this};var qe,He=p.__private__.getFontSize=p.getFontSize=function(){return O===x.COMPAT?Re:Re*Ge},rt=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return rt=g,this},p.__private__.getR2L=p.getR2L=function(){return rt};var wt,Tt=p.__private__.setZoomMode=function(g){var S=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))qe=g;else if(isNaN(g)){if(S.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');qe=g}else qe=parseInt(g,10)};p.__private__.getZoomMode=function(){return qe};var jt,Kt=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');wt=g};p.__private__.getPageMode=function(){return wt};var un=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');jt=g};p.__private__.getLayoutMode=function(){return jt},p.__private__.setDisplayMode=p.setDisplayMode=function(g,S,F){return Tt(g),un(S),Kt(F),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(gt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[g]},p.__private__.getDocumentProperties=function(){return gt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var S in gt)gt.hasOwnProperty(S)&&g[S]&&(gt[S]=g[S]);return this},p.__private__.setDocumentProperty=function(g,S){if(Object.keys(gt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[g]=S};var Ut,Ge,jr,Zt,po,mn={},Mn={},Jo=[],nn={},Fl={},Rn={},go={},qs=null,Ln=0,Ct=[],rn=new _P(p),jl=n.hotfixes||[],Ar={},Qo={},es=[],ut=function g(S,F,$,oe,ye,Ie){if(!(this instanceof g))return new g(S,F,$,oe,ye,Ie);isNaN(S)&&(S=1),isNaN(F)&&(F=0),isNaN($)&&($=0),isNaN(oe)&&(oe=1),isNaN(ye)&&(ye=0),isNaN(Ie)&&(Ie=0),this._matrix=[S,F,$,oe,ye,Ie]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(g)},ut.prototype.multiply=function(g){var S=g.sx*this.sx+g.shy*this.shx,F=g.sx*this.shy+g.shy*this.sy,$=g.shx*this.sx+g.sy*this.shx,oe=g.shx*this.shy+g.sy*this.sy,ye=g.tx*this.sx+g.ty*this.shx+this.tx,Ie=g.tx*this.shy+g.ty*this.sy+this.ty;return new ut(S,F,$,oe,ye,Ie)},ut.prototype.decompose=function(){var g=this.sx,S=this.shy,F=this.shx,$=this.sy,oe=this.tx,ye=this.ty,Ie=Math.sqrt(g*g+S*S),$e=(g/=Ie)*F+(S/=Ie)*$;F-=g*$e,$-=S*$e;var it=Math.sqrt(F*F+$*$);return $e/=it,g*($/=it)<S*(F/=it)&&(g=-g,S=-S,$e=-$e,Ie=-Ie),{scale:new ut(Ie,0,0,it,0,0),translate:new ut(1,0,0,1,oe,ye),rotate:new ut(g,S,-S,g,0,0),skew:new ut(1,0,$e,1,0,0)}},ut.prototype.toString=function(g){return this.join(" ")},ut.prototype.inversed=function(){var g=this.sx,S=this.shy,F=this.shx,$=this.sy,oe=this.tx,ye=this.ty,Ie=1/(g*$-S*F),$e=$*Ie,it=-S*Ie,Mt=-F*Ie,Et=g*Ie;return new ut($e,it,Mt,Et,-$e*oe-Mt*ye,-it*oe-Et*ye)},ut.prototype.applyToPoint=function(g){var S=g.x*this.sx+g.y*this.shx+this.tx,F=g.x*this.shy+g.y*this.sy+this.ty;return new pu(S,F)},ut.prototype.applyToRectangle=function(g){var S=this.applyToPoint(g),F=this.applyToPoint(new pu(g.x+g.w,g.y+g.h));return new Mh(S.x,S.y,F.x-S.x,F.y-S.y)},ut.prototype.clone=function(){var g=this.sx,S=this.shy,F=this.shx,$=this.sy,oe=this.tx,ye=this.ty;return new ut(g,S,F,$,oe,ye)},p.Matrix=ut;var mo=p.matrixMult=function(g,S){return S.multiply(g)},ts=new ut(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ts;var ai=function(g,S){if(!Fl[g]){var F=(S instanceof jc?"Sh":"P")+(Object.keys(nn).length+1).toString(10);S.id=F,Fl[g]=F,nn[F]=S,rn.publish("addPattern",S)}};p.ShadingPattern=jc,p.TilingPattern=th,p.addShadingPattern=function(g,S){return j("addShadingPattern()"),ai(g,S),this},p.beginTilingPattern=function(g){j("beginTilingPattern()"),Tg(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,S){j("endTilingPattern()"),S.stream=Pe[L].join(`
`),ai(g,S),rn.publish("endTilingPattern",S),es.pop().restore()};var fr=p.__private__.newObject=function(){var g=nr();return Ci(g,!0),g},nr=p.__private__.newObjectDeferred=function(){return te++,ue[te]=function(){return pe},te},Ci=function(g,S){return S=typeof S=="boolean"&&S,ue[g]=pe,S&&U(g+" 0 obj"),g},tu=p.__private__.newAdditionalObject=function(){var g={objId:nr(),content:""};return Te.push(g),g},Gs=nr(),vo=nr(),yo=p.__private__.decodeColorString=function(g){var S=g.split(" ");if(S.length!==2||S[1]!=="g"&&S[1]!=="G")S.length===5&&(S[4]==="k"||S[4]==="K")&&(S=[(1-S[0])*(1-S[3]),(1-S[1])*(1-S[3]),(1-S[2])*(1-S[3]),"r"]);else{var F=parseFloat(S[0]);S=[F,F,F,"r"]}for(var $="#",oe=0;oe<3;oe++)$+=("0"+Math.floor(255*parseFloat(S[oe])).toString(16)).slice(-2);return $},bo=p.__private__.encodeColorString=function(g){var S;typeof g=="string"&&(g={ch1:g});var F=g.ch1,$=g.ch2,oe=g.ch3,ye=g.ch4,Ie=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof F=="string"&&F.charAt(0)!=="#"){var $e=new kP(F);if($e.ok)F=$e.toHex();else if(!/^\d*\.?\d*$/.test(F))throw new Error('Invalid color "'+F+'" passed to jsPDF.encodeColorString.')}if(typeof F=="string"&&/^#[0-9A-Fa-f]{3}$/.test(F)&&(F="#"+F[1]+F[1]+F[2]+F[2]+F[3]+F[3]),typeof F=="string"&&/^#[0-9A-Fa-f]{6}$/.test(F)){var it=parseInt(F.substr(1),16);F=it>>16&255,$=it>>8&255,oe=255&it}if($===void 0||ye===void 0&&F===$&&$===oe)if(typeof F=="string")S=F+" "+Ie[0];else switch(g.precision){case 2:S=se(F/255)+" "+Ie[0];break;case 3:default:S=P(F/255)+" "+Ie[0]}else if(ye===void 0||hn(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return S=["1.","1.","1.",Ie[1]].join(" ");if(typeof F=="string")S=[F,$,oe,Ie[1]].join(" ");else switch(g.precision){case 2:S=[se(F/255),se($/255),se(oe/255),Ie[1]].join(" ");break;default:case 3:S=[P(F/255),P($/255),P(oe/255),Ie[1]].join(" ")}}else if(typeof F=="string")S=[F,$,oe,ye,Ie[2]].join(" ");else switch(g.precision){case 2:S=[se(F),se($),se(oe),se(ye),Ie[2]].join(" ");break;case 3:default:S=[P(F),P($),P(oe),P(ye),Ie[2]].join(" ")}return S},ns=p.__private__.getFilters=function(){return s},Fi=p.__private__.putStream=function(g){var S=(g=g||{}).data||"",F=g.filters||ns(),$=g.alreadyAppliedFilters||[],oe=g.addLength1||!1,ye=S.length,Ie=g.objectId,$e=function(Ur){return Ur};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&($e=Br.encryptor(Ie,0));var it={};F===!0&&(F=["FlateEncode"]);var Mt=g.additionalKeyValues||[],Et=(it=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(S,F):{data:S,reverseChain:[]}).reverseChain+(Array.isArray($)?$.join(" "):$.toString());if(it.data.length!==0&&(Mt.push({key:"Length",value:it.data.length}),oe===!0&&Mt.push({key:"Length1",value:ye})),Et.length!=0)if(Et.split("/").length-1==1)Mt.push({key:"Filter",value:Et});else{Mt.push({key:"Filter",value:"["+Et+"]"});for(var Wt=0;Wt<Mt.length;Wt+=1)if(Mt[Wt].key==="DecodeParms"){for(var An=[],Fn=0;Fn<it.reverseChain.split("/").length-1;Fn+=1)An.push("null");An.push(Mt[Wt].value),Mt[Wt].value="["+An.join(" ")+"]"}}U("<<");for(var rr=0;rr<Mt.length;rr++)U("/"+Mt[rr].key+" "+Mt[rr].value);U(">>"),it.data.length!==0&&(U("stream"),U($e(it.data)),U("endstream"))},rs=p.__private__.putPage=function(g){var S=g.number,F=g.data,$=g.objId,oe=g.contentsObjId;Ci($,!0),U("<</Type /Page"),U("/Parent "+g.rootDictionaryObjId+" 0 R"),U("/Resources "+g.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(q(g.mediaBox.bottomLeftX))+" "+parseFloat(q(g.mediaBox.bottomLeftY))+" "+q(g.mediaBox.topRightX)+" "+q(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&U("/CropBox ["+q(g.cropBox.bottomLeftX)+" "+q(g.cropBox.bottomLeftY)+" "+q(g.cropBox.topRightX)+" "+q(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&U("/BleedBox ["+q(g.bleedBox.bottomLeftX)+" "+q(g.bleedBox.bottomLeftY)+" "+q(g.bleedBox.topRightX)+" "+q(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&U("/TrimBox ["+q(g.trimBox.bottomLeftX)+" "+q(g.trimBox.bottomLeftY)+" "+q(g.trimBox.topRightX)+" "+q(g.trimBox.topRightY)+"]"),g.artBox!==null&&U("/ArtBox ["+q(g.artBox.bottomLeftX)+" "+q(g.artBox.bottomLeftY)+" "+q(g.artBox.topRightX)+" "+q(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&U("/UserUnit "+g.userUnit),rn.publish("putPage",{objId:$,pageContext:Ct[S],pageNumber:S,page:F}),U("/Contents "+oe+" 0 R"),U(">>"),U("endobj");var ye=F.join(`
`);return O===x.ADVANCED&&(ye+=`
Q`),Ci(oe,!0),Fi({data:ye,filters:ns(),objectId:oe}),U("endobj"),$},Bl=p.__private__.putPages=function(){var g,S,F=[];for(g=1;g<=Ln;g++)Ct[g].objId=nr(),Ct[g].contentsObjId=nr();for(g=1;g<=Ln;g++)F.push(rs({number:g,data:Pe[g],objId:Ct[g].objId,contentsObjId:Ct[g].contentsObjId,mediaBox:Ct[g].mediaBox,cropBox:Ct[g].cropBox,bleedBox:Ct[g].bleedBox,trimBox:Ct[g].trimBox,artBox:Ct[g].artBox,userUnit:Ct[g].userUnit,rootDictionaryObjId:Gs,resourceDictionaryObjId:vo}));Ci(Gs,!0),U("<</Type /Pages");var $="/Kids [";for(S=0;S<Ln;S++)$+=F[S]+" 0 R ";U($+"]"),U("/Count "+Ln),U(">>"),U("endobj"),rn.publish("postPutPages")},nu=function(g){rn.publish("putFont",{font:g,out:U,newObject:fr,putStream:Fi}),g.isAlreadyPutted!==!0&&(g.objectNumber=fr(),U("<<"),U("/Type /Font"),U("/BaseFont /"+eh(g.postScriptName)),U("/Subtype /Type1"),typeof g.encoding=="string"&&U("/Encoding /"+g.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj"))},ru=function(){for(var g in mn)mn.hasOwnProperty(g)&&(h===!1||h===!0&&m.hasOwnProperty(g))&&nu(mn[g])},iu=function(g){g.objectNumber=fr();var S=[];S.push({key:"Type",value:"/XObject"}),S.push({key:"Subtype",value:"/Form"}),S.push({key:"BBox",value:"["+[q(g.x),q(g.y),q(g.x+g.width),q(g.y+g.height)].join(" ")+"]"}),S.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var F=g.pages[1].join(`
`);Fi({data:F,additionalKeyValues:S,objectId:g.objectNumber}),U("endobj")},ou=function(){for(var g in Ar)Ar.hasOwnProperty(g)&&iu(Ar[g])},fg=function(g,S){var F,$=[],oe=1/(S-1);for(F=0;F<1;F+=oe)$.push(F);if($.push(1),g[0].offset!=0){var ye={offset:0,color:g[0].color};g.unshift(ye)}if(g[g.length-1].offset!=1){var Ie={offset:1,color:g[g.length-1].color};g.push(Ie)}for(var $e="",it=0,Mt=0;Mt<$.length;Mt++){for(F=$[Mt];F>g[it+1].offset;)it++;var Et=g[it].offset,Wt=(F-Et)/(g[it+1].offset-Et),An=g[it].color,Fn=g[it+1].color;$e+=W(Math.round((1-Wt)*An[0]+Wt*Fn[0]).toString(16))+W(Math.round((1-Wt)*An[1]+Wt*Fn[1]).toString(16))+W(Math.round((1-Wt)*An[2]+Wt*Fn[2]).toString(16))}return $e.trim()},N2=function(g,S){S||(S=21);var F=fr(),$=fg(g.colors,S),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+S+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fi({data:$,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:F}),U("endobj"),g.objectNumber=fr(),U("<< /ShadingType "+g.type),U("/ColorSpace /DeviceRGB");var ye="/Coords ["+q(parseFloat(g.coords[0]))+" "+q(parseFloat(g.coords[1]))+" ";g.type===2?ye+=q(parseFloat(g.coords[2]))+" "+q(parseFloat(g.coords[3])):ye+=q(parseFloat(g.coords[2]))+" "+q(parseFloat(g.coords[3]))+" "+q(parseFloat(g.coords[4]))+" "+q(parseFloat(g.coords[5])),U(ye+="]"),g.matrix&&U("/Matrix ["+g.matrix.toString()+"]"),U("/Function "+F+" 0 R"),U("/Extend [true true]"),U(">>"),U("endobj")},O2=function(g,S){var F=nr(),$=fr();S.push({resourcesOid:F,objectOid:$}),g.objectNumber=$;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+g.boundingBox.map(q).join(" ")+"]"}),oe.push({key:"XStep",value:q(g.xStep)}),oe.push({key:"YStep",value:q(g.yStep)}),oe.push({key:"Resources",value:F+" 0 R"}),g.matrix&&oe.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Fi({data:g.stream,additionalKeyValues:oe,objectId:g.objectNumber}),U("endobj")},su=function(g){var S;for(S in nn)nn.hasOwnProperty(S)&&(nn[S]instanceof jc?N2(nn[S]):nn[S]instanceof th&&O2(nn[S],g))},pg=function(g){for(var S in g.objectNumber=fr(),U("<<"),g)switch(S){case"opacity":U("/ca "+se(g[S]));break;case"stroke-opacity":U("/CA "+se(g[S]))}U(">>"),U("endobj")},k2=function(){var g;for(g in Rn)Rn.hasOwnProperty(g)&&pg(Rn[g])},vh=function(){for(var g in U("/XObject <<"),Ar)Ar.hasOwnProperty(g)&&Ar[g].objectNumber>=0&&U("/"+g+" "+Ar[g].objectNumber+" 0 R");rn.publish("putXobjectDict"),U(">>")},R2=function(){Br.oid=fr(),U("<<"),U("/Filter /Standard"),U("/V "+Br.v),U("/R "+Br.r),U("/U <"+Br.toHexString(Br.U)+">"),U("/O <"+Br.toHexString(Br.O)+">"),U("/P "+Br.P),U(">>"),U("endobj")},gg=function(){for(var g in U("/Font <<"),mn)mn.hasOwnProperty(g)&&(h===!1||h===!0&&m.hasOwnProperty(g))&&U("/"+g+" "+mn[g].objectNumber+" 0 R");U(">>")},L2=function(){if(Object.keys(nn).length>0){for(var g in U("/Shading <<"),nn)nn.hasOwnProperty(g)&&nn[g]instanceof jc&&nn[g].objectNumber>=0&&U("/"+g+" "+nn[g].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),U(">>")}},au=function(g){if(Object.keys(nn).length>0){for(var S in U("/Pattern <<"),nn)nn.hasOwnProperty(S)&&nn[S]instanceof p.TilingPattern&&nn[S].objectNumber>=0&&nn[S].objectNumber<g&&U("/"+S+" "+nn[S].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),U(">>")}},F2=function(){if(Object.keys(Rn).length>0){var g;for(g in U("/ExtGState <<"),Rn)Rn.hasOwnProperty(g)&&Rn[g].objectNumber>=0&&U("/"+g+" "+Rn[g].objectNumber+" 0 R");rn.publish("putGStateDict"),U(">>")}},$n=function(g){Ci(g.resourcesOid,!0),U("<<"),U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),gg(),L2(),au(g.objectOid),F2(),vh(),U(">>"),U("endobj")},mg=function(){var g=[];ru(),k2(),ou(),su(g),rn.publish("putResources"),g.forEach($n),$n({resourcesOid:vo,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources")},vg=function(){rn.publish("putAdditionalObjects");for(var g=0;g<Te.length;g++){var S=Te[g];Ci(S.objId,!0),U(S.content),U("endobj")}rn.publish("postPutAdditionalObjects")},yg=function(g){Mn[g.fontName]=Mn[g.fontName]||{},Mn[g.fontName][g.fontStyle]=g.id},yh=function(g,S,F,$,oe){var ye={id:"F"+(Object.keys(mn).length+1).toString(10),postScriptName:g,fontName:S,fontStyle:F,encoding:$,isStandardFont:oe||!1,metadata:{}};return rn.publish("addFont",{font:ye,instance:this}),mn[ye.id]=ye,yg(ye),ye.id},j2=function(g){for(var S=0,F=Ae.length;S<F;S++){var $=yh.call(this,g[S][0],g[S][1],g[S][2],Ae[S][3],!0);h===!1&&(m[$]=!0);var oe=g[S][0].split("-");yg({id:$,fontName:oe[0],fontStyle:oe[1]||""})}rn.publish("addFonts",{fonts:mn,dictionary:Mn})},_o=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch($){var S=$.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var F="Error in function "+S.split(`
`)[0].split("<")[0]+": "+$.message;if(!pt.console)throw new Error(F);pt.console.error(F,$),pt.alert&&alert(F)}},g.foo.bar=g,g.foo},lu=function(g,S){var F,$,oe,ye,Ie,$e,it,Mt,Et;if(oe=(S=S||{}).sourceEncoding||"Unicode",Ie=S.outputEncoding,(S.autoencode||Ie)&&mn[Ut].metadata&&mn[Ut].metadata[oe]&&mn[Ut].metadata[oe].encoding&&(ye=mn[Ut].metadata[oe].encoding,!Ie&&mn[Ut].encoding&&(Ie=mn[Ut].encoding),!Ie&&ye.codePages&&(Ie=ye.codePages[0]),typeof Ie=="string"&&(Ie=ye[Ie]),Ie)){for(it=!1,$e=[],F=0,$=g.length;F<$;F++)(Mt=Ie[g.charCodeAt(F)])?$e.push(String.fromCharCode(Mt)):$e.push(g[F]),$e[F].charCodeAt(0)>>8&&(it=!0);g=$e.join("")}for(F=g.length;it===void 0&&F!==0;)g.charCodeAt(F-1)>>8&&(it=!0),F--;if(!it)return g;for($e=S.noBOM?[]:[254,255],F=0,$=g.length;F<$;F++){if((Et=(Mt=g.charCodeAt(F))>>8)>>8)throw new Error("Character at position "+F+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$e.push(Et),$e.push(Mt-(Et<<8))}return String.fromCharCode.apply(void 0,$e)},li=p.__private__.pdfEscape=p.pdfEscape=function(g,S){return lu(g,S).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bh=p.__private__.beginPage=function(g){Pe[++Ln]=[],Ct[Ln]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},_g(Ln),_e(Pe[L])},bg=function(g,S){var F,$,oe;switch(t=S||t,typeof g=="string"&&(F=w(g.toLowerCase()),Array.isArray(F)&&($=F[0],oe=F[1])),Array.isArray(g)&&($=g[0]*Ge,oe=g[1]*Ge),isNaN($)&&($=i[0],oe=i[1]),($>14400||oe>14400)&&(_n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$=Math.min(14400,$),oe=Math.min(14400,oe)),i=[$,oe],t.substr(0,1)){case"l":oe>$&&(i=[oe,$]);break;case"p":$>oe&&(i=[oe,$])}bh(i),Dg(Eh),U(wo),xh!==0&&U(xh+" J"),Dh!==0&&U(Dh+" j"),rn.publish("addPage",{pageNumber:Ln})},B2=function(g){g>0&&g<=Ln&&(Pe.splice(g,1),Ct.splice(g,1),Ln--,L>Ln&&(L=Ln),this.setPage(L))},_g=function(g){g>0&&g<=Ln&&(L=g)},U2=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},wg=function(g,S,F){var $,oe=void 0;return F=F||{},g=g!==void 0?g:mn[Ut].fontName,S=S!==void 0?S:mn[Ut].fontStyle,$=g.toLowerCase(),Mn[$]!==void 0&&Mn[$][S]!==void 0?oe=Mn[$][S]:Mn[g]!==void 0&&Mn[g][S]!==void 0?oe=Mn[g][S]:F.disableWarning===!1&&_n.warn("Unable to look up font label for font '"+g+"', '"+S+"'. Refer to getFontList() for available fonts."),oe||F.noFallback||(oe=Mn.times[S])==null&&(oe=Mn.times.normal),oe},V2=p.__private__.putInfo=function(){var g=fr(),S=function($){return $};for(var F in d!==null&&(S=Br.encryptor(g,0)),U("<<"),U("/Producer ("+li(S("jsPDF "+ct.version))+")"),gt)gt.hasOwnProperty(F)&&gt[F]&&U("/"+F.substr(0,1).toUpperCase()+F.substr(1)+" ("+li(S(gt[F]))+")");U("/CreationDate ("+li(S(de))+")"),U(">>"),U("endobj")},_h=p.__private__.putCatalog=function(g){var S=(g=g||{}).rootDictionaryObjId||Gs;switch(fr(),U("<<"),U("/Type /Catalog"),U("/Pages "+S+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var F=""+qe;F.substr(F.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&U("/OpenAction [3 0 R /XYZ null null "+se(qe)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}wt&&U("/PageMode /"+wt),rn.publish("putCatalog"),U(">>"),U("endobj")},H2=p.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(te+1)),U("/Root "+te+" 0 R"),U("/Info "+(te-1)+" 0 R"),d!==null&&U("/Encrypt "+Br.oid+" 0 R"),U("/ID [ <"+ce+"> <"+ce+"> ]"),U(">>")},z2=p.__private__.putHeader=function(){U("%PDF-"+y),U("%\xBA\xDF\xAC\xE0")},q2=p.__private__.putXRef=function(){var g="0000000000";U("xref"),U("0 "+(te+1)),U("0000000000 65535 f ");for(var S=1;S<=te;S++)typeof ue[S]=="function"?U((g+ue[S]()).slice(-10)+" 00000 n "):ue[S]!==void 0?U((g+ue[S]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},$s=p.__private__.buildDocument=function(){dt(),_e(fe),rn.publish("buildDocument"),z2(),Bl(),vg(),mg(),d!==null&&R2(),V2(),_h();var g=pe;return q2(),H2(),U("startxref"),U(""+g),U("%%EOF"),_e(Pe[L]),fe.join(`
`)},cu=p.__private__.getBlob=function(g){return new Blob([et(g)],{type:"application/pdf"})},uu=p.output=p.__private__.output=_o(function(g,S){switch(typeof(S=S||{})=="string"?S={filename:S}:S.filename=S.filename||"generated.pdf",g){case void 0:return $s();case"save":p.save(S.filename);break;case"arraybuffer":return et($s());case"blob":return cu($s());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(cu($s()))||void 0;_n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var F="",$=$s();try{F=r3($)}catch{F=r3(unescape(encodeURIComponent($)))}return"data:application/pdf;filename="+S.filename+";base64,"+F;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';S.pdfObjectUrl&&(oe=S.pdfObjectUrl,ye="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(S)+");<\/script></body></html>",$e=pt.open();return $e!==null&&$e.document.write(Ie),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(S.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+S.filename+'" width="500px" height="400px" /></body></html>',Mt=pt.open();if(Mt!==null){Mt.document.write(it);var Et=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=S.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",S)+'"></iframe></body></html>',An=pt.open();if(An!==null&&(An.document.write(Wt),An.document.title=S.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",S);default:return null}}),Cg=function(g){return Array.isArray(jl)===!0&&jl.indexOf(g)>-1};switch(r){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=Cg("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ge=r}var Br=null;Ne(),Z();var G2=function(g){return d!==null?Br.encryptor(g,0):function(S){return S}},Eg=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[g].objId,pageNumber:g,pageContext:Ct[g]}},yt=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var S in Ct)if(Ct[S].objId===g)break;return Eg(S)},$2=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ct[L].objId,pageNumber:L,pageContext:Ct[L]}};p.addPage=function(){return bg.apply(this,arguments),this},p.setPage=function(){return _g.apply(this,arguments),_e.call(this,Pe[L]),this},p.insertPage=function(g){return this.addPage(),this.movePage(L,g),this},p.movePage=function(g,S){var F,$;if(g>S){F=Pe[g],$=Ct[g];for(var oe=g;oe>S;oe--)Pe[oe]=Pe[oe-1],Ct[oe]=Ct[oe-1];Pe[S]=F,Ct[S]=$,this.setPage(S)}else if(g<S){F=Pe[g],$=Ct[g];for(var ye=g;ye<S;ye++)Pe[ye]=Pe[ye+1],Ct[ye]=Ct[ye+1];Pe[S]=F,Ct[S]=$,this.setPage(S)}return this},p.deletePage=function(){return B2.apply(this,arguments),this},p.__private__.text=p.text=function(g,S,F,$,oe){var ye,Ie,$e,it,Mt,Et,Wt,An,Fn,rr=($=$||{}).scope||this;if(typeof g=="number"&&typeof S=="number"&&(typeof F=="string"||Array.isArray(F))){var Ur=F;F=S,S=g,g=Ur}if(arguments[3]instanceof ut?(j("The transform parameter of text() with a Matrix value"),Fn=oe):($e=arguments[4],it=arguments[5],hn(Wt=arguments[3])==="object"&&Wt!==null||(typeof $e=="string"&&(it=$e,$e=null),typeof Wt=="string"&&(it=Wt,Wt=null),typeof Wt=="number"&&($e=Wt,Wt=null),$={flags:Wt,angle:$e,align:it})),isNaN(S)||isNaN(F)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return rr;var br="",Co=!1,Ei=typeof $.lineHeightFactor=="number"?$.lineHeightFactor:Vl,ss=rr.internal.scaleFactor;function Ng(wn){return wn=wn.split("	").join(Array($.TabLen||9).join(" ")),li(wn,Wt)}function Th(wn){for(var Cn,Yn=wn.concat(),pr=[],Zs=Yn.length;Zs--;)typeof(Cn=Yn.shift())=="string"?pr.push(Cn):Array.isArray(wn)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?pr.push(Cn[0]):pr.push([Cn[0],Cn[1],Cn[2]]);return pr}function Nh(wn,Cn){var Yn;if(typeof wn=="string")Yn=Cn(wn)[0];else if(Array.isArray(wn)){for(var pr,Zs,Uh=wn.concat(),xu=[],Fg=Uh.length;Fg--;)typeof(pr=Uh.shift())=="string"?xu.push(Cn(pr)[0]):Array.isArray(pr)&&typeof pr[0]=="string"&&(Zs=Cn(pr[0],pr[1],pr[2]),xu.push([Zs[0],Zs[1],Zs[2]]));Yn=xu}return Yn}var mu=!1,Oh=!0;if(typeof g=="string")mu=!0;else if(Array.isArray(g)){var kh=g.concat();Ie=[];for(var vu,Pr=kh.length;Pr--;)(typeof(vu=kh.shift())!="string"||Array.isArray(vu)&&typeof vu[0]!="string")&&(Oh=!1);mu=Oh}if(mu===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var yu=Re/rr.internal.scaleFactor,bu=yu*(Ei-1);switch($.baseline){case"bottom":F-=bu;break;case"top":F+=yu-bu;break;case"hanging":F+=yu-2*bu;break;case"middle":F+=yu/2-bu}if((Et=$.maxWidth||0)>0&&(typeof g=="string"?g=rr.splitTextToSize(g,Et):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(wn,Cn){return wn.concat(rr.splitTextToSize(Cn,Et))},[]))),ye={text:g,x:S,y:F,options:$,mutex:{pdfEscape:li,activeFontKey:Ut,fonts:mn,activeFontSize:Re}},rn.publish("preProcessText",ye),g=ye.text,$e=($=ye.options).angle,!(Fn instanceof ut)&&$e&&typeof $e=="number"){$e*=Math.PI/180,$.rotationDirection===0&&($e=-$e),O===x.ADVANCED&&($e=-$e);var _u=Math.cos($e),Rh=Math.sin($e);Fn=new ut(_u,Rh,-Rh,_u,0,0)}else $e&&$e instanceof ut&&(Fn=$e);O!==x.ADVANCED||Fn||(Fn=ts),(Mt=$.charSpace||fu)!==void 0&&(br+=q(T(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=$.horizontalScale)!==void 0&&(br+=q(100*An)+` Tz
`),$.lang;var ci=-1,nb=$.renderingMode!==void 0?$.renderingMode:$.stroke,Lh=rr.internal.getCurrentPageInfo().pageContext;switch(nb){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var Og=Lh.usedRenderingMode!==void 0?Lh.usedRenderingMode:-1;ci!==-1?br+=ci+` Tr
`:Og!==-1&&(br+=`0 Tr
`),ci!==-1&&(Lh.usedRenderingMode=ci),it=$.align||"left";var ji,wu=Re*Ei,kg=rr.internal.pageSize.getWidth(),Rg=mn[Ut];Mt=$.charSpace||fu,Et=$.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},$.flags);var za=[],ql=function(wn){return rr.getStringUnitWidth(wn,{font:Rg,charSpace:Mt,fontSize:Re,doKerning:!1})*Re/ss};if(Object.prototype.toString.call(g)==="[object Array]"){var ui;Ie=Th(g),it!=="left"&&(ji=Ie.map(ql));var Zr,qa=0;if(it==="right"){S-=ji[0],g=[],Pr=Ie.length;for(var Ys=0;Ys<Pr;Ys++)Ys===0?(Zr=os(S),ui=Ws(F)):(Zr=T(qa-ji[Ys]),ui=-wu),g.push([Ie[Ys],Zr,ui]),qa=ji[Ys]}else if(it==="center"){S-=ji[0]/2,g=[],Pr=Ie.length;for(var Ks=0;Ks<Pr;Ks++)Ks===0?(Zr=os(S),ui=Ws(F)):(Zr=T((qa-ji[Ks])/2),ui=-wu),g.push([Ie[Ks],Zr,ui]),qa=ji[Ks]}else if(it==="left"){g=[],Pr=Ie.length;for(var Cu=0;Cu<Pr;Cu++)g.push(Ie[Cu])}else if(it==="justify"&&Rg.encoding==="Identity-H"){g=[],Pr=Ie.length,Et=Et!==0?Et:kg;for(var Xs=0,Wn=0;Wn<Pr;Wn++)if(ui=Wn===0?Ws(F):-wu,Zr=Wn===0?os(S):Xs,Wn<Pr-1){var Fh=T((Et-ji[Wn])/(Ie[Wn].split(" ").length-1)),Jr=Ie[Wn].split(" ");g.push([Jr[0]+" ",Zr,ui]),Xs=0;for(var Bi=1;Bi<Jr.length;Bi++){var Eu=(ql(Jr[Bi-1]+" "+Jr[Bi])-ql(Jr[Bi]))*ss+Fh;Bi==Jr.length-1?g.push([Jr[Bi],Eu,0]):g.push([Jr[Bi]+" ",Eu,0]),Xs-=Eu}}else g.push([Ie[Wn],Zr,ui]);g.push(["",Xs,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Pr=Ie.length,Et=Et!==0?Et:kg,Wn=0;Wn<Pr;Wn++)ui=Wn===0?Ws(F):-wu,Zr=Wn===0?os(S):0,Wn<Pr-1?za.push(q(T((Et-ji[Wn])/(Ie[Wn].split(" ").length-1)))):za.push(0),g.push([Ie[Wn],Zr,ui])}}var Lg=typeof $.R2L=="boolean"?$.R2L:rt;Lg===!0&&(g=Nh(g,function(wn,Cn,Yn){return[wn.split("").reverse().join(""),Cn,Yn]})),ye={text:g,x:S,y:F,options:$,mutex:{pdfEscape:li,activeFontKey:Ut,fonts:mn,activeFontSize:Re}},rn.publish("postProcessText",ye),g=ye.text,Co=ye.mutex.isHex||!1;var jh=mn[Ut].encoding;jh!=="WinAnsiEncoding"&&jh!=="StandardEncoding"||(g=Nh(g,function(wn,Cn,Yn){return[Ng(wn),Cn,Yn]})),Ie=Th(g),g=[];for(var Gl,$l,Ga,Wl=0,Su=1,Yl=Array.isArray(Ie[0])?Su:Wl,$a="",Bh=function(wn,Cn,Yn){var pr="";return Yn instanceof ut?(Yn=typeof $.angle=="number"?mo(Yn,new ut(1,0,0,1,wn,Cn)):mo(new ut(1,0,0,1,wn,Cn),Yn),O===x.ADVANCED&&(Yn=mo(new ut(1,0,0,-1,0,0),Yn)),pr=Yn.join(" ")+` Tm
`):pr=q(wn)+" "+q(Cn)+` Td
`,pr},Ui=0;Ui<Ie.length;Ui++){switch($a="",Yl){case Su:Ga=(Co?"<":"(")+Ie[Ui][0]+(Co?">":")"),Gl=parseFloat(Ie[Ui][1]),$l=parseFloat(Ie[Ui][2]);break;case Wl:Ga=(Co?"<":"(")+Ie[Ui]+(Co?">":")"),Gl=os(S),$l=Ws(F)}za!==void 0&&za[Ui]!==void 0&&($a=za[Ui]+` Tw
`),Ui===0?g.push($a+Bh(Gl,$l,Fn)+Ga):Yl===Wl?g.push($a+Ga):Yl===Su&&g.push($a+Bh(Gl,$l,Fn)+Ga)}g=Yl===Wl?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Vi=`BT
/`;return Vi+=Ut+" "+Re+` Tf
`,Vi+=q(Re*Ei)+` TL
`,Vi+=Hl+`
`,Vi+=br,Vi+=g,U(Vi+="ET"),m[Ut]=!0,rr};var W2=p.__private__.clip=p.clip=function(g){return U(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return W2("evenodd")},p.__private__.discardPath=p.discardPath=function(){return U("n"),this};var is=p.__private__.isValidStyle=function(g){var S=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(S=!0),S};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return is(g)&&(c=g),this};var Sg=p.__private__.getStyle=p.getStyle=function(g){var S=c;switch(g){case"D":case"S":S="S";break;case"F":S="f";break;case"FD":case"DF":S="B";break;case"f":case"f*":case"B":case"B*":S=g}return S},xg=p.close=function(){return U("h"),this};p.stroke=function(){return U("S"),this},p.fill=function(g){return du("f",g),this},p.fillEvenOdd=function(g){return du("f*",g),this},p.fillStroke=function(g){return du("B",g),this},p.fillStrokeEvenOdd=function(g){return du("B*",g),this};var du=function(g,S){hn(S)==="object"?K2(S,g):U(g)},wh=function(g){g===null||O===x.ADVANCED&&g===void 0||(g=Sg(g),U(g))};function Y2(g,S,F,$,oe){var ye=new th(S||this.boundingBox,F||this.xStep,$||this.yStep,this.gState,oe||this.matrix);ye.stream=this.stream;var Ie=g+"$$"+this.cloneIndex+++"$$";return ai(Ie,ye),ye}var K2=function(g,S){var F=Fl[g.key],$=nn[F];if($ instanceof jc)U("q"),U(X2(S)),$.gState&&p.setGState($.gState),U(g.matrix.toString()+" cm"),U("/"+F+" sh"),U("Q");else if($ instanceof th){var oe=new ut(1,0,0,-1,0,Ha());g.matrix&&(oe=oe.multiply(g.matrix||ts),F=Y2.call($,g.key,g.boundingBox,g.xStep,g.yStep,oe).id),U("q"),U("/Pattern cs"),U("/"+F+" scn"),$.gState&&p.setGState($.gState),U(S),U("Q")}},X2=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ch=p.moveTo=function(g,S){return U(q(T(g))+" "+q(z(S))+" m"),this},Ul=p.lineTo=function(g,S){return U(q(T(g))+" "+q(z(S))+" l"),this},Ua=p.curveTo=function(g,S,F,$,oe,ye){return U([q(T(g)),q(z(S)),q(T(F)),q(z($)),q(T(oe)),q(z(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,S,F,$,oe){if(isNaN(g)||isNaN(S)||isNaN(F)||isNaN($)||!is(oe))throw new Error("Invalid arguments passed to jsPDF.line");return O===x.COMPAT?this.lines([[F-g,$-S]],g,S,[1,1],oe||"S"):this.lines([[F-g,$-S]],g,S,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,S,F,$,oe,ye){var Ie,$e,it,Mt,Et,Wt,An,Fn,rr,Ur,br,Co;if(typeof g=="number"&&(Co=F,F=S,S=g,g=Co),$=$||[1,1],ye=ye||!1,isNaN(S)||isNaN(F)||!Array.isArray(g)||!Array.isArray($)||!is(oe)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ch(S,F),Ie=$[0],$e=$[1],Mt=g.length,Ur=S,br=F,it=0;it<Mt;it++)(Et=g[it]).length===2?(Ur=Et[0]*Ie+Ur,br=Et[1]*$e+br,Ul(Ur,br)):(Wt=Et[0]*Ie+Ur,An=Et[1]*$e+br,Fn=Et[2]*Ie+Ur,rr=Et[3]*$e+br,Ur=Et[4]*Ie+Ur,br=Et[5]*$e+br,Ua(Wt,An,Fn,rr,Ur,br));return ye&&xg(),wh(oe),this},p.path=function(g){for(var S=0;S<g.length;S++){var F=g[S],$=F.c;switch(F.op){case"m":Ch($[0],$[1]);break;case"l":Ul($[0],$[1]);break;case"c":Ua.apply(this,$);break;case"h":xg()}}return this},p.__private__.rect=p.rect=function(g,S,F,$,oe){if(isNaN(g)||isNaN(S)||isNaN(F)||isNaN($)||!is(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return O===x.COMPAT&&($=-$),U([q(T(g)),q(z(S)),q(T(F)),q(T($)),"re"].join(" ")),wh(oe),this},p.__private__.triangle=p.triangle=function(g,S,F,$,oe,ye,Ie){if(isNaN(g)||isNaN(S)||isNaN(F)||isNaN($)||isNaN(oe)||isNaN(ye)||!is(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[F-g,$-S],[oe-F,ye-$],[g-oe,S-ye]],g,S,[1,1],Ie,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,S,F,$,oe,ye,Ie){if(isNaN(g)||isNaN(S)||isNaN(F)||isNaN($)||isNaN(oe)||isNaN(ye)||!is(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*F),ye=Math.min(ye,.5*$),this.lines([[F-2*oe,0],[oe*$e,0,oe,ye-ye*$e,oe,ye],[0,$-2*ye],[0,ye*$e,-oe*$e,ye,-oe,ye],[2*oe-F,0],[-oe*$e,0,-oe,-ye*$e,-oe,-ye],[0,2*ye-$],[0,-ye*$e,oe*$e,-ye,oe,-ye]],g+oe,S,[1,1],Ie,!0),this},p.__private__.ellipse=p.ellipse=function(g,S,F,$,oe){if(isNaN(g)||isNaN(S)||isNaN(F)||isNaN($)||!is(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*F,Ie=4/3*(Math.SQRT2-1)*$;return Ch(g+F,S),Ua(g+F,S-Ie,g+ye,S-$,g,S-$),Ua(g-ye,S-$,g-F,S-Ie,g-F,S),Ua(g-F,S+Ie,g-ye,S+$,g,S+$),Ua(g+ye,S+$,g+F,S+Ie,g+F,S),wh(oe),this},p.__private__.circle=p.circle=function(g,S,F,$){if(isNaN(g)||isNaN(S)||isNaN(F)||!is($))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,S,F,F,$)},p.setFont=function(g,S,F){return F&&(S=Q(S,F)),Ut=wg(g,S,{disableWarning:!1}),this};var Z2=p.__private__.getFont=p.getFont=function(){return mn[wg.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,S,F={};for(g in Mn)if(Mn.hasOwnProperty(g))for(S in F[g]=[],Mn[g])Mn[g].hasOwnProperty(S)&&F[g].push(S);return F},p.addFont=function(g,S,F,$,oe){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(F=Q(F,$)),oe=oe||"Identity-H",yh.call(this,g,S,F,oe)};var Vl,Eh=n.lineWidth||.200025,hu=p.__private__.getLineWidth=p.getLineWidth=function(){return Eh},Dg=p.__private__.setLineWidth=p.setLineWidth=function(g){return Eh=g,U(q(T(g))+" w"),this};p.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(g,S){if(g=g||[],S=S||0,isNaN(S)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(F){return q(T(F))}).join(" "),S=q(T(S)),U("["+g+"] "+S+" d"),this};var Mg=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Vl};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Vl};var Ig=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Vl=g),this},Ag=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Vl};Ig(n.lineHeight);var os=p.__private__.getHorizontalCoordinate=function(g){return T(g)},Ws=p.__private__.getVerticalCoordinate=function(g){return O===x.ADVANCED?g:Ct[L].mediaBox.topRightY-Ct[L].mediaBox.bottomLeftY-T(g)},J2=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return q(os(g))},Va=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return q(Ws(g))},wo=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return yo(wo)},p.__private__.setStrokeColor=p.setDrawColor=function(g,S,F,$){return wo=bo({ch1:g,ch2:S,ch3:F,ch4:$,pdfColorType:"draw",precision:2}),U(wo),this};var Sh=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return yo(Sh)},p.__private__.setFillColor=p.setFillColor=function(g,S,F,$){return Sh=bo({ch1:g,ch2:S,ch3:F,ch4:$,pdfColorType:"fill",precision:2}),U(Sh),this};var Hl=n.textColor||"0 g",Q2=p.__private__.getTextColor=p.getTextColor=function(){return yo(Hl)};p.__private__.setTextColor=p.setTextColor=function(g,S,F,$){return Hl=bo({ch1:g,ch2:S,ch3:F,ch4:$,pdfColorType:"text",precision:3}),this};var fu=n.charSpace,eb=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(fu||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fu=g,this};var xh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var S=p.CapJoinStyles[g];if(S===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xh=S,U(S+" J"),this};var Dh=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var S=p.CapJoinStyles[g];if(S===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dh=S,U(S+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return U(q(T(g))+" M"),this},p.GState=zy,p.setGState=function(g){(g=typeof g=="string"?Rn[go[g]]:Pg(null,g)).equals(qs)||(U("/"+g.id+" gs"),qs=g)};var Pg=function(g,S){if(!g||!go[g]){var F=!1;for(var $ in Rn)if(Rn.hasOwnProperty($)&&Rn[$].equals(S)){F=!0;break}if(F)S=Rn[$];else{var oe="GS"+(Object.keys(Rn).length+1).toString(10);Rn[oe]=S,S.id=oe}return g&&(go[g]=S.id),rn.publish("addGState",S),S}};p.addGState=function(g,S){return Pg(g,S),this},p.saveGraphicsState=function(){return U("q"),Jo.push({key:Ut,size:Re,color:Hl}),this},p.restoreGraphicsState=function(){U("Q");var g=Jo.pop();return Ut=g.key,Re=g.size,Hl=g.color,qs=null,this},p.setCurrentTransformationMatrix=function(g){return U(g.toString()+" cm"),this},p.comment=function(g){return U("#"+g),this};var pu=function(g,S){var F=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return F},set:function(ye){isNaN(ye)||(F=parseFloat(ye))}});var $=S||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $},set:function(ye){isNaN(ye)||($=parseFloat(ye))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(ye){oe=ye.toString()}}),this},Mh=function(g,S,F,$){pu.call(this,g,S),this.type="rect";var oe=F||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ie){isNaN(Ie)||(oe=parseFloat(Ie))}});var ye=$||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ie){isNaN(Ie)||(ye=parseFloat(Ie))}}),this},Ih=function(){this.page=Ln,this.currentPage=L,this.pages=Pe.slice(0),this.pagesContext=Ct.slice(0),this.x=jr,this.y=Zt,this.matrix=po,this.width=zl(L),this.height=Ha(L),this.outputDestination=Ue,this.id="",this.objectNumber=-1};Ih.prototype.restore=function(){Ln=this.page,L=this.currentPage,Ct=this.pagesContext,Pe=this.pages,jr=this.x,Zt=this.y,po=this.matrix,Ah(L,this.width),Ph(L,this.height),Ue=this.outputDestination};var Tg=function(g,S,F,$,oe){es.push(new Ih),Ln=L=0,Pe=[],jr=g,Zt=S,po=oe,bh([F,$])},tb=function(g){if(Qo[g])es.pop().restore();else{var S=new Ih,F="Xo"+(Object.keys(Ar).length+1).toString(10);S.id=F,Qo[g]=F,Ar[F]=S,rn.publish("addFormObject",S),es.pop().restore()}};for(var gu in p.beginFormObject=function(g,S,F,$,oe){return Tg(g,S,F,$,oe),this},p.endFormObject=function(g){return tb(g),this},p.doFormObject=function(g,S){var F=Ar[Qo[g]];return U("q"),U(S.toString()+" cm"),U("/"+F.id+" Do"),U("Q"),this},p.getFormObject=function(g){var S=Ar[Qo[g]];return{x:S.x,y:S.y,width:S.width,height:S.height,matrix:S.matrix}},p.save=function(g,S){return g=g||"generated.pdf",(S=S||{}).returnPromise=S.returnPromise||!1,S.returnPromise===!1?(Fc(cu($s()),g),typeof Fc.unload=="function"&&pt.setTimeout&&setTimeout(Fc.unload,911),this):new Promise(function(F,$){try{var oe=Fc(cu($s()),g);typeof Fc.unload=="function"&&pt.setTimeout&&setTimeout(Fc.unload,911),F(oe)}catch(ye){$(ye.message)}})},ct.API)ct.API.hasOwnProperty(gu)&&(gu==="events"&&ct.API.events.length?function(g,S){var F,$,oe;for(oe=S.length-1;oe!==-1;oe--)F=S[oe][0],$=S[oe][1],g.subscribe.apply(g,[F].concat(typeof $=="function"?[$]:$))}(rn,ct.API.events):p[gu]=ct.API[gu]);var zl=p.getPageWidth=function(g){return(Ct[g=g||L].mediaBox.topRightX-Ct[g].mediaBox.bottomLeftX)/Ge},Ah=p.setPageWidth=function(g,S){Ct[g].mediaBox.topRightX=S*Ge+Ct[g].mediaBox.bottomLeftX},Ha=p.getPageHeight=function(g){return(Ct[g=g||L].mediaBox.topRightY-Ct[g].mediaBox.bottomLeftY)/Ge},Ph=p.setPageHeight=function(g,S){Ct[g].mediaBox.topRightY=S*Ge+Ct[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:li,getStyle:Sg,getFont:Z2,getFontSize:He,getCharSpace:eb,getTextColor:Q2,getLineHeight:Mg,getLineHeightFactor:Ag,getLineWidth:hu,write:Dt,getHorizontalCoordinate:os,getVerticalCoordinate:Ws,getCoordinateString:J2,getVerticalCoordinateString:Va,collections:{},newObject:fr,newAdditionalObject:tu,newObjectDeferred:nr,newObjectDeferredBegin:Ci,getFilters:ns,putStream:Fi,events:rn,scaleFactor:Ge,pageSize:{getWidth:function(){return zl(L)},setWidth:function(g){Ah(L,g)},getHeight:function(){return Ha(L)},setHeight:function(g){Ph(L,g)}},encryptionOptions:d,encryption:Br,getEncryptor:G2,output:uu,getNumberOfPages:U2,pages:Pe,out:U,f2:se,f3:P,getPageInfo:Eg,getPageInfoByObjId:yt,getCurrentPageInfo:$2,getPDFVersion:_,Point:pu,Rectangle:Mh,Matrix:ut,hasHotfix:Cg},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return zl(L)},set:function(g){Ah(L,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ha(L)},set:function(g){Ph(L,g)},enumerable:!0,configurable:!0}),j2.call(p,Ae),Ut="F1",bg(i,t),rn.publish("initialized"),p}Qd.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Qd.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qd.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Qd.prototype.processOwnerPassword=function(n,e){return o3(i3(e).substr(0,5),n)},Qd.prototype.encryptor=function(n,e){var t=i3(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return o3(t,r)}},zy.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||hn(n)!==hn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="3.0.1";var Gn=ct.API,c3=1,Uc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(n){return n.toFixed(2)},Nl=function(n){return n.toFixed(5)};Gn.__acroform__={};var bi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},wP=function(n){return n*c3},Rs=function(n){var e=new jP,t=Ze.internal.getHeight(n)||0,r=Ze.internal.getWidth(n)||0;return e.BBox=[0,0,Number(St(r)),Number(St(t))],e},xG=Gn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},DG=Gn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},MG=Gn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Qn=Gn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return MG(n,e-1)},er=Gn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xG(n,e-1)},tr=Gn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DG(n,e-1)},IG=Gn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},AG=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=s3(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+St(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Rs(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},s3=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var o=t,s=Ze.internal.getHeight(n)||0;s=s<0?-s:s;var a=Ze.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(P,T,G){if(P+1<i.length){var z=T+" "+i[P+1][0];return Ly(z,n,G).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,d,h=Ly("3",n,o).height,m=n.multiline?s-o:(s-h)/2,p=m+=2,y=0,_=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ly(e,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var w="",x=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var k=!1;if(i[O].length!==1&&C!==i[O].length-1){if((h+2)*(x+2)+2>s)continue e;w+=i[O][C],k=!0,_=O,O--}else{w=(w+=i[O][C]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var H=parseInt(O),Q=l(H,w,o),q=O>=i.length-1;if(Q&&!q){w+=" ",C=0;continue}if(Q||q){if(q)_=H;else if(n.multiline&&(h+2)*(x+2)+2>s)continue e}else{if(!n.multiline||(h+2)*(x+2)+2>s)continue e;_=H}}for(var j="",re=y;re<=_;re++){var se=i[re];if(n.multiline){if(re===_){j+=se[C]+" ",C=(C+1)%se.length;continue}if(re===y){j+=se[se.length-1]+" ";continue}}j+=se[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,d=Ly(j,n,o).width,n.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}e+=St(c)+" "+St(p)+` Td
`,e+="("+Uc(j)+`) Tj
`,e+=-St(c)+` 0 Td
`,p=-(o+2),d=0,y=k?_:_+1,x++,w=""}break}return r.text=e,r.fontSize=o,r},Ly=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},PG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TG=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},NG=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),hn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},OG=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Xo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(PG)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c3=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new BP,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&TG(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=IG(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ze.createDefaultAppearanceStream(a),hn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=AG(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(i,a)),h+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,a)),h+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&NG(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},FP=Gn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),hn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Uc(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},e3=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Uc(r(n))+")"},Ls=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ls.prototype.toString=function(){return this.objId+" 0 R"},Ls.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ls.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:FP(i,this.objId,this.scope)}):i instanceof Ls?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var jP=function(){Ls.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};bi(jP,Ls);var BP=function(){Ls.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Uc(t(n))+")"}},set:function(t){n=t}})};bi(BP,Ls);var Xo=function n(){Ls.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qn(e,3)},set:function(w){w?this.F=er(e,3):this.F=tr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof qy)return;o="FieldObject"+n.FieldNum++}var w=function(x){return x};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Uc(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/c3:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof qy||this instanceof Bc))return e3(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ir?m:e3(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Ir?w:w.substr(0,1)==="("?Zd(w.substr(1,w.length-2)):Zd(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir?Zd(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Ir?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ir?p:e3(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Ir?w:w.substr(0,1)==="("?Zd(w.substr(1,w.length-2)):Zd(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir?Zd(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Ir?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,1)},set:function(w){w?this.Ff=er(this.Ff,1):this.Ff=tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,2)},set:function(w){w?this.Ff=er(this.Ff,2):this.Ff=tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,3)},set:function(w){w?this.Ff=er(this.Ff,3):this.Ff=tr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');C=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(C){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};bi(Xo,Ls);var nh=function(){Xo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return FP(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,18)},set:function(t){t?this.Ff=er(this.Ff,18):this.Ff=tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=er(this.Ff,19):this.Ff=tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,20)},set:function(t){t?(this.Ff=er(this.Ff,20),e.sort()):this.Ff=tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,22)},set:function(t){t?this.Ff=er(this.Ff,22):this.Ff=tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,23)},set:function(t){t?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,27)},set:function(t){t?this.Ff=er(this.Ff,27):this.Ff=tr(this.Ff,27)}}),this.hasAppearanceStream=!1};bi(nh,Xo);var rh=function(){nh.call(this),this.fontName="helvetica",this.combo=!1};bi(rh,nh);var ih=function(){rh.call(this),this.combo=!0};bi(ih,rh);var By=function(){ih.call(this),this.edit=!0};bi(By,ih);var Ir=function(){Xo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,15)},set:function(t){t?this.Ff=er(this.Ff,15):this.Ff=tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,16)},set:function(t){t?this.Ff=er(this.Ff,16):this.Ff=tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,17)},set:function(t){t?this.Ff=er(this.Ff,17):this.Ff=tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,26)},set:function(t){t?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Uc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){hn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};bi(Ir,Xo);var Uy=function(){Ir.call(this),this.pushButton=!0};bi(Uy,Ir);var oh=function(){Ir.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};bi(oh,Ir);var qy=function(){var n,e;Xo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Uc(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){hn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bi(qy,Xo),oh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},oh.prototype.createOption=function(n){var e=new qy;return e.Parent=this,e.optionName=n,this.Kids.push(e),kG.call(this.scope,e),e};var Vy=function(){Ir.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};bi(Vy,Ir);var Bc=function(){Xo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,13)},set:function(e){e?this.Ff=er(this.Ff,13):this.Ff=tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,21)},set:function(e){e?this.Ff=er(this.Ff,21):this.Ff=tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,23)},set:function(e){e?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,24)},set:function(e){e?this.Ff=er(this.Ff,24):this.Ff=tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,25)},set:function(e){e?this.Ff=er(this.Ff,25):this.Ff=tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,26)},set:function(e){e?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bi(Bc,Xo);var Hy=function(){Bc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,14)},set:function(n){n?this.Ff=er(this.Ff,14):this.Ff=tr(this.Ff,14)}}),this.password=!0};bi(Hy,Bc);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Rs(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=s3(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+St(Ze.internal.getWidth(n))+" "+St(Ze.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+St(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Rs(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=Ze.internal.getHeight(n),s=Ze.internal.getWidth(n),a=s3(n,n.caption);return i.push("1 g"),i.push("0 0 "+St(s)+" "+St(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(s-1)+" "+St(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+St(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Rs(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Ze.internal.getWidth(n))+" "+St(Ze.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ze.RadioButton.Circle.YesNormal,e.D[n]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Rs(n);e.scope=n.scope;var t=[],r=Ze.internal.getWidth(n)<=Ze.internal.getHeight(n)?Ze.internal.getWidth(n)/4:Ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Nl(Ze.internal.getWidth(n)/2)+" "+Nl(Ze.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Rs(n);e.scope=n.scope;var t=[],r=Ze.internal.getWidth(n)<=Ze.internal.getHeight(n)?Ze.internal.getWidth(n)/4:Ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ze.internal.Bezier_C).toFixed(5)),s=Number((r*Ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Nl(Ze.internal.getWidth(n)/2)+" "+Nl(Ze.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Nl(Ze.internal.getWidth(n)/2)+" "+Nl(Ze.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Rs(n);e.scope=n.scope;var t=[],r=Ze.internal.getWidth(n)<=Ze.internal.getHeight(n)?Ze.internal.getWidth(n)/4:Ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Nl(Ze.internal.getWidth(n)/2)+" "+Nl(Ze.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ze.RadioButton.Cross.YesNormal,e.D[n]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Rs(n);e.scope=n.scope;var t=[],r=Ze.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+St(Ze.internal.getWidth(n)-2)+" "+St(Ze.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),t.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),t.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),t.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Rs(n);e.scope=n.scope;var t=Ze.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Ze.internal.getWidth(n))+" "+St(Ze.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+St(Ze.internal.getWidth(n)-2)+" "+St(Ze.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(St(t.x1.x)+" "+St(t.x1.y)+" m"),r.push(St(t.x2.x)+" "+St(t.x2.y)+" l"),r.push(St(t.x4.x)+" "+St(t.x4.y)+" m"),r.push(St(t.x3.x)+" "+St(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Rs(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Ze.internal.getWidth(n))+" "+St(Ze.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ze.internal.getWidth(n),t=Ze.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ze.internal.getWidth=function(n){var e=0;return hn(n)==="object"&&(e=wP(n.Rect[2])),e},Ze.internal.getHeight=function(n){var e=0;return hn(n)==="object"&&(e=wP(n.Rect[3])),e};var kG=Gn.addField=function(n){if(OG(this,n),!(n instanceof Xo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Gn.AcroFormChoiceField=nh,Gn.AcroFormListBox=rh,Gn.AcroFormComboBox=ih,Gn.AcroFormEditBox=By,Gn.AcroFormButton=Ir,Gn.AcroFormPushButton=Uy,Gn.AcroFormRadioButton=oh,Gn.AcroFormCheckBox=Vy,Gn.AcroFormTextField=Bc,Gn.AcroFormPasswordField=Hy,Gn.AcroFormAppearance=Ze,Gn.AcroForm={ChoiceField:nh,ListBox:rh,ComboBox:ih,EditBox:By,Button:Ir,PushButton:Uy,RadioButton:oh,CheckBox:Vy,TextField:Bc,PasswordField:Hy,Appearance:Ze},ct.AcroForm={ChoiceField:nh,ListBox:rh,ComboBox:ih,EditBox:By,Button:Ir,PushButton:Uy,RadioButton:oh,CheckBox:Vy,TextField:Bc,PasswordField:Hy,Appearance:Ze};var She=ct.AcroForm;function UP(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(P,T){var G,z,de,ce,ve,Z=e;if((T=T||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(Q(P))for(ve in t)for(de=t[ve],G=0;G<de.length;G+=1){for(ce=!0,z=0;z<de[G].length;z+=1)if(de[G][z]!==void 0&&de[G][z]!==P[z]){ce=!1;break}if(ce===!0){Z=ve;break}}else for(ve in t)for(de=t[ve],G=0;G<de.length;G+=1){for(ce=!0,z=0;z<de[G].length;z+=1)if(de[G][z]!==void 0&&de[G][z]!==P.charCodeAt(z)){ce=!1;break}if(ce===!0){Z=ve;break}}return Z===e&&T!==e&&(Z=T),Z},i=function P(T){for(var G=this.internal.write,z=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:T.width}),ce.push({key:"Height",value:T.height}),T.colorSpace===C.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===C.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var ve="",Z=0,he=T.transparency.length;Z<he;Z++)ve+=T.transparency[Z]+" "+T.transparency[Z]+" ";ce.push({key:"Mask",value:"["+ve+"]"})}T.sMask!==void 0&&ce.push({key:"SMask",value:T.objectId+1+" 0 R"});var ge=T.filter!==void 0?["/"+T.filter]:void 0;if(z({data:T.data,additionalKeyValues:ce,alreadyAppliedFilters:ge,objectId:T.objectId}),G("endobj"),"sMask"in T&&T.sMask!==void 0){var Ne="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,M={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Ne,data:T.sMask};"filter"in T&&(M.filter=T.filter),P.call(this,M)}if(T.colorSpace===C.INDEXED){var L=this.internal.newObject();z({data:j(new Uint8Array(T.palette)),objectId:L}),G("endobj")}},o=function(){var P=this.internal.collections.addImage_images;for(var T in P)i.call(this,P[T])},s=function(){var P,T=this.internal.collections.addImage_images,G=this.internal.write;for(var z in T)G("/I"+(P=T[z]).index,P.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var P=this.internal.collections.addImage_images;return a.call(this),P},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(P){return typeof n["process"+P.toUpperCase()]=="function"},h=function(P){return hn(P)==="object"&&P.nodeType===1},m=function(P,T){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var G=""+P.getAttribute("src");if(G.indexOf("data:image/")===0)return Hp(unescape(G).split("base64,").pop());var z=n.loadFile(G,!0);if(z!==void 0)return z}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var de;switch(T){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return Hp(P.toDataURL(de,1).split("base64,").pop())}},p=function(P){var T=this.internal.collections.addImage_images;if(T){for(var G in T)if(P===T[G].alias)return T[G]}},y=function(P,T,G){return P||T||(P=-96,T=-96),P<0&&(P=-1*G.width*72/P/this.internal.scaleFactor),T<0&&(T=-1*G.height*72/T/this.internal.scaleFactor),P===0&&(P=T*G.width/G.height),T===0&&(T=P*G.height/G.width),[P,T]},_=function(P,T,G,z,de,ce){var ve=y.call(this,G,z,de),Z=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,ge=l.call(this);if(G=ve[0],z=ve[1],ge[de.index]=de,ce){ce*=Math.PI/180;var Ne=Math.cos(ce),M=Math.sin(ce),L=function(W){return W.toFixed(4)},B=[L(Ne),L(M),L(-1*M),L(Ne),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,Z(P),he(T+z),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([Z(G),"0","0",Z(z),"0","0","cm"].join(" "))):this.internal.write([Z(G),"0","0",Z(z),Z(P),he(T+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=n.__addimage__.sHashCode=function(P){var T,G,z=0;if(typeof P=="string")for(G=P.length,T=0;T<G;T++)z=(z<<5)-z+P.charCodeAt(T),z|=0;else if(Q(P))for(G=P.byteLength/2,T=0;T<G;T++)z=(z<<5)-z+P[T],z|=0;return z},O=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var T=!0;return P.length===0&&(T=!1),P.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(T=!1),T},k=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var T=P.indexOf(",");return T<0?null:P.substring(0,T).trim().endsWith("base64")?P.substring(T+1):null},H=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(P){return H()&&P instanceof ArrayBuffer};var Q=n.__addimage__.isArrayBufferView=function(P){return H()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},q=n.__addimage__.binaryStringToUint8Array=function(P){for(var T=P.length,G=new Uint8Array(T),z=0;z<T;z++)G[z]=P.charCodeAt(z);return G},j=n.__addimage__.arrayBufferToBinaryString=function(P){for(var T="",G=Q(P)?P:new Uint8Array(P),z=0;z<G.length;z+=8192)T+=String.fromCharCode.apply(null,G.subarray(z,z+8192));return T};n.addImage=function(){var P,T,G,z,de,ce,ve,Z,he;if(typeof arguments[1]=="number"?(T=e,G=arguments[1],z=arguments[2],de=arguments[3],ce=arguments[4],ve=arguments[5],Z=arguments[6],he=arguments[7]):(T=arguments[1],G=arguments[2],z=arguments[3],de=arguments[4],ce=arguments[5],ve=arguments[6],Z=arguments[7],he=arguments[8]),hn(P=arguments[0])==="object"&&!h(P)&&"imageData"in P){var ge=P;P=ge.imageData,T=ge.format||T||e,G=ge.x||G||0,z=ge.y||z||0,de=ge.w||ge.width||de,ce=ge.h||ge.height||ce,ve=ge.alias||ve,Z=ge.compression||Z,he=ge.rotation||ge.angle||he}var Ne=this.internal.getFilters();if(Z===void 0&&Ne.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(G)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=re.call(this,P,T,ve,Z);return _.call(this,G,z,de,ce,M,he),this};var re=function(P,T,G,z){var de,ce,ve;if(typeof P=="string"&&r(P)===e){P=unescape(P);var Z=se(P,!1);(Z!==""||(Z=n.loadFile(P,!0))!==void 0)&&(P=Z)}if(h(P)&&(P=m(P,T)),T=r(P,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ve=G)==null||ve.length===0)&&(G=function(he){return typeof he=="string"||Q(he)?x(he):Q(he.data)?x(he.data):null}(P)),(de=p.call(this,G))||(H()&&(P instanceof Uint8Array||T==="RGBA"||(ce=P,P=q(P))),de=this["process"+T.toUpperCase()](P,c.call(this),G,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in n.image_compression?he:w.NONE}(z),ce)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},se=n.__addimage__.convertBase64ToBinaryString=function(P,T){T=typeof T!="boolean"||T;var G,z="";if(typeof P=="string"){var de;G=(de=k(P))!==null&&de!==void 0?de:P;try{z=Hp(G)}catch(ce){if(T)throw O(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};n.getImageProperties=function(P){var T,G,z="";if(h(P)&&(P=m(P)),typeof P=="string"&&r(P)===e&&((z=se(P,!1))===""&&(z=n.loadFile(P)||""),P=z),G=r(P),!d(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!H()||P instanceof Uint8Array||(P=q(P)),!(T=this["process"+G.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=G,T}})(ct.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),x=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(w(x))+") >>",_.content=o;var O=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+O,r.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var H=this.annotations._nameMap[r.options.name];r.options.pageNumber=H.page,r.options.top=H.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Q=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(t,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(t,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(ct.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(_){var C=0,w=t,x="",O=0;for(C=0;C<_.length;C+=1)w[_.charCodeAt(C)]!==void 0?(O++,typeof(w=w[_.charCodeAt(C)])=="number"&&(x+=String.fromCharCode(w),w=t,O=0),C===_.length-1&&(w=t,x+=_.charAt(C-(O-1)),C-=O-1,O=0)):(w=t,x+=_.charAt(C-O),C-=O,O=0);return x};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var m=n.__arabicParser__.getCorrectForm=function(_,C,w){return s(_)?o(_)===!1?-1:!c(_)||!s(C)&&!s(w)||!s(w)&&a(C)||a(_)&&!s(C)||a(_)&&l(C)||a(_)&&a(C)?0:d(_)&&s(C)&&!a(C)&&s(w)&&c(w)?3:a(_)||!s(w)?1:2:-1},p=function(_){var C=0,w=0,x=0,O="",k="",H="",Q=(_=_||"").split("\\s+"),q=[];for(C=0;C<Q.length;C+=1){for(q.push(""),w=0;w<Q[C].length;w+=1)O=Q[C][w],k=Q[C][w-1],H=Q[C][w+1],s(O)?(x=m(O,k,H),q[C]+=x!==-1?String.fromCharCode(e[O.charCodeAt(0)][x]):O):q[C]+=O;q[C]=h(q[C])}return q.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(C)){var x=0;for(w=[],x=0;x<C.length;x+=1)Array.isArray(C[x])?w.push([p(C[x][0]),C[x][1],C[x][2]]):w.push([p(C[x])]);_=w}else _=p(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",y])}(ct.API),ct.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(_){y=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,_=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(O,k){return O.concat(C.splitTextToSize(k,w))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)p<(_=this.getStringUnitWidth(l[x],{font:h})*d)&&(p=_);return p!==0&&(y=l.length),{w:p/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,d,h,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,y,_,C,w=[],x=[],O=[],k={},H={},Q=[],q=[],j=(m=m||{}).autoSize||!1,re=m.printHeaders!==!1,se=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},e),T=typeof m.padding=="number"?m.padding:3,G=m.headerBackgroundColor||"#c8c8c8",z=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=re,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=z,this.setFontSize(se),h==null)x=w=Object.keys(d[0]),O=w.map(function(){return"left"});else if(Array.isArray(h)&&hn(h[0])==="object")for(w=h.map(function(ge){return ge.name}),x=h.map(function(ge){return ge.prompt||ge.name||""}),O=h.map(function(ge){return ge.align||"left"}),p=0;p<h.length;p+=1)H[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(x=w=h,O=w.map(function(){return"left"}));if(j||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<w.length;p+=1){for(k[C=w[p]]=d.map(function(ge){return ge[C]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[C],this.setFont(void 0,"normal"),_=0;_<y.length;_+=1)Q.push(this.getTextDimensions(y[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[C]=Math.max.apply(null,Q)+T+T,Q=[]}if(re){var de={};for(p=0;p<w.length;p+=1)de[w[p]]={},de[w[p]].text=x[p],de[w[p]].align=O[p];var ce=a.call(this,de,H);q=w.map(function(ge){return new o(l,c,H[ge],ce,de[ge].text,void 0,de[ge].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var ve=h.reduce(function(ge,Ne){return ge[Ne.name]=Ne.align,ge},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var Z=a.call(this,d[p],H);for(_=0;_<w.length;_+=1){var he=d[p][w[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:_,data:he},this),s.call(this,new o(l,c,H[w[_]],Z,he,p+2,ve[w[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}}(ct.API);var VP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],a3=UP(HP),zP=[100,200,300,400,500,600,700,800,900],RG=UP(zP);function l3(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return VP[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof a3[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function CP(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var LG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},EP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function SP(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function FG(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},LG,t.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=l3(e[a])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){s=n[o.family];break}if(!(s=s||n[r]))throw new Error("Could not find a font-family for the rule '"+SP(o)+"' and default family '"+r+"'.");if(s=function(l,c){if(c[l])return c[l];var d=a3[l],h=d<=a3.normal?-1:1,m=CP(c,HP,d,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var d=VP[l],h=0;h<d.length;++h)if(c[d[h]])return c[d[h]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=RG[l],h=CP(c,zP,d,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+SP(o)+"'.");return s}function xP(n){return n.trimLeft()}function jG(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function BG(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Fy,DP,MP,t3=["times"];(function(n){var e,t,r,i,o,s,a,l,c,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var h=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=M;Object.defineProperty(this,"pdf",{get:function(){return L}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(_e){B=!!_e}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(_e){W=!!_e}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(_e){isNaN(_e)||(te=_e)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(_e){isNaN(_e)||(ue=_e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(_e){var U;typeof _e=="number"?U=[_e,_e,_e,_e]:((U=new Array(4))[0]=_e[0],U[1]=_e.length>=2?_e[1]:U[0],U[2]=_e.length>=3?_e[2]:U[0],U[3]=_e.length>=4?_e[3]:U[1]),c.margin=U}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(_e){fe=_e}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(_e){pe=_e}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(_e){Te=_e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(_e){_e instanceof d&&(c=_e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(_e){c.path=_e}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(_e){Pe=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var U;U=m(_e),this.ctx.fillStyle=U.style,this.ctx.isFillTransparent=U.a===0,this.ctx.fillOpacity=U.a,this.pdf.setFillColor(U.r,U.g,U.b,{a:U.a}),this.pdf.setTextColor(U.r,U.g,U.b,{a:U.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var U=m(_e);this.ctx.strokeStyle=U.style,this.ctx.isStrokeTransparent=U.a===0,this.ctx.strokeOpacity=U.a,U.a===0?this.pdf.setDrawColor(255,255,255):(U.a,this.pdf.setDrawColor(U.r,U.g,U.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var ze=null;function Ue(_e,U){if(ze===null){var Dt=function(et){var Ae=[];return Object.keys(et).forEach(function(Re){et[Re].forEach(function(qe){var He=null;switch(qe){case"bold":He={family:Re,weight:"bold"};break;case"italic":He={family:Re,style:"italic"};break;case"bolditalic":He={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":He={family:Re}}He!==null&&(He.ref={name:Re,style:qe},Ae.push(He))})}),Ae}(_e.getFontList());ze=function(et){for(var Ae={},Re=0;Re<et.length;++Re){var qe=l3(et[Re]),He=qe.family,rt=qe.stretch,wt=qe.style,Tt=qe.weight;Ae[He]=Ae[He]||{},Ae[He][rt]=Ae[He][rt]||{},Ae[He][rt][wt]=Ae[He][rt][wt]||{},Ae[He][rt][wt][Tt]=qe}return Ae}(Dt.concat(U))}return ze}var dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(_e){ze=null,dt=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var U;if(this.ctx.font=_e,(U=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var Dt=U[1];U[2];var et=U[3],Ae=U[4];U[5];var Re=U[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(qe==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var He=function(gt){var Ut,Ge,jr=[],Zt=gt.trim();if(Zt==="")return t3;if(Zt in EP)return[EP[Zt]];for(;Zt!=="";){switch(Ge=null,Ut=(Zt=xP(Zt)).charAt(0)){case'"':case"'":Ge=jG(Zt.substring(1),Ut);break;default:Ge=BG(Zt)}if(Ge===null||(jr.push(Ge[0]),(Zt=xP(Ge[1]))!==""&&Zt.charAt(0)!==","))return t3;Zt=Zt.replace(/^,/,"")}return jr}(Re);if(this.fontFaces){var rt=FG(Ue(this.pdf,this.fontFaces),He.map(function(gt){return{family:gt,stretch:"normal",weight:et,style:Dt}}));this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var wt="";(et==="bold"||parseInt(et,10)>=700||Dt==="bold")&&(wt="bold"),Dt==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Tt="",jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Kt=0;Kt<He.length;Kt++){if(this.pdf.internal.getFont(He[Kt],wt,{noFallback:!0,disableWarning:!0})!==void 0){Tt=He[Kt];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(He[Kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=He[Kt],wt="bold";else if(this.pdf.internal.getFont(He[Kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=He[Kt],wt="normal";break}}if(Tt===""){for(var un=0;un<He.length;un++)if(jt[He[un]]){Tt=jt[He[un]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};h.prototype.setLineDash=function(M){this.lineDash=M},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(M,L){if(isNaN(M)||isNaN(L))throw _n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(M,L));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(M,L)},h.prototype.closePath=function(){var M=new s(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&hn(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){M=new s(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},h.prototype.lineTo=function(M,L){if(isNaN(M)||isNaN(L))throw _n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(M,L));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(M,L,B,W){if(isNaN(B)||isNaN(W)||isNaN(M)||isNaN(L))throw _n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new s(B,W)),ue=this.ctx.transform.applyToPoint(new s(M,L));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},h.prototype.bezierCurveTo=function(M,L,B,W,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(M)||isNaN(L)||isNaN(B)||isNaN(W))throw _n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(te,ue)),pe=this.ctx.transform.applyToPoint(new s(M,L)),Te=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Te.x,y2:Te.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},h.prototype.arc=function(M,L,B,W,te,ue){if(isNaN(M)||isNaN(L)||isNaN(B)||isNaN(W)||isNaN(te))throw _n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s(M,L));M=fe.x,L=fe.y;var pe=this.ctx.transform.applyToPoint(new s(0,B)),Te=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(pe.x-Te.x,2)+Math.pow(pe.y-Te.y,2))}Math.abs(te-W)>=2*Math.PI&&(W=0,te=2*Math.PI),this.path.push({type:"arc",x:M,y:L,radius:B,startAngle:W,endAngle:te,counterclockwise:ue})},h.prototype.arcTo=function(M,L,B,W,te){throw new Error("arcTo not implemented.")},h.prototype.rect=function(M,L,B,W){if(isNaN(M)||isNaN(L)||isNaN(B)||isNaN(W))throw _n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,L),this.lineTo(M+B,L),this.lineTo(M+B,L+W),this.lineTo(M,L+W),this.lineTo(M,L),this.lineTo(M+B,L),this.lineTo(M,L)},h.prototype.fillRect=function(M,L,B,W){if(isNaN(M)||isNaN(L)||isNaN(B)||isNaN(W))throw _n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,L,B,W),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},h.prototype.strokeRect=function(M,L,B,W){if(isNaN(M)||isNaN(L)||isNaN(B)||isNaN(W))throw _n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,L,B,W),this.stroke())},h.prototype.clearRect=function(M,L,B,W){if(isNaN(M)||isNaN(L)||isNaN(B)||isNaN(W))throw _n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,L,B,W))},h.prototype.save=function(M){M=typeof M!="boolean"||M;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},h.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(L),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(M){var L,B,W,te;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))L=0,B=0,W=0,te=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ue!==null)L=parseInt(ue[1]),B=parseInt(ue[2]),W=parseInt(ue[3]),te=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)L=parseInt(ue[1]),B=parseInt(ue[2]),W=parseInt(ue[3]),te=parseFloat(ue[4]);else{if(te=1,typeof M=="string"&&M.charAt(0)!=="#"){var fe=new kP(M);M=fe.ok?fe.toHex():"#000000"}M.length===4?(L=M.substring(1,2),L+=L,B=M.substring(2,3),B+=B,W=M.substring(3,4),W+=W):(L=M.substring(1,3),B=M.substring(3,5),W=M.substring(5,7)),L=parseInt(L,16),B=parseInt(B,16),W=parseInt(W,16)}}return{r:L,g:B,b:W,a:te,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(M,L,B,W){if(isNaN(L)||isNaN(B)||typeof M!="string")throw _n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!p.call(this)){var te=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:M,x:L,y:B,scale:ue,angle:te,align:this.textAlign,maxWidth:W})}},h.prototype.strokeText=function(M,L,B,W){if(isNaN(L)||isNaN(B)||typeof M!="string")throw _n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){W=isNaN(W)?void 0:W;var te=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:M,x:L,y:B,scale:ue,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:W})}},h.prototype.measureText=function(M){if(typeof M!="string")throw _n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,B=this.pdf.internal.scaleFactor,W=L.internal.getFontSize(),te=L.getStringUnitWidth(M)*W/L.internal.scaleFactor,ue=function(fe){var pe=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new ue({width:te*=Math.round(96*B/72*1e4)/1e4})},h.prototype.scale=function(M,L){if(isNaN(M)||isNaN(L))throw _n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new l(M,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.rotate=function(M){if(isNaN(M))throw _n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},h.prototype.translate=function(M,L){if(isNaN(M)||isNaN(L))throw _n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new l(1,0,0,1,M,L);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.transform=function(M,L,B,W,te,ue){if(isNaN(M)||isNaN(L)||isNaN(B)||isNaN(W)||isNaN(te)||isNaN(ue))throw _n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(M,L,B,W,te,ue);this.ctx.transform=this.ctx.transform.multiply(fe)},h.prototype.setTransform=function(M,L,B,W,te,ue){M=isNaN(M)?1:M,L=isNaN(L)?0:L,B=isNaN(B)?0:B,W=isNaN(W)?1:W,te=isNaN(te)?0:te,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(M,L,B,W,te,ue)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(M,L,B,W,te,ue,fe,pe,Te){var Pe=this.pdf.getImageProperties(M),ze=1,Ue=1,dt=1,_e=1;W!==void 0&&pe!==void 0&&(dt=pe/W,_e=Te/te,ze=Pe.width/W*pe/W,Ue=Pe.height/te*Te/te),ue===void 0&&(ue=L,fe=B,L=0,B=0),W!==void 0&&pe===void 0&&(pe=W,Te=te),W===void 0&&pe===void 0&&(pe=Pe.width,Te=Pe.height);for(var U,Dt=this.ctx.transform.decompose(),et=Z(Dt.rotate.shx),Ae=new l,Re=(Ae=(Ae=(Ae=Ae.multiply(Dt.translate)).multiply(Dt.skew)).multiply(Dt.scale)).applyToRectangle(new a(ue-L*dt,fe-B*_e,W*ze,te*Ue)),qe=C.call(this,Re),He=[],rt=0;rt<qe.length;rt+=1)He.indexOf(qe[rt])===-1&&He.push(qe[rt]);if(O(He),this.autoPaging)for(var wt=He[0],Tt=He[He.length-1],jt=wt;jt<Tt+1;jt++){this.pdf.setPage(jt);var Kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],un=jt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=jt===1?0:gt+(jt-2)*Ut;if(this.ctx.clip_path.length!==0){var jr=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(U,this.posX+this.margin[3],-Ge+un+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=jr}var Zt=JSON.parse(JSON.stringify(Re));Zt=x([Zt],this.posX+this.margin[3],-Ge+un+this.ctx.prevPageLastElemOffset)[0];var po=(jt>wt||jt<Tt)&&_.call(this);po&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Ut,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,et),po&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,et)};var C=function(M,L,B){var W=[];L=L||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":W.push(Math.floor((M.y+te)/B)+1);break;case"arc":W.push(Math.floor((M.y+te-M.radius)/B)+1),W.push(Math.floor((M.y+te+M.radius)/B)+1);break;case"qct":var ue=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);W.push(Math.floor((ue.y+te)/B)+1),W.push(Math.floor((ue.y+ue.h+te)/B)+1);break;case"bct":var fe=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);W.push(Math.floor((fe.y+te)/B)+1),W.push(Math.floor((fe.y+fe.h+te)/B)+1);break;case"rect":W.push(Math.floor((M.y+te)/B)+1),W.push(Math.floor((M.y+M.h+te)/B)+1)}for(var pe=0;pe<W.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<W[pe];)w.call(this);return W},w=function(){var M=this.fillStyle,L=this.strokeStyle,B=this.font,W=this.lineCap,te=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=L,this.font=B,this.lineCap=W,this.lineWidth=te,this.lineJoin=ue},x=function(M,L,B){for(var W=0;W<M.length;W++)switch(M[W].type){case"bct":M[W].x2+=L,M[W].y2+=B;case"qct":M[W].x1+=L,M[W].y1+=B;case"mt":case"lt":case"arc":default:M[W].x+=L,M[W].y+=B}return M},O=function(M){return M.sort(function(L,B){return L-B})},k=function(M,L){for(var B,W,te=this.fillStyle,ue=this.strokeStyle,fe=this.lineCap,pe=this.lineWidth,Te=Math.abs(pe*this.ctx.transform.scaleX),Pe=this.lineJoin,ze=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),dt=[],_e=0;_e<Ue.length;_e++)if(Ue[_e].x!==void 0)for(var U=C.call(this,Ue[_e]),Dt=0;Dt<U.length;Dt+=1)dt.indexOf(U[Dt])===-1&&dt.push(U[Dt]);for(var et=0;et<dt.length;et++)for(;this.pdf.internal.getNumberOfPages()<dt[et];)w.call(this);if(O(dt),this.autoPaging)for(var Ae=dt[0],Re=dt[dt.length-1],qe=Ae;qe<Re+1;qe++){this.pdf.setPage(qe),this.fillStyle=te,this.strokeStyle=ue,this.lineCap=fe,this.lineWidth=Te,this.lineJoin=Pe;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=qe===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=qe===1?0:wt+(qe-2)*Tt;if(this.ctx.clip_path.length!==0){var Kt=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(B,this.posX+this.margin[3],-jt+rt+this.ctx.prevPageLastElemOffset),H.call(this,M,!0),this.path=Kt}if(W=JSON.parse(JSON.stringify(ze)),this.path=x(W,this.posX+this.margin[3],-jt+rt+this.ctx.prevPageLastElemOffset),L===!1||qe===0){var un=(qe>Ae||qe<Re)&&_.call(this);un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Tt,null).clip().discardPath()),H.call(this,M,L),un&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Te,H.call(this,M,L),this.lineWidth=pe;this.path=ze},H=function(M,L){if((M!=="stroke"||L||!y.call(this))&&(M==="stroke"||L||!p.call(this))){for(var B,W,te=[],ue=this.path,fe=0;fe<ue.length;fe++){var pe=ue[fe];switch(pe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:pe,deltas:[],abs:[]});break;case"lt":var Te=te.length;if(ue[fe-1]&&!isNaN(ue[fe-1].x)&&(B=[pe.x-ue[fe-1].x,pe.y-ue[fe-1].y],Te>0)){for(;Te>=0;Te--)if(te[Te-1].close!==!0&&te[Te-1].begin!==!0){te[Te-1].deltas.push(B),te[Te-1].abs.push(pe);break}}break;case"bct":B=[pe.x1-ue[fe-1].x,pe.y1-ue[fe-1].y,pe.x2-ue[fe-1].x,pe.y2-ue[fe-1].y,pe.x-ue[fe-1].x,pe.y-ue[fe-1].y],te[te.length-1].deltas.push(B);break;case"qct":var Pe=ue[fe-1].x+2/3*(pe.x1-ue[fe-1].x),ze=ue[fe-1].y+2/3*(pe.y1-ue[fe-1].y),Ue=pe.x+2/3*(pe.x1-pe.x),dt=pe.y+2/3*(pe.y1-pe.y),_e=pe.x,U=pe.y;B=[Pe-ue[fe-1].x,ze-ue[fe-1].y,Ue-ue[fe-1].x,dt-ue[fe-1].y,_e-ue[fe-1].x,U-ue[fe-1].y],te[te.length-1].deltas.push(B);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(pe)}}W=L?null:M==="stroke"?"stroke":"fill";for(var Dt=!1,et=0;et<te.length;et++)if(te[et].arc)for(var Ae=te[et].abs,Re=0;Re<Ae.length;Re++){var qe=Ae[Re];qe.type==="arc"?j.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,L,!Dt):G.call(this,qe.x,qe.y),Dt=!0}else if(te[et].close===!0)this.pdf.internal.out("h"),Dt=!1;else if(te[et].begin!==!0){var He=te[et].start.x,rt=te[et].start.y;z.call(this,te[et].deltas,He,rt),Dt=!0}W&&re.call(this,W),L&&se.call(this)}},Q=function(M){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-B;case"top":return M+L-B;case"hanging":return M+L-2*B;case"middle":return M+L/2-B;case"ideographic":return M;case"alphabetic":default:return M}},q=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(L,B){this.colorStops.push([L,B])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(M,L,B,W,te,ue,fe,pe,Te){for(var Pe=ce.call(this,B,W,te,ue),ze=0;ze<Pe.length;ze++){var Ue=Pe[ze];ze===0&&(Te?P.call(this,Ue.x1+M,Ue.y1+L):G.call(this,Ue.x1+M,Ue.y1+L)),de.call(this,M,L,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}pe?se.call(this):re.call(this,fe)},re=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,L){this.pdf.internal.out(t(M)+" "+r(L)+" m")},T=function(M){var L;switch(M.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var B=this.pdf.getTextDimensions(M.text),W=Q.call(this,M.y),te=q.call(this,W)-B.h,ue=this.ctx.transform.applyToPoint(new s(M.x,W)),fe=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var Te,Pe,ze,Ue=this.ctx.transform.applyToRectangle(new a(M.x,W,B.w,B.h)),dt=pe.applyToRectangle(new a(M.x,te,B.w,B.h)),_e=C.call(this,dt),U=[],Dt=0;Dt<_e.length;Dt+=1)U.indexOf(_e[Dt])===-1&&U.push(_e[Dt]);if(O(U),this.autoPaging)for(var et=U[0],Ae=U[U.length-1],Re=et;Re<Ae+1;Re++){this.pdf.setPage(Re);var qe=Re===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],wt=rt-this.margin[0],Tt=this.pdf.internal.pageSize.width-this.margin[1],jt=Tt-this.margin[3],Kt=Re===1?0:He+(Re-2)*wt;if(this.ctx.clip_path.length!==0){var un=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Te,this.posX+this.margin[3],-1*Kt+qe),H.call(this,"fill",!0),this.path=un}var gt=x([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-Kt+qe+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),ze=this.lineWidth,this.lineWidth=ze*M.scale);var Ut=this.autoPaging!=="text";if(Ut||gt.y+gt.h<=rt){if(Ut||gt.y>=qe&&gt.x<=Tt){var Ge=Ut?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Tt-gt.x)[0],jr=x([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Kt+qe+this.ctx.prevPageLastElemOffset)[0],Zt=Ut&&(Re>et||Re<Ae)&&_.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,wt,null).clip().discardPath()),this.pdf.text(Ge,jr.x,jr.y,{angle:M.angle,align:L,renderingMode:M.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else gt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-gt.y);M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=ze)}else M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),ze=this.lineWidth,this.lineWidth=ze*M.scale),this.pdf.text(M.text,ue.x+this.posX,ue.y+this.posY,{angle:M.angle,align:L,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=ze)},G=function(M,L,B,W){B=B||0,W=W||0,this.pdf.internal.out(t(M+B)+" "+r(L+W)+" l")},z=function(M,L,B){return this.pdf.lines(M,L,B,null,null)},de=function(M,L,B,W,te,ue,fe,pe){this.pdf.internal.out([e(i(B+M)),e(o(W+L)),e(i(te+M)),e(o(ue+L)),e(i(fe+M)),e(o(pe+L)),"c"].join(" "))},ce=function(M,L,B,W){for(var te=2*Math.PI,ue=Math.PI/2;L>B;)L-=te;var fe=Math.abs(B-L);fe<te&&W&&(fe=te-fe);for(var pe=[],Te=W?-1:1,Pe=L;fe>1e-5;){var ze=Pe+Te*Math.min(fe,ue);pe.push(ve.call(this,M,Pe,ze)),fe-=Math.abs(ze-Pe),Pe=ze}return pe},ve=function(M,L,B){var W=(B-L)/2,te=M*Math.cos(W),ue=M*Math.sin(W),fe=te,pe=-ue,Te=fe*fe+pe*pe,Pe=Te+fe*te+pe*ue,ze=4/3*(Math.sqrt(2*Te*Pe)-Pe)/(fe*ue-pe*te),Ue=fe-ze*pe,dt=pe+ze*fe,_e=Ue,U=-dt,Dt=W+L,et=Math.cos(Dt),Ae=Math.sin(Dt);return{x1:M*Math.cos(L),y1:M*Math.sin(L),x2:Ue*et-dt*Ae,y2:Ue*Ae+dt*et,x3:_e*et-U*Ae,y3:_e*Ae+U*et,x4:M*Math.cos(B),y4:M*Math.sin(B)}},Z=function(M){return 180*M/Math.PI},he=function(M,L,B,W,te,ue){var fe=M+.5*(B-M),pe=L+.5*(W-L),Te=te+.5*(B-te),Pe=ue+.5*(W-ue),ze=Math.min(M,te,fe,Te),Ue=Math.max(M,te,fe,Te),dt=Math.min(L,ue,pe,Pe),_e=Math.max(L,ue,pe,Pe);return new a(ze,dt,Ue-ze,_e-dt)},ge=function(M,L,B,W,te,ue,fe,pe){var Te,Pe,ze,Ue,dt,_e,U,Dt,et,Ae,Re,qe,He,rt,wt=B-M,Tt=W-L,jt=te-B,Kt=ue-W,un=fe-te,gt=pe-ue;for(Pe=0;Pe<41;Pe++)et=(U=(ze=M+(Te=Pe/40)*wt)+Te*((dt=B+Te*jt)-ze))+Te*(dt+Te*(te+Te*un-dt)-U),Ae=(Dt=(Ue=L+Te*Tt)+Te*((_e=W+Te*Kt)-Ue))+Te*(_e+Te*(ue+Te*gt-_e)-Dt),Pe==0?(Re=et,qe=Ae,He=et,rt=Ae):(Re=Math.min(Re,et),qe=Math.min(qe,Ae),He=Math.max(He,et),rt=Math.max(rt,Ae));return new a(Math.round(Re),Math.round(qe),Math.round(He-Re),Math.round(rt-qe))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,L,B=(M=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:L}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(ct.API),function(n){var e=function(o){var s,a,l,c,d,h,m,p,y,_;for(/[^\x00-\xFF]/.test(o),a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(h=(d=((d=((d=((d=(d-(_=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)%85,a.push(h+33,m+33,p+33,y+33,_+33)):a.push(122);return function(C,w){for(var x=w;x>0;x--)C.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},t=function(o){var s,a,l,c,d,h=String,m="length",p=255,y="charCodeAt",_="slice",C="replace";for(o[_](-2),o=o[_](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],c=0,d=(o+=s="uuuuu"[_](o[m]%5||5))[m];d>c;c+=5)a=52200625*(o[y](c)-33)+614125*(o[y](c+1)-33)+7225*(o[y](c+2)-33)+85*(o[y](c+3)-33)+(o[y](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,x){for(var O=x;O>0;O--)w.pop()}(l,s[m]),h.fromCharCode.apply(h,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=ky(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ct.API),function(n){n.loadFile=function(e,t,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var h=new XMLHttpRequest,m=0,p=function(y){var _=y.length,C=[],w=String.fromCharCode;for(m=0;m<_;m+=1)C.push(w(255&y.charCodeAt(m)));return C.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return p(h.responseText)}(i,o,s)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(ct.API),function(n){function e(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):import("./chunk-SOQBCYLK.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):import("./chunk-47BTRKO7.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=hn(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var p=c[m],y=p.src.find(function(_){return _.format==="truetype"});y&&l.addFont(y.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,d).then(function(h){return l.updateProgress(1),h})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(c,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ct.getPageSize=function(s,a,l){if(hn(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,h=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var p,y=0,_=0;if(m.hasOwnProperty(h))y=m[h][1]/d,_=m[h][0]/d;else try{y=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",_>y&&(p=_,_=y,y=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>_&&(p=_,_=y,y=p)}return{width:_,height:y,unit:a,k:d,orientation:s}},n.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(l3):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(ct.API),ct.API.addJS=function(n){return MP=n,this.internal.events.subscribe("postPutResources",function(){Fy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),DP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+MP+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fy!==void 0&&DP!==void 0&&this.internal.out("/Names <</JavaScript "+Fy+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var h=t.internal.newObject();d.push(h);var m=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<d.length;o++)t.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(ct.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,_={width:0,height:0,numcomponents:1},C=4;C<y;C+=2){if(C+=p,e.indexOf(h.charCodeAt(C+1))!==-1){m=256*h.charCodeAt(C+5)+h.charCodeAt(C+6),_={width:256*h.charCodeAt(C+7)+h.charCodeAt(C+8),height:m,numcomponents:h.charCodeAt(C+9)};break}p=256*h.charCodeAt(C+2)+h.charCodeAt(C+3)}return _}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(ct.API);var Jd,jy,IP,AP,PP,UG=function(){var n,e,t;function r(o){var s,a,l,c,d,h,m,p,y,_,C,w,x,O;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),y=(function(){var k,H;for(H=[],k=0;k<4;++k)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*d/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),o=h?.data||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(x=0;0<=_?x<_:x>_;0<=_?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":m=(C=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,C.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,C.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(h,m,p,y){var _,C,w,x,O,k,H,Q,q,j,re,se,P,T,G,z,de,ce,ve,Z,he,ge=Math.ceil((c.width-h)/p),Ne=Math.ceil((c.height-m)/y),M=c.width==ge&&c.height==Ne;for(T=s*ge,se=M?a:new Uint8Array(T*Ne),k=o.length,P=0,C=0;P<Ne&&l<k;){switch(o[l++]){case 0:for(x=de=0;de<T;x=de+=1)se[C++]=o[l++];break;case 1:for(x=ce=0;ce<T;x=ce+=1)_=o[l++],O=x<s?0:se[C-s],se[C++]=(_+O)%256;break;case 2:for(x=ve=0;ve<T;x=ve+=1)_=o[l++],w=(x-x%s)/s,G=P&&se[(P-1)*T+w*s+x%s],se[C++]=(G+_)%256;break;case 3:for(x=Z=0;Z<T;x=Z+=1)_=o[l++],w=(x-x%s)/s,O=x<s?0:se[C-s],G=P&&se[(P-1)*T+w*s+x%s],se[C++]=(_+Math.floor((O+G)/2))%256;break;case 4:for(x=he=0;he<T;x=he+=1)_=o[l++],w=(x-x%s)/s,O=x<s?0:se[C-s],P===0?G=z=0:(G=se[(P-1)*T+w*s+x%s],z=w&&se[(P-1)*T+(w-1)*s+x%s]),H=O+G-z,Q=Math.abs(H-O),j=Math.abs(H-G),re=Math.abs(H-z),q=Q<=j&&Q<=re?O:j<=re?G:z,se[C++]=(_+q)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!M){var L=((m+P*y)*c.width+h)*s,B=P*T;for(x=0;x<ge;x+=1){for(var W=0;W<s;W+=1)a[L++]=se[B++];L+=(p-1)*s}}P++}}return o=mP(o),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,c,d,h,m,p;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=h=0,m=a.length;h<m;s=h+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(p=d[o++])!=null?p:255;return c},r.prototype.copyToImageData=function(o,s){var a,l,c,d,h,m,p,y,_,C,w;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),y=(c=o.data||o).length,h=_||s,d=m=0,l===1)for(;d<y;)p=_?4*s[d/4]:m,C=h[p++],c[d++]=C,c[d++]=C,c[d++]=C,c[d++]=a?h[p++]:255,m=p;else for(;d<y;)p=_?4*s[d/4]:m,c[d++]=h[p++],c[d++]=h[p++],c[d++]=h[p++],c[d++]=a?h[p++]:255,m=p},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{e=pt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var s;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,c,d,h,m,p;if(this.animation){for(p=[],a=d=0,h=(m=this.animation.frames).length;d<h;a=++d)s=m[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=n(l));return p}},r.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,c,d,h,m=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,d=h.numPlays,(s=function(){var p,y;if(p=a++%c,y=l[p],m.renderFrame(o,p),c>1&&a/c<d)return m.animation._timeout=setTimeout(s,y.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();function VG(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,s=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,d=[],h=0,m=null,p=0,y=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];h=n[e++]|n[e++]<<8,m=n[e++],(1&_)==0&&(m=null),p=_>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var C=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,x=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,k=n[e++],H=k>>6&1,Q=1<<(7&k)+1,q=a,j=l,re=!1;k>>7&&(re=!0,q=e,j=Q,e+=3*Q);var se=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:C,y:w,width:x,height:O,has_local_palette:re,palette_offset:q,palette_size:j,data_offset:se,data_length:e-se,transparent_index:m,interlaced:!!H,delay:h,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,G){var z=this.frameInfo(T),de=z.width*z.height,ce=new Uint8Array(de);TP(n,z.data_offset,ce,de);var ve=z.palette_offset,Z=z.transparent_index;Z===null&&(Z=256);var he=z.width,ge=t-he,Ne=he,M=4*(z.y*t+z.x),L=4*((z.y+z.height)*t+z.x),B=M,W=4*ge;z.interlaced===!0&&(W+=4*t*7);for(var te=8,ue=0,fe=ce.length;ue<fe;++ue){var pe=ce[ue];if(Ne===0&&(Ne=he,(B+=W)>=L&&(W=4*ge+4*t*(te-1),B=M+(he+ge)*(te<<1),te>>=1)),pe===Z)B+=4;else{var Te=n[ve+3*pe],Pe=n[ve+3*pe+1],ze=n[ve+3*pe+2];G[B++]=ze,G[B++]=Pe,G[B++]=Te,G[B++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(T,G){var z=this.frameInfo(T),de=z.width*z.height,ce=new Uint8Array(de);TP(n,z.data_offset,ce,de);var ve=z.palette_offset,Z=z.transparent_index;Z===null&&(Z=256);var he=z.width,ge=t-he,Ne=he,M=4*(z.y*t+z.x),L=4*((z.y+z.height)*t+z.x),B=M,W=4*ge;z.interlaced===!0&&(W+=4*t*7);for(var te=8,ue=0,fe=ce.length;ue<fe;++ue){var pe=ce[ue];if(Ne===0&&(Ne=he,(B+=W)>=L&&(W=4*ge+4*t*(te-1),B=M+(he+ge)*(te<<1),te>>=1)),pe===Z)B+=4;else{var Te=n[ve+3*pe],Pe=n[ve+3*pe+1],ze=n[ve+3*pe+2];G[B++]=Te,G[B++]=Pe,G[B++]=ze,G[B++]=255}--Ne}}}function TP(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,d=0,h=0,m=0,p=n[e++],y=new Int32Array(4096),_=null;;){for(;d<16&&p!==0;)h|=n[e++]<<d,d+=8,p===1?p=n[e++]:--p;if(d<l)break;var C=h&c;if(h>>=l,d-=l,C!==o){if(C===s)break;for(var w=C<a?C:_,x=0,O=w;O>o;)O=y[O]>>8,++x;var k=O;if(m+x+(w!==C?1:0)>r)return void _n.log("Warning, gif stream longer than expected.");t[m++]=k;var H=m+=x;for(w!==C&&(t[m++]=k),O=w;x--;)O=y[O],t[--H]=255&O,O>>=8;_!==null&&a<4096&&(y[a++]=_<<8|k,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=C}else a=s+1,c=(1<<(l=i+1))-1,_=null}return m!==r&&_n.log("Warning, gif stream shorter than expected."),t}function n3(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),y=new Array(64),_=[],C=0,w=7,x=new Array(64),O=new Array(64),k=new Array(64),H=new Array(256),Q=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(M,L){for(var B=0,W=0,te=new Array,ue=1;ue<=16;ue++){for(var fe=1;fe<=M[ue];fe++)te[L[W]]=[],te[L[W]][0]=B,te[L[W]][1]=ue,W++,B++;B*=2}return te}function ve(M){for(var L=M[0],B=M[1]-1;B>=0;)L&1<<B&&(C|=1<<w),B--,--w<0&&(C==255?(Z(255),Z(0)):Z(C),w=7,C=0)}function Z(M){_.push(M)}function he(M){Z(M>>8&255),Z(255&M)}function ge(M,L,B,W,te){for(var ue,fe=te[0],pe=te[240],Te=function(Ae,Re){var qe,He,rt,wt,Tt,jt,Kt,un,gt,Ut,Ge=0;for(gt=0;gt<8;++gt){qe=Ae[Ge],He=Ae[Ge+1],rt=Ae[Ge+2],wt=Ae[Ge+3],Tt=Ae[Ge+4],jt=Ae[Ge+5],Kt=Ae[Ge+6];var jr=qe+(un=Ae[Ge+7]),Zt=qe-un,po=He+Kt,mn=He-Kt,Mn=rt+jt,Jo=rt-jt,nn=wt+Tt,Fl=wt-Tt,Rn=jr+nn,go=jr-nn,qs=po+Mn,Ln=po-Mn;Ae[Ge]=Rn+qs,Ae[Ge+4]=Rn-qs;var Ct=.707106781*(Ln+go);Ae[Ge+2]=go+Ct,Ae[Ge+6]=go-Ct;var rn=.382683433*((Rn=Fl+Jo)-(Ln=mn+Zt)),jl=.5411961*Rn+rn,Ar=1.306562965*Ln+rn,Qo=.707106781*(qs=Jo+mn),es=Zt+Qo,ut=Zt-Qo;Ae[Ge+5]=ut+jl,Ae[Ge+3]=ut-jl,Ae[Ge+1]=es+Ar,Ae[Ge+7]=es-Ar,Ge+=8}for(Ge=0,gt=0;gt<8;++gt){qe=Ae[Ge],He=Ae[Ge+8],rt=Ae[Ge+16],wt=Ae[Ge+24],Tt=Ae[Ge+32],jt=Ae[Ge+40],Kt=Ae[Ge+48];var mo=qe+(un=Ae[Ge+56]),ts=qe-un,ai=He+Kt,fr=He-Kt,nr=rt+jt,Ci=rt-jt,tu=wt+Tt,Gs=wt-Tt,vo=mo+tu,yo=mo-tu,bo=ai+nr,ns=ai-nr;Ae[Ge]=vo+bo,Ae[Ge+32]=vo-bo;var Fi=.707106781*(ns+yo);Ae[Ge+16]=yo+Fi,Ae[Ge+48]=yo-Fi;var rs=.382683433*((vo=Gs+Ci)-(ns=fr+ts)),Bl=.5411961*vo+rs,nu=1.306562965*ns+rs,ru=.707106781*(bo=Ci+fr),iu=ts+ru,ou=ts-ru;Ae[Ge+40]=ou+Bl,Ae[Ge+24]=ou-Bl,Ae[Ge+8]=iu+nu,Ae[Ge+56]=iu-nu,Ge++}for(gt=0;gt<64;++gt)Ut=Ae[gt]*Re[gt],p[gt]=Ut>0?Ut+.5|0:Ut-.5|0;return p}(M,L),Pe=0;Pe<64;++Pe)y[q[Pe]]=Te[Pe];var ze=y[0]-B;B=y[0],ze==0?ve(W[0]):(ve(W[m[ue=32767+ze]]),ve(h[ue]));for(var Ue=63;Ue>0&&y[Ue]==0;)Ue--;if(Ue==0)return ve(fe),B;for(var dt,_e=1;_e<=Ue;){for(var U=_e;y[_e]==0&&_e<=Ue;)++_e;var Dt=_e-U;if(Dt>=16){dt=Dt>>4;for(var et=1;et<=dt;++et)ve(pe);Dt&=15}ue=32767+y[_e],ve(te[(Dt<<4)+m[ue]]),ve(h[ue]),_e++}return Ue!=63&&ve(fe),B}function Ne(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(L){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var te=s((B[W]*L+50)/100);te=Math.min(Math.max(te,1),255),a[q[W]]=te}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var pe=s((ue[fe]*L+50)/100);pe=Math.min(Math.max(pe,1),255),l[q[fe]]=pe}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,ze=0;ze<8;ze++)for(var Ue=0;Ue<8;Ue++)c[Pe]=1/(a[q[Pe]]*Te[ze]*Te[Ue]*8),d[Pe]=1/(l[q[Pe]]*Te[ze]*Te[Ue]*8),Pe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,L){L&&Ne(L),_=new Array,C=0,w=7,he(65496),he(65504),he(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),he(1),he(1),Z(0),Z(0),function(){he(65499),he(132),Z(0);for(var He=0;He<64;He++)Z(a[He]);Z(1);for(var rt=0;rt<64;rt++)Z(l[rt])}(),function(He,rt){he(65472),he(17),Z(8),he(rt),he(He),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(M.width,M.height),function(){he(65476),he(418),Z(0);for(var He=0;He<16;He++)Z(j[He+1]);for(var rt=0;rt<=11;rt++)Z(re[rt]);Z(16);for(var wt=0;wt<16;wt++)Z(se[wt+1]);for(var Tt=0;Tt<=161;Tt++)Z(P[Tt]);Z(1);for(var jt=0;jt<16;jt++)Z(T[jt+1]);for(var Kt=0;Kt<=11;Kt++)Z(G[Kt]);Z(17);for(var un=0;un<16;un++)Z(z[un+1]);for(var gt=0;gt<=161;gt++)Z(de[gt])}(),he(65498),he(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var B=0,W=0,te=0;C=0,w=7,this.encode.displayName="_encode_";for(var ue,fe,pe,Te,Pe,ze,Ue,dt,_e,U=M.data,Dt=M.width,et=M.height,Ae=4*Dt,Re=0;Re<et;){for(ue=0;ue<Ae;){for(Pe=Ae*Re+ue,Ue=-1,dt=0,_e=0;_e<64;_e++)ze=Pe+(dt=_e>>3)*Ae+(Ue=4*(7&_e)),Re+dt>=et&&(ze-=Ae*(Re+1+dt-et)),ue+Ue>=Ae&&(ze-=ue+Ue-Ae+4),fe=U[ze++],pe=U[ze++],Te=U[ze++],x[_e]=(Q[fe]+Q[pe+256>>0]+Q[Te+512>>0]>>16)-128,O[_e]=(Q[fe+768>>0]+Q[pe+1024>>0]+Q[Te+1280>>0]>>16)-128,k[_e]=(Q[fe+1280>>0]+Q[pe+1536>>0]+Q[Te+1792>>0]>>16)-128;B=ge(x,c,B,e,r),W=ge(O,d,W,t,i),te=ge(k,d,te,t,i),ue+=32}Re+=8}if(w>=0){var qe=[];qe[1]=w+1,qe[0]=(1<<w+1)-1,ve(qe)}return he(65497),new Uint8Array(_)},n=n||50,function(){for(var M=String.fromCharCode,L=0;L<256;L++)H[L]=M(L)}(),e=ce(j,re),t=ce(T,G),r=ce(se,P),i=ce(z,de),function(){for(var M=1,L=2,B=1;B<=15;B++){for(var W=M;W<L;W++)m[32767+W]=B,h[32767+W]=[],h[32767+W][1]=B,h[32767+W][0]=W;for(var te=-(L-1);te<=-M;te++)m[32767+te]=B,h[32767+te]=[],h[32767+te][1]=B,h[32767+te][0]=L-1+te;M<<=1,L<<=1}}(),function(){for(var M=0;M<256;M++)Q[M]=19595*M,Q[M+256>>0]=38470*M,Q[M+512>>0]=7471*M+32768,Q[M+768>>0]=-11059*M,Q[M+1024>>0]=-21709*M,Q[M+1280>>0]=32768*M+8421375,Q[M+1536>>0]=-27439*M,Q[M+1792>>0]=-5329*M}(),Ne(n)}function Ko(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function NP(n){function e(j){if(!j)throw Error("assert :P")}function t(j,re,se){for(var P=0;4>P;P++)if(j[re+P]!=se.charCodeAt(P))return!0;return!1}function r(j,re,se,P,T){for(var G=0;G<T;G++)j[re+G]=se[P+G]}function i(j,re,se,P){for(var T=0;T<P;T++)j[re+T]=se}function o(j){return new Int32Array(j)}function s(j,re){for(var se=[],P=0;P<j;P++)se.push(new re);return se}function a(j,re){var se=[];return function P(T,G,z){for(var de=z[G],ce=0;ce<de&&(T.push(z.length>G+1?[]:new re),!(z.length<G+1));ce++)P(T[ce],G+1,z)}(se,0,j),se}var l=function(){var j=this;function re(u,f){for(var v=1<<f-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function se(u,f,v,b,E){e(!(b%v));do u[f+(b-=v)]=E;while(0<b)}function P(u,f,v,b,E){if(e(2328>=E),512>=E)var D=o(512);else if((D=o(E))==null)return 0;return function(I,A,N,R,Y,ae){var le,ee,xe=A,me=1<<N,K=o(16),X=o(16);for(e(Y!=0),e(R!=null),e(I!=null),e(0<N),ee=0;ee<Y;++ee){if(15<R[ee])return 0;++K[R[ee]]}if(K[0]==Y)return 0;for(X[1]=0,le=1;15>le;++le){if(K[le]>1<<le)return 0;X[le+1]=X[le]+K[le]}for(ee=0;ee<Y;++ee)le=R[ee],0<R[ee]&&(ae[X[le]++]=ee);if(X[15]==1)return(R=new T).g=0,R.value=ae[0],se(I,xe,1,me,R),me;var Ce,Me=-1,Se=me-1,We=0,Le=1,at=1,Ve=1<<N;for(ee=0,le=1,Y=2;le<=N;++le,Y<<=1){if(Le+=at<<=1,0>(at-=K[le]))return 0;for(;0<K[le];--K[le])(R=new T).g=le,R.value=ae[ee++],se(I,xe+We,Y,Ve,R),We=re(We,le)}for(le=N+1,Y=2;15>=le;++le,Y<<=1){if(Le+=at<<=1,0>(at-=K[le]))return 0;for(;0<K[le];--K[le]){if(R=new T,(We&Se)!=Me){for(xe+=Ve,Ce=1<<(Me=le)-N;15>Me&&!(0>=(Ce-=K[Me]));)++Me,Ce<<=1;me+=Ve=1<<(Ce=Me-N),I[A+(Me=We&Se)].g=Ce+N,I[A+Me].value=xe-A-Me}R.g=le-N,R.value=ae[ee++],se(I,xe+(We>>N),Y,Ve,R),We=re(We,le)}}return Le!=2*X[15]-1?0:me}(u,f,v,b,E,D)}function T(){this.value=this.g=0}function G(){this.value=this.g=0}function z(){this.G=s(5,T),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Pr,G)}function de(u,f,v,b){e(u!=null),e(f!=null),e(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=v,u.Jd=f,u.Yc=v+b,u.Zc=4<=b?v+b-4+1:v,ue(u)}function ce(u,f){for(var v=0;0<f--;)v|=pe(u,128)<<f;return v}function ve(u,f){var v=ce(u,f);return fe(u)?-v:v}function Z(u,f,v,b){var E,D=0;for(e(u!=null),e(f!=null),e(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),E=0;E<b;++E)D+=f[v+E]<<8*E;u.Ra=D,u.bb=b,u.oa=f,u.pa=v}function he(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<_u-8>>>0,++u.bb,u.u-=8;B(u)&&(u.h=1,u.u=0)}function ge(u,f){if(e(0<=f),!u.h&&f<=bu){var v=L(u)&yu[f];return u.u+=f,he(u),v}return u.h=1,u.u=0}function Ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(u){return u.Ra>>>(u.u&_u-1)>>>0}function B(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>_u}function W(u,f){u.u=f,u.h=B(u)}function te(u){u.u>=Rh&&(e(u.u>=Rh),he(u))}function ue(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function fe(u){return ce(u,1)}function pe(u,f){var v=u.Ca;0>u.b&&ue(u);var b=u.b,E=v*f>>>8,D=(u.I>>>b>E)+0;for(D?(v-=E,u.I-=E+1<<b>>>0):v=E+1,b=v,E=0;256<=b;)E+=8,b>>=8;return b=7^E+ci[b],u.b-=b,u.Ca=(v<<b)-1,D}function Te(u,f,v){u[f+0]=v>>24&255,u[f+1]=v>>16&255,u[f+2]=v>>8&255,u[f+3]=v>>0&255}function Pe(u,f){return u[f+0]<<0|u[f+1]<<8}function ze(u,f){return Pe(u,f)|u[f+2]<<16}function Ue(u,f){return Pe(u,f)|Pe(u,f+2)<<16}function dt(u,f){var v=1<<f;return e(u!=null),e(0<f),u.X=o(v),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function _e(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function U(){this.X=[],this.Xa=this.Mb=0}function Dt(u,f,v,b){e(v!=null),e(b!=null);var E=v[0],D=b[0];return E==0&&(E=(u*D+f/2)/f),D==0&&(D=(f*E+u/2)/u),0>=E||0>=D?0:(v[0]=E,b[0]=D,1)}function et(u,f){return u+(1<<f)-1>>>f}function Ae(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Re(u,f){j[f]=function(v,b,E,D,I,A,N){var R;for(R=0;R<I;++R){var Y=j[u](A[N+R-1],E,D+R);A[N+R]=Ae(v[b+R],Y)}}}function qe(){this.ud=this.hd=this.jd=0}function He(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function rt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function wt(u,f){return rt(u+(u-f+.5>>1))}function Tt(u,f,v){return Math.abs(f-v)-Math.abs(u-v)}function jt(u,f,v,b,E,D,I){for(b=D[I-1],v=0;v<E;++v)D[I+v]=b=Ae(u[f+v],b)}function Kt(u,f,v,b,E){var D;for(D=0;D<v;++D){var I=u[f+D],A=I>>8&255,N=16711935&(N=(N=16711935&I)+((A<<16)+A));b[E+D]=(4278255360&I)+N>>>0}}function un(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function gt(u,f,v,b,E,D){var I;for(I=0;I<b;++I){var A=f[v+I],N=A>>>8,R=A,Y=255&(Y=(Y=A>>>16)+((u.jd<<24>>24)*(N<<24>>24)>>>5));R=255&(R=(R=R+((u.hd<<24>>24)*(N<<24>>24)>>>5))+((u.ud<<24>>24)*(Y<<24>>24)>>>5)),E[D+I]=(4278255360&A)+(Y<<16)+R}}function Ut(u,f,v,b,E){j[f]=function(D,I,A,N,R,Y,ae,le,ee){for(N=ae;N<le;++N)for(ae=0;ae<ee;++ae)R[Y++]=E(A[b(D[I++])])},j[u]=function(D,I,A,N,R,Y,ae){var le=8>>D.b,ee=D.Ea,xe=D.K[0],me=D.w;if(8>le)for(D=(1<<D.b)-1,me=(1<<le)-1;I<A;++I){var K,X=0;for(K=0;K<ee;++K)K&D||(X=b(N[R++])),Y[ae++]=E(xe[X&me]),X>>=le}else j["VP8LMapColor"+v](N,R,xe,me,Y,ae,I,A,ee)}}function Ge(u,f,v,b,E){for(v=f+v;f<v;){var D=u[f++];b[E++]=D>>16&255,b[E++]=D>>8&255,b[E++]=D>>0&255}}function jr(u,f,v,b,E){for(v=f+v;f<v;){var D=u[f++];b[E++]=D>>16&255,b[E++]=D>>8&255,b[E++]=D>>0&255,b[E++]=D>>24&255}}function Zt(u,f,v,b,E){for(v=f+v;f<v;){var D=(I=u[f++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;b[E++]=D,b[E++]=I}}function po(u,f,v,b,E){for(v=f+v;f<v;){var D=(I=u[f++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;b[E++]=D,b[E++]=I}}function mn(u,f,v,b,E){for(v=f+v;f<v;){var D=u[f++];b[E++]=D>>0&255,b[E++]=D>>8&255,b[E++]=D>>16&255}}function Mn(u,f,v,b,E,D){if(D==0)for(v=f+v;f<v;)Te(b,((D=u[f++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),E+=32;else r(b,E,u,f,v)}function Jo(u,f){j[f][0]=j[u+"0"],j[f][1]=j[u+"1"],j[f][2]=j[u+"2"],j[f][3]=j[u+"3"],j[f][4]=j[u+"4"],j[f][5]=j[u+"5"],j[f][6]=j[u+"6"],j[f][7]=j[u+"7"],j[f][8]=j[u+"8"],j[f][9]=j[u+"9"],j[f][10]=j[u+"10"],j[f][11]=j[u+"11"],j[f][12]=j[u+"12"],j[f][13]=j[u+"13"],j[f][14]=j[u+"0"],j[f][15]=j[u+"0"]}function nn(u){return u==ob||u==sb||u==zg||u==ab}function Fl(){this.eb=[],this.size=this.A=this.fb=0}function Rn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function go(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fl,this.f.kb=new Rn,this.sd=null}function qs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function rn(u,f){var v=u.T,b=f.ba.f.RGBA,E=b.eb,D=b.fb+u.ka*b.A,I=zi[f.ba.S],A=u.y,N=u.O,R=u.f,Y=u.N,ae=u.ea,le=u.W,ee=f.cc,xe=f.dc,me=f.Mc,K=f.Nc,X=u.ka,Ce=u.ka+u.T,Me=u.U,Se=Me+1>>1;for(X==0?I(A,N,null,null,R,Y,ae,le,R,Y,ae,le,E,D,null,null,Me):(I(f.ec,f.fc,A,N,ee,xe,me,K,R,Y,ae,le,E,D-b.A,E,D,Me),++v);X+2<Ce;X+=2)ee=R,xe=Y,me=ae,K=le,Y+=u.Rc,le+=u.Rc,D+=2*b.A,I(A,(N+=2*u.fa)-u.fa,A,N,ee,xe,me,K,R,Y,ae,le,E,D-b.A,E,D,Me);return N+=u.fa,u.j+Ce<u.o?(r(f.ec,f.fc,A,N,Me),r(f.cc,f.dc,R,Y,Se),r(f.Mc,f.Nc,ae,le,Se),v--):1&Ce||I(A,N,null,null,R,Y,ae,le,R,Y,ae,le,E,D+b.A,null,null,Me),v}function jl(u,f,v){var b=u.F,E=[u.J];if(b!=null){var D=u.U,I=f.ba.S,A=I==Hg||I==zg;f=f.ba.f.RGBA;var N=[0],R=u.ka;N[0]=u.T,u.Kb&&(R==0?--N[0]:(--R,E[0]-=u.width),u.j+u.ka+u.T==u.o&&(N[0]=u.o-u.j-R));var Y=f.eb;R=f.fb+R*f.A,u=Cn(b,E[0],u.width,D,N,Y,R+(A?0:3),f.A),e(v==N),u&&nn(I)&&Vi(Y,R,A,D,N,f.A)}return 0}function Ar(u){var f=u.ma,v=f.ba.S,b=11>v,E=v==Ug||v==Vg||v==Hg||v==ib||v==12||nn(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Oh(f.Oa,u,E?11:12))return 0;if(E&&nn(v)&&Ie(),u.da)alert("todo:use_scaling");else{if(b){if(f.Ib=Ct,u.Kb){if(v=u.U+1>>1,f.memory=o(u.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=rn,Ie()}}else alert("todo:EmitYUV");E&&(f.Jb=jl,b&&oe())}if(b&&!G3){for(u=0;256>u;++u)MN[u]=89858*(u-128)+Gg>>qg,PN[u]=-22014*(u-128)+Gg,AN[u]=-45773*(u-128),IN[u]=113618*(u-128)+Gg>>qg;for(u=Hh;u<ub;++u)f=76283*(u-16)+Gg>>qg,TN[u-Hh]=Ei(f,255),NN[u-Hh]=Ei(f+8>>4,15);G3=1}return 1}function Qo(u){var f=u.ma,v=u.U,b=u.T;return e(!(1&u.ka)),0>=v||0>=b?0:(v=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,v),f.Dc+=v,1)}function es(u){u.ma.memory=null}function ut(u,f,v,b){return ge(u,8)!=47?0:(f[0]=ge(u,14)+1,v[0]=ge(u,14)+1,b[0]=ge(u,1),ge(u,3)!=0?0:!u.h)}function mo(u,f){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+ge(f,v)+1}function ts(u,f){return 120<f?f-120:1<=(v=((v=fN[f-1])>>4)*u+(8-(15&v)))?v:1;var v}function ai(u,f,v){var b=L(v),E=u[f+=255&b].g-8;return 0<E&&(W(v,v.u+8),b=L(v),f+=u[f].value,f+=b&(1<<E)-1),W(v,v.u+u[f].g),u[f].value}function fr(u,f,v){return v.g+=u.g,v.value+=u.value<<f>>>0,e(8>=v.g),u.g}function nr(u,f,v){var b=u.xc;return e((f=b==0?0:u.vc[u.md*(v>>b)+(f>>b)])<u.Wb),u.Ya[f]}function Ci(u,f,v,b){var E=u.ab,D=u.c*f,I=u.C;f=I+f;var A=v,N=b;for(b=u.Ta,v=u.Ua;0<E--;){var R=u.gc[E],Y=I,ae=f,le=A,ee=N,xe=(N=b,A=v,R.Ea);switch(e(Y<ae),e(ae<=R.nc),R.hc){case 2:Og(le,ee,(ae-Y)*xe,N,A);break;case 0:var me=Y,K=ae,X=N,Ce=A,Me=(Ve=R).Ea;me==0&&(nb(le,ee,null,null,1,X,Ce),jt(le,ee+1,0,0,Me-1,X,Ce+1),ee+=Me,Ce+=Me,++me);for(var Se=1<<Ve.b,We=Se-1,Le=et(Me,Ve.b),at=Ve.K,Ve=Ve.w+(me>>Ve.b)*Le;me<K;){var Jt=at,sn=Ve,Xt=1;for(Lh(le,ee,X,Ce-Me,1,X,Ce);Xt<Me;){var zt=(Xt&~We)+Se;zt>Me&&(zt=Me),(0,za[Jt[sn++]>>8&15])(le,ee+ +Xt,X,Ce+Xt-Me,zt-Xt,X,Ce+Xt),Xt=zt}ee+=Me,Ce+=Me,++me&We||(Ve+=Le)}ae!=R.nc&&r(N,A-xe,N,A+(ae-Y-1)*xe,xe);break;case 1:for(xe=le,K=ee,Me=(le=R.Ea)-(Ce=le&~(X=(ee=1<<R.b)-1)),me=et(le,R.b),Se=R.K,R=R.w+(Y>>R.b)*me;Y<ae;){for(We=Se,Le=R,at=new qe,Ve=K+Ce,Jt=K+le;K<Ve;)un(We[Le++],at),ql(at,xe,K,ee,N,A),K+=ee,A+=ee;K<Jt&&(un(We[Le++],at),ql(at,xe,K,Me,N,A),K+=Me,A+=Me),++Y&X||(R+=me)}break;case 3:if(le==N&&ee==A&&0<R.b){for(K=N,le=xe=A+(ae-Y)*xe-(Ce=(ae-Y)*et(R.Ea,R.b)),ee=N,X=A,me=[],Ce=(Me=Ce)-1;0<=Ce;--Ce)me[Ce]=ee[X+Ce];for(Ce=Me-1;0<=Ce;--Ce)K[le+Ce]=me[Ce];ji(R,Y,ae,N,xe,N,A)}else ji(R,Y,ae,le,ee,N,A)}A=b,N=v}N!=v&&r(b,v,A,N,D)}function tu(u,f){var v=u.V,b=u.Ba+u.c*u.C,E=f-u.C;if(e(f<=u.l.o),e(16>=E),0<E){var D=u.l,I=u.Ta,A=u.Ua,N=D.width;if(Ci(u,E,v,b),E=A=[A],e((v=u.C)<(b=f)),e(D.v<D.va),b>D.o&&(b=D.o),v<D.j){var R=D.j-v;v=D.j,E[0]+=R*N}if(v>=b?v=0:(E[0]+=4*D.v,D.ka=v-D.j,D.U=D.va-D.v,D.T=b-v,v=1),v){if(A=A[0],11>(v=u.ca).S){var Y=v.f.RGBA,ae=(b=v.S,E=D.U,D=D.T,R=Y.eb,Y.A),le=D;for(Y=Y.fb+u.Ma*Y.A;0<le--;){var ee=I,xe=A,me=E,K=R,X=Y;switch(b){case Bg:ui(ee,xe,me,K,X);break;case Ug:Zr(ee,xe,me,K,X);break;case ob:Zr(ee,xe,me,K,X),Vi(K,X,0,me,1,0);break;case R3:Ks(ee,xe,me,K,X);break;case Vg:Mn(ee,xe,me,K,X,1);break;case sb:Mn(ee,xe,me,K,X,1),Vi(K,X,0,me,1,0);break;case Hg:Mn(ee,xe,me,K,X,0);break;case zg:Mn(ee,xe,me,K,X,0),Vi(K,X,1,me,1,0);break;case ib:qa(ee,xe,me,K,X);break;case ab:qa(ee,xe,me,K,X),wn(K,X,me,1,0);break;case L3:Ys(ee,xe,me,K,X);break;default:e(0)}A+=N,Y+=ae}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=f,e(u.C<=u.i)}function Gs(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var v=u.Ya[f].G,b=u.Ya[f].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function vo(u,f,v,b,E,D){if(u.Z!=0){var I=u.qd,A=u.rd;for(e(Ya[u.Z]!=null);f<v;++f)Ya[u.Z](I,A,b,E,b,E,D),I=b,A=E,E+=D;u.qd=I,u.rd=A}}function yo(u,f){var v=u.l.ma,b=v.Z==0||v.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,e(f<=u.l.o),f>b){var E=u.l.width,D=v.ca,I=v.tb+E*b,A=u.V,N=u.Ba+u.c*b,R=u.gc;e(u.ab==1),e(R[0].hc==3),kg(R[0],b,f,A,N,D,I),vo(v,b,f,D,I,E)}u.C=u.Ma=f}function bo(u,f,v,b,E,D,I){var A=u.$/b,N=u.$%b,R=u.m,Y=u.s,ae=v+u.$,le=ae;E=v+b*E;var ee=v+b*D,xe=280+Y.ua,me=u.Pb?A:16777216,K=0<Y.ua?Y.Wa:null,X=Y.wc,Ce=ae<ee?nr(Y,N,A):null;e(u.C<D),e(ee<=E);var Me=!1;e:for(;;){for(;Me||ae<ee;){var Se=0;if(A>=me){var We=ae-v;e((me=u).Pb),me.wd=me.m,me.xd=We,0<me.s.ua&&_e(me.s.Wa,me.s.vb),me=A+gN}if(N&X||(Ce=nr(Y,N,A)),e(Ce!=null),Ce.Qb&&(f[ae]=Ce.qb,Me=!0),!Me)if(te(R),Ce.jc){Se=R,We=f;var Le=ae,at=Ce.pd[L(Se)&Pr-1];e(Ce.jc),256>at.g?(W(Se,Se.u+at.g),We[Le]=at.value,Se=0):(W(Se,Se.u+at.g-256),e(256<=at.value),Se=at.value),Se==0&&(Me=!0)}else Se=ai(Ce.G[0],Ce.H[0],R);if(R.h)break;if(Me||256>Se){if(!Me)if(Ce.nd)f[ae]=(Ce.qb|Se<<8)>>>0;else{if(te(R),Me=ai(Ce.G[1],Ce.H[1],R),te(R),We=ai(Ce.G[2],Ce.H[2],R),Le=ai(Ce.G[3],Ce.H[3],R),R.h)break;f[ae]=(Le<<24|Me<<16|Se<<8|We)>>>0}if(Me=!1,++ae,++N>=b&&(N=0,++A,I!=null&&A<=D&&!(A%16)&&I(u,A),K!=null))for(;le<ae;)Se=f[le++],K.X[(506832829*Se&4294967295)>>>K.Mb]=Se}else if(280>Se){if(Se=mo(Se-256,R),We=ai(Ce.G[4],Ce.H[4],R),te(R),We=ts(b,We=mo(We,R)),R.h)break;if(ae-v<We||E-ae<Se)break e;for(Le=0;Le<Se;++Le)f[ae+Le]=f[ae+Le-We];for(ae+=Se,N+=Se;N>=b;)N-=b,++A,I!=null&&A<=D&&!(A%16)&&I(u,A);if(e(ae<=E),N&X&&(Ce=nr(Y,N,A)),K!=null)for(;le<ae;)Se=f[le++],K.X[(506832829*Se&4294967295)>>>K.Mb]=Se}else{if(!(Se<xe))break e;for(Me=Se-280,e(K!=null);le<ae;)Se=f[le++],K.X[(506832829*Se&4294967295)>>>K.Mb]=Se;Se=ae,e(!(Me>>>(We=K).Xa)),f[Se]=We.X[Me],Me=!0}Me||e(R.h==B(R))}if(u.Pb&&R.h&&ae<E)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&_e(u.s.vb,u.s.Wa);else{if(R.h)break e;I?.(u,A>D?D:A),u.a=0,u.$=ae-v}return 1}return u.a=3,0}function ns(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function Fi(){var u=new tb;return u==null?null:(u.a=0,u.xb=B3,Jo("Predictor","VP8LPredictors"),Jo("Predictor","VP8LPredictors_C"),Jo("PredictorAdd","VP8LPredictorsAdd"),Jo("PredictorAdd","VP8LPredictorsAdd_C"),Og=Kt,ql=gt,ui=Ge,Zr=jr,qa=Zt,Ys=po,Ks=mn,j.VP8LMapColor32b=wu,j.VP8LMapColor8b=Rg,u)}function rs(u,f,v,b,E){var D=1,I=[u],A=[f],N=b.m,R=b.s,Y=null,ae=0;e:for(;;){if(v)for(;D&&ge(N,1);){var le=I,ee=A,xe=b,me=1,K=xe.m,X=xe.gc[xe.ab],Ce=ge(K,2);if(xe.Oc&1<<Ce)D=0;else{switch(xe.Oc|=1<<Ce,X.hc=Ce,X.Ea=le[0],X.nc=ee[0],X.K=[null],++xe.ab,e(4>=xe.ab),Ce){case 0:case 1:X.b=ge(K,3)+2,me=rs(et(X.Ea,X.b),et(X.nc,X.b),0,xe,X.K),X.K=X.K[0];break;case 3:var Me,Se=ge(K,8)+1,We=16<Se?0:4<Se?1:2<Se?2:3;if(le[0]=et(X.Ea,We),X.b=We,Me=me=rs(Se,1,0,xe,X.K)){var Le,at=Se,Ve=X,Jt=1<<(8>>Ve.b),sn=o(Jt);if(sn==null)Me=0;else{var Xt=Ve.K[0],zt=Ve.w;for(sn[0]=Ve.K[0][0],Le=1;Le<1*at;++Le)sn[Le]=Ae(Xt[zt+Le],sn[Le-1]);for(;Le<4*Jt;++Le)sn[Le]=0;Ve.K[0]=null,Ve.K[0]=sn,Me=1}}me=Me;break;case 2:break;default:e(0)}D=me}}if(I=I[0],A=A[0],D&&ge(N,1)&&!(D=1<=(ae=ge(N,4))&&11>=ae)){b.a=3;break e}var vn;if(vn=D)t:{var dn,At,ir,di=b,or=I,hi=A,an=ae,xi=v,Di=di.m,_r=di.s,Tr=[null],Qr=1,qi=0,as=pN[an];n:for(;;){if(xi&&ge(Di,1)){var wr=ge(Di,3)+2,Qs=et(or,wr),Kl=et(hi,wr),Du=Qs*Kl;if(!rs(Qs,Kl,0,di,Tr))break n;for(Tr=Tr[0],_r.xc=wr,dn=0;dn<Du;++dn){var Ka=Tr[dn]>>8&65535;Tr[dn]=Ka,Ka>=Qr&&(Qr=Ka+1)}}if(Di.h)break n;for(At=0;5>At;++At){var jn=F3[At];!At&&0<an&&(jn+=1<<an),qi<jn&&(qi=jn)}var db=s(Qr*as,T),Y3=Qr,K3=s(Y3,z);if(K3==null)var Wg=null;else e(65536>=Y3),Wg=K3;var zh=o(qi);if(Wg==null||zh==null||db==null){di.a=1;break n}var Yg=db;for(dn=ir=0;dn<Qr;++dn){var So=Wg[dn],Mu=So.G,Iu=So.H,X3=0,Kg=1,Z3=0;for(At=0;5>At;++At){jn=F3[At],Mu[At]=Yg,Iu[At]=ir,!At&&0<an&&(jn+=1<<an);i:{var Xg,hb=jn,Zg=di,qh=zh,RN=Yg,LN=ir,fb=0,Xa=Zg.m,FN=ge(Xa,1);if(i(qh,0,0,hb),FN){var jN=ge(Xa,1)+1,BN=ge(Xa,1),J3=ge(Xa,BN==0?1:8);qh[J3]=1,jN==2&&(qh[J3=ge(Xa,8)]=1);var Jg=1}else{var Q3=o(19),eS=ge(Xa,4)+4;if(19<eS){Zg.a=3;var Qg=0;break i}for(Xg=0;Xg<eS;++Xg)Q3[hN[Xg]]=ge(Xa,3);var pb=void 0,Gh=void 0,tS=Zg,UN=Q3,em=hb,nS=qh,gb=0,Za=tS.m,rS=8,iS=s(128,T);r:for(;P(iS,0,7,UN,19);){if(ge(Za,1)){var VN=2+2*ge(Za,3);if((pb=2+ge(Za,VN))>em)break r}else pb=em;for(Gh=0;Gh<em&&pb--;){te(Za);var oS=iS[0+(127&L(Za))];W(Za,Za.u+oS.g);var Au=oS.value;if(16>Au)nS[Gh++]=Au,Au!=0&&(rS=Au);else{var HN=Au==16,sS=Au-16,zN=uN[sS],aS=ge(Za,cN[sS])+zN;if(Gh+aS>em)break r;for(var qN=HN?rS:0;0<aS--;)nS[Gh++]=qN}}gb=1;break r}gb||(tS.a=3),Jg=gb}(Jg=Jg&&!Xa.h)&&(fb=P(RN,LN,8,qh,hb)),Jg&&fb!=0?Qg=fb:(Zg.a=3,Qg=0)}if(Qg==0)break n;if(Kg&&dN[At]==1&&(Kg=Yg[ir].g==0),X3+=Yg[ir].g,ir+=Qg,3>=At){var $h,mb=zh[0];for($h=1;$h<jn;++$h)zh[$h]>mb&&(mb=zh[$h]);Z3+=mb}}if(So.nd=Kg,So.Qb=0,Kg&&(So.qb=(Mu[3][Iu[3]+0].value<<24|Mu[1][Iu[1]+0].value<<16|Mu[2][Iu[2]+0].value)>>>0,X3==0&&256>Mu[0][Iu[0]+0].value&&(So.Qb=1,So.qb+=Mu[0][Iu[0]+0].value<<8)),So.jc=!So.Qb&&6>Z3,So.jc){var tm,ea=So;for(tm=0;tm<Pr;++tm){var Ja=tm,Qa=ea.pd[Ja],nm=ea.G[0][ea.H[0]+Ja];256<=nm.value?(Qa.g=nm.g+256,Qa.value=nm.value):(Qa.g=0,Qa.value=0,Ja>>=fr(nm,8,Qa),Ja>>=fr(ea.G[1][ea.H[1]+Ja],16,Qa),Ja>>=fr(ea.G[2][ea.H[2]+Ja],0,Qa),fr(ea.G[3][ea.H[3]+Ja],24,Qa))}}}_r.vc=Tr,_r.Wb=Qr,_r.Ya=Wg,_r.yc=db,vn=1;break t}vn=0}if(!(D=vn)){b.a=3;break e}if(0<ae){if(R.ua=1<<ae,!dt(R.Wa,ae)){b.a=1,D=0;break e}}else R.ua=0;var vb=b,lS=I,GN=A,yb=vb.s,bb=yb.xc;if(vb.c=lS,vb.i=GN,yb.md=et(lS,bb),yb.wc=bb==0?-1:(1<<bb)-1,v){b.xb=CN;break e}if((Y=o(I*A))==null){b.a=1,D=0;break e}D=(D=bo(b,Y,0,I,A,A,null))&&!N.h;break e}return D?(E!=null?E[0]=Y:(e(Y==null),e(v)),b.$=0,v||ns(R)):ns(R),D}function Bl(u,f){var v=u.c*u.i,b=v+f+16*f;return e(u.c<=f),u.V=o(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+f,1)}function nu(u,f){var v=u.C,b=f-v,E=u.V,D=u.Ba+u.c*v;for(e(f<=u.l.o);0<b;){var I=16<b?16:b,A=u.l.ma,N=u.l.width,R=N*I,Y=A.ca,ae=A.tb+N*v,le=u.Ta,ee=u.Ua;Ci(u,I,E,D),Yn(le,ee,Y,ae,R),vo(A,v,v+I,Y,ae,N),b-=I,E+=I*u.c,v+=I}e(v==f),u.C=u.Ma=f}function ru(){this.ub=this.yd=this.td=this.Rb=0}function iu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ou(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function fg(){this.Yb=function(){var u=[];return function f(v,b,E){for(var D=E[b],I=0;I<D&&(v.push(E.length>b+1?[]:0),!(E.length<b+1));I++)f(v[I],b+1,E)}(u,0,[3,11]),u}()}function N2(){this.jb=o(3),this.Wc=a([4,8],fg),this.Xc=a([4,17],fg)}function O2(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function su(){this.ld=this.La=this.dd=this.tc=0}function pg(){this.Na=this.la=0}function k2(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vh(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function R2(){this.uc=this.M=this.Nb=0,this.wa=Array(new su),this.Y=0,this.ya=Array(new vh),this.aa=0,this.l=new au}function gg(){this.y=o(16),this.f=o(8),this.ea=o(8)}function L2(){this.cb=this.a=0,this.sc="",this.m=new Ne,this.Od=new ru,this.Kc=new iu,this.ed=new O2,this.Qa=new ou,this.Ic=this.$c=this.Aa=0,this.D=new R2,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Ne),this.ia=0,this.pb=s(4,k2),this.Pa=new N2,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gg),this.Hd=0,this.rb=Array(new pg),this.sb=0,this.wa=Array(new su),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vh),this.L=this.aa=0,this.gd=a([4,2],su),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function au(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function F2(){var u=new L2;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Vh||(Vh=yg)),u}function $n(u,f,v){return u.a==0&&(u.a=f,u.sc=v,u.cb=0),0}function mg(u,f,v){return 3<=v&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function vg(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return $n(u,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,b=f.w,E=f.ha;if(4>E)return $n(u,7,"Truncated header.");var D=v[b+0]|v[b+1]<<8|v[b+2]<<16,I=u.Od;if(I.Rb=!(1&D),I.td=D>>1&7,I.yd=D>>4&1,I.ub=D>>5,3<I.td)return $n(u,3,"Incorrect keyframe parameters.");if(!I.yd)return $n(u,4,"Frame not displayable.");b+=3,E-=3;var A=u.Kc;if(I.Rb){if(7>E)return $n(u,7,"cannot parse picture header");if(!mg(v,b,E))return $n(u,3,"Bad code word");A.c=16383&(v[b+4]<<8|v[b+3]),A.Td=v[b+4]>>6,A.i=16383&(v[b+6]<<8|v[b+5]),A.Ud=v[b+6]>>6,b+=7,E-=7,u.za=A.c+15>>4,u.Ub=A.i+15>>4,f.width=A.c,f.height=A.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((D=u.Pa).jb,0,255,D.jb.length),e((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(I.ub>E)return $n(u,7,"bad partition length");de(D=u.m,v,b,I.ub),b+=I.ub,E-=I.ub,I.Rb&&(A.Ld=fe(D),A.Kd=fe(D)),A=u.Qa;var N,R=u.Pa;if(e(D!=null),e(A!=null),A.Cb=fe(D),A.Cb){if(A.Bb=fe(D),fe(D)){for(A.Fb=fe(D),N=0;4>N;++N)A.Zb[N]=fe(D)?ve(D,7):0;for(N=0;4>N;++N)A.Lb[N]=fe(D)?ve(D,6):0}if(A.Bb)for(N=0;3>N;++N)R.jb[N]=fe(D)?ce(D,8):255}else A.Bb=0;if(D.Ka)return $n(u,3,"cannot parse segment header");if((A=u.ed).zd=fe(D),A.Tb=ce(D,6),A.wb=ce(D,3),A.Pc=fe(D),A.Pc&&fe(D)){for(R=0;4>R;++R)fe(D)&&(A.vd[R]=ve(D,6));for(R=0;4>R;++R)fe(D)&&(A.od[R]=ve(D,6))}if(u.L=A.Tb==0?0:A.zd?1:2,D.Ka)return $n(u,3,"cannot parse filter header");var Y=E;if(E=N=b,b=N+Y,A=Y,u.Xb=(1<<ce(u.m,2))-1,Y<3*(R=u.Xb))v=7;else{for(N+=3*R,A-=3*R,Y=0;Y<R;++Y){var ae=v[E+0]|v[E+1]<<8|v[E+2]<<16;ae>A&&(ae=A),de(u.Jc[+Y],v,N,ae),N+=ae,A-=ae,E+=3}de(u.Jc[+R],v,N,A),v=N<b?0:5}if(v!=0)return $n(u,v,"cannot parse partitions");for(v=ce(N=u.m,7),E=fe(N)?ve(N,4):0,b=fe(N)?ve(N,4):0,A=fe(N)?ve(N,4):0,R=fe(N)?ve(N,4):0,N=fe(N)?ve(N,4):0,Y=u.Qa,ae=0;4>ae;++ae){if(Y.Cb){var le=Y.Zb[ae];Y.Fb||(le+=v)}else{if(0<ae){u.pb[ae]=u.pb[0];continue}le=v}var ee=u.pb[ae];ee.Sc[0]=lb[Ei(le+E,127)],ee.Sc[1]=cb[Ei(le+0,127)],ee.Eb[0]=2*lb[Ei(le+b,127)],ee.Eb[1]=101581*cb[Ei(le+A,127)]>>16,8>ee.Eb[1]&&(ee.Eb[1]=8),ee.Qc[0]=lb[Ei(le+R,117)],ee.Qc[1]=cb[Ei(le+N,127)],ee.lc=le+N}if(!I.Rb)return $n(u,4,"Not a key frame.");for(fe(D),I=u.Pa,v=0;4>v;++v){for(E=0;8>E;++E)for(b=0;3>b;++b)for(A=0;11>A;++A)R=pe(D,_N[v][E][b][A])?ce(D,8):yN[v][E][b][A],I.Wc[v][E].Yb[b][A]=R;for(E=0;17>E;++E)I.Xc[v][E]=I.Wc[v][wN[E]]}return u.kc=fe(D),u.kc&&(u.Bd=ce(D,8)),u.cb=1}function yg(u,f,v,b,E,D,I){var A=f[E].Yb[v];for(v=0;16>E;++E){if(!pe(u,A[v+0]))return E;for(;!pe(u,A[v+1]);)if(A=f[++E].Yb[0],v=0,E==16)return 16;var N=f[E+1].Yb;if(pe(u,A[v+2])){var R=u,Y=0;if(pe(R,(le=A)[(ae=v)+3]))if(pe(R,le[ae+6])){for(A=0,ae=2*(Y=pe(R,le[ae+8]))+(le=pe(R,le[ae+9+Y])),Y=0,le=mN[ae];le[A];++A)Y+=Y+pe(R,le[A]);Y+=3+(8<<ae)}else pe(R,le[ae+7])?(Y=7+2*pe(R,165),Y+=pe(R,145)):Y=5+pe(R,159);else Y=pe(R,le[ae+4])?3+pe(R,le[ae+5]):2;A=N[2]}else Y=1,A=N[1];N=I+vN[E],0>(R=u).b&&ue(R);var ae,le=R.b,ee=(ae=R.Ca>>1)-(R.I>>le)>>31;--R.b,R.Ca+=ee,R.Ca|=1,R.I-=(ae+1&ee)<<le,D[N]=((Y^ee)-ee)*b[(0<E)+0]}return 16}function yh(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function j2(u,f){if(u==null)return 0;if(f==null)return $n(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!vg(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var v=$g[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-v>>4,u.zb=f.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+v>>4,u.Hb=f.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var b=u.ed;for(v=0;4>v;++v){var E;if(u.Qa.Cb){var D=u.Qa.Lb[v];u.Qa.Fb||(D+=b.Tb)}else D=b.Tb;for(E=0;1>=E;++E){var I=u.gd[v][E],A=D;if(b.Pc&&(A+=b.vd[0],E&&(A+=b.od[0])),0<(A=0>A?0:63<A?63:A)){var N=A;0<b.wb&&(N=4<b.wb?N>>2:N>>1)>9-b.wb&&(N=9-b.wb),1>N&&(N=1),I.dd=N,I.tc=2*A+N,I.ld=40<=A?2:15<=A?1:0}else I.tc=0;I.La=E}}}v=0}else $n(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=kN);e:{v=u.Ic,b=4*(N=u.za);var R=32*N,Y=N+1,ae=0<u.L?N*(0<u.Aa?2:1):0,le=(u.Aa==2?2:1)*N;if((I=b+832+(E=3*(16*v+$g[u.L])/2*R)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=I)v=0;else{if(I>u.Vb){if(u.Vb=0,u.Ec=o(I),u.Fc=0,u.Ec==null){v=$n(u,1,"no memory during frame initialization.");break e}u.Vb=I}I=u.Ec,A=u.Fc,u.Ac=I,u.Bc=A,A+=b,u.Gd=s(R,gg),u.Hd=0,u.rb=s(Y+1,pg),u.sb=1,u.wa=ae?s(ae,su):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=N),e(!0),u.oc=I,u.pc=A,A+=832,u.ya=s(le,vh),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=N),u.R=16*N,u.B=8*N,N=(R=$g[u.L])*u.R,R=R/2*u.B,u.sa=I,u.ta=A+N,u.qa=u.sa,u.ra=u.ta+16*v*u.R+R,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+R,u.$c=0,A+=E,u.mb=D?I:null,u.nb=D?A:null,e(A+D<=u.Fc+u.Vb),yh(u),i(u.Ac,u.Bc,0,b),v=1}}if(v){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!Fg){for(v=-255;255>=v;++v)pr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)Zs[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Uh[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)xu[255+v]=0>v?0:255<v?255:v;Fg=1}Cu=V2,Xs=B2,Fh=_g,Jr=U2,Bi=wg,Wn=bg,Eu=Sh,Lg=Hl,jh=eb,Gl=xh,$l=Q2,Ga=fu,Wl=Dh,Su=Pg,Yl=Ag,$a=os,Bh=Ws,Ui=J2,Eo[0]=is,Eo[1]=H2,Eo[2]=$2,Eo[3]=W2,Eo[4]=Sg,Eo[5]=du,Eo[6]=xg,Eo[7]=wh,Eo[8]=K2,Eo[9]=Y2,Wa[0]=Cg,Wa[1]=q2,Wa[2]=$s,Wa[3]=cu,Wa[4]=Br,Wa[5]=G2,Wa[6]=Eg,Js[0]=Ua,Js[1]=z2,Js[2]=X2,Js[3]=Ch,Js[4]=Vl,Js[5]=Z2,Js[6]=Eh,v=1}else v=0}v&&(v=function(ee,xe){for(ee.M=0;ee.M<ee.Va;++ee.M){var me,K=ee.Jc[ee.M&ee.Xb],X=ee.m,Ce=ee;for(me=0;me<Ce.za;++me){var Me=X,Se=Ce,We=Se.Ac,Le=Se.Bc+4*me,at=Se.zc,Ve=Se.ya[Se.aa+me];if(Se.Qa.Bb?Ve.$b=pe(Me,Se.Pa.jb[0])?2+pe(Me,Se.Pa.jb[2]):pe(Me,Se.Pa.jb[1]):Ve.$b=0,Se.kc&&(Ve.Ad=pe(Me,Se.Bd)),Ve.Za=!pe(Me,145)+0,Ve.Za){var Jt=Ve.Ob,sn=0;for(Se=0;4>Se;++Se){var Xt,zt=at[0+Se];for(Xt=0;4>Xt;++Xt){zt=bN[We[Le+Xt]][zt];for(var vn=j3[pe(Me,zt[0])];0<vn;)vn=j3[2*vn+pe(Me,zt[vn])];zt=-vn,We[Le+Xt]=zt}r(Jt,sn,We,Le,4),sn+=4,at[0+Se]=zt}}else zt=pe(Me,156)?pe(Me,128)?1:3:pe(Me,163)?2:0,Ve.Ob[0]=zt,i(We,Le,zt,4),i(at,0,zt,4);Ve.Dd=pe(Me,142)?pe(Me,114)?pe(Me,183)?1:3:2:0}if(Ce.m.Ka)return $n(ee,7,"Premature end-of-partition0 encountered.");for(;ee.ja<ee.za;++ee.ja){if(Ce=K,Me=(X=ee).rb[X.sb-1],We=X.rb[X.sb+X.ja],me=X.ya[X.aa+X.ja],Le=X.kc?me.Ad:0)Me.la=We.la=0,me.Za||(Me.Na=We.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var dn,At;if(Me=We,We=Ce,Le=X.Pa.Xc,at=X.ya[X.aa+X.ja],Ve=X.pb[at.$b],Se=at.ad,Jt=0,sn=X.rb[X.sb-1],zt=Xt=0,i(Se,Jt,0,384),at.Za)var ir=0,di=Le[3];else{vn=o(16);var or=Me.Na+sn.Na;if(or=Vh(We,Le[1],or,Ve.Eb,0,vn,0),Me.Na=sn.Na=(0<or)+0,1<or)Cu(vn,0,Se,Jt);else{var hi=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)Se[Jt+vn]=hi}ir=1,di=Le[0]}var an=15&Me.la,xi=15&sn.la;for(vn=0;4>vn;++vn){var Di=1&xi;for(hi=At=0;4>hi;++hi)an=an>>1|(Di=(or=Vh(We,di,or=Di+(1&an),Ve.Sc,ir,Se,Jt))>ir)<<7,At=At<<2|(3<or?3:1<or?2:Se[Jt+0]!=0),Jt+=16;an>>=4,xi=xi>>1|Di<<7,Xt=(Xt<<8|At)>>>0}for(di=an,ir=xi>>4,dn=0;4>dn;dn+=2){for(At=0,an=Me.la>>4+dn,xi=sn.la>>4+dn,vn=0;2>vn;++vn){for(Di=1&xi,hi=0;2>hi;++hi)or=Di+(1&an),an=an>>1|(Di=0<(or=Vh(We,Le[2],or,Ve.Qc,0,Se,Jt)))<<3,At=At<<2|(3<or?3:1<or?2:Se[Jt+0]!=0),Jt+=16;an>>=2,xi=xi>>1|Di<<5}zt|=At<<4*dn,di|=an<<4<<dn,ir|=(240&xi)<<dn}Me.la=di,sn.la=ir,at.Hc=Xt,at.Gc=zt,at.ia=43690&zt?0:Ve.ia,Le=!(Xt|zt)}if(0<X.L&&(X.wa[X.Y+X.ja]=X.gd[me.$b][me.Za],X.wa[X.Y+X.ja].La|=!Le),Ce.Ka)return $n(ee,7,"Premature end-of-file encountered.")}if(yh(ee),X=xe,Ce=1,me=(K=ee).D,Me=0<K.L&&K.M>=K.zb&&K.M<=K.Va,K.Aa==0)e:{if(me.M=K.M,me.uc=Me,Nh(K,me),Ce=1,me=(At=K.D).Nb,Me=(zt=$g[K.L])*K.R,We=zt/2*K.B,vn=16*me*K.R,hi=8*me*K.B,Le=K.sa,at=K.ta-Me+vn,Ve=K.qa,Se=K.ra-We+hi,Jt=K.Ha,sn=K.Ia-We+hi,xi=(an=At.M)==0,Xt=an>=K.Va-1,K.Aa==2&&Nh(K,At),At.uc)for(Di=(or=K).D.M,e(or.D.uc),At=or.yb;At<or.Hb;++At){ir=At,di=Di;var _r=(Tr=(jn=or).D).Nb;dn=jn.R;var Tr=Tr.wa[Tr.Y+ir],Qr=jn.sa,qi=jn.ta+16*_r*dn+16*ir,as=Tr.dd,wr=Tr.tc;if(wr!=0)if(e(3<=wr),jn.L==1)0<ir&&$a(Qr,qi,dn,wr+4),Tr.La&&Ui(Qr,qi,dn,wr),0<di&&Yl(Qr,qi,dn,wr+4),Tr.La&&Bh(Qr,qi,dn,wr);else{var Qs=jn.B,Kl=jn.qa,Du=jn.ra+8*_r*Qs+8*ir,Ka=jn.Ha,jn=jn.Ia+8*_r*Qs+8*ir;_r=Tr.ld,0<ir&&(Lg(Qr,qi,dn,wr+4,as,_r),Gl(Kl,Du,Ka,jn,Qs,wr+4,as,_r)),Tr.La&&(Ga(Qr,qi,dn,wr,as,_r),Su(Kl,Du,Ka,jn,Qs,wr,as,_r)),0<di&&(Eu(Qr,qi,dn,wr+4,as,_r),jh(Kl,Du,Ka,jn,Qs,wr+4,as,_r)),Tr.La&&($l(Qr,qi,dn,wr,as,_r),Wl(Kl,Du,Ka,jn,Qs,wr,as,_r))}}if(K.ia&&alert("todo:DitherRow"),X.put!=null){if(At=16*an,an=16*(an+1),xi?(X.y=K.sa,X.O=K.ta+vn,X.f=K.qa,X.N=K.ra+hi,X.ea=K.Ha,X.W=K.Ia+hi):(At-=zt,X.y=Le,X.O=at,X.f=Ve,X.N=Se,X.ea=Jt,X.W=sn),Xt||(an-=zt),an>X.o&&(an=X.o),X.F=null,X.J=null,K.Fa!=null&&0<K.Fa.length&&At<an&&(X.J=Ph(K,X,At,an-At),X.F=K.mb,X.F==null&&X.F.length==0)){Ce=$n(K,3,"Could not decode alpha data.");break e}At<X.j&&(zt=X.j-At,At=X.j,e(!(1&zt)),X.O+=K.R*zt,X.N+=K.B*(zt>>1),X.W+=K.B*(zt>>1),X.F!=null&&(X.J+=X.width*zt)),At<an&&(X.O+=X.v,X.N+=X.v>>1,X.W+=X.v>>1,X.F!=null&&(X.J+=X.v),X.ka=At-X.j,X.U=X.va-X.v,X.T=an-At,Ce=X.put(X))}me+1!=K.Ic||Xt||(r(K.sa,K.ta-Me,Le,at+16*K.R,Me),r(K.qa,K.ra-We,Ve,Se+8*K.B,We),r(K.Ha,K.Ia-We,Jt,sn+8*K.B,We))}if(!Ce)return $n(ee,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),v&=1}return v?(u.cb=0,v):0}function _o(u,f,v,b,E){E=u[f+v+32*b]+(E>>3),u[f+v+32*b]=-256&E?0>E?0:255:E}function lu(u,f,v,b,E,D){_o(u,f,0,v,b+E),_o(u,f,1,v,b+D),_o(u,f,2,v,b-D),_o(u,f,3,v,b-E)}function li(u){return(20091*u>>16)+u}function bh(u,f,v,b){var E,D=0,I=o(16);for(E=0;4>E;++E){var A=u[f+0]+u[f+8],N=u[f+0]-u[f+8],R=(35468*u[f+4]>>16)-li(u[f+12]),Y=li(u[f+4])+(35468*u[f+12]>>16);I[D+0]=A+Y,I[D+1]=N+R,I[D+2]=N-R,I[D+3]=A-Y,D+=4,f++}for(E=D=0;4>E;++E)A=(u=I[D+0]+4)+I[D+8],N=u-I[D+8],R=(35468*I[D+4]>>16)-li(I[D+12]),_o(v,b,0,0,A+(Y=li(I[D+4])+(35468*I[D+12]>>16))),_o(v,b,1,0,N+R),_o(v,b,2,0,N-R),_o(v,b,3,0,A-Y),D++,b+=32}function bg(u,f,v,b){var E=u[f+0]+4,D=35468*u[f+4]>>16,I=li(u[f+4]),A=35468*u[f+1]>>16;lu(v,b,0,E+I,u=li(u[f+1]),A),lu(v,b,1,E+D,u,A),lu(v,b,2,E-D,u,A),lu(v,b,3,E-I,u,A)}function B2(u,f,v,b,E){bh(u,f,v,b),E&&bh(u,f+16,v,b+4)}function _g(u,f,v,b){Xs(u,f+0,v,b,1),Xs(u,f+32,v,b+128,1)}function U2(u,f,v,b){var E;for(u=u[f+0]+4,E=0;4>E;++E)for(f=0;4>f;++f)_o(v,b,f,E,u)}function wg(u,f,v,b){u[f+0]&&Jr(u,f+0,v,b),u[f+16]&&Jr(u,f+16,v,b+4),u[f+32]&&Jr(u,f+32,v,b+128),u[f+48]&&Jr(u,f+48,v,b+128+4)}function V2(u,f,v,b){var E,D=o(16);for(E=0;4>E;++E){var I=u[f+0+E]+u[f+12+E],A=u[f+4+E]+u[f+8+E],N=u[f+4+E]-u[f+8+E],R=u[f+0+E]-u[f+12+E];D[0+E]=I+A,D[8+E]=I-A,D[4+E]=R+N,D[12+E]=R-N}for(E=0;4>E;++E)I=(u=D[0+4*E]+3)+D[3+4*E],A=D[1+4*E]+D[2+4*E],N=D[1+4*E]-D[2+4*E],R=u-D[3+4*E],v[b+0]=I+A>>3,v[b+16]=R+N>>3,v[b+32]=I-A>>3,v[b+48]=R-N>>3,b+=64}function _h(u,f,v){var b,E=f-32,D=Si,I=255-u[E-1];for(b=0;b<v;++b){var A,N=D,R=I+u[f-1];for(A=0;A<v;++A)u[f+A]=N[R+u[E+A]];f+=32}}function H2(u,f){_h(u,f,4)}function z2(u,f){_h(u,f,8)}function q2(u,f){_h(u,f,16)}function $s(u,f){var v;for(v=0;16>v;++v)r(u,f+32*v,u,f-32,16)}function cu(u,f){var v;for(v=16;0<v;--v)i(u,f,u[f-1],16),f+=32}function uu(u,f,v){var b;for(b=0;16>b;++b)i(f,v+32*b,u,16)}function Cg(u,f){var v,b=16;for(v=0;16>v;++v)b+=u[f-1+32*v]+u[f+v-32];uu(b>>5,u,f)}function Br(u,f){var v,b=8;for(v=0;16>v;++v)b+=u[f-1+32*v];uu(b>>4,u,f)}function G2(u,f){var v,b=8;for(v=0;16>v;++v)b+=u[f+v-32];uu(b>>4,u,f)}function Eg(u,f){uu(128,u,f)}function yt(u,f,v){return u+2*f+v+2>>2}function $2(u,f){var v,b=f-32;for(b=new Uint8Array([yt(u[b-1],u[b+0],u[b+1]),yt(u[b+0],u[b+1],u[b+2]),yt(u[b+1],u[b+2],u[b+3]),yt(u[b+2],u[b+3],u[b+4])]),v=0;4>v;++v)r(u,f+32*v,b,0,b.length)}function W2(u,f){var v=u[f-1],b=u[f-1+32],E=u[f-1+64],D=u[f-1+96];Te(u,f+0,16843009*yt(u[f-1-32],v,b)),Te(u,f+32,16843009*yt(v,b,E)),Te(u,f+64,16843009*yt(b,E,D)),Te(u,f+96,16843009*yt(E,D,D))}function is(u,f){var v,b=4;for(v=0;4>v;++v)b+=u[f+v-32]+u[f-1+32*v];for(b>>=3,v=0;4>v;++v)i(u,f+32*v,b,4)}function Sg(u,f){var v=u[f-1+0],b=u[f-1+32],E=u[f-1+64],D=u[f-1-32],I=u[f+0-32],A=u[f+1-32],N=u[f+2-32],R=u[f+3-32];u[f+0+96]=yt(b,E,u[f-1+96]),u[f+1+96]=u[f+0+64]=yt(v,b,E),u[f+2+96]=u[f+1+64]=u[f+0+32]=yt(D,v,b),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=yt(I,D,v),u[f+3+64]=u[f+2+32]=u[f+1+0]=yt(A,I,D),u[f+3+32]=u[f+2+0]=yt(N,A,I),u[f+3+0]=yt(R,N,A)}function xg(u,f){var v=u[f+1-32],b=u[f+2-32],E=u[f+3-32],D=u[f+4-32],I=u[f+5-32],A=u[f+6-32],N=u[f+7-32];u[f+0+0]=yt(u[f+0-32],v,b),u[f+1+0]=u[f+0+32]=yt(v,b,E),u[f+2+0]=u[f+1+32]=u[f+0+64]=yt(b,E,D),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=yt(E,D,I),u[f+3+32]=u[f+2+64]=u[f+1+96]=yt(D,I,A),u[f+3+64]=u[f+2+96]=yt(I,A,N),u[f+3+96]=yt(A,N,N)}function du(u,f){var v=u[f-1+0],b=u[f-1+32],E=u[f-1+64],D=u[f-1-32],I=u[f+0-32],A=u[f+1-32],N=u[f+2-32],R=u[f+3-32];u[f+0+0]=u[f+1+64]=D+I+1>>1,u[f+1+0]=u[f+2+64]=I+A+1>>1,u[f+2+0]=u[f+3+64]=A+N+1>>1,u[f+3+0]=N+R+1>>1,u[f+0+96]=yt(E,b,v),u[f+0+64]=yt(b,v,D),u[f+0+32]=u[f+1+96]=yt(v,D,I),u[f+1+32]=u[f+2+96]=yt(D,I,A),u[f+2+32]=u[f+3+96]=yt(I,A,N),u[f+3+32]=yt(A,N,R)}function wh(u,f){var v=u[f+0-32],b=u[f+1-32],E=u[f+2-32],D=u[f+3-32],I=u[f+4-32],A=u[f+5-32],N=u[f+6-32],R=u[f+7-32];u[f+0+0]=v+b+1>>1,u[f+1+0]=u[f+0+64]=b+E+1>>1,u[f+2+0]=u[f+1+64]=E+D+1>>1,u[f+3+0]=u[f+2+64]=D+I+1>>1,u[f+0+32]=yt(v,b,E),u[f+1+32]=u[f+0+96]=yt(b,E,D),u[f+2+32]=u[f+1+96]=yt(E,D,I),u[f+3+32]=u[f+2+96]=yt(D,I,A),u[f+3+64]=yt(I,A,N),u[f+3+96]=yt(A,N,R)}function Y2(u,f){var v=u[f-1+0],b=u[f-1+32],E=u[f-1+64],D=u[f-1+96];u[f+0+0]=v+b+1>>1,u[f+2+0]=u[f+0+32]=b+E+1>>1,u[f+2+32]=u[f+0+64]=E+D+1>>1,u[f+1+0]=yt(v,b,E),u[f+3+0]=u[f+1+32]=yt(b,E,D),u[f+3+32]=u[f+1+64]=yt(E,D,D),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=D}function K2(u,f){var v=u[f-1+0],b=u[f-1+32],E=u[f-1+64],D=u[f-1+96],I=u[f-1-32],A=u[f+0-32],N=u[f+1-32],R=u[f+2-32];u[f+0+0]=u[f+2+32]=v+I+1>>1,u[f+0+32]=u[f+2+64]=b+v+1>>1,u[f+0+64]=u[f+2+96]=E+b+1>>1,u[f+0+96]=D+E+1>>1,u[f+3+0]=yt(A,N,R),u[f+2+0]=yt(I,A,N),u[f+1+0]=u[f+3+32]=yt(v,I,A),u[f+1+32]=u[f+3+64]=yt(b,v,I),u[f+1+64]=u[f+3+96]=yt(E,b,v),u[f+1+96]=yt(D,E,b)}function X2(u,f){var v;for(v=0;8>v;++v)r(u,f+32*v,u,f-32,8)}function Ch(u,f){var v;for(v=0;8>v;++v)i(u,f,u[f-1],8),f+=32}function Ul(u,f,v){var b;for(b=0;8>b;++b)i(f,v+32*b,u,8)}function Ua(u,f){var v,b=8;for(v=0;8>v;++v)b+=u[f+v-32]+u[f-1+32*v];Ul(b>>4,u,f)}function Z2(u,f){var v,b=4;for(v=0;8>v;++v)b+=u[f+v-32];Ul(b>>3,u,f)}function Vl(u,f){var v,b=4;for(v=0;8>v;++v)b+=u[f-1+32*v];Ul(b>>3,u,f)}function Eh(u,f){Ul(128,u,f)}function hu(u,f,v){var b=u[f-v],E=u[f+0],D=3*(E-b)+rb[1020+u[f-2*v]-u[f+v]],I=jg[112+(D+4>>3)];u[f-v]=Si[255+b+jg[112+(D+3>>3)]],u[f+0]=Si[255+E-I]}function Dg(u,f,v,b){var E=u[f+0],D=u[f+v];return Hi[255+u[f-2*v]-u[f-v]]>b||Hi[255+D-E]>b}function Mg(u,f,v,b){return 4*Hi[255+u[f-v]-u[f+0]]+Hi[255+u[f-2*v]-u[f+v]]<=b}function Ig(u,f,v,b,E){var D=u[f-3*v],I=u[f-2*v],A=u[f-v],N=u[f+0],R=u[f+v],Y=u[f+2*v],ae=u[f+3*v];return 4*Hi[255+A-N]+Hi[255+I-R]>b?0:Hi[255+u[f-4*v]-D]<=E&&Hi[255+D-I]<=E&&Hi[255+I-A]<=E&&Hi[255+ae-Y]<=E&&Hi[255+Y-R]<=E&&Hi[255+R-N]<=E}function Ag(u,f,v,b){var E=2*b+1;for(b=0;16>b;++b)Mg(u,f+b,v,E)&&hu(u,f+b,v)}function os(u,f,v,b){var E=2*b+1;for(b=0;16>b;++b)Mg(u,f+b*v,1,E)&&hu(u,f+b*v,1)}function Ws(u,f,v,b){var E;for(E=3;0<E;--E)Ag(u,f+=4*v,v,b)}function J2(u,f,v,b){var E;for(E=3;0<E;--E)os(u,f+=4,v,b)}function Va(u,f,v,b,E,D,I,A){for(D=2*D+1;0<E--;){if(Ig(u,f,v,D,I))if(Dg(u,f,v,A))hu(u,f,v);else{var N=u,R=f,Y=v,ae=N[R-2*Y],le=N[R-Y],ee=N[R+0],xe=N[R+Y],me=N[R+2*Y],K=27*(Ce=rb[1020+3*(ee-le)+rb[1020+ae-xe]])+63>>7,X=18*Ce+63>>7,Ce=9*Ce+63>>7;N[R-3*Y]=Si[255+N[R-3*Y]+Ce],N[R-2*Y]=Si[255+ae+X],N[R-Y]=Si[255+le+K],N[R+0]=Si[255+ee-K],N[R+Y]=Si[255+xe-X],N[R+2*Y]=Si[255+me-Ce]}f+=b}}function wo(u,f,v,b,E,D,I,A){for(D=2*D+1;0<E--;){if(Ig(u,f,v,D,I))if(Dg(u,f,v,A))hu(u,f,v);else{var N=u,R=f,Y=v,ae=N[R-Y],le=N[R+0],ee=N[R+Y],xe=jg[112+((me=3*(le-ae))+4>>3)],me=jg[112+(me+3>>3)],K=xe+1>>1;N[R-2*Y]=Si[255+N[R-2*Y]+K],N[R-Y]=Si[255+ae+me],N[R+0]=Si[255+le-xe],N[R+Y]=Si[255+ee-K]}f+=b}}function Sh(u,f,v,b,E,D){Va(u,f,v,1,16,b,E,D)}function Hl(u,f,v,b,E,D){Va(u,f,1,v,16,b,E,D)}function Q2(u,f,v,b,E,D){var I;for(I=3;0<I;--I)wo(u,f+=4*v,v,1,16,b,E,D)}function fu(u,f,v,b,E,D){var I;for(I=3;0<I;--I)wo(u,f+=4,1,v,16,b,E,D)}function eb(u,f,v,b,E,D,I,A){Va(u,f,E,1,8,D,I,A),Va(v,b,E,1,8,D,I,A)}function xh(u,f,v,b,E,D,I,A){Va(u,f,1,E,8,D,I,A),Va(v,b,1,E,8,D,I,A)}function Dh(u,f,v,b,E,D,I,A){wo(u,f+4*E,E,1,8,D,I,A),wo(v,b+4*E,E,1,8,D,I,A)}function Pg(u,f,v,b,E,D,I,A){wo(u,f+4,1,E,8,D,I,A),wo(v,b+4,1,E,8,D,I,A)}function pu(){this.ba=new go,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ih(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tg(){this.ua=0,this.Wa=new U,this.vb=new U,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new T}function tb(){this.xb=this.a=0,this.l=new au,this.ca=new go,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tg,this.ab=0,this.gc=s(4,Ih),this.Oc=0}function gu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new au,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zl(u,f,v,b,E,D,I){for(u=u==null?0:u[f+0],f=0;f<I;++f)E[D+f]=u+v[b+f]&255,u=E[D+f]}function Ah(u,f,v,b,E,D,I){var A;if(u==null)zl(null,null,v,b,E,D,I);else for(A=0;A<I;++A)E[D+A]=u[f+A]+v[b+A]&255}function Ha(u,f,v,b,E,D,I){if(u==null)zl(null,null,v,b,E,D,I);else{var A,N=u[f+0],R=N,Y=N;for(A=0;A<I;++A)R=Y+(N=u[f+A])-R,Y=v[b+A]+(-256&R?0>R?0:255:R)&255,R=N,E[D+A]=Y}}function Ph(u,f,v,b){var E=f.width,D=f.o;if(e(u!=null&&f!=null),0>v||0>=b||v+b>D)return null;if(!u.Cc){if(u.ga==null){var I;if(u.ga=new gu,(I=u.ga==null)||(I=f.width*f.o,e(u.Gb.length==0),u.Gb=o(I),u.Uc=0,u.Gb==null?I=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,I=1),I=!I),!I){I=u.ga;var A=u.Fa,N=u.P,R=u.qc,Y=u.mb,ae=u.nb,le=N+1,ee=R-1,xe=I.l;if(e(A!=null&&Y!=null&&f!=null),Ya[0]=null,Ya[1]=zl,Ya[2]=Ah,Ya[3]=Ha,I.ca=Y,I.tb=ae,I.c=f.width,I.i=f.height,e(0<I.c&&0<I.i),1>=R)f=0;else if(I.$a=A[N+0]>>0&3,I.Z=A[N+0]>>2&3,I.Lc=A[N+0]>>4&3,N=A[N+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||N)f=0;else if(xe.put=Qo,xe.ac=Ar,xe.bc=es,xe.ma=I,xe.width=f.width,xe.height=f.height,xe.Da=f.Da,xe.v=f.v,xe.va=f.va,xe.j=f.j,xe.o=f.o,I.$a)e:{e(I.$a==1),f=Fi();t:for(;;){if(f==null){f=0;break e}if(e(I!=null),I.mc=f,f.c=I.c,f.i=I.i,f.l=I.l,f.l.ma=I,f.l.width=I.c,f.l.height=I.i,f.a=0,Z(f.m,A,le,ee),!rs(I.c,I.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Gs(f.s)?(I.ic=1,A=f.c*f.i,f.Ta=null,f.Ua=0,f.V=o(A),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(I.ic=0,f=Bl(f,I.c)),!f))break t;f=1;break e}I.mc=null,f=0}else f=ee>=I.c*I.i;I=!f}if(I)return null;u.ga.Lc!=1?u.Ga=0:b=D-v}e(u.ga!=null),e(v+b<=D);e:{if(f=(A=u.ga).c,D=A.l.o,A.$a==0){if(le=u.rc,ee=u.Vc,xe=u.Fa,N=u.P+1+v*f,R=u.mb,Y=u.nb+v*f,e(N<=u.P+u.qc),A.Z!=0)for(e(Ya[A.Z]!=null),I=0;I<b;++I)Ya[A.Z](le,ee,xe,N,R,Y,f),le=R,ee=Y,Y+=f,N+=f;else for(I=0;I<b;++I)r(R,Y,xe,N,f),le=R,ee=Y,Y+=f,N+=f;u.rc=le,u.Vc=ee}else{if(e(A.mc!=null),f=v+b,e((I=A.mc)!=null),e(f<=I.i),I.C>=f)f=1;else if(A.ic||oe(),A.ic){A=I.V,le=I.Ba,ee=I.c;var me=I.i,K=(xe=1,N=I.$/ee,R=I.$%ee,Y=I.m,ae=I.s,I.$),X=ee*me,Ce=ee*f,Me=ae.wc,Se=K<Ce?nr(ae,R,N):null;e(K<=X),e(f<=me),e(Gs(ae));t:for(;;){for(;!Y.h&&K<Ce;){if(R&Me||(Se=nr(ae,R,N)),e(Se!=null),te(Y),256>(me=ai(Se.G[0],Se.H[0],Y)))A[le+K]=me,++K,++R>=ee&&(R=0,++N<=f&&!(N%16)&&yo(I,N));else{if(!(280>me)){xe=0;break t}me=mo(me-256,Y);var We,Le=ai(Se.G[4],Se.H[4],Y);if(te(Y),!(K>=(Le=ts(ee,Le=mo(Le,Y)))&&X-K>=me)){xe=0;break t}for(We=0;We<me;++We)A[le+K+We]=A[le+K+We-Le];for(K+=me,R+=me;R>=ee;)R-=ee,++N<=f&&!(N%16)&&yo(I,N);K<Ce&&R&Me&&(Se=nr(ae,R,N))}e(Y.h==B(Y))}yo(I,N>f?f:N);break t}!xe||Y.h&&K<X?(xe=0,I.a=Y.h?5:3):I.$=K,f=xe}else f=bo(I,I.V,I.Ba,I.c,I.i,f,nu);if(!f){b=0;break e}}v+b>=D&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*E}function g(u,f,v,b,E,D){for(;0<E--;){var I,A=u,N=f+(v?1:0),R=u,Y=f+(v?0:3);for(I=0;I<b;++I){var ae=R[Y+4*I];ae!=255&&(ae*=32897,A[N+4*I+0]=A[N+4*I+0]*ae>>23,A[N+4*I+1]=A[N+4*I+1]*ae>>23,A[N+4*I+2]=A[N+4*I+2]*ae>>23)}f+=D}}function S(u,f,v,b,E){for(;0<b--;){var D;for(D=0;D<v;++D){var I=u[f+2*D+0],A=15&(R=u[f+2*D+1]),N=4369*A,R=(240&R|R>>4)*N>>16;u[f+2*D+0]=(240&I|I>>4)*N>>16&240|(15&I|I<<4)*N>>16>>4&15,u[f+2*D+1]=240&R|A}f+=E}}function F(u,f,v,b,E,D,I,A){var N,R,Y=255;for(R=0;R<E;++R){for(N=0;N<b;++N){var ae=u[f+N];D[I+4*N]=ae,Y&=ae}f+=v,I+=A}return Y!=255}function $(u,f,v,b,E){var D;for(D=0;D<E;++D)v[b+D]=u[f+D]>>8}function oe(){Vi=g,wn=S,Cn=F,Yn=$}function ye(u,f,v){j[u]=function(b,E,D,I,A,N,R,Y,ae,le,ee,xe,me,K,X,Ce,Me){var Se,We=Me-1>>1,Le=A[N+0]|R[Y+0]<<16,at=ae[le+0]|ee[xe+0]<<16;e(b!=null);var Ve=3*Le+at+131074>>2;for(f(b[E+0],255&Ve,Ve>>16,me,K),D!=null&&(Ve=3*at+Le+131074>>2,f(D[I+0],255&Ve,Ve>>16,X,Ce)),Se=1;Se<=We;++Se){var Jt=A[N+Se]|R[Y+Se]<<16,sn=ae[le+Se]|ee[xe+Se]<<16,Xt=Le+Jt+at+sn+524296,zt=Xt+2*(Jt+at)>>3;Ve=zt+Le>>1,Le=(Xt=Xt+2*(Le+sn)>>3)+Jt>>1,f(b[E+2*Se-1],255&Ve,Ve>>16,me,K+(2*Se-1)*v),f(b[E+2*Se-0],255&Le,Le>>16,me,K+(2*Se-0)*v),D!=null&&(Ve=Xt+at>>1,Le=zt+sn>>1,f(D[I+2*Se-1],255&Ve,Ve>>16,X,Ce+(2*Se-1)*v),f(D[I+2*Se+0],255&Le,Le>>16,X,Ce+(2*Se+0)*v)),Le=Jt,at=sn}1&Me||(Ve=3*Le+at+131074>>2,f(b[E+Me-1],255&Ve,Ve>>16,me,K+(Me-1)*v),D!=null&&(Ve=3*at+Le+131074>>2,f(D[I+Me-1],255&Ve,Ve>>16,X,Ce+(Me-1)*v)))}}function Ie(){zi[Bg]=EN,zi[Ug]=U3,zi[R3]=SN,zi[Vg]=V3,zi[Hg]=H3,zi[ib]=z3,zi[L3]=xN,zi[ob]=U3,zi[sb]=V3,zi[zg]=H3,zi[ab]=z3}function $e(u){return u&~DN?0>u?0:255:u>>q3}function it(u,f){return $e((19077*u>>8)+(26149*f>>8)-14234)}function Mt(u,f,v){return $e((19077*u>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function Et(u,f){return $e((19077*u>>8)+(33050*f>>8)-17685)}function Wt(u,f,v,b,E){b[E+0]=it(u,v),b[E+1]=Mt(u,f,v),b[E+2]=Et(u,f)}function An(u,f,v,b,E){b[E+0]=Et(u,f),b[E+1]=Mt(u,f,v),b[E+2]=it(u,v)}function Fn(u,f,v,b,E){var D=Mt(u,f,v);f=D<<3&224|Et(u,f)>>3,b[E+0]=248&it(u,v)|D>>5,b[E+1]=f}function rr(u,f,v,b,E){var D=240&Et(u,f)|15;b[E+0]=240&it(u,v)|Mt(u,f,v)>>4,b[E+1]=D}function Ur(u,f,v,b,E){b[E+0]=255,Wt(u,f,v,b,E+1)}function br(u,f,v,b,E){An(u,f,v,b,E),b[E+3]=255}function Co(u,f,v,b,E){Wt(u,f,v,b,E),b[E+3]=255}function Ei(u,f){return 0>u?0:u>f?f:u}function ss(u,f,v){j[u]=function(b,E,D,I,A,N,R,Y,ae){for(var le=Y+(-2&ae)*v;Y!=le;)f(b[E+0],D[I+0],A[N+0],R,Y),f(b[E+1],D[I+0],A[N+0],R,Y+v),E+=2,++I,++N,Y+=2*v;1&ae&&f(b[E+0],D[I+0],A[N+0],R,Y)}}function Ng(u,f,v){return v==0?u==0?f==0?6:5:f==0?4:0:v}function Th(u,f,v,b,E){switch(u>>>30){case 3:Xs(f,v,b,E,0);break;case 2:Wn(f,v,b,E);break;case 1:Jr(f,v,b,E)}}function Nh(u,f){var v,b,E=f.M,D=f.Nb,I=u.oc,A=u.pc+40,N=u.oc,R=u.pc+584,Y=u.oc,ae=u.pc+600;for(v=0;16>v;++v)I[A+32*v-1]=129;for(v=0;8>v;++v)N[R+32*v-1]=129,Y[ae+32*v-1]=129;for(0<E?I[A-1-32]=N[R-1-32]=Y[ae-1-32]=129:(i(I,A-32-1,127,21),i(N,R-32-1,127,9),i(Y,ae-32-1,127,9)),b=0;b<u.za;++b){var le=f.ya[f.aa+b];if(0<b){for(v=-1;16>v;++v)r(I,A+32*v-4,I,A+32*v+12,4);for(v=-1;8>v;++v)r(N,R+32*v-4,N,R+32*v+4,4),r(Y,ae+32*v-4,Y,ae+32*v+4,4)}var ee=u.Gd,xe=u.Hd+b,me=le.ad,K=le.Hc;if(0<E&&(r(I,A-32,ee[xe].y,0,16),r(N,R-32,ee[xe].f,0,8),r(Y,ae-32,ee[xe].ea,0,8)),le.Za){var X=I,Ce=A-32+16;for(0<E&&(b>=u.za-1?i(X,Ce,ee[xe].y[15],4):r(X,Ce,ee[xe+1].y,0,4)),v=0;4>v;v++)X[Ce+128+v]=X[Ce+256+v]=X[Ce+384+v]=X[Ce+0+v];for(v=0;16>v;++v,K<<=2)X=I,Ce=A+$3[v],Eo[le.Ob[v]](X,Ce),Th(K,me,16*+v,X,Ce)}else if(X=Ng(b,E,le.Ob[0]),Wa[X](I,A),K!=0)for(v=0;16>v;++v,K<<=2)Th(K,me,16*+v,I,A+$3[v]);for(v=le.Gc,X=Ng(b,E,le.Dd),Js[X](N,R),Js[X](Y,ae),K=me,X=N,Ce=R,255&(le=v>>0)&&(170&le?Fh(K,256,X,Ce):Bi(K,256,X,Ce)),le=Y,K=ae,255&(v>>=8)&&(170&v?Fh(me,320,le,K):Bi(me,320,le,K)),E<u.Ub-1&&(r(ee[xe].y,0,I,A+480,16),r(ee[xe].f,0,N,R+224,8),r(ee[xe].ea,0,Y,ae+224,8)),v=8*D*u.B,ee=u.sa,xe=u.ta+16*b+16*D*u.R,me=u.qa,le=u.ra+8*b+v,K=u.Ha,X=u.Ia+8*b+v,v=0;16>v;++v)r(ee,xe+v*u.R,I,A+32*v,16);for(v=0;8>v;++v)r(me,le+v*u.B,N,R+32*v,8),r(K,X+v*u.B,Y,ae+32*v,8)}}function mu(u,f,v,b,E,D,I,A,N){var R=[0],Y=[0],ae=0,le=N!=null?N.kd:0,ee=N??new Mh;if(u==null||12>v)return 7;ee.data=u,ee.w=f,ee.ha=v,f=[f],v=[v],ee.gb=[ee.gb];e:{var xe=f,me=v,K=ee.gb;if(e(u!=null),e(me!=null),e(K!=null),K[0]=0,12<=me[0]&&!t(u,xe[0],"RIFF")){if(t(u,xe[0]+8,"WEBP")){K=3;break e}var X=Ue(u,xe[0]+4);if(12>X||4294967286<X){K=3;break e}if(le&&X>me[0]-8){K=7;break e}K[0]=X,xe[0]+=12,me[0]-=12}K=0}if(K!=0)return K;for(X=0<ee.gb[0],v=v[0];;){e:{var Ce=u;me=f,K=v;var Me=R,Se=Y,We=xe=[0];if((Ve=ae=[ae])[0]=0,8>K[0])K=7;else{if(!t(Ce,me[0],"VP8X")){if(Ue(Ce,me[0]+4)!=10){K=3;break e}if(18>K[0]){K=7;break e}var Le=Ue(Ce,me[0]+8),at=1+ze(Ce,me[0]+12);if(2147483648<=at*(Ce=1+ze(Ce,me[0]+15))){K=3;break e}We!=null&&(We[0]=Le),Me!=null&&(Me[0]=at),Se!=null&&(Se[0]=Ce),me[0]+=18,K[0]-=18,Ve[0]=1}K=0}}if(ae=ae[0],xe=xe[0],K!=0)return K;if(me=!!(2&xe),!X&&ae)return 3;if(D!=null&&(D[0]=!!(16&xe)),I!=null&&(I[0]=me),A!=null&&(A[0]=0),I=R[0],xe=Y[0],ae&&me&&N==null){K=0;break}if(4>v){K=7;break}if(X&&ae||!X&&!ae&&!t(u,f[0],"ALPH")){v=[v],ee.na=[ee.na],ee.P=[ee.P],ee.Sa=[ee.Sa];e:{Le=u,K=f,X=v;var Ve=ee.gb;Me=ee.na,Se=ee.P,We=ee.Sa,at=22,e(Le!=null),e(X!=null),Ce=K[0];var Jt=X[0];for(e(Me!=null),e(We!=null),Me[0]=null,Se[0]=null,We[0]=0;;){if(K[0]=Ce,X[0]=Jt,8>Jt){K=7;break e}var sn=Ue(Le,Ce+4);if(4294967286<sn){K=3;break e}var Xt=8+sn+1&-2;if(at+=Xt,0<Ve&&at>Ve){K=3;break e}if(!t(Le,Ce,"VP8 ")||!t(Le,Ce,"VP8L")){K=0;break e}if(Jt[0]<Xt){K=7;break e}t(Le,Ce,"ALPH")||(Me[0]=Le,Se[0]=Ce+8,We[0]=sn),Ce+=Xt,Jt-=Xt}}if(v=v[0],ee.na=ee.na[0],ee.P=ee.P[0],ee.Sa=ee.Sa[0],K!=0)break}v=[v],ee.Ja=[ee.Ja],ee.xa=[ee.xa];e:if(Ve=u,K=f,X=v,Me=ee.gb[0],Se=ee.Ja,We=ee.xa,Le=K[0],Ce=!t(Ve,Le,"VP8 "),at=!t(Ve,Le,"VP8L"),e(Ve!=null),e(X!=null),e(Se!=null),e(We!=null),8>X[0])K=7;else{if(Ce||at){if(Ve=Ue(Ve,Le+4),12<=Me&&Ve>Me-12){K=3;break e}if(le&&Ve>X[0]-8){K=7;break e}Se[0]=Ve,K[0]+=8,X[0]-=8,We[0]=at}else We[0]=5<=X[0]&&Ve[Le+0]==47&&!(Ve[Le+4]>>5),Se[0]=X[0];K=0}if(v=v[0],ee.Ja=ee.Ja[0],ee.xa=ee.xa[0],f=f[0],K!=0)break;if(4294967286<ee.Ja)return 3;if(A==null||me||(A[0]=ee.xa?2:1),I=[I],xe=[xe],ee.xa){if(5>v){K=7;break}A=I,le=xe,me=D,u==null||5>v?u=0:5<=v&&u[f+0]==47&&!(u[f+4]>>5)?(X=[0],Ve=[0],Me=[0],Z(Se=new M,u,f,v),ut(Se,X,Ve,Me)?(A!=null&&(A[0]=X[0]),le!=null&&(le[0]=Ve[0]),me!=null&&(me[0]=Me[0]),u=1):u=0):u=0}else{if(10>v){K=7;break}A=xe,u==null||10>v||!mg(u,f+3,v-3)?u=0:(le=u[f+0]|u[f+1]<<8|u[f+2]<<16,me=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=ee.Ja||!me||!u?u=0:(I&&(I[0]=me),A&&(A[0]=u),u=1))}if(!u||(I=I[0],xe=xe[0],ae&&(R[0]!=I||Y[0]!=xe)))return 3;N!=null&&(N[0]=ee,N.offset=f-N.w,e(4294967286>f-N.w),e(N.offset==N.ha-v));break}return K==0||K==7&&ae&&N==null?(D!=null&&(D[0]|=ee.na!=null&&0<ee.na.length),b!=null&&(b[0]=I),E!=null&&(E[0]=xe),0):K}function Oh(u,f,v){var b=f.width,E=f.height,D=0,I=0,A=b,N=E;if(f.Da=u!=null&&0<u.Da,f.Da&&(A=u.cd,N=u.bd,D=u.v,I=u.j,11>v||(D&=-2,I&=-2),0>D||0>I||0>=A||0>=N||D+A>b||I+N>E))return 0;if(f.v=D,f.j=I,f.va=D+A,f.o=I+N,f.U=A,f.T=N,f.da=u!=null&&0<u.da,f.da){if(!Dt(A,N,v=[u.ib],D=[u.hb]))return 0;f.ib=v[0],f.hb=D[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*b/4&&f.hb<3*E/4,f.Kb=0),1}function kh(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function vu(u,f,v,b){if(b==null||0>=u||0>=f)return 2;if(v!=null){if(v.Da){var E=v.cd,D=v.bd,I=-2&v.v,A=-2&v.j;if(0>I||0>A||0>=E||0>=D||I+E>u||A+D>f)return 2;u=E,f=D}if(v.da){if(!Dt(u,f,E=[v.ib],D=[v.hb]))return 2;u=E[0],f=D[0]}}b.width=u,b.height=f;e:{var N=b.width,R=b.height;if(u=b.S,0>=N||0>=R||!(u>=Bg&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){I=D=E=f=0;var Y=(A=N*W3[u])*R;if(11>u||(D=(R+1)/2*(f=(N+1)/2),u==12&&(I=(E=N)*R)),(R=o(Y+2*D+I))==null){u=1;break e}b.sd=R,11>u?((N=b.f.RGBA).eb=R,N.fb=0,N.A=A,N.size=Y):((N=b.f.kb).y=R,N.O=0,N.fa=A,N.Fd=Y,N.f=R,N.N=0+Y,N.Ab=f,N.Cd=D,N.ea=R,N.W=0+Y+D,N.Db=f,N.Ed=D,u==12&&(N.F=R,N.J=0+Y+2*D),N.Tc=I,N.lb=E)}if(f=1,E=b.S,D=b.width,I=b.height,E>=Bg&&13>E)if(11>E)u=b.f.RGBA,f&=(A=Math.abs(u.A))*(I-1)+D<=u.size,f&=A>=D*W3[E],f&=u.eb!=null;else{u=b.f.kb,A=(D+1)/2,Y=(I+1)/2,N=Math.abs(u.fa),R=Math.abs(u.Ab);var ae=Math.abs(u.Db),le=Math.abs(u.lb),ee=le*(I-1)+D;f&=N*(I-1)+D<=u.Fd,f&=R*(Y-1)+A<=u.Cd,f=(f&=ae*(Y-1)+A<=u.Ed)&N>=D&R>=A&ae>=A,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,E==12&&(f&=le>=D,f&=ee<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||v!=null&&v.fd&&(u=kh(b)),u}var Pr=64,yu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bu=24,_u=32,Rh=8,ci=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(u){return u},j.Predictor2=function(u,f,v){return f[v+0]},j.Predictor3=function(u,f,v){return f[v+1]},j.Predictor4=function(u,f,v){return f[v-1]},j.Predictor5=function(u,f,v){return He(He(u,f[v+1]),f[v+0])},j.Predictor6=function(u,f,v){return He(u,f[v-1])},j.Predictor7=function(u,f,v){return He(u,f[v+0])},j.Predictor8=function(u,f,v){return He(f[v-1],f[v+0])},j.Predictor9=function(u,f,v){return He(f[v+0],f[v+1])},j.Predictor10=function(u,f,v){return He(He(u,f[v-1]),He(f[v+0],f[v+1]))},j.Predictor11=function(u,f,v){var b=f[v+0];return 0>=Tt(b>>24&255,u>>24&255,(f=f[v-1])>>24&255)+Tt(b>>16&255,u>>16&255,f>>16&255)+Tt(b>>8&255,u>>8&255,f>>8&255)+Tt(255&b,255&u,255&f)?b:u},j.Predictor12=function(u,f,v){var b=f[v+0];return(rt((u>>24&255)+(b>>24&255)-((f=f[v-1])>>24&255))<<24|rt((u>>16&255)+(b>>16&255)-(f>>16&255))<<16|rt((u>>8&255)+(b>>8&255)-(f>>8&255))<<8|rt((255&u)+(255&b)-(255&f)))>>>0},j.Predictor13=function(u,f,v){var b=f[v-1];return(wt((u=He(u,f[v+0]))>>24&255,b>>24&255)<<24|wt(u>>16&255,b>>16&255)<<16|wt(u>>8&255,b>>8&255)<<8|wt(u>>0&255,b>>0&255))>>>0};var nb=j.PredictorAdd0;j.PredictorAdd1=jt,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Lh=j.PredictorAdd2;Ut("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Og,ji=j.ColorIndexInverseTransform,wu=j.MapARGB,kg=j.VP8LColorIndexInverseTransformAlpha,Rg=j.MapAlpha,za=j.VP8LPredictorsAdd=[];za.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var ql,ui,Zr,qa,Ys,Ks,Cu,Xs,Wn,Fh,Jr,Bi,Eu,Lg,jh,Gl,$l,Ga,Wl,Su,Yl,$a,Bh,Ui,Vi,wn,Cn,Yn,pr=o(511),Zs=o(2041),Uh=o(225),xu=o(767),Fg=0,rb=Zs,jg=Uh,Si=xu,Hi=pr,Bg=0,Ug=1,R3=2,Vg=3,Hg=4,ib=5,L3=6,ob=7,sb=8,zg=9,ab=10,cN=[2,3,7],uN=[3,3,11],F3=[280,256,256,256,40],dN=[0,1,1,1,0],hN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gN=8,lb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vh=null,mN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],j3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_N=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wa=[],Eo=[],Js=[],CN=1,B3=2,Ya=[],zi=[];ye("UpsampleRgbLinePair",Wt,3),ye("UpsampleBgrLinePair",An,3),ye("UpsampleRgbaLinePair",Co,4),ye("UpsampleBgraLinePair",br,4),ye("UpsampleArgbLinePair",Ur,4),ye("UpsampleRgba4444LinePair",rr,2),ye("UpsampleRgb565LinePair",Fn,2);var EN=j.UpsampleRgbLinePair,SN=j.UpsampleBgrLinePair,U3=j.UpsampleRgbaLinePair,V3=j.UpsampleBgraLinePair,H3=j.UpsampleArgbLinePair,z3=j.UpsampleRgba4444LinePair,xN=j.UpsampleRgb565LinePair,qg=16,Gg=1<<qg-1,Hh=-227,ub=482,q3=6,DN=(256<<q3)-1,G3=0,MN=o(256),IN=o(256),AN=o(256),PN=o(256),TN=o(ub-Hh),NN=o(ub-Hh);ss("YuvToRgbRow",Wt,3),ss("YuvToBgrRow",An,3),ss("YuvToRgbaRow",Co,4),ss("YuvToBgraRow",br,4),ss("YuvToArgbRow",Ur,4),ss("YuvToRgba4444Row",rr,2),ss("YuvToRgb565Row",Fn,2);var $3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$g=[0,2,8],ON=[8,7,6,4,4,2,2,2,1,1,1,1],kN=1;this.WebPDecodeRGBA=function(u,f,v,b,E){var D=Ug,I=new pu,A=new go;I.ba=A,A.S=D,A.width=[A.width],A.height=[A.height];var N=A.width,R=A.height,Y=new qs;if(Y==null||u==null)var ae=2;else e(Y!=null),ae=mu(u,f,v,Y.width,Y.height,Y.Pd,Y.Qd,Y.format,null);if(ae!=0?N=0:(N!=null&&(N[0]=Y.width[0]),R!=null&&(R[0]=Y.height[0]),N=1),N){A.width=A.width[0],A.height=A.height[0],b!=null&&(b[0]=A.width),E!=null&&(E[0]=A.height);e:{if(b=new au,(E=new Mh).data=u,E.w=f,E.ha=v,E.kd=1,f=[0],e(E!=null),((u=mu(E.data,E.w,E.ha,null,null,null,f,null,E))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(I!=null),b.data=E.data,b.w=E.w+E.offset,b.ha=E.ha-E.offset,b.put=Qo,b.ac=Ar,b.bc=es,b.ma=I,E.xa){if((u=Fi())==null){I=1;break e}if(function(le,ee){var xe=[0],me=[0],K=[0];t:for(;;){if(le==null)return 0;if(ee==null)return le.a=2,0;if(le.l=ee,le.a=0,Z(le.m,ee.data,ee.w,ee.ha),!ut(le.m,xe,me,K)){le.a=3;break t}if(le.xb=B3,ee.width=xe[0],ee.height=me[0],!rs(xe[0],me[0],1,le,null))break t;return 1}return e(le.a!=0),0}(u,b)){if(b=(f=vu(b.width,b.height,I.Oa,I.ba))==0){t:{b=u;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((E=v.ma)!=null),b.xb!=0){if(b.ca=E.ba,b.tb=E.tb,e(b.ca!=null),!Oh(E.Oa,v,Vg)){b.a=2;break n}if(!Bl(b,v.width)||v.da)break n;if((v.da||nn(b.ca.S))&&oe(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&oe()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!dt(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!bo(b,b.V,b.Ba,b.c,b.i,v.o,tu))break n;E.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(f=u.a)}else f=u.a}else{if((u=new F2)==null){I=1;break e}if(u.Fa=E.na,u.P=E.P,u.qc=E.Sa,vg(u,b)){if((f=vu(b.width,b.height,I.Oa,I.ba))==0){if(u.Aa=0,v=I.Oa,e((E=u)!=null),v!=null){if(0<(N=0>(N=v.Md)?0:100<N?255:255*N/100)){for(R=Y=0;4>R;++R)12>(ae=E.pb[R]).lc&&(ae.ia=N*ON[0>ae.lc?0:ae.lc]>>3),Y|=ae.ia;Y&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=v.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}j2(u,b)||(f=u.a)}}else f=u.a}f==0&&I.Oa!=null&&I.Oa.fd&&(f=kh(I.ba))}I=f}D=I!=0?null:11>D?A.f.RGBA.eb:A.f.kb.y}else D=null;return D};var W3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(j,re){for(var se="",P=0;P<4;P++)se+=String.fromCharCode(j[re++]);return se}function d(j,re){return(j[re+0]<<0|j[re+1]<<8|j[re+2]<<16)>>>0}function h(j,re){return(j[re+0]<<0|j[re+1]<<8|j[re+2]<<16|j[re+3]<<24)>>>0}new l;var m=[0],p=[0],y=[],_=new l,C=n,w=function(j,re){var se={},P=0,T=!1,G=0,z=0;if(se.frames=[],!function(L,B,W,te){for(var ue=0;ue<te;ue++)if(L[B+ue]!=W.charCodeAt(ue))return!0;return!1}(j,re,"RIFF",4)){for(h(j,re+=4),re+=8;re<j.length;){var de=c(j,re),ce=h(j,re+=4);re+=4;var ve=ce+(1&ce);switch(de){case"VP8 ":case"VP8L":se.frames[P]===void 0&&(se.frames[P]={}),(ge=se.frames[P]).src_off=T?z:re-8,ge.src_size=G+ce+8,P++,T&&(T=!1,G=0,z=0);break;case"VP8X":(ge=se.header={}).feature_flags=j[re];var Z=re+4;ge.canvas_width=1+d(j,Z),Z+=3,ge.canvas_height=1+d(j,Z),Z+=3;break;case"ALPH":T=!0,G=ve+8,z=re-8;break;case"ANIM":(ge=se.header).bgcolor=h(j,re),Z=re+4,ge.loop_count=(Ne=j)[(M=Z)+0]<<0|Ne[M+1]<<8,Z+=2;break;case"ANMF":var he,ge;(ge=se.frames[P]={}).offset_x=2*d(j,re),re+=3,ge.offset_y=2*d(j,re),re+=3,ge.width=1+d(j,re),re+=3,ge.height=1+d(j,re),re+=3,ge.duration=d(j,re),re+=3,he=j[re++],ge.dispose=1&he,ge.blend=he>>1&1}de!="ANMF"&&(re+=ve)}var Ne,M;return se}}(C,0);w.response=C,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,O=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,m=[x.canvas_height],p=[x.canvas_width];for(var k=0;k<O.length&&O[k].blend!=0;k++);}var H=O[0],Q=_.WebPDecodeRGBA(C,H.src_off,H.src_size,p,m);H.rgba=Q,H.imgwidth=p[0],H.imgheight=m[0];for(var q=0;q<p[0]*m[0]*4;q++)y[q]=Q[q];return this.width=p,this.height=m,this.data=y,this}(function(n){var e=function(){return typeof ky=="function"},t=function(m,p,y,_){var C=4,w=s;switch(_){case n.image_compression.FAST:C=1,w=o;break;case n.image_compression.MEDIUM:C=6,w=a;break;case n.image_compression.SLOW:C=9,w=l}m=r(m,p,y,w);var x=ky(m,{level:C});return n.__addimage__.arrayBufferToBinaryString(x)},r=function(m,p,y,_){for(var C,w,x,O=m.length/p,k=new Uint8Array(m.length+O),H=d(),Q=0;Q<O;Q+=1){if(x=Q*p,C=m.subarray(x,x+p),_)k.set(_(C,y,w),x+Q);else{for(var q,j=H.length,re=[];q<j;q+=1)re[q]=H[q](C,y,w);var se=h(re.concat());k.set(re[se],x+Q)}w=C}return k},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},o=function(m,p){var y,_=[],C=m.length;_[0]=1;for(var w=0;w<C;w+=1)y=m[w-p]||0,_[w+1]=m[w]-y+256&255;return _},s=function(m,p,y){var _,C=[],w=m.length;C[0]=2;for(var x=0;x<w;x+=1)_=y&&y[x]||0,C[x+1]=m[x]-_+256&255;return C},a=function(m,p,y){var _,C,w=[],x=m.length;w[0]=3;for(var O=0;O<x;O+=1)_=m[O-p]||0,C=y&&y[O]||0,w[O+1]=m[O]+256-(_+C>>>1)&255;return w},l=function(m,p,y){var _,C,w,x,O=[],k=m.length;O[0]=4;for(var H=0;H<k;H+=1)_=m[H-p]||0,C=y&&y[H]||0,w=y&&y[H-p]||0,x=c(_,C,w),O[H+1]=m[H]-x+256&255;return O},c=function(m,p,y){if(m===p&&p===y)return m;var _=Math.abs(p-y),C=Math.abs(m-y),w=Math.abs(m+p-y-y);return _<=C&&_<=w?m:C<=w?p:y},d=function(){return[i,o,s,a,l]},h=function(m){var p=m.map(function(y){return y.reduce(function(_,C){return _+Math.abs(C)},0)});return p.indexOf(Math.min.apply(null,p))};n.processPNG=function(m,p,y,_){var C,w,x,O,k,H,Q,q,j,re,se,P,T,G,z,de=this.decode.FLATE_DECODE,ce="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(x=new UG(m)).imgData,w=x.bits,C=x.colorSpace,k=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){j=(q=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,se=new Uint8Array(j*x.colors),re=new Uint8Array(j);var ve,Z=x.pixelBitlength-x.bits;for(G=0,z=0;G<j;G++){for(T=q[G],ve=0;ve<Z;)se[z++]=T>>>ve&255,ve+=x.bits;re[G]=T>>>ve&255}}if(x.bits===16){j=(q=new Uint32Array(x.decodePixels().buffer)).length,se=new Uint8Array(j*(32/x.pixelBitlength)*x.colors),re=new Uint8Array(j*(32/x.pixelBitlength)),P=x.colors>1,G=0,z=0;for(var he=0;G<j;)T=q[G++],se[z++]=T>>>0&255,P&&(se[z++]=T>>>16&255,T=q[G++],se[z++]=T>>>0&255),re[he++]=T>>>16&255;w=8}_!==n.image_compression.NONE&&e()?(m=t(se,x.width*x.colors,x.colors,_),Q=t(re,x.width,1,_)):(m=se,Q=re,de=void 0)}if(x.colorType===3&&(C=this.color_spaces.INDEXED,H=x.palette,x.transparency.indexed)){var ge=x.transparency.indexed,Ne=0;for(G=0,j=ge.length;G<j;++G)Ne+=ge[G];if((Ne/=255)===j-1&&ge.indexOf(0)!==-1)O=[ge.indexOf(0)];else if(Ne!==j){for(q=x.decodePixels(),re=new Uint8Array(q.length),G=0,j=q.length;G<j;G++)re[G]=ge[q[G]];Q=t(re,x.width,1)}}var M=function(L){var B;switch(L){case n.image_compression.FAST:B=11;break;case n.image_compression.MEDIUM:B=13;break;case n.image_compression.SLOW:B=14;break;default:B=12}return B}(_);return de===this.decode.FLATE_DECODE&&(ce="/Predictor "+M+" "),ce+="/Colors "+k+" /BitsPerComponent "+w+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:y,data:m,index:p,filter:de,decodeParameters:ce,transparency:O,palette:H,sMask:Q,predictor:M,width:x.width,height:x.height,bitsPerComponent:w,colorSpace:C}}}})(ct.API),function(n){n.processGIF89A=function(e,t,r,i){var o=new VG(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new n3(100).encode(c,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A}(ct.API),Ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ko.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){_n.log("bit decode error:"+t)}},Ko.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Ko.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ko.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Ko.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=n}},Ko.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,d=i*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=n}},Ko.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Ko.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Ko.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var o=new Ko(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new n3(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ct.API),NP.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var o=new NP(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new n3(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ct.API),ct.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c],h=r[c+1],m=r[c+2],p=r[c+3];o[a++]=d,o[a++]=h,o[a++]=m,s[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ct.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jd=ct.API,jy=Jd.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=e.doKerning!==!1,m=0,p=n.length,y=0,_=a[0]||l,C=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(m=h&&hn(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/d:0,C.push((a[r]||_)/l+m)),y=r;return C},IP=Jd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Jd.processArabic&&(n=Jd.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:jy.apply(this,arguments).reduce(function(o,s){return o+s},0)},AP=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},PP=function(n,e,t){t||(t={});var r,i,o,s,a,l,c,d=[],h=[d],m=t.textIndent||0,p=0,y=0,_=n.split(" "),C=jy.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var w=Array(l).join(" "),x=[];_.map(function(k){(k=k.split(/\s*\n/)).length>1?x=x.concat(k.map(function(H,Q){return(Q&&H.length?`
`:"")+H})):x.push(k[0])}),_=x,l=IP.apply(this,[w,t])}for(o=0,s=_.length;o<s;o++){var O=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),O=1),m+p+(y=(i=jy.apply(this,[r,t])).reduce(function(k,H){return k+H},0))>e||O){if(y>e){for(a=AP.apply(this,[r,i,e-(m+p),e]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);y=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(k,H){return k+H},0)}else d=[r];h.push(d),m=y+l,p=C}else d.push(r),m+=p+y,p=C}return c=l?function(k,H){return(H?w:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(c)},Jd.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(PP.apply(this,[r[a],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(h){return"0x"+parseInt(h,10).toString(16)},s=n.__fontmetrics__.compress=function(h){var m,p,y,_,C=["{"];for(var w in h){if(m=h[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=o(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(y=o(m).slice(3),_="-"):(y=o(m).slice(2),_=""),y=_+y.slice(0,-1)+r[y.slice(-1)];else{if(hn(m)!=="object")throw new Error("Don't know what to do with value type "+hn(m)+".");y=s(m)}C.push(p+y)}return C.push("}"),C.join("")},a=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,y,_,C={},w=1,x=C,O=[],k="",H="",Q=h.length-1,q=1;q<Q;q+=1)(_=h[q])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(O.push([x,y]),x={},y=void 0):_=="}"?((p=O.pop())[0][p[1]]=x,y=void 0,x=p[0]):_=="-"?w=-1:y===void 0?t.hasOwnProperty(_)?(k+=t[_],y=parseInt(k,16)*w,w=1,k=""):k+=_:t.hasOwnProperty(_)?(H+=t[_],x[y]=parseInt(H,16)*w,w=1,y=void 0,H=""):H+=_;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var m=h.font,p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var y=c.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])}(ct.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Hp(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ct),function(n){function e(){return(pt.canvg?Promise.resolve(pt.canvg):import("./chunk-KBHBTWUQ.js")).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ct.API.addSvgAsImage=function(t,r,i,o,s,a,l,c){if(isNaN(r)||isNaN(i))throw _n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw _n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(y){return y.fromString(h,t,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(m)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),r,i,o,s,l,c)})}}(),ct.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},ct.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,h=0;function m(y,_){var C,w=!1;for(C=0;C<y.length;C+=1)y[C]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=a.length;for(h=0;h<p;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(hn(n)==="object"){for(i in n)if(o=n[i],m(a,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&m(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,_=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?_.push("/"+y+" /"+t[y].value):_.push("/"+y+" "+t[y].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,m=o.length;h<m;++h){if(a=s.metadata.characterToGlyph(o.charCodeAt(h)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(o){var s,a,l,c,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,m=(a=Object.keys(o).sort(function(p,y){return p-y})).length;h<m;h++)s=a[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);var _=c();d({data:p,addLength1:!0,objectId:_}),l("endobj");var C=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+eh(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+eh(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+eh(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var y=c();d({data:m,addLength1:!0,objectId:y}),l("endobj");var _=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var C=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+eh(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+eh(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},h=o.mutex||{},m=h.pdfEscape,p=h.activeFontKey,y=h.fonts,_=p,C="",w=0,x="",O=y[_].encoding;if(y[_].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:h};for(x=a,_=p,Array.isArray(a)&&(x=a[0]),w=0;w<x.length;w+=1)y[_].metadata.hasOwnProperty("cmap")&&(s=y[_].metadata.cmap.unicode.codeMap[x[w].charCodeAt(0)]),s||x[w].charCodeAt(0)<256&&y[_].metadata.hasOwnProperty("Unicode")?C+=x[w]:C+="";var k="";return parseInt(_.slice(1))<14||O==="WinAnsiEncoding"?k=m(C,_).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(k=t(C,y[_])),h.isHex=!0,{text:k,x:l,y:c,options:d,mutex:h}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(ct),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ct.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,d,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,O=0;this.__bidiEngine__={};var k=function(P){var T=P.charCodeAt(),G=T>>8,z=_[G];return z!==void 0?h[256*z+(255&T)]:G===252||G===253?"AL":w.test(G)?"L":G===8?"R":"N"},H=function(P){for(var T,G=0;G<P.length;G++){if((T=k(P.charAt(G)))==="L")return!1;if(T==="R")return!0}return!1},Q=function(P,T,G,z){var de,ce,ve,Z,he=T[z];switch(he){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(he="AN");break;case"AL":x=!0,he="R";break;case"WS":he="N";break;case"CS":z<1||z+1>=T.length||(de=G[z-1])!=="EN"&&de!=="AN"||(ce=T[z+1])!=="EN"&&ce!=="AN"?he="N":x&&(ce="AN"),he=ce===de?ce:"N";break;case"ES":he=(de=z>0?G[z-1]:"B")==="EN"&&z+1<T.length&&T[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&G[z-1]==="EN"){he="EN";break}if(x){he="N";break}for(ve=z+1,Z=T.length;ve<Z&&T[ve]==="ET";)ve++;he=ve<Z&&T[ve]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(Z=T.length,ve=z+1;ve<Z&&T[ve]==="NSM";)ve++;if(ve<Z){var ge=P[z],Ne=ge>=1425&&ge<=2303||ge===64286;if(de=T[ve],Ne&&(de==="R"||de==="AL")){he="R";break}}}he=z<1||(de=T[z-1])==="B"?"N":G[z-1];break;case"B":x=!1,i=!0,he=O;break;case"S":o=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":he="N"}return he},q=function(P,T,G){var z=P.split("");return G&&j(z,G,{hiLevel:O}),z.reverse(),T&&T.reverse(),z.join("")},j=function(P,T,G){var z,de,ce,ve,Z,he=-1,ge=P.length,Ne=0,M=[],L=O?p:m,B=[];for(x=!1,i=!1,o=!1,de=0;de<ge;de++)B[de]=k(P[de]);for(ce=0;ce<ge;ce++){if(Z=Ne,M[ce]=Q(P,B,M,ce),z=240&(Ne=L[Z][y[M[ce]]]),Ne&=15,T[ce]=ve=L[Ne][5],z>0)if(z===16){for(de=he;de<ce;de++)T[de]=1;he=-1}else he=-1;if(L[Ne][6])he===-1&&(he=ce);else if(he>-1){for(de=he;de<ce;de++)T[de]=ve;he=-1}B[ce]==="B"&&(T[ce]=0),G.hiLevel|=ve}o&&function(W,te,ue){for(var fe=0;fe<ue;fe++)if(W[fe]==="S"){te[fe]=O;for(var pe=fe-1;pe>=0&&W[pe]==="WS";pe--)te[pe]=O}}(B,T,ge)},re=function(P,T,G,z,de){if(!(de.hiLevel<P)){if(P===1&&O===1&&!i)return T.reverse(),void(G&&G.reverse());for(var ce,ve,Z,he,ge=T.length,Ne=0;Ne<ge;){if(z[Ne]>=P){for(Z=Ne+1;Z<ge&&z[Z]>=P;)Z++;for(he=Ne,ve=Z-1;he<ve;he++,ve--)ce=T[he],T[he]=T[ve],T[ve]=ce,G&&(ce=G[he],G[he]=G[ve],G[ve]=ce);Ne=Z}Ne++}}},se=function(P,T,G){var z=P.split(""),de={hiLevel:O};return G||(G=[]),j(z,G,de),function(ce,ve,Z){if(Z.hiLevel!==0&&d)for(var he,ge=0;ge<ce.length;ge++)ve[ge]===1&&(he=C.indexOf(ce[ge]))>=0&&(ce[ge]=C[he+1])}(z,G,de),re(2,z,T,G,de),re(1,z,T,G,de),z.join("")};return this.__bidiEngine__.doBidiReorder=function(P,T,G){if(function(de,ce){if(ce)for(var ve=0;ve<de.length;ve++)ce[ve]=ve;a===void 0&&(a=H(de)),c===void 0&&(c=H(de))}(P,T),s||!l||c)if(s&&l&&a^c)O=a?1:0,P=q(P,T,G);else if(!s&&l&&c)O=a?1:0,P=se(P,T,G),P=q(P,T);else if(!s||a||l||c){if(s&&!l&&a^c)P=q(P,T),a?(O=0,P=se(P,T,G)):(O=1,P=se(P,T,G),P=q(P,T));else if(s&&a&&!l&&c)O=1,P=se(P,T,G),P=q(P,T);else if(!s&&!l&&a^c){var z=d;a?(O=1,P=se(P,T,G),O=0,d=!1,P=se(P,T,G),d=z):(O=0,P=se(P,T,G),P=q(P,T),O=1,d=!1,P=se(P,T,G),d=z,P=q(P,T))}}else O=0,P=se(P,T,G);else O=a?1:0,P=se(P,T,G);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,l=P.isOutputVisual,a=P.isInputRtl,c=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new kl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new n$(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new HG(this.contents),this.head=new qG(this),this.name=new KG(this),this.cmap=new qP(this),this.toUnicode={},this.hhea=new GG(this),this.maxp=new XG(this),this.hmtx=new ZG(this),this.post=new WG(this),this.os2=new $G(this),this.loca=new t$(this),this.glyf=new JG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Zo,kl=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),HG=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,s,a,l,c,d,h,m,p,y,_;for(_ in p=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(p)/l),s=Math.floor(h/l),d=16*p-h,(i=new kl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(s),i.writeShort(d),o=16*p,c=i.pos+o,a=null,y=[],t)for(m=t[_],i.writeString(_),i.writeInt(n(m)),i.writeInt(c),i.writeInt(m.length),y=y.concat(m),_==="head"&&(a=c),c+=m.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=GP.call(t);t.length%4;)t.push(0);for(o=new kl(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),zG={}.hasOwnProperty,Fs=function(n,e){for(var t in e)zG.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Zo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var qG=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new kl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),OP=function(){function n(e,t){var r,i,o,s,a,l,c,d,h,m,p,y,_,C,w,x,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,o=function(){var k,H;for(H=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)H.push(e.readUInt16());return H}(),e.pos+=2,_=function(){var k,H;for(H=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)H.push(e.readUInt16());return H}(),c=function(){var k,H;for(H=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)H.push(e.readUInt16());return H}(),d=function(){var k,H;for(H=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)H.push(e.readUInt16());return H}(),i=(this.length-e.pos+this.offset)/2,a=function(){var k,H;for(H=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)H.push(e.readUInt16());return H}(),l=w=0,O=o.length;w<O;l=++w)for(C=o[l],r=x=y=_[l];y<=C?x<=C:x>=C;r=y<=C?++x:--x)d[l]===0?s=r+c[l]:(s=a[d[l]/2+(r-y)-(m-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=h}return n.encode=function(e,t){var r,i,o,s,a,l,c,d,h,m,p,y,_,C,w,x,O,k,H,Q,q,j,re,se,P,T,G,z,de,ce,ve,Z,he,ge,Ne,M,L,B,W,te,ue,fe,pe,Te,Pe,ze;switch(z=new kl,s=Object.keys(e).sort(function(Ue,dt){return Ue-dt}),t){case"macroman":for(_=0,C=function(){var Ue=[];for(y=0;y<256;++y)Ue.push(0);return Ue}(),x={0:0},o={},de=0,he=s.length;de<he;de++)x[pe=e[i=s[de]]]==null&&(x[pe]=++_),o[i]={old:e[i],new:x[e[i]]},C[i]=x[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(C),{charMap:o,subtable:z.data,maxGlyphID:_+1};case"unicode":for(T=[],h=[],O=0,x={},r={},w=c=null,ce=0,ge=s.length;ce<ge;ce++)x[H=e[i=s[ce]]]==null&&(x[H]=++O),r[i]={old:H,new:x[H]},a=x[H]-i,w!=null&&a===c||(w&&h.push(w),T.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),T.push(65535),se=2*(re=T.length),j=2*Math.pow(Math.log(re)/Math.LN2,2),m=Math.log(j/2)/Math.LN2,q=2*re-j,l=[],Q=[],p=[],y=ve=0,Ne=T.length;ve<Ne;y=++ve){if(P=T[y],d=h[y],P===65535){l.push(0),Q.push(0);break}if(P-(G=r[P].new)>=32768)for(l.push(0),Q.push(2*(p.length+re-y)),i=Z=P;P<=d?Z<=d:Z>=d;i=P<=d?++Z:--Z)p.push(r[i].new);else l.push(G-P),Q.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*re+2*p.length),z.writeUInt16(0),z.writeUInt16(se),z.writeUInt16(j),z.writeUInt16(m),z.writeUInt16(q),ue=0,M=h.length;ue<M;ue++)i=h[ue],z.writeUInt16(i);for(z.writeUInt16(0),fe=0,L=T.length;fe<L;fe++)i=T[fe],z.writeUInt16(i);for(Te=0,B=l.length;Te<B;Te++)a=l[Te],z.writeUInt16(a);for(Pe=0,W=Q.length;Pe<W;Pe++)k=Q[Pe],z.writeUInt16(k);for(ze=0,te=p.length;ze<te;ze++)_=p[ze],z.writeUInt16(_);return{charMap:r,subtable:z.data,maxGlyphID:O+1}}},n}(),qP=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new OP(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,o;return r==null&&(r="macroman"),i=OP.encode(t,r),(o=new kl).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),GG=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),$G=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),WG=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),YG=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},KG=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,o,s,a,l,c,d,h,m,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=h=0,m=i.length;h<m;s=++h)o=i[s],t.pos=o.offset,d=t.readString(o.length),a=new YG(d,o),c[p=o.nameID]==null&&(c[p]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),XG=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),ZG=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,o,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)h.push(t.readInt16());return h}(),this.widths=(function(){var d,h,m,p;for(p=[],d=0,h=(m=this.metrics).length;d<h;d++)s=m[d],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),GP=[].slice,JG=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,o,s,a,l,c,d,h,m;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(o=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new kl(r.read(o))).readShort(),d=l.readShort(),m=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=a===-1?new e$(l,d,m,c,h):new QG(l,a,d,m,c,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var o,s,a,l,c;for(a=[],s=[],l=0,c=r.length;l<c;l++)o=t[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),QG=function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),e$=function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new kl(GP.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),t$=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fs(e,Zo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var d=new Array(4*i.length),h=0;h<i.length;++h)d[4*h+3]=255&i[h],d[4*h+2]=(65280&i[h])>>8,d[4*h+1]=(16711680&i[h])>>16,d[4*h]=(4278190080&i[h])>>24;return d},e}(),n$=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))r=l[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,s,a,l,c,d,h,m,p,y,_,C,w;for(i in r=qP.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(y in m=r.maxGlyphID,s)y in p||(p[y]=m++);return d=function(x){var O,k;for(O in k={},x)k[x[O]]=O;return k}(p),h=Object.keys(d).sort(function(x,O){return x-O}),_=function(){var x,O,k;for(k=[],x=0,O=h.length;x<O;x++)a=h[x],k.push(d[a]);return k}(),o=this.font.glyf.encode(s,_,p),c=this.font.loca.encode(o.offsets,_),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();ct.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)s=t[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e}();var lo={production:!0,developmentMode:!1,supabase:{url:"https://xoctvmxfsnrzaigxkjbc.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvY3R2bXhmc25yemFpZ3hramJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0MTM3MjcsImV4cCI6MjA2ODk4OTcyN30.IGCIv3O-JGty28a6fQ4Be1ZdtEIGJ04D0OEsgDfWYzk"},auth:{session:{timeout:288e5,refreshTokenBefore:18e5,rememberSession:!0},supabase:{enabled:!0,provider:"github",redirectTo:"https://psic-abelnavarro.github.io/#/certificate",allowAnyAuthenticatedUser:!0},security:{enforceHttps:!0,allowedDomains:["psic-abelnavarro.github.io","abelnavarro.com"],maxLoginAttempts:3,lockoutDuration:18e5}}};var $y=class n{isDevelopment=!lo.production;log(e,...t){this.isDevelopment&&console.log(`[CertificateForm] ${e}`,...t)}warn(e,...t){this.isDevelopment&&console.warn(`[CertificateForm] ${e}`,...t)}error(e,...t){console.error(`[CertificateForm] ${e}`,...t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})};var r$=["stage"];function i$(n,e){if(n&1&&(J(0,"option",99),V(1),ne()),n&2){let t=e.$implicit;kt("value",t),je(),On(t)}}function o$(n,e){if(n&1){let t=Rr();J(0,"div",60)(1,"h6"),ke(2,"i",75),V(3," Texto "),ne(),J(4,"div",62),ke(5,"i",76),V(6," Contenido: "),ne(),J(7,"textarea",77),_s("ngModelChange",function(i){ot(t);let o=lt(2);return va(o.selectedElement.text,i)||(o.selectedElement.text=i),st(i)}),Qe("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ne(),J(8,"div",62),ke(9,"i",78),V(10," Tama\xF1o: "),ne(),J(11,"input",79),_s("ngModelChange",function(i){ot(t);let o=lt(2);return va(o.selectedElement.fontSize,i)||(o.selectedElement.fontSize=i),st(i)}),Qe("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ne(),J(12,"div",62),ke(13,"i",75),V(14," Fuente: "),ne(),J(15,"select",80),_s("ngModelChange",function(i){ot(t);let o=lt(2);return va(o.selectedElement.fontFamily,i)||(o.selectedElement.fontFamily=i),st(i)}),Qe("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),J(16,"option",81),V(17,"Arial"),ne(),J(18,"option",82),V(19,"Helvetica"),ne(),J(20,"option",83),V(21,"Times New Roman"),ne(),J(22,"option",84),V(23,"Georgia"),ne(),J(24,"option",85),V(25,"Verdana"),ne(),J(26,"optgroup",86),fn(27,i$,2,2,"option",87),ne()(),J(28,"div",62),ke(29,"i",63),V(30," Color: "),ne(),J(31,"input",88),_s("ngModelChange",function(i){ot(t);let o=lt(2);return va(o.selectedElement.fill,i)||(o.selectedElement.fill=i),st(i)}),Qe("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),ne(),J(32,"div",62),ke(33,"i",89),V(34," Estilo: "),ne(),J(35,"select",90),_s("ngModelChange",function(i){ot(t);let o=lt(2);return va(o.selectedElement.fontStyle,i)||(o.selectedElement.fontStyle=i),st(i)}),Qe("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),J(36,"option",91),V(37,"Normal"),ne(),J(38,"option",92),V(39,"Negrita"),ne(),J(40,"option",93),V(41,"Cursiva"),ne()(),J(42,"div",62),ke(43,"i",94),V(44," Alineaci\xF3n: "),ne(),J(45,"select",95),_s("ngModelChange",function(i){ot(t);let o=lt(2);return va(o.selectedElement.align,i)||(o.selectedElement.align=i),st(i)}),Qe("ngModelChange",function(){ot(t);let i=lt(2);return st(i.updateSelectedElement())}),J(46,"option",96),V(47,"Izquierda"),ne(),J(48,"option",97),V(49,"Centro"),ne(),J(50,"option",98),V(51,"Derecha"),ne()()()}if(n&2){let t=lt(2);je(7),bs("ngModel",t.selectedElement.text),je(4),bs("ngModel",t.selectedElement.fontSize),je(4),bs("ngModel",t.selectedElement.fontFamily),je(12),kt("ngForOf",t.googleFonts),je(4),bs("ngModel",t.selectedElement.fill),je(4),bs("ngModel",t.selectedElement.fontStyle),je(10),bs("ngModel",t.selectedElement.align)}}function s$(n,e){if(n&1){let t=Rr();J(0,"button",100),Qe("click",function(){ot(t);let i=lt(2);return st(i.removeBackgroundImage())}),ke(1,"i",41),V(2," Quitar "),ne()}}function a$(n,e){if(n&1&&(J(0,"div",60)(1,"h6"),ke(2,"i",30),V(3," Imagen "),ne(),J(4,"div",101)(5,"div",62),ke(6,"i",67),V(7," Dimensiones: "),ne(),J(8,"p",102),V(9),ba(10,"number"),ba(11,"number"),ne()()()),n&2){let t=lt(2);je(9),ml(" ",_a(10,2,t.selectedElement==null?null:t.selectedElement.width,"1.0-0")," \xD7 ",_a(11,5,t.selectedElement==null?null:t.selectedElement.height,"1.0-0"),"px ")}}function l$(n,e){if(n&1){let t=Rr();J(0,"div",105),Qe("click",function(){let i=ot(t).$implicit,o=lt(3);return st(o.selectElement(i))}),J(1,"div",106),ke(2,"i",107),ne(),J(3,"div",108)(4,"span",109),V(5),ne(),J(6,"small",110),V(7),ba(8,"number"),ba(9,"number"),ne()(),J(10,"button",111),Qe("click",function(i){let o=ot(t).$implicit,s=lt(3);return st(s.deleteElement(o.id,i))}),ke(11,"i",57),ne()()}if(n&2){let t=e.$implicit,r=lt(3);Ti("selected",(r.selectedElement==null?null:r.selectedElement.id)===t.id),kt("title","Seleccionar "+t.type),je(2),Ti("fa-font",t.type==="text")("fa-image",t.type==="image"),je(3),Dr(" ",t.type==="text"?t.text||"Sin texto":"Imagen"," "),je(2),ml(" ",_a(8,10,t.x,"1.0-0"),", ",_a(9,13,t.y,"1.0-0")," ")}}function c$(n,e){if(n&1&&(J(0,"div",103),fn(1,l$,12,16,"div",104),ne()),n&2){let t=lt(2);je(),kt("ngForOf",t.elements)}}function u$(n,e){n&1&&(J(0,"div",112),ke(1,"i",113)(2,"br"),J(3,"span"),V(4,"Sin elementos"),ne(),ke(5,"br"),J(6,"small"),V(7,"Agregue contenido"),ne()())}function d$(n,e){if(n&1){let t=Rr();J(0,"div",53)(1,"div",54)(2,"h6"),ke(3,"i",55),V(4," Propiedades "),ne(),J(5,"button",56),Qe("click",function(){ot(t);let i=lt();return st(i.showProperties=!1)}),ke(6,"i",57),ne()(),J(7,"div",58),fn(8,o$,52,7,"div",59),J(9,"div",60)(10,"h6"),ke(11,"i",61),V(12," Fondo "),ne(),J(13,"div",62),ke(14,"i",63),V(15," Color: "),ne(),J(16,"input",64),_s("ngModelChange",function(i){ot(t);let o=lt();return va(o.backgroundColor,i)||(o.backgroundColor=i),st(i)}),Qe("change",function(){ot(t);let i=lt();return st(i.changeBackgroundColor(i.backgroundColor))}),ne(),J(17,"div",62),ke(18,"i",30),V(19," Imagen: "),ne(),J(20,"input",65,2),Qe("change",function(i){ot(t);let o=lt();return st(o.onBackgroundImageChange(i))}),ne(),fn(22,s$,3,0,"button",66),ne(),fn(23,a$,12,8,"div",59),J(24,"div",60)(25,"h6"),ke(26,"i",67),V(27," Lienzo "),ne(),J(28,"div",68)(29,"div",69),ke(30,"i",70),J(31,"span"),V(32),ne()(),J(33,"div",69),ke(34,"i",71),J(35,"span"),V(36),ne()(),J(37,"div",69),ke(38,"i",72),J(39,"span"),V(40),ne()()()(),J(41,"div",60)(42,"h6"),ke(43,"i",73),V(44),ne(),fn(45,c$,2,1,"div",74)(46,u$,8,0,"ng-template",null,3,ww),ne()()()}if(n&2){let t=s1(47),r=lt();je(8),kt("ngIf",(r.selectedElement==null?null:r.selectedElement.type)==="text"),je(8),bs("ngModel",r.backgroundColor),je(6),kt("ngIf",r.backgroundImage),je(),kt("ngIf",(r.selectedElement==null?null:r.selectedElement.type)==="image"),je(9),ml("",r.canvasWidth," \xD7 ",r.canvasHeight,"px"),je(4),On(r.orientation==="horizontal"?"Horizontal":"Vertical"),je(4),Dr("",r.getZoomPercentage(),"%"),je(4),Dr(" Elementos (",r.elements.length,") "),je(),kt("ngIf",r.elements.length>0)("ngIfElse",t)}}var Wy={width:1123,height:870,gridSize:20,pixelRatio:3,exportQuality:1},$P={min:.2,max:2,step:.1,default:.8},h$=["Open Sans","Roboto","Lato","Montserrat","Oswald","Source Sans Pro","Raleway","PT Sans","Ubuntu","Merriweather","Dancing Script"],f$=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],p$=10*1024*1024,WP={enabledAnchors:["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],borderStroke:"#4285f4",borderStrokeWidth:2,anchorStroke:"#4285f4",anchorFill:"#ffffff",anchorSize:8},Yy=class n{constructor(e){this.cdr=e}stageRef;stage;layer;gridLayer;transformer;canvasConfig=Wy;zoomConfig=$P;googleFonts=h$;supportedImageTypes=f$;canvasWidth=Wy.width;canvasHeight=Wy.height;showGrid=!0;backgroundColor="#ffffff";backgroundImage=null;orientation="horizontal";zoomLevel=$P.default;selectedElement=null;elements=[];showProperties=!0;showTemplatesMenu=!1;templates=[];imageCache=new Map;isDestroyed=!1;logger=Ee($y);onDocumentClick(e){e.target.closest(".dropdown")||(this.showTemplatesMenu=!1)}updateCanvasDimensions(){this.orientation==="horizontal"?(this.canvasWidth=this.canvasConfig.width,this.canvasHeight=this.canvasConfig.height):(this.canvasWidth=this.canvasConfig.height,this.canvasHeight=this.canvasConfig.width)}changeOrientation(e){this.orientation!==e&&(this.logger.log("Cambiando orientaci\xF3n de",this.orientation,"a",e),this.orientation=e,this.updateCanvasDimensions(),this.logger.log("Nuevas dimensiones:",this.canvasWidth,"x",this.canvasHeight),this.stage.width(this.canvasWidth*this.zoomLevel),this.stage.height(this.canvasHeight*this.zoomLevel),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.drawGrid(),this.layer.batchDraw(),this.logger.log("Orientaci\xF3n cambiada exitosamente"))}loadGoogleFonts(){typeof WebFont>"u"||WebFont.load({google:{families:[...this.googleFonts]},active:()=>{this.cdr.detectChanges()},inactive:()=>{this.logger.warn("No se pudieron cargar las fuentes de Google")}})}initCanvas(){this.updateCanvasDimensions(),this.stage=new _i.default.Stage({container:this.stageRef.nativeElement,width:this.canvasWidth*this.zoomLevel,height:this.canvasHeight*this.zoomLevel}),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.gridLayer=new _i.default.Layer,this.stage.add(this.gridLayer),this.layer=new _i.default.Layer,this.stage.add(this.layer),this.createTransformer(),this.drawGrid(),this.setupEventHandlers()}createTransformer(){this.transformer=new _i.default.Transformer(vt(De({},WP),{enabledAnchors:[...WP.enabledAnchors]})),this.layer.add(this.transformer),this.transformer.moveToTop()}setupEventHandlers(){this.stage.on("click tap",e=>{let t=e.target;(t===this.stage||t.getParent()===this.gridLayer||t.name()==="background-image")&&this.deselectAll()}),this.stage.on("click",e=>{let t=e.target;t.draggable&&t.draggable()&&(e.cancelBubble=!0)})}drawGrid(){if(!this.showGrid){this.gridLayer.destroyChildren(),this.gridLayer.batchDraw();return}this.gridLayer.destroyChildren();let e=Wy.gridSize,t=this.canvasWidth,r=this.canvasHeight;for(let i=0;i<=t/e;i++){let o=new _i.default.Line({points:[i*e,0,i*e,r],stroke:"#ddd",strokeWidth:.5,listening:!1});this.gridLayer.add(o)}for(let i=0;i<=r/e;i++){let o=new _i.default.Line({points:[0,i*e,t,i*e],stroke:"#ddd",strokeWidth:.5,listening:!1});this.gridLayer.add(o)}this.gridLayer.batchDraw()}toggleGrid(){this.showGrid=!this.showGrid,this.drawGrid()}changeBackgroundColor(e){this.backgroundColor=e,this.stage.container().style.backgroundColor=e}onBackgroundImageChange(e){let t=e.target.files[0];if(t){this.logger.log("Cambiando imagen de fondo:",t.name);let r=new FileReader;r.onload=i=>{_i.default.Image.fromURL(i.target.result,o=>{let s=o.image();this.backgroundImage=s,this.setBackgroundImage(s)},o=>{console.error("Error al cargar imagen de fondo:",o);let s=new HTMLImageElement;s.crossOrigin="anonymous",s.onload=()=>{this.backgroundImage=s,this.setBackgroundImage(s)},s.onerror=()=>{console.error("Error al cargar imagen de fondo con fallback"),alert("Error al cargar la imagen de fondo")},s.src=i.target.result})},r.readAsDataURL(t)}e.target.value=""}setBackgroundImage(e){this.logger.log("Estableciendo imagen de fondo"),this.layer.find(".background-image").forEach(r=>r.destroy());let t=new _i.default.Image({image:e,width:this.canvasWidth,height:this.canvasHeight,listening:!1,name:"background-image"});this.layer.add(t),t.moveToBottom(),this.transformer&&this.transformer.moveToTop(),this.layer.batchDraw(),this.logger.log("Imagen de fondo establecida y canvas redibujado")}removeBackgroundImage(){this.backgroundImage=null,this.layer.find(".background-image").forEach(e=>e.destroy()),this.layer.batchDraw()}selectTool(e){this.deselectAll()}addText(){let e={id:this.generateId(),type:"text",x:100,y:100,text:"Nuevo texto",fontSize:24,fontFamily:"Arial",fill:"#000000",fontStyle:"normal",textDecoration:"",align:"left"};this.elements.push(e),this.createTextElement(e)}createTextElement(e){let t=new _i.default.Text({id:e.id,x:e.x,y:e.y,text:e.text||"",fontSize:e.fontSize||24,fontFamily:e.fontFamily||"Arial",fill:e.fill||"#000000",fontStyle:e.fontStyle||"normal",textDecoration:e.textDecoration||"",align:e.align||"left",draggable:!0});t.on("click",()=>{this.selectElement(e)}),t.on("transform",()=>{this.updateElementFromNode(t,e)}),t.on("dragend",()=>{this.updateElementFromNode(t,e)}),this.layer.add(t),this.layer.batchDraw()}zoomIn(){this.zoomLevel<this.zoomConfig.max&&(this.zoomLevel=Math.min(this.zoomLevel+this.zoomConfig.step,this.zoomConfig.max),this.updateZoom())}zoomOut(){this.zoomLevel>this.zoomConfig.min&&(this.zoomLevel=Math.max(this.zoomLevel-this.zoomConfig.step,this.zoomConfig.min),this.updateZoom())}zoomReset(){this.zoomLevel=this.zoomConfig.default,this.updateZoom()}zoomFit(){let e=this.stageRef.nativeElement.parentElement;if(e){let t=e.clientWidth-40,r=e.clientHeight-40,i=t/this.canvasWidth,o=r/this.canvasHeight;this.zoomLevel=Math.min(i,o,this.zoomConfig.max),this.updateZoom()}}updateZoom(){this.stage.width(this.canvasWidth*this.zoomLevel),this.stage.height(this.canvasHeight*this.zoomLevel),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.stage.batchDraw()}getZoomPercentage(){return Math.round(this.zoomLevel*100)}onZoomSliderChange(e){let t=e.target,r=parseFloat(t.value)/100;this.zoomLevel=Math.max(this.zoomConfig.min,Math.min(r,this.zoomConfig.max)),this.updateZoom()}onZoomWheel(e){e.preventDefault();let t=e.deltaY>0?-this.zoomConfig.step:this.zoomConfig.step,r=this.zoomLevel+t;this.zoomLevel=Math.max(this.zoomConfig.min,Math.min(r,this.zoomConfig.max)),this.updateZoom()}onImageUpload(e){let t=e.target,r=t.files?.[0];if(!r)return;if(!this.supportedImageTypes.includes(r.type)){alert("Tipo de archivo no soportado. Por favor use: JPEG, PNG, GIF o WebP"),t.value="";return}if(r.size>p$){alert("El archivo es demasiado grande. Tama\xF1o m\xE1ximo: 10MB"),t.value="";return}this.logger.log("Archivo seleccionado:",r.name,r.type,r.size);let i=new FileReader;i.onload=o=>{let s=o.target?.result;s&&(this.logger.log("FileReader completado"),_i.default.Image.fromURL(s,a=>{this.logger.log("Imagen cargada exitosamente con Konva.Image.fromURL");let l=a.image();this.addImage(l,a)},a=>{console.error("Error al cargar imagen con Konva.Image.fromURL:",a),this.loadImageWithFallback(s)}))},i.onerror=o=>{console.error("Error al leer archivo:",o),alert("Error al leer el archivo de imagen")},i.readAsDataURL(r),t.value=""}loadImageWithFallback(e){let t=new HTMLImageElement;t.crossOrigin="anonymous",t.onload=()=>{this.logger.log("Imagen cargada con m\xE9todo fallback"),this.addImage(t)},t.onerror=r=>{console.error("Error al cargar imagen:",r),alert("Error al cargar la imagen. Por favor, intente con otra imagen.")},t.src=e}addImage(e,t){this.logger.log("Agregando imagen al canvas");let r=300,i=300,o=e.width,s=e.height;o>r&&(s=s*r/o,o=r),s>i&&(o=o*i/s,s=i);let a={id:this.generateId(),type:"image",x:50,y:50,width:o,height:s,src:e.src};this.elements.push(a),t?this.createImageElementFromKonva(a,t):this.createImageElement(a,e),setTimeout(()=>{this.selectElement(a)},100)}createImageElementFromKonva(e,t){this.logger.log("Creando elemento imagen desde nodo Konva");let r=t.clone({id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,draggable:!0});r.on("click",()=>{this.selectElement(e)}),r.on("transform",()=>{this.updateElementFromNode(r,e)}),r.on("dragend",()=>{this.updateElementFromNode(r,e)}),this.layer.add(r),this.layer.draw(),this.logger.log("Imagen agregada al layer y dibujada")}createImageElement(e,t){this.logger.log("Creando elemento imagen tradicional");let r=()=>{let i=new _i.default.Image({id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,image:t,draggable:!0});i.on("click",()=>{this.selectElement(e)}),i.on("transform",()=>{this.updateElementFromNode(i,e)}),i.on("dragend",()=>{this.updateElementFromNode(i,e)}),this.layer.add(i),this.layer.batchDraw(),this.logger.log("Imagen agregada al layer y dibujada")};t.complete&&t.naturalHeight!==0?r():(t.onload=()=>{r()},t.onerror=()=>{console.error("Error al cargar imagen en createImageElement"),alert("Error al procesar la imagen")})}selectElement(e){this.selectedElement=e;let t=this.stage.findOne("#"+e.id);if(!t?.getParent()?.getLayer()){this.logger.warn("Node not found or invalid for element:",e.id),this.deselectAll();return}try{this.ensureTransformerReady(),this.transformer.nodes([]),this.transformer.nodes([t]),this.transformer.moveToTop(),this.layer.batchDraw()}catch(r){console.error("Error applying transformer:",r),this.handleTransformerError(t)}}ensureTransformerReady(){this.transformer?.getParent()||this.recreateTransformer()}handleTransformerError(e){try{this.recreateTransformer(),setTimeout(()=>{try{e?.getParent()&&(this.transformer.nodes([e]),this.transformer.moveToTop(),this.layer.batchDraw())}catch(t){console.error("Error after recreating transformer:",t),this.deselectAll()}},0)}catch(t){console.error("Error in handleTransformerError:",t),this.deselectAll()}}recreateTransformer(){if(this.transformer)try{this.transformer.nodes([]),this.transformer.remove(),this.transformer.destroy()}catch(e){this.logger.warn("Error destroying old transformer:",e)}this.createTransformer(),this.layer.batchDraw()}deselectAll(){this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(e){console.error("Error deselecting elements:",e),this.recreateTransformer()}}updateElementFromNode(e,t){try{if(t.x=e.x(),t.y=e.y(),t.rotation=e.rotation(),t.scaleX=e.scaleX(),t.scaleY=e.scaleY(),t.type==="text"){let r=e;t.width=r.width()*r.scaleX(),t.height=r.height()*r.scaleY()}else if(t.type==="image"){let r=e;t.width=r.width()*r.scaleX(),t.height=r.height()*r.scaleY()}}catch(r){console.error("Error updating element from node:",r)}}updateSelectedElement(){if(!this.selectedElement)return;let e=this.stage.findOne("#"+this.selectedElement.id);if(e){if(this.selectedElement.type==="text"){let t=e;t.text(this.selectedElement.text||""),t.fontSize(this.selectedElement.fontSize||24),t.fontFamily(this.selectedElement.fontFamily||"Arial"),t.fill(this.selectedElement.fill||"#000000"),t.fontStyle(this.selectedElement.fontStyle||"normal"),t.textDecoration(this.selectedElement.textDecoration||""),t.align(this.selectedElement.align||"left")}this.layer.batchDraw()}}deleteSelected(){if(!this.selectedElement)return;this.stage.findOne("#"+this.selectedElement.id)?.destroy(),this.elements=this.elements.filter(t=>t.id!==this.selectedElement.id),this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(t){console.error("Error clearing transformer after delete:",t),this.recreateTransformer()}}deleteElement(e,t){if(t.stopPropagation(),this.stage.findOne("#"+e)?.destroy(),this.elements=this.elements.filter(i=>i.id!==e),this.selectedElement?.id===e){this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(i){console.error("Error clearing transformer after element delete:",i),this.recreateTransformer()}}this.layer.batchDraw()}clearCanvas(){this.elements=[],this.selectedElement=null,this.backgroundImage=null,this.layer.destroyChildren(),this.recreateTransformer(),this.layer.batchDraw()}exportToPNG(){this.hideTransformerForExport();let e=this.stage.toDataURL({mimeType:"image/png",quality:this.canvasConfig.exportQuality,pixelRatio:this.canvasConfig.pixelRatio});this.showTransformerAfterExport(),this.downloadFile(e,"certificate.png")}exportToPDF(){this.hideTransformerForExport();let e=this.stage.toDataURL({mimeType:"image/png",quality:this.canvasConfig.exportQuality,pixelRatio:4}),t=new ct({orientation:this.canvasWidth>this.canvasHeight?"landscape":"portrait",unit:"mm",format:"a4",putOnlyUsedFonts:!0,floatPrecision:16}),r=this.canvasWidth>this.canvasHeight?297:210,i=this.canvasWidth>this.canvasHeight?210:297;t.addImage(e,"PNG",0,0,r,i,void 0,"FAST"),t.save("certificate.pdf"),this.showTransformerAfterExport()}hideTransformerForExport(){try{this.transformer?.hide(),this.layer.batchDraw()}catch(e){this.logger.warn("Error hiding transformer for export:",e)}}showTransformerAfterExport(){try{this.transformer?.show(),this.layer.batchDraw()}catch(e){this.logger.warn("Error showing transformer after export:",e)}}downloadFile(e,t){let r=document.createElement("a");r.download=t,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}initializeTemplates(){return ie(this,null,function*(){try{let e=yield fetch("/templates/templates.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let t=yield e.json();this.templates=t.templates||[],this.logger.log("Plantillas cargadas exitosamente:",this.templates.length)}catch(e){console.error("Error cargando plantillas:",e),this.logger.error("Error cargando plantillas desde JSON:",e),this.loadDefaultTemplates()}})}loadDefaultTemplates(){this.templates=[{id:"participacion",name:"Certificado de Participaci\xF3n",description:"Certificado general de participaci\xF3n en eventos",backgroundImage:"/plantilla/plantilla1.jpeg",elements:[{type:"text",x:this.canvasWidth/2,y:200,text:"CERTIFICADO DE PARTICIPACI\xD3N",fontSize:48,fontFamily:"Montserrat",fill:"#2c3e50",fontStyle:"bold",align:"center"}]}],this.logger.warn("Usando plantillas por defecto debido a error en carga")}toggleTemplatesMenu(){this.showTemplatesMenu=!this.showTemplatesMenu}applyTemplate(e){let t=this.templates.find(r=>r.id===e);t&&(this.showTemplatesMenu=!1,this.clearCanvas(),this.loadTemplateBackground(t.backgroundImage),t.elements.forEach(r=>{this.addTemplateElement(r)}),this.layer.batchDraw(),this.cdr.detectChanges())}loadTemplateBackground(e){let t=new Image;t.onload=()=>{this.backgroundImage=t,this.setBackgroundImage(t)},t.onerror=()=>{console.error("Error loading template background:",e)},t.src=e}addTemplateElement(e){let t=this.generateId(),r=vt(De({},e),{id:t});this.elements.push(r),e.type==="text"?this.addTextElementToCanvas(r):e.type==="image"&&this.addImageElementToCanvas(r)}addTextElementToCanvas(e){let t=new _i.default.Text({id:e.id,x:e.x,y:e.y,text:e.text||"",fontSize:e.fontSize||24,fontFamily:e.fontFamily||"Arial",fill:e.fill||"#000000",fontStyle:e.fontStyle||"normal",textDecoration:e.textDecoration||"",align:e.align||"center",draggable:!0});t.offsetX(t.width()/2),t.offsetY(t.height()/2),t.on("click",r=>{r.cancelBubble=!0;try{this.selectElement(e)}catch(i){console.error("Error in text click handler:",i)}}),t.on("transform",()=>{try{this.updateElementFromNode(t,e)}catch(r){console.error("Error in text transform handler:",r)}}),t.on("dragend",()=>{try{this.updateElementFromNode(t,e)}catch(r){console.error("Error in text dragend handler:",r)}}),this.layer.add(t),this.layer.batchDraw()}addImageElementToCanvas(e){if(!e.src)return;let t=new Image,r=()=>{let i=new _i.default.Image({id:e.id,x:e.x,y:e.y,width:e.width||100,height:e.height||100,image:t,draggable:!0});i.on("click",o=>{o.cancelBubble=!0;try{this.selectElement(e)}catch(s){console.error("Error in image click handler:",s)}}),i.on("transform",()=>{try{this.updateElementFromNode(i,e)}catch(o){console.error("Error in image transform handler:",o)}}),i.on("dragend",()=>{try{this.updateElementFromNode(i,e)}catch(o){console.error("Error in image dragend handler:",o)}}),this.layer.add(i),this.layer.batchDraw()};t.onload=()=>{r()},t.onerror=()=>{console.error("Error loading template image:",e.src)},t.src=e.src}generateId(){return`element_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}ngOnInit(){this.loadGoogleFonts(),this.initializeTemplates(),setTimeout(()=>ie(this,null,function*(){yield this.loadDefaultTemplate()}),500)}loadDefaultTemplate(){return ie(this,null,function*(){this.templates.length===0&&(yield this.initializeTemplates()),this.applyTemplate("potencial-humano-360")})}ngAfterViewInit(){this.initCanvas()}ngOnDestroy(){this.isDestroyed=!0,this.cleanup()}cleanup(){this.stage&&(this.stage.off("click tap"),this.stage.off("click")),this.imageCache.clear(),this.destroyKonvaElements()}destroyKonvaElements(){try{this.transformer?.destroy(),this.layer?.destroy(),this.gridLayer?.destroy(),this.stage?.destroy()}catch(e){this.logger.warn("Error durante la limpieza de elementos Konva:",e)}}static \u0275fac=function(t){return new(t||n)(tt(Fo))};static \u0275cmp=yn({type:n,selectors:[["app-certificate-form"]],viewQuery:function(t,r){if(t&1&&_w(r$,5),t&2){let i;Pf(i=Tf())&&(r.stageRef=i.first)}},hostBindings:function(t,r){t&1&&Qe("click",function(o){return r.onDocumentClick(o)},Y5)},decls:97,vars:10,consts:[["imageInput",""],["stage",""],["bgImageInput",""],["noElements",""],[1,"certificate-editor"],[1,"toolbar"],[1,"toolbar-group"],[1,"toolbar-title"],[1,"fas","fa-certificate"],[1,"dropdown"],["type","button","id","templatesDropdown","title","Plantillas","aria-label","Plantillas",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-th-large"],["aria-labelledby","templatesDropdown",1,"dropdown-menu"],[1,"dropdown-header"],[1,"fas","fa-star","text-warning"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"fas","fa-brain","text-success"],[1,"dropdown-divider"],[1,"fas","fa-graduation-cap"],[1,"fas","fa-certificate","text-primary"],[1,"fas","fa-microphone","text-success"],[1,"fas","fa-tools"],[1,"fas","fa-hammer","text-warning"],[1,"fas","fa-graduation-cap","text-info"],[1,"fas","fa-award"],[1,"fas","fa-trophy","text-danger"],["title","Insertar texto","aria-label","Insertar texto",1,"btn","btn-primary",3,"click"],[1,"fas","fa-font",2,"font-weight","bold","font-size","1.1em"],["type","file","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp","aria-label","Seleccionar imagen",2,"display","none",3,"change"],["title","Insertar imagen","aria-label","Insertar imagen",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-image"],["title","Mostrar/ocultar cuadr\xEDcula","aria-label","Cuadr\xEDcula",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-th"],["title","Alejar","aria-label","Alejar",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-search-minus"],[1,"zoom-display-compact"],["title","Acercar","aria-label","Acercar",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-search-plus"],["title","Ajustar al tama\xF1o","aria-label","Ajustar zoom",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-expand-arrows-alt"],["title","Eliminar elemento seleccionado","aria-label","Eliminar elemento",1,"btn","btn-warning",3,"click","disabled"],[1,"fas","fa-trash-alt"],["title","Limpiar todo el lienzo","aria-label","Limpiar todo",1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-eraser"],["title","Exportar como PDF","aria-label","Exportar PDF",1,"btn","btn-success",3,"click"],[1,"fas","fa-file-pdf"],["title","Exportar como imagen PNG","aria-label","Exportar PNG",1,"btn","btn-info",3,"click"],[1,"fas","fa-file-image"],[1,"main-content"],[1,"canvas-container"],[1,"canvas-wrapper"],[1,"konva-stage"],["class","properties-panel",4,"ngIf"],[1,"properties-panel"],[1,"panel-header"],[1,"fas","fa-sliders-h"],["title","Cerrar panel","aria-label","Cerrar panel",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"panel-content"],["class","property-group",4,"ngIf"],[1,"property-group"],[1,"fas","fa-fill-drip"],[1,"form-label"],[1,"fas","fa-palette"],["type","color","title","Color de fondo","aria-label","Color de fondo",1,"form-control","color-picker",3,"ngModelChange","change","ngModel"],["type","file","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp","aria-label","Imagen de fondo",1,"form-control",3,"change"],["class","btn btn-sm btn-outline-danger mt-2","title","Quitar imagen","aria-label","Quitar imagen",3,"click",4,"ngIf"],[1,"fas","fa-info-circle"],[1,"canvas-info"],[1,"info-item"],[1,"fas","fa-arrows-alt"],[1,"fas","fa-compass"],[1,"fas","fa-search"],[1,"fas","fa-layer-group"],["class","elements-list",4,"ngIf","ngIfElse"],[1,"fas","fa-font"],[1,"fas","fa-edit"],["placeholder","Texto...","rows","3","aria-label","Contenido",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"fas","fa-text-height"],["type","number","min","8","max","200","placeholder","24","aria-label","Tama\xF1o",1,"form-control",3,"ngModelChange","ngModel"],["aria-label","Fuente",1,"form-select",3,"ngModelChange","ngModel"],["value","Arial"],["value","Helvetica"],["value","Times New Roman"],["value","Georgia"],["value","Verdana"],["label","Google Fonts"],[3,"value",4,"ngFor","ngForOf"],["type","color","aria-label","Color",1,"form-control","color-picker",3,"ngModelChange","ngModel"],[1,"fas","fa-bold"],["aria-label","Estilo",1,"form-select",3,"ngModelChange","ngModel"],["value","normal"],["value","bold"],["value","italic"],[1,"fas","fa-align-left"],["aria-label","Alineaci\xF3n del texto",1,"form-select",3,"ngModelChange","ngModel"],["value","left"],["value","center"],["value","right"],[3,"value"],["title","Quitar imagen","aria-label","Quitar imagen",1,"btn","btn-sm","btn-outline-danger","mt-2",3,"click"],[1,"image-info"],[1,"text-muted","small"],[1,"elements-list"],["class","element-item",3,"selected","title","click",4,"ngFor","ngForOf"],[1,"element-item",3,"click","title"],[1,"element-icon"],[1,"fas"],[1,"element-content"],[1,"element-name"],[1,"element-details"],["title","Eliminar","aria-label","Eliminar",1,"btn","btn-sm","btn-outline-danger","element-delete",3,"click"],[1,"text-muted","text-center","py-3"],[1,"fas","fa-inbox","fa-2x","mb-2"]],template:function(t,r){if(t&1){let i=Rr();J(0,"div",4)(1,"div",5)(2,"div",6)(3,"h5",7),ke(4,"i",8),V(5," Editor "),ne()(),J(6,"div",6)(7,"div",9)(8,"button",10),Qe("click",function(){return ot(i),st(r.toggleTemplatesMenu())}),ke(9,"i",11),ne(),J(10,"ul",12)(11,"li")(12,"h6",13),ke(13,"i",14),V(14," Oficial "),ne()(),J(15,"li")(16,"a",15),Qe("click",function(){return ot(i),st(r.applyTemplate("potencial-humano-360"))}),ke(17,"i",16),J(18,"span"),V(19,"Potencial Humano 360"),ne()()(),J(20,"li"),ke(21,"hr",17),ne(),J(22,"li")(23,"h6",13),ke(24,"i",18),V(25," Participaci\xF3n "),ne()(),J(26,"li")(27,"a",15),Qe("click",function(){return ot(i),st(r.applyTemplate("participacion"))}),ke(28,"i",19),J(29,"span"),V(30,"General"),ne()()(),J(31,"li")(32,"a",15),Qe("click",function(){return ot(i),st(r.applyTemplate("ponencia"))}),ke(33,"i",20),J(34,"span"),V(35,"Ponencia"),ne()()(),J(36,"li"),ke(37,"hr",17),ne(),J(38,"li")(39,"h6",13),ke(40,"i",21),V(41," Talleres "),ne()(),J(42,"li")(43,"a",15),Qe("click",function(){return ot(i),st(r.applyTemplate("taller"))}),ke(44,"i",22),J(45,"span"),V(46,"Taller"),ne()()(),J(47,"li")(48,"a",15),Qe("click",function(){return ot(i),st(r.applyTemplate("capacitacion"))}),ke(49,"i",23),J(50,"span"),V(51,"Capacitaci\xF3n"),ne()()(),J(52,"li"),ke(53,"hr",17),ne(),J(54,"li")(55,"h6",13),ke(56,"i",24),V(57," Reconocimientos "),ne()(),J(58,"li")(59,"a",15),Qe("click",function(){return ot(i),st(r.applyTemplate("reconocimiento"))}),ke(60,"i",25),J(61,"span"),V(62,"Reconocimiento"),ne()()()()()(),J(63,"div",6)(64,"button",26),Qe("click",function(){return ot(i),st(r.addText())}),ke(65,"i",27),ne(),J(66,"input",28,0),Qe("change",function(s){return ot(i),st(r.onImageUpload(s))}),ne(),J(68,"button",29),Qe("click",function(){ot(i);let s=s1(67);return st(s.click())}),ke(69,"i",30),ne()(),J(70,"div",6)(71,"button",31),Qe("click",function(){return ot(i),st(r.toggleGrid())}),ke(72,"i",32),ne(),J(73,"button",33),Qe("click",function(){return ot(i),st(r.zoomOut())}),ke(74,"i",34),ne(),J(75,"span",35),V(76),ne(),J(77,"button",36),Qe("click",function(){return ot(i),st(r.zoomIn())}),ke(78,"i",37),ne(),J(79,"button",38),Qe("click",function(){return ot(i),st(r.zoomFit())}),ke(80,"i",39),ne()(),J(81,"div",6)(82,"button",40),Qe("click",function(){return ot(i),st(r.deleteSelected())}),ke(83,"i",41),ne(),J(84,"button",42),Qe("click",function(){return ot(i),st(r.clearCanvas())}),ke(85,"i",43),ne()(),J(86,"div",6)(87,"button",44),Qe("click",function(){return ot(i),st(r.exportToPDF())}),ke(88,"i",45),ne(),J(89,"button",46),Qe("click",function(){return ot(i),st(r.exportToPNG())}),ke(90,"i",47),ne()()(),J(91,"div",48)(92,"div",49)(93,"div",50),ke(94,"div",51,1),ne()(),fn(96,d$,48,11,"div",52),ne()()}t&2&&(je(8),ma("aria-expanded",r.showTemplatesMenu),je(2),Ti("show",r.showTemplatesMenu),je(61),Ti("active",r.showGrid),je(5),Dr("",r.getZoomPercentage(),"%"),je(6),kt("disabled",!r.selectedElement),je(12),a1("background-color",r.backgroundColor),je(2),kt("ngIf",r.showProperties))},dependencies:[no,vl,Uo,R6,P6,N6,fv,jC,gv,D6,UC,BC,FC,Hw],styles:[".certificate-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:#f8f9fa;outline:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#fff;border-bottom:1px solid #dee2e6;box-shadow:0 2px 4px #0000001a;flex-shrink:0}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin:0;font-size:1.1rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;margin-right:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:200px;font-size:.875rem;border-radius:.375rem;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select.form-select-sm[_ngcontent-%COMP%]{padding:.25rem 1.75rem .25rem .5rem;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;border-radius:.375rem;display:flex;align-items:center;gap:.25rem;transition:all .2s ease-in-out;font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd;color:#fff;box-shadow:0 2px 4px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:300px;max-height:450px;overflow-y:auto;border:1px solid #dee2e6;border-radius:.375rem;box-shadow:0 4px 20px #00000026;z-index:1000}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeInDown .2s ease-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:0;font-size:.75rem;font-weight:700;color:#495057;text-transform:uppercase;letter-spacing:.05em;background-color:#f8f9fa;border-bottom:1px solid #dee2e6;display:flex;align-items:center;gap:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;font-size:.875rem;color:#495057;text-decoration:none;border:none;background:none;width:100%;text-align:left;cursor:pointer;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#f8f9fa;color:#495057;transform:translate(4px)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;width:20px;text-align:center}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-primary[_ngcontent-%COMP%]{color:#0d6efd!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-success[_ngcontent-%COMP%]{color:#198754!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-warning[_ngcontent-%COMP%]{color:#ffc107!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-info[_ngcontent-%COMP%]{color:#0dcaf0!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:0;margin:.25rem 0;overflow:hidden;border-top:1px solid #dee2e6}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border-radius:.375rem;border:1px solid #dee2e6;box-shadow:inset 0 1px 2px #0000000d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]:hover{color:#0d6efd}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:140px;height:6px;background:linear-gradient(to right,#e9ecef,#dee2e6);border-radius:3px;outline:none;appearance:none;-webkit-appearance:none;cursor:pointer;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#dee2e6,#ced4da)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{appearance:none;width:20px;height:20px;background:linear-gradient(145deg,#fff,#f8f9fa);border:2px solid #0d6efd;border-radius:50%;cursor:pointer;transition:all .2s ease-in-out;box-shadow:0 2px 4px #0000001a}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{background:linear-gradient(145deg,#f8f9fa,#e9ecef);transform:scale(1.1);box-shadow:0 4px 8px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:active{transform:scale(.95)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:20px;height:20px;background:linear-gradient(145deg,#fff,#f8f9fa);border:2px solid #0d6efd;border-radius:50%;cursor:pointer;transition:all .2s ease-in-out;box-shadow:0 2px 4px #0000001a}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-moz-range-thumb:hover{background:linear-gradient(145deg,#f8f9fa,#e9ecef);transform:scale(1.1);box-shadow:0 4px 8px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#0d6efd;min-width:50px;text-align:center;padding:.25rem;background:#0d6efd1a;border-radius:4px;border:1px solid rgba(13,110,253,.2)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display-compact[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#0d6efd;min-width:45px;text-align:center;padding:.25rem .5rem;background:#0d6efd14;border-radius:3px;border:1px solid rgba(13,110,253,.15);margin:0 .25rem;display:inline-flex;align-items:center;justify-content:center}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;margin:0;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.4}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.main-content[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden}.canvas-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-start;justify-content:center;background:#e9ecef;padding:0rem 2rem 2rem;overflow:auto}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{background:#fff;box-shadow:0 4px 20px #00000026;border-radius:8px;padding:20px;margin-top:2rem;transform-origin:center center;transition:transform .2s ease}.konva-stage[_ngcontent-%COMP%]{border:2px solid #dee2e6;border-radius:4px;background:#fff;display:block;cursor:crosshair}.konva-stage.text-tool[_ngcontent-%COMP%]{cursor:text}.konva-stage.select-tool[_ngcontent-%COMP%]{cursor:default}.properties-panel[_ngcontent-%COMP%]{width:320px;background:#fff;border-left:1px solid #dee2e6;display:flex;flex-direction:column;box-shadow:-2px 0 10px #0000000d}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #dee2e6;background:linear-gradient(145deg,#fff,#f8f9fa)}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:700;margin:0;font-size:.95rem;display:flex;align-items:center}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;margin-right:.5rem;font-size:1rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{flex:1;padding:1rem;overflow-y:auto}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1rem;background:linear-gradient(145deg,#fff,#f8f9fa);border-radius:.375rem;border:1px solid #e9ecef;box-shadow:0 2px 4px #00000005}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-size:.9rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid #0d6efd;display:flex;align-items:center}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#0d6efd;font-size:1rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#495057;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.025em;display:flex;align-items:center;gap:.25rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d;font-size:.7rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.875rem;border-radius:.375rem;margin-bottom:.75rem;transition:all .2s ease-in-out;border:1px solid #ced4da}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40;transform:translateY(-1px)}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control.color-picker[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select.color-picker[_ngcontent-%COMP%]{height:40px;cursor:pointer}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control.color-picker[_ngcontent-%COMP%]:hover, .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select.color-picker[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;display:flex;align-items:center;justify-content:center;gap:.25rem;transition:all .2s ease-in-out;font-weight:500}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{padding:.35rem .75rem;font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 0;border-bottom:1px solid #f1f3f4}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:.9rem;width:16px;text-align:center}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#495057;font-weight:500}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem;border-radius:.375rem;border-left:4px solid #0dcaf0;margin:0}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto;border:1px solid #e9ecef;border-radius:.375rem;background:#fff}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #f1f3f4;cursor:pointer;transition:all .2s ease-in-out;display:flex;align-items:center;gap:.75rem;position:relative}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translate(2px)}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0d6efd,#0b5ed7);color:#fff;box-shadow:0 2px 4px #0d6efd4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{color:#fffc}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]{color:#fff;border-color:#ffffff4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]:hover{background-color:#fff3;border-color:#fff}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{flex-shrink:0;width:32px;height:32px;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid #dee2e6}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#0d6efd}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]{flex:1;min-width:0}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;margin-bottom:.25rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-weight:400}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]{flex-shrink:0;padding:.25rem .5rem;font-size:.7rem;opacity:0;transition:all .2s ease-in-out;border:1px solid transparent}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:hover   .element-delete[_ngcontent-%COMP%]{opacity:1}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff3,#ffffff1a);border-color:#ffffff4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.grid-line[_ngcontent-%COMP%]{pointer-events:none}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.w-100[_ngcontent-%COMP%]{width:100%!important}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #0d6efd66}70%{box-shadow:0 0 0 10px #0d6efd00}to{box-shadow:0 0 #0d6efd00}}.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@media (max-width: 1400px){.properties-panel[_ngcontent-%COMP%]{width:300px}}@media (max-width: 1200px){.properties-panel[_ngcontent-%COMP%]{width:280px}.canvas-container[_ngcontent-%COMP%]{padding:1rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 992px){.toolbar[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem;padding:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;margin-bottom:.25rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:180px;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:.95rem;text-align:center}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{min-width:fit-content;padding:.25rem .5rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:100px}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{min-width:45px;font-size:.75rem}.main-content[_ngcontent-%COMP%]{flex-direction:column}.properties-panel[_ngcontent-%COMP%]{width:100%;max-height:350px;order:-1;box-shadow:0 2px 10px #0000001a}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.75rem}.canvas-container[_ngcontent-%COMP%]{padding:2rem 1rem 1rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{margin-top:1rem}}@media (max-width: 768px){.toolbar[_ngcontent-%COMP%]{padding:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:160px;font-size:.75rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{padding:.125rem .25rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:80px}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{min-width:40px;font-size:.7rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.125rem .25rem;font-size:.7rem}.canvas-container[_ngcontent-%COMP%]{padding:1rem .5rem .5rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{padding:10px;margin-top:.5rem}.properties-panel[_ngcontent-%COMP%]{max-height:300px}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:.5rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{padding:.5rem;margin-bottom:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.7rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]{max-height:150px}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]{padding:.5rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{width:28px;height:28px}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 576px){.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.canvas-container[_ngcontent-%COMP%]{padding:.25rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{padding:5px}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem}}@media print{.toolbar[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]{display:none!important}.canvas-container[_ngcontent-%COMP%]{padding:0!important;background:#fff!important}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{box-shadow:none!important;border-radius:0!important;padding:0!important}}"]})};var YP=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var zp=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},Ky=class extends zp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},qp=class extends zp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Gp=class extends zp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},u3=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(u3||{});var g$=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},$p=class{constructor(e,{headers:t={},customFetch:r,region:i=u3.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=YP(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return g$(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region);let c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(a["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(a["Content-Type"]="application/json",d=JSON.stringify(s)));let h=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(_=>{throw new Ky(_)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new qp(h);if(!h.ok)throw new Gp(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield h.json():p==="application/octet-stream"?y=yield h.blob():p==="text/event-stream"?y=h:p==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Gp||i instanceof qp?i.context:void 0}}})}};var aT=cS(sT(),1),{PostgrestClient:lT,PostgrestQueryBuilder:afe,PostgrestFilterBuilder:lfe,PostgrestTransformBuilder:cfe,PostgrestBuilder:ufe,PostgrestError:M$}=aT.default;function cT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var uT=cT();var dT="2.11.15";var hT=`realtime-js/${dT}`,fT="1.0.0";var Qy=1e4,pT=1e3,Qp=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Qp||{}),Xr=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Xr||{}),co=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(co||{}),C3=function(n){return n.websocket="websocket",n}(C3||{}),Vc=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Vc||{});var e2=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let l=r.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var ah=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Dn=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Dn||{}),S3=(n,e,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=I$(s,n,e,i),o),{})},I$=(n,e,t,r)=>{let i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?gT(o,s):E3(s)},gT=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return N$(e,t)}switch(n){case Dn.bool:return A$(e);case Dn.float4:case Dn.float8:case Dn.int2:case Dn.int4:case Dn.int8:case Dn.numeric:case Dn.oid:return P$(e);case Dn.json:case Dn.jsonb:return T$(e);case Dn.timestamp:return O$(e);case Dn.abstime:case Dn.date:case Dn.daterange:case Dn.int4range:case Dn.int8range:case Dn.money:case Dn.reltime:case Dn.text:case Dn.time:case Dn.timestamptz:case Dn.timetz:case Dn.tsrange:case Dn.tstzrange:return E3(e);default:return E3(e)}},E3=n=>n,A$=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},P$=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},T$=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},N$=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>gT(e,a))}return n},O$=n=>typeof n=="string"?n.replace(" ","T"):n,t2=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};var lh=class{constructor(e,t,r={},i=Qy){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var eg=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{let h=o[c];if(h){let m=d.map(C=>C.presence_ref),p=h.map(C=>C.presence_ref),y=d.filter(C=>p.indexOf(C.presence_ref)<0),_=h.filter(C=>m.indexOf(C.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){let h=e[a].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...m)}r(a,d,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ja=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(ja||{});var tg=class n{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new lh(this,co.join,this.params,this.timeout),this.rejoinTimer=new ah(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(co.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new eg(this),this.broadcastEndpointURL=t2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xr.closed){let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(d=>e?.(ja.CHANNEL_ERROR,d)),this._onClose(()=>e?.(ja.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",h=>ie(this,[h],function*({postgres_changes:d}){var m;if(this.socket.setAuth(),d===void 0){e?.(ja.SUBSCRIBED);return}else{let p=this.bindings.postgres_changes,y=(m=p?.length)!==null&&m!==void 0?m:0,_=[];for(let C=0;C<y;C++){let w=p[C],{filter:{event:x,schema:O,table:k,filter:H}}=w,Q=d&&d[C];if(Q&&Q.event===x&&Q.schema===O&&Q.table===k&&Q.filter===H)_.push(Object.assign(Object.assign({},w),{id:Q.id}));else{this.unsubscribe(),this.state=Xr.errored,e?.(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ja.SUBSCRIBED);return}})).receive("error",d=>{this.state=Xr.errored,e?.(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return ie(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return ie(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(r){return ie(this,arguments,function*(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xr.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(co.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new lh(this,co.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,t,r){return ie(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lh(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=co;if(r&&[a,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,_,C;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(_=p.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(p=>p.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(p=>{var y,_,C,w,x,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){let k=p.id,H=(y=p.filter)===null||y===void 0?void 0:y.event;return k&&((_=t.ids)===null||_===void 0?void 0:_.includes(k))&&(H==="*"||H?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let k=(x=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((O=t?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof m=="object"&&"ids"in m){let y=m.data,{schema:_,table:C,commit_timestamp:w,type:x,errors:O}=y;m=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:w,eventType:x,new:{},old:{},errors:O}),this._getPayloadRecords(y))}p.callback(m,r)})}_isClosed(){return this.state===Xr.closed}_isJoined(){return this.state===Xr.joined}_isJoining(){return this.state===Xr.joining}_isLeaving(){return this.state===Xr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(co.close,{},e)}_onError(e){this._on(co.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=S3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=S3(e.columns,e.old_record)),t}};var mT=()=>{},R$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ng=class{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mT,this.ref=0,this.logger=mT,this.conn=null,this.sendBuffer=[],this.serializer=new e2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${C3.websocket}`,this.httpEndpoint=t2(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ah(()=>ie(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=uT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fT}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(e){return ie(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return ie(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qp.connecting:return Vc.Connecting;case Qp.open:return Vc.Open;case Qp.closing:return Vc.Closing;default:return Vc.Closed}}isConnected(){return this.connectionState()===Vc.Open}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new tg(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){let{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return ie(this,null,function*(){let t=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let i={access_token:t,version:hT};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(co.access_token,{access_token:t})}))})}sendHeartbeat(){return ie(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(pT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(co.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([R$],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var ch=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function hr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var n2=class extends ch{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Hc=class extends ch{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var L$=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},i2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},vT=()=>L$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),r2=n=>{if(Array.isArray(n))return n.map(t=>r2(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=r2(r)}),e};var zc=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},x3=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),F$=(n,e,t)=>zc(void 0,void 0,void 0,function*(){let r=yield vT();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{e(new n2(x3(i),n.status||500))}).catch(i=>{e(new Hc(x3(i),i))}):e(new Hc(x3(n),n))}),j$=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function rg(n,e,t,r,i,o){return zc(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,j$(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>F$(l,a,r))})})}function uh(n,e,t,r){return zc(this,void 0,void 0,function*(){return rg(n,"GET",e,t,r)})}function js(n,e,t,r,i){return zc(this,void 0,void 0,function*(){return rg(n,"POST",e,r,i,t)})}function yT(n,e,t,r,i){return zc(this,void 0,void 0,function*(){return rg(n,"PUT",e,r,i,t)})}function bT(n,e,t,r){return zc(this,void 0,void 0,function*(){return rg(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function o2(n,e,t,r,i){return zc(this,void 0,void 0,function*(){return rg(n,"DELETE",e,r,i,t)})}var wi=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},B$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_T={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},s2=class{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=i2(i)}uploadOrUpdate(e,t,r,i){return wi(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},_T),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),m=yield h.json();return h.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(hr(o))return{data:null,error:o};throw o}})}upload(e,t,r){return wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return wi(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:_T.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);let h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),m=yield h.json();return h.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(hr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return wi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield js(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new ch("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}update(e,t,r){return wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return wi(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}copy(e,t,r){return wi(this,void 0,void 0,function*(){try{return{data:{path:(yield js(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return wi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield js(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return wi(this,void 0,void 0,function*(){try{let i=yield js(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}download(e,t){return wi(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield uh(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(hr(a))return{data:null,error:a};throw a}})}info(e){return wi(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield uh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:r2(r),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}exists(e){return wi(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield bT(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(hr(r)&&r instanceof Hc){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return wi(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}list(e,t,r){return wi(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},B$),t),{prefix:e||""});return{data:yield js(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};var wT="2.7.1";var CT={"X-Client-Info":`storage-js/${wT}`};var dh=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},a2=class{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},CT),t),this.fetch=i2(r)}listBuckets(){return dh(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(hr(e))return{data:null,error:e};throw e}})}getBucket(e){return dh(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return dh(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return dh(this,void 0,void 0,function*(){try{return{data:yield yT(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return dh(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return dh(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}};var ig=class extends a2{constructor(e,t={},r){super(e,t,r)}from(e){return new s2(this.url,this.headers,e,this.fetch)}};var ET="2.52.1";var og="";typeof Deno<"u"?og="deno":typeof document<"u"?og="web":typeof navigator<"u"&&navigator.product==="ReactNative"?og="react-native":og="node";var U$={"X-Client-Info":`supabase-js-${og}/${ET}`},ST={headers:U$},xT={schema:"public"},DT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MT={};hS();var V$=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},H$=n=>{let e;return n?e=n:typeof fetch>"u"?e=uS:e=fetch,(...t)=>e(...t)},z$=()=>typeof Headers>"u"?dS:Headers,IT=(n,e,t)=>{let r=H$(t),i=z$();return(o,s)=>V$(void 0,void 0,void 0,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var q$=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function AT(n){return n.endsWith("/")?n:n+"/"}function PT(n,e){var t,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(t=h?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>q$(this,void 0,void 0,function*(){return""})};return n.accessToken?m.accessToken=n.accessToken:delete m.accessToken,m}var l2="2.71.1";var qc=30*1e3,c2=3,u2=c2*qc,TT="http://localhost:9999",NT="supabase.auth.token";var OT={"X-Client-Info":`gotrue-js/${l2}`};var sg="X-Supabase-Api-Version",D3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RT=10*60*1e3;var ag=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function xt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var d2=class extends ag{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function LT(n){return xt(n)&&n.name==="AuthApiError"}var hh=class extends ag{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Bs=class extends ag{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}},uo=class extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function FT(n){return xt(n)&&n.name==="AuthSessionMissingError"}var Gc=class extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},$c=class extends Bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Wc=class extends Bs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function jT(n){return xt(n)&&n.name==="AuthImplicitGrantRedirectError"}var lg=class extends Bs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},fh=class extends Bs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function h2(n){return xt(n)&&n.name==="AuthRetryableFetchError"}var cg=class extends Bs{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var Yc=class extends Bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var f2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BT=` 	
\r=`.split(""),G$=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<BT.length;e+=1)n[BT[e].charCodeAt(0)]=-2;for(let e=0;e<f2.length;e+=1)n[f2[e].charCodeAt(0)]=e;return n})();function UT(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(f2[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(f2[r]),e.queuedBits-=6}}function VT(n,e,t){let r=G$[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function M3(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{Y$(s,r,t)};for(let s=0;s<n.length;s+=1)VT(n.charCodeAt(s),i,o);return e.join("")}function $$(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function W$(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}$$(r,e)}}function Y$(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function HT(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)VT(n.charCodeAt(i),t,r);return new Uint8Array(e)}function zT(n){let e=[];return W$(n,t=>e.push(t)),new Uint8Array(e)}function qT(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>UT(i,t,r)),UT(null,t,r),e.join("")}function GT(n){return Math.round(Date.now()/1e3)+n}function $T(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var ho=()=>typeof window<"u"&&typeof document<"u",Kc={tested:!1,writable:!1},p2=()=>{if(!ho())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kc.tested)return Kc.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Kc.tested=!0,Kc.writable=!0}catch{Kc.tested=!0,Kc.writable=!1}return Kc.writable};function WT(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}var g2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},YT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Xc=(n,e,t)=>ie(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),Rl=(n,e)=>ie(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Ba=(n,e)=>ie(null,null,function*(){yield n.removeItem(e)}),ug=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};ug.promiseConstructor=Promise;function m2(n){let e=n.split(".");if(e.length!==3)throw new Yc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kT.test(e[r]))throw new Yc("JWT not in base64url format");return{header:JSON.parse(M3(e[0])),payload:JSON.parse(M3(e[1])),signature:HT(e[2]),raw:{header:e[0],payload:e[1]}}}function KT(n){return ie(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function XT(n,e){return new Promise((r,i)=>{ie(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function K$(n){return("0"+n.toString(16)).substr(-2)}function X$(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,K$).join("")}function Z$(n){return ie(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function J$(n){return ie(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield Z$(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Zc(n,e,t=!1){return ie(this,null,function*(){let r=X$(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield Xc(n,`${e}-code-verifier`,i);let o=yield J$(r);return[o,r===o?"plain":"s256"]})}var Q$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZT(n){let e=n.headers.get(sg);if(!e||!e.match(Q$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JT(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function QT(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var eW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jc(n){if(!eW.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function v2(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function I3(n){return JSON.parse(JSON.stringify(n))}var tW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Qc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),nW=[502,503,504];function eN(n){return ie(this,null,function*(){var e;if(!YT(n))throw new fh(Qc(n),0);if(nW.includes(n.status))throw new fh(Qc(n),n.status);let t;try{t=yield n.json()}catch(o){throw new hh(Qc(o),o)}let r,i=ZT(n);if(i&&i.getTime()>=D3["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new cg(Qc(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new uo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new cg(Qc(t),n.status,t.weak_password.reasons);throw new d2(Qc(t),n.status||500,r)})}var rW=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Ft(n,e,t,r){return ie(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[sg]||(o[sg]=D3["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield iW(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function iW(n,e,t,r,i,o){return ie(this,null,function*(){let s=rW(e,r,i,o),a;try{a=yield n(t,Object.assign({},s))}catch(l){throw console.error(l),new fh(Qc(l),0)}if(a.ok||(yield eN(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield eN(l)}})}function Us(n){var e;let t=null;oW(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=GT(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function A3(n){let e=Us(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Vs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function tN(n){return{data:n,error:null}}function nN(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=tW(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function rN(n){return n}function oW(n){return n.access_token&&n.refresh_token&&n.expires_in}var y2=["global","local","others"];var sW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},ph=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=g2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return ie(this,arguments,function*(e,t=y2[0]){if(y2.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${y2.join(", ")}`);try{return yield Ft(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return ie(this,arguments,function*(e,t={}){try{return yield Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Vs})}catch(i){if(xt(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return ie(this,null,function*(){try{let{options:t}=e,r=sW(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nN,redirectTo:t?.redirectTo})}catch(t){if(xt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return ie(this,null,function*(){try{return yield Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vs})}catch(t){if(xt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return ie(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},d=yield Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:rN});if(d.error)throw d.error;let h=yield d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(xt(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return ie(this,null,function*(){Jc(e);try{return yield Ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vs})}catch(t){if(xt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return ie(this,null,function*(){Jc(e);try{return yield Ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Vs})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return ie(this,null,function*(){Jc(e);try{return yield Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Vs})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return ie(this,null,function*(){Jc(e.userId);try{let{data:t,error:r}=yield Ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return ie(this,null,function*(){Jc(e.userId),Jc(e.id);try{return{data:yield Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}};function P3(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function iN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var eu={debug:!!(globalThis&&p2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},dg=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},b2=class extends dg{};function T3(n,e,t){return ie(this,null,function*(){eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),eu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>ie(null,null,function*(){if(i){eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield t()}finally{eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new b2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(eu.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}iN();var aW={url:TT,storageKey:NT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function oN(n,e,t){return ie(this,null,function*(){return yield t()})}var gh={},N3=(()=>{class n{constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&ho()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},aW),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ph({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=g2(o.fetch),this.lock=o.lock||oN,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ho()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=T3:this.lock=oN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:p2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=P3(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=P3(this.memoryStorage)),ho()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>ie(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=gh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){gh[this.storageKey]=Object.assign(Object.assign({},gh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=gh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gh[this.storageKey]=Object.assign(Object.assign({},gh[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${l2}) ${new Date().toISOString()}`,...t),this}initialize(){return ie(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=ie(this,null,function*(){return yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return ie(this,null,function*(){var t;try{let r=WT(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),ho()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),jT(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>ie(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return xt(r)?{error:r}:{error:new hh("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return ie(this,null,function*(){var r,i,o;try{let s=yield Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Us}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return ie(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:h,password:m,options:p}=t,y=null,_=null;this.flowType==="pkce"&&([y,_]=yield Zc(this.storage,this.storageKey)),s=yield Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:m,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:_},xform:Us})}else if("phone"in t){let{phone:h,password:m,options:p}=t;s=yield Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(i=p?.data)!==null&&i!==void 0?i:{},channel:(o=p?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Us})}else throw new $c("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return ie(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:A3})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:A3})}else throw new $c("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Gc}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return ie(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return ie(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>ie(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return ie(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return ie(this,null,function*(){var r,i,o,s,a,l,c,d,h,m,p,y;let _,C;if("message"in t)_=t.message,C=t.signature;else{let{chain:w,wallet:x,statement:O,options:k}=t,H;if(ho())if(typeof x=="object")H=x;else{let q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))H=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=x}let Q=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in H&&H.signIn){let q=yield H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),O?{statement:O}:null)),j;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")j=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)j=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)_=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),C=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Q.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(o=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=k?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(h=k?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);let q=yield H.signMessage(new TextEncoder().encode(_),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=q}}try{let{data:w,error:x}=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:qT(C)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Us});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Gc}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(xt(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(t){return ie(this,null,function*(){let r=yield Rl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Us});if(yield Ba(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Gc}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(xt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return ie(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Us}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Gc}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return ie(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,d=null,h=null;this.flowType==="pkce"&&([d,h]=yield Zc(this.storage,this.storageKey));let{error:m}=yield Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){let{phone:l,options:c}=t,{data:d,error:h}=yield Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new $c("You must provide either an email or phone number.")}catch(l){if(xt(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return ie(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Us});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,d=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(xt(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return ie(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Zc(this.storage,this.storageKey)),yield Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:tN})}catch(s){if(xt(s))return{data:null,error:s};throw s}})}reauthenticate(){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return ie(this,null,function*(){try{return yield this._useSession(t=>ie(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new uo;let{error:o}=yield Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return ie(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield Ft(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield Ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new $c("You must provide either an email or phone number and a type")}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return this._useSession(r=>ie(this,null,function*(){return r}))}))})}_acquireLock(t,r){return ie(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=ie(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(ie(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>ie(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(ie(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return ie(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return ie(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Rl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<u2:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield Rl(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=v2()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return ie(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return ie(this,null,function*(){try{return t?yield Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vs}):yield this._useSession(r=>ie(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new uo}:yield Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Vs})}))}catch(r){if(xt(r))return FT(r)&&(yield this._removeSession(),yield Ba(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return ie(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return ie(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>ie(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new uo;let l=s.session,c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=yield Zc(this.storage,this.storageKey));let{data:h,error:m}=yield Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Vs});if(m)throw m;return l.user=h.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(xt(o))return{data:{user:null},error:o};throw o}})}setSession(t){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return ie(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new uo;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=m2(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(xt(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new uo;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return ie(this,null,function*(){try{if(!ho())throw new Wc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lg("No code detected.");let{data:O,error:k}=yield this._exchangeCodeForSession(t.code);if(k)throw k;let H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:O.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!s||!l||!a||!d)throw new Wc("No session defined in URL");let h=Math.round(Date.now()/1e3),m=parseInt(l),p=h+m;c&&(p=parseInt(c));let y=p-h;y*1e3<=qc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);let _=p-m;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,h);let{data:C,error:w}=yield this._getUser(s);if(w)throw w;let x={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:p,refresh_token:a,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(i){if(xt(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return ie(this,null,function*(){let r=yield Rl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return ie(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return ie(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>ie(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(LT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield Ba(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=$T(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),ie(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return ie(this,null,function*(){return yield this._useSession(r=>ie(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return ie(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Zc(this.storage,this.storageKey,!0));try{return yield Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(xt(a))return{data:null,error:a};throw a}})}getUserIdentities(){return ie(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}linkIdentity(t){return ie(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>ie(this,null,function*(){var a,l,c,d,h;let{data:m,error:p}=s;if(p)throw p;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Ft(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})}));if(o)throw o;return ho()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(xt(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield Ft(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return ie(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield XT(o=>ie(this,null,function*(){return o>0&&(yield KT(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Us})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&h2(s)&&Date.now()+a-i<qc})}catch(i){if(this._debug(r,"error",i),xt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return ie(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),ho()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return ie(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Rl(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Rl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Xc(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:v2()}else if(o&&!o.user&&!o.user){let a=yield Rl(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Ba(this.storage,this.storageKey+"-user"),yield Xc(this.storage,this.storageKey,o)):o.user=v2()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<u2;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${u2}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),h2(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return ie(this,null,function*(){var r,i;if(!t)throw new uo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ug;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new uo;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),xt(s)){let a={session:null,error:s};return h2(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return ie(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>ie(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return ie(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Xc(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=I3(o);yield Xc(this.storage,this.storageKey,s)}else{let o=I3(r);yield Xc(this.storage,this.storageKey,o)}})}_removeSession(){return ie(this,null,function*(){this._debug("#_removeSession()"),yield Ba(this.storage,this.storageKey),yield Ba(this.storage,this.storageKey+"-code-verifier"),yield Ba(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ba(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ho()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return ie(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),qc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>ie(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return ie(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return ie(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return ie(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return ie(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>ie(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>ie(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/qc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${qc}ms, refresh threshold is ${c2} ticks`),o<=c2&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof dg)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return ie(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ho()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>ie(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return ie(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return ie(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Zc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Ft(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}})}_enroll(t){return ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=yield Ft(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}})}_verify(t){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}}))})}_challenge(t){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(xt(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return ie(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return ie(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._useSession(t=>ie(this,null,function*(){var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=m2(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}))})}fetchJwk(i){return ie(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+RT>s)return o;let{data:a,error:l}=yield Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return ie(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:_,error:C}=yield this.getSession();if(C||!_.session)return{data:null,error:C};o=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:d}}=m2(o);r?.allowExpired||JT(a.exp);let h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){let{error:_}=yield this.getUser(o);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let m=QT(s.alg),p=yield crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!(yield crypto.subtle.verify(m,p,l,zT(`${c}.${d}`))))throw new Yc("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(xt(o))return{data:null,error:o};throw o}})}}return n.nextInstanceID=0,n})();var lW=N3,O3=lW;var _2=class extends O3{constructor(e){super(e)}};var cW=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},w2=class{constructor(e,t,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=AT(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:xT,realtime:MT,auth:Object.assign(Object.assign({},DT),{storageKey:c}),global:ST},h=PT(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=IT(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new lT(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new $p(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ig(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return cW(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _2({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ng(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var sN=(n,e,t)=>new w2(n,e,t);function uW(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;let n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}uW()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var mh=class n{supabase=null;_user=new En(null);_session=new En(null);_isLoggedIn=new En(!1);_currentUser=new En(null);constructor(){if(!lo.supabase.url||!lo.supabase.anonKey){console.warn("Supabase no est\xE1 configurado. Verifica environment.supabase");return}this.supabase=sN(lo.supabase.url,lo.supabase.anonKey),this.supabase.auth.onAuthStateChange((e,t)=>{console.log("Auth state changed:",e,t?.user?.email||"no user"),this._session.next(t),this._user.next(t?.user??null),this._isLoggedIn.next(!!t),t?.user?this.setCurrentUser(t.user):this._currentUser.next(null)}),this.getSession()}isConfigured(){return!!(lo.supabase.url&&lo.supabase.anonKey)}get user$(){return this._user.asObservable()}get session$(){return this._session.asObservable()}get isLoggedIn$(){return this._isLoggedIn.asObservable()}get currentUser$(){return this._currentUser.asObservable()}get user(){return this._user.value}get session(){return this._session.value}get isLoggedIn(){return this._isLoggedIn.value}get currentUser(){return this._currentUser.value}signInWithGitHub(){return ie(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{data:e,error:t}=yield this.supabase.auth.signInWithOAuth({provider:"github",options:{redirectTo:lo.auth.supabase.redirectTo,scopes:"user:email"}});return t?(console.error("Error al iniciar sesi\xF3n con GitHub:",t),{error:t}):{error:null}}catch(e){return console.error("Error inesperado al iniciar sesi\xF3n:",e),{error:e}}})}signOut(){return ie(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{error:e}=yield this.supabase.auth.signOut();return e?(console.error("Error al cerrar sesi\xF3n:",e),{error:e}):(this._user.next(null),this._session.next(null),this._isLoggedIn.next(!1),this._currentUser.next(null),{error:null})}catch(e){return console.error("Error inesperado al cerrar sesi\xF3n:",e),{error:e}}})}getSession(){return ie(this,null,function*(){if(!this.supabase)return console.warn("Supabase no est\xE1 configurado para obtener sesi\xF3n"),null;try{let{data:{session:e},error:t}=yield this.supabase.auth.getSession();return t?(console.error("Error al obtener sesi\xF3n:",t),null):(this._session.next(e),this._user.next(e?.user??null),this._isLoggedIn.next(!!e),e?.user&&this.setCurrentUser(e.user),e)}catch(e){return console.error("Error inesperado al obtener sesi\xF3n:",e),null}})}refreshSession(){return ie(this,null,function*(){if(!this.supabase)return console.warn("Supabase no est\xE1 configurado para refrescar sesi\xF3n"),null;try{let{data:{session:e},error:t}=yield this.supabase.auth.refreshSession();return t?(console.error("Error al refrescar sesi\xF3n:",t),null):(this._session.next(e),this._user.next(e?.user??null),this._isLoggedIn.next(!!e),e)}catch(e){return console.error("Error inesperado al refrescar sesi\xF3n:",e),null}})}getUserProfile(){return ie(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)throw new Error("No hay token de proveedor disponible");let t=yield fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"}});if(!t.ok)throw new Error(`Error al obtener perfil: ${t.status}`);return yield t.json()}catch(e){return console.error("Error al obtener perfil de usuario:",e),null}})}getUserEmails(){return ie(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)throw new Error("No hay token de proveedor disponible");let t=yield fetch("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"}});if(!t.ok)throw new Error(`Error al obtener emails: ${t.status}`);return(yield t.json()).map(i=>i.email)}catch(e){return console.error("Error al obtener emails de usuario:",e),[]}})}setCurrentUser(e){return ie(this,null,function*(){try{let t=yield this.getUserEmails(),r=e.email||t[0];if(!r){console.warn("No se pudo obtener el email del usuario"),this._currentUser.next(null);return}console.log("Creando perfil de usuario autenticado:",r);let i={email:r,role:"admin",permissions:["certificate","management"],displayName:e.user_metadata?.full_name||e.user_metadata?.name||e.user_metadata?.user_name||r};console.log("Usuario creado:",i),this._currentUser.next(i)}catch(t){console.error("Error al crear perfil de usuario:",t),this._currentUser.next(null)}})}hasPermission(e){return this._currentUser.value?.permissions.includes(e)??!1}hasRole(e){return this._currentUser.value?.role===e}getAuthState(){return{user:this._user.value,session:this._session.value,isLoggedIn:this._isLoggedIn.value,currentUser:this._currentUser.value}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})};var Hs=class n{config;constructor(){this.config=lo}get supabase(){return{url:this.getEnvVar("SUPABASE_URL",this.config.supabase?.url),anonKey:this.getEnvVar("SUPABASE_ANON_KEY",this.config.supabase?.anonKey),enabled:this.config.auth?.supabase?.enabled??!1}}get auth(){return{supabase:this.supabase,redirectUrl:this.getEnvVar("AUTH_REDIRECT_URL",this.config.auth?.supabase?.redirectTo),security:this.config.auth?.security||{}}}get isDevelopment(){return this.config.developmentMode||!this.config.production}get isProduction(){return this.config.production}getEnvVar(e,t){return typeof window<"u"&&window.env?window.env[e]||t||"":t||""}validateConfig(){let e=[];return this.supabase.url||e.push("Supabase URL no configurada"),this.supabase.anonKey||e.push("Supabase anonymous key no configurada"),this.supabase.enabled&&(!this.supabase.url||!this.supabase.anonKey)&&e.push("Supabase habilitado pero mal configurado"),this.isProduction&&this.isDevelopment&&e.push("Configuraci\xF3n inv\xE1lida: no puede ser producci\xF3n y desarrollo"),{isValid:e.length===0,errors:e}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})};var zs=class n{notifications=new En([]);get notifications$(){return this.notifications.asObservable()}generateId(){return Math.random().toString(36).substring(2)+Date.now().toString(36)}show(e){let t=this.generateId(),r=vt(De({},e),{id:t,duration:e.duration??5e3}),i=this.notifications.value;return this.notifications.next([...i,r]),!r.persistent&&r.duration&&setTimeout(()=>{this.remove(t)},r.duration),t}remove(e){let t=this.notifications.value;this.notifications.next(t.filter(r=>r.id!==e))}clear(){this.notifications.next([])}success(e,t,r){return this.show(De({type:"success",title:e,message:t},r))}error(e,t,r){return this.show(De({type:"error",title:e,message:t,duration:7e3},r))}warning(e,t,r){return this.show(De({type:"warning",title:e,message:t},r))}info(e,t,r){return this.show(De({type:"info",title:e,message:t},r))}authError(e,t=!1){return this.error("Error de Autenticaci\xF3n",e,{persistent:t,action:t?{label:"Reintentar",callback:()=>window.location.reload()}:void 0})}authSuccess(e){return this.success("Acceso Autorizado",`Bienvenido, ${e}. Has iniciado sesi\xF3n correctamente.`)}authBlocked(e){return this.error("Cuenta Bloqueada",`Demasiados intentos fallidos. Intenta de nuevo en ${e} minutos.`,{persistent:!0,duration:1e4})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})};var S2=class n{constructor(e){this.notificationService=e}retryConfig={maxRetries:3,initialDelay:1e3,maxDelay:1e4,backoffMultiplier:2};createAuthError(e,t,r,i){let s={network:{retryable:!0,userMessage:"Error de conexi\xF3n. Verifica tu internet e intenta de nuevo."},auth:{retryable:!1,userMessage:"Error de autenticaci\xF3n. Verifica tus credenciales."},permission:{retryable:!1,userMessage:"No tienes permisos para acceder a este recurso."},configuration:{retryable:!1,userMessage:"Error de configuraci\xF3n. Contacta al administrador."},lockout:{retryable:!0,userMessage:"Cuenta temporalmente bloqueada por seguridad."}}[e];return{type:e,code:t,message:r,details:i,retryable:s.retryable,userMessage:s.userMessage}}handleAuthError(e,t){switch(console.error(`Auth Error [${t}]:`,e),e.type){case"network":this.notificationService.authError(e.userMessage,e.retryable);break;case"auth":this.notificationService.error("Error de Autenticaci\xF3n",e.userMessage);break;case"permission":this.notificationService.warning("Acceso Denegado",e.userMessage);break;case"configuration":this.notificationService.error("Error de Configuraci\xF3n",e.userMessage,{persistent:!0});break;case"lockout":let r=this.calculateLockoutTime(e.details?.lockoutUntil);this.notificationService.authBlocked(r);break;default:this.notificationService.error("Error Desconocido","Ha ocurrido un error inesperado.")}}withRetry(e,t="network",r){return ie(this,null,function*(){let i=De(De({},this.retryConfig),r),o;for(let s=0;s<=i.maxRetries;s++)try{return yield e()}catch(a){if(o=a,s===i.maxRetries){let c=this.createAuthError(t,"RETRY_EXHAUSTED",`Operaci\xF3n fall\xF3 despu\xE9s de ${i.maxRetries} intentos`,{originalError:a,attempts:s+1});throw this.handleAuthError(c,"withRetry"),c}let l=Math.min(i.initialDelay*Math.pow(i.backoffMultiplier,s),i.maxDelay);console.log(`Intento ${s+1} fall\xF3, reintentando en ${l}ms...`,a),yield this.delay(l)}throw o})}delay(e){return new Promise(t=>setTimeout(t,e))}calculateLockoutTime(e){if(!e)return 0;let t=Math.max(0,e-Date.now());return Math.ceil(t/6e4)}handleSupabaseError(e,t){return e?e.name==="NetworkError"||e.code==="NETWORK_ERROR"?this.createAuthError("network","NETWORK_ERROR","Error de conexi\xF3n con el servidor",e):e.message?.includes("Invalid API key")||e.message?.includes("Invalid URL")?this.createAuthError("configuration","INVALID_CONFIG","Configuraci\xF3n de Supabase inv\xE1lida",e):e.message?.includes("OAuth")||e.error==="access_denied"?this.createAuthError("auth","OAUTH_ERROR","Error en autenticaci\xF3n con GitHub",e):this.createAuthError("auth",e.error||"AUTH_ERROR",e.message||"Error de autenticaci\xF3n",e):this.createAuthError("auth","UNKNOWN","Error desconocido")}static \u0275fac=function(t){return new(t||n)(Ye(zs))};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ll=class n{constructor(e){this.configService=e;this.sessionId=this.generateSessionId(),this.initializeMonitoring()}events=[];MAX_EVENTS=1e3;sessionId;generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substring(2)}`}initializeMonitoring(){this.loadStoredEvents(),setInterval(()=>{this.cleanupOldEvents()},60*60*1e3)}loadStoredEvents(){try{let e=localStorage.getItem("auth_events");e&&(this.events=JSON.parse(e))}catch(e){console.warn("Error loading stored auth events:",e),this.events=[]}}saveEvents(){try{let e=this.events.slice(-100);localStorage.setItem("auth_events",JSON.stringify(e))}catch(e){console.warn("Error saving auth events:",e)}}cleanupOldEvents(){let e=Date.now()-864e5;this.events=this.events.filter(t=>t.timestamp>e),this.events.length>this.MAX_EVENTS&&(this.events=this.events.slice(-this.MAX_EVENTS)),this.saveEvents()}logAuthEvent(e,t,r){let i={type:e,timestamp:Date.now(),userEmail:r,userAgent:navigator.userAgent,sessionId:this.sessionId,details:t};this.events.push(i),this.saveEvents(),console.log("\u{1F510} Auth Event:",{type:i.type,user:r||"anonymous",timestamp:new Date(i.timestamp).toISOString()}),this.detectSuspiciousActivity(i),this.configService.isProduction&&this.sendToAnalytics(i)}detectSuspiciousActivity(e){let t=this.getRecentEvents(3e5),r=t.filter(o=>o.type==="login_failure"&&o.userAgent===e.userAgent);r.length>=3&&this.logAuthEvent("suspicious_activity",{reason:"multiple_login_failures",attempts:r.length,timeWindow:"5_minutes"});let i=new Set(t.map(o=>o.userAgent));i.size>2&&this.logAuthEvent("suspicious_activity",{reason:"multiple_user_agents",userAgents:Array.from(i).length})}sendToAnalytics(e){typeof window<"u"&&window.gtag&&window.gtag("event",e.type,{custom_parameter_1:e.userEmail,custom_parameter_2:e.sessionId})}getSecurityMetrics(){let e=Date.now()-864e5,t=this.events.filter(i=>i.timestamp>e),r=new Set(t.filter(i=>i.userEmail).map(i=>i.userEmail)).size;return{totalLoginAttempts:t.filter(i=>i.type==="login_attempt").length,successfulLogins:t.filter(i=>i.type==="login_success").length,failedLogins:t.filter(i=>i.type==="login_failure").length,accountLockouts:t.filter(i=>i.type==="account_locked").length,accessDenials:t.filter(i=>i.type==="access_denied").length,uniqueUsers:r,suspiciousActivity:t.filter(i=>i.type==="suspicious_activity").length}}getRecentEvents(e=60*60*1e3){let t=Date.now()-e;return this.events.filter(r=>r.timestamp>t)}exportEvents(){return JSON.stringify(this.events,null,2)}clearEvents(){this.events=[],localStorage.removeItem("auth_events"),console.log("\u{1F510} Auth events cleared")}getDetailedStats(){let e=this.getSecurityMetrics(),t=this.getRecentEvents();return{metrics:e,recentActivity:t.slice(-10),sessionInfo:{sessionId:this.sessionId,startTime:new Date().toISOString(),totalEvents:this.events.length},securityAlerts:this.getSecurityAlerts()}}getSecurityAlerts(){let e=[],t=this.getSecurityMetrics();return t.failedLogins>10&&e.push({type:"high_failed_logins",severity:"warning",message:`${t.failedLogins} intentos de login fallidos en las \xFAltimas 24h`}),t.accountLockouts>3&&e.push({type:"multiple_lockouts",severity:"error",message:`${t.accountLockouts} cuentas bloqueadas en las \xFAltimas 24h`}),t.suspiciousActivity>0&&e.push({type:"suspicious_activity",severity:"critical",message:`${t.suspiciousActivity} actividades sospechosas detectadas`}),e}static \u0275fac=function(t){return new(t||n)(Ye(Hs))};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})};var fo=class n{constructor(e,t,r,i,o){this.supabaseService=e;this.configService=t;this.notificationService=r;this.errorHandler=i;this.monitoring=o;this.initializeAuth()}_authState=new En({isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null,isLocked:!1,loginAttempts:0,lockoutUntil:null});initializeAuth(){let e=this.configService.validateConfig();if(!e.isValid){let t=this.errorHandler.createAuthError("configuration","INVALID_CONFIG","Configuraci\xF3n inv\xE1lida",{errors:e.errors});this.updateAuthState({error:t}),this.errorHandler.handleAuthError(t,"initializeAuth");return}this.supabaseService.isLoggedIn$.subscribe(t=>{this.updateAuthState({isLoggedIn:t}),t&&this.monitoring.logAuthEvent("login_success",{},this.supabaseService.user?.email)}),this.supabaseService.currentUser$.subscribe(t=>{this.updateAuthState({currentUser:t}),t&&this.notificationService.authSuccess(t.displayName)}),this.supabaseService.user$.subscribe(t=>{this.updateAuthState({user:t})}),this.checkLockoutStatus()}updateAuthState(e){let t=this._authState.value,r=De(De({},t),e);this._authState.next(r)}checkLockoutStatus(){let e=localStorage.getItem("lockout_until"),t=parseInt(localStorage.getItem("login_attempts")||"0");if(e){let r=parseInt(e);Date.now()<r?(this.updateAuthState({isLocked:!0,lockoutUntil:r,loginAttempts:t}),console.log("Cuenta bloqueada hasta:",new Date(r))):this.clearLockout()}else this.updateAuthState({loginAttempts:t})}clearLockout(){localStorage.removeItem("lockout_until"),localStorage.removeItem("login_attempts"),this.updateAuthState({isLocked:!1,lockoutUntil:null,loginAttempts:0})}loginWithGitHub(){return ie(this,null,function*(){let e=this._authState.value;if(this.monitoring.logAuthEvent("login_attempt"),e.isLocked){let r=this.calculateLockoutTime(e.lockoutUntil);this.notificationService.authBlocked(r),this.monitoring.logAuthEvent("access_denied",{reason:"account_locked",timeLeft:r});return}let t=this.configService.auth;if(!t.supabase.enabled){let r=this.errorHandler.createAuthError("configuration","AUTH_DISABLED","Autenticaci\xF3n no habilitada",{config:t});this.updateAuthState({error:r}),this.errorHandler.handleAuthError(r,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{reason:"auth_disabled"});return}this.updateAuthState({isLoading:!0,error:null});try{console.log("Iniciando login con GitHub a trav\xE9s de Supabase...");let r=yield this.errorHandler.withRetry(()=>this.supabaseService.signInWithGitHub(),"network");if(r.error){let i=this.errorHandler.handleSupabaseError(r.error,"loginWithGitHub");this.handleFailedLogin(),this.updateAuthState({error:i,isLoading:!1}),this.errorHandler.handleAuthError(i,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{error:r.error});return}console.log("Login iniciado correctamente"),this.updateAuthState({isLoading:!1})}catch(r){console.error("Error inesperado en login:",r);let i=this.errorHandler.createAuthError("network","NETWORK_ERROR","Error conectando con GitHub",r);this.handleFailedLogin(),this.updateAuthState({error:i,isLoading:!1}),this.errorHandler.handleAuthError(i,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{error:r.message})}})}logout(){return ie(this,null,function*(){this.updateAuthState({isLoading:!0});try{let e=this.userEmail,{error:t}=yield this.supabaseService.signOut();if(t){console.error("Error al cerrar sesi\xF3n:",t);let r=this.errorHandler.handleSupabaseError(t,"logout");this.updateAuthState({error:r,isLoading:!1});return}this.updateAuthState({isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null}),this.notificationService.info("Sesi\xF3n Cerrada","Has cerrado sesi\xF3n correctamente"),this.monitoring.logAuthEvent("logout",{},e||void 0),console.log("Usuario deslogueado")}catch(e){console.error("Error inesperado en logout:",e);let t=this.errorHandler.createAuthError("auth","LOGOUT_ERROR","Error al cerrar sesi\xF3n",e);this.updateAuthState({error:t,isLoading:!1})}})}handleFailedLogin(e){let t=this._authState.value,r=this.configService.auth.security,i=t.loginAttempts+1;if(localStorage.setItem("login_attempts",i.toString()),i>=r.maxLoginAttempts){let o=Date.now()+r.lockoutDuration;localStorage.setItem("lockout_until",o.toString()),this.updateAuthState({isLocked:!0,lockoutUntil:o,loginAttempts:i});let s=Math.ceil(r.lockoutDuration/6e4);this.notificationService.authBlocked(s),this.monitoring.logAuthEvent("account_locked",{attempts:i,lockoutUntil:o,lockoutMinutes:s},e)}else this.updateAuthState({loginAttempts:i}),this.monitoring.logAuthEvent("login_failure",{attempts:i},e)}calculateLockoutTime(e){if(!e)return 0;let t=Math.max(0,e-Date.now());return Math.ceil(t/6e4)}get authState$(){return this._authState.asObservable()}get isLoggedIn$(){return this._authState.pipe(ft(e=>e.isLoggedIn))}get userEmail$(){return this._authState.pipe(ft(e=>e.user?.email||null))}get currentUser$(){return this._authState.pipe(ft(e=>e.currentUser))}get isLocked$(){return this._authState.pipe(ft(e=>e.isLocked))}get loginAttempts$(){return this._authState.pipe(ft(e=>e.loginAttempts))}get isLoading$(){return this._authState.pipe(ft(e=>e.isLoading))}get error$(){return this._authState.pipe(ft(e=>e.error))}get isLoggedIn(){let e=this._authState.value;return e.isLoggedIn&&e.currentUser!==null}get userEmail(){return this._authState.value.user?.email||null}get currentUser(){return this._authState.value.currentUser}get isAuthorizedUser(){return this._authState.value.currentUser!==null}get isLocked(){return this._authState.value.isLocked}get loginAttempts(){return this._authState.value.loginAttempts}get isLoading(){return this._authState.value.isLoading}get error(){return this._authState.value.error}hasPermission(e){let t=this._authState.value.currentUser;return t?t.permissions.includes(e):!1}hasRole(e){let t=this._authState.value.currentUser;return t?t.role===e:!1}isAdmin(){return this.hasRole("admin")}canAccessCertificate(){return this.hasPermission("certificate")}canManage(){return this.hasPermission("management")}clearError(){this.updateAuthState({error:null})}getAuthState(){let e=this._authState.value;return{isLoggedIn:e.isLoggedIn,userEmail:e.user?.email||null,currentUser:e.currentUser,loginAttempts:e.loginAttempts,isLocked:e.isLocked,isLoading:e.isLoading,error:e.error,supabaseState:this.supabaseService.getAuthState()}}static \u0275fac=function(t){return new(t||n)(Ye(mh),Ye(Hs),Ye(zs),Ye(S2),Ye(Ll))};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})};function fW(n,e){n&1&&(J(0,"div",11),ke(1,"i",12),J(2,"strong"),V(3,"Cuenta temporalmente bloqueada"),ne(),J(4,"p",13),V(5,"Demasiados intentos de acceso fallidos. Intenta m\xE1s tarde."),ne()())}function pW(n,e){n&1&&(J(0,"div",14),ke(1,"i",15),J(2,"strong"),V(3,"Autenticaci\xF3n no disponible"),ne(),J(4,"p",13),V(5,"El sistema de autenticaci\xF3n no est\xE1 configurado correctamente."),ne()())}function gW(n,e){if(n&1){let t=Rr();J(0,"button",18),Qe("click",function(){ot(t);let i=lt(2);return st(i.clearError())}),V(1," Intentar de nuevo "),ne()}}function mW(n,e){if(n&1&&(J(0,"div",11),ke(1,"i",16),J(2,"strong"),V(3),ne(),J(4,"p",13),V(5),ne(),fn(6,gW,2,0,"button",17),ne()),n&2){let t=lt();je(3),On(t.error.type==="network"?"Error de Conexi\xF3n":"Error de Autenticaci\xF3n"),je(2),On(t.error.userMessage),je(),kt("ngIf",t.error.retryable)}}function vW(n,e){n&1&&(J(0,"div",19),h0(),J(1,"svg",20),ke(2,"path",21),ne(),V(3," Iniciar sesi\xF3n con GitHub "),ne())}function yW(n,e){n&1&&(J(0,"div",19),ke(1,"div",22),V(2," Conectando con GitHub... "),ne())}function bW(n,e){n&1&&(J(0,"div",19),ke(1,"i",12),V(2," Acceso bloqueado "),ne())}var D2=class n{constructor(e,t,r){this.auth=e;this.router=t;this.configService=r}authState={isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null,isLocked:!1,loginAttempts:0,lockoutUntil:null};authSubscription;ngOnInit(){if(this.auth.isLoggedIn&&this.auth.isAuthorizedUser){this.router.navigate(["/certificate"]);return}this.authSubscription=this.auth.authState$.subscribe(e=>{this.authState=e,e.isLoggedIn&&this.auth.isAuthorizedUser&&this.router.navigate(["/certificate"])})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}loginWithGitHub(){return ie(this,null,function*(){this.authState.isLocked||(yield this.auth.loginWithGitHub())})}get allowedEmails(){return["Cualquier usuario con cuenta de GitHub"]}get supabaseEnabled(){return this.configService.auth.supabase.enabled}get isLoading(){return this.authState.isLoading}get isLocked(){return this.authState.isLocked}get error(){return this.authState.error}clearError(){this.auth.clearError()}static \u0275fac=function(t){return new(t||n)(tt(fo),tt(io),tt(Hs))};static \u0275cmp=yn({type:n,selectors:[["app-login"]],decls:36,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"login-info"],[1,"info-item"],[1,"icon"],[1,"login-btn",3,"click","disabled"],["class","btn-content",4,"ngIf"],[1,"security-notice"],[1,"alert","alert-danger"],[1,"bi","bi-shield-x","me-2"],[1,"mb-0","small"],[1,"alert","alert-warning"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"bi","bi-exclamation-circle","me-2"],["class","btn btn-sm btn-outline-danger mt-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","mt-2",3,"click"],[1,"btn-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"],[1,"spinner"]],template:function(t,r){t&1&&(J(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),V(4,"\u{1F510} Acceso Restringido"),ne(),J(5,"p"),V(6,"Acceso exclusivo al formulario de certificados"),ne()(),fn(7,fW,6,0,"div",3)(8,pW,6,0,"div",4)(9,mW,7,3,"div",3),J(10,"div",5)(11,"div",6)(12,"span",7),V(13,"\uFFFD"),ne(),J(14,"div")(15,"span"),V(16,"Solo usuarios autorizados"),ne()()(),J(17,"div",6)(18,"span",7),V(19,"\u{1F6E1}\uFE0F"),ne(),J(20,"span"),V(21,"Autenticaci\xF3n segura con GitHub"),ne()(),J(22,"div",6)(23,"span",7),V(24,"\u{1F4CB}"),ne(),J(25,"span"),V(26,"Acceso controlado por permisos de usuario"),ne()()(),J(27,"button",8),Qe("click",function(){return r.loginWithGitHub()}),fn(28,vW,4,0,"div",9)(29,yW,3,0,"div",9)(30,bW,3,0,"div",9),ne(),J(31,"div",10)(32,"small")(33,"span",7),V(34,"\u26A0\uFE0F"),ne(),V(35," Los usuarios autorizados tienen acceso controlado por permisos espec\xEDficos. Cualquier usuario no autorizado ser\xE1 rechazado autom\xE1ticamente. "),ne()()()()),t&2&&(je(7),kt("ngIf",r.isLocked),je(),kt("ngIf",!r.supabaseEnabled),je(),kt("ngIf",r.error&&!r.isLocked),je(18),Ti("loading",r.isLoading)("locked",r.isLocked),kt("disabled",r.isLoading||r.isLocked||!r.supabaseEnabled),je(),kt("ngIf",!r.isLoading&&!r.isLocked),je(),kt("ngIf",r.isLoading),je(),kt("ngIf",r.isLocked))},dependencies:[no,Uo],styles:['.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem;background:linear-gradient(135deg,#667eea,#764ba2)}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:3rem;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:450px;width:100%;position:relative;overflow:hidden}.login-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2)}.login-header[_ngcontent-%COMP%]{margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:.5rem;font-size:1.75rem;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1rem}.login-info[_ngcontent-%COMP%]{background:#f7fafc;border-radius:12px;padding:1.5rem;margin-bottom:2rem;border-left:4px solid #667eea}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;font-size:.875rem;color:#4a5568}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem;width:24px;text-align:center}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-weight:600}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,#24292e,#1b1f23);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #24292e4d}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.login-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.login-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.login-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.security-notice[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#fff5f5;border:1px solid #fed7d7;border-radius:8px;color:#c53030}.security-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.875rem;display:flex;align-items:center;gap:.5rem;justify-content:center;line-height:1.4}.security-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.authorized-users-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:.5rem 0 0;text-align:left}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.5rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-size:.9rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;color:#718096}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .5rem;border-radius:12px;font-weight:500}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-admin[_ngcontent-%COMP%]{background-color:#48bb78;color:#fff}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-assistant[_ngcontent-%COMP%]{background-color:#4299e1;color:#fff}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-viewer[_ngcontent-%COMP%]{background-color:#a0aec0;color:#fff}.login-btn.locked[_ngcontent-%COMP%]{background:#a0aec0;cursor:not-allowed}.login-btn.locked[_ngcontent-%COMP%]:hover{background:#a0aec0;transform:none}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;margin-bottom:1.5rem}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#fed7d7;border:1px solid #feb2b2;color:#742a2a}.alert.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e53e3e}.alert.alert-info[_ngcontent-%COMP%]{background-color:#e6fffa;border:1px solid #81e6d9;color:#234e52}.alert.alert-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#319795}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]{padding:2rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}']})};function _W(n,e){if(n&1&&(J(0,"div",27)(1,"div",7),V(2,"\u{1F6A8}"),ne(),J(3,"div",8)(4,"div",9),V(5),ne(),J(6,"div",10),V(7,"Actividad Sospechosa"),ne()()()),n&2){let t=lt(2);je(5),On(t.metrics.suspiciousActivity)}}function wW(n,e){if(n&1&&(J(0,"div",31)(1,"div",32),V(2),ne(),J(3,"div",33)(4,"div",34),V(5),ne(),J(6,"div",35),V(7),ne()()()),n&2){let t=e.$implicit,r=lt(3);cd("alert-"+t.severity),je(2),Dr(" ",r.getAlertIcon(t.severity)," "),je(3),On(t.type.replace("_"," ").toUpperCase()),je(2),On(t.message)}}function CW(n,e){if(n&1&&(J(0,"div",28)(1,"h3"),V(2,"\u{1F6A8} Alertas de Seguridad"),ne(),J(3,"div",29),fn(4,wW,8,5,"div",30),ne()()),n&2){let t=lt(2);je(4),kt("ngForOf",t.securityAlerts)}}function EW(n,e){if(n&1){let t=Rr();J(0,"button",36),Qe("click",function(){let i=ot(t).$implicit,o=lt(2);return st(o.setEventFilter(i.type))}),V(1),ne()}if(n&2){let t=e.$implicit,r=lt(2);Ti("active",r.currentFilter===t.type),je(),Dr(" ",t.label," ")}}function SW(n,e){if(n&1&&(J(0,"div",42)(1,"small"),V(2),ne()()),n&2){let t=lt().$implicit,r=lt(2);je(2),On(r.formatEventDetails(t.details))}}function xW(n,e){if(n&1&&(J(0,"div",37)(1,"div",38),V(2),ba(3,"date"),ne(),J(4,"div",39),V(5),ne(),J(6,"div",40),V(7),ne(),fn(8,SW,3,1,"div",41),ne()),n&2){let t=e.$implicit,r=lt(2);cd("activity-"+t.type.replace("_","-")),je(2),Dr(" ",_a(3,7,t.timestamp,"HH:mm:ss")," "),je(3),ml(" ",r.getEventIcon(t.type)," ",r.formatEventType(t.type)," "),je(2),Dr(" ",t.userEmail||"An\xF3nimo"," "),je(),kt("ngIf",t.details)}}function DW(n,e){if(n&1){let t=Rr();J(0,"div",2)(1,"div",3)(2,"h2"),V(3,"\u{1F510} Panel de Administraci\xF3n - Seguridad"),ne(),J(4,"div",4),V(5),ba(6,"date"),ne()(),J(7,"div",5)(8,"div",6)(9,"div",7),V(10,"\u2705"),ne(),J(11,"div",8)(12,"div",9),V(13),ne(),J(14,"div",10),V(15,"Logins Exitosos"),ne()()(),J(16,"div",11)(17,"div",7),V(18,"\u26A0\uFE0F"),ne(),J(19,"div",8)(20,"div",9),V(21),ne(),J(22,"div",10),V(23,"Intentos Fallidos"),ne()()(),J(24,"div",12)(25,"div",7),V(26,"\u{1F512}"),ne(),J(27,"div",8)(28,"div",9),V(29),ne(),J(30,"div",10),V(31,"Cuentas Bloqueadas"),ne()()(),J(32,"div",13)(33,"div",7),V(34,"\u{1F465}"),ne(),J(35,"div",8)(36,"div",9),V(37),ne(),J(38,"div",10),V(39,"Usuarios \xDAnicos"),ne()()(),fn(40,_W,8,1,"div",14),ne(),fn(41,CW,5,1,"div",15),J(42,"div",16)(43,"h3"),V(44,"\u{1F4CA} Actividad Reciente"),ne(),J(45,"div",17),fn(46,EW,2,3,"button",18),ne(),J(47,"div",19),fn(48,xW,9,10,"div",20),ne()(),J(49,"div",21)(50,"h3"),V(51,"\u{1F6E0}\uFE0F Controles de Administrador"),ne(),J(52,"div",22)(53,"button",23),Qe("click",function(){ot(t);let i=lt();return st(i.clearLoginAttempts())}),V(54," \u{1F504} Limpiar Intentos de Login "),ne(),J(55,"button",24),Qe("click",function(){ot(t);let i=lt();return st(i.clearAllEvents())}),V(56," \u{1F5D1}\uFE0F Limpiar Historial de Eventos "),ne(),J(57,"button",25),Qe("click",function(){ot(t);let i=lt();return st(i.exportEvents())}),V(58," \u{1F4E5} Exportar Eventos "),ne(),J(59,"button",26),Qe("click",function(){ot(t);let i=lt();return st(i.refreshData())}),V(60," \u{1F504} Actualizar Datos "),ne()()()()}if(n&2){let t=lt();je(5),Dr(" \xDAltima actualizaci\xF3n: ",_a(6,9,t.lastUpdate,"short")," "),je(8),On(t.metrics.successfulLogins),je(8),On(t.metrics.failedLogins),je(8),On(t.metrics.accountLockouts),je(8),On(t.metrics.uniqueUsers),je(3),kt("ngIf",t.metrics.suspiciousActivity>0),je(),kt("ngIf",t.securityAlerts.length>0),je(5),kt("ngForOf",t.eventFilters),je(2),kt("ngForOf",t.filteredEvents)}}function MW(n,e){n&1&&(J(0,"div",43)(1,"h2"),V(2,"\u{1F6AB} Acceso Denegado"),ne(),J(3,"p"),V(4,"Solo los administradores pueden acceder a este panel."),ne()())}var M2=class n{constructor(e,t){this.monitoring=e;this.auth=t}metrics={totalLoginAttempts:0,successfulLogins:0,failedLogins:0,accountLockouts:0,accessDenials:0,uniqueUsers:0,suspiciousActivity:0};recentEvents=[];filteredEvents=[];securityAlerts=[];lastUpdate=new Date;currentFilter="all";eventFilters=[{type:"all",label:"Todos"},{type:"login_success",label:"Login Exitoso"},{type:"login_failure",label:"Login Fallido"},{type:"access_denied",label:"Acceso Denegado"},{type:"account_locked",label:"Cuenta Bloqueada"},{type:"suspicious_activity",label:"Actividad Sospechosa"}];refreshSubscription;ngOnInit(){this.isAdmin&&(this.loadData(),this.refreshSubscription=Vb(3e4).subscribe(()=>{this.refreshData()}))}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}get isAdmin(){return this.auth.isAdmin()}loadData(){let e=this.monitoring.getDetailedStats();this.metrics=e.metrics,this.recentEvents=e.recentActivity,this.securityAlerts=e.securityAlerts,this.filterEvents()}refreshData(){this.loadData(),this.lastUpdate=new Date}setEventFilter(e){this.currentFilter=e,this.filterEvents()}filterEvents(){this.currentFilter==="all"?this.filteredEvents=this.recentEvents:this.filteredEvents=this.recentEvents.filter(e=>e.type===this.currentFilter)}getEventIcon(e){return{login_attempt:"\u{1F504}",login_success:"\u2705",login_failure:"\u274C",logout:"\u{1F44B}",access_denied:"\u{1F6AB}",account_locked:"\u{1F512}",suspicious_activity:"\u{1F6A8}"}[e]||"\u{1F4DD}"}getAlertIcon(e){return{info:"\u2139\uFE0F",warning:"\u26A0\uFE0F",error:"\u274C",critical:"\u{1F6A8}"}[e]||"\u2139\uFE0F"}formatEventType(e){return{login_attempt:"Intento de Login",login_success:"Login Exitoso",login_failure:"Login Fallido",logout:"Cierre de Sesi\xF3n",access_denied:"Acceso Denegado",account_locked:"Cuenta Bloqueada",suspicious_activity:"Actividad Sospechosa"}[e]||e}formatEventDetails(e){return e?e.reason?`Raz\xF3n: ${e.reason}`:e.attempts?`Intentos: ${e.attempts}`:JSON.stringify(e):""}clearLoginAttempts(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todos los intentos de login?")&&(localStorage.removeItem("login_attempts"),localStorage.removeItem("lockout_until"),alert("Intentos de login limpiados"),this.refreshData())}clearAllEvents(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todo el historial de eventos?")&&(this.monitoring.clearEvents(),this.refreshData())}exportEvents(){let e=this.monitoring.exportEvents(),t=new Blob([e],{type:"application/json"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=`auth-events-${new Date().toISOString().split("T")[0]}.json`,i.click(),window.URL.revokeObjectURL(r)}static \u0275fac=function(t){return new(t||n)(tt(Ll),tt(fo))};static \u0275cmp=yn({type:n,selectors:[["app-admin-dashboard"]],decls:2,vars:2,consts:[["class","admin-dashboard",4,"ngIf"],["class","access-denied",4,"ngIf"],[1,"admin-dashboard"],[1,"dashboard-header"],[1,"last-update"],[1,"metrics-grid"],[1,"metric-card","success"],[1,"metric-icon"],[1,"metric-content"],[1,"metric-number"],[1,"metric-label"],[1,"metric-card","warning"],[1,"metric-card","danger"],[1,"metric-card","info"],["class","metric-card critical",4,"ngIf"],["class","security-alerts",4,"ngIf"],[1,"recent-activity"],[1,"activity-filters"],["class","filter-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"activity-list"],["class","activity-item",3,"class",4,"ngFor","ngForOf"],[1,"admin-controls"],[1,"control-buttons"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"metric-card","critical"],[1,"security-alerts"],[1,"alert-list"],["class","alert-item",3,"class",4,"ngFor","ngForOf"],[1,"alert-item"],[1,"alert-icon"],[1,"alert-content"],[1,"alert-type"],[1,"alert-message"],[1,"filter-btn",3,"click"],[1,"activity-item"],[1,"activity-time"],[1,"activity-type"],[1,"activity-user"],["class","activity-details",4,"ngIf"],[1,"activity-details"],[1,"access-denied"]],template:function(t,r){t&1&&fn(0,DW,61,12,"div",0)(1,MW,5,0,"div",1),t&2&&(kt("ngIf",r.isAdmin),je(),kt("ngIf",!r.isAdmin))},dependencies:[no,vl,Uo,Vw],styles:[".admin-dashboard[_ngcontent-%COMP%]{padding:20px;background:#f8f9fa;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.last-update[_ngcontent-%COMP%]{color:#666;font-size:14px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.metric-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;border-left:4px solid}.metric-card.success[_ngcontent-%COMP%]{border-left-color:#10b981}.metric-card.warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.metric-card.danger[_ngcontent-%COMP%]{border-left-color:#ef4444}.metric-card.info[_ngcontent-%COMP%]{border-left-color:#3b82f6}.metric-card.critical[_ngcontent-%COMP%]{border-left-color:#dc2626;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.metric-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:15px}.metric-number[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.metric-label[_ngcontent-%COMP%]{font-size:14px;color:#666}.security-alerts[_ngcontent-%COMP%]{margin-bottom:30px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.alert-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;margin-bottom:10px;border-radius:8px;border:1px solid}.alert-warning[_ngcontent-%COMP%]{background:#fffbeb;border-color:#f59e0b;color:#92400e}.alert-error[_ngcontent-%COMP%]{background:#fef2f2;border-color:#ef4444;color:#991b1b}.alert-critical[_ngcontent-%COMP%]{background:#fef2f2;border-color:#dc2626;color:#7f1d1d;animation:_ngcontent-%COMP%_pulse 2s infinite}.alert-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:15px}.alert-type[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.alert-message[_ngcontent-%COMP%]{font-size:13px;opacity:.9}.recent-activity[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:30px}.activity-filters[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.filter-btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;background:#f8f9fa;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s}.filter-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.filter-btn.active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#3b82f6}.activity-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.activity-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr 150px 1fr;gap:15px;align-items:center;padding:10px;border-bottom:1px solid #eee;font-size:14px}.activity-time[_ngcontent-%COMP%]{font-family:monospace;color:#666;font-size:12px}.activity-type[_ngcontent-%COMP%]{font-weight:500}.activity-user[_ngcontent-%COMP%]{color:#666;font-size:12px}.activity-details[_ngcontent-%COMP%]{color:#888;font-size:11px}.admin-controls[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.control-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;text-decoration:none;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-info[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.access-denied[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}@media (max-width: 768px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.activity-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:5px}.control-buttons[_ngcontent-%COMP%]{flex-direction:column}}"]})};var hg=class n{constructor(e,t,r,i,o){this.auth=e;this.router=t;this.configService=r;this.notificationService=i;this.monitoring=o}canActivate(e,t){return ie(this,null,function*(){return this.configService.auth.supabase.enabled?((window.location.hash.includes("access_token")||window.location.search.includes("code="))&&(console.log("Detectado callback OAuth, esperando procesamiento..."),yield new Promise(o=>setTimeout(o,2e3))),this.auth.isLocked?(console.log("Acceso denegado: Cuenta bloqueada"),this.notificationService.warning("Acceso Denegado","Tu cuenta est\xE1 temporalmente bloqueada por seguridad."),this.monitoring.logAuthEvent("access_denied",{reason:"account_locked",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/login"]),!1):this.auth.isLoggedIn?(t.url==="/certificate"||t.url.startsWith("/certificate"))&&!this.auth.canAccessCertificate()?(console.log("Acceso denegado: Sin permisos para generar certificados"),this.notificationService.warning("Permisos Insuficientes","No tienes permisos para generar certificados."),this.monitoring.logAuthEvent("access_denied",{reason:"insufficient_permissions",route:t.url,requiredPermission:"certificate"},this.auth.userEmail||void 0),this.router.navigate(["/"]),!1):(t.url==="/admin"||t.url.startsWith("/admin"))&&!this.auth.isAdmin()?(console.log("Acceso denegado: Sin permisos de administrador"),this.notificationService.warning("Acceso Restringido","Solo los administradores pueden acceder a este panel."),this.monitoring.logAuthEvent("access_denied",{reason:"admin_only",route:t.url,requiredRole:"admin"},this.auth.userEmail||void 0),this.router.navigate(["/"]),!1):(console.log("Acceso autorizado para:",{user:this.auth.currentUser?.displayName,role:this.auth.currentUser?.role,route:t.url}),!0):(console.log("Acceso denegado: Usuario no logueado"),this.notificationService.info("Acceso Requerido","Necesitas iniciar sesi\xF3n para acceder a esta p\xE1gina."),this.monitoring.logAuthEvent("access_denied",{reason:"not_authenticated",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)):(console.log("Autenticaci\xF3n deshabilitada (Supabase disabled) - Acceso permitido"),!0)})}static \u0275fac=function(t){return new(t||n)(Ye(fo),Ye(io),Ye(Hs),Ye(zs),Ye(Ll))};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})};var aN=[{path:"",component:av},{path:"certificate",component:Yy,canActivate:[hg]},{path:"admin",component:M2,canActivate:[hg]},{path:"login",component:D2},{path:"**",redirectTo:""}];var lN={providers:[Y_(),Sw({eventCoalescing:!0}),MC(aN,AC(),IC({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"})),tC(),mh,fo]};function IW(n,e){n&1&&(J(0,"li")(1,"a",42),ke(2,"i",43),V(3,"Generar Certificado "),ne()())}function AW(n,e){n&1&&(J(0,"li")(1,"a",44),ke(2,"i",45),V(3,"Panel de Admin "),ne()())}function PW(n,e){if(n&1){let t=Rr();J(0,"div",26)(1,"div",27)(2,"a",28)(3,"div",29),ke(4,"i",30),ne(),J(5,"div",31)(6,"div",32),V(7),ne(),J(8,"div",33)(9,"small",34),V(10),ne()()()(),J(11,"ul",35)(12,"li")(13,"h6",36),ke(14,"i",37),V(15),ne()(),J(16,"li"),ke(17,"hr",38),ne(),fn(18,IW,4,0,"li",39)(19,AW,4,0,"li",39),J(20,"li"),ke(21,"hr",38),ne(),J(22,"li")(23,"a",40),Qe("click",function(){ot(t);let i=lt();return st(i.logout())}),ke(24,"i",41),V(25,"Cerrar Sesi\xF3n "),ne()()()()()}if(n&2){let t=lt();je(7),On(t.auth.currentUser.displayName),je(3),On(t.auth.currentUser.role),je(5),Dr("",t.auth.currentUser.displayName," "),je(3),kt("ngIf",t.auth.canAccessCertificate()),je(),kt("ngIf",t.auth.isAdmin())}}var I2=class n{constructor(e,t){this.auth=e;this.router=t}logout(){this.auth.logout(),this.router.navigate(["/"])}accessCertificate(){this.auth.isLoggedIn&&this.auth.canAccessCertificate()?this.router.navigate(["/certificate"]):this.showLoginModal()}showLoginModal(){let e=document.getElementById("loginModal");e&&new bootstrap.Modal(e).show()}goToLogin(){let e=document.getElementById("loginModal");if(e){let t=bootstrap.Modal.getInstance(e);t&&t.hide()}this.router.navigate(["/login"])}scrollToSection(e){let t=document.getElementById("navbarNav");t&&t.classList.contains("show")&&new window.bootstrap.Collapse(t,{toggle:!1}).hide(),this.router.navigate(["/"],{fragment:e}).then(()=>{let r=document.getElementById(e);r&&r.scrollIntoView({behavior:"smooth",block:"start"})})}static \u0275fac=function(t){return new(t||n)(tt(fo),tt(io))};static \u0275cmp=yn({type:n,selectors:[["app-app-header"]],decls:46,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"bi","bi-award","me-1"],["class","navbar-nav ms-3",4,"ngIf"],["id","loginModal","tabindex","-1","aria-labelledby","loginModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","border-0"],["id","loginModalLabel",1,"modal-title"],[1,"bi","bi-shield-lock","me-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"mb-4"],[1,"bi","bi-award","display-1","text-primary"],[1,"text-muted"],[1,"modal-footer","border-0","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-box-arrow-in-right","me-1"],[1,"navbar-nav","ms-3"],[1,"nav-item","dropdown"],["href","#","id","userDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center"],[1,"user-avatar","me-2"],[1,"bi","bi-person-circle","fs-5"],[1,"user-info","d-none","d-md-block"],[1,"user-name"],[1,"user-role"],[1,"badge","bg-light","text-dark"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-header"],[1,"bi","bi-person-check","me-1"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"bi","bi-box-arrow-right","me-2"],["routerLink","/certificate","routerLinkActive","active",1,"dropdown-item"],[1,"bi","bi-award","me-2"],["routerLink","/admin","routerLinkActive","active",1,"dropdown-item"],[1,"bi","bi-shield-check","me-2"]],template:function(t,r){t&1&&(J(0,"nav",0)(1,"div",1)(2,"a",2),V(3,"Psicolog\xEDa Abel Navarro"),ne(),J(4,"button",3),ke(5,"span",4),ne(),J(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),Qe("click",function(){return r.scrollToSection("banner")}),V(10,"Inicio"),ne()(),J(11,"li",7)(12,"a",8),Qe("click",function(){return r.scrollToSection("workshops")}),V(13,"Talleres"),ne()(),J(14,"li",7)(15,"a",8),Qe("click",function(){return r.scrollToSection("about")}),V(16,"Sobre M\xED"),ne()(),J(17,"li",7)(18,"a",8),Qe("click",function(){return r.scrollToSection("contact")}),V(19,"Contacto"),ne()(),J(20,"li",7)(21,"a",8),Qe("click",function(){return r.accessCertificate()}),ke(22,"i",9),V(23,"Certificado "),ne()()(),fn(24,PW,26,5,"div",10),ne()()(),J(25,"div",11)(26,"div",12)(27,"div",13)(28,"div",14)(29,"h5",15),ke(30,"i",16),V(31,"Acceso Requerido "),ne(),ke(32,"button",17),ne(),J(33,"div",18)(34,"div",19),ke(35,"i",20),ne(),J(36,"h6"),V(37,"Para acceder al certificado necesitas autenticarte"),ne(),J(38,"p",21),V(39,"Solo usuarios autorizados pueden generar certificados"),ne()(),J(40,"div",22)(41,"button",23),V(42,"Cancelar"),ne(),J(43,"button",24),Qe("click",function(){return r.goToLogin()}),ke(44,"i",25),V(45,"Iniciar Sesi\xF3n "),ne()()()()()),t&2&&(je(24),kt("ngIf",r.auth.isLoggedIn&&r.auth.currentUser))},dependencies:[no,Uo,Td,DC],styles:["nav[_ngcontent-%COMP%]{margin-bottom:1rem}.nav-link.active[_ngcontent-%COMP%]{font-weight:600;text-decoration:underline}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.375rem;transition:all .2s ease}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;line-height:1.2}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;line-height:1}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.25em .5em}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:1rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:2rem 2rem 1rem}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#495057;font-weight:600}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 2rem}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:.5rem}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.875rem}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem}@media (max-width: 768px){.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:none!important}}"]})};var A2=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yn({type:n,selectors:[["app-app-footer"]],decls:3,vars:0,consts:[[1,"bg-primary","text-white","text-center","py-3","mt-5"],[1,"container"]],template:function(t,r){t&1&&(be(0,"footer",0)(1,"div",1),V(2," \xA9 2025 Abel Uriaz Navarro Carrasco. Todos los derechos reservados. "),we()())},encapsulation:2})};function TW(n,e){if(n&1){let t=Rr();J(0,"button",11),Qe("click",function(){ot(t);let i=lt().$implicit,o=lt();return st(o.executeAction(i))}),V(1),ne()}if(n&2){let t=lt().$implicit;je(),Dr(" ",t.action.label," ")}}function NW(n,e){if(n&1){let t=Rr();J(0,"div",2)(1,"div",3),ke(2,"span",4),ne(),J(3,"div",5)(4,"div",6),V(5),ne(),J(6,"div",7),V(7),ne()(),J(8,"div",8),fn(9,TW,2,1,"button",9),J(10,"button",10),Qe("click",function(){let i=ot(t).$implicit,o=lt();return st(o.close(i.id))}),V(11," \xD7 "),ne()()()}if(n&2){let t=e.$implicit,r=lt();cd("notification-"+t.type),kt("@slideIn",void 0),je(2),kt("innerHTML",r.getIcon(t.type),G5),je(3),On(t.title),je(2),On(t.message),je(2),kt("ngIf",t.action)}}var P2=class n{constructor(e){this.notificationService=e}notifications=[];subscription;ngOnInit(){this.subscription=this.notificationService.notifications$.subscribe(e=>{this.notifications=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getIcon(e){return{success:"\u2713",error:"\u2715",warning:"\u26A0",info:"\u2139"}[e]||"\u2139"}close(e){this.notificationService.remove(e)}executeAction(e){e.action&&(e.action.callback(),this.close(e.id))}static \u0275fac=function(t){return new(t||n)(tt(zs))};static \u0275cmp=yn({type:n,selectors:[["app-notifications"]],decls:2,vars:1,consts:[[1,"notifications-container"],["class","notification",3,"class",4,"ngFor","ngForOf"],[1,"notification"],[1,"notification-icon"],[3,"innerHTML"],[1,"notification-content"],[1,"notification-title"],[1,"notification-message"],[1,"notification-actions"],["class","action-btn",3,"click",4,"ngIf"],["aria-label","Cerrar notificaci\xF3n",1,"close-btn",3,"click"],[1,"action-btn",3,"click"]],template:function(t,r){t&1&&(J(0,"div",0),fn(1,NW,12,7,"div",1),ne()),t&2&&(je(),kt("ngForOf",r.notifications))},dependencies:[no,vl,Uo],styles:[".notifications-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:400px;width:100%}.notification[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:16px;margin-bottom:12px;border-radius:8px;box-shadow:0 4px 12px #00000026;background:#fff;border-left:4px solid;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.notification-success[_ngcontent-%COMP%]{border-left-color:#10b981;background:#f0fdf4}.notification-error[_ngcontent-%COMP%]{border-left-color:#ef4444;background:#fef2f2}.notification-warning[_ngcontent-%COMP%]{border-left-color:#f59e0b;background:#fffbeb}.notification-info[_ngcontent-%COMP%]{border-left-color:#3b82f6;background:#eff6ff}.notification-icon[_ngcontent-%COMP%]{margin-right:12px;font-size:20px;line-height:1}.notification-success[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#10b981}.notification-error[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#ef4444}.notification-warning[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#f59e0b}.notification-info[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#3b82f6}.notification-content[_ngcontent-%COMP%]{flex:1;min-width:0}.notification-title[_ngcontent-%COMP%]{font-weight:600;font-size:14px;margin-bottom:4px;color:#111827}.notification-message[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;line-height:1.4}.notification-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:12px}.action-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:4px 12px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:background-color .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#2563eb}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;line-height:1;cursor:pointer;color:#9ca3af;transition:color .2s;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{color:#6b7280}@media (max-width: 640px){.notifications-container[_ngcontent-%COMP%]{top:10px;right:10px;left:10px;max-width:none}.notification[_ngcontent-%COMP%]{padding:12px}}"]})};var T2=class n{title=fs("psic-abelnavarro");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yn({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){t&1&&ke(0,"app-app-header")(1,"router-outlet")(2,"app-app-footer")(3,"app-notifications")},dependencies:[lp,I2,A2,P2],encapsulation:2})};Jw(T2,lN).catch(n=>console.error(n));
