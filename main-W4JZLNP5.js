import{a as hn}from"./chunk-FK6H3RFT.js";import{b as nE,c as rE,f as lP,g as iE}from"./chunk-X5YLR3NI.js";import{a as Ie,b as lt,c as Oy,e as Ye,g as tE,h as aP,i as ne}from"./chunk-ODN5LVDJ.js";var kt=Ye(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er._registerNode=Er.Konva=Er.glob=void 0;var Aj=Math.PI/180;function Tj(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}Er.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{};Er.Konva={_global:Er.glob,version:"9.3.22",isBrowser:Tj(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return Er.Konva.angleDeg?n*Aj:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Er.Konva.DD.isDragging},isTransforming(){var n;return(n=Er.Konva.Transformer)===null||n===void 0?void 0:n.isTransforming()},isDragReady(){return!!Er.Konva.DD.node},releaseCanvasOnDestroy:!0,document:Er.glob.document,_injectGlobal(n){Er.glob.Konva=n}};var Pj=n=>{Er.Konva[n.prototype.getClassName()]=n};Er._registerNode=Pj;Er.Konva._injectGlobal(Er.Konva)});var Tn=Ye(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.Util=Cn.Transform=void 0;var nC=kt(),oC=class n{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){let t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.m[0]*t+this.m[2]*r,o=this.m[1]*t+this.m[3]*r,s=this.m[0]*-r+this.m[2]*t,a=this.m[1]*-r+this.m[3]*t;return this.m[0]=i,this.m[1]=o,this.m[2]=s,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){let r=this.m[0]+this.m[2]*t,i=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=s,this}multiply(e){let t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}invert(){let e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}getMatrix(){return this.m}decompose(){let e=this.m[0],t=this.m[1],r=this.m[2],i=this.m[3],o=this.m[4],s=this.m[5],a=e*i-t*r,l={x:o,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||t!=0){let c=Math.sqrt(e*e+t*t);l.rotation=t>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+t*i)/a,l.skewY=0}else if(r!=0||i!=0){let c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+t*i)/a}return l.rotation=Cn.Util._getRotation(l.rotation),l}};Cn.Transform=oC;var Nj="[object Array]",Oj="[object Number]",kj="[object String]",Rj="[object Boolean]",Lj=Math.PI/180,Fj=180/Math.PI,rC="#",jj="",Bj="0",Vj="Konva warning: ",U6="Konva error: ",Uj="rgb(",iC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Hj=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,Y1=[],qj=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,60)};Cn.Util={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===Nj},_isNumber(n){return Object.prototype.toString.call(n)===Oj&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===kj},_isBoolean(n){return Object.prototype.toString.call(n)===Rj},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;let e=n[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){Y1.push(n),Y1.length===1&&qj(function(){let e=Y1;Y1=[],e.forEach(function(t){t()})})},createCanvasElement(){let n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,e){let t=Cn.Util.createImageElement();t.onload=function(){e(t)},t.src=n},_rgbToHex(n,e,t){return((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)},_hexToRgb(n){n=n.replace(rC,jj);let e=parseInt(n,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let n=(Math.random()*16777215<<0).toString(16);for(;n.length<6;)n=Bj+n;return rC+n},getRGB(n){let e;return n in iC?(e=iC[n],{r:e[0],g:e[1],b:e[2]}):n[0]===rC?this._hexToRgb(n.substring(1)):n.substr(0,4)===Uj?(e=Hj.exec(n.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",Cn.Util._namedColorToRBA(n)||Cn.Util._hex3ColorToRGBA(n)||Cn.Util._hex4ColorToRGBA(n)||Cn.Util._hex6ColorToRGBA(n)||Cn.Util._hex8ColorToRGBA(n)||Cn.Util._rgbColorToRGBA(n)||Cn.Util._rgbaColorToRGBA(n)||Cn.Util._hslColorToRGBA(n)},_namedColorToRBA(n){let e=iC[n.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];let e=n.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];let e=n.split(/ *, */).map((t,r)=>t.slice(-1)==="%"?r===3?parseInt(t)/100:parseInt(t)/100*255:Number(t));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(n){if(n[0]==="#"&&n.length===9)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:parseInt(n.slice(7,9),16)/255}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex4ColorToRGBA(n){if(n[0]==="#"&&n.length===5)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:parseInt(n[4]+n[4],16)/255}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){let[e,...t]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),r=Number(t[0])/360,i=Number(t[1])/100,o=Number(t[2])/100,s,a,l;if(i===0)return l=o*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o<.5?s=o*(1+i):s=o+i-o*i;let c=2*o-s,d=[0,0,0];for(let f=0;f<3;f++)a=r+1/3*-(f-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(s-c)*6*a:2*a<1?l=s:3*a<2?l=c+(s-c)*(2/3-a)*6:l=c,d[f]=l*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(n,e){return!(e.x>n.x+n.width||e.x+e.width<n.x||e.y>n.y+n.height||e.y+e.height<n.y)},cloneObject(n){let e={};for(let t in n)this._isPlainObject(n[t])?e[t]=this.cloneObject(n[t]):this._isArray(n[t])?e[t]=this.cloneArray(n[t]):e[t]=n[t];return e},cloneArray(n){return n.slice(0)},degToRad(n){return n*Lj},radToDeg(n){return n*Fj},_degToRad(n){return Cn.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Cn.Util.degToRad(n)},_radToDeg(n){return Cn.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Cn.Util.radToDeg(n)},_getRotation(n){return nC.Konva.angleDeg?Cn.Util.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(U6+n)},error(n){console.error(U6+n)},warn(n){nC.Konva.showWarnings&&console.warn(Vj+n)},each(n,e){for(let t in n)e(t,n[t])},_inRange(n,e,t){return e<=n&&n<t},_getProjectionToSegment(n,e,t,r,i,o){let s,a,l,c=(n-t)*(n-t)+(e-r)*(e-r);if(c==0)s=n,a=e,l=(i-t)*(i-t)+(o-r)*(o-r);else{let d=((i-n)*(t-n)+(o-e)*(r-e))/c;d<0?(s=n,a=e,l=(n-i)*(n-i)+(e-o)*(e-o)):d>1?(s=t,a=r,l=(t-i)*(t-i)+(r-o)*(r-o)):(s=n+d*(t-n),a=e+d*(r-e),l=(s-i)*(s-i)+(a-o)*(a-o))}return[s,a,l]},_getProjectionToLine(n,e,t){let r=Cn.Util.cloneObject(n),i=Number.MAX_VALUE;return e.forEach(function(o,s){if(!t&&s===e.length-1)return;let a=e[(s+1)%e.length],l=Cn.Util._getProjectionToSegment(o.x,o.y,a.x,a.y,n.x,n.y),c=l[0],d=l[1],f=l[2];f<i&&(r.x=c,r.y=d,i=f)}),r},_prepareArrayForTween(n,e,t){let r=[],i=[];if(n.length>e.length){let s=e;e=n,n=s}for(let s=0;s<n.length;s+=2)r.push({x:n[s],y:n[s+1]});for(let s=0;s<e.length;s+=2)i.push({x:e[s],y:e[s+1]});let o=[];return i.forEach(function(s){let a=Cn.Util._getProjectionToLine(s,r,t);o.push(a.x),o.push(a.y)}),o},_prepareToStringify(n){let e;n.visitedByCircularReferenceRemoval=!0;for(let t in n)if(n.hasOwnProperty(t)&&n[t]&&typeof n[t]=="object"){if(e=Object.getOwnPropertyDescriptor(n,t),n[t].visitedByCircularReferenceRemoval||Cn.Util._isElement(n[t]))if(e.configurable)delete n[t];else return null;else if(Cn.Util._prepareToStringify(n[t])===null)if(e.configurable)delete n[t];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,e){for(let t in e)n[t]=e[t];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){nC.Konva.releaseCanvasOnDestroy&&n.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(n,e,t,r){let i=0,o=0,s=0,a=0;typeof r=="number"?i=o=s=a=Math.min(r,e/2,t/2):(i=Math.min(r[0]||0,e/2,t/2),o=Math.min(r[1]||0,e/2,t/2),a=Math.min(r[2]||0,e/2,t/2),s=Math.min(r[3]||0,e/2,t/2)),n.moveTo(i,0),n.lineTo(e-o,0),n.arc(e-o,o,o,Math.PI*3/2,0,!1),n.lineTo(e,t-a),n.arc(e-a,t-a,a,0,Math.PI/2,!1),n.lineTo(s,t),n.arc(s,t-s,s,Math.PI/2,Math.PI,!1),n.lineTo(0,i),n.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}}});var lC=Ye(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.HitContext=rl.SceneContext=rl.Context=void 0;var z6=Tn(),zj=kt();function Gj(n){let e=[],t=n.length,r=z6.Util;for(let i=0;i<t;i++){let o=n[i];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),e.push(o)}return e}var H6=",",$j="(",Wj=")",Yj="([",Kj="])",Xj=";",Jj="()",Zj="=",q6=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Qj=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],eB=100,bd=class{constructor(e){this.canvas=e,zj.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let r=this.traceArr,i=r.length,o="",s,a,l,c;for(s=0;s<i;s++)a=r[s],l=a.method,l?(c=a.args,o+=l,e?o+=Jj:z6.Util._isArray(c[0])?o+=Yj+c.join(H6)+Kj:(t&&(c=c.map(d=>typeof d=="number"?Math.floor(d):d)),o+=$j+c.join(H6)+Wj)):(o+=a.property,e||(o+=Zj+a.val)),o+=Xj;return o}clearTrace(){this.traceArr=[]}_trace(e){let t=this.traceArr,r;t.push(e),r=t.length,r>=eB&&t.shift()}reset(){let e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){let t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){let t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){let t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){let t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,i,o,s){this._context.arc(e,t,r,i,o,s)}arcTo(e,t,r,i,o){this._context.arcTo(e,t,r,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,i,o,s){this._context.bezierCurveTo(e,t,r,i,o,s)}clearRect(e,t,r,i){this._context.clearRect(e,t,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){let r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,i){return this._context.createLinearGradient(e,t,r,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,i,o,s){return this._context.createRadialGradient(e,t,r,i,o,s)}drawImage(e,t,r,i,o,s,a,l,c){let d=arguments,f=this._context;d.length===3?f.drawImage(e,t,r):d.length===5?f.drawImage(e,t,r,i,o):d.length===9&&f.drawImage(e,t,r,i,o,s,a,l,c)}ellipse(e,t,r,i,o,s,a,l){this._context.ellipse(e,t,r,i,o,s,a,l)}isPointInPath(e,t,r,i){return r?this._context.isPointInPath(r,e,t,i):this._context.isPointInPath(e,t,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,i){this._context.fillRect(e,t,r,i)}strokeRect(e,t,r,i){this._context.strokeRect(e,t,r,i)}fillText(e,t,r,i){i?this._context.fillText(e,t,r,i):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,i){return this._context.getImageData(e,t,r,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,i){this._context.rect(e,t,r,i)}roundRect(e,t,r,i,o){this._context.roundRect(e,t,r,i,o)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,i){this._context.quadraticCurveTo(e,t,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,i,o,s){this._context.setTransform(e,t,r,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,i){this._context.strokeText(e,t,r,i)}transform(e,t,r,i,o,s){this._context.transform(e,t,r,i,o,s)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e=this,t=q6.length,r=this.setAttr,i,o,s=function(a){let l=e[a],c;e[a]=function(){return o=Gj(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:o}),c}};for(i=0;i<t;i++)s(q6[i]);e.setAttr=function(){r.apply(e,arguments);let a=arguments[0],l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){let t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}};rl.Context=bd;Qj.forEach(function(n){Object.defineProperty(bd.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});var sC=class extends bd{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){let t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){let t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){let t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){let t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}let i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}let o=e.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(e);return}let s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,r.x,r.y);if(i){for(let s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){let t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,i;let o=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),d=l.x*c,f=l.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(f))),this.setAttr("shadowOffsetX",a.x*d),this.setAttr("shadowOffsetY",a.y*f)}};rl.SceneContext=sC;var aC=class extends bd{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let t=e.getStrokeScaleEnabled();if(!t){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);let r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}};rl.HitContext=aC});var Zf=Ye(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.HitCanvas=il.SceneCanvas=il.Canvas=void 0;var X1=Tn(),G6=lC(),$6=kt(),K1;function tB(){if(K1)return K1;let n=X1.Util.createCanvasElement(),e=n.getContext("2d");return K1=function(){let t=$6.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}(),X1.Util.releaseCanvas(n),K1}var Jf=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;let r=(e||{}).pixelRatio||$6.Konva.pixelRatio||tB();this.pixelRatio=r,this._canvas=X1.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){let t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(i){return X1.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};il.Canvas=Jf;var cC=class extends Jf{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new G6.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};il.SceneCanvas=cC;var uC=class extends Jf{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new G6.HitContext(this),this.setSize(e.width,e.height)}};il.HitCanvas=uC});var J1=Ye(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.DD=void 0;var Qf=kt(),nB=Tn();gr.DD={get isDragging(){let n=!1;return gr.DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return gr.DD._dragElements.forEach(e=>{n=e.node}),n},_dragElements:new Map,_drag(n){let e=[];gr.DD._dragElements.forEach((t,r)=>{let{node:i}=t,o=i.getStage();o.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=nB.Util._getFirstPointerId(n));let s=o._changedPointerPositions.find(a=>a.id===t.pointerId);if(s){if(t.dragStatus!=="dragging"){let a=i.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<a||(i.startDrag({evt:n}),!i.isDragging()))return}i._setDragPosition(n,t),e.push(i)}}),e.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){let e=[];gr.DD._dragElements.forEach(t=>{let{node:r}=t,i=r.getStage();if(n&&i.setPointersPositions(n),!i._changedPointerPositions.find(a=>a.id===t.pointerId))return;(t.dragStatus==="dragging"||t.dragStatus==="stopped")&&(gr.DD.justDragged=!0,Qf.Konva._mouseListenClick=!1,Qf.Konva._touchListenClick=!1,Qf.Konva._pointerListenClick=!1,t.dragStatus="stopped");let s=t.node.getLayer()||t.node instanceof Qf.Konva.Stage&&t.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(t=>{t.draw()})},_endDragAfter(n){gr.DD._dragElements.forEach((e,t)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:n},!0),e.dragStatus!=="dragging"&&gr.DD._dragElements.delete(t)})}};Qf.Konva.isBrowser&&(window.addEventListener("mouseup",gr.DD._endDragBefore,!0),window.addEventListener("touchend",gr.DD._endDragBefore,!0),window.addEventListener("touchcancel",gr.DD._endDragBefore,!0),window.addEventListener("mousemove",gr.DD._drag),window.addEventListener("touchmove",gr.DD._drag),window.addEventListener("mouseup",gr.DD._endDragAfter,!1),window.addEventListener("touchend",gr.DD._endDragAfter,!1),window.addEventListener("touchcancel",gr.DD._endDragAfter,!1))});var Ut=Ye(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.RGBComponent=rB;Ii.alphaComponent=iB;Ii.getNumberValidator=oB;Ii.getNumberOrArrayOfNumbersValidator=sB;Ii.getNumberOrAutoValidator=aB;Ii.getStringValidator=lB;Ii.getStringOrGradientValidator=cB;Ii.getFunctionValidator=uB;Ii.getNumberArrayValidator=dB;Ii.getBooleanValidator=hB;Ii.getComponentValidator=fB;var na=kt(),Bn=Tn();function ra(n){return Bn.Util._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||Bn.Util._isBoolean(n)?n:Object.prototype.toString.call(n)}function rB(n){return n>255?255:n<0?0:Math.round(n)}function iB(n){return n>1?1:n<1e-4?1e-4:n}function oB(){if(na.Konva.isUnminified)return function(n,e){return Bn.Util._isNumber(n)||Bn.Util.warn(ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}}function sB(n){if(na.Konva.isUnminified)return function(e,t){let r=Bn.Util._isNumber(e),i=Bn.Util._isArray(e)&&e.length==n;return!r&&!i&&Bn.Util.warn(ra(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}}function aB(){if(na.Konva.isUnminified)return function(n,e){return Bn.Util._isNumber(n)||n==="auto"||Bn.Util.warn(ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}}function lB(){if(na.Konva.isUnminified)return function(n,e){return Bn.Util._isString(n)||Bn.Util.warn(ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}}function cB(){if(na.Konva.isUnminified)return function(n,e){let t=Bn.Util._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||Bn.Util.warn(ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}}function uB(){if(na.Konva.isUnminified)return function(n,e){return Bn.Util._isFunction(n)||Bn.Util.warn(ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),n}}function dB(){if(na.Konva.isUnminified)return function(n,e){let t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&n instanceof t||(Bn.Util._isArray(n)?n.forEach(function(r){Bn.Util._isNumber(r)||Bn.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Bn.Util.warn(ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),n}}function hB(){if(na.Konva.isUnminified)return function(n,e){return n===!0||n===!1||Bn.Util.warn(ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}}function fB(n){if(na.Konva.isUnminified)return function(e,t){return e==null||Bn.Util.isObject(e)||Bn.Util.warn(ra(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}}});var jt=Ye(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.Factory=void 0;var Mi=Tn(),pB=Ut(),ep="get",tp="set";Oo.Factory={addGetterSetter(n,e,t,r,i){Oo.Factory.addGetter(n,e,t),Oo.Factory.addSetter(n,e,r,i),Oo.Factory.addOverloadedGetterSetter(n,e)},addGetter(n,e,t){let r=ep+Mi.Util._capitalize(e);n.prototype[r]=n.prototype[r]||function(){let i=this.attrs[e];return i===void 0?t:i}},addSetter(n,e,t,r){let i=tp+Mi.Util._capitalize(e);n.prototype[i]||Oo.Factory.overWriteSetter(n,e,t,r)},overWriteSetter(n,e,t,r){let i=tp+Mi.Util._capitalize(e);n.prototype[i]=function(o){return t&&o!==void 0&&o!==null&&(o=t.call(this,o,e)),this._setAttr(e,o),r&&r.call(this),this}},addComponentsGetterSetter(n,e,t,r,i){let o=t.length,s=Mi.Util._capitalize,a=ep+s(e),l=tp+s(e);n.prototype[a]=function(){let d={};for(let f=0;f<o;f++){let m=t[f];d[m]=this.getAttr(e+s(m))}return d};let c=(0,pB.getComponentValidator)(t);n.prototype[l]=function(d){let f=this.attrs[e];r&&(d=r.call(this,d,e)),c&&c.call(this,d,e);for(let m in d)d.hasOwnProperty(m)&&this._setAttr(e+s(m),d[m]);return d||t.forEach(m=>{this._setAttr(e+s(m),void 0)}),this._fireChangeEvent(e,f,d),i&&i.call(this),this},Oo.Factory.addOverloadedGetterSetter(n,e)},addOverloadedGetterSetter(n,e){let t=Mi.Util._capitalize(e),r=tp+t,i=ep+t;n.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(n,e,t,r){Mi.Util.error("Adding deprecated "+e);let i=ep+Mi.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[i]=function(){Mi.Util.error(o);let s=this.attrs[e];return s===void 0?t:s},Oo.Factory.addSetter(n,e,r,function(){Mi.Util.error(o)}),Oo.Factory.addOverloadedGetterSetter(n,e)},backCompat(n,e){Mi.Util.each(e,function(t,r){let i=n.prototype[r],o=ep+Mi.Util._capitalize(t),s=tp+Mi.Util._capitalize(t);function a(){i.apply(this,arguments),Mi.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}n.prototype[t]=a,n.prototype[o]=a,n.prototype[s]=a})},afterSetFilter(){this._filterUpToDate=!1}}});var Vn=Ye(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.Node=void 0;var _d=Zf(),Xi=J1(),np=jt(),ol=kt(),Wt=Tn(),Jn=Ut(),Q1="absoluteOpacity",Z1="allEventListeners",ia="absoluteTransform",W6="absoluteScale",uc="canvas",gB="Change",mB="children",vB="konva",dC="listening",yB="mouseenter",bB="mouseleave",_B="pointerenter",wB="pointerleave",CB="touchenter",xB="touchleave",Y6="set",K6="Shape",ev=" ",X6="stage",sl="transform",EB="Stage",hC="visible",SB=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ev),DB=1,wt=class n{constructor(e){this._id=DB++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===sl||e===ia)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){let r=this._cache.get(e);return(r===void 0||(e===sl||e===ia)&&r.dirty===!0)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){let i=t.map(o=>o+"Change.konva").join(ev);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(uc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===ia&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(uc)){let{scene:e,filter:t,hit:r,buffer:i}=this._cache.get(uc);Wt.Util.releaseCanvas(e,t,r,i),this._cache.delete(uc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){let t=e||{},r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(t.width||r.width),o=Math.ceil(t.height||r.height),s=t.pixelRatio,a=t.x===void 0?Math.floor(r.x):t.x,l=t.y===void 0?Math.floor(r.y):t.y,c=t.offset||0,d=t.drawBorder||!1,f=t.hitCanvasPixelRatio||1;if(!i||!o){Wt.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}let m=Math.abs(Math.round(r.x)-a)>.5?1:0,p=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+m,o+=c*2+p,a-=c,l-=c;let y=new _d.SceneCanvas({pixelRatio:s,width:i,height:o}),_=new _d.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),C=new _d.HitCanvas({pixelRatio:f,width:i,height:o}),w=y.getContext(),S=C.getContext(),O=new _d.SceneCanvas({width:y.width/y.pixelRatio+Math.abs(a),height:y.height/y.pixelRatio+Math.abs(l),pixelRatio:y.pixelRatio}),k=O.getContext();return C.isCache=!0,y.isCache=!0,this._cache.delete(uc),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),w.save(),S.save(),k.save(),w.translate(-a,-l),S.translate(-a,-l),k.translate(-a,-l),O.x=a,O.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Q1),this._clearSelfAndDescendantCache(W6),this.drawScene(y,this,O),this.drawHit(C,this),this._isUnderCache=!1,w.restore(),S.restore(),d&&(w.save(),w.beginPath(),w.rect(0,0,i,o),w.closePath(),w.setAttr("strokeStyle","red"),w.setAttr("lineWidth",5),w.stroke(),w.restore()),this._cache.set(uc,{scene:y,filter:_,hit:C,buffer:O,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(uc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){let r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,o=1/0,s=-1/0,a=-1/0,l=this.getAbsoluteTransform(t);return r.forEach(function(c){let d=l.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let t=this._getCanvasCache();e.translate(t.x,t.y);let r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){let t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),t=this._getCanvasCache(),r=t.scene,i=t.filter,o=i.getContext(),s,a,l,c;if(e){if(!this._filterUpToDate){let d=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){Wt.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),o.putImageData(a,0,0)}}catch(f){Wt.Util.error("Unable to apply filter. "+f.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,t){if(this._cache&&this._cache.delete(Z1),arguments.length===3)return this._delegate.apply(this,arguments);let r=e.split(ev);for(let i=0;i<r.length;i++){let s=r[i].split("."),a=s[0],l=s[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:t})}return this}off(e,t){let r=(e||"").split(ev),i=r.length,o,s,a,l,c,d;if(this._cache&&this._cache.delete(Z1),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=r[o],l=a.split("."),c=l[0],d=l[1],c)this.eventListeners[c]&&this._off(c,d,t);else for(s in this.eventListeners)this._off(s,d,t);return this}dispatchEvent(e){let t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){let i=this;this.on(e,function(o){let s=o.target.findAncestors(t,!0,i);for(let a=0;a<s.length;a++)o=Wt.Util.cloneObject(o),o.currentTarget=s[a],r.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),Xi.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ia),this._clearSelfAndDescendantCache(Q1),this._clearSelfAndDescendantCache(W6),this._clearSelfAndDescendantCache(X6),this._clearSelfAndDescendantCache(hC),this._clearSelfAndDescendantCache(dC)}_remove(){this._clearCaches();let e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){let t="get"+Wt.Util._capitalize(e);return Wt.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,r;if(!e)return this;for(t in e)t!==mB&&(r=Y6+Wt.Util._capitalize(t),Wt.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(dC,this._isListening)}_isListening(e){if(!this.listening())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(hC,this._isVisible)}_isVisible(e){if(!this.visible())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);let r=this.getLayer(),i=!1;Xi.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});let o=!t&&!ol.Konva.hitOnDragEnabled&&(i||ol.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),t=this,r=0,i,o,s,a;function l(d){for(i=[],o=d.length,s=0;s<o;s++)a=d[s],r++,a.nodeType!==K6&&(i=i.concat(a.getChildren().slice())),a._id===t._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&l(i)}let c=this.getStage();return t.nodeType!==EB&&c&&l(c.getChildren()),r}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(sl),this._clearSelfAndDescendantCache(ia)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){let e=this.getStage();if(!e)return null;let t=e.getPointerPosition();if(!t)return null;let r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);let i=this.getAbsoluteTransform(e).getMatrix(),o=new Wt.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){let s=this._clearTransform(),{x:t,y:r}=s,i=Oy(s,["x","y"]);this.attrs.x=t,this.attrs.y=r,this._clearCache(sl);let o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(sl),this._clearSelfAndDescendantCache(ia),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){let e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,r=e.y,i=this.x(),o=this.y();return t!==void 0&&(i+=t),r!==void 0&&(o+=r),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,t){let r=[],i=this.getParent(),o,s;if(!(t&&t._id===this._id)){for(r.unshift(this);i&&(!t||i._id!==t._id);)r.unshift(i),i=i.parent;for(o=r.length,s=0;s<o;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Wt.Util.warn("Node has no parent. moveToTop function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Wt.Util.warn("Node has no parent. moveUp function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Wt.Util.warn("Node has no parent. moveDown function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Wt.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Wt.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Wt.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");let t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Q1,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),t,r,i,o,s,a={attrs:{},className:this.getClassName()};for(t in e)r=e[t],s=Wt.Util.isObject(r)&&!Wt.Util._isPlainObject(r)&&!Wt.Util._isArray(r),!s&&(i=typeof this[t]=="function"&&this[t],delete e[t],o=i?i.call(this):null,e[t]=r,o!==r&&(a.attrs[t]=r));return Wt.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){let i=[];t&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===r)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let t=e.replace(/ /g,"").split(","),r=t.length,i,o;for(i=0;i<r;i++)if(o=t[i],Wt.Util.isValidSelector(o)||(Wt.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Wt.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Wt.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){let e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(X6,this._getStage)}_getStage(){let e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(ia,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new Wt.Transform,this._eachAncestorReverse(function(r){let i=r.transformsEnabled();i==="all"?t.multiply(r.getTransform()):i==="position"&&t.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),t;{t=this._cache.get(ia)||new Wt.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();let r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){let i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(i-s,o-a)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();let i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(sl,this._getTransform)}_getTransform(){var e,t;let r=this._cache.get(sl)||new Wt.Transform;r.reset();let i=this.x(),o=this.y(),s=ol.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,f=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(i!==0||o!==0)&&r.translate(i,o),s!==0&&r.rotate(s),(c!==0||d!==0)&&r.skew(c,d),(a!==1||l!==1)&&r.scale(a,l),(f!==0||m!==0)&&r.translate(-1*f,-1*m),r.dirty=!1,r}clone(e){let t=Wt.Util.cloneObject(this.attrs),r,i,o,s,a;for(r in e)t[r]=e[r];let l=new this.constructor(t);for(r in this.eventListeners)for(i=this.eventListeners[r],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(vB)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};let t=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(t.x),o=e.y!==void 0?e.y:Math.floor(t.y),s=e.pixelRatio||1,a=new _d.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:s}),l=a.getContext(),c=new _d.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};let t=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,Wt.Util._urlToImage(this.toDataURL(e),function(o){t(o),i?.(o)})}catch(i){r(i)}})}toBlob(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{t(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ol.Konva.dragDistance}_off(e,t,r){let i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||t==="konva")&&(!t||s===t)&&(!r||r===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,t,r){this._fire(e+gB,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){let t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;let t=this.name();return t?(t||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){let t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){let r=this[Y6+Wt.Util._capitalize(e)];return Wt.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(ol.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){let r=this.attrs[e];r===t&&!Wt.Util.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,t,r){t&&this.nodeType===K6&&(t.target=this);let i=[yB,bB,_B,wB,CB,xB];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,t);let s=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,i;let o=(t=this._cache.get(Z1))!==null&&t!==void 0?t:{},s=o?.[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){let l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];s.push(...l),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(Z1,o)}return s}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;let r=this._getProtoListeners(e);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,t);let i=this.eventListeners[e];if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){let t=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;let o=r._getPointerById(t)||r._changedPointerPositions[0]||i;Xi.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){Xi.DD._dragElements.has(this._id)||this._createDragElement(e);let r=Xi.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){let r=this.getStage()._getPointerById(t.pointerId);if(!r)return;let i={x:r.x-t.offset.x,y:r.y-t.offset.y},o=this.dragBoundFunc();if(o!==void 0){let s=o.call(this,i,e);s?i=s:Wt.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){let t=Xi.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),Xi.DD._endDragBefore(e),Xi.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=Xi.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||ol.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Xi.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;let t=Xi.DD._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",i=t&&t.dragStatus==="ready";r?this.stopDrag():i&&Xi.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let t=this.getStage();if(!t)return!1;let r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return Wt.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return Wt.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let r=n.prototype.getClassName.call(e),i=e.children,o,s,a;t&&(e.attrs.container=t),ol.Konva[r]||(Wt.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");let l=ol.Konva[r];if(o=new l(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(n._createNode(i[a]));return o}};tv.Node=wt;wt.prototype.nodeType="Node";wt.prototype._attrsAffectingSize=[];wt.prototype.eventListeners={};wt.prototype.on.call(wt.prototype,SB,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(sl),this._clearSelfAndDescendantCache(ia)});wt.prototype.on.call(wt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(hC)});wt.prototype.on.call(wt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(dC)});wt.prototype.on.call(wt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Q1)});var yn=np.Factory.addGetterSetter;yn(wt,"zIndex");yn(wt,"absolutePosition");yn(wt,"position");yn(wt,"x",0,(0,Jn.getNumberValidator)());yn(wt,"y",0,(0,Jn.getNumberValidator)());yn(wt,"globalCompositeOperation","source-over",(0,Jn.getStringValidator)());yn(wt,"opacity",1,(0,Jn.getNumberValidator)());yn(wt,"name","",(0,Jn.getStringValidator)());yn(wt,"id","",(0,Jn.getStringValidator)());yn(wt,"rotation",0,(0,Jn.getNumberValidator)());np.Factory.addComponentsGetterSetter(wt,"scale",["x","y"]);yn(wt,"scaleX",1,(0,Jn.getNumberValidator)());yn(wt,"scaleY",1,(0,Jn.getNumberValidator)());np.Factory.addComponentsGetterSetter(wt,"skew",["x","y"]);yn(wt,"skewX",0,(0,Jn.getNumberValidator)());yn(wt,"skewY",0,(0,Jn.getNumberValidator)());np.Factory.addComponentsGetterSetter(wt,"offset",["x","y"]);yn(wt,"offsetX",0,(0,Jn.getNumberValidator)());yn(wt,"offsetY",0,(0,Jn.getNumberValidator)());yn(wt,"dragDistance",void 0,(0,Jn.getNumberValidator)());yn(wt,"width",0,(0,Jn.getNumberValidator)());yn(wt,"height",0,(0,Jn.getNumberValidator)());yn(wt,"listening",!0,(0,Jn.getBooleanValidator)());yn(wt,"preventDefault",!0,(0,Jn.getBooleanValidator)());yn(wt,"filters",void 0,function(n){return this._filterUpToDate=!1,n});yn(wt,"visible",!0,(0,Jn.getBooleanValidator)());yn(wt,"transformsEnabled","all",(0,Jn.getStringValidator)());yn(wt,"size");yn(wt,"dragBoundFunc");yn(wt,"draggable",!1,(0,Jn.getBooleanValidator)());np.Factory.backCompat(wt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})});var rp=Ye(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.Container=void 0;var wd=jt(),fC=Vn(),nv=Ut(),oa=class extends fC.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){let t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}let t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){let t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){let r=[];return this._descendants(i=>{let o=i._isMatch(e);return o&&r.push(i),!!(o&&t)}),r}_descendants(e){let t=!1,r=this.getChildren();for(let i of r){if(t=e(i),t)return!0;if(i.hasChildren()&&(t=i._descendants(e),t))return!0}return!1}toObject(){let e=fC.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){let t=fC.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){let t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=o&&o.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();let d=this.getAbsoluteTransform(t).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,t,r);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;let r=this.getLayer(),i=e||r&&r.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache();if(s&&s.hit){o.save();let l=this.getAbsoluteTransform(t).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,r,i){var o;let s=t&&t.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),d=typeof a=="number"&&typeof l=="number"||c,f=r===this;if(d){s.save();let p=this.getAbsoluteTransform(r),y=p.getMatrix();s.transform(y[0],y[1],y[2],y[3],y[4],y[5]),s.beginPath();let _;if(c)_=c.call(this,s,this);else{let C=this.clipX(),w=this.clipY();s.rect(C||0,w||0,a,l)}s.clip.apply(s,_),y=p.copy().invert().getMatrix(),s.transform(y[0],y[1],y[2],y[3],y[4],y[5])}let m=!f&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(p){p[e](t,r,i)}),m&&s.restore(),d&&s.restore()}getClientRect(e={}){var t;let r=e.skipTransform,i=e.relativeTo,o,s,a,l,c={x:1/0,y:1/0,width:0,height:0},d=this;(t=this.children)===null||t===void 0||t.forEach(function(p){if(!p.visible())return;let y=p.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(o===void 0?(o=y.x,s=y.y,a=y.x+y.width,l=y.y+y.height):(o=Math.min(o,y.x),s=Math.min(s,y.y),a=Math.max(a,y.x+y.width),l=Math.max(l,y.y+y.height)))});let f=this.find("Shape"),m=!1;for(let p=0;p<f.length;p++)if(f[p]._isVisible(this)){m=!0;break}return m&&o!==void 0?c={x:o,y:s,width:a-o,height:l-s}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}};rv.Container=oa;wd.Factory.addComponentsGetterSetter(oa,"clip",["x","y","width","height"]);wd.Factory.addGetterSetter(oa,"clipX",void 0,(0,nv.getNumberValidator)());wd.Factory.addGetterSetter(oa,"clipY",void 0,(0,nv.getNumberValidator)());wd.Factory.addGetterSetter(oa,"clipWidth",void 0,(0,nv.getNumberValidator)());wd.Factory.addGetterSetter(oa,"clipHeight",void 0,(0,nv.getNumberValidator)());wd.Factory.addGetterSetter(oa,"clipFunc")});var gC=Ye(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getCapturedShape=MB;dc.createEvent=pC;dc.hasPointerCapture=AB;dc.setPointerCapture=TB;dc.releaseCapture=Z6;var IB=kt(),ip=new Map,J6=IB.Konva._global.PointerEvent!==void 0;function MB(n){return ip.get(n)}function pC(n){return{evt:n,pointerId:n.pointerId}}function AB(n,e){return ip.get(n)===e}function TB(n,e){Z6(n),e.getStage()&&(ip.set(n,e),J6&&e._fire("gotpointercapture",pC(new PointerEvent("gotpointercapture"))))}function Z6(n,e){let t=ip.get(n);if(!t)return;let r=t.getStage();r&&r.content,ip.delete(n),J6&&t._fire("lostpointercapture",pC(new PointerEvent("lostpointercapture")))}});var hM=Ye(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.Stage=vs.stages=void 0;var ms=Tn(),PB=jt(),Q6=rp(),Zn=kt(),mC=Zf(),vC=J1(),NB=kt(),sa=gC(),OB="Stage",kB="string",eM="px",RB="mouseout",nM="mouseleave",rM="mouseover",iM="mouseenter",oM="mousemove",sM="mousedown",aM="mouseup",op="pointermove",sp="pointerdown",xd="pointerup",ap="pointercancel",LB="lostpointercapture",iv="pointerout",lp="pointerleave",ov="pointerover",sv="pointerenter",bC="contextmenu",lM="touchstart",cM="touchend",uM="touchmove",dM="touchcancel",_C="wheel",FB=5,jB=[[iM,"_pointerenter"],[sM,"_pointerdown"],[oM,"_pointermove"],[aM,"_pointerup"],[nM,"_pointerleave"],[lM,"_pointerdown"],[uM,"_pointermove"],[cM,"_pointerup"],[dM,"_pointercancel"],[rM,"_pointerover"],[_C,"_wheel"],[bC,"_contextmenu"],[sp,"_pointerdown"],[op,"_pointermove"],[xd,"_pointerup"],[ap,"_pointercancel"],[lp,"_pointerleave"],[LB,"_lostpointercapture"]],yC={mouse:{[iv]:RB,[lp]:nM,[ov]:rM,[sv]:iM,[op]:oM,[sp]:sM,[xd]:aM,[ap]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[iv]:"touchout",[lp]:"touchleave",[ov]:"touchover",[sv]:"touchenter",[op]:uM,[sp]:lM,[xd]:cM,[ap]:dM,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[iv]:iv,[lp]:lp,[ov]:ov,[sv]:sv,[op]:op,[sp]:sp,[xd]:xd,[ap]:ap,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},cp=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",Cd=n=>{let e=cp(n);if(e==="pointer")return Zn.Konva.pointerEventsEnabled&&yC.pointer;if(e==="touch")return yC.touch;if(e==="mouse")return yC.mouse};function tM(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&ms.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}var BB="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";vs.stages=[];var Ed=class extends Q6.Container{constructor(e){super(tM(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),vs.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{tM(this.attrs)}),this._checkVisibility()}_validateAdd(e){let t=e.getType()==="Layer",r=e.getType()==="FastLayer";t||r||ms.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===kB){let t;if(e.charAt(0)==="."){let r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?t=e:t=e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let e=this.children,t=e.length;for(let r=0;r<t;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Q6.Container.prototype.clone.call(this,e)}destroy(){super.destroy();let e=this.content;e&&ms.Util._isInDocument(e)&&this.container().removeChild(e);let t=vs.stages.indexOf(this);return t>-1&&vs.stages.splice(t,1),ms.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ms.Util.warn(BB),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();let t=new mC.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=t.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(o){if(!o.isVisible())return;let s=o._toKonvaCanvas(e);r.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}),t}getIntersection(e){if(!e)return null;let t=this.children,r=t.length,i=r-1;for(let o=i;o>=0;o--){let s=t[o].getIntersection(e);if(s)return s}return null}_resizeDOM(){let e=this.width(),t=this.height();this.content&&(this.content.style.width=e+eM,this.content.style.height=t+eM),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(r=>{r.setSize({width:e,height:t}),r.draw()})}add(e,...t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);let r=this.children.length;return r>FB&&ms.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Zn.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return sa.hasPointerCapture(e,this)}setPointerCapture(e){sa.setPointerCapture(e,this)}releaseCapture(e){sa.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){Zn.Konva.isBrowser&&jB.forEach(([e,t])=>{this.content.addEventListener(e,r=>{this[t](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let t=Cd(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let t=Cd(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){let t=Cd(e.type),r=cp(e.type);if(!t)return;this.setPointersPositions(e);let i=this._getTargetShape(r),o=!(Zn.Konva.isDragging()||Zn.Konva.isTransforming())||Zn.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(t.pointerout,{evt:e}),i._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):o&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){let t=Cd(e.type),r=cp(e.type);if(!t)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(o=>{let s=this.getIntersection(o);if(vC.DD.justDragged=!1,Zn.Konva["_"+r+"ListenClick"]=!0,!s||!s.isListening()){this[r+"ClickStartShape"]=void 0;return}Zn.Konva.capturePointerEventsEnabled&&s.setPointerCapture(o.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(t.pointerdown,{evt:e,pointerId:o.id}),i=!0;let a=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){let t=Cd(e.type),r=cp(e.type);if(!t||(Zn.Konva.isDragging()&&vC.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!(Zn.Konva.isDragging()||Zn.Konva.isTransforming())||Zn.Konva.hitOnDragEnabled)))return;let o={},s=!1,a=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{let c=sa.getCapturedShape(l.id)||this.getIntersection(l),d=l.id,f={evt:e,pointerId:d},m=a!==c;if(m&&a&&(a._fireAndBubble(t.pointerout,Ie({},f),c),a._fireAndBubble(t.pointerleave,Ie({},f),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(s=!0,m&&(c._fireAndBubble(t.pointerover,Ie({},f),a),c._fireAndBubble(t.pointerenter,Ie({},f),a),this[r+"targetShape"]=c),c._fireAndBubble(t.pointermove,Ie({},f))):a&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),s||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let t=Cd(e.type),r=cp(e.type);if(!t)return;this.setPointersPositions(e);let i=this[r+"ClickStartShape"],o=this[r+"ClickEndShape"],s={},a=!1;this._changedPointerPositions.forEach(l=>{let c=sa.getCapturedShape(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),s[c._id])return;s[c._id]=!0}let d=l.id,f={evt:e,pointerId:d},m=!1;Zn.Konva["_"+r+"InDblClickWindow"]?(m=!0,clearTimeout(this[r+"DblTimeout"])):vC.DD.justDragged||(Zn.Konva["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Zn.Konva["_"+r+"InDblClickWindow"]=!1},Zn.Konva.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(t.pointerup,Ie({},f)),Zn.Konva["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(t.pointerclick,Ie({},f)),m&&o&&o===c&&c._fireAndBubble(t.pointerdblclick,Ie({},f)))):(this[r+"ClickEndShape"]=null,Zn.Konva["_"+r+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),m&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),a||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Zn.Konva["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(bC,{evt:e}):this._fire(bC,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(_C,{evt:e}):this._fire(_C,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let t=sa.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(xd,sa.createEvent(e)),sa.releaseCapture(e.pointerId)}_lostpointercapture(e){sa.releaseCapture(e.pointerId)}setPointersPositions(e){let t=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})})):(r=(e.clientX-t.left)/t.scaleX,i=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:ms.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:ms.Util._getFirstPointerId(e)}])}_setPointerPosition(e){ms.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};let e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new mC.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new mC.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!Zn.Konva.isBrowser)return;let e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return ms.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};vs.Stage=Ed;Ed.prototype.nodeType=OB;(0,NB._registerNode)(Ed);PB.Factory.addGetterSetter(Ed,"container");Zn.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{vs.stages.forEach(n=>{n.batchDraw()})})});var mr=Ye(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.Shape=aa.shapes=void 0;var VB=kt(),ys=Tn(),Ze=jt(),fM=Vn(),lr=Ut(),UB=kt(),wC=gC(),pM="hasShadow",gM="shadowRGBA",mM="patternImage",vM="linearGradient",yM="radialGradient",av;function CC(){return av||(av=ys.Util.createCanvasElement().getContext("2d"),av)}aa.shapes={};function HB(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function qB(n){n.stroke()}function zB(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function GB(n){n.stroke()}function $B(){this._clearCache(pM)}function WB(){this._clearCache(gM)}function YB(){this._clearCache(mM)}function KB(){this._clearCache(vM)}function XB(){this._clearCache(yM)}var Oe=class extends fM.Node{constructor(e){super(e);let t;for(;t=ys.Util.getRandomColor(),!(t&&!(t in aa.shapes)););this.colorKey=t,aa.shapes[t]=this}getContext(){return ys.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ys.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(pM,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(mM,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){let t=CC().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){let r=new ys.Transform;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(VB.Konva.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let i=r.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);t.setTransform(o)}return t}}_getLinearGradient(){return this._getCache(vM,this.__getLinearGradient)}__getLinearGradient(){let e=this.fillLinearGradientColorStops();if(e){let t=CC(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(r.x,r.y,i.x,i.y);for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}_getRadialGradient(){return this._getCache(yM,this.__getRadialGradient)}__getRadialGradient(){let e=this.fillRadialGradientColorStops();if(e){let t=CC(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}getShadowRGBA(){return this._getCache(gM,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;let e=ys.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){let t=this.getStage();if(!t)return!1;let r=t.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return fM.Node.prototype.destroy.call(this),delete aa.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!((t=this.attrs.perfectDrawEnabled)!==null&&t!==void 0?t:!0))return!1;let i=e||this.hasFill(),o=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&o&&s)return!0;let a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&o&&a&&l)}setStrokeHitEnabled(e){ys.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){let e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,r=this.getParent();for(;r;){if(r.isCached()){t=!0;break}r=r.getParent()}let i=e.skipTransform,o=e.relativeTo||t&&this.getStage()||void 0,s=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=s.width+l,d=s.height+l,f=!e.skipShadow&&this.hasShadow(),m=f?this.shadowOffsetX():0,p=f?this.shadowOffsetY():0,y=c+Math.abs(m),_=d+Math.abs(p),C=f&&this.shadowBlur()||0,w=y+C*2,S=_+C*2,O={width:w,height:S,x:-(l/2+C)+Math.min(m,0)+s.x,y:-(l/2+C)+Math.min(p,0)+s.y};return i?O:this._transformedRect(O,o)}drawScene(e,t,r){let i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),d,f=!1,m=t===this;if(!this.isVisible()&&!m)return this;if(a){s.save();let p=this.getAbsoluteTransform(t).getMatrix();return s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!f){d=this.getStage();let p=r||d.bufferCanvas,y=p.getContext();y.clear(),y.save(),y._applyLineJoin(this);let _=this.getAbsoluteTransform(t).getMatrix();y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.call(this,y,this),y.restore();let C=p.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(p._canvas,p.x||0,p.y||0,p.width/C,p.height/C)}else{if(s._applyLineJoin(this),!m){let p=this.getAbsoluteTransform(t).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,t,r=!1){if(!this.shouldDrawHit(t,r))return this;let i=this.getLayer(),o=e||i.hitCanvas,s=o&&o.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||ys.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();let f=this.getAbsoluteTransform(t).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),s._applyLineJoin(this),!(this===t)){let f=this.getAbsoluteTransform(t).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){let t=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=t.hit,o=i.getContext(),s=i.getWidth(),a=i.getHeight();o.clear(),o.drawImage(r._canvas,0,0,s,a);try{let l=o.getImageData(0,0,s,a),c=l.data,d=c.length,f=ys.Util._hexToRgb(this.colorKey);for(let m=0;m<d;m+=4)c[m+3]>e?(c[m]=f.r,c[m+1]=f.g,c[m+2]=f.b,c[m+3]=255):c[m+3]=0;o.putImageData(l,0,0)}catch(l){ys.Util.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return wC.hasPointerCapture(e,this)}setPointerCapture(e){wC.setPointerCapture(e,this)}releaseCapture(e){wC.releaseCapture(e,this)}};aa.Shape=Oe;Oe.prototype._fillFunc=HB;Oe.prototype._strokeFunc=qB;Oe.prototype._fillFuncHit=zB;Oe.prototype._strokeFuncHit=GB;Oe.prototype._centroid=!1;Oe.prototype.nodeType="Shape";(0,UB._registerNode)(Oe);Oe.prototype.eventListeners={};Oe.prototype.on.call(Oe.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",$B);Oe.prototype.on.call(Oe.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",WB);Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",YB);Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",KB);Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",XB);Ze.Factory.addGetterSetter(Oe,"stroke",void 0,(0,lr.getStringOrGradientValidator)());Ze.Factory.addGetterSetter(Oe,"strokeWidth",2,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"fillAfterStrokeEnabled",!1);Ze.Factory.addGetterSetter(Oe,"hitStrokeWidth","auto",(0,lr.getNumberOrAutoValidator)());Ze.Factory.addGetterSetter(Oe,"strokeHitEnabled",!0,(0,lr.getBooleanValidator)());Ze.Factory.addGetterSetter(Oe,"perfectDrawEnabled",!0,(0,lr.getBooleanValidator)());Ze.Factory.addGetterSetter(Oe,"shadowForStrokeEnabled",!0,(0,lr.getBooleanValidator)());Ze.Factory.addGetterSetter(Oe,"lineJoin");Ze.Factory.addGetterSetter(Oe,"lineCap");Ze.Factory.addGetterSetter(Oe,"sceneFunc");Ze.Factory.addGetterSetter(Oe,"hitFunc");Ze.Factory.addGetterSetter(Oe,"dash");Ze.Factory.addGetterSetter(Oe,"dashOffset",0,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"shadowColor",void 0,(0,lr.getStringValidator)());Ze.Factory.addGetterSetter(Oe,"shadowBlur",0,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"shadowOpacity",1,(0,lr.getNumberValidator)());Ze.Factory.addComponentsGetterSetter(Oe,"shadowOffset",["x","y"]);Ze.Factory.addGetterSetter(Oe,"shadowOffsetX",0,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"shadowOffsetY",0,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"fillPatternImage");Ze.Factory.addGetterSetter(Oe,"fill",void 0,(0,lr.getStringOrGradientValidator)());Ze.Factory.addGetterSetter(Oe,"fillPatternX",0,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"fillPatternY",0,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"fillLinearGradientColorStops");Ze.Factory.addGetterSetter(Oe,"strokeLinearGradientColorStops");Ze.Factory.addGetterSetter(Oe,"fillRadialGradientStartRadius",0);Ze.Factory.addGetterSetter(Oe,"fillRadialGradientEndRadius",0);Ze.Factory.addGetterSetter(Oe,"fillRadialGradientColorStops");Ze.Factory.addGetterSetter(Oe,"fillPatternRepeat","repeat");Ze.Factory.addGetterSetter(Oe,"fillEnabled",!0);Ze.Factory.addGetterSetter(Oe,"strokeEnabled",!0);Ze.Factory.addGetterSetter(Oe,"shadowEnabled",!0);Ze.Factory.addGetterSetter(Oe,"dashEnabled",!0);Ze.Factory.addGetterSetter(Oe,"strokeScaleEnabled",!0);Ze.Factory.addGetterSetter(Oe,"fillPriority","color");Ze.Factory.addComponentsGetterSetter(Oe,"fillPatternOffset",["x","y"]);Ze.Factory.addGetterSetter(Oe,"fillPatternOffsetX",0,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"fillPatternOffsetY",0,(0,lr.getNumberValidator)());Ze.Factory.addComponentsGetterSetter(Oe,"fillPatternScale",["x","y"]);Ze.Factory.addGetterSetter(Oe,"fillPatternScaleX",1,(0,lr.getNumberValidator)());Ze.Factory.addGetterSetter(Oe,"fillPatternScaleY",1,(0,lr.getNumberValidator)());Ze.Factory.addComponentsGetterSetter(Oe,"fillLinearGradientStartPoint",["x","y"]);Ze.Factory.addComponentsGetterSetter(Oe,"strokeLinearGradientStartPoint",["x","y"]);Ze.Factory.addGetterSetter(Oe,"fillLinearGradientStartPointX",0);Ze.Factory.addGetterSetter(Oe,"strokeLinearGradientStartPointX",0);Ze.Factory.addGetterSetter(Oe,"fillLinearGradientStartPointY",0);Ze.Factory.addGetterSetter(Oe,"strokeLinearGradientStartPointY",0);Ze.Factory.addComponentsGetterSetter(Oe,"fillLinearGradientEndPoint",["x","y"]);Ze.Factory.addComponentsGetterSetter(Oe,"strokeLinearGradientEndPoint",["x","y"]);Ze.Factory.addGetterSetter(Oe,"fillLinearGradientEndPointX",0);Ze.Factory.addGetterSetter(Oe,"strokeLinearGradientEndPointX",0);Ze.Factory.addGetterSetter(Oe,"fillLinearGradientEndPointY",0);Ze.Factory.addGetterSetter(Oe,"strokeLinearGradientEndPointY",0);Ze.Factory.addComponentsGetterSetter(Oe,"fillRadialGradientStartPoint",["x","y"]);Ze.Factory.addGetterSetter(Oe,"fillRadialGradientStartPointX",0);Ze.Factory.addGetterSetter(Oe,"fillRadialGradientStartPointY",0);Ze.Factory.addComponentsGetterSetter(Oe,"fillRadialGradientEndPoint",["x","y"]);Ze.Factory.addGetterSetter(Oe,"fillRadialGradientEndPointX",0);Ze.Factory.addGetterSetter(Oe,"fillRadialGradientEndPointY",0);Ze.Factory.addGetterSetter(Oe,"fillPatternRotation",0);Ze.Factory.addGetterSetter(Oe,"fillRule",void 0,(0,lr.getStringValidator)());Ze.Factory.backCompat(Oe,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})});var SC=Ye(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.Layer=void 0;var la=Tn(),xC=rp(),Sd=Vn(),EC=jt(),bM=Zf(),JB=Ut(),ZB=mr(),QB=kt(),eV="#",tV="beforeDraw",nV="draw",_M=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],rV=_M.length,al=class extends xC.Container{constructor(e){super(e),this.canvas=new bM.SceneCanvas,this.hitCanvas=new bM.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);let t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Sd.Node.prototype.moveToTop.call(this);let e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Sd.Node.prototype.moveUp.call(this))return!1;let t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Sd.Node.prototype.moveDown.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Sd.Node.prototype.moveToBottom.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){let e=this.getNativeCanvasElement();return Sd.Node.prototype.remove.call(this),e&&e.parentNode&&la.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&la.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Sd.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){la.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){la.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,la.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,r=!1;for(;;){for(let i=0;i<rV;i++){let o=_M[i],s=this._getIntersection({x:e.x+o.x*t,y:e.y+o.y*t}),a=s.shape;if(a)return a;if(r=!!s.antialiased,!s.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){let t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=r[3];if(i===255){let o=la.Util._rgbToHex(r[0],r[1],r[2]),s=ZB.shapes[eV+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas();return this._fire(tV,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),xC.Container.prototype.drawScene.call(this,o,t,r),this._fire(nV,{node:this}),this}drawHit(e,t){let r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),xC.Container.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){la.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return la.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;let e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return la.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};lv.Layer=al;al.prototype.nodeType="Layer";(0,QB._registerNode)(al);EC.Factory.addGetterSetter(al,"imageSmoothingEnabled",!0);EC.Factory.addGetterSetter(al,"clearBeforeDraw",!0);EC.Factory.addGetterSetter(al,"hitGraphEnabled",!0,(0,JB.getBooleanValidator)())});var wM=Ye(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.FastLayer=void 0;var iV=Tn(),oV=SC(),sV=kt(),up=class extends oV.Layer{constructor(e){super(e),this.listening(!1),iV.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};cv.FastLayer=up;up.prototype.nodeType="FastLayer";(0,sV._registerNode)(up)});var dv=Ye(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.Group=void 0;var aV=Tn(),lV=rp(),cV=kt(),dp=class extends lV.Container{_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&aV.Util.throw("You may only add groups and shapes to groups.")}};uv.Group=dp;dp.prototype.nodeType="Group";(0,cV._registerNode)(dp)});var fv=Ye(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.Animation=void 0;var DC=kt(),CM=Tn(),IC=function(){return DC.glob.performance&&DC.glob.performance.now?function(){return DC.glob.performance.now()}:function(){return new Date().getTime()}}(),Dd=class n{constructor(e,t){this.id=n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:IC(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){let t=this.layers,r=t.length;for(let i=0;i<r;i++)if(t[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){let t=n.animations,r=t.length;for(let i=0;i<r;i++)if(t[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=IC(),n._addAnimation(this),this}stop(){return n._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){let t=e.id,r=this.animations,i=r.length;for(let o=0;o<i;o++)if(r[o].id===t){this.animations.splice(o,1);break}}static _runFrames(){let e={},t=this.animations;for(let r=0;r<t.length;r++){let i=t[r],o=i.layers,s=i.func;i._updateFrameObject(IC());let a=o.length,l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){let d=o[c];d._id!==void 0&&(e[d._id]=d)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){let e=n;e.animations.length?(e._runFrames(),CM.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,CM.Util.requestAnimFrame(this._animationLoop))}};hv.Animation=Dd;Dd.animations=[];Dd.animIdCounter=0;Dd.animRunning=!1});var DM=Ye(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.Easings=bs.Tween=void 0;var ca=Tn(),uV=fv(),dV=Vn(),hV=kt(),fV={node:1,duration:1,easing:1,onFinish:1,yoyo:1},pV=1,xM=2,EM=3,SM=["fill","stroke","shadowColor"],gV=0,MC=class{constructor(e,t,r,i,o,s,a){this.prop=e,this.propFunc=t,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}fire(e){let t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=xM,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=EM,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){let e=this.getTimer()-this._startTime;this.state===xM?this.setTime(e):this.state===EM&&this.setTime(this.duration-e)}pause(){this.state=pV,this.fire("onPause")}getTimer(){return new Date().getTime()}},Id=class n{constructor(e){let t=this,r=e.node,i=r._id,o=e.easing||bs.Easings.Linear,s=!!e.yoyo,a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=gV++;let c=r.getLayer()||(r instanceof hV.Konva.Stage?r.getLayers():null);c||ca.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new uV.Animation(function(){t.tween.onEnterFrame()},c),this.tween=new MC(l,function(d){t._tweenFunc(d)},o,0,1,a*1e3,s),this._addListeners(),n.attrs[i]||(n.attrs[i]={}),n.attrs[i][this._id]||(n.attrs[i][this._id]={}),n.tweens[i]||(n.tweens[i]={});for(l in e)fV[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){let r=this.node,i=r._id,o,s,a,l,c,d=n.tweens[i][e];d&&delete n.attrs[i][d][e];let f=r.getAttr(e);if(ca.Util._isArray(t))if(o=[],s=Math.max(t.length,f.length),e==="points"&&t.length!==f.length&&(t.length>f.length?(l=f,f=ca.Util._prepareArrayForTween(f,t,r.closed())):(a=t,t=ca.Util._prepareArrayForTween(t,f,r.closed()))),e.indexOf("fill")===0)for(let m=0;m<s;m++)if(m%2===0)o.push(t[m]-f[m]);else{let p=ca.Util.colorToRGBA(f[m]);c=ca.Util.colorToRGBA(t[m]),f[m]=p,o.push({r:c.r-p.r,g:c.g-p.g,b:c.b-p.b,a:c.a-p.a})}else for(let m=0;m<s;m++)o.push(t[m]-f[m]);else SM.indexOf(e)!==-1?(f=ca.Util.colorToRGBA(f),c=ca.Util.colorToRGBA(t),o={r:c.r-f.r,g:c.g-f.g,b:c.b-f.b,a:c.a-f.a}):o=t-f;n.attrs[i][this._id][e]={start:f,diff:o,end:t,trueEnd:a,trueStart:l},n.tweens[i][e]=this._id}_tweenFunc(e){let t=this.node,r=n.attrs[t._id][this._id],i,o,s,a,l,c,d,f;for(i in r){if(o=r[i],s=o.start,a=o.diff,f=o.end,ca.Util._isArray(s))if(l=[],d=Math.max(s.length,f.length),i.indexOf("fill")===0)for(c=0;c<d;c++)c%2===0?l.push((s[c]||0)+a[c]*e):l.push("rgba("+Math.round(s[c].r+a[c].r*e)+","+Math.round(s[c].g+a[c].g*e)+","+Math.round(s[c].b+a[c].b*e)+","+(s[c].a+a[c].a*e)+")");else for(c=0;c<d;c++)l.push((s[c]||0)+a[c]*e);else SM.indexOf(i)!==-1?l="rgba("+Math.round(s.r+a.r*e)+","+Math.round(s.g+a.g*e)+","+Math.round(s.b+a.b*e)+","+(s.a+a.a*e)+")":l=s+a*e;t.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let e=this.node._id,t=this._id,r=n.tweens[e];this.pause(),this.anim&&this.anim.stop();for(let i in r)delete n.tweens[e][i];delete n.attrs[e][t],n.tweens[e]&&(Object.keys(n.tweens[e]).length===0&&delete n.tweens[e],Object.keys(n.attrs[e]).length===0&&delete n.attrs[e])}};bs.Tween=Id;Id.attrs={};Id.tweens={};dV.Node.prototype.to=function(n){let e=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),e&&e()},new Id(n).play()};bs.Easings={BackEaseIn(n,e,t,r){return t*(n/=r)*n*((1.70158+1)*n-1.70158)+e},BackEaseOut(n,e,t,r){return t*((n=n/r-1)*n*((1.70158+1)*n+1.70158)+1)+e},BackEaseInOut(n,e,t,r){let i=1.70158;return(n/=r/2)<1?t/2*(n*n*(((i*=1.525)+1)*n-i))+e:t/2*((n-=2)*n*(((i*=1.525)+1)*n+i)+2)+e},ElasticEaseIn(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),-(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e)},ElasticEaseOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),i*Math.pow(2,-10*n)*Math.sin((n*r-s)*(2*Math.PI)/o)+t+e)},ElasticEaseInOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r/2)===2?e+t:(o||(o=r*(.3*1.5)),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),n<1?-.5*(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o)*.5+t+e)},BounceEaseOut(n,e,t,r){return(n/=r)<1/2.75?t*(7.5625*n*n)+e:n<2/2.75?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},BounceEaseIn(n,e,t,r){return t-bs.Easings.BounceEaseOut(r-n,0,t,r)+e},BounceEaseInOut(n,e,t,r){return n<r/2?bs.Easings.BounceEaseIn(n*2,0,t,r)*.5+e:bs.Easings.BounceEaseOut(n*2-r,0,t,r)*.5+t*.5+e},EaseIn(n,e,t,r){return t*(n/=r)*n+e},EaseOut(n,e,t,r){return-t*(n/=r)*(n-2)+e},EaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},StrongEaseIn(n,e,t,r){return t*(n/=r)*n*n*n*n+e},StrongEaseOut(n,e,t,r){return t*((n=n/r-1)*n*n*n*n+1)+e},StrongEaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},Linear(n,e,t,r){return t*n/r+e}}});var TM=Ye(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.Konva=void 0;var mV=kt(),AC=Tn(),vV=Vn(),yV=rp(),IM=hM(),bV=SC(),_V=wM(),wV=dv(),CV=J1(),MM=mr(),xV=fv(),AM=DM(),EV=lC(),SV=Zf();Md.Konva=AC.Util._assign(mV.Konva,{Util:AC.Util,Transform:AC.Transform,Node:vV.Node,Container:yV.Container,Stage:IM.Stage,stages:IM.stages,Layer:bV.Layer,FastLayer:_V.FastLayer,Group:wV.Group,DD:CV.DD,Shape:MM.Shape,shapes:MM.shapes,Animation:xV.Animation,Tween:AM.Tween,Easings:AM.Easings,Context:EV.Context,Canvas:SV.Canvas});Md.default=Md.Konva});var NM=Ye(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.Arc=void 0;var pv=jt(),DV=mr(),PM=kt(),gv=Ut(),IV=kt(),ko=class extends DV.Shape{_sceneFunc(e){let t=PM.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),i=PM.Konva.getAngle(r?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=o*(o>0?e:t),d=s*(s>0?t:e),f=a*(a>0?e:t),m=l*(l>0?t:e);return{x:c,y:r?-1*m:f,width:d-c,height:m-f}}};mv.Arc=ko;ko.prototype._centroid=!0;ko.prototype.className="Arc";ko.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,IV._registerNode)(ko);pv.Factory.addGetterSetter(ko,"innerRadius",0,(0,gv.getNumberValidator)());pv.Factory.addGetterSetter(ko,"outerRadius",0,(0,gv.getNumberValidator)());pv.Factory.addGetterSetter(ko,"angle",0,(0,gv.getNumberValidator)());pv.Factory.addGetterSetter(ko,"clockwise",!1,(0,gv.getBooleanValidator)())});var PC=Ye(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.Line=void 0;var vv=jt(),MV=kt(),AV=mr(),kM=Ut();function TC(n,e,t,r,i,o,s){let a=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-t,2)+Math.pow(o-r,2)),c=s*a/(a+l),d=s*l/(a+l),f=t-c*(i-n),m=r-c*(o-e),p=t+d*(i-n),y=r+d*(o-e);return[f,m,p,y]}function OM(n,e){let t=n.length,r=[];for(let i=2;i<t-2;i+=2){let o=TC(n[i-2],n[i-1],n[i],n[i+1],n[i+2],n[i+3],e);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(n[i]),r.push(n[i+1]),r.push(o[2]),r.push(o[3]))}return r}var _s=class extends AV.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let t=this.points(),r=t.length,i=this.tension(),o=this.closed(),s=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(t[0],t[1]),i!==0&&r>4){let l=this.getTensionPoints(),c=l.length;for(a=o?0:4,o||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);o||e.quadraticCurveTo(l[c-2],l[c-1],t[r-2],t[r-1])}else if(s)for(a=2;a<r;)e.bezierCurveTo(t[a++],t[a++],t[a++],t[a++],t[a++],t[a++]);else for(a=2;a<r;a+=2)e.lineTo(t[a],t[a+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():OM(this.points(),this.tension())}_getTensionPointsClosed(){let e=this.points(),t=e.length,r=this.tension(),i=TC(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),o=TC(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),s=OM(e,r);return[i[2],i[3]].concat(s).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);return{x:t,y:i,width:r-t,height:o-i}}};yv.Line=_s;_s.prototype.className="Line";_s.prototype._attrsAffectingSize=["points","bezier","tension"];(0,MV._registerNode)(_s);vv.Factory.addGetterSetter(_s,"closed",!1);vv.Factory.addGetterSetter(_s,"bezier",!1);vv.Factory.addGetterSetter(_s,"tension",0,(0,kM.getNumberValidator)());vv.Factory.addGetterSetter(_s,"points",[],(0,kM.getNumberArrayValidator)())});var RM=Ye(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.t2length=Nr.getQuadraticArcLength=Nr.getCubicArcLength=Nr.binomialCoefficients=Nr.cValues=Nr.tValues=void 0;Nr.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];Nr.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];Nr.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];var TV=(n,e,t)=>{let r,i,s=t/2;r=0;for(let a=0;a<20;a++)i=s*Nr.tValues[20][a]+s,r+=Nr.cValues[20][a]*NV(n,e,i);return s*r};Nr.getCubicArcLength=TV;var PV=(n,e,t)=>{t===void 0&&(t=1);let r=n[0]-2*n[1]+n[2],i=e[0]-2*e[1]+e[2],o=2*n[1]-2*n[0],s=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*o+i*s),c=o*o+s*s;if(a===0)return t*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(e[2]-e[0],2));let d=l/(2*a),f=c/a,m=t+d,p=f-d*d,y=m*m+p>0?Math.sqrt(m*m+p):0,_=d*d+p>0?Math.sqrt(d*d+p):0,C=d+Math.sqrt(d*d+p)!==0?p*Math.log(Math.abs((m+y)/(d+_))):0;return Math.sqrt(a)/2*(m*y-d*_+C)};Nr.getQuadraticArcLength=PV;function NV(n,e,t){let r=NC(1,t,n),i=NC(1,t,e),o=r*r+i*i;return Math.sqrt(o)}var NC=(n,e,t)=>{let r=t.length-1,i,o;if(r===0)return 0;if(n===0){o=0;for(let s=0;s<=r;s++)o+=Nr.binomialCoefficients[r][s]*Math.pow(1-e,r-s)*Math.pow(e,s)*t[s];return o}else{i=new Array(r);for(let s=0;s<r;s++)i[s]=r*(t[s+1]-t[s]);return NC(n-1,e,i)}},OV=(n,e,t)=>{let r=1,i=n/e,o=(n-t(i))/e,s=0;for(;r>.001;){let a=t(i+o),l=Math.abs(n-a)/e;if(l<r)r=l,i+=o;else{let c=t(i-o),d=Math.abs(n-c)/e;d<r?(r=d,i-=o):o/=2}if(s++,s>500)break}return i};Nr.t2length=OV});var _v=Ye(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.Path=void 0;var kV=jt(),RV=kt(),LV=mr(),Ad=RM(),hc=class n extends LV.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=n.parsePathData(this.data()),this.pathLength=n.getPathLength(this.dataArray)}_sceneFunc(e){let t=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<t.length;i++){let o=t[i].command,s=t[i].points;switch(o){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":let a=s[0],l=s[1],c=s[2],d=s[3],f=s[4],m=s[5],p=s[6],y=s[7],_=c>d?c:d,C=c>d?1:c/d,w=c>d?d/c:1;e.translate(a,l),e.rotate(p),e.scale(C,w),e.arc(0,0,_,f,f+m,1-y),e.scale(1/C,1/w),e.rotate(-p),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){let c=l.points[4],d=l.points[5],f=l.points[4]+d,m=Math.PI/180;if(Math.abs(c-f)<m&&(m=Math.abs(c-f)),d<0)for(let p=c-m;p>f;p-=m){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(y.x,y.y)}else for(let p=c+m;p<f;p+=m){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(y.x,y.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){let d=n.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],isNaN(s)||(t=Math.min(t,s),r=Math.max(r,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:t,y:i,width:r-t,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return n.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}static getPathLength(e){let t=0;for(let r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let r,i=0,o=t.length;if(!o)return null;for(;i<o&&e>t[i].pathLength;)e-=t[i].pathLength,++i;if(i===o)return r=t[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return t[i].command==="M"?(r=t[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:t[i].start.x,y:t[i].start.y};let s=t[i],a=s.points;switch(s.command){case"L":return n.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return n.getPointOnCubicBezier((0,Ad.t2length)(e,n.getPathLength(t),_=>(0,Ad.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return n.getPointOnQuadraticBezier((0,Ad.t2length)(e,n.getPathLength(t),_=>(0,Ad.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":let l=a[0],c=a[1],d=a[2],f=a[3],m=a[5],p=a[6],y=a[4];return y+=m*e/s.pathLength,n.getPointOnEllipticalArc(l,c,d,f,y,p)}return null}static getPointOnLine(e,t,r,i,o,s,a){s=s??t,a=a??r;let l=this.getLineLength(t,r,i,o);if(l<1e-10)return{x:t,y:r};if(i===t)return{x:s,y:a+(o>r?e:-e)};let c=(o-r)/(i-t),d=Math.sqrt(e*e/(1+c*c))*(i<t?-1:1),f=c*d;if(Math.abs(a-r-c*(s-t))<1e-10)return{x:s+d,y:a+f};let m=((s-t)*(i-t)+(a-r)*(o-r))/(l*l),p=t+m*(i-t),y=r+m*(o-r),_=this.getLineLength(s,a,p,y),C=Math.sqrt(e*e-_*_),w=Math.sqrt(C*C/(1+c*c))*(i<t?-1:1),S=c*w;return{x:p+w,y:y+S}}static getPointOnCubicBezier(e,t,r,i,o,s,a,l,c){function d(C){return C*C*C}function f(C){return 3*C*C*(1-C)}function m(C){return 3*C*(1-C)*(1-C)}function p(C){return(1-C)*(1-C)*(1-C)}let y=l*d(e)+s*f(e)+i*m(e)+t*p(e),_=c*d(e)+a*f(e)+o*m(e)+r*p(e);return{x:y,y:_}}static getPointOnQuadraticBezier(e,t,r,i,o,s,a){function l(p){return p*p}function c(p){return 2*p*(1-p)}function d(p){return(1-p)*(1-p)}let f=s*l(e)+i*c(e)+t*d(e),m=a*l(e)+o*c(e)+r*d(e);return{x:f,y:m}}static getPointOnEllipticalArc(e,t,r,i,o,s){let a=Math.cos(s),l=Math.sin(s),c={x:r*Math.cos(o),y:i*Math.sin(o)};return{x:e+(c.x*a-c.y*l),y:t+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let f=0;f<r.length;f++)t=t.replace(new RegExp(r[f],"g"),"|"+r[f]);let i=t.split("|"),o=[],s=[],a=0,l=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,d;for(let f=1;f<i.length;f++){let m=i[f],p=m.charAt(0);for(m=m.slice(1),s.length=0;d=c.exec(m);)s.push(d[0]);let y=[];for(let _=0,C=s.length;_<C;_++){if(s[_]==="00"){y.push(0,0);continue}let w=parseFloat(s[_]);isNaN(w)?y.push(0):y.push(w)}for(;y.length>0&&!isNaN(y[0]);){let _="",C=[],w=a,S=l,O,k,q,J,H,j,te,ie,T,P;switch(p){case"l":a+=y.shift(),l+=y.shift(),_="L",C.push(a,l);break;case"L":a=y.shift(),l=y.shift(),C.push(a,l);break;case"m":let z=y.shift(),U=y.shift();if(a+=z,l+=U,_="M",o.length>2&&o[o.length-1].command==="z"){for(let ce=o.length-2;ce>=0;ce--)if(o[ce].command==="M"){a=o[ce].points[0]+z,l=o[ce].points[1]+U;break}}C.push(a,l),p="l";break;case"M":a=y.shift(),l=y.shift(),_="M",C.push(a,l),p="L";break;case"h":a+=y.shift(),_="L",C.push(a,l);break;case"H":a=y.shift(),_="L",C.push(a,l);break;case"v":l+=y.shift(),_="L",C.push(a,l);break;case"V":l=y.shift(),_="L",C.push(a,l);break;case"C":C.push(y.shift(),y.shift(),y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"c":C.push(a+y.shift(),l+y.shift(),a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"S":k=a,q=l,O=o[o.length-1],O.command==="C"&&(k=a+(a-O.points[2]),q=l+(l-O.points[3])),C.push(k,q,y.shift(),y.shift()),a=y.shift(),l=y.shift(),_="C",C.push(a,l);break;case"s":k=a,q=l,O=o[o.length-1],O.command==="C"&&(k=a+(a-O.points[2]),q=l+(l-O.points[3])),C.push(k,q,a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"Q":C.push(y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"q":C.push(a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="Q",C.push(a,l);break;case"T":k=a,q=l,O=o[o.length-1],O.command==="Q"&&(k=a+(a-O.points[0]),q=l+(l-O.points[1])),a=y.shift(),l=y.shift(),_="Q",C.push(k,q,a,l);break;case"t":k=a,q=l,O=o[o.length-1],O.command==="Q"&&(k=a+(a-O.points[0]),q=l+(l-O.points[1])),a+=y.shift(),l+=y.shift(),_="Q",C.push(k,q,a,l);break;case"A":J=y.shift(),H=y.shift(),j=y.shift(),te=y.shift(),ie=y.shift(),T=a,P=l,a=y.shift(),l=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(T,P,a,l,te,ie,J,H,j);break;case"a":J=y.shift(),H=y.shift(),j=y.shift(),te=y.shift(),ie=y.shift(),T=a,P=l,a+=y.shift(),l+=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(T,P,a,l,te,ie,J,H,j);break}o.push({command:_||p,points:C,start:{x:w,y:S},pathLength:this.calcLength(w,S,_||p,C)})}(p==="z"||p==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,r,i){let o,s,a,l,c=n;switch(r){case"L":return c.getLineLength(e,t,i[0],i[1]);case"C":return(0,Ad.getCubicArcLength)([e,i[0],i[2],i[4]],[t,i[1],i[3],i[5]],1);case"Q":return(0,Ad.getQuadraticArcLength)([e,i[0],i[2]],[t,i[1],i[3]],1);case"A":o=0;let d=i[4],f=i[5],m=i[4]+f,p=Math.PI/180;if(Math.abs(d-m)<p&&(p=Math.abs(d-m)),s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),f<0)for(l=d-p;l>m;l-=p)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(l=d+p;l<m;l+=p)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,t,r,i,o,s,a,l,c){let d=c*(Math.PI/180),f=Math.cos(d)*(e-r)/2+Math.sin(d)*(t-i)/2,m=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(t-i)/2,p=f*f/(a*a)+m*m/(l*l);p>1&&(a*=Math.sqrt(p),l*=Math.sqrt(p));let y=Math.sqrt((a*a*(l*l)-a*a*(m*m)-l*l*(f*f))/(a*a*(m*m)+l*l*(f*f)));o===s&&(y*=-1),isNaN(y)&&(y=0);let _=y*a*m/l,C=y*-l*f/a,w=(e+r)/2+Math.cos(d)*_-Math.sin(d)*C,S=(t+i)/2+Math.sin(d)*_+Math.cos(d)*C,O=function(ie){return Math.sqrt(ie[0]*ie[0]+ie[1]*ie[1])},k=function(ie,T){return(ie[0]*T[0]+ie[1]*T[1])/(O(ie)*O(T))},q=function(ie,T){return(ie[0]*T[1]<ie[1]*T[0]?-1:1)*Math.acos(k(ie,T))},J=q([1,0],[(f-_)/a,(m-C)/l]),H=[(f-_)/a,(m-C)/l],j=[(-1*f-_)/a,(-1*m-C)/l],te=q(H,j);return k(H,j)<=-1&&(te=Math.PI),k(H,j)>=1&&(te=0),s===0&&te>0&&(te=te-2*Math.PI),s===1&&te<0&&(te=te+2*Math.PI),[w,S,a,l,J,te,d,s]}};bv.Path=hc;hc.prototype.className="Path";hc.prototype._attrsAffectingSize=["data"];(0,RV._registerNode)(hc);kV.Factory.addGetterSetter(hc,"data")});var jM=Ye(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.Arrow=void 0;var wv=jt(),FV=PC(),FM=Ut(),jV=kt(),LM=_v(),ua=class extends FV.Line{_sceneFunc(e){super._sceneFunc(e);let t=Math.PI*2,r=this.points(),i=r,o=this.tension()!==0&&r.length>4;o&&(i=this.getTensionPoints());let s=this.pointerLength(),a=r.length,l,c;if(o){let m=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],p=LM.Path.calcLength(i[i.length-4],i[i.length-3],"C",m),y=LM.Path.getPointOnQuadraticBezier(Math.min(1,1-s/p),m[0],m[1],m[2],m[3],m[4],m[5]);l=r[a-2]-y.x,c=r[a-1]-y.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];let d=(Math.atan2(c,l)+t)%t,f=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,f/2),e.lineTo(-s,-f/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+t)%t),e.moveTo(0,0),e.lineTo(-s,f/2),e.lineTo(-s,-f/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){let t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+t*2}}};Cv.Arrow=ua;ua.prototype.className="Arrow";(0,jV._registerNode)(ua);wv.Factory.addGetterSetter(ua,"pointerLength",10,(0,FM.getNumberValidator)());wv.Factory.addGetterSetter(ua,"pointerWidth",10,(0,FM.getNumberValidator)());wv.Factory.addGetterSetter(ua,"pointerAtBeginning",!1);wv.Factory.addGetterSetter(ua,"pointerAtEnding",!0)});var BM=Ye(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.Circle=void 0;var BV=jt(),VV=mr(),UV=Ut(),HV=kt(),ll=class extends VV.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};xv.Circle=ll;ll.prototype._centroid=!0;ll.prototype.className="Circle";ll.prototype._attrsAffectingSize=["radius"];(0,HV._registerNode)(ll);BV.Factory.addGetterSetter(ll,"radius",0,(0,UV.getNumberValidator)())});var UM=Ye(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.Ellipse=void 0;var OC=jt(),qV=mr(),VM=Ut(),zV=kt(),ws=class extends qV.Shape{_sceneFunc(e){let t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};Ev.Ellipse=ws;ws.prototype.className="Ellipse";ws.prototype._centroid=!0;ws.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,zV._registerNode)(ws);OC.Factory.addComponentsGetterSetter(ws,"radius",["x","y"]);OC.Factory.addGetterSetter(ws,"radiusX",0,(0,VM.getNumberValidator)());OC.Factory.addGetterSetter(ws,"radiusY",0,(0,VM.getNumberValidator)())});var HM=Ye(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.Image=void 0;var kC=Tn(),fc=jt(),GV=mr(),$V=kt(),hp=Ut(),Ji=class n extends GV.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",t=>{this._removeImageLoad(t.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){let e=!!this.cornerRadius(),t=this.hasShadow();return e&&t?!0:super._useBufferCanvas(!0)}_sceneFunc(e){let t=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image,s;if(o){let a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?s=[o,this.cropX(),this.cropY(),a,l,0,0,t,r]:s=[o,0,0,t,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?kC.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){let t=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?kC.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){let i=kC.Util.createImageElement();i.onload=function(){let o=new n({image:i});t(o)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};Sv.Image=Ji;Ji.prototype.className="Image";(0,$V._registerNode)(Ji);fc.Factory.addGetterSetter(Ji,"cornerRadius",0,(0,hp.getNumberOrArrayOfNumbersValidator)(4));fc.Factory.addGetterSetter(Ji,"image");fc.Factory.addComponentsGetterSetter(Ji,"crop",["x","y","width","height"]);fc.Factory.addGetterSetter(Ji,"cropX",0,(0,hp.getNumberValidator)());fc.Factory.addGetterSetter(Ji,"cropY",0,(0,hp.getNumberValidator)());fc.Factory.addGetterSetter(Ji,"cropWidth",0,(0,hp.getNumberValidator)());fc.Factory.addGetterSetter(Ji,"cropHeight",0,(0,hp.getNumberValidator)())});var GM=Ye(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.Tag=Td.Label=void 0;var Dv=jt(),WV=mr(),YV=dv(),BC=Ut(),qM=kt(),zM=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],KV="Change.konva",XV="none",RC="up",LC="right",FC="down",jC="left",JV=zM.length,fp=class extends YV.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t=this,r,i=function(){t._sync()};for(r=0;r<JV;r++)e.on(zM[r]+KV,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),t=this.getTag(),r,i,o,s,a,l,c;if(e&&t){switch(r=e.width(),i=e.height(),o=t.pointerDirection(),s=t.pointerWidth(),c=t.pointerHeight(),a=0,l=0,o){case RC:a=r/2,l=-1*c;break;case LC:a=r+s,l=i/2;break;case FC:a=r/2,l=i+c;break;case jC:a=-1*s,l=i/2;break}t.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}};Td.Label=fp;fp.prototype.className="Label";(0,qM._registerNode)(fp);var da=class extends WV.Shape{_sceneFunc(e){let t=this.width(),r=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius(),l=0,c=0,d=0,f=0;typeof a=="number"?l=c=d=f=Math.min(a,t/2,r/2):(l=Math.min(a[0]||0,t/2,r/2),c=Math.min(a[1]||0,t/2,r/2),f=Math.min(a[2]||0,t/2,r/2),d=Math.min(a[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(l,0),i===RC&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*s),e.lineTo((t+o)/2,0)),e.lineTo(t-c,0),e.arc(t-c,c,c,Math.PI*3/2,0,!1),i===LC&&(e.lineTo(t,(r-s)/2),e.lineTo(t+o,r/2),e.lineTo(t,(r+s)/2)),e.lineTo(t,r-f),e.arc(t-f,r-f,f,0,Math.PI/2,!1),i===FC&&(e.lineTo((t+o)/2,r),e.lineTo(t/2,r+s),e.lineTo((t-o)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),i===jC&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*o,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,r=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===RC?(t-=i,a+=i):o===FC?a+=i:o===jC?(e-=r*1.5,s+=r):o===LC&&(s+=r*1.5),{x:e,y:t,width:s,height:a}}};Td.Tag=da;da.prototype.className="Tag";(0,qM._registerNode)(da);Dv.Factory.addGetterSetter(da,"pointerDirection",XV);Dv.Factory.addGetterSetter(da,"pointerWidth",0,(0,BC.getNumberValidator)());Dv.Factory.addGetterSetter(da,"pointerHeight",0,(0,BC.getNumberValidator)());Dv.Factory.addGetterSetter(da,"cornerRadius",0,(0,BC.getNumberOrArrayOfNumbersValidator)(4))});var VC=Ye(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.Rect=void 0;var ZV=jt(),QV=mr(),eU=kt(),tU=Tn(),nU=Ut(),Pd=class extends QV.Shape{_sceneFunc(e){let t=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),t?tU.Util.drawRoundedRectPath(e,r,i,t):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Iv.Rect=Pd;Pd.prototype.className="Rect";(0,eU._registerNode)(Pd);ZV.Factory.addGetterSetter(Pd,"cornerRadius",0,(0,nU.getNumberOrArrayOfNumbersValidator)(4))});var YM=Ye(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.RegularPolygon=void 0;var $M=jt(),rU=mr(),WM=Ut(),iU=kt(),ha=class extends rU.Shape{_sceneFunc(e){let t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:t*Math.sin(i*2*Math.PI/e),y:-1*t*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){let e=this._getPoints(),t=e[0].x,r=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{t=Math.min(t,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:t,y:i,width:r-t,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Mv.RegularPolygon=ha;ha.prototype.className="RegularPolygon";ha.prototype._centroid=!0;ha.prototype._attrsAffectingSize=["radius"];(0,iU._registerNode)(ha);$M.Factory.addGetterSetter(ha,"radius",0,(0,WM.getNumberValidator)());$M.Factory.addGetterSetter(ha,"sides",0,(0,WM.getNumberValidator)())});var ZM=Ye(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});Av.Ring=void 0;var XM=jt(),oU=mr(),JM=Ut(),sU=kt(),KM=Math.PI*2,fa=class extends oU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,KM,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),KM,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Av.Ring=fa;fa.prototype.className="Ring";fa.prototype._centroid=!0;fa.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,sU._registerNode)(fa);XM.Factory.addGetterSetter(fa,"innerRadius",0,(0,JM.getNumberValidator)());XM.Factory.addGetterSetter(fa,"outerRadius",0,(0,JM.getNumberValidator)())});var eA=Ye(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.Sprite=void 0;var pc=jt(),aU=mr(),lU=fv(),QM=Ut(),cU=kt(),Zi=class extends aU.Shape{constructor(e){super(e),this._updated=!0,this.anim=new lU.Animation(()=>{let t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+0],l=o[i+1],c=o[i+2],d=o[i+3],f=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,d),e.closePath(),e.fillStrokeShape(this)),f)if(s){let m=s[t],p=r*2;e.drawImage(f,a,l,c,d,m[p+0],m[p+1],c,d)}else e.drawImage(f,a,l,c,d,0,0,c,d)}_hitFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+2],l=o[i+3];if(e.beginPath(),s){let c=s[t],d=r*2;e.rect(c[d+0],c[d+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){let e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;let e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){let e=this.frameIndex(),t=this.animation(),r=this.animations(),i=r[t],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}};Tv.Sprite=Zi;Zi.prototype.className="Sprite";(0,cU._registerNode)(Zi);pc.Factory.addGetterSetter(Zi,"animation");pc.Factory.addGetterSetter(Zi,"animations");pc.Factory.addGetterSetter(Zi,"frameOffsets");pc.Factory.addGetterSetter(Zi,"image");pc.Factory.addGetterSetter(Zi,"frameIndex",0,(0,QM.getNumberValidator)());pc.Factory.addGetterSetter(Zi,"frameRate",17,(0,QM.getNumberValidator)());pc.Factory.backCompat(Zi,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})});var tA=Ye(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.Star=void 0;var UC=jt(),uU=mr(),HC=Ut(),dU=kt(),Cs=class extends uU.Shape{_sceneFunc(e){let t=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let o=1;o<i*2;o++){let s=o%2===0?r:t,a=s*Math.sin(o*Math.PI/i),l=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Pv.Star=Cs;Cs.prototype.className="Star";Cs.prototype._centroid=!0;Cs.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,dU._registerNode)(Cs);UC.Factory.addGetterSetter(Cs,"numPoints",5,(0,HC.getNumberValidator)());UC.Factory.addGetterSetter(Cs,"innerRadius",0,(0,HC.getNumberValidator)());UC.Factory.addGetterSetter(Cs,"outerRadius",0,(0,HC.getNumberValidator)())});var WC=Ye(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.Text=void 0;gp.stringToArray=gc;var $C=Tn(),qr=jt(),hU=mr(),qC=kt(),cl=Ut(),fU=kt();function gc(n){return[...n].reduce((e,t,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(t)){let o=i[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(t+o),i[r+1]=""):e.push(t)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(t+(i[r+1]||""))?e.push(t+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}var Nd="auto",pU="center",sA="inherit",pp="justify",gU="Change.konva",mU="2d",nA="-",aA="left",vU="text",yU="Text",bU="top",_U="bottom",rA="middle",lA="normal",wU="px ",Nv=" ",CU="right",iA="rtl",xU="word",EU="char",oA="none",zC="\u2026",cA=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],SU=cA.length;function DU(n){return n.split(",").map(e=>{e=e.trim();let t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}var Ov;function GC(){return Ov||(Ov=$C.Util.createCanvasElement().getContext(mU),Ov)}function IU(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function MU(n){n.setAttr("miterLimit",2),n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function AU(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}var Dn=class extends hU.Shape{constructor(e){super(AU(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<SU;t++)this.on(cA[t]+gU,this._setTextData);this._setTextData()}_sceneFunc(e){let t=this.textArr,r=t.length;if(!this.text())return;let i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),l=this.direction(),c=0,d=this.align(),f=this.getWidth(),m=this.letterSpacing(),p=this.fill(),y=this.textDecoration(),_=y.indexOf("underline")!==-1,C=y.indexOf("line-through")!==-1,w;l=l===sA?e.direction:l;let S=s/2,O=rA;if(qC.Konva._fixTextRendering){let k=this.measureSize("M");O="alphabetic",S=(k.fontBoundingBoxAscent-k.fontBoundingBoxDescent)/2+s/2}for(l===iA&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",O),e.setAttr("textAlign",aA),a===rA?c=(this.getHeight()-r*s-i*2)/2:a===_U&&(c=this.getHeight()-r*s-i*2),e.translate(i,c+i),w=0;w<r;w++){let k=0,q=0,J=t[w],H=J.text,j=J.width,te=J.lastInParagraph;if(e.save(),d===CU?k+=f-j-i*2:d===pU&&(k+=(f-j-i*2)/2),_){e.save(),e.beginPath();let ie=qC.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),T=k,P=S+q+ie;e.moveTo(T,P);let z=d===pp&&!te?f-i*2:j;e.lineTo(T+Math.round(z),P),e.lineWidth=o/15;let U=this._getLinearGradient();e.strokeStyle=U||p,e.stroke(),e.restore()}if(C){e.save(),e.beginPath();let ie=qC.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(k,S+q+ie);let T=d===pp&&!te?f-i*2:j;e.lineTo(k+Math.round(T),S+q+ie),e.lineWidth=o/15;let P=this._getLinearGradient();e.strokeStyle=P||p,e.stroke(),e.restore()}if(l!==iA&&(m!==0||d===pp)){let ie=H.split(" ").length-1,T=gc(H);for(let P=0;P<T.length;P++){let z=T[P];z===" "&&!te&&d===pp&&(k+=(f-i*2-j)/ie),this._partialTextX=k,this._partialTextY=S+q,this._partialText=z,e.fillStrokeShape(this),k+=this.measureSize(z).width+m}}else m!==0&&e.setAttr("letterSpacing",`${m}px`),this._partialTextX=k,this._partialTextY=S+q,this._partialText=H,e.fillStrokeShape(this);e.restore(),r>1&&(S+=s)}}_hitFunc(e){let t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){let t=$C.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(vU,t),this}getWidth(){return this.attrs.width===Nd||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Nd||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return $C.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r,i,o,s,a,l,c,d,f,m;let p=GC(),y=this.fontSize(),_;p.save(),p.font=this._getContextFont(),_=p.measureText(e),p.restore();let C=y/100;return{actualBoundingBoxAscent:(t=_.actualBoundingBoxAscent)!==null&&t!==void 0?t:71.58203125*C,actualBoundingBoxDescent:(r=_.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=_.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*C,actualBoundingBoxRight:(o=_.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*C,alphabeticBaseline:(s=_.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(a=_.emHeightAscent)!==null&&a!==void 0?a:100*C,emHeightDescent:(l=_.emHeightDescent)!==null&&l!==void 0?l:-20*C,fontBoundingBoxAscent:(c=_.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*C,fontBoundingBoxDescent:(d=_.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*C,hangingBaseline:(f=_.hangingBaseline)!==null&&f!==void 0?f:72.80000305175781*C,ideographicBaseline:(m=_.ideographicBaseline)!==null&&m!==void 0?m:-21*C,width:_.width,height:y}}_getContextFont(){return this.fontStyle()+Nv+this.fontVariant()+Nv+(this.fontSize()+wU)+DU(this.fontFamily())}_addTextLine(e){this.align()===pp&&(e=e.trim());let r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){let t=this.letterSpacing(),r=e.length;return GC().measureText(e).width+t*r}_setTextData(){let e=this.text().split(`
`),t=+this.fontSize(),r=0,i=this.lineHeight()*t,o=this.attrs.width,s=this.attrs.height,a=o!==Nd&&o!==void 0,l=s!==Nd&&s!==void 0,c=this.padding(),d=o-c*2,f=s-c*2,m=0,p=this.wrap(),y=p!==oA,_=p!==EU&&y,C=this.ellipsis();this.textArr=[],GC().font=this._getContextFont();let w=C?this._getTextWidth(zC):0;for(let S=0,O=e.length;S<O;++S){let k=e[S],q=this._getTextWidth(k);if(a&&q>d)for(;k.length>0;){let J=0,H=gc(k).length,j="",te=0;for(;J<H;){let ie=J+H>>>1,T=gc(k),P=T.slice(0,ie+1).join(""),z=this._getTextWidth(P);(C&&l&&m+i>f?z+w:z)<=d?(J=ie+1,j=P,te=z):H=ie}if(j){if(_){let P=gc(k),z=gc(j),U=P[z.length],ce=U===Nv||U===nA,ae;if(ce&&te<=d)ae=z.length;else{let ve=z.lastIndexOf(Nv),X=z.lastIndexOf(nA);ae=Math.max(ve,X)+1}ae>0&&(J=ae,j=P.slice(0,J).join(""),te=this._getTextWidth(j))}if(j=j.trimRight(),this._addTextLine(j),r=Math.max(r,te),m+=i,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(k=gc(k).slice(J).join("").trimLeft(),k.length>0&&(q=this._getTextWidth(k),q<=d)){this._addTextLine(k),m+=i,r=Math.max(r,q);break}}else break}else this._addTextLine(k),m+=i,r=Math.max(r,q),this._shouldHandleEllipsis(m)&&S<O-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+i>f)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){let t=+this.fontSize(),r=this.lineHeight()*t,i=this.attrs.height,o=i!==Nd&&i!==void 0,s=this.padding(),a=i-s*2;return!(this.wrap()!==oA)||o&&e+r>a}_tryToAddEllipsisToLastLine(){let e=this.attrs.width,t=e!==Nd&&e!==void 0,r=this.padding(),i=e-r*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!o||(t&&(this._getTextWidth(s.text+zC)<i||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+zC))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){let e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}};gp.Text=Dn;Dn.prototype._fillFunc=IU;Dn.prototype._strokeFunc=MU;Dn.prototype.className=yU;Dn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,fU._registerNode)(Dn);qr.Factory.overWriteSetter(Dn,"width",(0,cl.getNumberOrAutoValidator)());qr.Factory.overWriteSetter(Dn,"height",(0,cl.getNumberOrAutoValidator)());qr.Factory.addGetterSetter(Dn,"direction",sA);qr.Factory.addGetterSetter(Dn,"fontFamily","Arial");qr.Factory.addGetterSetter(Dn,"fontSize",12,(0,cl.getNumberValidator)());qr.Factory.addGetterSetter(Dn,"fontStyle",lA);qr.Factory.addGetterSetter(Dn,"fontVariant",lA);qr.Factory.addGetterSetter(Dn,"padding",0,(0,cl.getNumberValidator)());qr.Factory.addGetterSetter(Dn,"align",aA);qr.Factory.addGetterSetter(Dn,"verticalAlign",bU);qr.Factory.addGetterSetter(Dn,"lineHeight",1,(0,cl.getNumberValidator)());qr.Factory.addGetterSetter(Dn,"wrap",xU);qr.Factory.addGetterSetter(Dn,"ellipsis",!1,(0,cl.getBooleanValidator)());qr.Factory.addGetterSetter(Dn,"letterSpacing",0,(0,cl.getNumberValidator)());qr.Factory.addGetterSetter(Dn,"text","",(0,cl.getStringValidator)());qr.Factory.addGetterSetter(Dn,"textDecoration","")});var pA=Ye(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.TextPath=void 0;var YC=Tn(),Ro=jt(),TU=mr(),mp=_v(),KC=WC(),uA=Ut(),PU=kt(),NU="",dA="normal";function hA(n){n.fillText(this.partialText,0,0)}function fA(n){n.strokeText(this.partialText,0,0)}var Qn=class extends TU.Shape{constructor(e){super(e),this.dummyCanvas=YC.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return mp.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let t=this.pathLength;return e-1>t?null:mp.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=mp.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();let t=this.textDecoration(),r=this.fill(),i=this.fontSize(),o=this.glyphInfo;t==="underline"&&e.beginPath();for(let s=0;s<o.length;s++){e.save();let a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),t==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();let t=this.glyphInfo;if(t.length>=1){let r=t[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<t.length;r++){let i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return YC.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return KC.Text.prototype.setText.call(this,e)}_getContextFont(){return KC.Text.prototype._getContextFont.call(this)}_getTextSize(e){let r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();let i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;let r=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0),a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));let l=(0,KC.stringToArray)(this.text()),c=a;for(let d=0;d<l.length;d++){let f=this._getPointAtLength(c);if(!f)return;let m=this._getTextSize(l[d]).width+r;if(l[d]===" "&&i==="justify"){let S=this.text().split(" ").length-1;m+=(this.pathLength-s)/S}let p=this._getPointAtLength(c+m);if(!p)return;let y=mp.Path.getLineLength(f.x,f.y,p.x,p.y),_=0;if(o)try{_=o(l[d-1],l[d])*this.fontSize()}catch{_=0}f.x+=_,p.x+=_,this.textWidth+=_;let C=mp.Path.getPointOnLine(_+y/2,f.x,f.y,p.x,p.y),w=Math.atan2(p.y-f.y,p.x-f.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:l[d],rotation:w,p0:f,p1:p}),c+=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};let e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let t=e[0]||0,r=e[0]||0,i=e[1]||0,o=e[1]||0,s,a;for(let c=0;c<e.length/2;c++)s=e[c*2],a=e[c*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);let l=this.fontSize();return{x:t-l/2,y:i-l/2,width:r-t+l,height:o-i+l}}destroy(){return YC.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};kv.TextPath=Qn;Qn.prototype._fillFunc=hA;Qn.prototype._strokeFunc=fA;Qn.prototype._fillFuncHit=hA;Qn.prototype._strokeFuncHit=fA;Qn.prototype.className="TextPath";Qn.prototype._attrsAffectingSize=["text","fontSize","data"];(0,PU._registerNode)(Qn);Ro.Factory.addGetterSetter(Qn,"data");Ro.Factory.addGetterSetter(Qn,"fontFamily","Arial");Ro.Factory.addGetterSetter(Qn,"fontSize",12,(0,uA.getNumberValidator)());Ro.Factory.addGetterSetter(Qn,"fontStyle",dA);Ro.Factory.addGetterSetter(Qn,"align","left");Ro.Factory.addGetterSetter(Qn,"letterSpacing",0,(0,uA.getNumberValidator)());Ro.Factory.addGetterSetter(Qn,"textBaseline","middle");Ro.Factory.addGetterSetter(Qn,"fontVariant",dA);Ro.Factory.addGetterSetter(Qn,"text",NU);Ro.Factory.addGetterSetter(Qn,"textDecoration","");Ro.Factory.addGetterSetter(Qn,"kerningFunc",void 0)});var wA=Ye(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.Transformer=void 0;var pn=Tn(),nn=jt(),gA=Vn(),OU=mr(),kU=VC(),mA=dv(),Lo=kt(),ul=Ut(),RU=kt(),bA="tr-konva",LU=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(n=>n+`.${bA}`).join(" "),vA="nodesRect",FU=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],jU={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},BU="ontouchstart"in Lo.Konva._global;function VU(n,e,t){if(n==="rotater")return t;e+=pn.Util.degToRad(jU[n]||0);let r=(pn.Util.radToDeg(e)%360+360)%360;return pn.Util._inRange(r,315+22.5,360)||pn.Util._inRange(r,0,22.5)?"ns-resize":pn.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":pn.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":pn.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":pn.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":pn.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":pn.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":pn.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(pn.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var Rv=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],yA=1e8;function UU(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function _A(n,e,t){let r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),i=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return lt(Ie({},n),{rotation:n.rotation+e,x:r,y:i})}function HU(n,e){let t=UU(n);return _A(n,e,t)}function qU(n,e,t){let r=e;for(let i=0;i<n.length;i++){let o=Lo.Konva.getAngle(n[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<t&&(r=o)}return r}var XC=0,Ht=class extends mA.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(LU,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return pn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return bA+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let t=e.filter(i=>i.isAncestorOf(this)?(pn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{let o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){let s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o)}i.on(FU.map(s=>s+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;let i=e.getAbsolutePosition(),o=i.x-t.x,s=i.y-t.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;let l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+o,y:l.y+s}),a.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(vA),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(vA,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){let i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),a=i.x*o.x-e.offsetX()*o.x,l=i.y*o.y-e.offsetY()*o.y,c=(Lo.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+a*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*o.x,height:i.height*o.y,rotation:c};return _A(d,-Lo.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-yA,y:-yA,width:0,height:0,rotation:0};let t=[];this.nodes().map(c=>{let d=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),f=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],m=c.getAbsoluteTransform();f.forEach(function(p){let y=m.point(p);t.push(y)})});let r=new pn.Transform;r.rotate(-Lo.Konva.getAngle(this.rotation()));let i=1/0,o=1/0,s=-1/0,a=-1/0;t.forEach(function(c){let d=r.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),r.invert();let l=r.point({x:i,y:o});return{x:l.x,y:l.y,width:s-i,height:a-o,rotation:Lo.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Rv.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){let t=new kU.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:BU?10:"auto"}),r=this;t.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),t.on("dragstart",i=>{t.stopDrag(),i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),t.on("mouseenter",()=>{let i=Lo.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=VU(e,i,o);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){let e=new OU.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,r){let i=r.getParent(),o=i.padding();t.beginPath(),t.rect(-o,-o,r.width()+o*2,r.height()+o*2),t.moveTo(r.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&t.lineTo(r.width()/2,-i.rotateAnchorOffset()*pn.Util._sign(r.height())-o),t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(!this.shouldOverdrawWholeArea())return;let i=this.padding();t.beginPath(),t.rect(-i,-i,r.width()+i*2,r.height()+i*2),t.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];let t=this._getNodeRect(),r=t.width,i=t.height,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(r/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;let s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},XC++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let t,r,i,o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);let a=s.getPointerPosition(),l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),o.setAbsolutePosition(l);let d=o.getAbsolutePosition();if(c.x===d.x&&c.y===d.y)return;if(this._movingAnchorName==="rotater"){let S=this._getNodeRect();t=o.x()-S.width/2,r=-o.y()+S.height/2;let O=Math.atan2(-r,t)+Math.PI/2;S.height<0&&(O-=Math.PI);let q=Lo.Konva.getAngle(this.rotation())+O,J=Lo.Konva.getAngle(this.rotationSnapTolerance()),j=qU(this.rotationSnaps(),q,J)-S.rotation,te=HU(S,j);this._fitNodesInto(te,e);return}let f=this.shiftBehavior(),m;f==="inverted"?m=this.keepRatio()&&!e.shiftKey:f==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){let S=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(S.x-o.x(),2)+Math.pow(S.y-o.y(),2));let O=this.findOne(".top-left").x()>S.x?-1:1,k=this.findOne(".top-left").y()>S.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".top-left").x(S.x-t),this.findOne(".top-left").y(S.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(m){let S=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-S.x,2)+Math.pow(S.y-o.y(),2));let O=this.findOne(".top-right").x()<S.x?-1:1,k=this.findOne(".top-right").y()>S.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".top-right").x(S.x+t),this.findOne(".top-right").y(S.y-r)}var y=o.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(m){let S=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(S.x-o.x(),2)+Math.pow(o.y()-S.y,2));let O=S.x<o.x()?-1:1,k=o.y()<S.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,o.x(S.x-t),o.y(S.y+r)}y=o.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(m){let S=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-S.x,2)+Math.pow(o.y()-S.y,2));let O=this.findOne(".bottom-right").x()<S.x?-1:1,k=this.findOne(".bottom-right").y()<S.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".bottom-right").x(S.x+t),this.findOne(".bottom-right").y(S.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||e.altKey,p){let S=this.findOne(".top-left"),O=this.findOne(".bottom-right"),k=S.x(),q=S.y(),J=this.getWidth()-O.x(),H=this.getHeight()-O.y();O.move({x:-k,y:-q}),S.move({x:J,y:H})}let _=this.findOne(".top-left").getAbsolutePosition();t=_.x,r=_.y;let C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:C,height:w,rotation:Lo.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));let r=this.getNode();XC--,this._fire("transformend",{evt:e,target:r}),(t=this.getLayer())===null||t===void 0||t.batchDraw(),r&&this._nodes.forEach(i=>{var o;i._fire("transformend",{evt:e,target:i}),(o=i.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){let r=this._getNodeRect(),i=1;if(pn.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(pn.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}let o=new pn.Transform;if(o.rotate(Lo.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let m=o.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let m=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let m=o.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let m=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){let m=this.boundBoxFunc()(r,e);m?e=m:pn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let s=1e7,a=new pn.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/s,r.height/s);let l=new pn.Transform,c=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,d));let f=l.multiply(a.invert());this._nodes.forEach(m=>{var p;let y=m.getParent().getAbsoluteTransform(),_=m.getTransform().copy();_.translate(m.offsetX(),m.offsetY());let C=new pn.Transform;C.multiply(y.copy().invert()).multiply(f).multiply(y).multiply(_);let w=C.decompose();m.setAttrs(w),(p=m.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(pn.Util._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:t,target:m}),m._fire("transform",{evt:t,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;let t=this._getNodeRect();this.rotation(pn.Util._getRotation(t.rotation));let r=t.width,i=t.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(f=>{f.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*pn.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let d=this.anchorStyleFunc();d&&c.forEach(f=>{d(f)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();let e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),mA.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return gA.Node.prototype.toObject.call(this)}clone(e){return gA.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Lv.Transformer=Ht;Ht.isTransforming=()=>XC>0;function zU(n){return n instanceof Array||pn.Util.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){Rv.indexOf(e)===-1&&pn.Util.warn("Unknown anchor name: "+e+". Available names are: "+Rv.join(", "))}),n||[]}Ht.prototype.className="Transformer";(0,RU._registerNode)(Ht);nn.Factory.addGetterSetter(Ht,"enabledAnchors",Rv,zU);nn.Factory.addGetterSetter(Ht,"flipEnabled",!0,(0,ul.getBooleanValidator)());nn.Factory.addGetterSetter(Ht,"resizeEnabled",!0);nn.Factory.addGetterSetter(Ht,"anchorSize",10,(0,ul.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"rotateEnabled",!0);nn.Factory.addGetterSetter(Ht,"rotateLineVisible",!0);nn.Factory.addGetterSetter(Ht,"rotationSnaps",[]);nn.Factory.addGetterSetter(Ht,"rotateAnchorOffset",50,(0,ul.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"rotateAnchorCursor","crosshair");nn.Factory.addGetterSetter(Ht,"rotationSnapTolerance",5,(0,ul.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"borderEnabled",!0);nn.Factory.addGetterSetter(Ht,"anchorStroke","rgb(0, 161, 255)");nn.Factory.addGetterSetter(Ht,"anchorStrokeWidth",1,(0,ul.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"anchorFill","white");nn.Factory.addGetterSetter(Ht,"anchorCornerRadius",0,(0,ul.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"borderStroke","rgb(0, 161, 255)");nn.Factory.addGetterSetter(Ht,"borderStrokeWidth",1,(0,ul.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"borderDash");nn.Factory.addGetterSetter(Ht,"keepRatio",!0);nn.Factory.addGetterSetter(Ht,"shiftBehavior","default");nn.Factory.addGetterSetter(Ht,"centeredScaling",!1);nn.Factory.addGetterSetter(Ht,"ignoreStroke",!1);nn.Factory.addGetterSetter(Ht,"padding",0,(0,ul.getNumberValidator)());nn.Factory.addGetterSetter(Ht,"nodes");nn.Factory.addGetterSetter(Ht,"node");nn.Factory.addGetterSetter(Ht,"boundBoxFunc");nn.Factory.addGetterSetter(Ht,"anchorDragBoundFunc");nn.Factory.addGetterSetter(Ht,"anchorStyleFunc");nn.Factory.addGetterSetter(Ht,"shouldOverdrawWholeArea",!1);nn.Factory.addGetterSetter(Ht,"useSingleNodeRotation",!0);nn.Factory.backCompat(Ht,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})});var xA=Ye(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.Wedge=void 0;var Fv=jt(),GU=mr(),$U=kt(),CA=Ut(),WU=kt(),Fo=class extends GU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,$U.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};jv.Wedge=Fo;Fo.prototype.className="Wedge";Fo.prototype._centroid=!0;Fo.prototype._attrsAffectingSize=["radius"];(0,WU._registerNode)(Fo);Fv.Factory.addGetterSetter(Fo,"radius",0,(0,CA.getNumberValidator)());Fv.Factory.addGetterSetter(Fo,"angle",0,(0,CA.getNumberValidator)());Fv.Factory.addGetterSetter(Fo,"clockwise",!1);Fv.Factory.backCompat(Fo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})});var DA=Ye(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.Blur=void 0;var EA=jt(),YU=Vn(),KU=Ut();function SA(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var XU=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],JU=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function ZU(n,e){let t=n.data,r=n.width,i=n.height,o,s,a,l,c,d,f,m,p,y,_,C,w,S,O,k,q,J,H,j,te=e+e+1,ie=r-1,T=i-1,P=e+1,z=P*(P+1)/2,U=new SA,ce=XU[e],ae=JU[e],ve=null,X=U,ue=null,ge=null;for(let Ne=1;Ne<te;Ne++)X=X.next=new SA,Ne===P&&(ve=X);X.next=U,a=s=0;for(let Ne=0;Ne<i;Ne++){C=w=S=O=l=c=d=f=0,m=P*(k=t[s]),p=P*(q=t[s+1]),y=P*(J=t[s+2]),_=P*(H=t[s+3]),l+=z*k,c+=z*q,d+=z*J,f+=z*H,X=U;for(let I=0;I<P;I++)X.r=k,X.g=q,X.b=J,X.a=H,X=X.next;for(let I=1;I<P;I++)o=s+((ie<I?ie:I)<<2),l+=(X.r=k=t[o])*(j=P-I),c+=(X.g=q=t[o+1])*j,d+=(X.b=J=t[o+2])*j,f+=(X.a=H=t[o+3])*j,C+=k,w+=q,S+=J,O+=H,X=X.next;ue=U,ge=ve;for(let I=0;I<r;I++)t[s+3]=H=f*ce>>ae,H!==0?(H=255/H,t[s]=(l*ce>>ae)*H,t[s+1]=(c*ce>>ae)*H,t[s+2]=(d*ce>>ae)*H):t[s]=t[s+1]=t[s+2]=0,l-=m,c-=p,d-=y,f-=_,m-=ue.r,p-=ue.g,y-=ue.b,_-=ue.a,o=a+((o=I+e+1)<ie?o:ie)<<2,C+=ue.r=t[o],w+=ue.g=t[o+1],S+=ue.b=t[o+2],O+=ue.a=t[o+3],l+=C,c+=w,d+=S,f+=O,ue=ue.next,m+=k=ge.r,p+=q=ge.g,y+=J=ge.b,_+=H=ge.a,C-=k,w-=q,S-=J,O-=H,ge=ge.next,s+=4;a+=r}for(let Ne=0;Ne<r;Ne++){w=S=O=C=c=d=f=l=0,s=Ne<<2,m=P*(k=t[s]),p=P*(q=t[s+1]),y=P*(J=t[s+2]),_=P*(H=t[s+3]),l+=z*k,c+=z*q,d+=z*J,f+=z*H,X=U;for(let L=0;L<P;L++)X.r=k,X.g=q,X.b=J,X.a=H,X=X.next;let I=r;for(let L=1;L<=e;L++)s=I+Ne<<2,l+=(X.r=k=t[s])*(j=P-L),c+=(X.g=q=t[s+1])*j,d+=(X.b=J=t[s+2])*j,f+=(X.a=H=t[s+3])*j,C+=k,w+=q,S+=J,O+=H,X=X.next,L<T&&(I+=r);s=Ne,ue=U,ge=ve;for(let L=0;L<i;L++)o=s<<2,t[o+3]=H=f*ce>>ae,H>0?(H=255/H,t[o]=(l*ce>>ae)*H,t[o+1]=(c*ce>>ae)*H,t[o+2]=(d*ce>>ae)*H):t[o]=t[o+1]=t[o+2]=0,l-=m,c-=p,d-=y,f-=_,m-=ue.r,p-=ue.g,y-=ue.b,_-=ue.a,o=Ne+((o=L+P)<T?o:T)*r<<2,l+=C+=ue.r=t[o],c+=w+=ue.g=t[o+1],d+=S+=ue.b=t[o+2],f+=O+=ue.a=t[o+3],ue=ue.next,m+=k=ge.r,p+=q=ge.g,y+=J=ge.b,_+=H=ge.a,C-=k,w-=q,S-=J,O-=H,ge=ge.next,s+=r}}var QU=function(e){let t=Math.round(this.blurRadius());t>0&&ZU(e,t)};Bv.Blur=QU;EA.Factory.addGetterSetter(YU.Node,"blurRadius",0,(0,KU.getNumberValidator)(),EA.Factory.afterSetFilter)});var MA=Ye(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.Brighten=void 0;var IA=jt(),eH=Vn(),tH=Ut(),nH=function(n){let e=this.brightness()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=4)t[i]+=e,t[i+1]+=e,t[i+2]+=e};Vv.Brighten=nH;IA.Factory.addGetterSetter(eH.Node,"brightness",0,(0,tH.getNumberValidator)(),IA.Factory.afterSetFilter)});var TA=Ye(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.Contrast=void 0;var AA=jt(),rH=Vn(),iH=Ut(),oH=function(n){let e=Math.pow((this.contrast()+100)/100,2),t=n.data,r=t.length,i=150,o=150,s=150;for(let a=0;a<r;a+=4)i=t[a],o=t[a+1],s=t[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,t[a]=i,t[a+1]=o,t[a+2]=s};Uv.Contrast=oH;AA.Factory.addGetterSetter(rH.Node,"contrast",0,(0,iH.getNumberValidator)(),AA.Factory.afterSetFilter)});var NA=Ye(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.Emboss=void 0;var dl=jt(),Hv=Vn(),sH=Tn(),PA=Ut(),aH=function(n){let e=this.embossStrength()*10,t=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),o=n.data,s=n.width,a=n.height,l=s*4,c=0,d=0,f=a;switch(r){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:sH.Util.error("Unknown emboss direction: "+r)}do{let m=(f-1)*l,p=c;f+p<1&&(p=0),f+p>a&&(p=0);let y=(f-1+p)*s*4,_=s;do{let C=m+(_-1)*4,w=d;_+w<1&&(w=0),_+w>s&&(w=0);let S=y+(_-1+w)*4,O=o[C]-o[S],k=o[C+1]-o[S+1],q=o[C+2]-o[S+2],J=O,H=J>0?J:-J,j=k>0?k:-k,te=q>0?q:-q;if(j>H&&(J=k),te>H&&(J=q),J*=e,i){let ie=o[C]+J,T=o[C+1]+J,P=o[C+2]+J;o[C]=ie>255?255:ie<0?0:ie,o[C+1]=T>255?255:T<0?0:T,o[C+2]=P>255?255:P<0?0:P}else{let ie=t-J;ie<0?ie=0:ie>255&&(ie=255),o[C]=o[C+1]=o[C+2]=ie}}while(--_)}while(--f)};qv.Emboss=aH;dl.Factory.addGetterSetter(Hv.Node,"embossStrength",.5,(0,PA.getNumberValidator)(),dl.Factory.afterSetFilter);dl.Factory.addGetterSetter(Hv.Node,"embossWhiteLevel",.5,(0,PA.getNumberValidator)(),dl.Factory.afterSetFilter);dl.Factory.addGetterSetter(Hv.Node,"embossDirection","top-left",void 0,dl.Factory.afterSetFilter);dl.Factory.addGetterSetter(Hv.Node,"embossBlend",!1,void 0,dl.Factory.afterSetFilter)});var kA=Ye(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.Enhance=void 0;var OA=jt(),lH=Vn(),cH=Ut();function JC(n,e,t,r,i){let o=t-e,s=i-r;if(o===0)return r+s/2;if(s===0)return r;let a=(n-e)/o;return a=s*a+r,a}var uH=function(n){let e=n.data,t=e.length,r=e[0],i=r,o,s=e[1],a=s,l,c=e[2],d=c,f,m=this.enhance();if(m===0)return;for(let O=0;O<t;O+=4)o=e[O+0],o<r?r=o:o>i&&(i=o),l=e[O+1],l<s?s=l:l>a&&(a=l),f=e[O+2],f<c?c=f:f>d&&(d=f);i===r&&(i=255,r=0),a===s&&(a=255,s=0),d===c&&(d=255,c=0);let p,y,_,C,w,S;if(m>0)p=i+m*(255-i),y=r-m*(r-0),_=a+m*(255-a),C=s-m*(s-0),w=d+m*(255-d),S=c-m*(c-0);else{let O=(i+r)*.5;p=i+m*(i-O),y=r+m*(r-O);let k=(a+s)*.5;_=a+m*(a-k),C=s+m*(s-k);let q=(d+c)*.5;w=d+m*(d-q),S=c+m*(c-q)}for(let O=0;O<t;O+=4)e[O+0]=JC(e[O+0],r,i,y,p),e[O+1]=JC(e[O+1],s,a,C,_),e[O+2]=JC(e[O+2],c,d,S,w)};zv.Enhance=uH;OA.Factory.addGetterSetter(lH.Node,"enhance",0,(0,cH.getNumberValidator)(),OA.Factory.afterSetFilter)});var RA=Ye(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.Grayscale=void 0;var dH=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};Gv.Grayscale=dH});var LA=Ye($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.HSL=void 0;var Od=jt(),ZC=Vn(),QC=Ut();Od.Factory.addGetterSetter(ZC.Node,"hue",0,(0,QC.getNumberValidator)(),Od.Factory.afterSetFilter);Od.Factory.addGetterSetter(ZC.Node,"saturation",0,(0,QC.getNumberValidator)(),Od.Factory.afterSetFilter);Od.Factory.addGetterSetter(ZC.Node,"luminance",0,(0,QC.getNumberValidator)(),Od.Factory.afterSetFilter);var hH=function(n){let e=n.data,t=e.length,r=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a=r*i*Math.cos(o*Math.PI/180),l=r*i*Math.sin(o*Math.PI/180),c=.299*r+.701*a+.167*l,d=.587*r-.587*a+.33*l,f=.114*r-.114*a-.497*l,m=.299*r-.299*a-.328*l,p=.587*r+.413*a+.035*l,y=.114*r-.114*a+.293*l,_=.299*r-.3*a+1.25*l,C=.587*r-.586*a-1.05*l,w=.114*r+.886*a-.2*l,S,O,k,q;for(let J=0;J<t;J+=4)S=e[J+0],O=e[J+1],k=e[J+2],q=e[J+3],e[J+0]=c*S+d*O+f*k+s,e[J+1]=m*S+p*O+y*k+s,e[J+2]=_*S+C*O+w*k+s,e[J+3]=q};$v.HSL=hH});var FA=Ye(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.HSV=void 0;var kd=jt(),ex=Vn(),tx=Ut(),fH=function(n){let e=n.data,t=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=r*i*Math.cos(o*Math.PI/180),a=r*i*Math.sin(o*Math.PI/180),l=.299*r+.701*s+.167*a,c=.587*r-.587*s+.33*a,d=.114*r-.114*s-.497*a,f=.299*r-.299*s-.328*a,m=.587*r+.413*s+.035*a,p=.114*r-.114*s+.293*a,y=.299*r-.3*s+1.25*a,_=.587*r-.586*s-1.05*a,C=.114*r+.886*s-.2*a;for(let w=0;w<t;w+=4){let S=e[w+0],O=e[w+1],k=e[w+2],q=e[w+3];e[w+0]=l*S+c*O+d*k,e[w+1]=f*S+m*O+p*k,e[w+2]=y*S+_*O+C*k,e[w+3]=q}};Wv.HSV=fH;kd.Factory.addGetterSetter(ex.Node,"hue",0,(0,tx.getNumberValidator)(),kd.Factory.afterSetFilter);kd.Factory.addGetterSetter(ex.Node,"saturation",0,(0,tx.getNumberValidator)(),kd.Factory.afterSetFilter);kd.Factory.addGetterSetter(ex.Node,"value",0,(0,tx.getNumberValidator)(),kd.Factory.afterSetFilter)});var jA=Ye(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.Invert=void 0;var pH=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};Yv.Invert=pH});var HA=Ye(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.Kaleidoscope=void 0;var Kv=jt(),VA=Vn(),BA=Tn(),UA=Ut(),gH=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,f=s-l,m=Math.sqrt(d*d+f*f);c=m>c?m:c;let p=s,y=o,_=360/y*Math.PI/180;for(let C=0;C<y;C+=1){let w=Math.sin(C*_),S=Math.cos(C*_);for(let O=0;O<p;O+=1){d=Math.floor(a+c*O/p*S),f=Math.floor(l+c*O/p*w);let k=(f*o+d)*4,q=r[k+0],J=r[k+1],H=r[k+2],j=r[k+3];k=(C+O*o)*4,i[k+0]=q,i[k+1]=J,i[k+2]=H,i[k+3]=j}}},mH=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,f=s-l,m=Math.sqrt(d*d+f*f);c=m>c?m:c;let p=s,y=o,_=t.polarRotation||0,C,w;for(d=0;d<o;d+=1)for(f=0;f<s;f+=1){let S=d-a,O=f-l,k=Math.sqrt(S*S+O*O)*p/c,q=(Math.atan2(O,S)*180/Math.PI+360+_)%360;q=q*y/360,C=Math.floor(q),w=Math.floor(k);let J=(w*o+C)*4,H=r[J+0],j=r[J+1],te=r[J+2],ie=r[J+3];J=(f*o+d)*4,i[J+0]=H,i[J+1]=j,i[J+2]=te,i[J+3]=ie}},vH=function(n){let e=n.width,t=n.height,r,i,o,s,a,l,c,d,f,m,p=Math.round(this.kaleidoscopePower()),y=Math.round(this.kaleidoscopeAngle()),_=Math.floor(e*(y%360)/360);if(p<1)return;let C=BA.Util.createCanvasElement();C.width=e,C.height=t;let w=C.getContext("2d").getImageData(0,0,e,t);BA.Util.releaseCanvas(C),gH(n,w,{polarCenterX:e/2,polarCenterY:t/2});let S=e/Math.pow(2,p);for(;S<=8;)S=S*2,p-=1;S=Math.ceil(S);let O=S,k=0,q=O,J=1;for(_+S>e&&(k=O,q=0,J=-1),i=0;i<t;i+=1)for(r=k;r!==q;r+=J)o=Math.round(r+_)%e,f=(e*i+o)*4,a=w.data[f+0],l=w.data[f+1],c=w.data[f+2],d=w.data[f+3],m=(e*i+r)*4,w.data[m+0]=a,w.data[m+1]=l,w.data[m+2]=c,w.data[m+3]=d;for(i=0;i<t;i+=1)for(O=Math.floor(S),s=0;s<p;s+=1){for(r=0;r<O+1;r+=1)f=(e*i+r)*4,a=w.data[f+0],l=w.data[f+1],c=w.data[f+2],d=w.data[f+3],m=(e*i+O*2-r-1)*4,w.data[m+0]=a,w.data[m+1]=l,w.data[m+2]=c,w.data[m+3]=d;O*=2}mH(w,n,{polarRotation:0})};Xv.Kaleidoscope=vH;Kv.Factory.addGetterSetter(VA.Node,"kaleidoscopePower",2,(0,UA.getNumberValidator)(),Kv.Factory.afterSetFilter);Kv.Factory.addGetterSetter(VA.Node,"kaleidoscopeAngle",0,(0,UA.getNumberValidator)(),Kv.Factory.afterSetFilter)});var zA=Ye(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.Mask=void 0;var qA=jt(),yH=Vn(),bH=Ut();function Jv(n,e,t){let r=(t*n.width+e)*4,i=[];return i.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),i}function vp(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}function _H(n){let e=[0,0,0];for(let t=0;t<n.length;t++)e[0]+=n[t][0],e[1]+=n[t][1],e[2]+=n[t][2];return e[0]/=n.length,e[1]/=n.length,e[2]/=n.length,e}function wH(n,e){let t=Jv(n,0,0),r=Jv(n,n.width-1,0),i=Jv(n,0,n.height-1),o=Jv(n,n.width-1,n.height-1),s=e||10;if(vp(t,r)<s&&vp(r,o)<s&&vp(o,i)<s&&vp(i,t)<s){let a=_H([r,t,o,i]),l=[];for(let c=0;c<n.width*n.height;c++){let d=vp(a,[n.data[c*4],n.data[c*4+1],n.data[c*4+2]]);l[c]=d<s?0:255}return l}}function CH(n,e){for(let t=0;t<n.width*n.height;t++)n.data[4*t+3]=e[t]}function xH(n,e,t){let r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let f=0;f<i;f++)for(let m=0;m<i;m++){let p=a+f-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[f*i+m];d+=n[_]*C}}s[c]=d===255*8?255:0}return s}function EH(n,e,t){let r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let f=0;f<i;f++)for(let m=0;m<i;m++){let p=a+f-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[f*i+m];d+=n[_]*C}}s[c]=d>=255*4?255:0}return s}function SH(n,e,t){let r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let f=0;f<i;f++)for(let m=0;m<i;m++){let p=a+f-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[f*i+m];d+=n[_]*C}}s[c]=d}return s}var DH=function(n){let e=this.threshold(),t=wH(n,e);return t&&(t=xH(t,n.width,n.height),t=EH(t,n.width,n.height),t=SH(t,n.width,n.height),CH(n,t)),n};Zv.Mask=DH;qA.Factory.addGetterSetter(yH.Node,"threshold",0,(0,bH.getNumberValidator)(),qA.Factory.afterSetFilter)});var $A=Ye(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.Noise=void 0;var GA=jt(),IH=Vn(),MH=Ut(),AH=function(n){let e=this.noise()*255,t=n.data,r=t.length,i=e/2;for(let o=0;o<r;o+=4)t[o+0]+=i-2*i*Math.random(),t[o+1]+=i-2*i*Math.random(),t[o+2]+=i-2*i*Math.random()};Qv.Noise=AH;GA.Factory.addGetterSetter(IH.Node,"noise",.2,(0,MH.getNumberValidator)(),GA.Factory.afterSetFilter)});var YA=Ye(e2=>{"use strict";Object.defineProperty(e2,"__esModule",{value:!0});e2.Pixelate=void 0;var WA=jt(),TH=Tn(),PH=Vn(),NH=Ut(),OH=function(n){let e=Math.ceil(this.pixelSize()),t=n.width,r=n.height,i=Math.ceil(t/e),o=Math.ceil(r/e),s=n.data;if(e<=0){TH.Util.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<o;l+=1){let c=0,d=0,f=0,m=0,p=a*e,y=p+e,_=l*e,C=_+e,w=0;for(let S=p;S<y;S+=1)if(!(S>=t))for(let O=_;O<C;O+=1){if(O>=r)continue;let k=(t*O+S)*4;c+=s[k+0],d+=s[k+1],f+=s[k+2],m+=s[k+3],w+=1}c=c/w,d=d/w,f=f/w,m=m/w;for(let S=p;S<y;S+=1)if(!(S>=t))for(let O=_;O<C;O+=1){if(O>=r)continue;let k=(t*O+S)*4;s[k+0]=c,s[k+1]=d,s[k+2]=f,s[k+3]=m}}};e2.Pixelate=OH;WA.Factory.addGetterSetter(PH.Node,"pixelSize",8,(0,NH.getNumberValidator)(),WA.Factory.afterSetFilter)});var XA=Ye(t2=>{"use strict";Object.defineProperty(t2,"__esModule",{value:!0});t2.Posterize=void 0;var KA=jt(),kH=Vn(),RH=Ut(),LH=function(n){let e=Math.round(this.levels()*254)+1,t=n.data,r=t.length,i=255/e;for(let o=0;o<r;o+=1)t[o]=Math.floor(t[o]/i)*i};t2.Posterize=LH;KA.Factory.addGetterSetter(kH.Node,"levels",.5,(0,RH.getNumberValidator)(),KA.Factory.afterSetFilter)});var JA=Ye(r2=>{"use strict";Object.defineProperty(r2,"__esModule",{value:!0});r2.RGB=void 0;var n2=jt(),nx=Vn(),FH=Ut(),jH=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue();for(let s=0;s<t;s+=4){let a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=a*r,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]}};r2.RGB=jH;n2.Factory.addGetterSetter(nx.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});n2.Factory.addGetterSetter(nx.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});n2.Factory.addGetterSetter(nx.Node,"blue",0,FH.RGBComponent,n2.Factory.afterSetFilter)});var ZA=Ye(o2=>{"use strict";Object.defineProperty(o2,"__esModule",{value:!0});o2.RGBA=void 0;var yp=jt(),i2=Vn(),BH=Ut(),VH=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue(),s=this.alpha();for(let a=0;a<t;a+=4){let l=1-s;e[a]=r*s+e[a]*l,e[a+1]=i*s+e[a+1]*l,e[a+2]=o*s+e[a+2]*l}};o2.RGBA=VH;yp.Factory.addGetterSetter(i2.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});yp.Factory.addGetterSetter(i2.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});yp.Factory.addGetterSetter(i2.Node,"blue",0,BH.RGBComponent,yp.Factory.afterSetFilter);yp.Factory.addGetterSetter(i2.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n})});var QA=Ye(s2=>{"use strict";Object.defineProperty(s2,"__esModule",{value:!0});s2.Sepia=void 0;var UH=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=e[r+0],o=e[r+1],s=e[r+2];e[r+0]=Math.min(255,i*.393+o*.769+s*.189),e[r+1]=Math.min(255,i*.349+o*.686+s*.168),e[r+2]=Math.min(255,i*.272+o*.534+s*.131)}};s2.Sepia=UH});var e8=Ye(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});a2.Solarize=void 0;var HH=function(n){let e=n.data,t=n.width,r=n.height,i=t*4,o=r;do{let s=(o-1)*i,a=t;do{let l=s+(a-1)*4,c=e[l],d=e[l+1],f=e[l+2];c>127&&(c=255-c),d>127&&(d=255-d),f>127&&(f=255-f),e[l]=c,e[l+1]=d,e[l+2]=f}while(--a)}while(--o)};a2.Solarize=HH});var n8=Ye(l2=>{"use strict";Object.defineProperty(l2,"__esModule",{value:!0});l2.Threshold=void 0;var t8=jt(),qH=Vn(),zH=Ut(),GH=function(n){let e=this.threshold()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=1)t[i]=t[i]<e?0:255};l2.Threshold=GH;t8.Factory.addGetterSetter(qH.Node,"threshold",.5,(0,zH.getNumberValidator)(),t8.Factory.afterSetFilter)});var o8=Ye(c2=>{"use strict";Object.defineProperty(c2,"__esModule",{value:!0});c2.Konva=void 0;var r8=TM(),$H=NM(),WH=jM(),YH=BM(),KH=UM(),XH=HM(),i8=GM(),JH=PC(),ZH=_v(),QH=VC(),eq=YM(),tq=ZM(),nq=eA(),rq=tA(),iq=WC(),oq=pA(),sq=wA(),aq=xA(),lq=DA(),cq=MA(),uq=TA(),dq=NA(),hq=kA(),fq=RA(),pq=LA(),gq=FA(),mq=jA(),vq=HA(),yq=zA(),bq=$A(),_q=YA(),wq=XA(),Cq=JA(),xq=ZA(),Eq=QA(),Sq=e8(),Dq=n8();c2.Konva=r8.Konva.Util._assign(r8.Konva,{Arc:$H.Arc,Arrow:WH.Arrow,Circle:YH.Circle,Ellipse:KH.Ellipse,Image:XH.Image,Label:i8.Label,Tag:i8.Tag,Line:JH.Line,Path:ZH.Path,Rect:QH.Rect,RegularPolygon:eq.RegularPolygon,Ring:tq.Ring,Sprite:nq.Sprite,Star:rq.Star,Text:iq.Text,TextPath:oq.TextPath,Transformer:sq.Transformer,Wedge:aq.Wedge,Filters:{Blur:lq.Blur,Brighten:cq.Brighten,Contrast:uq.Contrast,Emboss:dq.Emboss,Enhance:hq.Enhance,Grayscale:fq.Grayscale,HSL:pq.HSL,HSV:gq.HSV,Invert:mq.Invert,Kaleidoscope:vq.Kaleidoscope,Mask:yq.Mask,Noise:bq.Noise,Pixelate:_q.Pixelate,Posterize:wq.Posterize,RGB:Cq.RGB,RGBA:xq.RGBA,Sepia:Eq.Sepia,Solarize:Sq.Solarize,Threshold:Dq.Threshold}})});var l8=Ye((s8,a8)=>{"use strict";Object.defineProperty(s8,"__esModule",{value:!0});var Iq=o8();a8.exports=Iq.Konva});var sx=Ye(ox=>{"use strict";Object.defineProperty(ox,"__esModule",{value:!0});var ix=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ox.default=ix});var lx=Ye(xp=>{"use strict";var u8=xp&&xp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xp,"__esModule",{value:!0});var Fq=u8((iE(),aP(lP))),jq=u8(sx()),ax=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Fq.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>ne(this,null,function*(){var s,a,l;let c=null,d=null,f=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let w=yield o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(f=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(d=[],c=null,m=200,p="OK")}catch{o.status===404&&_===""?(m=204,p="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,p="OK"),c&&this.shouldThrowOnError)throw new jq.default(c)}return{error:c,data:d,count:f,status:m,statusText:p}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};xp.default=ax});var ux=Ye(Ep=>{"use strict";var Bq=Ep&&Ep.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ep,"__esModule",{value:!0});var Vq=Bq(lx()),cx=class extends Vq.default{select(e){let t=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ep.default=cx});var h2=Ye(Sp=>{"use strict";var Uq=Sp&&Sp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sp,"__esModule",{value:!0});var Hq=Uq(ux()),dx=class extends Hq.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Sp.default=dx});var fx=Ye(Ip=>{"use strict";var qq=Ip&&Ip.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ip,"__esModule",{value:!0});var Dp=qq(h2()),hx=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Dp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Dp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){let c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Dp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Dp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Dp.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ip.default=hx});var d8=Ye(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});f2.version=void 0;f2.version="0.0.0-automated"});var h8=Ye(p2=>{"use strict";Object.defineProperty(p2,"__esModule",{value:!0});p2.DEFAULT_HEADERS=void 0;var zq=d8();p2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zq.version}`}});var p8=Ye(Mp=>{"use strict";var f8=Mp&&Mp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mp,"__esModule",{value:!0});var Gq=f8(fx()),$q=f8(h2()),Wq=h8(),px=class n{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Wq.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new Gq.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${e}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new $q.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Mp.default=px});var w8=Ye(Or=>{"use strict";var Rd=Or&&Or.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Or,"__esModule",{value:!0});Or.PostgrestError=Or.PostgrestBuilder=Or.PostgrestTransformBuilder=Or.PostgrestFilterBuilder=Or.PostgrestQueryBuilder=Or.PostgrestClient=void 0;var g8=Rd(p8());Or.PostgrestClient=g8.default;var m8=Rd(fx());Or.PostgrestQueryBuilder=m8.default;var v8=Rd(h2());Or.PostgrestFilterBuilder=v8.default;var y8=Rd(ux());Or.PostgrestTransformBuilder=y8.default;var b8=Rd(lx());Or.PostgrestBuilder=b8.default;var _8=Rd(sx());Or.PostgrestError=_8.default;Or.default={PostgrestClient:g8.default,PostgrestQueryBuilder:m8.default,PostgrestFilterBuilder:v8.default,PostgrestTransformBuilder:y8.default,PostgrestBuilder:b8.default,PostgrestError:_8.default}});var ky;function Ng(){return ky}function Yo(n){let e=ky;return ky=n,e}var oE=Symbol("NotFound");function ou(n){return n===oE||n?.name==="\u0275NotFound"}function Fg(n,e){return Object.is(n,e)}var hr=null,Og=!1,Ry=1,cP=null,Yr=Symbol("SIGNAL");function bt(n){let e=hr;return hr=n,e}function jg(){return hr}var Il={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function su(n){if(Og)throw new Error("");if(hr===null)return;hr.consumerOnSignalRead(n);let e=hr.nextProducerIndex++;if(Hg(hr),e<hr.producerNode.length&&hr.producerNode[e]!==n&&xh(hr)){let t=hr.producerNode[e];Ug(t,hr.producerIndexOfThis[e])}hr.producerNode[e]!==n&&(hr.producerNode[e]=n,hr.producerIndexOfThis[e]=xh(hr)?aE(n,hr,e):0),hr.producerLastReadVersion[e]=n.version}function sE(){Ry++}function Bg(n){if(!(xh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ry)){if(!n.producerMustRecompute(n)&&!Eh(n)){Lg(n);return}n.producerRecomputeValue(n),Lg(n)}}function Ly(n){if(n.liveConsumerNode===void 0)return;let e=Og;Og=!0;try{for(let t of n.liveConsumerNode)t.dirty||uP(t)}finally{Og=e}}function Fy(){return hr?.consumerAllowSignalWrites!==!1}function uP(n){n.dirty=!0,Ly(n),n.consumerMarkedDirty?.(n)}function Lg(n){n.dirty=!1,n.lastCleanEpoch=Ry}function Ml(n){return n&&(n.nextProducerIndex=0),bt(n)}function au(n,e){if(bt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(xh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ug(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Eh(n){Hg(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Bg(t),r!==t.version))return!0}return!1}function Vg(n){if(Hg(n),xh(n))for(let e=0;e<n.producerNode.length;e++)Ug(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function aE(n,e,t){if(lE(n),n.liveConsumerNode.length===0&&cE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=aE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ug(n,e){if(lE(n),n.liveConsumerNode.length===1&&cE(n))for(let r=0;r<n.producerNode.length;r++)Ug(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Hg(i),i.producerIndexOfThis[r]=e}}function xh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hg(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function lE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function cE(n){return n.producerNode!==void 0}function qg(n){cP?.(n)}function zg(n,e){let t=Object.create(dP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Bg(t),su(t),t.value===Ch)throw t.error;return t.value};return r[Yr]=t,qg(t),r}var kg=Symbol("UNSET"),Rg=Symbol("COMPUTING"),Ch=Symbol("ERRORED"),dP=lt(Ie({},Il),{value:kg,dirty:!0,error:null,equal:Fg,kind:"computed",producerMustRecompute(n){return n.value===kg||n.value===Rg},producerRecomputeValue(n){if(n.value===Rg)throw new Error("");let e=n.value;n.value=Rg;let t=Ml(n),r,i=!1;try{r=n.computation(),bt(null),i=e!==kg&&e!==Ch&&r!==Ch&&n.equal(e,r)}catch(o){r=Ch,n.error=o}finally{au(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function hP(){throw new Error}var uE=hP;function dE(n){uE(n)}function jy(n){uE=n}var fP=null;function By(n,e){let t=Object.create(Gg);t.value=n,e!==void 0&&(t.equal=e);let r=()=>hE(t);return r[Yr]=t,qg(t),[r,s=>lu(t,s),s=>Vy(t,s)]}function hE(n){return su(n),n.value}function lu(n,e){Fy()||dE(n),n.equal(n.value,e)||(n.value=e,pP(n))}function Vy(n,e){Fy()||dE(n),lu(n,e(n.value))}var Gg=lt(Ie({},Il),{equal:Fg,value:void 0,kind:"signal"});function pP(n){n.version++,sE(),Ly(n),fP?.(n)}function At(n){return typeof n=="function"}function cu(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $g=cu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Sh(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ir=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(At(r))try{r()}catch(o){e=o instanceof $g?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{fE(o)}catch(s){e=e??[],s instanceof $g?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $g(e)}}add(e){var t;if(e&&e!==this)if(this.closed)fE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Sh(t,e)}remove(e){let{_finalizers:t}=this;t&&Sh(t,e),e instanceof n&&e._removeParent(this)}};ir.EMPTY=(()=>{let n=new ir;return n.closed=!0,n})();var Uy=ir.EMPTY;function Wg(n){return n instanceof ir||n&&"closed"in n&&At(n.remove)&&At(n.add)&&At(n.unsubscribe)}function fE(n){At(n)?n():n.unsubscribe()}var go={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var uu={setTimeout(n,e,...t){let{delegate:r}=uu;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=uu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Yg(n){uu.setTimeout(()=>{let{onUnhandledError:e}=go;if(e)e(n);else throw n})}function Dh(){}var pE=Hy("C",void 0,void 0);function gE(n){return Hy("E",void 0,n)}function mE(n){return Hy("N",n,void 0)}function Hy(n,e,t){return{kind:n,value:e,error:t}}var Al=null;function du(n){if(go.useDeprecatedSynchronousErrorHandling){let e=!Al;if(e&&(Al={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Al;if(Al=null,t)throw r}}else n()}function vE(n){go.useDeprecatedSynchronousErrorHandling&&Al&&(Al.errorThrown=!0,Al.error=n)}var Tl=class extends ir{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wg(e)&&e.add(this)):this.destination=vP}static create(e,t,r){return new hu(e,t,r)}next(e){this.isStopped?zy(mE(e),this):this._next(e)}error(e){this.isStopped?zy(gE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zy(pE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gP=Function.prototype.bind;function qy(n,e){return gP.call(n,e)}var Gy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Kg(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Kg(r)}else Kg(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Kg(t)}}},hu=class extends Tl{constructor(e,t,r){super();let i;if(At(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&go.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qy(e.next,o),error:e.error&&qy(e.error,o),complete:e.complete&&qy(e.complete,o)}):i=e}this.destination=new Gy(i)}};function Kg(n){go.useDeprecatedSynchronousErrorHandling?vE(n):Yg(n)}function mP(n){throw n}function zy(n,e){let{onStoppedNotification:t}=go;t&&uu.setTimeout(()=>t(n,e))}var vP={closed:!0,next:Dh,error:mP,complete:Dh};var fu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yi(n){return n}function $y(...n){return Wy(n)}function Wy(n){return n.length===0?yi:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Vt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=bP(t)?t:new hu(t,r,i);return du(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=yE(r),new r((i,o)=>{let s=new hu({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[fu](){return this}pipe(...t){return Wy(t)(this)}toPromise(t){return t=yE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function yE(n){var e;return(e=n??go.Promise)!==null&&e!==void 0?e:Promise}function yP(n){return n&&At(n.next)&&At(n.error)&&At(n.complete)}function bP(n){return n&&n instanceof Tl||yP(n)&&Wg(n)}function Yy(n){return At(n?.lift)}function Kt(n){return e=>{if(Yy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function zt(n,e,t,r,i){return new Ky(n,e,t,r,i)}var Ky=class extends Tl{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pu(){return Kt((n,e)=>{let t=null;n._refCount++;let r=zt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var gu=class extends Vt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ir;let t=this.getSubject();e.add(this.source.subscribe(zt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ir.EMPTY)}return e}refCount(){return pu()(this)}};var bE=cu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var zn=(()=>{class n extends Vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Xg(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new bE}next(t){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Uy:(this.currentObservers=null,o.push(t),new ir(()=>{this.currentObservers=null,Sh(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Vt;return t.source=this,t}}return n.create=(e,t)=>new Xg(e,t),n})(),Xg=class extends zn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Uy}};var fn=class extends zn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var oi=new Vt(n=>n.complete());function _E(n){return n&&At(n.schedule)}function wE(n){return n[n.length-1]}function Jg(n){return At(wE(n))?n.pop():void 0}function Ta(n){return _E(wE(n))?n.pop():void 0}function xE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function CE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pl(n){return this instanceof Pl?(this.v=n,this):new Pl(n)}function EE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(y){return Promise.resolve(y).then(p,f)}}function a(p,y){r[p]&&(i[p]=function(_){return new Promise(function(C,w){o.push([p,_,C,w])>1||l(p,_)})},y&&(i[p]=y(i[p])))}function l(p,y){try{c(r[p](y))}catch(_){m(o[0][3],_)}}function c(p){p.value instanceof Pl?Promise.resolve(p.value.v).then(d,f):m(o[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function m(p,y){p(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function SE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof CE=="function"?CE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Zg=n=>n&&typeof n.length=="number"&&typeof n!="function";function Qg(n){return At(n?.then)}function em(n){return At(n[fu])}function tm(n){return Symbol.asyncIterator&&At(n?.[Symbol.asyncIterator])}function nm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _P(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rm=_P();function im(n){return At(n?.[rm])}function om(n){return EE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Pl(t.read());if(i)return yield Pl(void 0);yield yield Pl(r)}}finally{t.releaseLock()}})}function sm(n){return At(n?.getReader)}function or(n){if(n instanceof Vt)return n;if(n!=null){if(em(n))return wP(n);if(Zg(n))return CP(n);if(Qg(n))return xP(n);if(tm(n))return DE(n);if(im(n))return EP(n);if(sm(n))return SP(n)}throw nm(n)}function wP(n){return new Vt(e=>{let t=n[fu]();if(At(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CP(n){return new Vt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function xP(n){return new Vt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Yg)})}function EP(n){return new Vt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function DE(n){return new Vt(e=>{DP(n,e).catch(t=>e.error(t))})}function SP(n){return DE(om(n))}function DP(n,e){var t,r,i,o;return xE(this,void 0,void 0,function*(){try{for(t=SE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function si(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function am(n,e=0){return Kt((t,r)=>{t.subscribe(zt(r,i=>si(r,n,()=>r.next(i),e),()=>si(r,n,()=>r.complete(),e),i=>si(r,n,()=>r.error(i),e)))})}function lm(n,e=0){return Kt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function IE(n,e){return or(n).pipe(lm(e),am(e))}function ME(n,e){return or(n).pipe(lm(e),am(e))}function AE(n,e){return new Vt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function TE(n,e){return new Vt(t=>{let r;return si(t,e,()=>{r=n[rm](),si(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>At(r?.return)&&r.return()})}function cm(n,e){if(!n)throw new Error("Iterable cannot be null");return new Vt(t=>{si(t,e,()=>{let r=n[Symbol.asyncIterator]();si(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function PE(n,e){return cm(om(n),e)}function NE(n,e){if(n!=null){if(em(n))return IE(n,e);if(Zg(n))return AE(n,e);if(Qg(n))return ME(n,e);if(tm(n))return cm(n,e);if(im(n))return TE(n,e);if(sm(n))return PE(n,e)}throw nm(n)}function Mn(n,e){return e?NE(n,e):or(n)}function gt(...n){let e=Ta(n);return Mn(n,e)}function mu(n,e){let t=At(n)?n:()=>n,r=i=>i.error(t());return new Vt(e?i=>e.schedule(r,0,i):r)}function Xy(n){return!!n&&(n instanceof Vt||At(n.lift)&&At(n.subscribe))}var js=cu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ot(n,e){return Kt((t,r)=>{let i=0;t.subscribe(zt(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:IP}=Array;function MP(n,e){return IP(e)?n(...e):n(e)}function um(n){return Ot(e=>MP(n,e))}var{isArray:AP}=Array,{getPrototypeOf:TP,prototype:PP,keys:NP}=Object;function dm(n){if(n.length===1){let e=n[0];if(AP(e))return{args:e,keys:null};if(OP(e)){let t=NP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function OP(n){return n&&typeof n=="object"&&TP(n)===PP}function hm(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function fm(...n){let e=Ta(n),t=Jg(n),{args:r,keys:i}=dm(n);if(r.length===0)return Mn([],e);let o=new Vt(kP(r,e,i?s=>hm(i,s):yi));return t?o.pipe(um(t)):o}function kP(n,e,t=yi){return r=>{OE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)OE(e,()=>{let c=Mn(n[l],e),d=!1;c.subscribe(zt(r,f=>{o[l]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function OE(n,e,t){n?si(t,n,e):e()}function kE(n,e,t,r,i,o,s,a){let l=[],c=0,d=0,f=!1,m=()=>{f&&!l.length&&!c&&e.complete()},p=_=>c<r?y(_):l.push(_),y=_=>{o&&e.next(_),c++;let C=!1;or(t(_,d++)).subscribe(zt(e,w=>{i?.(w),o?p(w):e.next(w)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let w=l.shift();s?si(e,s,()=>y(w)):y(w)}m()}catch(w){e.error(w)}}))};return n.subscribe(zt(e,p,()=>{f=!0,m()})),()=>{a?.()}}function sr(n,e,t=1/0){return At(e)?sr((r,i)=>Ot((o,s)=>e(r,o,i,s))(or(n(r,i))),t):(typeof e=="number"&&(t=e),Kt((r,i)=>kE(r,i,n,t)))}function vu(n=1/0){return sr(yi,n)}function RE(){return vu(1)}function yu(...n){return RE()(Mn(n,Ta(n)))}function Ih(n){return new Vt(e=>{or(n()).subscribe(e)})}function Jy(...n){let e=Jg(n),{args:t,keys:r}=dm(n),i=new Vt(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let f=!1;or(t[d]).subscribe(zt(o,m=>{f||(f=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?hm(r,a):a),o.complete())}))}});return e?i.pipe(um(e)):i}function Kr(n,e){return Kt((t,r)=>{let i=0;t.subscribe(zt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Bs(n){return Kt((e,t)=>{let r=null,i=!1,o;r=e.subscribe(zt(t,void 0,void 0,s=>{o=or(n(s,Bs(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function LE(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(zt(s,d=>{let f=c++;l=a?n(l,d,f):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Vs(n,e){return At(e)?sr(n,e,1):sr(n,1)}function Pa(n){return Kt((e,t)=>{let r=!1;e.subscribe(zt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Us(n){return n<=0?()=>oi:Kt((e,t)=>{let r=0;e.subscribe(zt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pm(n=RP){return Kt((e,t)=>{let r=!1;e.subscribe(zt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function RP(){return new js}function Nl(n){return Kt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hs(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Kr((i,o)=>n(i,o,r)):yi,Us(1),t?Pa(e):pm(()=>new js))}function bu(n){return n<=0?()=>oi:Kt((e,t)=>{let r=[];e.subscribe(zt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Zy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Kr((i,o)=>n(i,o,r)):yi,bu(1),t?Pa(e):pm(()=>new js))}function Qy(n,e){return Kt(LE(n,e,arguments.length>=2,!0))}function eb(...n){let e=Ta(n);return Kt((t,r)=>{(e?yu(n,t,e):yu(n,t)).subscribe(r)})}function ai(n,e){return Kt((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(zt(r,l=>{i?.unsubscribe();let c=0,d=o++;or(n(l,d)).subscribe(i=zt(r,f=>r.next(e?e(l,f,d,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function gm(n){return Kt((e,t)=>{or(n).subscribe(zt(t,()=>t.complete(),Dh)),!t.closed&&e.subscribe(t)})}function _r(n,e,t){let r=At(n)||e||t?{next:n,error:e,complete:t}:n;return r?Kt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(zt(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):yi}function FE(n){let e=bt(null);try{return n()}finally{bt(e)}}var _m="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$e=class extends Error{code;constructor(e,t){super(Oa(e,t)),this.code=e}};function LP(n){return`NG0${Math.abs(n)}`}function Oa(n,e){return`${LP(n)}${e?": "+e:""}`}var Nh=globalThis;function sn(n){for(let e in n)if(n[e]===sn)return e;throw Error("")}function VE(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function zs(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(zs).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function hb(n,e){return n?e?`${n} ${e}`:n:e||""}var FP=sn({__forward_ref__:sn});function Ko(n){return n.__forward_ref__=Ko,n.toString=function(){return zs(this())},n}function Mr(n){return fb(n)?n():n}function fb(n){return typeof n=="function"&&n.hasOwnProperty(FP)&&n.__forward_ref__===Ko}function UE(n,e){n==null&&pb(e,n,null,"!=")}function pb(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function We(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fi(n){return{providers:n.providers||[],imports:n.imports||[]}}function Oh(n){return jP(n,wm)}function gb(n){return Oh(n)!==null}function jP(n,e){return n.hasOwnProperty(e)&&n[e]||null}function BP(n){let e=n?.[wm]??null;return e||null}function nb(n){return n&&n.hasOwnProperty(vm)?n[vm]:null}var wm=sn({\u0275prov:sn}),vm=sn({\u0275inj:sn}),Xe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=We({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mb(n){return n&&!!n.\u0275providers}var vb=sn({\u0275cmp:sn}),yb=sn({\u0275dir:sn}),bb=sn({\u0275pipe:sn}),_b=sn({\u0275mod:sn}),Th=sn({\u0275fac:sn}),jl=sn({__NG_ELEMENT_ID__:sn}),jE=sn({__NG_ENV_ID__:sn});function kh(n){return typeof n=="string"?n:n==null?"":String(n)}function ym(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():kh(n)}var wb=sn({ngErrorCode:sn}),HE=sn({ngErrorMessage:sn}),Ah=sn({ngTokenPath:sn});function Cb(n,e){return qE("",-200,e)}function Cm(n,e){throw new $e(-201,!1)}function VP(n,e){n[Ah]??=[];let t=n[Ah],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(UE(e.provide,"Token with multi: true should have a provide property"),r=ym(e.provide)):r=ym(e),t[0]!==r&&n[Ah].unshift(r)}function UP(n,e){let t=n[Ah],r=n[wb],i=n[HE]||n.message;return n.message=qP(i,r,t,e),n}function qE(n,e,t){let r=new $e(e,n);return r[wb]=e,r[HE]=n,t&&(r[Ah]=t),r}function HP(n){return n[wb]}function qP(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Oa(e,`${n}${o}${i}`)}var rb;function zE(){return rb}function bi(n){let e=rb;return rb=n,e}function xb(n,e,t){let r=Oh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Cm(n,"Injector")}var zP={},Ol=zP,GP="__NG_DI_FLAG__",ib=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=kl(t)||0;try{return this.injector.get(e,r&8?null:Ol,r)}catch(i){if(ou(i))return i;throw i}}};function $P(n,e=0){let t=Ng();if(t===void 0)throw new $e(-203,!1);if(t===null)return xb(n,void 0,e);{let r=WP(e),i=t.retrieve(n,r);if(ou(i)){if(r.optional)return null;throw i}return i}}function it(n,e=0){return(zE()||$P)(Mr(n),e)}function Se(n,e){return it(n,kl(e))}function kl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function WP(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ob(n){let e=[];for(let t=0;t<n.length;t++){let r=Mr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $e(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=YP(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(it(i,o))}else e.push(it(r))}return e}function YP(n){return n[GP]}function Rl(n,e){let t=n.hasOwnProperty(Th);return t?n[Th]:null}function GE(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function $E(n){return n.flat(Number.POSITIVE_INFINITY)}function xm(n,e){n.forEach(t=>Array.isArray(t)?xm(t,e):e(t))}function Eb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Rh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function WE(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function YE(n,e,t){let r=wu(n,e);return r>=0?n[r|1]=t:(r=~r,WE(n,r,e,t)),r}function Em(n,e){let t=wu(n,e);if(t>=0)return n[t|1]}function wu(n,e){return KP(n,e,1)}function KP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ka={},_i=[],$s=new Xe(""),Sb=new Xe("",-1),Db=new Xe(""),Ph=class{get(e,t=Ol){if(t===Ol){let i=qE("",-201);throw i.name="\u0275NotFound",i}return t}};function Ib(n){return n[_b]||null}function Ra(n){return n[vb]||null}function Mb(n){return n[yb]||null}function KE(n){return n[bb]||null}function Ws(n){return{\u0275providers:n}}function XE(n){return Ws([{provide:$s,multi:!0,useValue:n}])}function JE(...n){return{\u0275providers:Ab(!0,n),\u0275fromNgModule:!0}}function Ab(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return xm(e,s=>{let a=s;bm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ZE(i,o),t}function ZE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Tb(i,o=>{e(o,r)})}}function bm(n,e,t,r){if(n=Mr(n),!n)return!1;let i=null,o=nb(n),s=!o&&Ra(n);if(!o&&!s){let l=n.ngModule;if(o=nb(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)bm(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{xm(o.imports,d=>{bm(d,e,t,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&ZE(c,e)}if(!a){let c=Rl(i)||(()=>new i);e({provide:i,useFactory:c,deps:_i},i),e({provide:Db,useValue:i,multi:!0},i),e({provide:$s,useValue:()=>it(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;Tb(l,d=>{e(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Tb(n,e){for(let t of n)mb(t)&&(t=t.\u0275providers),Array.isArray(t)?Tb(t,e):e(t)}var XP=sn({provide:String,useValue:sn});function QE(n){return n!==null&&typeof n=="object"&&XP in n}function JP(n){return!!(n&&n.useExisting)}function ZP(n){return!!(n&&n.useFactory)}function Ll(n){return typeof n=="function"}function e3(n){return!!n.useClass}var Lh=new Xe(""),mm={},BE={},tb;function Fh(){return tb===void 0&&(tb=new Ph),tb}var ar=class{},Fl=class extends ar{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ab(e,s=>this.processProvider(s)),this.records.set(Sb,_u(void 0,this)),i.has("environment")&&this.records.set(ar,_u(void 0,this));let o=this.records.get(Lh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Db,_i,{self:!0}))}retrieve(e,t){let r=kl(t)||0;try{return this.get(e,Ol,r)}catch(i){if(ou(i))return i;throw i}}destroy(){Mh(this),this._destroyed=!0;let e=bt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),bt(e)}}onDestroy(e){return Mh(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Mh(this);let t=Yo(this),r=bi(void 0),i;try{return e()}finally{Yo(t),bi(r)}}get(e,t=Ol,r){if(Mh(this),e.hasOwnProperty(jE))return e[jE](this);let i=kl(r),o,s=Yo(this),a=bi(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let d=rN(e)&&Oh(e);d&&this.injectableDefInScope(d)?c=_u(sb(e),mm):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?Fh():this.parent;return t=i&8&&t===Ol?null:t,l.get(e,t)}catch(l){let c=HP(l);throw c===-200||c===-201?new $e(c,null):l}finally{bi(a),Yo(s)}}resolveInjectorInitializers(){let e=bt(null),t=Yo(this),r=bi(void 0),i;try{let o=this.get($s,_i,{self:!0});for(let s of o)s()}finally{Yo(t),bi(r),bt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(zs(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Mr(e);let t=Ll(e)?e:Mr(e&&e.provide),r=eN(e);if(!Ll(e)&&e.multi===!0){let i=this.records.get(t);i||(i=_u(void 0,mm,!0),i.factory=()=>ob(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=bt(null);try{if(t.value===BE)throw Cb(zs(e));return t.value===mm&&(t.value=BE,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&nN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{bt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function sb(n){let e=Oh(n),t=e!==null?e.factory:Rl(n);if(t!==null)return t;if(n instanceof Xe)throw new $e(204,!1);if(n instanceof Function)return QP(n);throw new $e(204,!1)}function QP(n){if(n.length>0)throw new $e(204,!1);let t=BP(n);return t!==null?()=>t.factory(n):()=>new n}function eN(n){if(QE(n))return _u(void 0,n.useValue);{let e=Pb(n);return _u(e,mm)}}function Pb(n,e,t){let r;if(Ll(n)){let i=Mr(n);return Rl(i)||sb(i)}else if(QE(n))r=()=>Mr(n.useValue);else if(ZP(n))r=()=>n.useFactory(...ob(n.deps||[]));else if(JP(n))r=(i,o)=>it(Mr(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Mr(n&&(n.useClass||n.provide));if(tN(n))r=()=>new i(...ob(n.deps));else return Rl(i)||sb(i)}return r}function Mh(n){if(n.destroyed)throw new $e(205,!1)}function _u(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function tN(n){return!!n.deps}function nN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function rN(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function ab(n,e){for(let t of n)Array.isArray(t)?ab(t,e):t&&mb(t)?ab(t.\u0275providers,e):e(t)}function Ar(n,e){let t;n instanceof Fl?(Mh(n),t=n):t=new ib(n);let r,i=Yo(t),o=bi(void 0);try{return e()}finally{Yo(i),bi(o)}}function t3(){return zE()!==void 0||Ng()!=null}var vo=0,dt=1,_t=2,fr=3,ji=4,Bi=5,Cu=6,xu=7,Gn=8,Bl=9,Xo=10,$n=11,Eu=12,Nb=13,Vl=14,Ci=15,La=16,Ul=17,Jo=18,jh=19,Ob=20,qs=21,Sm=22,Bh=23,xi=24,Hl=25,wr=26,n3=1,kb=6,Fa=7,Vh=8,ql=9,Cr=10;function Zo(n){return Array.isArray(n)&&typeof n[n3]=="object"}function yo(n){return Array.isArray(n)&&n[n3]===!0}function Rb(n){return(n.flags&4)!==0}function ja(n){return n.componentOffset>-1}function Uh(n){return(n.flags&1)===1}function Qo(n){return!!n.template}function Su(n){return(n[_t]&512)!==0}function zl(n){return(n[_t]&256)===256}var Lb="svg",r3="math";function Vi(n){for(;Array.isArray(n);)n=n[vo];return n}function Fb(n,e){return Vi(e[n])}function bo(n,e){return Vi(e[n.index])}function Hh(n,e){return n.data[e]}function Ui(n,e){let t=e[n];return Zo(t)?t:t[vo]}function i3(n){return(n[_t]&4)===4}function Dm(n){return(n[_t]&128)===128}function o3(n){return yo(n[fr])}function Hi(n,e){return e==null?null:n[e]}function jb(n){n[Ul]=0}function Bb(n){n[_t]&1024||(n[_t]|=1024,Dm(n)&&Du(n))}function s3(n,e){for(;n>0;)e=e[Vl],n--;return e}function qh(n){return!!(n[_t]&9216||n[xi]?.dirty)}function Im(n){n[Xo].changeDetectionScheduler?.notify(8),n[_t]&64&&(n[_t]|=1024),qh(n)&&Du(n)}function Du(n){n[Xo].changeDetectionScheduler?.notify(0);let e=Na(n);for(;e!==null&&!(e[_t]&8192||(e[_t]|=8192,!Dm(e)));)e=Na(e)}function Vb(n,e){if(zl(n))throw new $e(911,!1);n[qs]===null&&(n[qs]=[]),n[qs].push(e)}function a3(n,e){if(n[qs]===null)return;let t=n[qs].indexOf(e);t!==-1&&n[qs].splice(t,1)}function Na(n){let e=n[fr];return yo(e)?e[fr]:e}function Ub(n){return n[xu]??=[]}function Hb(n){return n.cleanup??=[]}function l3(n,e,t,r){let i=Ub(e);i.push(t),n.firstCreatePass&&Hb(n).push(r,i.length-1)}var Ft={lFrame:w3(null),bindingsEnabled:!0,skipHydrationRootTNode:null},zh=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(zh||{}),iN=0,lb=!1;function c3(){return Ft.lFrame.elementDepthCount}function u3(){Ft.lFrame.elementDepthCount++}function qb(){Ft.lFrame.elementDepthCount--}function zb(){return Ft.bindingsEnabled}function d3(){return Ft.skipHydrationRootTNode!==null}function Gb(n){return Ft.skipHydrationRootTNode===n}function $b(){Ft.skipHydrationRootTNode=null}function Gt(){return Ft.lFrame.lView}function Tr(){return Ft.lFrame.tView}function tt(n){return Ft.lFrame.contextLView=n,n[Gn]}function nt(n){return Ft.lFrame.contextLView=null,n}function Pr(){let n=Wb();for(;n!==null&&n.type===64;)n=n.parent;return n}function Wb(){return Ft.lFrame.currentTNode}function h3(){let n=Ft.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Iu(n,e){let t=Ft.lFrame;t.currentTNode=n,t.isParent=e}function Yb(){return Ft.lFrame.isParent}function f3(){Ft.lFrame.isParent=!1}function Kb(n){pb("Must never be called in production mode"),iN=n}function Xb(){return lb}function Jb(n){let e=lb;return lb=n,e}function p3(n){return Ft.lFrame.bindingIndex=n}function Mu(){return Ft.lFrame.bindingIndex++}function g3(n){let e=Ft.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function m3(){return Ft.lFrame.inI18n}function v3(n,e){let t=Ft.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mm(e)}function y3(){return Ft.lFrame.currentDirectiveIndex}function Mm(n){Ft.lFrame.currentDirectiveIndex=n}function b3(n){let e=Ft.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Zb(){return Ft.lFrame.currentQueryIndex}function Am(n){Ft.lFrame.currentQueryIndex=n}function oN(n){let e=n[dt];return e.type===2?e.declTNode:e.type===1?n[Bi]:null}function Qb(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=oN(o),i===null||(o=o[Vl],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ft.lFrame=_3();return r.currentTNode=e,r.lView=n,!0}function Tm(n){let e=_3(),t=n[dt];Ft.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _3(){let n=Ft.lFrame,e=n===null?null:n.child;return e===null?w3(n):e}function w3(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function C3(){let n=Ft.lFrame;return Ft.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var e5=C3;function Pm(){let n=C3();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function x3(n){return(Ft.lFrame.contextLView=s3(n,Ft.lFrame.contextLView))[Gn]}function Ba(){return Ft.lFrame.selectedIndex}function Va(n){Ft.lFrame.selectedIndex=n}function t5(){let n=Ft.lFrame;return Hh(n.tView,n.selectedIndex)}function Nm(){Ft.lFrame.currentNamespace=Lb}function E3(){return Ft.lFrame.currentNamespace}var S3=!0;function Om(){return S3}function km(n){S3=n}function cb(n,e=null,t=null,r){let i=n5(n,e,t,r);return i.resolveInjectorInitializers(),i}function n5(n,e=null,t=null,r,i=new Set){let o=[t||_i,JE(n)];return r=r||(typeof n=="object"?void 0:zs(n)),new Fl(o,e||Fh(),r||null,i)}var wi=class n{static THROW_IF_NOT_FOUND=Ol;static NULL=new Ph;static create(e,t){if(Array.isArray(e))return cb({name:""},t,e,"");{let r=e.name??"";return cb({name:r},e.parent,e.providers,r)}}static \u0275prov=We({token:n,providedIn:"any",factory:()=>it(Sb)});static __NG_ELEMENT_ID__=-1},Rn=new Xe(""),qi=(()=>{class n{static __NG_ELEMENT_ID__=sN;static __NG_ENV_ID__=t=>t}return n})(),ub=class extends qi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return zl(this._lView)}onDestroy(e){let t=this._lView;return Vb(t,e),()=>a3(t,e)}};function sN(){return new ub(Gt())}var mo=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Xr=new Xe("",{providedIn:"root",factory:()=>{let n=Se(ar),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(mo),e.handleError(t))}}}),D3={provide:$s,useValue:()=>void Se(mo),multi:!0},aN=new Xe("",{providedIn:"root",factory:()=>{let n=Se(Rn).defaultView;if(!n)return;let e=Se(Xr),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),Se(qi).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function r5(){return Ws([XE(()=>void Se(aN))])}function $t(n,e){let[t,r,i]=By(n,e?.equal),o=t,s=o[Yr];return o.set=r,o.update=i,o.asReadonly=I3.bind(o),o}function I3(){let n=this[Yr];if(n.readonlyFn===void 0){let e=()=>this();e[Yr]=n,n.readonlyFn=e}return n.readonlyFn}var Gs=class{},Gh=new Xe("",{providedIn:"root",factory:()=>!1});var i5=new Xe(""),o5=new Xe("");var Rm=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=lN}return n})();function lN(){return new Rm(Gt(),Pr())}var es=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new fn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Vt(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=We({token:n,providedIn:"root",factory:()=>new n})}return n})(),Lm=(()=>{class n{internalPendingTasks=Se(es);scheduler=Se(Gs);errorHandler=Se(Xr);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=We({token:n,providedIn:"root",factory:()=>new n})}return n})();function $h(...n){}var s5=(()=>{class n{static \u0275prov=We({token:n,providedIn:"root",factory:()=>new db})}return n})(),db=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function tf(n){return{toString:n}.toString()}function vN(n){return typeof n=="function"}var qm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function iS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var rs=(()=>{let n=()=>oS;return n.ngInherit=!0,n})();function oS(n){return n.type.prototype.ngOnChanges&&(n.setInput=bN),yN}function yN(){let n=aS(this),e=n?.current;if(e){let t=n.previous;if(t===ka)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function bN(n,e,t,r,i){let o=this.declaredInputs[r],s=aS(n)||_N(n,{previous:ka,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new qm(c&&c.currentValue,t,l===ka),iS(n,e,i,t)}var sS="__ngSimpleChanges__";function aS(n){return n[sS]||null}function _N(n,e){return n[sS]=e}var M3=[];var cn=function(n,e=null,t){for(let r=0;r<M3.length;r++){let i=M3[r];i(n,e,t)}};function wN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=oS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function lS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Bm(n,e,t){cS(n,e,3,t)}function Vm(n,e,t,r){(n[_t]&3)===t&&cS(n,e,t,r)}function a5(n,e){let t=n[_t];(t&3)===e&&(t&=16383,t+=1,n[_t]=t)}function cS(n,e,t,r){let i=r!==void 0?n[Ul]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Ul]+=65536),(a<o||o==-1)&&(CN(n,t,e,l),n[Ul]=(n[Ul]&4294901760)+l+2),l++}function A3(n,e){cn(4,n,e);let t=bt(null);try{e.call(n)}finally{bt(t),cn(5,n,e)}}function CN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[_t]>>14<n[Ul]>>16&&(n[_t]&3)===e&&(n[_t]+=16384,A3(a,o)):A3(a,o)}var Tu=-1,$l=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function xN(n){return(n.flags&8)!==0}function EN(n){return(n.flags&16)!==0}function SN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];DN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function uS(n){return n===3||n===4||n===6}function DN(n){return n.charCodeAt(0)===64}function Pu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?T3(n,t,i,null,e[++r]):T3(n,t,i,null,null))}}return n}function T3(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function dS(n){return n!==Tu}function zm(n){return n&32767}function IN(n){return n>>16}function Gm(n,e){let t=IN(n),r=e;for(;t>0;)r=r[Vl],t--;return r}var y5=!0;function P3(n){let e=y5;return y5=n,e}var MN=256,hS=MN-1,fS=5,AN=0,ts={};function TN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(jl)&&(r=t[jl]),r==null&&(r=t[jl]=AN++);let i=r&hS,o=1<<i;e.data[n+(i>>fS)]|=o}function $m(n,e){let t=pS(n,e);if(t!==-1)return t;let r=e[dt];r.firstCreatePass&&(n.injectorIndex=e.length,l5(r.data,n),l5(e,null),l5(r.blueprint,null));let i=Y5(n,e),o=n.injectorIndex;if(dS(i)){let s=zm(i),a=Gm(i,e),l=a[dt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function l5(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Y5(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=bS(i),r===null)return Tu;if(t++,i=i[Vl],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Tu}function b5(n,e,t){TN(n,e,t)}function PN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(uS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function gS(n,e,t){if(t&8||n!==void 0)return n;Cm(e,"NodeInjector")}function mS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Bl],o=bi(void 0);try{return i?i.get(e,r,t&8):xb(e,r,t&8)}finally{bi(o)}}return gS(r,e,t)}function vS(n,e,t,r=0,i){if(n!==null){if(e[_t]&2048&&!(r&2)){let s=RN(n,e,t,r,ts);if(s!==ts)return s}let o=yS(n,e,t,r,ts);if(o!==ts)return o}return mS(e,t,r,i)}function yS(n,e,t,r,i){let o=ON(t);if(typeof o=="function"){if(!Qb(e,n,r))return r&1?gS(i,t,r):mS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Cm(t);else return s}finally{e5()}}else if(typeof o=="number"){let s=null,a=pS(n,e),l=Tu,c=r&1?e[Ci][Bi]:null;for((a===-1||r&4)&&(l=a===-1?Y5(n,e):e[a+8],l===Tu||!O3(r,!1)?a=-1:(s=e[dt],a=zm(l),e=Gm(l,e)));a!==-1;){let d=e[dt];if(N3(o,a,d.data)){let f=NN(a,e,t,s,r,c);if(f!==ts)return f}l=e[a+8],l!==Tu&&O3(r,e[dt].data[a+8]===c)&&N3(o,a,e)?(s=d,a=zm(l),e=Gm(l,e)):a=-1}}return i}function NN(n,e,t,r,i,o){let s=e[dt],a=s.data[n+8],l=r==null?ja(a)&&y5:r!=s&&(a.type&3)!==0,c=i&1&&o===a,d=Um(a,s,t,l,c);return d!==null?Kh(e,s,d,a,i):ts}function Um(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,d=o>>20,f=r?a:a+d,m=i?a+d:c;for(let p=f;p<m;p++){let y=s[p];if(p<l&&t===y||p>=l&&y.type===t)return p}if(i){let p=s[l];if(p&&Qo(p)&&p.type===t)return l}return null}function Kh(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof $l){let a=o;if(a.resolving){let p=ym(s[t]);throw Cb(p)}let l=P3(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],d,f=a.injectImpl?bi(a.injectImpl):null,m=Qb(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&wN(t,s[t],e)}finally{f!==null&&bi(f),P3(l),a.resolving=!1,e5()}}return o}function ON(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(jl)?n[jl]:void 0;return typeof e=="number"?e>=0?e&hS:kN:e}function N3(n,e,t){let r=1<<n;return!!(t[e+(n>>fS)]&r)}function O3(n,e){return!(n&2)&&!(n&1&&e)}var Gl=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vS(this._tNode,this._lView,e,kl(r),t)}};function kN(){return new Gl(Pr(),Gt())}function Ha(n){return tf(()=>{let e=n.prototype.constructor,t=e[Th]||_5(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Th]||_5(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _5(n){return fb(n)?()=>{let e=_5(Mr(n));return e&&e()}:Rl(n)}function RN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[_t]&2048&&!Su(s);){let a=yS(o,s,t,r|2,ts);if(a!==ts)return a;let l=o.parent;if(!l){let c=s[Ob];if(c){let d=c.get(t,ts,r);if(d!==ts)return d}l=bS(s),s=s[Vl]}o=l}return i}function bS(n){let e=n[dt],t=e.type;return t===2?e.declTNode:t===1?n[Bi]:null}function nf(n){return PN(Pr(),n)}function LN(){return Ru(Pr(),Gt())}function Ru(n,e){return new Jr(bo(n,e))}var Jr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=LN}return n})();function FN(n){return n instanceof Jr?n.nativeElement:n}function jN(){return this._results[Symbol.iterator]()}var Wm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new zn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=$E(e);(this._changesDetected=!GE(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=jN};function _S(n){return(n.flags&128)===128}var K5=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(K5||{}),wS=new Map,BN=0;function VN(){return BN++}function UN(n){wS.set(n[jh],n)}function w5(n){wS.delete(n[jh])}var k3="__ngContext__";function Nu(n,e){Zo(e)?(n[k3]=e[jh],UN(e)):n[k3]=e}function CS(n){return ES(n[Eu])}function xS(n){return ES(n[ji])}function ES(n){for(;n!==null&&!yo(n);)n=n[ji];return n}var C5;function X5(n){C5=n}function SS(){if(C5!==void 0)return C5;if(typeof document<"u")return document;throw new $e(210,!1)}var u0=new Xe("",{providedIn:"root",factory:()=>HN}),HN="ng",d0=new Xe(""),Lu=new Xe("",{providedIn:"platform",factory:()=>"unknown"});var h0=new Xe("",{providedIn:"root",factory:()=>SS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qN="h",zN="b";var DS="r";var IS="di";var MS=!1,AS=new Xe("",{providedIn:"root",factory:()=>MS});var GN=(n,e,t,r)=>{};function $N(n,e,t,r){GN(n,e,t,r)}function J5(n){return(n.flags&32)===32}var WN=()=>null;function TS(n,e,t=!1){return WN(n,e,t)}function PS(n,e){let t=n.contentQueries;if(t!==null){let r=bt(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Am(o),a.contentQueries(2,e[s],s)}}}finally{bt(r)}}}function x5(n,e,t){Am(0);let r=bt(null);try{e(n,t)}finally{bt(r)}}function NS(n,e,t){if(Rb(e)){let r=bt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{bt(r)}}}var Ys=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ys||{});var Fm;function YN(){if(Fm===void 0&&(Fm=null,Nh.trustedTypes))try{Fm=Nh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fm}function R3(n){return YN()?.createScriptURL(n)||n}var Ym=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_m})`}};function rf(n){return n instanceof Ym?n.changingThisBreaksApplicationSecurity:n}function Z5(n,e){let t=OS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_m})`)}return t===e}function OS(n){return n instanceof Ym&&n.getTypeName()||null}var KN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kS(n){return n=String(n),n.match(KN)?n:"unsafe:"+n}var f0=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(f0||{});function p0(n){let e=LS();return e?e.sanitize(f0.URL,n)||"":Z5(n,"URL")?rf(n):kS(kh(n))}function RS(n){let e=LS();if(e)return R3(e.sanitize(f0.RESOURCE_URL,n)||"");if(Z5(n,"ResourceURL"))return R3(rf(n));throw new $e(904,!1)}function XN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?RS:p0}function Q5(n,e,t){return XN(e,t)(n)}function LS(){let n=Gt();return n&&n[Xo].sanitizer}function FS(n){return n instanceof Function?n():n}function JN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var jS="ng-template";function ZN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&JN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(e_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function e_(n){return n.type===4&&n.value!==jS}function QN(n,e,t){let r=n.type===4&&!t?jS:n.value;return e===r}function eO(n,e,t){let r=4,i=n.attrs,o=i!==null?rO(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!_o(r)&&!_o(l))return!1;if(s&&_o(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!QN(n,l,t)||l===""&&e.length===1){if(_o(r))return!1;s=!0}}else if(r&8){if(i===null||!ZN(n,i,l,t)){if(_o(r))return!1;s=!0}}else{let c=e[++a],d=tO(l,i,e_(n),t);if(d===-1){if(_o(r))return!1;s=!0;continue}if(c!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&c!==f){if(_o(r))return!1;s=!0}}}}return _o(r)||s}function _o(n){return(n&1)===0}function tO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return iO(e,n)}function nO(n,e,t=!1){for(let r=0;r<e.length;r++)if(eO(n,e[r],t))return!0;return!1}function rO(n){for(let e=0;e<n.length;e++){let t=n[e];if(uS(t))return e}return n.length}function iO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function L3(n,e){return n?":not("+e.trim()+")":e}function oO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!_o(s)&&(e+=L3(o,i),i=""),r=s,o=o||!_o(r);t++}return i!==""&&(e+=L3(o,i)),e}function sO(n){return n.map(oO).join(",")}function aO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!_o(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ks={};function lO(n,e){return n.createText(e)}function cO(n,e,t){n.setValue(e,t)}function BS(n,e,t){return n.createElement(e,t)}function Km(n,e,t,r,i){n.insertBefore(e,t,r,i)}function VS(n,e,t){n.appendChild(e,t)}function F3(n,e,t,r,i){r!==null?Km(n,e,t,r,i):VS(n,e,t)}function US(n,e,t){n.removeChild(null,e,t)}function uO(n,e,t){n.setAttribute(e,"style",t)}function dO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&SN(n,e,r),i!==null&&dO(n,e,i),o!==null&&uO(n,e,o)}function t_(n,e,t,r,i,o,s,a,l,c,d){let f=wr+r,m=f+i,p=hO(f,m),y=typeof c=="function"?c():c;return p[dt]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function hO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ks);return t}function fO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=t_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function n_(n,e,t,r,i,o,s,a,l,c,d){let f=e.blueprint.slice();return f[vo]=i,f[_t]=r|4|128|8|64|1024,(c!==null||n&&n[_t]&2048)&&(f[_t]|=2048),jb(f),f[fr]=f[Vl]=n,f[Gn]=t,f[Xo]=s||n&&n[Xo],f[$n]=a||n&&n[$n],f[Bl]=l||n&&n[Bl]||null,f[Bi]=o,f[jh]=VN(),f[Cu]=d,f[Ob]=c,f[Ci]=e.type==2?n[Ci]:f,f}function pO(n,e,t){let r=bo(e,n),i=fO(t),o=n[Xo].rendererFactory,s=r_(n,n_(n,i,null,qS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function qS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function zS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function r_(n,e){return n[Eu]?n[Nb][ji]=e:n[Eu]=e,n[Nb]=e,e}function Ve(n=1){GS(Tr(),Gt(),Ba()+n,!1)}function GS(n,e,t,r){if(!r)if((e[_t]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Bm(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Vm(e,o,0,t)}Va(t)}var g0=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(g0||{});function E5(n,e,t,r){let i=bt(null);try{let[o,s,a]=n.inputs[t],l=null;(s&g0.SignalBased)!==0&&(l=e[o][Yr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):iS(e,l,o,r)}finally{bt(i)}}var ns=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ns||{}),gO;function i_(n,e){return gO(n,e)}function Au(n,e,t,r,i){if(r!=null){let o,s=!1;yo(r)?o=r:Zo(r)&&(s=!0,r=r[vo]);let a=Vi(r);n===0&&t!==null?i==null?VS(e,t,a):Km(e,t,a,i||null,!0):n===1&&t!==null?Km(e,t,a,i||null,!0):n===2?US(e,a,s):n===3&&e.destroyNode(a),o!=null&&IO(e,n,o,t,i)}}function mO(n,e){$S(n,e),e[vo]=null,e[Bi]=null}function vO(n,e,t,r,i,o){r[vo]=i,r[Bi]=e,v0(n,r,t,1,i,o)}function $S(n,e){e[Xo].changeDetectionScheduler?.notify(9),v0(n,e,e[$n],2,null,null)}function yO(n){let e=n[Eu];if(!e)return c5(n[dt],n);for(;e;){let t=null;if(Zo(e))t=e[Eu];else{let r=e[Cr];r&&(t=r)}if(!t){for(;e&&!e[ji]&&e!==n;)Zo(e)&&c5(e[dt],e),e=e[fr];e===null&&(e=n),Zo(e)&&c5(e[dt],e),t=e&&e[ji]}e=t}}function o_(n,e){let t=n[ql],r=t.indexOf(e);t.splice(r,1)}function m0(n,e){if(zl(e))return;let t=e[$n];t.destroyNode&&v0(n,e,t,3,null,null),yO(e)}function c5(n,e){if(zl(e))return;let t=bt(null);try{e[_t]&=-129,e[_t]|=256,e[xi]&&Vg(e[xi]),_O(n,e),bO(n,e),e[dt].type===1&&e[$n].destroy();let r=e[La];if(r!==null&&yo(e[fr])){r!==e[fr]&&o_(r,e);let i=e[Jo];i!==null&&i.detachView(n)}w5(e)}finally{bt(t)}}function bO(n,e){let t=n.cleanup,r=e[xu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[xu]=null);let i=e[qs];if(i!==null){e[qs]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Bh];if(o!==null){e[Bh]=null;for(let s of o)s.destroy()}}function _O(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof $l)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];cn(4,a,l);try{l.call(a)}finally{cn(5,a,l)}}else{cn(4,i,o);try{o.call(i)}finally{cn(5,i,o)}}}}}function wO(n,e,t){return CO(n,e.parent,t)}function CO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[vo];if(ja(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Ys.None||i===Ys.Emulated)return null}return bo(r,t)}function xO(n,e,t){return SO(n,e,t)}function EO(n,e,t){return n.type&40?bo(n,t):null}var SO=EO,j3;function s_(n,e,t,r){let i=wO(n,r,e),o=e[$n],s=r.parent||e[Bi],a=xO(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)F3(o,i,t[l],a,!1);else F3(o,i,t,a,!1);j3!==void 0&&j3(o,r,e,t,i)}function Wh(n,e){if(e!==null){let t=e.type;if(t&3)return bo(e,n);if(t&4)return S5(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Wh(n,r);{let i=n[e.index];return yo(i)?S5(-1,i):Vi(i)}}else{if(t&128)return Wh(n,e.next);if(t&32)return i_(e,n)()||Vi(n[e.index]);{let r=WS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Na(n[Ci]);return Wh(i,r)}else return Wh(n,e.next)}}}return null}function WS(n,e){if(e!==null){let r=n[Ci][Bi],i=e.projection;return r.projection[i]}return null}function S5(n,e){let t=Cr+n+1;if(t<e.length){let r=e[t],i=r[dt].firstChild;if(i!==null)return Wh(r,i)}return e[Fa]}function a_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Nu(Vi(a),r),t.flags|=2),!J5(t))if(l&8)a_(n,e,t.child,r,i,o,!1),Au(e,n,i,a,o);else if(l&32){let c=i_(t,r),d;for(;d=c();)Au(e,n,i,d,o);Au(e,n,i,a,o)}else l&16?DO(n,e,r,t,i,o):Au(e,n,i,a,o);t=s?t.projectionNext:t.next}}function v0(n,e,t,r,i,o){a_(t,r,n.firstChild,e,i,o,!1)}function DO(n,e,t,r,i,o){let s=t[Ci],l=s[Bi].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Au(e,n,i,d,o)}else{let c=l,d=s[fr];_S(r)&&(c.flags|=128),a_(n,e,c,d,i,o,!0)}}function IO(n,e,t,r,i){let o=t[Fa],s=Vi(t);o!==s&&Au(e,n,r,o,i);for(let a=Cr;a<t.length;a++){let l=t[a];v0(l[dt],l,n,e,r,o)}}function MO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ns.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ns.Important),n.setStyle(t,r,i,o))}}function YS(n,e,t,r,i){let o=Ba(),s=r&2;try{Va(-1),s&&e.length>wr&&GS(n,e,wr,!1),cn(s?2:0,i,t),t(r,i)}finally{Va(o),cn(s?3:1,i,t)}}function l_(n,e,t){LO(n,e,t),(t.flags&64)===64&&FO(n,e,t)}function y0(n,e,t=bo){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function AO(n,e,t,r){let o=r.get(AS,MS)||t===Ys.ShadowDom,s=n.selectRootElement(e,o);return TO(s),s}function TO(n){PO(n)}var PO=()=>null;function NO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function OO(n,e,t,r,i,o){let s=e[dt];if(c_(n,s,e,t,r)){ja(n)&&RO(e,n.index);return}n.type&3&&(t=NO(t)),kO(n,e,t,r,i,o)}function kO(n,e,t,r,i,o){if(n.type&3){let s=bo(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function RO(n,e){let t=Ui(e,n);t[_t]&16||(t[_t]|=64)}function LO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ja(t)&&pO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||$m(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Kh(e,n,s,t);if(Nu(l,e),o!==null&&UO(e,s-r,l,a,t,o),Qo(a)){let c=Ui(t.index,e);c[Gn]=Kh(e,n,s,t)}}}function FO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=y3();try{Va(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];Mm(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&jO(l,c)}}finally{Va(-1),Mm(s)}}function jO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function KS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];nO(e,o.selectors,!1)&&(r??=[],Qo(o)?r.unshift(o):r.push(o))}return r}function BO(n,e,t,r,i,o){let s=bo(n,e);VO(e[$n],s,o,n.value,t,r,i)}function VO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?kh(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function UO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];E5(r,t,l,c)}}function XS(n,e,t,r,i){let o=wr+t,s=e[dt],a=i(s,e,n,r,t);e[o]=a,Iu(n,!0);let l=n.type===2;return l?(HS(e[$n],a,n),(c3()===0||Uh(n))&&Nu(a,e),u3()):Nu(a,e),Om()&&(!l||!J5(n))&&s_(s,e,a,n),n}function JS(n){let e=n;return Yb()?f3():(e=e.parent,Iu(e,!1)),e}function HO(n,e){let t=n[Bl];if(!t)return;t.get(Xr,null)?.(e)}function c_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],f=e.data[c];E5(f,t[c],d,i),a=!0}if(o)for(let l of o){let c=t[l],d=e.data[l];E5(d,c,r,i),a=!0}return a}function qO(n,e){let t=Ui(e,n),r=t[dt];zO(r,t);let i=t[vo];i!==null&&t[Cu]===null&&(t[Cu]=TS(i,t[Bl])),cn(18),u_(r,t,t[Gn]),cn(19,t[Gn])}function zO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function u_(n,e,t){Tm(e);try{let r=n.viewQuery;r!==null&&x5(1,r,t);let i=n.template;i!==null&&YS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Jo]?.finishViewCreation(n),n.staticContentQueries&&PS(n,e),n.staticViewQueries&&x5(2,n.viewQuery,t);let o=n.components;o!==null&&GO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[_t]&=-5,Pm()}}function GO(n,e){for(let t=0;t<e.length;t++)qO(n,e[t])}function b0(n,e,t,r){let i=bt(null);try{let o=e.tView,a=n[_t]&4096?4096:16,l=n_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[La]=c;let d=n[Jo];return d!==null&&(l[Jo]=d.createEmbeddedView(o)),u_(o,l,t),l}finally{bt(i)}}function Xh(n,e){return!e||e.firstChild===null||_S(n)}var B3=!1,$O=new Xe("");function Jh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Vi(o)),yo(o)&&ZS(o,r);let s=t.type;if(s&8)Jh(n,e,t.child,r);else if(s&32){let a=i_(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=WS(e,t);if(Array.isArray(a))r.push(...a);else{let l=Na(e[Ci]);Jh(l[dt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ZS(n,e){for(let t=Cr;t<n.length;t++){let r=n[t],i=r[dt].firstChild;i!==null&&Jh(r[dt],r,i,e)}n[Fa]!==n[vo]&&e.push(n[Fa])}function QS(n){if(n[Hl]!==null){for(let e of n[Hl])e.impl.addSequence(e);n[Hl].length=0}}var e4=[];function WO(n){return n[xi]??YO(n)}function YO(n){let e=e4.pop()??Object.create(XO);return e.lView=n,e}function KO(n){n.lView[xi]!==n&&(n.lView=null,e4.push(n))}var XO=lt(Ie({},Il),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Du(n.lView)},consumerOnSignalRead(){this.lView[xi]=this}});function JO(n){let e=n[xi]??Object.create(ZO);return e.lView=n,e}var ZO=lt(Ie({},Il),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Na(n.lView);for(;e&&!t4(e[dt]);)e=Na(e);e&&Bb(e)},consumerOnSignalRead(){this.lView[xi]=this}});function t4(n){return n.type!==2}function n4(n){if(n[Bh]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Bh])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[_t]&8192)}}var QO=100;function d_(n,e=0){let r=n[Xo].rendererFactory,i=!1;i||r.begin?.();try{e7(n,e)}finally{i||r.end?.()}}function e7(n,e){let t=Xb();try{Jb(!0),D5(n,e);let r=0;for(;qh(n);){if(r===QO)throw new $e(103,!1);r++,D5(n,1)}}finally{Jb(t)}}function r4(n,e){Kb(e?zh.Exhaustive:zh.OnlyDirtyViews);try{d_(n)}finally{Kb(zh.Off)}}function t7(n,e,t,r){if(zl(e))return;let i=e[_t],o=!1,s=!1;Tm(e);let a=!0,l=null,c=null;o||(t4(n)?(c=WO(e),l=Ml(c)):jg()===null?(a=!1,c=JO(e),l=Ml(c)):e[xi]&&(Vg(e[xi]),e[xi]=null));try{jb(e),p3(n.bindingStartIndex),t!==null&&YS(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let p=n.preOrderCheckHooks;p!==null&&Bm(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Vm(e,p,0,null),a5(e,0)}if(s||n7(e),n4(e),i4(e,0),n.contentQueries!==null&&PS(n,e),!o)if(d){let p=n.contentCheckHooks;p!==null&&Bm(e,p)}else{let p=n.contentHooks;p!==null&&Vm(e,p,1),a5(e,1)}i7(n,e);let f=n.components;f!==null&&s4(e,f,0);let m=n.viewQuery;if(m!==null&&x5(2,m,r),!o)if(d){let p=n.viewCheckHooks;p!==null&&Bm(e,p)}else{let p=n.viewHooks;p!==null&&Vm(e,p,2),a5(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Sm]){for(let p of e[Sm])p();e[Sm]=null}o||(QS(e),e[_t]&=-73)}catch(d){throw o||Du(e),d}finally{c!==null&&(au(c,l),a&&KO(c)),Pm()}}function i4(n,e){for(let t=CS(n);t!==null;t=xS(t))for(let r=Cr;r<t.length;r++){let i=t[r];o4(i,e)}}function n7(n){for(let e=CS(n);e!==null;e=xS(e)){if(!(e[_t]&2))continue;let t=e[ql];for(let r=0;r<t.length;r++){let i=t[r];Bb(i)}}}function r7(n,e,t){cn(18);let r=Ui(e,n);o4(r,t),cn(19,r[Gn])}function o4(n,e){Dm(n)&&D5(n,e)}function D5(n,e){let r=n[dt],i=n[_t],o=n[xi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Eh(o)),s||=!1,o&&(o.dirty=!1),n[_t]&=-9217,s)t7(r,n,r.template,n[Gn]);else if(i&8192){let a=bt(null);try{n4(n),i4(n,1);let l=r.components;l!==null&&s4(n,l,1),QS(n)}finally{bt(a)}}}function s4(n,e,t){for(let r=0;r<e.length;r++)r7(n,e[r],t)}function i7(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Va(~i);else{let o=i,s=t[++r],a=t[++r];v3(s,o);let l=e[o];cn(24,l),a(2,l),cn(25,l)}}}finally{Va(-1)}}function h_(n,e){let t=Xb()?64:1088;for(n[Xo].changeDetectionScheduler?.notify(e);n;){n[_t]|=t;let r=Na(n);if(Su(n)&&!r)return n;n=r}return null}function a4(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function l4(n,e){let t=Cr+e;if(t<n.length)return n[t]}function _0(n,e,t,r=!0){let i=e[dt];if(o7(i,e,n,t),r){let s=S5(t,n),a=e[$n],l=a.parentNode(n[Fa]);l!==null&&vO(i,n[Bi],a,e,l,s)}let o=e[Cu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function c4(n,e){let t=Zh(n,e);return t!==void 0&&m0(t[dt],t),t}function Zh(n,e){if(n.length<=Cr)return;let t=Cr+e,r=n[t];if(r){let i=r[La];i!==null&&i!==n&&o_(i,r),e>0&&(n[t-1][ji]=r[ji]);let o=Rh(n,Cr+e);mO(r[dt],r);let s=o[Jo];s!==null&&s.detachView(o[dt]),r[fr]=null,r[ji]=null,r[_t]&=-129}return r}function o7(n,e,t,r){let i=Cr+r,o=t.length;r>0&&(t[i-1][ji]=e),r<o-Cr?(e[ji]=t[i],Eb(t,Cr+r,e)):(t.push(e),e[ji]=null),e[fr]=t;let s=e[La];s!==null&&t!==s&&u4(s,e);let a=e[Jo];a!==null&&a.insertView(n),Im(e),e[_t]|=128}function u4(n,e){let t=n[ql],r=e[fr];if(Zo(r))n[_t]|=2;else{let i=r[fr][Ci];e[Ci]!==i&&(n[_t]|=2)}t===null?n[ql]=[e]:t.push(e)}var Ua=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[dt];return Jh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Gn]}set context(e){this._lView[Gn]=e}get destroyed(){return zl(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[fr];if(yo(e)){let t=e[Vh],r=t?t.indexOf(this):-1;r>-1&&(Zh(e,r),Rh(t,r))}this._attachedToViewContainer=!1}m0(this._lView[dt],this._lView)}onDestroy(e){Vb(this._lView,e)}markForCheck(){h_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_t]&=-129}reattach(){Im(this._lView),this._lView[_t]|=128}detectChanges(){this._lView[_t]|=1024,d_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Bl].get($O,B3)}catch{this.exhaustive=B3}}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Su(this._lView),t=this._lView[La];t!==null&&!e&&o_(t,this._lView),$S(this._lView[dt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=e;let t=Su(this._lView),r=this._lView[La];r!==null&&!t&&u4(r,this._lView),Im(this._lView)}};var Wl=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=s7;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=b0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Ua(o)}}return n})();function s7(){return f_(Pr(),Gt())}function f_(n,e){return n.type&4?new Wl(e,n,Ru(n,e)):null}function of(n,e,t,r,i){let o=n.data[e];if(o===null)o=a7(n,e,t,r,i),m3()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=h3();o.injectorIndex=s===null?-1:s.injectorIndex}return Iu(o,!0),o}function a7(n,e,t,r,i){let o=Wb(),s=Yb(),a=s?o:o&&o.parent,l=n.data[e]=c7(n,a,t,e,r,i);return l7(n,l,o,s),l}function l7(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function c7(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return d3()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var gZ=new RegExp(`^(\\d+)*(${zN}|${qN})*(.*)`);function u7(n){let e=n[kb]??[],r=n[fr][$n],i=[];for(let o of e)o.data[IS]!==void 0?i.push(o):d7(o,r);n[kb]=i}function d7(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[DS];for(;t<i;){let o=r.nextSibling;US(e,r,!1),r=o,t++}}}var h7=()=>null,f7=()=>null;function I5(n,e){return h7(n,e)}function d4(n,e,t){return f7(n,e,t)}var h4=class{},w0=class{},M5=class{resolveComponentFactory(e){throw new $e(917,!1)}},sf=class{static NULL=new M5},Yl=class{},wo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>p7()}return n})();function p7(){let n=Gt(),e=Pr(),t=Ui(e.index,n);return(Zo(t)?t:n)[$n]}var f4=(()=>{class n{static \u0275prov=We({token:n,providedIn:"root",factory:()=>null})}return n})();var Hm={},A5=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Hm,r);return i!==Hm||t===Hm?i:this.parentInjector.get(e,t,r)}};function Xm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hb(i,a);else if(o==2){let l=a,c=e[++s];r=hb(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ht(n,e=0){let t=Gt();if(t===null)return it(n,e);let r=Pr();return vS(r,t,Mr(n),e)}function p_(){let n="invalid";throw new Error(n)}function p4(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}v7(n,e,t,a,o,l,c)}o!==null&&r!==null&&g7(t,r,o)}function g7(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $e(-301,!1);r.push(e[i],o)}}function m7(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function v7(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let p=r[m];!l&&Qo(p)&&(l=!0,m7(n,t,m)),b5($m(t,e),n,p.type)}x7(t,n.data.length,a);for(let m=0;m<a;m++){let p=r[m];p.providersResolver&&p.providersResolver(p)}let c=!1,d=!1,f=zS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let p=r[m];if(t.mergedAttrs=Pu(t.mergedAttrs,p.hostAttrs),b7(n,t,e,f,p),C7(f,p,i),s!==null&&s.has(p)){let[_,C]=s.get(p);t.directiveToIndex.set(p.type,[f,_+t.directiveStart,C+t.directiveStart])}else(o===null||!o.has(p))&&t.directiveToIndex.set(p.type,f);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let y=p.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}y7(n,t,o)}function y7(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))V3(0,e,i,r),V3(1,e,i,r),H3(e,r,!1);else{let o=t.get(i);U3(0,e,o,r),U3(1,e,o,r),H3(e,r,!0)}}}function V3(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),g4(e,o)}}function U3(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),g4(e,s)}}function g4(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function H3(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||e_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function b7(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Rl(i.type,!0)),s=new $l(o,Qo(i),ht,null);n.blueprint[r]=s,t[r]=s,_7(n,e,r,zS(n,t,i.hostVars,Ks),i)}function _7(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;w7(s)!=a&&s.push(a),s.push(t,r,o)}}function w7(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function C7(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Qo(e)&&(t[""]=n)}}function x7(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function m4(n,e,t,r,i,o,s,a){let l=e[dt],c=l.consts,d=Hi(c,s),f=of(l,n,t,r,d);return o&&p4(l,e,f,Hi(c,a),i),f.mergedAttrs=Pu(f.mergedAttrs,f.attrs),f.attrs!==null&&Xm(f,f.attrs,!1),f.mergedAttrs!==null&&Xm(f,f.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,f),f}function v4(n,e){lS(n,e),Rb(e)&&n.queries.elementEnd(e)}function E7(n,e,t,r,i,o){let s=e.consts,a=Hi(s,i),l=of(e,n,t,r,a);if(l.mergedAttrs=Pu(l.mergedAttrs,l.attrs),o!=null){let c=Hi(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&Xm(l,l.attrs,!1),l.mergedAttrs!==null&&Xm(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Fu(n,e,t){if(t===Ks)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function u5(n,e,t){return function r(i){let o=ja(n)?Ui(n.index,e):e;h_(o,5);let s=e[Gn],a=q3(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=q3(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function q3(n,e,t,r){let i=bt(null);try{return cn(6,e,t),t(r)!==!1}catch(o){return HO(n,o),!1}finally{cn(7,e,t),bt(i)}}function S7(n,e,t,r,i,o,s,a){let l=Uh(n),c=!1,d=null;if(!r&&l&&(d=D7(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let f=bo(n,t),m=r?r(f):f;$N(t,m,o,a);let p=i.listen(m,o,a),y=r?_=>r(Vi(_[n.index])):n.index;y4(y,e,t,o,a,p,!1)}return c}function D7(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[xu],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function y4(n,e,t,r,i,o,s){let a=e.firstCreatePass?Hb(e):null,l=Ub(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function z3(n,e,t,r,i,o){let s=e[t],a=e[dt],c=a.data[t].outputs[r],f=s[c].subscribe(o);y4(n.index,a,e,i,o,f,!0)}var T5=Symbol("BINDING");var Jm=class extends sf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ra(e);return new Ou(t,this.ngModule)}};function I7(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&g0.SignalBased)!==0};return i&&(o.transform=i),o})}function M7(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function A7(n,e,t){let r=e instanceof ar?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new A5(t,r):t}function T7(n){let e=n.get(Yl,null);if(e===null)throw new $e(407,!1);let t=n.get(f4,null),r=n.get(Gs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function P7(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return BS(e,t,t==="svg"?Lb:t==="math"?r3:null)}var Ou=class extends w0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=I7(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=M7(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=sO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){cn(22);let a=bt(null);try{let l=this.componentDef,c=N7(r,l,s,o),d=A7(l,i||this.ngModule,e),f=T7(d),m=f.rendererFactory.createRenderer(null,l),p=r?AO(m,r,l.encapsulation,d):P7(l,m),y=s?.some(G3)||o?.some(w=>typeof w!="function"&&w.bindings.some(G3)),_=n_(null,c,null,512|qS(l),null,null,f,m,d,null,TS(p,d,!0));_[wr]=p,Tm(_);let C=null;try{let w=m4(wr,_,2,"#host",()=>c.directiveRegistry,!0,0);p&&(HS(m,p,w),Nu(p,_)),l_(c,_,w),NS(c,w,_),v4(c,w),t!==void 0&&k7(w,this.ngContentSelectors,t),C=Ui(w.index,_),_[Gn]=C[Gn],u_(c,_,null)}catch(w){throw C!==null&&w5(C),w5(_),w}finally{cn(23),Pm()}return new Zm(this.componentType,_,!!y)}finally{bt(a)}}};function N7(n,e,t,r){let i=n?["ng-version","20.1.3"]:aO(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[T5].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let m of f.bindings){a+=m[T5].requiredVars;let p=d+1;m.create&&(m.targetIdx=p,(o??=[]).push(m)),m.update&&(m.targetIdx=p,(s??=[]).push(m))}}let l=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,m=Mb(f);l.push(m)}return t_(0,null,O7(o,s),1,a,l,null,null,null,[i],null)}function O7(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function G3(n){let e=n[T5].kind;return e==="input"||e==="twoWay"}var Zm=class extends h4{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Hh(t[dt],wr),this.location=Ru(this._tNode,t),this.instance=Ui(this._tNode.index,t)[Gn],this.hostView=this.changeDetectorRef=new Ua(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=c_(r,i[dt],i,e,t);this.previousInputValues.set(e,t);let s=Ui(r.index,i);h_(s,1)}get injector(){return new Gl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function k7(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qa=(()=>{class n{static __NG_ELEMENT_ID__=R7}return n})();function R7(){let n=Pr();return _4(n,Gt())}var L7=qa,b4=class extends L7{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ru(this._hostTNode,this._hostLView)}get injector(){return new Gl(this._hostTNode,this._hostLView)}get parentInjector(){let e=Y5(this._hostTNode,this._hostLView);if(dS(e)){let t=Gm(e,this._hostLView),r=zm(e),i=t[dt].data[r+8];return new Gl(i,t)}else return new Gl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$3(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=I5(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Xh(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!vN(e),c;if(l)c=t;else{let C=t||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let d=l?e:new Ou(Ra(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let w=(l?f:this.parentInjector).get(ar,null);w&&(o=w)}let m=Ra(d.componentType??{}),p=I5(this._lContainer,m?.id??null),y=p?.firstChild??null,_=d.create(f,i,y,o,s,a);return this.insertImpl(_.hostView,c,Xh(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(o3(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[fr],c=new b4(l,l[Bi],l[fr]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return _0(s,i,o,r),e.attachToViewContainerRef(),Eb(d5(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$3(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Zh(this._lContainer,t);r&&(Rh(d5(this._lContainer),t),m0(r[dt],r))}detach(e){let t=this._adjustIndex(e,-1),r=Zh(this._lContainer,t);return r&&Rh(d5(this._lContainer),t)!=null?new Ua(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function $3(n){return n[Vh]}function d5(n){return n[Vh]||(n[Vh]=[])}function _4(n,e){let t,r=e[n.index];return yo(r)?t=r:(t=a4(r,e,null,n),e[n.index]=t,r_(e,t)),j7(t,e,n,r),new b4(t,n,e)}function F7(n,e){let t=n[$n],r=t.createComment(""),i=bo(e,n),o=t.parentNode(i);return Km(t,o,r,t.nextSibling(i),!1),r}var j7=U7,B7=()=>!1;function V7(n,e,t){return B7(n,e,t)}function U7(n,e,t,r){if(n[Fa])return;let i;t.type&8?i=Vi(r):i=F7(e,t),n[Fa]=i}var P5=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},N5=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)g_(e,t).matches!==null&&this.queries[t].setDirty()}},Qm=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=K7(e):this.predicate=e}},O5=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},k5=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,H7(t,o)),this.matchTNodeWithReadOption(e,t,Um(t,e,o,!1,!1))}else r===Wl?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Um(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Jr||i===qa||i===Wl&&t.type&4)this.addMatch(t.index,-2);else{let o=Um(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function H7(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function q7(n,e){return n.type&11?Ru(n,e):n.type&4?f_(n,e):null}function z7(n,e,t,r){return t===-1?q7(e,n):t===-2?G7(n,e,r):Kh(n,n[dt],t,e)}function G7(n,e,t){if(t===Jr)return Ru(e,n);if(t===Wl)return f_(e,n);if(t===qa)return _4(e,n)}function w4(n,e,t,r){let i=e[Jo].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(z7(e,d,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function R5(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=w4(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let f=Cr;f<d.length;f++){let m=d[f];m[La]===m[fr]&&R5(m[dt],m,c,r)}if(d[ql]!==null){let f=d[ql];for(let m=0;m<f.length;m++){let p=f[m];R5(p[dt],p,c,r)}}}}}return r}function $7(n,e){return n[Jo].queries[e].queryList}function C4(n,e,t){let r=new Wm((t&4)===4);return l3(n,e,r,r.destroy),(e[Jo]??=new N5).queries.push(new P5(r))-1}function W7(n,e,t){let r=Tr();return r.firstCreatePass&&(x4(r,new Qm(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),C4(r,Gt(),e)}function Y7(n,e,t,r){let i=Tr();if(i.firstCreatePass){let o=Pr();x4(i,new Qm(e,t,r),o.index),X7(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return C4(i,Gt(),t)}function K7(n){return n.split(",").map(e=>e.trim())}function x4(n,e,t){n.queries===null&&(n.queries=new O5),n.queries.track(new k5(e,t))}function X7(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function g_(n,e){return n.queries.getByIndex(e)}function J7(n,e){let t=n[dt],r=g_(t,e);return r.crossesNgTemplate?R5(t,n,e,[]):w4(t,n,r,e)}var W3=new Set;function is(n){W3.has(n)||(W3.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Kl=class{},C0=class{};var e0=class extends Kl{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jm(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Ib(e);this._bootstrapComponents=FS(o.bootstrap),this._r3Injector=n5(e,t,[{provide:Kl,useValue:this},{provide:sf,useValue:this.componentFactoryResolver},...r],zs(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},t0=class extends C0{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new e0(this.moduleType,e,[])}};var Qh=class extends Kl{injector;componentFactoryResolver=new Jm(this);instance=null;constructor(e){super();let t=new Fl([...e.providers,{provide:Kl,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],e.parent||Fh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function af(n,e,t=null){return new Qh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Z7=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ab(!1,t.type),i=r.length>0?af([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=We({token:n,providedIn:"environment",factory:()=>new n(it(ar))})}return n})();function xn(n){return tf(()=>{let e=E4(n),t=lt(Ie({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===K5.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Z7).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ys.Emulated,styles:n.styles||_i,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&is("NgStandalone"),S4(t);let r=n.dependencies;return t.directiveDefs=Y3(r,Q7),t.pipeDefs=Y3(r,KE),t.id=nk(t),t})}function Q7(n){return Ra(n)||Mb(n)}function Co(n){return tf(()=>({type:n.type,bootstrap:n.bootstrap||_i,declarations:n.declarations||_i,imports:n.imports||_i,exports:n.exports||_i,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ek(n,e){if(n==null)return ka;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=g0.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function tk(n){if(n==null)return ka;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Wn(n){return tf(()=>{let e=E4(n);return S4(e),e})}function E4(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ka,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||_i,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ek(n.inputs,e),outputs:tk(n.outputs),debugInfo:null}}function S4(n){n.features?.forEach(e=>e(n))}function Y3(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function nk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rk(n){return Object.getPrototypeOf(n.prototype).constructor}function xo(n){let e=rk(n.type),t=!0,r=[n];for(;e;){let i;if(Qo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $e(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=h5(n.inputs),s.declaredInputs=h5(n.declaredInputs),s.outputs=h5(n.outputs);let a=i.hostBindings;a&&lk(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&sk(n,l),c&&ak(n,c),ik(n,i),VE(n.outputs,i.outputs),Qo(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===xo&&(t=!1)}}e=Object.getPrototypeOf(e)}ok(r)}function ik(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function ok(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pu(i.hostAttrs,t=Pu(t,i.hostAttrs))}}function h5(n){return n===ka?{}:n===_i?[]:n}function sk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function ak(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function lk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function D4(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Pu(n.mergedAttrs,n.attrs);let d=n.tView=t_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Iu(n,!1);let l=uk(t,e,n,r);Om()&&s_(t,e,l,n),Nu(l,e);let c=a4(l,e,l,n);e[r+wr]=c,r_(e,c),V7(c,n,e)}function ck(n,e,t,r,i,o,s,a,l,c,d){let f=t+wr,m;return e.firstCreatePass?(m=of(e,f,4,s||null,a||null),zb()&&p4(e,n,m,Hi(e.consts,c),KS),lS(e,m)):m=e.data[f],D4(m,n,e,t,r,i,o,l),Uh(m)&&l_(e,n,m),c!=null&&y0(n,m,d),m}function n0(n,e,t,r,i,o,s,a,l,c,d){let f=t+wr,m;if(e.firstCreatePass){if(m=of(e,f,4,s||null,a||null),c!=null){let p=Hi(e.consts,c);m.localNames=[];for(let y=0;y<p.length;y+=2)m.localNames.push(p[y],-1)}}else m=e.data[f];return D4(m,n,e,t,r,i,o,l),c!=null&&y0(n,m,d),m}function zi(n,e,t,r,i,o,s,a){let l=Gt(),c=Tr(),d=Hi(c.consts,o);return ck(l,c,n,e,t,r,i,d,void 0,s,a),zi}var uk=dk;function dk(n,e,t,r){return km(!0),e[$n].createComment("")}var x0=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(x0||{}),Jl=new Xe(""),I4=!1,L5=class extends zn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,t3()&&(this.destroyRef=Se(qi,{optional:!0})??void 0,this.pendingTasks=Se(es,{optional:!0})??void 0)}emit(e){let t=bt(null);try{super.next(e)}finally{bt(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ir&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},wn=L5;function M4(n){let e,t;function r(){n=$h;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function K3(n){return queueMicrotask(()=>n()),()=>{n=$h}}var m_="isAngularZone",r0=m_+"_ID",hk=0,Ln=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wn(!1);onMicrotaskEmpty=new wn(!1);onStable=new wn(!1);onError=new wn(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=I4}=e;if(typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,gk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(m_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $e(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,fk,$h,$h);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},fk={};function v_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){M4(()=>{n.callbackScheduled=!1,F5(n),n.isCheckStableRunning=!0,v_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),F5(n)}function gk(n){let e=()=>{pk(n)},t=hk++;n._inner=n._inner.fork({name:"angular",properties:{[m_]:!0,[r0]:t,[r0+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(mk(l))return r.invokeTask(o,s,a,l);try{return X3(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),J3(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return X3(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!vk(l)&&e(),J3(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,F5(n),v_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function F5(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function X3(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function J3(n){n._nesting--,v_(n)}var i0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wn;onMicrotaskEmpty=new wn;onStable=new wn;onError=new wn;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function mk(n){return A4(n,"__ignore_ng_zone__")}function vk(n){return A4(n,"__scheduler_tick__")}function A4(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var y_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=We({token:n,providedIn:"root",factory:()=>new n})}return n})(),T4=[0,1,2,3],P4=(()=>{class n{ngZone=Se(Ln);scheduler=Se(Gs);errorHandler=Se(mo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Se(Jl,{optional:!0})}execute(){let t=this.sequences.size>0;t&&cn(16),this.executing=!0;for(let r of T4)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&cn(17)}register(t){let{view:r}=t;r!==void 0?((r[Hl]??=[]).push(t),Du(r),r[_t]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(x0.AFTER_NEXT_RENDER,t):t()}static \u0275prov=We({token:n,providedIn:"root",factory:()=>new n})}return n})(),o0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Hl];e&&(this.view[Hl]=e.filter(t=>t!==this))}};function E0(n,e){let t=e?.injector??Se(wi);return is("NgAfterNextRender"),bk(n,t,e,!0)}function yk(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function bk(n,e,t,r){let i=e.get(y_);i.impl??=e.get(P4);let o=e.get(Jl,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(qi):null,a=e.get(Rm,null,{optional:!0}),l=new o0(i.impl,yk(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var b_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var __=new Xe("");function za(n){return!!n&&typeof n.then=="function"}function w_(n){return!!n&&typeof n.subscribe=="function"}var N4=new Xe("");var C_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Se(N4,{optional:!0})??[];injector=Se(wi);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ar(this.injector,i);if(za(o))t.push(o);else if(w_(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S0=new Xe("");function O4(){jy(()=>{let n="";throw new $e(600,n)})}function k4(n){return n.isBoundToModule}var _k=10;var Xs=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Se(Xr);afterRenderManager=Se(y_);zonelessEnabled=Se(Gh);rootEffectScheduler=Se(s5);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new zn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Se(es);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ot(t=>!t))}constructor(){Se(Jl,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Se(ar);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=wi.NULL){return this._injector.get(Ln).run(()=>{cn(10);let s=t instanceof w0;if(!this._injector.get(C_).done){let y="";throw new $e(405,y)}let l;s?l=t:l=this._injector.get(sf).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=k4(l)?void 0:this._injector.get(Kl),d=r||l.selector,f=l.create(i,[],d,c),m=f.location.nativeElement,p=f.injector.get(__,null);return p?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),Yh(this.components,f),p?.unregisterApplication(m)}),this._loadComponent(f),cn(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){cn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(x0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $e(101,!1);let t=bt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,bt(t),this.afterTick.next(),cn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yl,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<_k;)cn(14),this.synchronizeOnce(),cn(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!qh(i))continue;let o=r&&!this.zonelessEnabled?0:1;d_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>qh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Yh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(S0,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $e(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lf(n,e,t,r){let i=Gt(),o=Mu();if(Fu(i,o,e)){let s=Tr(),a=t5();BO(a,i,n,e,t,r)}return lf}var j5=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function f5(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function wk(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),d=e[o],f=f5(o,c,o,d,t);if(f!==0){f<0&&n.updateValue(o,d),o++;continue}let m=n.at(s),p=e[l],y=f5(s,m,l,p,t);if(y!==0){y<0&&n.updateValue(s,p),s--,l--;continue}let _=t(o,c),C=t(s,m),w=t(o,d);if(Object.is(w,C)){let S=t(l,p);Object.is(S,_)?(n.swap(o,s),n.updateValue(s,p),l--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(r??=new s0,i??=Q3(n,o,s,t),B5(n,r,o,w))n.updateValue(o,d),o++,s++;else if(i.has(w))r.set(_,n.detach(o)),s--;else{let S=n.create(o,e[o]);n.attach(o,S),o++,s++}}for(;o<=l;)Z3(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=n.at(o),f=c.value,m=f5(o,d,o,f,t);if(m!==0)m<0&&n.updateValue(o,f),o++,c=l.next();else{r??=new s0,i??=Q3(n,o,s,t);let p=t(o,f);if(B5(n,r,o,p))n.updateValue(o,f),o++,s++,c=l.next();else if(!i.has(p))n.attach(o,n.create(o,f)),o++,s++,c=l.next();else{let y=t(o,d);r.set(y,n.detach(o)),s--}}}for(;!c.done;)Z3(n,r,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function B5(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Z3(n,e,t,r,i){if(B5(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Q3(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var s0=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Gi(n,e,t,r,i,o,s,a){is("NgControlFlow");let l=Gt(),c=Tr(),d=Hi(c.consts,o);return n0(l,c,n,e,t,r,i,d,256,s,a),x_}function x_(n,e,t,r,i,o,s,a){is("NgControlFlow");let l=Gt(),c=Tr(),d=Hi(c.consts,o);return n0(l,c,n,e,t,r,i,d,512,s,a),x_}function $i(n,e){is("NgControlFlow");let t=Gt(),r=Mu(),i=t[r]!==Ks?t[r]:-1,o=i!==-1?a0(t,wr+i):void 0,s=0;if(Fu(t,r,n)){let a=bt(null);try{if(o!==void 0&&c4(o,s),n!==-1){let l=wr+n,c=a0(t,l),d=q5(t[dt],l),f=d4(c,d,t),m=b0(t,d,e,{dehydratedView:f});_0(c,m,s,Xh(d,f))}}finally{bt(a)}}else if(o!==void 0){let a=l4(o,s);a!==void 0&&(a[Gn]=e)}}var V5=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Cr}};var U5=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function cf(n,e,t,r,i,o,s,a,l,c,d,f,m){is("NgControlFlow");let p=Gt(),y=Tr(),_=l!==void 0,C=Gt(),w=a?s.bind(C[Ci][Gn]):s,S=new U5(_,w);C[wr+n]=S,n0(p,y,n+1,e,t,r,i,Hi(y.consts,o),256),_&&n0(p,y,n+2,l,c,d,f,Hi(y.consts,m),512)}var H5=class extends j5{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Cr}at(e){return this.getLView(e)[Gn].$implicit}attach(e,t){let r=t[Cu];this.needsIndexUpdate||=e!==this.length,_0(this.lContainer,t,e,Xh(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Ck(this.lContainer,e)}create(e,t){let r=I5(this.lContainer,this.templateTNode.tView.ssrId),i=b0(this.hostLView,this.templateTNode,new V5(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){m0(e[dt],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Gn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Gn].$index=e}getLView(e){return xk(this.lContainer,e)}};function uf(n){let e=bt(null),t=Ba();try{let r=Gt(),i=r[dt],o=r[t],s=t+1,a=a0(r,s);if(o.liveCollection===void 0){let c=q5(i,s);o.liveCollection=new H5(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(wk(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Mu(),d=l.length===0;if(Fu(r,c,d)){let f=t+2,m=a0(r,f);if(d){let p=q5(i,f),y=d4(m,p,r),_=b0(r,p,void 0,{dehydratedView:y});_0(m,_,0,Xh(p,y))}else i.firstUpdatePass&&u7(m),c4(m,0)}}}finally{bt(e)}}function a0(n,e){return n[e]}function Ck(n,e){return Zh(n,e)}function xk(n,e){return l4(n,e)}function q5(n,e){return Hh(n,e)}function ft(n,e,t){let r=Gt(),i=Mu();if(Fu(r,i,e)){let o=Tr(),s=t5();OO(s,r,n,e,r[$n],t)}return ft}function eS(n,e,t,r,i){c_(e,n,t,i?"class":"style",r)}function fe(n,e,t,r){let i=Gt(),o=i[dt],s=n+wr,a=o.firstCreatePass?m4(s,i,2,e,KS,zb(),t,r):o.data[s];if(XS(a,i,n,e,R4),Uh(a)){let l=i[dt];l_(l,i,a),NS(l,a,i)}return r!=null&&y0(i,a),fe}function pe(){let n=Tr(),e=Pr(),t=JS(e);return n.firstCreatePass&&v4(n,t),Gb(t)&&$b(),qb(),t.classesWithoutHost!=null&&xN(t)&&eS(n,t,Gt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&EN(t)&&eS(n,t,Gt(),t.stylesWithoutHost,!1),pe}function Ge(n,e,t,r){return fe(n,e,t,r),pe(),Ge}function be(n,e,t,r){let i=Gt(),o=i[dt],s=n+wr,a=o.firstCreatePass?E7(s,o,2,e,t,r):o.data[s];return XS(a,i,n,e,R4),r!=null&&y0(i,a),be}function we(){let n=Pr(),e=JS(n);return Gb(e)&&$b(),qb(),we}function et(n,e,t,r){return be(n,e,t,r),we(),et}var R4=(n,e,t,r,i)=>(km(!0),BS(e[$n],r,E3()));function Fr(){return Gt()}var df="en-US";var Ek=df;function L4(n){typeof n=="string"&&(Ek=n.toLowerCase().replace(/_/g,"-"))}function Ke(n,e,t){let r=Gt(),i=Tr(),o=Pr();return Sk(i,r,r[$n],o,n,e,t),Ke}function Sk(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=u5(r,e,o),S7(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let m=d[f],p=d[f+1];l??=u5(r,e,o),z3(r,e,m,p,i,l)}if(c&&c.length)for(let f of c)l??=u5(r,e,o),z3(r,e,f,i,i,l)}}function rt(n=1){return x3(n)}function E_(n,e,t,r){Y7(n,e,t,r)}function ju(n,e,t){W7(n,e,t)}function Ga(n){let e=Gt(),t=Tr(),r=Zb();Am(r+1);let i=g_(t,r);if(n.dirty&&i3(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=J7(e,r);n.reset(o,FN),n.notifyOnChanges()}return!0}return!1}function $a(){return $7(Gt(),Zb())}function jm(n,e){return n<<17|e<<2}function Xl(n){return n>>17&32767}function Dk(n){return(n&2)==2}function Ik(n,e){return n&131071|e<<17}function z5(n){return n|2}function ku(n){return(n&131068)>>2}function p5(n,e){return n&-131069|e<<2}function Mk(n){return(n&1)===1}function G5(n){return n|1}function Ak(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Xl(s),l=ku(s);n[r]=t;let c=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||wu(f,d)>0)&&(c=!0)}else d=t;if(i)if(l!==0){let m=Xl(n[a+1]);n[r+1]=jm(m,a),m!==0&&(n[m+1]=p5(n[m+1],r)),n[a+1]=Ik(n[a+1],r)}else n[r+1]=jm(a,0),a!==0&&(n[a+1]=p5(n[a+1],r)),a=r;else n[r+1]=jm(l,0),a===0?a=r:n[l+1]=p5(n[l+1],r),l=r;c&&(n[r+1]=z5(n[r+1])),tS(n,d,r,!0),tS(n,d,r,!1),Tk(e,d,n,r,o),s=jm(a,l),o?e.classBindings=s:e.styleBindings=s}function Tk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&wu(o,e)>=0&&(t[r+1]=G5(t[r+1]))}function tS(n,e,t,r){let i=n[t+1],o=e===null,s=r?Xl(i):ku(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];Pk(l,e)&&(a=!0,n[s+1]=r?G5(c):z5(c)),s=r?Xl(c):ku(c)}a&&(n[t+1]=r?z5(i):G5(i))}function Pk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?wu(n,e)>=0:!1}function D0(n,e,t){return F4(n,e,t,!1),D0}function li(n,e){return F4(n,e,null,!0),li}function F4(n,e,t,r){let i=Gt(),o=Tr(),s=g3(2);if(o.firstUpdatePass&&Ok(o,n,s,r),e!==Ks&&Fu(i,s,e)){let a=o.data[Ba()];jk(o,a,i,i[$n],n,i[s+1]=Bk(e,t),r,s)}}function Nk(n,e){return e>=n.expandoStartIndex}function Ok(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ba()],s=Nk(n,t);Vk(o,r)&&e===null&&!s&&(e=!1),e=kk(i,o,e,r),Ak(i,o,e,t,s,r)}}function kk(n,e,t,r){let i=b3(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=g5(null,n,e,t,r),t=ef(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=g5(i,n,e,t,r),o===null){let l=Rk(n,e,r);l!==void 0&&Array.isArray(l)&&(l=g5(null,n,e,l[1],r),l=ef(l,e.attrs,r),Lk(n,e,r,l))}else o=Fk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Rk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ku(r)!==0)return n[Xl(r)]}function Lk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Xl(i)]=r}function Fk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ef(r,s,t)}return ef(r,e.attrs,t)}function g5(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ef(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ef(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),YE(n,s,t?!0:e[++o]))}return n===void 0?null:n}function jk(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=Mk(c)?nS(l,e,t,i,ku(c),s):void 0;if(!l0(d)){l0(o)||Dk(c)&&(o=nS(l,null,t,i,a,s));let f=Fb(Ba(),t);MO(r,s,f,i,o)}}function nS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),d=c?l[1]:l,f=d===null,m=t[i+1];m===Ks&&(m=f?_i:void 0);let p=f?Em(m,r):d===r?m:void 0;if(c&&!l0(p)&&(p=Em(l,r)),l0(p)&&(a=p,s))return a;let y=n[i+1];i=s?Xl(y):ku(y)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Em(l,r))}return a}function l0(n){return n!==void 0}function Bk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=zs(rf(n)))),n}function Vk(n,e){return(n.flags&(e?8:16))!==0}function Z(n,e=""){let t=Gt(),r=Tr(),i=n+wr,o=r.firstCreatePass?of(r,i,1,e,null):r.data[i],s=Uk(r,t,o,e,n);t[i]=s,Om()&&s_(r,t,s,o),Iu(o,!1)}var Uk=(n,e,t,r,i)=>(km(!0),lO(e[$n],r));function Hk(n,e,t,r=""){return Fu(n,Mu(),t)?e+kh(t)+r:Ks}function os(n){return ci("",n),os}function ci(n,e,t){let r=Gt(),i=Hk(r,n,e,t);return i!==Ks&&qk(r,Ba(),i),ci}function qk(n,e,t){let r=Fb(e,n);cO(n[$n],r,t)}function zk(n,e,t){let r=Tr();if(r.firstCreatePass){let i=Qo(n);$5(t,r.data,r.blueprint,i,!0),$5(e,r.data,r.blueprint,i,!1)}}function $5(n,e,t,r,i){if(n=Mr(n),Array.isArray(n))for(let o=0;o<n.length;o++)$5(n[o],e,t,r,i);else{let o=Tr(),s=Gt(),a=Pr(),l=Ll(n)?n:Mr(n.provide),c=Pb(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Ll(n)||!n.multi){let p=new $l(c,i,ht,null),y=v5(l,e,i?d:d+m,f);y===-1?(b5($m(a,s),o,l),m5(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[y]=p,s[y]=p)}else{let p=v5(l,e,d+m,f),y=v5(l,e,d,d+m),_=p>=0&&t[p],C=y>=0&&t[y];if(i&&!C||!i&&!_){b5($m(a,s),o,l);let w=Wk(i?$k:Gk,t.length,i,r,c,n);!i&&C&&(t[y].providerFactory=w),m5(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)}else{let w=j4(t[i?y:p],c,!i&&r);m5(o,n,p>-1?p:y,w)}!i&&r&&C&&t[y].componentProviders++}}}function m5(n,e,t,r){let i=Ll(e),o=e3(e);if(i||o){let l=(o?Mr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function j4(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function v5(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Gk(n,e,t,r,i){return W5(this.multi,[])}function $k(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Kh(r,r[dt],this.providerFactory.index,i);s=l.slice(0,a),W5(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],W5(o,s);return s}function W5(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Wk(n,e,t,r,i,o){let s=new $l(n,t,ht,null);return s.multi=[],s.index=e,s.componentProviders=0,j4(s,i,r&&!t),s}function Zl(n,e=[]){return t=>{t.providersResolver=(r,i)=>zk(r,i?i(n):n,e)}}var c0=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},S_=(()=>{class n{compileModuleSync(t){return new t0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ib(t),o=FS(i.declarations).reduce((s,a)=>{let l=Ra(a);return l&&s.push(new Ou(l)),s},[]);return new c0(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yk=(()=>{class n{zone=Se(Ln);changeDetectionScheduler=Se(Gs);applicationRef=Se(Xs);applicationErrorHandler=Se(Xr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B4=new Xe("",{factory:()=>!1});function D_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ln(lt(Ie({},M_()),{scheduleInRootZone:t})),[{provide:Ln,useFactory:n},{provide:$s,multi:!0,useFactory:()=>{let r=Se(Yk,{optional:!0});return()=>r.initialize()}},{provide:$s,multi:!0,useFactory:()=>{let r=Se(Kk);return()=>{r.initialize()}}},e===!0?{provide:i5,useValue:!0}:[],{provide:o5,useValue:t??I4},{provide:Xr,useFactory:()=>{let r=Se(Ln),i=Se(ar),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(mo),o.handleError(s))})}}}]}function I_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=D_({ngZoneFactory:()=>{let i=M_(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&is("NgZone_CoalesceEvent"),new Ln(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ws([{provide:B4,useValue:!0},{provide:Gh,useValue:!1},r])}function M_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Kk=(()=>{class n{subscription=new ir;initialized=!1;zone=Se(Ln);pendingTasks=Se(es);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ln.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ln.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var V4=(()=>{class n{applicationErrorHandler=Se(Xr);appRef=Se(Xs);taskService=Se(es);ngZone=Se(Ln);zonelessEnabled=Se(Gh);tracing=Se(Jl,{optional:!0});disableScheduling=Se(i5,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ir;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(r0):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Se(o5,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof i0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?K3:M4;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(r0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,K3(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xk(){return typeof $localize<"u"&&$localize.locale||df}var I0=new Xe("",{providedIn:"root",factory:()=>Se(I0,{optional:!0,skipSelf:!0})||Xk()});function Wi(n){return FE(n)}function Eo(n,e){return zg(n,e?.equal)}var U4=class{[Yr];constructor(e){this[Yr]=e}destroy(){this[Yr].destroy()}};var z4=Symbol("InputSignalNode#UNSET"),hR=lt(Ie({},Gg),{transformFn:void 0,applyValueToInputSignal(n,e){lu(n,e)}});function G4(n,e){let t=Object.create(hR);t.value=n,t.transformFn=e?.transform;function r(){if(su(t),t.value===z4){let i=null;throw new $e(-950,i)}return t.value}return r[Yr]=t,r}var A0=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>nf(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},fR=new Xe("");fR.__NG_ELEMENT_ID__=n=>{let e=Pr();if(e===null)throw new $e(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new $e(204,!1)};function H4(n,e){return G4(n,e)}function pR(n){return G4(z4,n)}var $4=(H4.required=pR,H4);var A_=new Xe(""),gR=new Xe("");function hf(n){return!n.moduleRef}function mR(n){let e=hf(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ln);return t.run(()=>{hf(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Xr),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),hf(n)){let o=()=>e.destroy(),s=n.platformInjector.get(A_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(A_);s.add(o),n.moduleRef.onDestroy(()=>{Yh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return yR(r,t,()=>{let o=e.get(es),s=o.add(),a=e.get(C_);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(I0,df);if(L4(l||df),!e.get(gR,!0))return hf(n)?e.get(Xs):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(hf(n)){let d=e.get(Xs);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return vR?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var vR;function yR(n,e,t){try{let r=t();return za(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var M0=null;function bR(n=[],e){return wi.create({name:e,providers:[{provide:Lh,useValue:"platform"},{provide:A_,useValue:new Set([()=>M0=null])},...n]})}function _R(n=[]){if(M0)return M0;let e=bR(n);return M0=e,O4(),wR(e),e}function wR(n){let e=n.get(d0,null);Ar(n,()=>{e?.forEach(t=>t())})}var Wa=(()=>{class n{static __NG_ELEMENT_ID__=CR}return n})();function CR(n){return xR(Pr(),Gt(),(n&16)===16)}function xR(n,e,t){if(ja(n)&&!t){let r=Ui(n.index,e);return new Ua(r,r)}else if(n.type&175){let r=e[Ci];return new Ua(r,e)}return null}function W4(n){cn(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=_R(r),o=[D_({}),{provide:Gs,useExisting:V4},D3,...t||[]],s=new Qh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return mR({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{cn(9)}}function Bu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var X4=null;function Yi(){return X4}function T_(n){X4??=n}var ff=class{},pf=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:()=>Se(J4),providedIn:"platform"})}return n})();var J4=(()=>{class n extends pf{_location;_history;_doc=Se(Rn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yi().getBaseHref(this._doc)}onPopState(t){let r=Yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function T0(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Y4(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Do(n){return n&&n[0]!=="?"?`?${n}`:n}var ss=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:()=>Se(P_),providedIn:"root"})}return n})(),P0=new Xe(""),P_=(()=>{class n extends ss{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Se(Rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return T0(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Do(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Do(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Do(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(it(pf),it(P0,8))};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ql=(()=>{class n{_subject=new zn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=DR(Y4(K4(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Do(r))}normalize(t){return n.stripTrailingSlash(SR(this._basePath,K4(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Do(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Do(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Do;static joinWithSlash=T0;static stripTrailingSlash=Y4;static \u0275fac=function(r){return new(r||n)(it(ss))};static \u0275prov=We({token:n,factory:()=>ER(),providedIn:"root"})}return n})();function ER(){return new Ql(it(ss))}function SR(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function K4(n){return n.replace(/\/index.html$/,"")}function DR(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var N_=(()=>{class n extends ss{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=T0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Do(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Do(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(it(pf),it(P0,8))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})();var Js=(()=>{class n{_viewContainer;_context=new N0;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Z4(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Z4(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ht(qa),ht(Wl))};static \u0275dir=Wn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),N0=class{$implicit=null;ngIf=null};function Z4(n,e){if(n&&!n.createEmbeddedView)throw new $e(2020,!1)}var as=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Co({type:n});static \u0275inj=Fi({})}return n})();function gf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ec=class{};var Q4="browser";var eD=(()=>{class n{static \u0275prov=We({token:n,providedIn:"root",factory:()=>new O_(Se(Rn),window)})}return n})(),O_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(lt(Ie({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=TR(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Oa(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(lt(Ie({},t),{left:i-s[0],top:o-s[1]}))}};function TR(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var k0=new Xe(""),j_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $e(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(it(k0),it(Ln))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})(),vf=class{_doc;constructor(e){this._doc=e}manager},k_="ng-app-id";function tD(n){for(let e of n)e.remove()}function nD(n,e){let t=e.createElement("style");return t.textContent=n,t}function PR(n,e,t,r){let i=n.head?.querySelectorAll(`style[${k_}="${e}"],link[${k_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(k_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function L_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var B_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,PR(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,nD);r?.forEach(i=>this.addUsage(i,this.external,L_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(tD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])tD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,nD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,L_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(it(Rn),it(u0),it(h0,8),it(Lu))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})(),R_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},V_=/%COMP%/g;var iD="%COMP%",NR=`_nghost-${iD}`,OR=`_ngcontent-${iD}`,kR=!0,RR=new Xe("",{providedIn:"root",factory:()=>kR});function LR(n){return OR.replace(V_,n)}function FR(n){return NR.replace(V_,n)}function oD(n,e){return e.map(t=>t.replace(V_,n))}var U_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new yf(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof O0?i.applyToHost(t):i instanceof bf&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Ys.Emulated:o=new O0(l,c,r,this.appId,d,s,a,f,m);break;case Ys.ShadowDom:return new F_(l,c,t,r,s,a,this.nonce,f,m);default:o=new bf(l,c,r,d,s,a,f,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(it(j_),it(B_),it(u0),it(RR),it(Rn),it(Lu),it(Ln),it(h0),it(Jl,8))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})(),yf=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(R_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(rD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $e(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=R_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=R_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ns.DashCase|ns.Important)?e.style.setProperty(t,r,i&ns.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ns.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Yi().getGlobalEventTarget(this.doc,e),!e))throw new $e(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function rD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var F_=class extends yf{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=oD(i.id,d);for(let m of d){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=m,this.shadowRoot.appendChild(p)}let f=i.getExternalStyles?.();if(f)for(let m of f){let p=L_(m,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bf=class extends yf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?oD(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},O0=class extends bf{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let d=i+"-"+r.id;super(e,t,r,o,s,a,l,c,d),this.contentAttr=LR(d),this.hostAttr=FR(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var R0=class n extends ff{supportsDOMEvents=!0;static makeCurrent(){T_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=jR();return t==null?null:BR(t)}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gf(document.cookie,e)}},_f=null;function jR(){return _f=_f||document.head.querySelector("base"),_f?_f.getAttribute("href"):null}function BR(n){return new URL(n,document.baseURI).pathname}var VR=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})(),aD=(()=>{class n extends vf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(it(Rn))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})(),sD=["alt","control","meta","shift"],UR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},lD=(()=>{class n extends vf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yi().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),sD.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=UR[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),sD.forEach(s=>{if(s!==i){let a=HR[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(it(Rn))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})();function H_(n,e){let t=Ie({rootComponent:n},qR(e));return W4(t)}function qR(n){return{appProviders:[...YR,...n?.providers??[]],platformProviders:WR}}function zR(){R0.makeCurrent()}function GR(){return new mo}function $R(){return X5(document),document}var WR=[{provide:Lu,useValue:Q4},{provide:d0,useValue:zR,multi:!0},{provide:Rn,useFactory:$R}];var YR=[{provide:Lh,useValue:"root"},{provide:mo,useFactory:GR},{provide:k0,useClass:aD,multi:!0,deps:[Rn]},{provide:k0,useClass:lD,multi:!0,deps:[Rn]},U_,B_,j_,{provide:Yl,useExisting:U_},{provide:ec,useClass:VR},[]];var Uu=class{},xf=class{},tc=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var F0=class{encodeKey(e){return cD(e)}encodeValue(e){return cD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function KR(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var XR=/%(\d[a-f0-9])/gi,JR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cD(n){return encodeURIComponent(n).replace(XR,(e,t)=>JR[t]??e)}function L0(n){return`${n}`}var Ya=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new F0,e.fromString){if(e.fromObject)throw new $e(2805,!1);this.map=KR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(L0):[L0(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(L0(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(L0(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var j0=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function ZR(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dD(n){return typeof Blob<"u"&&n instanceof Blob}function hD(n){return typeof FormData<"u"&&n instanceof FormData}function QR(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var fD="Content-Type",pD="Accept",gD="X-Request-URL",mD="text/plain",vD="application/json",e9=`${vD}, ${mD}, */*`,wf=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(ZR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new tc,this.context??=new j0,!this.params)this.params=new Ya,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||uD(this.body)||dD(this.body)||hD(this.body)||QR(this.body)?this.body:this.body instanceof Ya?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hD(this.body)?null:dD(this.body)?this.body.type||null:uD(this.body)?null:typeof this.body=="string"?mD:this.body instanceof Ya?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?vD:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,f=e.transferCache??this.transferCache,m=e.timeout??this.timeout,p=e.body!==void 0?e.body:this.body,y=e.withCredentials??this.withCredentials,_=e.reportProgress??this.reportProgress,C=e.headers||this.headers,w=e.params||this.params,S=e.context??this.context;return e.setHeaders!==void 0&&(C=Object.keys(e.setHeaders).reduce((O,k)=>O.set(k,e.setHeaders[k]),C)),e.setParams&&(w=Object.keys(e.setParams).reduce((O,k)=>O.set(k,e.setParams[k]),w)),new n(t,r,p,{params:w,headers:C,context:S,reportProgress:_,responseType:i,withCredentials:y,transferCache:f,keepalive:o,cache:a,priority:s,timeout:m,mode:l,redirect:c,credentials:d})}},Vu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Vu||{}),Hu=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new tc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},B0=class n extends Hu{constructor(e={}){super(e)}type=Vu.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},V0=class n extends Hu{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Vu.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cf=class extends Hu{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},t9=200,n9=204;function q_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect}}var r9=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof wf)o=t;else{let l;i.headers instanceof tc?l=i.headers:l=new tc(i.headers);let c;i.params&&(i.params instanceof Ya?c=i.params:c=new Ya({fromObject:i.params})),o=new wf(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=gt(o).pipe(Vs(l=>this.handler.handle(l)));if(t instanceof wf||i.observe==="events")return s;let a=s.pipe(Kr(l=>l instanceof V0));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ot(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new $e(2806,!1);return l.body}));case"blob":return a.pipe(Ot(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new $e(2807,!1);return l.body}));case"text":return a.pipe(Ot(l=>{if(l.body!==null&&typeof l.body!="string")throw new $e(2808,!1);return l.body}));case"json":default:return a.pipe(Ot(l=>l.body))}case"response":return a;default:throw new $e(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ya().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,q_(i,r))}post(t,r,i={}){return this.request("POST",t,q_(i,r))}put(t,r,i={}){return this.request("PUT",t,q_(i,r))}static \u0275fac=function(r){return new(r||n)(it(Uu))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})();var i9=new Xe("");function o9(n,e){return e(n)}function s9(n,e,t){return(r,i)=>Ar(t,()=>e(r,o=>n(o,i)))}var yD=new Xe(""),a9=new Xe(""),bD=new Xe("",{providedIn:"root",factory:()=>!0});var U0=(()=>{class n extends Uu{backend;injector;chain=null;pendingTasks=Se(Lm);contributeToStability=Se(bD);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(yD),...this.injector.get(a9,[])]));this.chain=r.reduceRight((i,o)=>s9(i,o,this.injector),o9)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Nl(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(it(xf),it(ar))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})();var l9=/^\)\]\}',?\n/,c9=RegExp(`^${gD}:`,"m");function u9(n){return"responseURL"in n&&n.responseURL?n.responseURL:c9.test(n.getAllResponseHeaders())?n.getResponseHeader(gD):null}var z_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $e(-2800,!1);let r=this.xhrFactory;return gt(null).pipe(ai(()=>new Vt(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,w)=>s.setRequestHeader(C,w.join(","))),t.headers.has(pD)||s.setRequestHeader(pD,e9),!t.headers.has(fD)){let C=t.detectContentTypeHeader();C!==null&&s.setRequestHeader(fD,C)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let C=t.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let C=s.statusText||"OK",w=new tc(s.getAllResponseHeaders()),S=u9(s)||t.url;return l=new B0({headers:w,status:s.status,statusText:C,url:S}),l},d=()=>{let{headers:C,status:w,statusText:S,url:O}=c(),k=null;w!==n9&&(k=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=k?t9:0);let q=w>=200&&w<300;if(t.responseType==="json"&&typeof k=="string"){let J=k;k=k.replace(l9,"");try{k=k!==""?JSON.parse(k):null}catch(H){k=J,q&&(q=!1,k={error:H,text:k})}}q?(o.next(new V0({body:k,headers:C,status:w,statusText:S,url:O||void 0})),o.complete()):o.error(new Cf({error:k,headers:C,status:w,statusText:S,url:O||void 0}))},f=C=>{let{url:w}=c(),S=new Cf({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(S)},m=f;t.timeout&&(m=C=>{let{url:w}=c(),S=new Cf({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:w||void 0});o.error(S)});let p=!1,y=C=>{p||(o.next(c()),p=!0);let w={type:Vu.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),t.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},_=C=>{let w={type:Vu.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",m),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Vu.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(it(ec))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})(),_D=new Xe(""),d9="XSRF-TOKEN",h9=new Xe("",{providedIn:"root",factory:()=>d9}),f9="X-XSRF-TOKEN",p9=new Xe("",{providedIn:"root",factory:()=>f9}),Ef=class{},g9=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=gf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(it(Rn),it(h9))};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})();function m9(n,e){let t=n.url.toLowerCase();if(!Se(_D)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=Se(Ef).getToken(),i=Se(p9);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function G_(...n){let e=[r9,z_,U0,{provide:Uu,useExisting:U0},{provide:xf,useFactory:()=>Se(i9,{optional:!0})??Se(z_)},{provide:yD,useValue:m9,multi:!0},{provide:_D,useValue:!0},{provide:Ef,useClass:g9}];for(let t of n)e.push(...t.\u0275providers);return Ws(e)}var wD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(it(Rn))};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pt="primary",Ff=Symbol("RouteTitle"),X_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ic(n){return new X_(n)}function AD(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function y9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ls(n[t],e[t]))return!1;return!0}function ls(n,e){let t=n?J_(n):void 0,r=e?J_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!TD(n[i],e[i]))return!1;return!0}function J_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function TD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function PD(n){return n.length>0?n[n.length-1]:null}function Qs(n){return Xy(n)?n:za(n)?Mn(Promise.resolve(n)):gt(n)}var b9={exact:OD,subset:kD},ND={exact:_9,subset:w9,ignored:()=>!0};function CD(n,e,t){return b9[t.paths](n.root,e.root,t.matrixParams)&&ND[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function _9(n,e){return ls(n,e)}function OD(n,e,t){if(!nc(n.segments,e.segments)||!z0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!OD(n.children[r],e.children[r],t))return!1;return!0}function w9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>TD(n[t],e[t]))}function kD(n,e,t){return RD(n,e,e.segments,t)}function RD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!nc(i,t)||e.hasChildren()||!z0(i,t,r))}else if(n.segments.length===t.length){if(!nc(n.segments,t)||!z0(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!kD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!nc(n.segments,i)||!z0(n.segments,i,r)||!n.children[Pt]?!1:RD(n.children[Pt],e,o,r)}}function z0(n,e,t){return e.every((r,i)=>ND[t](n[i].parameters,r.parameters))}var us=class{root;queryParams;fragment;_queryParamMap;constructor(e=new en([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ic(this.queryParams),this._queryParamMap}toString(){return E9.serialize(this)}},en=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return G0(this)}},Ka=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ic(this.parameters),this._parameterMap}toString(){return FD(this)}};function C9(n,e){return nc(n,e)&&n.every((t,r)=>ls(t.parameters,e[r].parameters))}function nc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function x9(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Pt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Pt&&(t=t.concat(e(i,r)))}),t}var ed=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:()=>new oc,providedIn:"root"})}return n})(),oc=class{parse(e){let t=new Q_(e);return new us(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Sf(e.root,!0)}`,r=I9(e.queryParams),i=typeof e.fragment=="string"?`#${S9(e.fragment)}`:"";return`${t}${r}${i}`}},E9=new oc;function G0(n){return n.segments.map(e=>FD(e)).join("/")}function Sf(n,e){if(!n.hasChildren())return G0(n);if(e){let t=n.children[Pt]?Sf(n.children[Pt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Pt&&r.push(`${i}:${Sf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=x9(n,(r,i)=>i===Pt?[Sf(n.children[Pt],!1)]:[`${i}:${Sf(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Pt]!=null?`${G0(n)}/${t[0]}`:`${G0(n)}/(${t.join("//")})`}}function LD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function H0(n){return LD(n).replace(/%3B/gi,";")}function S9(n){return encodeURI(n)}function Z_(n){return LD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $0(n){return decodeURIComponent(n)}function xD(n){return $0(n.replace(/\+/g,"%20"))}function FD(n){return`${Z_(n.path)}${D9(n.parameters)}`}function D9(n){return Object.entries(n).map(([e,t])=>`;${Z_(e)}=${Z_(t)}`).join("")}function I9(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${H0(t)}=${H0(i)}`).join("&"):`${H0(t)}=${H0(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var M9=/^[^\/()?;#]+/;function $_(n){let e=n.match(M9);return e?e[0]:""}var A9=/^[^\/()?;=#]+/;function T9(n){let e=n.match(A9);return e?e[0]:""}var P9=/^[^=?&#]+/;function N9(n){let e=n.match(P9);return e?e[0]:""}var O9=/^[^&#]+/;function k9(n){let e=n.match(O9);return e?e[0]:""}var Q_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new en(e,t)),r}parseSegment(){let e=$_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $e(4009,!1);return this.capture(e),new Ka($0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=T9(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=$_(this.remaining);i&&(r=i,this.capture(r))}e[$0(t)]=$0(r)}parseQueryParam(e){let t=N9(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=k9(this.remaining);s&&(r=s,this.capture(r))}let i=xD(t),o=xD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=$_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $e(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pt);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Pt]:new en([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $e(4011,!1)}};function jD(n){return n.segments.length>0?new en([],{[Pt]:n}):n}function BD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=BD(i);if(r===Pt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new en(n.segments,e);return R9(t)}function R9(n){if(n.numberOfChildren===1&&n.children[Pt]){let e=n.children[Pt];return new en(n.segments.concat(e.segments),e.children)}return n}function Xa(n){return n instanceof us}function VD(n,e,t=null,r=null){let i=UD(n);return HD(i,e,t,r)}function UD(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new en(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=jD(r);return e??i}function HD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return W_(i,i,i,t,r);let o=L9(e);if(o.toRoot())return W_(i,i,new en([],{}),t,r);let s=F9(o,i,n),a=s.processChildren?If(s.segmentGroup,s.index,o.commands):zD(s.segmentGroup,s.index,o.commands);return W_(i,s.segmentGroup,a,t,r)}function W0(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Af(n){return typeof n=="object"&&n!=null&&n.outlets}function W_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===e?s=t:s=qD(n,e,t);let a=jD(BD(s));return new us(a,o,i)}function qD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=qD(o,e,t)}),new en(n.segments,r)}var Y0=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&W0(r[0]))throw new $e(4003,!1);let i=r.find(Af);if(i&&i!==PD(r))throw new $e(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function L9(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Y0(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Y0(t,e,r)}var Gu=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function F9(n,e,t){if(n.isAbsolute)return new Gu(e,!0,0);if(!t)return new Gu(e,!1,NaN);if(t.parent===null)return new Gu(t,!0,0);let r=W0(n.commands[0])?0:1,i=t.segments.length-1+r;return j9(t,i,n.numberOfDoubleDots)}function j9(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $e(4005,!1);i=r.segments.length}return new Gu(r,!1,i-o)}function B9(n){return Af(n[0])?n[0].outlets:{[Pt]:n}}function zD(n,e,t){if(n??=new en([],{}),n.segments.length===0&&n.hasChildren())return If(n,e,t);let r=V9(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new en(n.segments.slice(0,r.pathIndex),{});return o.children[Pt]=new en(n.segments.slice(r.pathIndex),n.children),If(o,0,i)}else return r.match&&i.length===0?new en(n.segments,{}):r.match&&!n.hasChildren()?ew(n,e,t):r.match?If(n,0,i):ew(n,e,t)}function If(n,e,t){if(t.length===0)return new en(n.segments,{});{let r=B9(t),i={};if(Object.keys(r).some(o=>o!==Pt)&&n.children[Pt]&&n.numberOfChildren===1&&n.children[Pt].segments.length===0){let o=If(n.children[Pt],e,t);return new en(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=zD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new en(n.segments,i)}}function V9(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Af(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!SD(l,c,s))return o;r+=2}else{if(!SD(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ew(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Af(o)){let l=U9(o.outlets);return new en(r,l)}if(i===0&&W0(t[0])){let l=n.segments[e];r.push(new Ka(l.path,ED(t[0]))),i++;continue}let s=Af(o)?o.outlets[Pt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&W0(a)?(r.push(new Ka(s,ED(a))),i+=2):(r.push(new Ka(s,{})),i++)}return new en(r,{})}function U9(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ew(new en([],{}),0,r))}),e}function ED(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function SD(n,e,t){return n==t.path&&ls(e,t.parameters)}var $u="imperative",pr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pr||{}),Si=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ja=class extends Si{type=pr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ki=class extends Si{urlAfterRedirects;type=pr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Zr||{}),Yu=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Yu||{}),cs=class extends Si{reason;code;type=pr.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ds=class extends Si{reason;code;type=pr.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ku=class extends Si{error;target;type=pr.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tf=class extends Si{urlAfterRedirects;state;type=pr.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},K0=class extends Si{urlAfterRedirects;state;type=pr.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},X0=class extends Si{urlAfterRedirects;state;shouldActivate;type=pr.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},J0=class extends Si{urlAfterRedirects;state;type=pr.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Z0=class extends Si{urlAfterRedirects;state;type=pr.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Q0=class{route;type=pr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},e1=class{route;type=pr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},t1=class{snapshot;type=pr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},n1=class{snapshot;type=pr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r1=class{snapshot;type=pr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},i1=class{snapshot;type=pr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xu=class{routerEvent;position;anchor;type=pr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pf=class{},Ju=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function H9(n){return!(n instanceof Pf)&&!(n instanceof Ju)}function q9(n,e){return n.providers&&!n._injector&&(n._injector=af(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Io(n){return n.outlet||Pt}function z9(n,e){let t=n.filter(r=>Io(r)===e);return t.push(...n.filter(r=>Io(r)!==e)),t}function td(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var o1=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return td(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new nd(this.rootInjector)}},nd=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new o1(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(it(ar))};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s1=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=tw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=tw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=nw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nw(e,this._root).map(t=>t.value)}};function tw(n,e){if(n===e.value)return e;for(let t of e.children){let r=tw(n,t);if(r)return r}return null}function nw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=nw(n,t);if(r.length)return r.unshift(e),r}return[]}var Ei=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function zu(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Nf=class extends s1{snapshot;constructor(e,t){super(e),this.snapshot=t,uw(this,e)}toString(){return this.snapshot.toString()}};function GD(n){let e=G9(n),t=new fn([new Ka("",{})]),r=new fn({}),i=new fn({}),o=new fn({}),s=new fn(""),a=new Zs(t,r,o,s,i,Pt,n,e.root);return a.snapshot=e.root,new Nf(new Ei(a,[]),e)}function G9(n){let e={},t={},r={},i="",o=new rc([],e,r,i,t,Pt,n,null,{});return new Of("",new Ei(o,[]))}var Zs=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ot(c=>c[Ff]))??gt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ot(e=>ic(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ot(e=>ic(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function a1(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Ie(Ie({},e.params),n.params),data:Ie(Ie({},e.data),n.data),resolve:Ie(Ie(Ie(Ie({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Ie({},n.params),data:Ie({},n.data),resolve:Ie(Ie({},n.data),n._resolvedData??{})},i&&WD(i)&&(r.resolve[Ff]=i.title),r}var rc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ff]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ic(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ic(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Of=class extends s1{url;constructor(e,t){super(t),this.url=e,uw(this,t)}toString(){return $D(this._root)}};function uw(n,e){e.value._routerState=n,e.children.forEach(t=>uw(n,t))}function $D(n){let e=n.children.length>0?` { ${n.children.map($D).join(", ")} } `:"";return`${n.value}${e}`}function Y_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ls(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ls(e.params,t.params)||n.paramsSubject.next(t.params),y9(e.url,t.url)||n.urlSubject.next(t.url),ls(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rw(n,e){let t=ls(n.params,e.params)&&C9(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||rw(n.parent,e.parent))}function WD(n){return typeof n.title=="string"||n.title===null}var YD=new Xe(""),jf=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Pt;activateEvents=new wn;deactivateEvents=new wn;attachEvents=new wn;detachEvents=new wn;routerOutletData=$4(void 0);parentContexts=Se(nd);location=Se(qa);changeDetector=Se(Wa);inputBinder=Se(d1,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $e(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $e(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $e(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $e(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new iw(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Wn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[rs]})}return n})(),iw=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Zs?this.route:e===nd?this.childContexts:e===YD?this.outletData:this.parent.get(e,t)}},d1=new Xe("");var dw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=xn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ge(0,"router-outlet")},dependencies:[jf],encapsulation:2})}return n})();function hw(n){let e=n.children&&n.children.map(hw),t=e?lt(Ie({},n),{children:e}):Ie({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=dw),t}function $9(n,e,t){let r=kf(n,e._root,t?t._root:void 0);return new Nf(r,e)}function kf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=W9(n,e,t);return new Ei(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kf(n,a)),s}}let r=Y9(e.value),i=e.children.map(o=>kf(n,o));return new Ei(r,i)}}function W9(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kf(n,r,i);return kf(n,r)})}function Y9(n){return new Zs(new fn(n.url),new fn(n.params),new fn(n.queryParams),new fn(n.fragment),new fn(n.data),n.outlet,n.component,n)}var Zu=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},KD="ngNavigationCancelingError";function l1(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Xa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XD(!1,Zr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function XD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[KD]=!0,t.cancellationCode=e,t}function K9(n){return JD(n)&&Xa(n.url)}function JD(n){return!!n&&n[KD]}var X9=(n,e,t,r)=>Ot(i=>(new ow(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ow=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Y_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=zu(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=zu(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=zu(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=zu(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new i1(o.value.snapshot))}),e.children.length&&this.forwardEvent(new n1(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Y_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Y_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},c1=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Wu=class{component;route;constructor(e,t){this.component=e,this.route=t}};function J9(n,e,t){let r=n._root,i=e?e._root:null;return Df(r,i,t,[r.value])}function Z9(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function rd(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!gb(n)?n:e.get(n):r}function Df(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=zu(e);return n.children.forEach(s=>{Q9(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Mf(a,t.getContext(s),i)),i}function Q9(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=eL(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new c1(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Df(n,e,a?a.children:null,r,i):Df(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wu(a.outlet.component,s))}else s&&Mf(e,a,i),i.canActivateChecks.push(new c1(r)),o.component?Df(n,null,a?a.children:null,r,i):Df(n,null,t,r,i);return i}function eL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!nc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!nc(n.url,e.url)||!ls(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rw(n,e)||!ls(n.queryParams,e.queryParams);case"paramsChange":default:return!rw(n,e)}}function Mf(n,e,t){let r=zu(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Mf(s,e.children.getContext(o),t):Mf(s,null,t):Mf(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Wu(e.outlet.component,i)):t.canDeactivateChecks.push(new Wu(null,i)):t.canDeactivateChecks.push(new Wu(null,i))}function Bf(n){return typeof n=="function"}function tL(n){return typeof n=="boolean"}function nL(n){return n&&Bf(n.canLoad)}function rL(n){return n&&Bf(n.canActivate)}function iL(n){return n&&Bf(n.canActivateChild)}function oL(n){return n&&Bf(n.canDeactivate)}function sL(n){return n&&Bf(n.canMatch)}function ZD(n){return n instanceof js||n?.name==="EmptyError"}var q0=Symbol("INITIAL_VALUE");function Qu(){return ai(n=>fm(n.map(e=>e.pipe(Us(1),eb(q0)))).pipe(Ot(e=>{for(let t of e)if(t!==!0){if(t===q0)return q0;if(t===!1||aL(t))return t}return!0}),Kr(e=>e!==q0),Us(1)))}function aL(n){return Xa(n)||n instanceof Zu}function lL(n,e){return sr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?gt(lt(Ie({},t),{guardsResult:!0})):cL(s,r,i,n).pipe(sr(a=>a&&tL(a)?uL(r,o,n,e):gt(a)),Ot(a=>lt(Ie({},t),{guardsResult:a})))})}function cL(n,e,t,r){return Mn(n).pipe(sr(i=>gL(i.component,i.route,t,e,r)),Hs(i=>i!==!0,!0))}function uL(n,e,t,r){return Mn(e).pipe(Vs(i=>yu(hL(i.route.parent,r),dL(i.route,r),pL(n,i.path,t),fL(n,i.route,t))),Hs(i=>i!==!0,!0))}function dL(n,e){return n!==null&&e&&e(new r1(n)),gt(!0)}function hL(n,e){return n!==null&&e&&e(new t1(n)),gt(!0)}function fL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return gt(!0);let i=r.map(o=>Ih(()=>{let s=td(e)??t,a=rd(o,s),l=rL(a)?a.canActivate(e,n):Ar(s,()=>a(e,n));return Qs(l).pipe(Hs())}));return gt(i).pipe(Qu())}function pL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Z9(s)).filter(s=>s!==null).map(s=>Ih(()=>{let a=s.guards.map(l=>{let c=td(s.node)??t,d=rd(l,c),f=iL(d)?d.canActivateChild(r,n):Ar(c,()=>d(r,n));return Qs(f).pipe(Hs())});return gt(a).pipe(Qu())}));return gt(o).pipe(Qu())}function gL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return gt(!0);let s=o.map(a=>{let l=td(e)??i,c=rd(a,l),d=oL(c)?c.canDeactivate(n,e,t,r):Ar(l,()=>c(n,e,t,r));return Qs(d).pipe(Hs())});return gt(s).pipe(Qu())}function mL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return gt(!0);let o=i.map(s=>{let a=rd(s,n),l=nL(a)?a.canLoad(e,t):Ar(n,()=>a(e,t));return Qs(l)});return gt(o).pipe(Qu(),QD(r))}function QD(n){return $y(_r(e=>{if(typeof e!="boolean")throw l1(n,e)}),Ot(e=>e===!0))}function vL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return gt(!0);let o=i.map(s=>{let a=rd(s,n),l=sL(a)?a.canMatch(e,t):Ar(n,()=>a(e,t));return Qs(l)});return gt(o).pipe(Qu(),QD(r))}var Rf=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Lf=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function qu(n){return mu(new Rf(n))}function yL(n){return mu(new $e(4e3,!1))}function bL(n){return mu(XD(!1,Zr.GuardRejected))}var sw=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return gt(r);if(i.numberOfChildren>1||!i.children[Pt])return yL(`${e.redirectTo}`);i=i.children[Pt]}}applyRedirectCommands(e,t,r,i,o){return _L(t,i,o).pipe(Ot(s=>{if(s instanceof us)throw new Lf(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Lf(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new us(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new en(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $e(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function _L(n,e,t){if(typeof n=="string")return gt(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:d,title:f}=e;return Qs(Ar(t,()=>r({params:c,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:f})))}var aw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wL(n,e,t,r,i){let o=eI(n,e,t);return o.matched?(r=q9(e,r),vL(r,e,t,i).pipe(Ot(s=>s===!0?o:Ie({},aw)))):gt(o)}function eI(n,e,t){if(e.path==="**")return CL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Ie({},aw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||AD)(t,n,e);if(!i)return Ie({},aw);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Ie(Ie({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function CL(n){return{matched:!0,parameters:n.length>0?PD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function DD(n,e,t,r){return t.length>0&&SL(n,t,r)?{segmentGroup:new en(e,EL(r,new en(t,n.children))),slicedSegments:[]}:t.length===0&&DL(n,t,r)?{segmentGroup:new en(n.segments,xL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new en(n.segments,n.children),slicedSegments:t}}function xL(n,e,t,r){let i={};for(let o of t)if(h1(n,e,o)&&!r[Io(o)]){let s=new en([],{});i[Io(o)]=s}return Ie(Ie({},r),i)}function EL(n,e){let t={};t[Pt]=e;for(let r of n)if(r.path===""&&Io(r)!==Pt){let i=new en([],{});t[Io(r)]=i}return t}function SL(n,e,t){return t.some(r=>h1(n,e,r)&&Io(r)!==Pt)}function DL(n,e,t){return t.some(r=>h1(n,e,r))}function h1(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function IL(n,e,t){return e.length===0&&!n.children[t]}var lw=class{};function ML(n,e,t,r,i,o,s="emptyOnly"){return new cw(n,e,t,r,i,s,o).recognize()}var AL=31,cw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sw(this.urlSerializer,this.urlTree)}noMatchError(e){return new $e(4002,`'${e.segmentGroup}'`)}recognize(){let e=DD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ot(({children:t,rootSnapshot:r})=>{let i=new Ei(r,t),o=new Of("",i),s=VD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new rc([],Object.freeze({}),Object.freeze(Ie({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Pt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Pt,t).pipe(Ot(r=>({children:r,rootSnapshot:t})),Bs(r=>{if(r instanceof Lf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Rf?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Ot(s=>s instanceof Ei?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Mn(o).pipe(Vs(s=>{let a=r.children[s],l=z9(t,s);return this.processSegmentGroup(e,l,a,s,i)}),Qy((s,a)=>(s.push(...a),s)),Pa(null),Zy(),sr(s=>{if(s===null)return qu(r);let a=tI(s);return TL(a),gt(a)}))}processSegment(e,t,r,i,o,s,a){return Mn(t).pipe(Vs(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Bs(c=>{if(c instanceof Rf)return gt(null);throw c}))),Hs(l=>!!l),Bs(l=>{if(ZD(l))return IL(r,i,o)?gt(new lw):qu(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Io(r)!==s&&(s===Pt||!h1(i,o,r))?qu(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):qu(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=eI(t,i,o);if(!l)return qu(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AL&&(this.allowRedirects=!1));let p=new rc(o,c,Object.freeze(Ie({},this.urlTree.queryParams)),this.urlTree.fragment,ID(i),Io(i),i.component??i._loadedComponent??null,i,MD(i)),y=a1(p,a,this.paramsInheritanceStrategy);return p.params=Object.freeze(y.params),p.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,p,e).pipe(ai(C=>this.applyRedirects.lineralizeSegments(i,C)),sr(C=>this.processSegment(e,r,t,C.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=wL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ai(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ai(({routes:c})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:p}=l,y=new rc(m,f,Object.freeze(Ie({},this.urlTree.queryParams)),this.urlTree.fragment,ID(r),Io(r),r.component??r._loadedComponent??null,r,MD(r)),_=a1(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:w}=DD(t,m,p,c);if(w.length===0&&C.hasChildren())return this.processChildren(d,c,C,y).pipe(Ot(O=>new Ei(y,O)));if(c.length===0&&w.length===0)return gt(new Ei(y,[]));let S=Io(r)===o;return this.processSegment(d,c,C,w,S?Pt:o,!0,y).pipe(Ot(O=>new Ei(y,O instanceof Ei?[O]:[])))}))):qu(t)))}getChildConfig(e,t,r){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):mL(e,t,r,this.urlSerializer).pipe(sr(i=>i?this.configLoader.loadChildren(e,t).pipe(_r(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):bL(t))):gt({routes:[],injector:e})}};function TL(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}function PL(n){let e=n.value.routeConfig;return e&&e.path===""}function tI(n){let e=[],t=new Set;for(let r of n){if(!PL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=tI(r.children);e.push(new Ei(r.value,i))}return e.filter(r=>!t.has(r))}function ID(n){return n.data||{}}function MD(n){return n.resolve||{}}function NL(n,e,t,r,i,o){return sr(s=>ML(n,e,t,r,s.extractedUrl,i,o).pipe(Ot(({state:a,tree:l})=>lt(Ie({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function OL(n,e){return sr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of nI(l))s.add(c);let a=0;return Mn(s).pipe(Vs(l=>o.has(l)?kL(l,r,n,e):(l.data=a1(l,l.parent,n).resolve,gt(void 0))),_r(()=>a++),bu(1),sr(l=>a===s.size?gt(t):oi))})}function nI(n){let e=n.children.map(t=>nI(t)).flat();return[n,...e]}function kL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!WD(i)&&(o[Ff]=i.title),Ih(()=>(n.data=a1(n,n.parent,t).resolve,RL(o,n,e,r).pipe(Ot(s=>(n._resolvedData=s,n.data=Ie(Ie({},n.data),s),null)))))}function RL(n,e,t,r){let i=J_(n);if(i.length===0)return gt({});let o={};return Mn(i).pipe(sr(s=>LL(n[s],e,t,r).pipe(Hs(),_r(a=>{if(a instanceof Zu)throw l1(new oc,a);o[s]=a}))),bu(1),Ot(()=>o),Bs(s=>ZD(s)?oi:mu(s)))}function LL(n,e,t,r){let i=td(e)??r,o=rd(n,i),s=o.resolve?o.resolve(e,t):Ar(i,()=>o(e,t));return Qs(s)}function K_(n){return ai(e=>{let t=n(e);return t?Mn(t).pipe(Ot(()=>e)):gt(e)})}var fw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Pt);return r}getResolvedTitleForRoute(t){return t.data[Ff]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:()=>Se(rI),providedIn:"root"})}return n})(),rI=(()=>{class n extends fw{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(it(wD))};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),id=new Xe("",{providedIn:"root",factory:()=>({})}),Vf=new Xe(""),iI=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Se(S_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return gt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Qs(Ar(t,()=>r.loadComponent())).pipe(Ot(sI),_r(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Nl(()=>{this.componentLoaders.delete(r)})),o=new gu(i,()=>new zn).pipe(pu());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=oI(r,this.compiler,t,this.onLoadEndListener).pipe(Nl(()=>{this.childrenLoaders.delete(r)})),s=new gu(o,()=>new zn).pipe(pu());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oI(n,e,t,r){return Qs(Ar(t,()=>n.loadChildren())).pipe(Ot(sI),sr(i=>i instanceof C0||Array.isArray(i)?gt(i):Mn(e.compileModuleAsync(i))),Ot(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Vf,[],{optional:!0,self:!0}).flat()),{routes:s.map(hw),injector:o}}))}function FL(n){return n&&typeof n=="object"&&"default"in n}function sI(n){return FL(n)?n.default:n}var f1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:()=>Se(jL),providedIn:"root"})}return n})(),jL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aI=new Xe("");var lI=new Xe(""),pw=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new zn;transitionAbortWithErrorSubject=new zn;configLoader=Se(iI);environmentInjector=Se(ar);destroyRef=Se(qi);urlSerializer=Se(ed);rootContexts=Se(nd);location=Se(Ql);inputBindingEnabled=Se(d1,{optional:!0})!==null;titleStrategy=Se(fw);options=Se(id,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Se(f1);createViewTransition=Se(aI,{optional:!0});navigationErrorHandler=Se(lI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>gt(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Q0(i)),r=i=>this.events.next(new e1(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(lt(Ie({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new fn(null),this.transitions.pipe(Kr(r=>r!==null),ai(r=>{let i=!1;return gt(r).pipe(ai(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Zr.SupersededByNewNavigation),oi;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?lt(Ie({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new ds(o.id,this.urlSerializer.serialize(o.rawUrl),l,Yu.IgnoredSameUrlNavigation)),o.resolve(!1),oi}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return gt(o).pipe(ai(l=>(this.events.next(new Ja(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?oi:Promise.resolve(l))),NL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),_r(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=lt(Ie({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new Tf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:f,extras:m}=o,p=new Ja(l,this.urlSerializer.serialize(c),d,f);this.events.next(p);let y=GD(this.rootComponentType).snapshot;return this.currentTransition=r=lt(Ie({},o),{targetSnapshot:y,urlAfterRedirects:c,extras:lt(Ie({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,gt(r)}else{let l="";return this.events.next(new ds(o.id,this.urlSerializer.serialize(o.extractedUrl),l,Yu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),oi}}),_r(o=>{let s=new K0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Ot(o=>(this.currentTransition=r=lt(Ie({},o),{guards:J9(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),lL(this.environmentInjector,o=>this.events.next(o)),_r(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw l1(this.urlSerializer,o.guardsResult);let s=new X0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Kr(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Zr.GuardRejected),!1)),K_(o=>{if(o.guards.canActivateChecks.length!==0)return gt(o).pipe(_r(s=>{let a=new J0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ai(s=>{let a=!1;return gt(s).pipe(OL(this.paramsInheritanceStrategy,this.environmentInjector),_r({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Zr.NoDataFromResolver)}}))}),_r(s=>{let a=new Z0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),K_(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=td(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(_r(d=>{a.component=d}),Ot(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return fm(s(o.targetSnapshot.root)).pipe(Pa(null),Us(1))}),K_(()=>this.afterPreactivation()),ai(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Mn(a).pipe(Ot(()=>r)):gt(r)}),Ot(o=>{let s=$9(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=lt(Ie({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),_r(()=>{this.events.next(new Pf)}),X9(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Us(1),gm(new Vt(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Kr(()=>!i&&!r.targetRouterState),_r(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Zr.Aborted)}))),_r({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),gm(this.transitionAbortWithErrorSubject.pipe(_r(o=>{throw o}))),Nl(()=>{i||this.cancelNavigationTransition(r,"",Zr.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bs(o=>{if(this.destroyed)return r.resolve(!1),oi;if(i=!0,JD(o))this.events.next(new cs(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),K9(o)?this.events.next(new Ju(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ku(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ar(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Zu){let{message:l,cancellationCode:c}=l1(this.urlSerializer,a);this.events.next(new cs(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Ju(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return oi}))}))}cancelNavigationTransition(t,r,i){let o=new cs(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BL(n){return n!==$u}var cI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:()=>Se(VL),providedIn:"root"})}return n})(),u1=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},VL=(()=>{class n extends u1{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ha(n)))(i||n)}})();static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uI=(()=>{class n{urlSerializer=Se(ed);options=Se(id,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Se(Ql);urlHandlingStrategy=Se(f1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new us;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof us?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=GD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:()=>Se(UL),providedIn:"root"})}return n})(),UL=(()=>{class n extends uI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ja?this.updateStateMemento():t instanceof ds?this.commitTransition(r):t instanceof Tf?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Pf?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof cs&&t.code!==Zr.SupersededByNewNavigation&&t.code!==Zr.Redirect?this.restoreHistory(r):t instanceof Ku?this.restoreHistory(r,!0):t instanceof Ki&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=Ie(Ie({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=Ie(Ie({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ha(n)))(i||n)}})();static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gw(n,e){n.events.pipe(Kr(t=>t instanceof Ki||t instanceof cs||t instanceof Ku||t instanceof ds),Ot(t=>t instanceof Ki||t instanceof ds?0:(t instanceof cs?t.code===Zr.Redirect||t.code===Zr.SupersededByNewNavigation:!1)?2:1),Kr(t=>t!==2),Us(1)).subscribe(()=>{e()})}var HL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ui=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Se(b_);stateManager=Se(uI);options=Se(id,{optional:!0})||{};pendingTasks=Se(es);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Se(pw);urlSerializer=Se(ed);location=Se(Ql);urlHandlingStrategy=Se(f1);injector=Se(ar);_events=new zn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Se(cI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Se(Vf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Se(d1,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ir;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof cs&&r.code!==Zr.Redirect&&r.code!==Zr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ki)this.navigated=!0;else if(r instanceof Ju){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Ie({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||BL(i.source)},s);this.scheduleNavigation(a,$u,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}H9(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$u,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Ie({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(Xr)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=Ie(Ie({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=UD(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return HD(f,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Xa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$u,null,r)}navigate(t,r={skipLocationChange:!1}){return zL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Ie({},HL):r===!1?i=Ie({},qL):i=r,Xa(t))return CD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return CD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,m)=>{a=f,l=m});let d=this.pendingTasks.add();return gw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $e(4008,!1)}var od=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$t(null);get href(){return Wi(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new zn;applicationErrorHandler=Se(Xr);options=Se(id,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Se(new A0("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Ki&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Xa(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Xa(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ht(ui),ht(Zs),nf("tabindex"),ht(wo),ht(Jr),ht(ss))};static \u0275dir=Wn({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ke("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&lf("href",i.reactiveHref(),Q5)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bu],replaceUrl:[2,"replaceUrl","replaceUrl",Bu],routerLink:"routerLink"},features:[rs]})}return n})(),mw=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new wn;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ki&&this.update()})}ngAfterContentInit(){gt(this.links.changes,gt(null)).pipe(vu()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Mn(t).pipe(vu()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=GL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(ht(ui),ht(Jr),ht(wo),ht(Wa),ht(od,8))};static \u0275dir=Wn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&E_(o,od,5),r&2){let s;Ga(s=$a())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[rs]})}return n})();function GL(n){return!!n.paths}var dI=new Xe(""),$L=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=$u;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ja?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ki?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ds&&t.code===Yu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xu&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>ne(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Xu(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){p_()};static \u0275prov=We({token:n,factory:n.\u0275fac})}return n})();function vw(n,...e){return Ws([{provide:Vf,multi:!0,useValue:n},[],{provide:Zs,useFactory:WL,deps:[ui]},{provide:S0,multi:!0,useFactory:YL},e.map(t=>t.\u0275providers)])}function WL(n){return n.routerState.root}function hI(n,e){return{\u0275kind:n,\u0275providers:e}}function yw(n={}){return hI(4,[{provide:dI,useFactory:()=>{let t=Se(eD),r=Se(Ln),i=Se(pw),o=Se(ed);return new $L(o,i,t,r,n)}}])}function YL(){let n=Se(wi);return e=>{let t=n.get(Xs);if(e!==t.components[0])return;let r=n.get(ui),i=n.get(KL);n.get(XL)===1&&r.initialNavigation(),n.get(JL,null,{optional:!0})?.setUpPreloading(),n.get(dI,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var KL=new Xe("",{factory:()=>new zn}),XL=new Xe("",{providedIn:"root",factory:()=>1});var JL=new Xe("");function bw(){return hI(6,[{provide:ss,useClass:N_}])}var g1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-banner"]],decls:53,vars:0,consts:[["id","banner",1,"hero-banner","bg-gradient","position-relative","overflow-hidden"],[1,"container-fluid","px-0"],[1,"row","g-0","align-items-center","min-vh-75"],[1,"col-lg-6","order-lg-1","order-2"],[1,"hero-content","px-4","px-lg-5","py-5"],[1,"hero-badge","mb-3"],[1,"badge","bg-white","text-primary","px-3","py-2","rounded-pill","fs-6","fw-semibold"],[1,"bi","bi-award-fill","me-2"],[1,"display-4","fw-bold","text-white","mb-4","animate-fade-in"],[1,"lead","text-white-50","mb-4","fs-5"],[1,"hero-features","mb-4"],[1,"row","g-3"],[1,"col-auto"],[1,"feature-item","d-flex","align-items-center","text-white-50"],[1,"bi","bi-people-fill","me-2","text-warning"],[1,"bi","bi-mortarboard-fill","me-2","text-warning"],[1,"bi","bi-graph-up-arrow","me-2","text-warning"],[1,"hero-cta"],["href","#contact",1,"btn","btn-warning","btn-lg","px-4","py-3","me-3","shadow-sm"],[1,"bi","bi-telephone-fill","me-2"],["href","#about",1,"btn","btn-outline-light","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-person-circle","me-2"],[1,"col-lg-6","order-lg-2","order-1"],[1,"hero-image-container","position-relative"],[1,"hero-image-wrapper","p-4"],[1,"professional-image-placeholder","bg-white","rounded-4","shadow-lg","p-5","text-center"],[1,"bi","bi-person-circle","display-1","text-primary","mb-3"],[1,"text-muted"],[1,"text-muted","small","mb-0"],[1,"position-absolute","top-0","start-0","w-100","h-100"],[1,"floating-shape","shape-1"],[1,"floating-shape","shape-2"],[1,"floating-shape","shape-3"],[1,"scroll-indicator","position-absolute","bottom-0","start-50","translate-middle-x","mb-4"],[1,"scroll-arrow","animate-bounce"],[1,"bi","bi-chevron-down","text-white","fs-4"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),et(7,"i",7),Z(8,"Psic\xF3logo Certificado "),we()(),be(9,"h1",8),Z(10," Abel Uriaz Navarro Carrasco "),we(),be(11,"p",9),Z(12," Especialista en desarrollo del talento humano y transformaci\xF3n organizacional "),we(),be(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),et(17,"i",14),be(18,"small"),Z(19,"Capacitaci\xF3n Empresarial"),we()()(),be(20,"div",12)(21,"div",13),et(22,"i",15),be(23,"small"),Z(24,"Talleres Especializados"),we()()(),be(25,"div",12)(26,"div",13),et(27,"i",16),be(28,"small"),Z(29,"Desarrollo Organizacional"),we()()()()(),be(30,"div",17)(31,"a",18),et(32,"i",19),Z(33,"Contactar Ahora "),we(),be(34,"a",20),et(35,"i",21),Z(36,"Conocer M\xE1s "),we()()()(),be(37,"div",22)(38,"div",23)(39,"div",24)(40,"div",25),et(41,"i",26),be(42,"h5",27),Z(43,"Foto Profesional"),we(),be(44,"p",28),Z(45,"Imagen del profesional"),we()()(),be(46,"div",29),et(47,"div",30)(48,"div",31)(49,"div",32),we()()()()(),be(50,"div",33)(51,"div",34),et(52,"i",35),we()()())},styles:['.hero-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;position:relative;overflow:hidden}.hero-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#667eeacc,#764ba2e6);z-index:1}.hero-banner[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{position:relative;z-index:2}.min-vh-75[_ngcontent-%COMP%]{min-height:75vh}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:3}.hero-content[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .2s both}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .4s both;text-shadow:0 2px 4px rgba(0,0,0,.3)}.hero-content[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .6s both}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .8s both}.hero-content[_ngcontent-%COMP%]   .hero-cta[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1s both}.hero-image-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInRight 1s ease-out .5s both}.professional-image-placeholder[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.professional-image-placeholder[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 20px 40px #00000026!important}.floating-shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.floating-shape.shape-1[_ngcontent-%COMP%]{width:80px;height:80px;top:20%;right:20%;animation-delay:0s}.floating-shape.shape-2[_ngcontent-%COMP%]{width:120px;height:120px;bottom:30%;right:10%;animation-delay:2s}.floating-shape.shape-3[_ngcontent-%COMP%]{width:60px;height:60px;top:60%;right:30%;animation-delay:4s}.scroll-indicator[_ngcontent-%COMP%]{z-index:3}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]:hover{transform:translateY(5px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.animate-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s infinite}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out both}@media (max-width: 991.98px){.hero-banner[_ngcontent-%COMP%]{min-height:auto}.hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem!important}.hero-banner[_ngcontent-%COMP%]   .hero-image-container[_ngcontent-%COMP%]{padding:2rem 1rem}.floating-shape[_ngcontent-%COMP%]{display:none}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-bottom:0}}@media (max-width: 575.98px){.hero-content[_ngcontent-%COMP%]{padding:2rem 1rem!important}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem!important}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}']})};var m1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-workshops-promo"]],decls:118,vars:0,consts:[["id","workshops",1,"workshops-section","py-5","bg-light","position-relative"],[1,"container"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-mortarboard-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"lead","text-muted"],[1,"row","g-4","mb-5"],[1,"col-lg-4","col-md-6"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover"],[1,"service-icon","mb-4"],[1,"icon-wrapper","bg-primary","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-building","text-primary","fs-1"],[1,"fw-bold","text-dark","mb-3"],[1,"text-muted","mb-4"],[1,"list-unstyled","text-muted","small"],[1,"mb-2"],[1,"bi","bi-check-circle-fill","text-success","me-2"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover","featured"],[1,"featured-badge"],[1,"badge","bg-warning","text-dark","small"],[1,"icon-wrapper","bg-warning","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-briefcase-fill","text-warning","fs-1"],[1,"icon-wrapper","bg-success","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-mic-fill","text-success","fs-1"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"benefits-container","bg-white","rounded-4","shadow-sm","p-4","p-lg-5"],[1,"row","align-items-center"],[1,"col-lg-6","mb-4","mb-lg-0"],[1,"col-lg-6"],[1,"row","g-3"],[1,"col-6"],[1,"benefit-item","text-center","p-3"],[1,"benefit-icon","bg-primary","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-target","text-primary","fs-5"],[1,"fw-semibold","text-dark","mb-1"],[1,"text-muted"],[1,"benefit-icon","bg-success","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-people-fill","text-success","fs-5"],[1,"benefit-icon","bg-warning","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-award-fill","text-warning","fs-5"],[1,"benefit-icon","bg-info","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-headset","text-info","fs-5"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-mortarboard-fill","text-primary",2,"font-size","15rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),et(6,"i",6),Z(7,"Programas Profesionales "),we()(),be(8,"h2",7),Z(9,"Talleres y Programas de Capacitaci\xF3n"),we(),be(10,"p",8),Z(11," Soluciones integrales de capacitaci\xF3n dise\xF1adas para potenciar el talento humano y fortalecer las competencias organizacionales de tu empresa. "),we()()(),be(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),et(17,"i",14),we()(),be(18,"h4",15),Z(19,"Talleres Institucionales"),we(),be(20,"p",16),Z(21," Programas especializados para instituciones p\xFAblicas y privadas, enfocados en el desarrollo organizacional y mejora de procesos. "),we(),be(22,"ul",17)(23,"li",18),et(24,"i",19),Z(25,"Liderazgo y gesti\xF3n de equipos"),we(),be(26,"li",18),et(27,"i",19),Z(28,"Comunicaci\xF3n efectiva"),we(),be(29,"li",18),et(30,"i",19),Z(31,"Resoluci\xF3n de conflictos"),we()()()(),be(32,"div",10)(33,"div",20)(34,"div",21)(35,"span",22),Z(36,"M\xE1s Solicitado"),we()(),be(37,"div",12)(38,"div",23),et(39,"i",24),we()(),be(40,"h4",15),Z(41,"Capacitaci\xF3n Empresarial"),we(),be(42,"p",16),Z(43," Programas personalizados para empresas que buscan optimizar el rendimiento y bienestar de sus colaboradores. "),we(),be(44,"ul",17)(45,"li",18),et(46,"i",19),Z(47,"Habilidades blandas"),we(),be(48,"li",18),et(49,"i",19),Z(50,"Bienestar laboral"),we(),be(51,"li",18),et(52,"i",19),Z(53,"Productividad y motivaci\xF3n"),we()()()(),be(54,"div",10)(55,"div",11)(56,"div",12)(57,"div",25),et(58,"i",26),we()(),be(59,"h4",15),Z(60,"Charlas Especializadas"),we(),be(61,"p",16),Z(62," Conferencias y charlas magistrales sobre temas espec\xEDficos del desarrollo humano y organizacional. "),we(),be(63,"ul",17)(64,"li",18),et(65,"i",19),Z(66,"Psicolog\xEDa organizacional"),we(),be(67,"li",18),et(68,"i",19),Z(69,"Gesti\xF3n del cambio"),we(),be(70,"li",18),et(71,"i",19),Z(72,"Inteligencia emocional"),we()()()()(),be(73,"div",27)(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",31)(78,"h3",15),Z(79,"\xBFPor qu\xE9 elegir nuestros programas?"),we(),be(80,"p",16),Z(81," Cada programa est\xE1 dise\xF1ado con metodolog\xEDas probadas y adaptadas a las necesidades espec\xEDficas de tu organizaci\xF3n. "),we()(),be(82,"div",32)(83,"div",33)(84,"div",34)(85,"div",35)(86,"div",36),et(87,"i",37),we(),be(88,"h6",38),Z(89,"Enfoque Pr\xE1ctico"),we(),be(90,"small",39),Z(91,"Metodolog\xEDa aplicada"),we()()(),be(92,"div",34)(93,"div",35)(94,"div",40),et(95,"i",41),we(),be(96,"h6",38),Z(97,"Grupos Reducidos"),we(),be(98,"small",39),Z(99,"Atenci\xF3n personalizada"),we()()(),be(100,"div",34)(101,"div",35)(102,"div",42),et(103,"i",43),we(),be(104,"h6",38),Z(105,"Certificaci\xF3n"),we(),be(106,"small",39),Z(107,"Reconocimiento oficial"),we()()(),be(108,"div",34)(109,"div",35)(110,"div",44),et(111,"i",45),we(),be(112,"h6",38),Z(113,"Seguimiento"),we(),be(114,"small",39),Z(115,"Apoyo continuo"),we()()()()()()()()()(),be(116,"div",46),et(117,"i",47),we()())},styles:[".workshops-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.section-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out both}.service-card[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 40px #0000001a!important;border-color:#0000001a}.service-card.featured[_ngcontent-%COMP%]{border:2px solid #ffc107;position:relative}.service-card.featured[_ngcontent-%COMP%]   .featured-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:20px;z-index:10}.service-card.featured[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #ffc10733!important}.service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1)}.transition-hover[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.benefits-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.05)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{transition:transform .3s ease}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.benefits-container[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{transition:transform .3s ease}.service-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}.service-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.service-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.service-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 991.98px){.workshops-section[_ngcontent-%COMP%]   .benefits-container[_ngcontent-%COMP%]{margin-top:2rem}.workshops-section[_ngcontent-%COMP%]   .benefits-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 767.98px){.service-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{margin-bottom:1rem}}.service-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .bi-check-circle-fill[_ngcontent-%COMP%]{font-size:.9rem}@media (max-width: 1199.98px){.workshops-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10rem!important}}@media (max-width: 767.98px){.workshops-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}"]})};var v1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-about-me"]],decls:122,vars:0,consts:[["id","about",1,"about-section","py-5","bg-white","position-relative"],[1,"container"],[1,"row","align-items-center","g-5"],[1,"col-lg-5","order-lg-1","order-2"],[1,"about-image-container","position-relative"],[1,"professional-image","bg-light","rounded-4","shadow-lg","p-4","text-center"],[1,"bi","bi-person-circle","display-1","text-primary","mb-3"],[1,"text-muted"],[1,"credential-badge","credential-1","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"d-flex","align-items-center"],[1,"credential-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-primary"],[1,"mb-0","fw-semibold","small"],[1,"credential-badge","credential-2","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"credential-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-building","text-success"],[1,"col-lg-7","order-lg-2","order-1"],[1,"about-content"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","bg-opacity-10","text-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-person-badge-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"about-intro","mb-4"],[1,"lead","text-muted"],[1,"text-primary"],[1,"about-description","mb-4"],[1,"text-muted","mb-3"],[1,"expertise-areas","mb-4"],[1,"fw-bold","text-dark","mb-3"],[1,"row","g-3"],[1,"col-md-6"],[1,"expertise-item","d-flex","align-items-center","p-3","bg-light","rounded-3"],[1,"expertise-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-brain","text-primary"],[1,"mb-1","fw-semibold"],[1,"expertise-icon","bg-warning","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-people-fill","text-warning"],[1,"expertise-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-heart-pulse-fill","text-success"],[1,"expertise-icon","bg-info","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-lightbulb-fill","text-info"],[1,"professional-stats"],[1,"row","g-4"],[1,"col-4"],[1,"stat-item","text-center"],[1,"stat-number","display-6","fw-bold","text-primary"],[1,"stat-label","small","text-muted"],[1,"stat-number","display-6","fw-bold","text-success"],[1,"stat-number","display-6","fw-bold","text-warning"],[1,"position-absolute","top-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-person-workspace","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),et(6,"i",6),be(7,"h6",7),Z(8,"Abel Uriaz Navarro Carrasco"),we(),be(9,"small",7),Z(10,"Psic\xF3logo Organizacional"),we()(),be(11,"div",8)(12,"div",9)(13,"div",10),et(14,"i",11),we(),be(15,"div")(16,"h6",12),Z(17,"Colegiatura"),we(),be(18,"small",7),Z(19,"C.Ps.P. N\xB0 64179"),we()()()(),be(20,"div",13)(21,"div",9)(22,"div",14),et(23,"i",15),we(),be(24,"div")(25,"h6",12),Z(26,"RUC"),we(),be(27,"small",7),Z(28,"10758489677"),we()()()()()(),be(29,"div",16)(30,"div",17)(31,"div",18)(32,"span",19),et(33,"i",20),Z(34,"Conoce al Profesional "),we()(),be(35,"h2",21),Z(36,"Sobre m\xED"),we(),be(37,"div",22)(38,"p",23),Z(39," Soy "),be(40,"strong",24),Z(41,"Abel Uriaz Navarro Carrasco"),we(),Z(42,", psic\xF3logo de profesi\xF3n con especializaci\xF3n en el desarrollo del talento humano y transformaci\xF3n organizacional. "),we()(),be(43,"div",25)(44,"p",26),Z(45," Me dedico a brindar "),be(46,"strong"),Z(47,"talleres, charlas y programas de capacitaci\xF3n"),we(),Z(48," dirigidos a instituciones y empresas, con el objetivo de fortalecer competencias personales, grupales y organizacionales que generen un impacto positivo duradero. "),we(),be(49,"p",7),Z(50," Mi enfoque integra conocimientos especializados en "),be(51,"strong"),Z(52,"psicolog\xEDa organizacional, habilidades blandas, bienestar laboral y liderazgo"),we(),Z(53,", aplicados de manera din\xE1mica y efectiva para potenciar el rendimiento de los equipos de trabajo. "),we()(),be(54,"div",27)(55,"h5",28),Z(56,"\xC1reas de Especializaci\xF3n"),we(),be(57,"div",29)(58,"div",30)(59,"div",31)(60,"div",32),et(61,"i",33),we(),be(62,"div")(63,"h6",34),Z(64,"Psicolog\xEDa Organizacional"),we(),be(65,"small",7),Z(66,"Comportamiento y clima laboral"),we()()()(),be(67,"div",30)(68,"div",31)(69,"div",35),et(70,"i",36),we(),be(71,"div")(72,"h6",34),Z(73,"Liderazgo y Equipos"),we(),be(74,"small",7),Z(75,"Gesti\xF3n y desarrollo"),we()()()(),be(76,"div",30)(77,"div",31)(78,"div",37),et(79,"i",38),we(),be(80,"div")(81,"h6",34),Z(82,"Bienestar Laboral"),we(),be(83,"small",7),Z(84,"Salud mental y productividad"),we()()()(),be(85,"div",30)(86,"div",31)(87,"div",39),et(88,"i",40),we(),be(89,"div")(90,"h6",34),Z(91,"Habilidades Blandas"),we(),be(92,"small",7),Z(93,"Comunicaci\xF3n y empat\xEDa"),we()()()()()(),be(94,"div",41)(95,"div",42)(96,"div",43)(97,"div",44)(98,"div",45),Z(99,"5+"),we(),be(100,"div",46),Z(101,"A\xF1os de"),et(102,"br"),Z(103,"Experiencia"),we()()(),be(104,"div",43)(105,"div",44)(106,"div",47),Z(107,"50+"),we(),be(108,"div",46),Z(109,"Empresas"),et(110,"br"),Z(111,"Capacitadas"),we()()(),be(112,"div",43)(113,"div",44)(114,"div",48),Z(115,"1000+"),we(),be(116,"div",46),Z(117,"Profesionales"),et(118,"br"),Z(119,"Formados"),we()()()()()()()()(),be(120,"div",49),et(121,"i",50),we()())},styles:[".about-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.about-image-container[_ngcontent-%COMP%]{position:relative}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #0000001a!important}.credential-badge[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(0,0,0,.05);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.credential-badge[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #00000026!important}.credential-badge.credential-1[_ngcontent-%COMP%]{top:10%;right:-15%;animation:_ngcontent-%COMP%_fadeInRight .8s ease-out .5s both}.credential-badge.credential-2[_ngcontent-%COMP%]{bottom:20%;left:-15%;animation:_ngcontent-%COMP%_fadeInLeft .8s ease-out .7s both}.about-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .3s both}.about-content[_ngcontent-%COMP%]   .section-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .1s both}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .3s both}.about-content[_ngcontent-%COMP%]   .about-intro[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .5s both}.about-content[_ngcontent-%COMP%]   .about-description[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .7s both}.about-content[_ngcontent-%COMP%]   .expertise-areas[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .9s both}.about-content[_ngcontent-%COMP%]   .professional-stats[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1.1s both}.expertise-item[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid transparent}.expertise-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background-color:#fff!important;border-color:#0000001a;box-shadow:0 8px 25px #0000001a}.expertise-item[_ngcontent-%COMP%]:hover   .expertise-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.expertise-icon[_ngcontent-%COMP%]{transition:transform .3s ease;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.stat-item[_ngcontent-%COMP%]{transition:transform .3s ease}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-item[_ngcontent-%COMP%]:hover   .stat-number[_ngcontent-%COMP%]{transform:scale(1.1)}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{transition:transform .3s ease}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@media (max-width: 991.98px){.about-image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.about-image-container[_ngcontent-%COMP%]   .credential-badge[_ngcontent-%COMP%]{position:static!important;display:inline-block;margin:1rem .5rem 0;transform:none!important}.about-content[_ngcontent-%COMP%]{text-align:center}.about-content[_ngcontent-%COMP%]   .expertise-areas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767.98px){.professional-stats[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}.professional-stats[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2.5rem!important}.expertise-item[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center;flex-direction:column}.expertise-item[_ngcontent-%COMP%]   .expertise-icon[_ngcontent-%COMP%]{margin-bottom:.5rem!important;margin-right:0!important}.credential-badge[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:.5rem auto!important}}@media (max-width: 1199.98px){.about-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8rem!important}}@media (max-width: 767.98px){.about-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}"]})};var y1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-contact-info"]],decls:98,vars:0,consts:[["id","contact",1,"contact-section","py-5","bg-dark","text-white","position-relative","overflow-hidden"],[1,"container"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-warning","text-dark","px-3","py-2","rounded-pill"],[1,"bi","bi-telephone-fill","me-2"],[1,"display-5","fw-bold","mb-4"],[1,"lead","text-white-50"],[1,"row","g-4","justify-content-center"],[1,"col-lg-4","col-md-6"],[1,"contact-card","h-100","bg-white","bg-opacity-10","rounded-4","p-4","text-center","backdrop-blur"],[1,"contact-icon","mb-4"],[1,"icon-wrapper","bg-success","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-whatsapp","text-white","fs-2"],[1,"fw-bold","mb-3"],[1,"text-white-50","mb-4"],["href","https://wa.me/tu-numero","target","_blank",1,"btn","btn-success","btn-lg","w-100","shadow-sm"],[1,"bi","bi-whatsapp","me-2"],[1,"icon-wrapper","bg-primary","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-facebook","text-white","fs-2"],["href","https://facebook.com/tu-pagina","target","_blank",1,"btn","btn-primary","btn-lg","w-100","shadow-sm"],[1,"bi","bi-facebook","me-2"],[1,"icon-wrapper","bg-warning","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-envelope-fill","text-white","fs-2"],["href","mailto:tu.email@example.com",1,"btn","btn-warning","btn-lg","w-100","shadow-sm","text-dark"],[1,"bi","bi-envelope-fill","me-2"],[1,"row","justify-content-center","mt-5"],[1,"col-lg-10"],[1,"additional-info","bg-white","bg-opacity-5","rounded-4","p-4","p-lg-5","backdrop-blur"],[1,"row","align-items-center"],[1,"col-lg-8","mb-4","mb-lg-0"],[1,"text-white-50","mb-0"],[1,"col-lg-4","text-center"],[1,"cta-buttons"],["href","https://wa.me/tu-numero?text=Hola,%20me%20interesa%20una%20cotizaci\xF3n%20para%20capacitaci\xF3n","target","_blank",1,"btn","btn-outline-warning","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-calculator","me-2"],[1,"credentials-footer"],[1,"row","g-4","justify-content-center","align-items-center"],[1,"col-auto"],[1,"credential-item","d-flex","align-items-center"],[1,"credential-icon","bg-white","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-warning"],[1,"text-start"],[1,"mb-0","fw-semibold"],[1,"text-white-50"],[1,"bi","bi-building","text-warning"],[1,"bi","bi-award-fill","text-warning"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-telephone-fill","text-warning",2,"font-size","15rem"],[1,"position-absolute","bottom-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-chat-dots-fill","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),et(6,"i",6),Z(7,"Contacto Profesional "),we()(),be(8,"h2",7),Z(9,"\xBFListo para transformar tu organizaci\xF3n?"),we(),be(10,"p",8),Z(11," Conecta conmigo para dise\xF1ar un programa de capacitaci\xF3n personalizado que impulse el crecimiento de tu equipo y organizaci\xF3n. "),we()()(),be(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),et(17,"i",14),we()(),be(18,"h4",15),Z(19,"WhatsApp"),we(),be(20,"p",16),Z(21," Conecta directamente conmigo para una consulta r\xE1pida y personalizada. "),we(),be(22,"a",17),et(23,"i",18),Z(24,"+51 9XX XXX XXX "),we()()(),be(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",19),et(29,"i",20),we()(),be(30,"h4",15),Z(31,"Facebook"),we(),be(32,"p",16),Z(33," S\xEDgueme en redes sociales para contenido profesional y actualizaciones. "),we(),be(34,"a",21),et(35,"i",22),Z(36,"Seguir en Facebook "),we()()(),be(37,"div",10)(38,"div",11)(39,"div",12)(40,"div",23),et(41,"i",24),we()(),be(42,"h4",15),Z(43,"Email"),we(),be(44,"p",16),Z(45," Env\xEDame un correo detallado con tus necesidades de capacitaci\xF3n. "),we(),be(46,"a",25),et(47,"i",26),Z(48,"Enviar Email "),we()()()(),be(49,"div",27)(50,"div",28)(51,"div",29)(52,"div",30)(53,"div",31)(54,"h4",15),Z(55,"\xBFNecesitas una cotizaci\xF3n personalizada?"),we(),be(56,"p",32),Z(57," Cu\xE9ntame sobre tu organizaci\xF3n, objetivos y necesidades espec\xEDficas. Dise\xF1ar\xE9 una propuesta de capacitaci\xF3n adaptada a tu presupuesto y cronograma. "),we()(),be(58,"div",33)(59,"div",34)(60,"a",35),et(61,"i",36),Z(62,"Solicitar Cotizaci\xF3n "),we()()()()()()(),be(63,"div",27)(64,"div",3)(65,"div",37)(66,"div",38)(67,"div",39)(68,"div",40)(69,"div",41),et(70,"i",42),we(),be(71,"div",43)(72,"h6",44),Z(73,"Colegiatura"),we(),be(74,"small",45),Z(75,"C.Ps.P. N\xB0 64179"),we()()()(),be(76,"div",39)(77,"div",40)(78,"div",41),et(79,"i",46),we(),be(80,"div",43)(81,"h6",44),Z(82,"RUC"),we(),be(83,"small",45),Z(84,"10758489677"),we()()()(),be(85,"div",39)(86,"div",40)(87,"div",41),et(88,"i",47),we(),be(89,"div",43)(90,"h6",44),Z(91,"Especialista"),we(),be(92,"small",45),Z(93,"Desarrollo Humano"),we()()()()()()()()(),be(94,"div",48),et(95,"i",49),we(),be(96,"div",50),et(97,"i",51),we()())},styles:['.contact-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3c72,#2a5298);position:relative}.contact-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#1e3c72e6,#2a5298cc);z-index:1}.contact-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.backdrop-blur[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.contact-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.1)}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);background-color:#ffffff26!important;box-shadow:0 20px 40px #0000004d;border-color:#fff3}.contact-card[_ngcontent-%COMP%]:hover   .contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1)}.contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:all .3s ease;box-shadow:0 8px 25px #0003}.additional-info[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1)}.additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:all .3s ease}.additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #ffc1074d}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{transition:transform .3s ease}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover   .credential-icon[_ngcontent-%COMP%]{transform:scale(1.1);background-color:#fff3!important}.credentials-footer[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{transition:all .3s ease;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.contact-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}.contact-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.contact-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.contact-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.5s}.additional-info[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .7s both}.credentials-footer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .9s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn.btn-success[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #19875466}.btn.btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #0d6efd66}.btn.btn-warning[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffc10766}.btn.btn-outline-warning[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffc1074d}@media (max-width: 991.98px){.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{text-align:center}.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]{margin-top:2rem}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center;text-align:center}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767.98px){.contact-card[_ngcontent-%COMP%]{margin-bottom:2rem}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.contact-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.75rem 1rem}.additional-info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{margin-right:1rem!important}}@media (max-width: 1199.98px){.contact-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10rem!important}}@media (max-width: 767.98px){.contact-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}']})};var b1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-landing-page"]],decls:5,vars:0,consts:[[1,"landing-page"]],template:function(t,r){t&1&&(fe(0,"div",0),Ge(1,"app-banner")(2,"app-workshops-promo")(3,"app-about-me")(4,"app-contact-info"),pe())},dependencies:[g1,m1,v1,y1],styles:[".landing-page[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{position:relative}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa80}@media (prefers-reduced-motion: no-preference){.landing-page[_ngcontent-%COMP%]{scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);transition:all .6s cubic-bezier(.4,0,.2,1)}}.landing-page[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{z-index:1}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] + section[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 991.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}}@media (max-width: 767.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:2rem!important;padding-bottom:2rem!important}}@media print{.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}}"]})};var CI=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ht(wo),ht(Jr))};static \u0275dir=Wn({type:n})}return n})(),Sw=(()=>{class n extends CI{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ha(n)))(i||n)}})();static \u0275dir=Wn({type:n,features:[xo]})}return n})(),A1=new Xe("");var ZL={provide:A1,useExisting:Ko(()=>T1),multi:!0};function QL(){let n=Yi()?Yi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var eF=new Xe(""),T1=(()=>{class n extends CI{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!QL())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ht(wo),ht(Jr),ht(eF,8))};static \u0275dir=Wn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ke("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Zl([ZL]),xo]})}return n})();function Dw(n){return n==null||Iw(n)===0}function Iw(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var xI=new Xe(""),EI=new Xe(""),tF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gf=class{static min(e){return nF(e)}static max(e){return rF(e)}static required(e){return iF(e)}static requiredTrue(e){return oF(e)}static email(e){return sF(e)}static minLength(e){return aF(e)}static maxLength(e){return lF(e)}static pattern(e){return cF(e)}static nullValidator(e){return SI()}static compose(e){return PI(e)}static composeAsync(e){return OI(e)}};function nF(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function rF(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function iF(n){return Dw(n.value)?{required:!0}:null}function oF(n){return n.value===!0?null:{required:!0}}function sF(n){return Dw(n.value)||tF.test(n.value)?null:{email:!0}}function aF(n){return e=>{let t=e.value?.length??Iw(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function lF(n){return e=>{let t=e.value?.length??Iw(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function cF(n){if(!n)return SI;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Dw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function SI(n){return null}function DI(n){return n!=null}function II(n){return za(n)?Mn(n):n}function MI(n){let e={};return n.forEach(t=>{e=t!=null?Ie(Ie({},e),t):e}),Object.keys(e).length===0?null:e}function AI(n,e){return e.map(t=>t(n))}function uF(n){return!n.validate}function TI(n){return n.map(e=>uF(e)?e:t=>e.validate(t))}function PI(n){if(!n)return null;let e=n.filter(DI);return e.length==0?null:function(t){return MI(AI(t,e))}}function NI(n){return n!=null?PI(TI(n)):null}function OI(n){if(!n)return null;let e=n.filter(DI);return e.length==0?null:function(t){let r=AI(t,e).map(II);return Jy(r).pipe(Ot(MI))}}function kI(n){return n!=null?OI(TI(n)):null}function fI(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RI(n){return n._rawValidators}function LI(n){return n._rawAsyncValidators}function _w(n){return n?Array.isArray(n)?n:[n]:[]}function C1(n,e){return Array.isArray(n)?n.includes(e):n===e}function pI(n,e){let t=_w(e);return _w(n).forEach(i=>{C1(t,i)||t.push(i)}),t}function gI(n,e){return _w(e).filter(t=>!C1(n,t))}var x1=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=NI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ld=class extends x1{name;get formDirective(){return null}get path(){return null}},$f=class extends x1{_parent=null;name=null;valueAccessor=null},E1=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},dF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yle=lt(Ie({},dF),{"[class.ng-submitted]":"isSubmitted"}),FI=(()=>{class n extends E1{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ht($f,2))};static \u0275dir=Wn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&li("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[xo]})}return n})(),jI=(()=>{class n extends E1{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ht(ld,10))};static \u0275dir=Wn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&li("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[xo]})}return n})();var Uf="VALID",_1="INVALID",sd="PENDING",Hf="DISABLED",Za=class{},S1=class extends Za{value;source;constructor(e,t){super(),this.value=e,this.source=t}},qf=class extends Za{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},zf=class extends Za{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ad=class extends Za{status;source;constructor(e,t){super(),this.status=e,this.source=t}},ww=class extends Za{source;constructor(e){super(),this.source=e}},Cw=class extends Za{source;constructor(e){super(),this.source=e}};function Mw(n){return(P1(n)?n.validators:n)||null}function hF(n){return Array.isArray(n)?NI(n):n||null}function Aw(n,e){return(P1(e)?e.asyncValidators:n)||null}function fF(n){return Array.isArray(n)?kI(n):n||null}function P1(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function BI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $e(1e3,"");if(!r[t])throw new $e(1001,"")}function VI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $e(1002,"")})}var cd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wi(this.statusReactive)}set status(e){Wi(()=>this.statusReactive.set(e))}_status=Eo(()=>this.statusReactive());statusReactive=$t(void 0);get valid(){return this.status===Uf}get invalid(){return this.status===_1}get pending(){return this.status==sd}get disabled(){return this.status===Hf}get enabled(){return this.status!==Hf}errors;get pristine(){return Wi(this.pristineReactive)}set pristine(e){Wi(()=>this.pristineReactive.set(e))}_pristine=Eo(()=>this.pristineReactive());pristineReactive=$t(!0);get dirty(){return!this.pristine}get touched(){return Wi(this.touchedReactive)}set touched(e){Wi(()=>this.touchedReactive.set(e))}_touched=Eo(()=>this.touchedReactive());touchedReactive=$t(!1);get untouched(){return!this.touched}_events=new zn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gI(e,this._rawAsyncValidators))}hasValidator(e){return C1(this._rawValidators,e)}hasAsyncValidator(e){return C1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(lt(Ie({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new zf(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new zf(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(lt(Ie({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qf(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new qf(!0,r))}markAsPending(e={}){this.status=sd;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ad(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(lt(Ie({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hf,this.errors=null,this._forEachChild(i=>{i.disable(lt(Ie({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new S1(this.value,r)),this._events.next(new ad(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(lt(Ie({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uf,this._forEachChild(r=>{r.enable(lt(Ie({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(lt(Ie({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uf||this.status===sd)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new S1(this.value,t)),this._events.next(new ad(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(lt(Ie({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hf:Uf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=sd,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=II(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ad(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new wn,this.statusChanges=new wn}_calculateStatus(){return this._allControlsDisabled()?Hf:this.errors?_1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sd)?sd:this._anyControlsHaveStatus(_1)?_1:Uf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new qf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new zf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){P1(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=hF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fF(this._rawAsyncValidators)}},D1=class extends cd{constructor(e,t,r){super(Mw(t),Aw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){VI(this,!0,e),Object.keys(e).forEach(r=>{BI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xw=class extends D1{};var Tw=new Xe("",{providedIn:"root",factory:()=>N1}),N1="always";function pF(n,e){return[...e.path,n]}function mI(n,e,t=N1){Pw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),mF(n,e),yF(n,e),vF(n,e),gF(n,e)}function vI(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),M1(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function I1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gF(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Pw(n,e){let t=RI(n);e.validator!==null?n.setValidators(fI(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=LI(n);e.asyncValidator!==null?n.setAsyncValidators(fI(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();I1(e._rawValidators,i),I1(e._rawAsyncValidators,i)}function M1(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=RI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=LI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return I1(e._rawValidators,r),I1(e._rawAsyncValidators,r),t}function mF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&UI(n,e)})}function vF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&UI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function UI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yF(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function bF(n,e){n==null,Pw(n,e)}function _F(n,e){return M1(n,e)}function wF(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function CF(n){return Object.getPrototypeOf(n.constructor)===Sw}function xF(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EF(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===T1?t=o:CF(o)?r=o:i=o}),i||r||t||null}function SF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function yI(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bI(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var w1=class extends cd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Mw(t),Aw(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),P1(t)&&(t.nonNullable||t.initialValueIsDefault)&&(bI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var DF=n=>n instanceof w1;var HI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Wn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var qI=new Xe("");var IF={provide:ld,useExisting:Ko(()=>Nw)},Nw=(()=>{class n extends ld{callSetDisabledState;get submitted(){return Wi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Eo(()=>this._submittedReactive());_submittedReactive=$t(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new wn;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(M1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return mI(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){vI(t.control||null,t,!1),SF(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),xF(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ww(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Cw(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(vI(r||null,t),DF(i)&&(mI(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);bF(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&_F(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pw(this.form,this),this._oldForm&&M1(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(ht(xI,10),ht(EI,10),ht(Tw,8))};static \u0275dir=Wn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ke("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Zl([IF]),xo,rs]})}return n})();var MF={provide:$f,useExisting:Ko(()=>Ow)},Ow=(()=>{class n extends $f{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new wn;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EF(this,o)}ngOnChanges(t){this._added||this._setUpControl(),wF(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return pF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(ht(ld,13),ht(xI,10),ht(EI,10),ht(A1,10),ht(qI,8))};static \u0275dir=Wn({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Zl([MF]),xo,rs]})}return n})();var AF={provide:A1,useExisting:Ko(()=>GI),multi:!0};function zI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function TF(n){return n.split(":")[0]}var GI=(()=>{class n extends Sw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=Se(Xs).injector;appRefDestroyRef=this.appRefInjector.get(qi);destroyRef=Se(qi);cdr=Se(Wa);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,E0({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=zI(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=TF(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ha(n)))(i||n)}})();static \u0275dir=Wn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ke("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Zl([AF]),xo]})}return n})(),$I=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(zI(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(ht(Jr),ht(wo),ht(GI,9))};static \u0275dir=Wn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),PF={provide:A1,useExisting:Ko(()=>WI),multi:!0};function _I(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function NF(n){return n.split(":")[0]}var WI=(()=>{class n extends Sw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=NF(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ha(n)))(i||n)}})();static \u0275dir=Wn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ke("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Zl([PF]),xo]})}return n})(),YI=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(_I(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_I(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ht(Jr),ht(wo),ht(WI,9))};static \u0275dir=Wn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var KI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Co({type:n});static \u0275inj=Fi({})}return n})(),Ew=class extends cd{constructor(e,t,r){super(Mw(t),Aw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){VI(this,!1,e),e.forEach((r,i)=>{BI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function wI(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var XI=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return wI(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new D1(i,o)}record(t,r=null){let i=this._reduceControls(t);return new xw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(wI(r)?o=r:(o.validators=r,o.asyncValidators=i),new w1(t,lt(Ie({},o),{nonNullable:!0}))):new w1(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Ew(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof w1)return t;if(t instanceof cd)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var O1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tw,useValue:t.callSetDisabledState??N1}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Co({type:n});static \u0275inj=Fi({imports:[KI]})}return n})(),JI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Tw,useValue:t.callSetDisabledState??N1}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Co({type:n});static \u0275inj=Fi({imports:[KI]})}return n})();var Fn={production:!0,developmentMode:!1,supabase:{url:"https://xoctvmxfsnrzaigxkjbc.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvY3R2bXhmc25yemFpZ3hramJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0MTM3MjcsImV4cCI6MjA2ODk4OTcyN30.IGCIv3O-JGty28a6fQ4Be1ZdtEIGJ04D0OEsgDfWYzk"},auth:{authorizedUsers:[{email:"jonavcar@gmail.com",role:"admin",permissions:["certificate","management"],displayName:"Abel Navarro (Admin)"},{email:"abelnavarro.psi@gmail.com",role:"admin",permissions:["certificate","management"],displayName:"Abel Navarro (Principal)"},{email:"asistente@abelnavarro.com",role:"assistant",permissions:["certificate"],displayName:"Asistente"}],session:{timeout:288e5,refreshTokenBefore:18e5,rememberSession:!0},supabase:{enabled:!0,provider:"github",redirectTo:"https://psic-abelnavarro.github.io/#/certificate"},security:{enforceHttps:!0,allowedDomains:["psic-abelnavarro.github.io","abelnavarro.com"],maxLoginAttempts:3,lockoutDuration:18e5}}};var jr=Uint8Array,Di=Uint16Array,Uw=Int32Array,k1=new jr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R1=new jr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fw=new jr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n6=function(n,e){for(var t=new Di(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Uw(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},r6=n6(k1,2),i6=r6.b,jw=r6.r;i6[28]=258,jw[258]=28;var o6=n6(R1,0),OF=o6.b,QI=o6.r,Bw=new Di(32768);for(tn=0;tn<32768;++tn)ea=(tn&43690)>>1|(tn&21845)<<1,ea=(ea&52428)>>2|(ea&13107)<<2,ea=(ea&61680)>>4|(ea&3855)<<4,Bw[tn]=((ea&65280)>>8|(ea&255)<<8)>>1;var ea,tn,hs=function(n,e,t){for(var r=n.length,i=0,o=new Di(e);i<r;++i)n[i]&&++o[n[i]-1];var s=new Di(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new Di(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],d=e-n[i],f=s[n[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)a[Bw[f]>>l]=c}else for(a=new Di(r),i=0;i<r;++i)n[i]&&(a[i]=Bw[s[n[i]-1]++]>>15-n[i]);return a},Qa=new jr(288);for(tn=0;tn<144;++tn)Qa[tn]=8;var tn;for(tn=144;tn<256;++tn)Qa[tn]=9;var tn;for(tn=256;tn<280;++tn)Qa[tn]=7;var tn;for(tn=280;tn<288;++tn)Qa[tn]=8;var tn,Kf=new jr(32);for(tn=0;tn<32;++tn)Kf[tn]=5;var tn,kF=hs(Qa,9,0),RF=hs(Qa,9,1),LF=hs(Kf,5,0),FF=hs(Kf,5,1),kw=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Mo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},Rw=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Hw=function(n){return(n+7)/8|0},s6=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new jr(n.subarray(e,t))};var jF=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ao=function(n,e,t){var r=new Error(e||jF[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Ao),!t)throw r;return r},BF=function(n,e,t,r){var i=n.length,o=r?r.length:0;if(!i||e.f&&!e.l)return t||new jr(0);var s=!t,a=s||e.i!=2,l=e.i;s&&(t=new jr(i*3));var c=function(Te){var Be=t.length;if(Te>Be){var Le=new jr(Math.max(Be*2,Te));Le.set(t),t=Le}},d=e.f||0,f=e.p||0,m=e.b||0,p=e.l,y=e.d,_=e.m,C=e.n,w=i*8;do{if(!p){d=Mo(n,f,1);var S=Mo(n,f+1,3);if(f+=3,S)if(S==1)p=RF,y=FF,_=9,C=5;else if(S==2){var J=Mo(n,f,31)+257,H=Mo(n,f+10,15)+4,j=J+Mo(n,f+5,31)+1;f+=14;for(var te=new jr(j),ie=new jr(19),T=0;T<H;++T)ie[Fw[T]]=Mo(n,f+T*3,7);f+=H*3;for(var P=kw(ie),z=(1<<P)-1,U=hs(ie,P,1),T=0;T<j;){var ce=U[Mo(n,f,z)];f+=ce&15;var O=ce>>4;if(O<16)te[T++]=O;else{var ae=0,ve=0;for(O==16?(ve=3+Mo(n,f,3),f+=2,ae=te[T-1]):O==17?(ve=3+Mo(n,f,7),f+=3):O==18&&(ve=11+Mo(n,f,127),f+=7);ve--;)te[T++]=ae}}var X=te.subarray(0,J),ue=te.subarray(J);_=kw(X),C=kw(ue),p=hs(X,_,1),y=hs(ue,C,1)}else Ao(1);else{var O=Hw(f)+4,k=n[O-4]|n[O-3]<<8,q=O+k;if(q>i){l&&Ao(0);break}a&&c(m+k),t.set(n.subarray(O,q),m),e.b=m+=k,e.p=f=q*8,e.f=d;continue}if(f>w){l&&Ao(0);break}}a&&c(m+131072);for(var ge=(1<<_)-1,Ne=(1<<C)-1,I=f;;I=f){var ae=p[Rw(n,f)&ge],L=ae>>4;if(f+=ae&15,f>w){l&&Ao(0);break}if(ae||Ao(2),L<256)t[m++]=L;else if(L==256){I=f,p=null;break}else{var B=L-254;if(L>264){var T=L-257,$=k1[T];B=Mo(n,f,(1<<$)-1)+i6[T],f+=$}var ee=y[Rw(n,f)&Ne],le=ee>>4;ee||Ao(3),f+=ee&15;var ue=OF[le];if(le>3){var $=R1[le];ue+=Rw(n,f)&(1<<$)-1,f+=$}if(f>w){l&&Ao(0);break}a&&c(m+131072);var de=m+B;if(m<ue){var he=o-ue,Pe=Math.min(ue,de);for(he+m<0&&Ao(3);m<Pe;++m)t[m]=r[he+m]}for(;m<de;++m)t[m]=t[m-ue]}}e.l=p,e.p=I,e.b=m,e.f=d,p&&(d=1,e.m=_,e.d=y,e.n=C)}while(!d);return m!=t.length&&s?s6(t,0,m):t.subarray(0,m)},ta=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Wf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Lw=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:l6,l:0};if(i==1){var s=new jr(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(q,J){return q.f-J.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,d=1,f=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=t[t[c].f<t[f].f?c++:f++],l=t[c!=d&&t[c].f<t[f].f?c++:f++],t[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=o[0].s,r=1;r<i;++r)o[r].s>m&&(m=o[r].s);var p=new Di(m+1),y=Vw(t[d-1],p,0);if(y>e){var r=0,_=0,C=y-e,w=1<<C;for(o.sort(function(J,H){return p[H.s]-p[J.s]||J.f-H.f});r<i;++r){var S=o[r].s;if(p[S]>e)_+=w-(1<<y-p[S]),p[S]=e;else break}for(_>>=C;_>0;){var O=o[r].s;p[O]<e?_-=1<<e-p[O]++-1:++r}for(;r>=0&&_;--r){var k=o[r].s;p[k]==e&&(--p[k],++_)}y=e}return{t:new jr(p),l:y}},Vw=function(n,e,t){return n.s==-1?Math.max(Vw(n.l,e,t+1),Vw(n.r,e,t+1)):e[n.s]=t},e6=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Di(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},Yf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},a6=function(n,e,t){var r=t.length,i=Hw(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},t6=function(n,e,t,r,i,o,s,a,l,c,d){ta(e,d++,t),++i[256];for(var f=Lw(i,15),m=f.t,p=f.l,y=Lw(o,15),_=y.t,C=y.l,w=e6(m),S=w.c,O=w.n,k=e6(_),q=k.c,J=k.n,H=new Di(19),j=0;j<S.length;++j)++H[S[j]&31];for(var j=0;j<q.length;++j)++H[q[j]&31];for(var te=Lw(H,7),ie=te.t,T=te.l,P=19;P>4&&!ie[Fw[P-1]];--P);var z=c+5<<3,U=Yf(i,Qa)+Yf(o,Kf)+s,ce=Yf(i,m)+Yf(o,_)+s+14+3*P+Yf(H,ie)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&z<=U&&z<=ce)return a6(e,d,n.subarray(l,l+c));var ae,ve,X,ue;if(ta(e,d,1+(ce<U)),d+=2,ce<U){ae=hs(m,p,0),ve=m,X=hs(_,C,0),ue=_;var ge=hs(ie,T,0);ta(e,d,O-257),ta(e,d+5,J-1),ta(e,d+10,P-4),d+=14;for(var j=0;j<P;++j)ta(e,d+3*j,ie[Fw[j]]);d+=3*P;for(var Ne=[S,q],I=0;I<2;++I)for(var L=Ne[I],j=0;j<L.length;++j){var B=L[j]&31;ta(e,d,ge[B]),d+=ie[B],B>15&&(ta(e,d,L[j]>>5&127),d+=L[j]>>12)}}else ae=kF,ve=Qa,X=LF,ue=Kf;for(var j=0;j<a;++j){var $=r[j];if($>255){var B=$>>18&31;Wf(e,d,ae[B+257]),d+=ve[B+257],B>7&&(ta(e,d,$>>23&31),d+=k1[B]);var ee=$&31;Wf(e,d,X[ee]),d+=ue[ee],ee>3&&(Wf(e,d,$>>5&8191),d+=R1[ee])}else Wf(e,d,ae[$]),d+=ve[$]}return Wf(e,d,ae[256]),d+ve[256]},VF=new Uw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),l6=new jr(0),UF=function(n,e,t,r,i,o){var s=o.z||n.length,a=new jr(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,d=(o.r||0)&7;if(e){d&&(l[0]=o.r>>3);for(var f=VF[e-1],m=f>>13,p=f&8191,y=(1<<t)-1,_=o.p||new Di(32768),C=o.h||new Di(y+1),w=Math.ceil(t/3),S=2*w,O=function(pt){return(n[pt]^n[pt+1]<<w^n[pt+2]<<S)&y},k=new Uw(25e3),q=new Di(288),J=new Di(32),H=0,j=0,te=o.i||0,ie=0,T=o.w||0,P=0;te+2<s;++te){var z=O(te),U=te&32767,ce=C[z];if(_[U]=ce,C[z]=U,T<=te){var ae=s-te;if((H>7e3||ie>24576)&&(ae>423||!c)){d=t6(n,l,0,k,q,J,j,ie,P,te-P,d),ie=H=j=0,P=te;for(var ve=0;ve<286;++ve)q[ve]=0;for(var ve=0;ve<30;++ve)J[ve]=0}var X=2,ue=0,ge=p,Ne=U-ce&32767;if(ae>2&&z==O(te-Ne))for(var I=Math.min(m,ae)-1,L=Math.min(32767,te),B=Math.min(258,ae);Ne<=L&&--ge&&U!=ce;){if(n[te+X]==n[te+X-Ne]){for(var $=0;$<B&&n[te+$]==n[te+$-Ne];++$);if($>X){if(X=$,ue=Ne,$>I)break;for(var ee=Math.min(Ne,$-2),le=0,ve=0;ve<ee;++ve){var de=te-Ne+ve&32767,he=_[de],Pe=de-he&32767;Pe>le&&(le=Pe,ce=de)}}}U=ce,ce=_[U],Ne+=U-ce&32767}if(ue){k[ie++]=268435456|jw[X]<<18|QI[ue];var Te=jw[X]&31,Be=QI[ue]&31;j+=k1[Te]+R1[Be],++q[257+Te],++J[Be],T=te+X,++H}else k[ie++]=n[te],++q[n[te]]}}for(te=Math.max(te,T);te<s;++te)k[ie++]=n[te],++q[n[te]];d=t6(n,l,c,k,q,J,j,ie,P,te-P,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=C,o.p=_,o.i=te,o.w=T)}else{for(var te=o.w||0;te<s+c;te+=65535){var Le=te+65535;Le>=s&&(l[d/8|0]=c,Le=s),d=a6(l,d+1,n.subarray(te,Le))}o.i=s}return s6(a,0,r+Hw(d)+i)};var c6=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},HF=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new jr(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return UF(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var u6=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var qF=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=c6();i.p(e.dictionary),u6(n,2,i.d())}},zF=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ao(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Ao(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function L1(n,e){e||(e={});var t=c6();t.p(n);var r=HF(n,e,e.dictionary?6:2,4);return qF(r,e),u6(r,r.length-4,t.d()),r}function d6(n,e){return BF(n.subarray(zF(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var GF=typeof TextDecoder<"u"&&new TextDecoder,$F=0;try{GF.decode(l6,{stream:!0}),$F=1}catch{}var mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qw(){mt.console&&typeof mt.console.log=="function"&&mt.console.log.apply(mt.console,arguments)}var vn={log:qw,warn:function(n){mt.console&&(typeof mt.console.warn=="function"?mt.console.warn.apply(mt.console,arguments):qw.call(null,arguments))},error:function(n){mt.console&&(typeof mt.console.error=="function"?mt.console.error.apply(mt.console,arguments):qw(n))}};function zw(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){sc(r.response,e,t)},r.onerror=function(){vn.error("could not download file")},r.send()}function h6(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function F1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Xf,Kw,sc=mt.saveAs||((typeof window>"u"?"undefined":hn(window))!=="object"||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=mt.URL||mt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?h6(i.href)?zw(n,e,t):F1(i,i.target="_blank"):F1(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){F1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(h6(n))zw(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){F1(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:hn(o)!=="object"&&(vn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return zw(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(mt.HTMLElement)||mt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":hn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(n)}else{var l=mt.URL||mt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function A6(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,s=i.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function Gw(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=Br(t,r,i,o,e[0],7,-680876936),o=Br(o,t,r,i,e[1],12,-389564586),i=Br(i,o,t,r,e[2],17,606105819),r=Br(r,i,o,t,e[3],22,-1044525330),t=Br(t,r,i,o,e[4],7,-176418897),o=Br(o,t,r,i,e[5],12,1200080426),i=Br(i,o,t,r,e[6],17,-1473231341),r=Br(r,i,o,t,e[7],22,-45705983),t=Br(t,r,i,o,e[8],7,1770035416),o=Br(o,t,r,i,e[9],12,-1958414417),i=Br(i,o,t,r,e[10],17,-42063),r=Br(r,i,o,t,e[11],22,-1990404162),t=Br(t,r,i,o,e[12],7,1804603682),o=Br(o,t,r,i,e[13],12,-40341101),i=Br(i,o,t,r,e[14],17,-1502002290),t=Vr(t,r=Br(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Vr(o,t,r,i,e[6],9,-1069501632),i=Vr(i,o,t,r,e[11],14,643717713),r=Vr(r,i,o,t,e[0],20,-373897302),t=Vr(t,r,i,o,e[5],5,-701558691),o=Vr(o,t,r,i,e[10],9,38016083),i=Vr(i,o,t,r,e[15],14,-660478335),r=Vr(r,i,o,t,e[4],20,-405537848),t=Vr(t,r,i,o,e[9],5,568446438),o=Vr(o,t,r,i,e[14],9,-1019803690),i=Vr(i,o,t,r,e[3],14,-187363961),r=Vr(r,i,o,t,e[8],20,1163531501),t=Vr(t,r,i,o,e[13],5,-1444681467),o=Vr(o,t,r,i,e[2],9,-51403784),i=Vr(i,o,t,r,e[7],14,1735328473),t=Ur(t,r=Vr(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Ur(o,t,r,i,e[8],11,-2022574463),i=Ur(i,o,t,r,e[11],16,1839030562),r=Ur(r,i,o,t,e[14],23,-35309556),t=Ur(t,r,i,o,e[1],4,-1530992060),o=Ur(o,t,r,i,e[4],11,1272893353),i=Ur(i,o,t,r,e[7],16,-155497632),r=Ur(r,i,o,t,e[10],23,-1094730640),t=Ur(t,r,i,o,e[13],4,681279174),o=Ur(o,t,r,i,e[0],11,-358537222),i=Ur(i,o,t,r,e[3],16,-722521979),r=Ur(r,i,o,t,e[6],23,76029189),t=Ur(t,r,i,o,e[9],4,-640364487),o=Ur(o,t,r,i,e[12],11,-421815835),i=Ur(i,o,t,r,e[15],16,530742520),t=Hr(t,r=Ur(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Hr(o,t,r,i,e[7],10,1126891415),i=Hr(i,o,t,r,e[14],15,-1416354905),r=Hr(r,i,o,t,e[5],21,-57434055),t=Hr(t,r,i,o,e[12],6,1700485571),o=Hr(o,t,r,i,e[3],10,-1894986606),i=Hr(i,o,t,r,e[10],15,-1051523),r=Hr(r,i,o,t,e[1],21,-2054922799),t=Hr(t,r,i,o,e[8],6,1873313359),o=Hr(o,t,r,i,e[15],10,-30611744),i=Hr(i,o,t,r,e[6],15,-1560198380),r=Hr(r,i,o,t,e[13],21,1309151649),t=Hr(t,r,i,o,e[4],6,-145523070),o=Hr(o,t,r,i,e[11],10,-1120210379),i=Hr(i,o,t,r,e[2],15,718787259),r=Hr(r,i,o,t,e[9],21,-343485551),n[0]=tl(t,n[0]),n[1]=tl(r,n[1]),n[2]=tl(i,n[2]),n[3]=tl(o,n[3])}function W1(n,e,t,r,i,o){return e=tl(tl(e,n),tl(r,o)),tl(e<<i|e>>>32-i,t)}function Br(n,e,t,r,i,o,s){return W1(e&t|~e&r,n,e,i,o,s)}function Vr(n,e,t,r,i,o,s){return W1(e&r|t&~r,n,e,i,o,s)}function Ur(n,e,t,r,i,o,s){return W1(e^t^r,n,e,i,o,s)}function Hr(n,e,t,r,i,o,s){return W1(t^(e|~r),n,e,i,o,s)}function T6(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Gw(r,WF(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Gw(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Gw(r,i),r}function WF(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Xf=mt.atob.bind(mt),Kw=mt.btoa.bind(mt);var f6="0123456789abcdef".split("");function YF(n){for(var e="",t=0;t<4;t++)e+=f6[n>>8*t+4&15]+f6[n>>8*t&15];return e}function KF(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Xw(n){return T6(n).map(KF).join("")}var XF=function(n){for(var e=0;e<n.length;e++)n[e]=YF(n[e]);return n.join("")}(T6("hello"))!="5d41402abc4b2a76b9719d911017c592";function tl(n,e){if(XF){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Jw(n,e){var t,r,i,o;if(n!==t){for(var s=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}t=n,r=a}else a=r;var f=e.length,m=0,p=0,y="";for(l=0;l<f;l++)p=(p+(d=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=d,s=a[(a[m]+a[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}var p6={print:4,modify:8,copy:16,"annot-forms":32};function hd(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(p6.perm!==void 0)throw new Error("Invalid permission: "+a);i+=p6[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=Xw(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Jw(this.encryptionKey,this.padding)}function fd(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function g6(n){if(hn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){mt.console&&vn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function G1(n){if(!(this instanceof G1))return new G1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function P6(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function ac(n,e,t,r,i){if(!(this instanceof ac))return new ac(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,P6.call(this,r,i)}function pd(n,e,t,r,i){if(!(this instanceof pd))return new pd(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,P6.call(this,r,i)}function ct(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;hn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=g6;var y="1.3",_=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(g){y=g};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return C};var w=p.__private__.getPageFormat=function(g){return C[g]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},O=S.COMPAT;function k(){this.saveGraphicsState(),V(new ut(He,0,0,-He,0,ya()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),c="n",O=S.ADVANCED}function q(){this.restoreGraphicsState(),c="S",O=S.COMPAT}var J=p.__private__.combineFontStyleAndFontWeight=function(g,E){if(g=="bold"&&E=="normal"||g=="bold"&&E==400||g=="normal"&&E=="italic"||g=="bold"&&E=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return E&&(g=E==400||E==="normal"?g==="italic"?"italic":"normal":E!=700&&E!=="bold"||g!=="normal"?(E==700?"bold":E)+""+g:"bold"),g};p.advancedAPI=function(g){var E=O===S.COMPAT;return E&&k.call(this),typeof g!="function"||(g(this),E&&q.call(this)),this},p.compatAPI=function(g){var E=O===S.ADVANCED;return E&&q.call(this),typeof g!="function"||(g(this),E&&k.call(this)),this},p.isAdvancedAPI=function(){return O===S.ADVANCED};var H,j=function(g){if(O!==S.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=p.roundToPrecision=p.__private__.roundToPrecision=function(g,E){var F=e||E;if(isNaN(g)||isNaN(F))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(F).replace(/0+$/,"")};H=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return te(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return te(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return te(g,16)};var ie=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return te(g,2)},T=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return te(g,3)},P=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return O===S.COMPAT?g*He:O===S.ADVANCED?g:void 0},z=function(g){return O===S.COMPAT?ya()-g:O===S.ADVANCED?g:void 0},U=function(g){return P(z(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var ce,ae="00000000000000000000000000000000",ve=p.__private__.getFileId=function(){return ae},X=p.__private__.setFileId=function(g){return ae=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Rr=new hd(d.userPermissions,d.userPassword,d.ownerPassword,ae)),ae};p.setFileId=function(g){return X(g),this},p.getFileId=function(){return ve()};var ue=p.__private__.convertDateToPDFDate=function(g){var E=g.getTimezoneOffset(),F=E<0?"+":"-",G=Math.floor(Math.abs(E/60)),re=Math.abs(E%60),ye=[F,B(G),"'",B(re),"'"].join("");return["D:",g.getFullYear(),B(g.getMonth()+1),B(g.getDate()),B(g.getHours()),B(g.getMinutes()),B(g.getSeconds()),ye].join("")},ge=p.__private__.convertPDFDateToDate=function(g){var E=parseInt(g.substr(2,4),10),F=parseInt(g.substr(6,2),10)-1,G=parseInt(g.substr(8,2),10),re=parseInt(g.substr(10,2),10),ye=parseInt(g.substr(12,2),10),Me=parseInt(g.substr(14,2),10);return new Date(E,F,G,re,ye,Me,0)},Ne=p.__private__.setCreationDate=function(g){var E;if(g===void 0&&(g=new Date),g instanceof Date)E=ue(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");E=g}return ce=E},I=p.__private__.getCreationDate=function(g){var E=ce;return g==="jsDate"&&(E=ge(ce)),E};p.setCreationDate=function(g){return Ne(g),this},p.getCreationDate=function(g){return I(g)};var L,B=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},$=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ee=0,le=[],de=[],he=0,Pe=[],Te=[],Be=!1,Le=de,pt=function(){ee=0,he=0,de=[],le=[],Pe=[],Ms=er(),so=er()};p.__private__.setCustomOutputDestination=function(g){Be=!0,Le=g};var _e=function(g){Be||(Le=g)};p.__private__.resetCustomOutputDestination=function(){Be=!1,Le=de};var V=p.__private__.out=function(g){return g=g.toString(),he+=g.length+1,Le.push(g),Le},It=p.__private__.write=function(g){return V(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Qe=p.__private__.getArrayBuffer=function(g){for(var E=g.length,F=new ArrayBuffer(E),G=new Uint8Array(F);E--;)G[E]=g.charCodeAt(E);return F},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ae};var ke=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return ke=O===S.ADVANCED?g/He:g,this};var Ue,je=p.__private__.getFontSize=p.getFontSize=function(){return O===S.COMPAT?ke:ke*He},ot=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return ot=g,this},p.__private__.getR2L=p.getR2L=function(){return ot};var Ct,Nt=p.__private__.setZoomMode=function(g){var E=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ue=g;else if(isNaN(g)){if(E.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ue=g}else Ue=parseInt(g,10)};p.__private__.getZoomMode=function(){return Ue};var Lt,Xt=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ct=g};p.__private__.getPageMode=function(){return Ct};var un=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Lt=g};p.__private__.getLayoutMode=function(){return Lt},p.__private__.setDisplayMode=p.setDisplayMode=function(g,E,F){return Nt(g),un(E),Xt(F),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(vt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[g]},p.__private__.getDocumentProperties=function(){return vt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var E in vt)vt.hasOwnProperty(E)&&g[E]&&(vt[E]=g[E]);return this},p.__private__.setDocumentProperty=function(g,E){if(Object.keys(vt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[g]=E};var Bt,He,kr,Zt,ro,gn={},Sn={},jo=[],rn={},pl={},Pn={},io={},Is=null,Nn=0,xt=[],on=new g6(p),gl=n.hotfixes||[],Sr={},Bo={},Vo=[],ut=function g(E,F,G,re,ye,Me){if(!(this instanceof g))return new g(E,F,G,re,ye,Me);isNaN(E)&&(E=1),isNaN(F)&&(F=0),isNaN(G)&&(G=0),isNaN(re)&&(re=1),isNaN(ye)&&(ye=0),isNaN(Me)&&(Me=0),this._matrix=[E,F,G,re,ye,Me]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(g)},ut.prototype.multiply=function(g){var E=g.sx*this.sx+g.shy*this.shx,F=g.sx*this.shy+g.shy*this.sy,G=g.shx*this.sx+g.sy*this.shx,re=g.shx*this.shy+g.sy*this.sy,ye=g.tx*this.sx+g.ty*this.shx+this.tx,Me=g.tx*this.shy+g.ty*this.sy+this.ty;return new ut(E,F,G,re,ye,Me)},ut.prototype.decompose=function(){var g=this.sx,E=this.shy,F=this.shx,G=this.sy,re=this.tx,ye=this.ty,Me=Math.sqrt(g*g+E*E),qe=(g/=Me)*F+(E/=Me)*G;F-=g*qe,G-=E*qe;var st=Math.sqrt(F*F+G*G);return qe/=st,g*(G/=st)<E*(F/=st)&&(g=-g,E=-E,qe=-qe,Me=-Me),{scale:new ut(Me,0,0,st,0,0),translate:new ut(1,0,0,1,re,ye),rotate:new ut(g,E,-E,g,0,0),skew:new ut(1,0,qe,1,0,0)}},ut.prototype.toString=function(g){return this.join(" ")},ut.prototype.inversed=function(){var g=this.sx,E=this.shy,F=this.shx,G=this.sy,re=this.tx,ye=this.ty,Me=1/(g*G-E*F),qe=G*Me,st=-E*Me,Mt=-F*Me,Et=g*Me;return new ut(qe,st,Mt,Et,-qe*re-Mt*ye,-st*re-Et*ye)},ut.prototype.applyToPoint=function(g){var E=g.x*this.sx+g.y*this.shx+this.tx,F=g.x*this.shy+g.y*this.sy+this.ty;return new qc(E,F)},ut.prototype.applyToRectangle=function(g){var E=this.applyToPoint(g),F=this.applyToPoint(new qc(g.x+g.w,g.y+g.h));return new nh(E.x,E.y,F.x-E.x,F.y-E.y)},ut.prototype.clone=function(){var g=this.sx,E=this.shy,F=this.shx,G=this.sy,re=this.tx,ye=this.ty;return new ut(g,E,F,G,re,ye)},p.Matrix=ut;var oo=p.matrixMult=function(g,E){return E.multiply(g)},Uo=new ut(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Uo;var Qr=function(g,E){if(!pl[g]){var F=(E instanceof ac?"Sh":"P")+(Object.keys(rn).length+1).toString(10);E.id=F,pl[g]=F,rn[F]=E,on.publish("addPattern",E)}};p.ShadingPattern=ac,p.TilingPattern=pd,p.addShadingPattern=function(g,E){return j("addShadingPattern()"),Qr(g,E),this},p.beginTilingPattern=function(g){j("beginTilingPattern()"),sg(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,E){j("endTilingPattern()"),E.stream=Te[L].join(`
`),Qr(g,E),on.publish("endTilingPattern",E),Vo.pop().restore()};var ur=p.__private__.newObject=function(){var g=er();return fi(g,!0),g},er=p.__private__.newObjectDeferred=function(){return ee++,le[ee]=function(){return he},ee},fi=function(g,E){return E=typeof E=="boolean"&&E,le[g]=he,E&&V(g+" 0 obj"),g},Tc=p.__private__.newAdditionalObject=function(){var g={objId:er(),content:""};return Pe.push(g),g},Ms=er(),so=er(),ao=p.__private__.decodeColorString=function(g){var E=g.split(" ");if(E.length!==2||E[1]!=="g"&&E[1]!=="G")E.length===5&&(E[4]==="k"||E[4]==="K")&&(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),"r"]);else{var F=parseFloat(E[0]);E=[F,F,F,"r"]}for(var G="#",re=0;re<3;re++)G+=("0"+Math.floor(255*parseFloat(E[re])).toString(16)).slice(-2);return G},lo=p.__private__.encodeColorString=function(g){var E;typeof g=="string"&&(g={ch1:g});var F=g.ch1,G=g.ch2,re=g.ch3,ye=g.ch4,Me=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof F=="string"&&F.charAt(0)!=="#"){var qe=new A6(F);if(qe.ok)F=qe.toHex();else if(!/^\d*\.?\d*$/.test(F))throw new Error('Invalid color "'+F+'" passed to jsPDF.encodeColorString.')}if(typeof F=="string"&&/^#[0-9A-Fa-f]{3}$/.test(F)&&(F="#"+F[1]+F[1]+F[2]+F[2]+F[3]+F[3]),typeof F=="string"&&/^#[0-9A-Fa-f]{6}$/.test(F)){var st=parseInt(F.substr(1),16);F=st>>16&255,G=st>>8&255,re=255&st}if(G===void 0||ye===void 0&&F===G&&G===re)if(typeof F=="string")E=F+" "+Me[0];else switch(g.precision){case 2:E=ie(F/255)+" "+Me[0];break;case 3:default:E=T(F/255)+" "+Me[0]}else if(ye===void 0||hn(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return E=["1.","1.","1.",Me[1]].join(" ");if(typeof F=="string")E=[F,G,re,Me[1]].join(" ");else switch(g.precision){case 2:E=[ie(F/255),ie(G/255),ie(re/255),Me[1]].join(" ");break;default:case 3:E=[T(F/255),T(G/255),T(re/255),Me[1]].join(" ")}}else if(typeof F=="string")E=[F,G,re,ye,Me[2]].join(" ");else switch(g.precision){case 2:E=[ie(F),ie(G),ie(re),ie(ye),Me[2]].join(" ");break;case 3:default:E=[T(F),T(G),T(re),T(ye),Me[2]].join(" ")}return E},Ho=p.__private__.getFilters=function(){return s},Ai=p.__private__.putStream=function(g){var E=(g=g||{}).data||"",F=g.filters||Ho(),G=g.alreadyAppliedFilters||[],re=g.addLength1||!1,ye=E.length,Me=g.objectId,qe=function(Lr){return Lr};if(d!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=Rr.encryptor(Me,0));var st={};F===!0&&(F=["FlateEncode"]);var Mt=g.additionalKeyValues||[],Et=(st=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(E,F):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(G)?G.join(" "):G.toString());if(st.data.length!==0&&(Mt.push({key:"Length",value:st.data.length}),re===!0&&Mt.push({key:"Length1",value:ye})),Et.length!=0)if(Et.split("/").length-1==1)Mt.push({key:"Filter",value:Et});else{Mt.push({key:"Filter",value:"["+Et+"]"});for(var Yt=0;Yt<Mt.length;Yt+=1)if(Mt[Yt].key==="DecodeParms"){for(var In=[],On=0;On<st.reverseChain.split("/").length-1;On+=1)In.push("null");In.push(Mt[Yt].value),Mt[Yt].value="["+In.join(" ")+"]"}}V("<<");for(var tr=0;tr<Mt.length;tr++)V("/"+Mt[tr].key+" "+Mt[tr].value);V(">>"),st.data.length!==0&&(V("stream"),V(qe(st.data)),V("endstream"))},qo=p.__private__.putPage=function(g){var E=g.number,F=g.data,G=g.objId,re=g.contentsObjId;fi(G,!0),V("<</Type /Page"),V("/Parent "+g.rootDictionaryObjId+" 0 R"),V("/Resources "+g.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(H(g.mediaBox.bottomLeftX))+" "+parseFloat(H(g.mediaBox.bottomLeftY))+" "+H(g.mediaBox.topRightX)+" "+H(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&V("/CropBox ["+H(g.cropBox.bottomLeftX)+" "+H(g.cropBox.bottomLeftY)+" "+H(g.cropBox.topRightX)+" "+H(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&V("/BleedBox ["+H(g.bleedBox.bottomLeftX)+" "+H(g.bleedBox.bottomLeftY)+" "+H(g.bleedBox.topRightX)+" "+H(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&V("/TrimBox ["+H(g.trimBox.bottomLeftX)+" "+H(g.trimBox.bottomLeftY)+" "+H(g.trimBox.topRightX)+" "+H(g.trimBox.topRightY)+"]"),g.artBox!==null&&V("/ArtBox ["+H(g.artBox.bottomLeftX)+" "+H(g.artBox.bottomLeftY)+" "+H(g.artBox.topRightX)+" "+H(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&V("/UserUnit "+g.userUnit),on.publish("putPage",{objId:G,pageContext:xt[E],pageNumber:E,page:F}),V("/Contents "+re+" 0 R"),V(">>"),V("endobj");var ye=F.join(`
`);return O===S.ADVANCED&&(ye+=`
Q`),fi(re,!0),Ai({data:ye,filters:Ho(),objectId:re}),V("endobj"),G},ml=p.__private__.putPages=function(){var g,E,F=[];for(g=1;g<=Nn;g++)xt[g].objId=er(),xt[g].contentsObjId=er();for(g=1;g<=Nn;g++)F.push(qo({number:g,data:Te[g],objId:xt[g].objId,contentsObjId:xt[g].contentsObjId,mediaBox:xt[g].mediaBox,cropBox:xt[g].cropBox,bleedBox:xt[g].bleedBox,trimBox:xt[g].trimBox,artBox:xt[g].artBox,userUnit:xt[g].userUnit,rootDictionaryObjId:Ms,resourceDictionaryObjId:so}));fi(Ms,!0),V("<</Type /Pages");var G="/Kids [";for(E=0;E<Nn;E++)G+=F[E]+" 0 R ";V(G+"]"),V("/Count "+Nn),V(">>"),V("endobj"),on.publish("postPutPages")},Pc=function(g){on.publish("putFont",{font:g,out:V,newObject:ur,putStream:Ai}),g.isAlreadyPutted!==!0&&(g.objectNumber=ur(),V("<<"),V("/Type /Font"),V("/BaseFont /"+fd(g.postScriptName)),V("/Subtype /Type1"),typeof g.encoding=="string"&&V("/Encoding /"+g.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},Nc=function(){for(var g in gn)gn.hasOwnProperty(g)&&(f===!1||f===!0&&m.hasOwnProperty(g))&&Pc(gn[g])},Oc=function(g){g.objectNumber=ur();var E=[];E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Form"}),E.push({key:"BBox",value:"["+[H(g.x),H(g.y),H(g.x+g.width),H(g.y+g.height)].join(" ")+"]"}),E.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var F=g.pages[1].join(`
`);Ai({data:F,additionalKeyValues:E,objectId:g.objectNumber}),V("endobj")},kc=function(){for(var g in Sr)Sr.hasOwnProperty(g)&&Oc(Sr[g])},Hp=function(g,E){var F,G=[],re=1/(E-1);for(F=0;F<1;F+=re)G.push(F);if(G.push(1),g[0].offset!=0){var ye={offset:0,color:g[0].color};g.unshift(ye)}if(g[g.length-1].offset!=1){var Me={offset:1,color:g[g.length-1].color};g.push(Me)}for(var qe="",st=0,Mt=0;Mt<G.length;Mt++){for(F=G[Mt];F>g[st+1].offset;)st++;var Et=g[st].offset,Yt=(F-Et)/(g[st+1].offset-Et),In=g[st].color,On=g[st+1].color;qe+=$(Math.round((1-Yt)*In[0]+Yt*On[0]).toString(16))+$(Math.round((1-Yt)*In[1]+Yt*On[1]).toString(16))+$(Math.round((1-Yt)*In[2]+Yt*On[2]).toString(16))}return qe.trim()},G2=function(g,E){E||(E=21);var F=ur(),G=Hp(g.colors,E),re=[];re.push({key:"FunctionType",value:"0"}),re.push({key:"Domain",value:"[0.0 1.0]"}),re.push({key:"Size",value:"["+E+"]"}),re.push({key:"BitsPerSample",value:"8"}),re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ai({data:G,additionalKeyValues:re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:F}),V("endobj"),g.objectNumber=ur(),V("<< /ShadingType "+g.type),V("/ColorSpace /DeviceRGB");var ye="/Coords ["+H(parseFloat(g.coords[0]))+" "+H(parseFloat(g.coords[1]))+" ";g.type===2?ye+=H(parseFloat(g.coords[2]))+" "+H(parseFloat(g.coords[3])):ye+=H(parseFloat(g.coords[2]))+" "+H(parseFloat(g.coords[3]))+" "+H(parseFloat(g.coords[4]))+" "+H(parseFloat(g.coords[5])),V(ye+="]"),g.matrix&&V("/Matrix ["+g.matrix.toString()+"]"),V("/Function "+F+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},$2=function(g,E){var F=er(),G=ur();E.push({resourcesOid:F,objectOid:G}),g.objectNumber=G;var re=[];re.push({key:"Type",value:"/Pattern"}),re.push({key:"PatternType",value:"1"}),re.push({key:"PaintType",value:"1"}),re.push({key:"TilingType",value:"1"}),re.push({key:"BBox",value:"["+g.boundingBox.map(H).join(" ")+"]"}),re.push({key:"XStep",value:H(g.xStep)}),re.push({key:"YStep",value:H(g.yStep)}),re.push({key:"Resources",value:F+" 0 R"}),g.matrix&&re.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Ai({data:g.stream,additionalKeyValues:re,objectId:g.objectNumber}),V("endobj")},Rc=function(g){var E;for(E in rn)rn.hasOwnProperty(E)&&(rn[E]instanceof ac?G2(rn[E]):rn[E]instanceof pd&&$2(rn[E],g))},qp=function(g){for(var E in g.objectNumber=ur(),V("<<"),g)switch(E){case"opacity":V("/ca "+ie(g[E]));break;case"stroke-opacity":V("/CA "+ie(g[E]))}V(">>"),V("endobj")},W2=function(){var g;for(g in Pn)Pn.hasOwnProperty(g)&&qp(Pn[g])},$d=function(){for(var g in V("/XObject <<"),Sr)Sr.hasOwnProperty(g)&&Sr[g].objectNumber>=0&&V("/"+g+" "+Sr[g].objectNumber+" 0 R");on.publish("putXobjectDict"),V(">>")},Y2=function(){Rr.oid=ur(),V("<<"),V("/Filter /Standard"),V("/V "+Rr.v),V("/R "+Rr.r),V("/U <"+Rr.toHexString(Rr.U)+">"),V("/O <"+Rr.toHexString(Rr.O)+">"),V("/P "+Rr.P),V(">>"),V("endobj")},zp=function(){for(var g in V("/Font <<"),gn)gn.hasOwnProperty(g)&&(f===!1||f===!0&&m.hasOwnProperty(g))&&V("/"+g+" "+gn[g].objectNumber+" 0 R");V(">>")},K2=function(){if(Object.keys(rn).length>0){for(var g in V("/Shading <<"),rn)rn.hasOwnProperty(g)&&rn[g]instanceof ac&&rn[g].objectNumber>=0&&V("/"+g+" "+rn[g].objectNumber+" 0 R");on.publish("putShadingPatternDict"),V(">>")}},Lc=function(g){if(Object.keys(rn).length>0){for(var E in V("/Pattern <<"),rn)rn.hasOwnProperty(E)&&rn[E]instanceof p.TilingPattern&&rn[E].objectNumber>=0&&rn[E].objectNumber<g&&V("/"+E+" "+rn[E].objectNumber+" 0 R");on.publish("putTilingPatternDict"),V(">>")}},X2=function(){if(Object.keys(Pn).length>0){var g;for(g in V("/ExtGState <<"),Pn)Pn.hasOwnProperty(g)&&Pn[g].objectNumber>=0&&V("/"+g+" "+Pn[g].objectNumber+" 0 R");on.publish("putGStateDict"),V(">>")}},Un=function(g){fi(g.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),zp(),K2(),Lc(g.objectOid),X2(),$d(),V(">>"),V("endobj")},Gp=function(){var g=[];Nc(),W2(),kc(),Rc(g),on.publish("putResources"),g.forEach(Un),Un({resourcesOid:so,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources")},$p=function(){on.publish("putAdditionalObjects");for(var g=0;g<Pe.length;g++){var E=Pe[g];fi(E.objId,!0),V(E.content),V("endobj")}on.publish("postPutAdditionalObjects")},Wp=function(g){Sn[g.fontName]=Sn[g.fontName]||{},Sn[g.fontName][g.fontStyle]=g.id},Wd=function(g,E,F,G,re){var ye={id:"F"+(Object.keys(gn).length+1).toString(10),postScriptName:g,fontName:E,fontStyle:F,encoding:G,isStandardFont:re||!1,metadata:{}};return on.publish("addFont",{font:ye,instance:this}),gn[ye.id]=ye,Wp(ye),ye.id},J2=function(g){for(var E=0,F=Ae.length;E<F;E++){var G=Wd.call(this,g[E][0],g[E][1],g[E][2],Ae[E][3],!0);f===!1&&(m[G]=!0);var re=g[E][0].split("-");Wp({id:G,fontName:re[0],fontStyle:re[1]||""})}on.publish("addFonts",{fonts:gn,dictionary:Sn})},co=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(G){var E=G.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var F="Error in function "+E.split(`
`)[0].split("<")[0]+": "+G.message;if(!mt.console)throw new Error(F);mt.console.error(F,G),mt.alert&&alert(F)}},g.foo.bar=g,g.foo},Fc=function(g,E){var F,G,re,ye,Me,qe,st,Mt,Et;if(re=(E=E||{}).sourceEncoding||"Unicode",Me=E.outputEncoding,(E.autoencode||Me)&&gn[Bt].metadata&&gn[Bt].metadata[re]&&gn[Bt].metadata[re].encoding&&(ye=gn[Bt].metadata[re].encoding,!Me&&gn[Bt].encoding&&(Me=gn[Bt].encoding),!Me&&ye.codePages&&(Me=ye.codePages[0]),typeof Me=="string"&&(Me=ye[Me]),Me)){for(st=!1,qe=[],F=0,G=g.length;F<G;F++)(Mt=Me[g.charCodeAt(F)])?qe.push(String.fromCharCode(Mt)):qe.push(g[F]),qe[F].charCodeAt(0)>>8&&(st=!0);g=qe.join("")}for(F=g.length;st===void 0&&F!==0;)g.charCodeAt(F-1)>>8&&(st=!0),F--;if(!st)return g;for(qe=E.noBOM?[]:[254,255],F=0,G=g.length;F<G;F++){if((Et=(Mt=g.charCodeAt(F))>>8)>>8)throw new Error("Character at position "+F+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(Et),qe.push(Mt-(Et<<8))}return String.fromCharCode.apply(void 0,qe)},ei=p.__private__.pdfEscape=p.pdfEscape=function(g,E){return Fc(g,E).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yd=p.__private__.beginPage=function(g){Te[++Nn]=[],xt[Nn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Kp(Nn),_e(Te[L])},Yp=function(g,E){var F,G,re;switch(t=E||t,typeof g=="string"&&(F=w(g.toLowerCase()),Array.isArray(F)&&(G=F[0],re=F[1])),Array.isArray(g)&&(G=g[0]*He,re=g[1]*He),isNaN(G)&&(G=i[0],re=i[1]),(G>14400||re>14400)&&(vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),G=Math.min(14400,G),re=Math.min(14400,re)),i=[G,re],t.substr(0,1)){case"l":re>G&&(i=[re,G]);break;case"p":G>re&&(i=[re,G])}Yd(i),tg(Zd),V(uo),eh!==0&&V(eh+" J"),th!==0&&V(th+" j"),on.publish("addPage",{pageNumber:Nn})},Z2=function(g){g>0&&g<=Nn&&(Te.splice(g,1),xt.splice(g,1),Nn--,L>Nn&&(L=Nn),this.setPage(L))},Kp=function(g){g>0&&g<=Nn&&(L=g)},Q2=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Te.length-1},Xp=function(g,E,F){var G,re=void 0;return F=F||{},g=g!==void 0?g:gn[Bt].fontName,E=E!==void 0?E:gn[Bt].fontStyle,G=g.toLowerCase(),Sn[G]!==void 0&&Sn[G][E]!==void 0?re=Sn[G][E]:Sn[g]!==void 0&&Sn[g][E]!==void 0?re=Sn[g][E]:F.disableWarning===!1&&vn.warn("Unable to look up font label for font '"+g+"', '"+E+"'. Refer to getFontList() for available fonts."),re||F.noFallback||(re=Sn.times[E])==null&&(re=Sn.times.normal),re},ey=p.__private__.putInfo=function(){var g=ur(),E=function(G){return G};for(var F in d!==null&&(E=Rr.encryptor(g,0)),V("<<"),V("/Producer ("+ei(E("jsPDF "+ct.version))+")"),vt)vt.hasOwnProperty(F)&&vt[F]&&V("/"+F.substr(0,1).toUpperCase()+F.substr(1)+" ("+ei(E(vt[F]))+")");V("/CreationDate ("+ei(E(ce))+")"),V(">>"),V("endobj")},Kd=p.__private__.putCatalog=function(g){var E=(g=g||{}).rootDictionaryObjId||Ms;switch(ur(),V("<<"),V("/Type /Catalog"),V("/Pages "+E+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var F=""+Ue;F.substr(F.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&V("/OpenAction [3 0 R /XYZ null null "+ie(Ue)+"]")}switch(Lt||(Lt="continuous"),Lt){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}Ct&&V("/PageMode /"+Ct),on.publish("putCatalog"),V(">>"),V("endobj")},ty=p.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(ee+1)),V("/Root "+ee+" 0 R"),V("/Info "+(ee-1)+" 0 R"),d!==null&&V("/Encrypt "+Rr.oid+" 0 R"),V("/ID [ <"+ae+"> <"+ae+"> ]"),V(">>")},ny=p.__private__.putHeader=function(){V("%PDF-"+y),V("%\xBA\xDF\xAC\xE0")},ry=p.__private__.putXRef=function(){var g="0000000000";V("xref"),V("0 "+(ee+1)),V("0000000000 65535 f ");for(var E=1;E<=ee;E++)typeof le[E]=="function"?V((g+le[E]()).slice(-10)+" 00000 n "):le[E]!==void 0?V((g+le[E]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},As=p.__private__.buildDocument=function(){pt(),_e(de),on.publish("buildDocument"),ny(),ml(),$p(),Gp(),d!==null&&Y2(),ey(),Kd();var g=he;return ry(),ty(),V("startxref"),V(""+g),V("%%EOF"),_e(Te[L]),de.join(`
`)},jc=p.__private__.getBlob=function(g){return new Blob([Qe(g)],{type:"application/pdf"})},Bc=p.output=p.__private__.output=co(function(g,E){switch(typeof(E=E||{})=="string"?E={filename:E}:E.filename=E.filename||"generated.pdf",g){case void 0:return As();case"save":p.save(E.filename);break;case"arraybuffer":return Qe(As());case"blob":return jc(As());case"bloburi":case"bloburl":if(mt.URL!==void 0&&typeof mt.URL.createObjectURL=="function")return mt.URL&&mt.URL.createObjectURL(jc(As()))||void 0;vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var F="",G=As();try{F=Kw(G)}catch{F=Kw(unescape(encodeURIComponent(G)))}return"data:application/pdf;filename="+E.filename+";base64,"+F;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';E.pdfObjectUrl&&(re=E.pdfObjectUrl,ye="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+re+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(E)+");<\/script></body></html>",qe=mt.open();return qe!==null&&qe.document.write(Me),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(E.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+E.filename+'" width="500px" height="400px" /></body></html>',Mt=mt.open();if(Mt!==null){Mt.document.write(st);var Et=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=E.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",E)+'"></iframe></body></html>',In=mt.open();if(In!==null&&(In.document.write(Yt),In.document.title=E.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",E);default:return null}}),Jp=function(g){return Array.isArray(gl)===!0&&gl.indexOf(g)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=Jp("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var Rr=null;Ne(),X();var iy=function(g){return d!==null?Rr.encryptor(g,0):function(E){return E}},Zp=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[g].objId,pageNumber:g,pageContext:xt[g]}},yt=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var E in xt)if(xt[E].objId===g)break;return Zp(E)},oy=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:xt[L].objId,pageNumber:L,pageContext:xt[L]}};p.addPage=function(){return Yp.apply(this,arguments),this},p.setPage=function(){return Kp.apply(this,arguments),_e.call(this,Te[L]),this},p.insertPage=function(g){return this.addPage(),this.movePage(L,g),this},p.movePage=function(g,E){var F,G;if(g>E){F=Te[g],G=xt[g];for(var re=g;re>E;re--)Te[re]=Te[re-1],xt[re]=xt[re-1];Te[E]=F,xt[E]=G,this.setPage(E)}else if(g<E){F=Te[g],G=xt[g];for(var ye=g;ye<E;ye++)Te[ye]=Te[ye+1],xt[ye]=xt[ye+1];Te[E]=F,xt[E]=G,this.setPage(E)}return this},p.deletePage=function(){return Z2.apply(this,arguments),this},p.__private__.text=p.text=function(g,E,F,G,re){var ye,Me,qe,st,Mt,Et,Yt,In,On,tr=(G=G||{}).scope||this;if(typeof g=="number"&&typeof E=="number"&&(typeof F=="string"||Array.isArray(F))){var Lr=F;F=E,E=g,g=Lr}if(arguments[3]instanceof ut?(j("The transform parameter of text() with a Matrix value"),On=re):(qe=arguments[4],st=arguments[5],hn(Yt=arguments[3])==="object"&&Yt!==null||(typeof qe=="string"&&(st=qe,qe=null),typeof Yt=="string"&&(st=Yt,Yt=null),typeof Yt=="number"&&(qe=Yt,Yt=null),G={flags:Yt,angle:qe,align:st})),isNaN(E)||isNaN(F)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return tr;var vr="",ho=!1,pi=typeof G.lineHeightFactor=="number"?G.lineHeightFactor:yl,$o=tr.internal.scaleFactor;function ag(bn){return bn=bn.split("	").join(Array(G.TabLen||9).join(" ")),ei(bn,Yt)}function sh(bn){for(var _n,qn=bn.concat(),dr=[],ks=qn.length;ks--;)typeof(_n=qn.shift())=="string"?dr.push(_n):Array.isArray(bn)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?dr.push(_n[0]):dr.push([_n[0],_n[1],_n[2]]);return dr}function ah(bn,_n){var qn;if(typeof bn=="string")qn=_n(bn)[0];else if(Array.isArray(bn)){for(var dr,ks,gh=bn.concat(),eu=[],hg=gh.length;hg--;)typeof(dr=gh.shift())=="string"?eu.push(_n(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(ks=_n(dr[0],dr[1],dr[2]),eu.push([ks[0],ks[1],ks[2]]));qn=eu}return qn}var Gc=!1,lh=!0;if(typeof g=="string")Gc=!0;else if(Array.isArray(g)){var ch=g.concat();Me=[];for(var $c,Dr=ch.length;Dr--;)(typeof($c=ch.shift())!="string"||Array.isArray($c)&&typeof $c[0]!="string")&&(lh=!1);Gc=lh}if(Gc===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Wc=ke/tr.internal.scaleFactor,Yc=Wc*(pi-1);switch(G.baseline){case"bottom":F-=Yc;break;case"top":F+=Wc-Yc;break;case"hanging":F+=Wc-2*Yc;break;case"middle":F+=Wc/2-Yc}if((Et=G.maxWidth||0)>0&&(typeof g=="string"?g=tr.splitTextToSize(g,Et):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(bn,_n){return bn.concat(tr.splitTextToSize(_n,Et))},[]))),ye={text:g,x:E,y:F,options:G,mutex:{pdfEscape:ei,activeFontKey:Bt,fonts:gn,activeFontSize:ke}},on.publish("preProcessText",ye),g=ye.text,qe=(G=ye.options).angle,!(On instanceof ut)&&qe&&typeof qe=="number"){qe*=Math.PI/180,G.rotationDirection===0&&(qe=-qe),O===S.ADVANCED&&(qe=-qe);var Kc=Math.cos(qe),uh=Math.sin(qe);On=new ut(Kc,uh,-uh,Kc,0,0)}else qe&&qe instanceof ut&&(On=qe);O!==S.ADVANCED||On||(On=Uo),(Mt=G.charSpace||Hc)!==void 0&&(vr+=H(P(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=G.horizontalScale)!==void 0&&(vr+=H(100*In)+` Tz
`),G.lang;var ti=-1,gy=G.renderingMode!==void 0?G.renderingMode:G.stroke,dh=tr.internal.getCurrentPageInfo().pageContext;switch(gy){case 0:case!1:case"fill":ti=0;break;case 1:case!0:case"stroke":ti=1;break;case 2:case"fillThenStroke":ti=2;break;case 3:case"invisible":ti=3;break;case 4:case"fillAndAddForClipping":ti=4;break;case 5:case"strokeAndAddPathForClipping":ti=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ti=6;break;case 7:case"addToPathForClipping":ti=7}var lg=dh.usedRenderingMode!==void 0?dh.usedRenderingMode:-1;ti!==-1?vr+=ti+` Tr
`:lg!==-1&&(vr+=`0 Tr
`),ti!==-1&&(dh.usedRenderingMode=ti),st=G.align||"left";var Ti,Xc=ke*pi,cg=tr.internal.pageSize.getWidth(),ug=gn[Bt];Mt=G.charSpace||Hc,Et=G.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},G.flags);var ba=[],wl=function(bn){return tr.getStringUnitWidth(bn,{font:ug,charSpace:Mt,fontSize:ke,doKerning:!1})*ke/$o};if(Object.prototype.toString.call(g)==="[object Array]"){var ni;Me=sh(g),st!=="left"&&(Ti=Me.map(wl));var Gr,_a=0;if(st==="right"){E-=Ti[0],g=[],Dr=Me.length;for(var Ps=0;Ps<Dr;Ps++)Ps===0?(Gr=Go(E),ni=Ts(F)):(Gr=P(_a-Ti[Ps]),ni=-Xc),g.push([Me[Ps],Gr,ni]),_a=Ti[Ps]}else if(st==="center"){E-=Ti[0]/2,g=[],Dr=Me.length;for(var Ns=0;Ns<Dr;Ns++)Ns===0?(Gr=Go(E),ni=Ts(F)):(Gr=P((_a-Ti[Ns])/2),ni=-Xc),g.push([Me[Ns],Gr,ni]),_a=Ti[Ns]}else if(st==="left"){g=[],Dr=Me.length;for(var Jc=0;Jc<Dr;Jc++)g.push(Me[Jc])}else if(st==="justify"&&ug.encoding==="Identity-H"){g=[],Dr=Me.length,Et=Et!==0?Et:cg;for(var Os=0,Hn=0;Hn<Dr;Hn++)if(ni=Hn===0?Ts(F):-Xc,Gr=Hn===0?Go(E):Os,Hn<Dr-1){var hh=P((Et-Ti[Hn])/(Me[Hn].split(" ").length-1)),$r=Me[Hn].split(" ");g.push([$r[0]+" ",Gr,ni]),Os=0;for(var Pi=1;Pi<$r.length;Pi++){var Zc=(wl($r[Pi-1]+" "+$r[Pi])-wl($r[Pi]))*$o+hh;Pi==$r.length-1?g.push([$r[Pi],Zc,0]):g.push([$r[Pi]+" ",Zc,0]),Os-=Zc}}else g.push([Me[Hn],Gr,ni]);g.push(["",Os,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Dr=Me.length,Et=Et!==0?Et:cg,Hn=0;Hn<Dr;Hn++)ni=Hn===0?Ts(F):-Xc,Gr=Hn===0?Go(E):0,Hn<Dr-1?ba.push(H(P((Et-Ti[Hn])/(Me[Hn].split(" ").length-1)))):ba.push(0),g.push([Me[Hn],Gr,ni])}}var dg=typeof G.R2L=="boolean"?G.R2L:ot;dg===!0&&(g=ah(g,function(bn,_n,qn){return[bn.split("").reverse().join(""),_n,qn]})),ye={text:g,x:E,y:F,options:G,mutex:{pdfEscape:ei,activeFontKey:Bt,fonts:gn,activeFontSize:ke}},on.publish("postProcessText",ye),g=ye.text,ho=ye.mutex.isHex||!1;var fh=gn[Bt].encoding;fh!=="WinAnsiEncoding"&&fh!=="StandardEncoding"||(g=ah(g,function(bn,_n,qn){return[ag(bn),_n,qn]})),Me=sh(g),g=[];for(var Cl,xl,wa,El=0,Qc=1,Sl=Array.isArray(Me[0])?Qc:El,Ca="",ph=function(bn,_n,qn){var dr="";return qn instanceof ut?(qn=typeof G.angle=="number"?oo(qn,new ut(1,0,0,1,bn,_n)):oo(new ut(1,0,0,1,bn,_n),qn),O===S.ADVANCED&&(qn=oo(new ut(1,0,0,-1,0,0),qn)),dr=qn.join(" ")+` Tm
`):dr=H(bn)+" "+H(_n)+` Td
`,dr},Ni=0;Ni<Me.length;Ni++){switch(Ca="",Sl){case Qc:wa=(ho?"<":"(")+Me[Ni][0]+(ho?">":")"),Cl=parseFloat(Me[Ni][1]),xl=parseFloat(Me[Ni][2]);break;case El:wa=(ho?"<":"(")+Me[Ni]+(ho?">":")"),Cl=Go(E),xl=Ts(F)}ba!==void 0&&ba[Ni]!==void 0&&(Ca=ba[Ni]+` Tw
`),Ni===0?g.push(Ca+ph(Cl,xl,On)+wa):Sl===El?g.push(Ca+wa):Sl===Qc&&g.push(Ca+ph(Cl,xl,On)+wa)}g=Sl===El?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Oi=`BT
/`;return Oi+=Bt+" "+ke+` Tf
`,Oi+=H(ke*pi)+` TL
`,Oi+=bl+`
`,Oi+=vr,Oi+=g,V(Oi+="ET"),m[Bt]=!0,tr};var sy=p.__private__.clip=p.clip=function(g){return V(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return sy("evenodd")},p.__private__.discardPath=p.discardPath=function(){return V("n"),this};var zo=p.__private__.isValidStyle=function(g){var E=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(E=!0),E};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return zo(g)&&(c=g),this};var Qp=p.__private__.getStyle=p.getStyle=function(g){var E=c;switch(g){case"D":case"S":E="S";break;case"F":E="f";break;case"FD":case"DF":E="B";break;case"f":case"f*":case"B":case"B*":E=g}return E},eg=p.close=function(){return V("h"),this};p.stroke=function(){return V("S"),this},p.fill=function(g){return Vc("f",g),this},p.fillEvenOdd=function(g){return Vc("f*",g),this},p.fillStroke=function(g){return Vc("B",g),this},p.fillStrokeEvenOdd=function(g){return Vc("B*",g),this};var Vc=function(g,E){hn(E)==="object"?ly(E,g):V(g)},Xd=function(g){g===null||O===S.ADVANCED&&g===void 0||(g=Qp(g),V(g))};function ay(g,E,F,G,re){var ye=new pd(E||this.boundingBox,F||this.xStep,G||this.yStep,this.gState,re||this.matrix);ye.stream=this.stream;var Me=g+"$$"+this.cloneIndex+++"$$";return Qr(Me,ye),ye}var ly=function(g,E){var F=pl[g.key],G=rn[F];if(G instanceof ac)V("q"),V(cy(E)),G.gState&&p.setGState(G.gState),V(g.matrix.toString()+" cm"),V("/"+F+" sh"),V("Q");else if(G instanceof pd){var re=new ut(1,0,0,-1,0,ya());g.matrix&&(re=re.multiply(g.matrix||Uo),F=ay.call(G,g.key,g.boundingBox,g.xStep,g.yStep,re).id),V("q"),V("/Pattern cs"),V("/"+F+" scn"),G.gState&&p.setGState(G.gState),V(E),V("Q")}},cy=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jd=p.moveTo=function(g,E){return V(H(P(g))+" "+H(U(E))+" m"),this},vl=p.lineTo=function(g,E){return V(H(P(g))+" "+H(U(E))+" l"),this},ma=p.curveTo=function(g,E,F,G,re,ye){return V([H(P(g)),H(U(E)),H(P(F)),H(U(G)),H(P(re)),H(U(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,E,F,G,re){if(isNaN(g)||isNaN(E)||isNaN(F)||isNaN(G)||!zo(re))throw new Error("Invalid arguments passed to jsPDF.line");return O===S.COMPAT?this.lines([[F-g,G-E]],g,E,[1,1],re||"S"):this.lines([[F-g,G-E]],g,E,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,E,F,G,re,ye){var Me,qe,st,Mt,Et,Yt,In,On,tr,Lr,vr,ho;if(typeof g=="number"&&(ho=F,F=E,E=g,g=ho),G=G||[1,1],ye=ye||!1,isNaN(E)||isNaN(F)||!Array.isArray(g)||!Array.isArray(G)||!zo(re)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jd(E,F),Me=G[0],qe=G[1],Mt=g.length,Lr=E,vr=F,st=0;st<Mt;st++)(Et=g[st]).length===2?(Lr=Et[0]*Me+Lr,vr=Et[1]*qe+vr,vl(Lr,vr)):(Yt=Et[0]*Me+Lr,In=Et[1]*qe+vr,On=Et[2]*Me+Lr,tr=Et[3]*qe+vr,Lr=Et[4]*Me+Lr,vr=Et[5]*qe+vr,ma(Yt,In,On,tr,Lr,vr));return ye&&eg(),Xd(re),this},p.path=function(g){for(var E=0;E<g.length;E++){var F=g[E],G=F.c;switch(F.op){case"m":Jd(G[0],G[1]);break;case"l":vl(G[0],G[1]);break;case"c":ma.apply(this,G);break;case"h":eg()}}return this},p.__private__.rect=p.rect=function(g,E,F,G,re){if(isNaN(g)||isNaN(E)||isNaN(F)||isNaN(G)||!zo(re))throw new Error("Invalid arguments passed to jsPDF.rect");return O===S.COMPAT&&(G=-G),V([H(P(g)),H(U(E)),H(P(F)),H(P(G)),"re"].join(" ")),Xd(re),this},p.__private__.triangle=p.triangle=function(g,E,F,G,re,ye,Me){if(isNaN(g)||isNaN(E)||isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ye)||!zo(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[F-g,G-E],[re-F,ye-G],[g-re,E-ye]],g,E,[1,1],Me,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,E,F,G,re,ye,Me){if(isNaN(g)||isNaN(E)||isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ye)||!zo(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return re=Math.min(re,.5*F),ye=Math.min(ye,.5*G),this.lines([[F-2*re,0],[re*qe,0,re,ye-ye*qe,re,ye],[0,G-2*ye],[0,ye*qe,-re*qe,ye,-re,ye],[2*re-F,0],[-re*qe,0,-re,-ye*qe,-re,-ye],[0,2*ye-G],[0,-ye*qe,re*qe,-ye,re,-ye]],g+re,E,[1,1],Me,!0),this},p.__private__.ellipse=p.ellipse=function(g,E,F,G,re){if(isNaN(g)||isNaN(E)||isNaN(F)||isNaN(G)||!zo(re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*F,Me=4/3*(Math.SQRT2-1)*G;return Jd(g+F,E),ma(g+F,E-Me,g+ye,E-G,g,E-G),ma(g-ye,E-G,g-F,E-Me,g-F,E),ma(g-F,E+Me,g-ye,E+G,g,E+G),ma(g+ye,E+G,g+F,E+Me,g+F,E),Xd(re),this},p.__private__.circle=p.circle=function(g,E,F,G){if(isNaN(g)||isNaN(E)||isNaN(F)||!zo(G))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,E,F,F,G)},p.setFont=function(g,E,F){return F&&(E=J(E,F)),Bt=Xp(g,E,{disableWarning:!1}),this};var uy=p.__private__.getFont=p.getFont=function(){return gn[Xp.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,E,F={};for(g in Sn)if(Sn.hasOwnProperty(g))for(E in F[g]=[],Sn[g])Sn[g].hasOwnProperty(E)&&F[g].push(E);return F},p.addFont=function(g,E,F,G,re){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?re=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(F=J(F,G)),re=re||"Identity-H",Wd.call(this,g,E,F,re)};var yl,Zd=n.lineWidth||.200025,Uc=p.__private__.getLineWidth=p.getLineWidth=function(){return Zd},tg=p.__private__.setLineWidth=p.setLineWidth=function(g){return Zd=g,V(H(P(g))+" w"),this};p.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(g,E){if(g=g||[],E=E||0,isNaN(E)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(F){return H(P(F))}).join(" "),E=H(P(E)),V("["+g+"] "+E+" d"),this};var ng=p.__private__.getLineHeight=p.getLineHeight=function(){return ke*yl};p.__private__.getLineHeight=p.getLineHeight=function(){return ke*yl};var rg=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(yl=g),this},ig=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return yl};rg(n.lineHeight);var Go=p.__private__.getHorizontalCoordinate=function(g){return P(g)},Ts=p.__private__.getVerticalCoordinate=function(g){return O===S.ADVANCED?g:xt[L].mediaBox.topRightY-xt[L].mediaBox.bottomLeftY-P(g)},dy=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return H(Go(g))},va=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return H(Ts(g))},uo=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ao(uo)},p.__private__.setStrokeColor=p.setDrawColor=function(g,E,F,G){return uo=lo({ch1:g,ch2:E,ch3:F,ch4:G,pdfColorType:"draw",precision:2}),V(uo),this};var Qd=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ao(Qd)},p.__private__.setFillColor=p.setFillColor=function(g,E,F,G){return Qd=lo({ch1:g,ch2:E,ch3:F,ch4:G,pdfColorType:"fill",precision:2}),V(Qd),this};var bl=n.textColor||"0 g",hy=p.__private__.getTextColor=p.getTextColor=function(){return ao(bl)};p.__private__.setTextColor=p.setTextColor=function(g,E,F,G){return bl=lo({ch1:g,ch2:E,ch3:F,ch4:G,pdfColorType:"text",precision:3}),this};var Hc=n.charSpace,fy=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Hc||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hc=g,this};var eh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var E=p.CapJoinStyles[g];if(E===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eh=E,V(E+" J"),this};var th=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var E=p.CapJoinStyles[g];if(E===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return th=E,V(E+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(H(P(g))+" M"),this},p.GState=G1,p.setGState=function(g){(g=typeof g=="string"?Pn[io[g]]:og(null,g)).equals(Is)||(V("/"+g.id+" gs"),Is=g)};var og=function(g,E){if(!g||!io[g]){var F=!1;for(var G in Pn)if(Pn.hasOwnProperty(G)&&Pn[G].equals(E)){F=!0;break}if(F)E=Pn[G];else{var re="GS"+(Object.keys(Pn).length+1).toString(10);Pn[re]=E,E.id=re}return g&&(io[g]=E.id),on.publish("addGState",E),E}};p.addGState=function(g,E){return og(g,E),this},p.saveGraphicsState=function(){return V("q"),jo.push({key:Bt,size:ke,color:bl}),this},p.restoreGraphicsState=function(){V("Q");var g=jo.pop();return Bt=g.key,ke=g.size,bl=g.color,Is=null,this},p.setCurrentTransformationMatrix=function(g){return V(g.toString()+" cm"),this},p.comment=function(g){return V("#"+g),this};var qc=function(g,E){var F=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return F},set:function(ye){isNaN(ye)||(F=parseFloat(ye))}});var G=E||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return G},set:function(ye){isNaN(ye)||(G=parseFloat(ye))}});var re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return re},set:function(ye){re=ye.toString()}}),this},nh=function(g,E,F,G){qc.call(this,g,E),this.type="rect";var re=F||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return re},set:function(Me){isNaN(Me)||(re=parseFloat(Me))}});var ye=G||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Me){isNaN(Me)||(ye=parseFloat(Me))}}),this},rh=function(){this.page=Nn,this.currentPage=L,this.pages=Te.slice(0),this.pagesContext=xt.slice(0),this.x=kr,this.y=Zt,this.matrix=ro,this.width=_l(L),this.height=ya(L),this.outputDestination=Le,this.id="",this.objectNumber=-1};rh.prototype.restore=function(){Nn=this.page,L=this.currentPage,xt=this.pagesContext,Te=this.pages,kr=this.x,Zt=this.y,ro=this.matrix,ih(L,this.width),oh(L,this.height),Le=this.outputDestination};var sg=function(g,E,F,G,re){Vo.push(new rh),Nn=L=0,Te=[],kr=g,Zt=E,ro=re,Yd([F,G])},py=function(g){if(Bo[g])Vo.pop().restore();else{var E=new rh,F="Xo"+(Object.keys(Sr).length+1).toString(10);E.id=F,Bo[g]=F,Sr[F]=E,on.publish("addFormObject",E),Vo.pop().restore()}};for(var zc in p.beginFormObject=function(g,E,F,G,re){return sg(g,E,F,G,re),this},p.endFormObject=function(g){return py(g),this},p.doFormObject=function(g,E){var F=Sr[Bo[g]];return V("q"),V(E.toString()+" cm"),V("/"+F.id+" Do"),V("Q"),this},p.getFormObject=function(g){var E=Sr[Bo[g]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},p.save=function(g,E){return g=g||"generated.pdf",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?(sc(jc(As()),g),typeof sc.unload=="function"&&mt.setTimeout&&setTimeout(sc.unload,911),this):new Promise(function(F,G){try{var re=sc(jc(As()),g);typeof sc.unload=="function"&&mt.setTimeout&&setTimeout(sc.unload,911),F(re)}catch(ye){G(ye.message)}})},ct.API)ct.API.hasOwnProperty(zc)&&(zc==="events"&&ct.API.events.length?function(g,E){var F,G,re;for(re=E.length-1;re!==-1;re--)F=E[re][0],G=E[re][1],g.subscribe.apply(g,[F].concat(typeof G=="function"?[G]:G))}(on,ct.API.events):p[zc]=ct.API[zc]);var _l=p.getPageWidth=function(g){return(xt[g=g||L].mediaBox.topRightX-xt[g].mediaBox.bottomLeftX)/He},ih=p.setPageWidth=function(g,E){xt[g].mediaBox.topRightX=E*He+xt[g].mediaBox.bottomLeftX},ya=p.getPageHeight=function(g){return(xt[g=g||L].mediaBox.topRightY-xt[g].mediaBox.bottomLeftY)/He},oh=p.setPageHeight=function(g,E){xt[g].mediaBox.topRightY=E*He+xt[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:ei,getStyle:Qp,getFont:uy,getFontSize:je,getCharSpace:fy,getTextColor:hy,getLineHeight:ng,getLineHeightFactor:ig,getLineWidth:Uc,write:It,getHorizontalCoordinate:Go,getVerticalCoordinate:Ts,getCoordinateString:dy,getVerticalCoordinateString:va,collections:{},newObject:ur,newAdditionalObject:Tc,newObjectDeferred:er,newObjectDeferredBegin:fi,getFilters:Ho,putStream:Ai,events:on,scaleFactor:He,pageSize:{getWidth:function(){return _l(L)},setWidth:function(g){ih(L,g)},getHeight:function(){return ya(L)},setHeight:function(g){oh(L,g)}},encryptionOptions:d,encryption:Rr,getEncryptor:iy,output:Bc,getNumberOfPages:Q2,pages:Te,out:V,f2:ie,f3:T,getPageInfo:Zp,getPageInfoByObjId:yt,getCurrentPageInfo:oy,getPDFVersion:_,Point:qc,Rectangle:nh,Matrix:ut,hasHotfix:Jp},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return _l(L)},set:function(g){ih(L,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ya(L)},set:function(g){oh(L,g)},enumerable:!0,configurable:!0}),J2.call(p,Ae),Bt="F1",Yp(i,t),on.publish("initialized"),p}hd.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},hd.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hd.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},hd.prototype.processOwnerPassword=function(n,e){return Jw(Xw(e).substr(0,5),n)},hd.prototype.encryptor=function(n,e){var t=Xw(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Jw(t,r)}},G1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||hn(n)!==hn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="3.0.1";var jn=ct.API,tC=1,cc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ud=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(n){return n.toFixed(2)},el=function(n){return n.toFixed(5)};jn.__acroform__={};var di=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},m6=function(n){return n*tC},fs=function(n){var e=new O6,t=Je.internal.getHeight(n)||0,r=Je.internal.getWidth(n)||0;return e.BBox=[0,0,Number(St(r)),Number(St(t))],e},JF=jn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},ZF=jn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},QF=jn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Yn=jn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QF(n,e-1)},Kn=jn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JF(n,e-1)},Xn=jn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ZF(n,e-1)},ej=jn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},tj=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Zw(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+St(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=fs(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Zw=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var o=t,s=Je.internal.getHeight(n)||0;s=s<0?-s:s;var a=Je.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(T,P,z){if(T+1<i.length){var U=P+" "+i[T+1][0];return j1(U,n,z).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,d,f=j1("3",n,o).height,m=n.multiline?s-o:(s-f)/2,p=m+=2,y=0,_=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+j1(e,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var w="",S=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var k=!1;if(i[O].length!==1&&C!==i[O].length-1){if((f+2)*(S+2)+2>s)continue e;w+=i[O][C],k=!0,_=O,O--}else{w=(w+=i[O][C]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var q=parseInt(O),J=l(q,w,o),H=O>=i.length-1;if(J&&!H){w+=" ",C=0;continue}if(J||H){if(H)_=q;else if(n.multiline&&(f+2)*(S+2)+2>s)continue e}else{if(!n.multiline||(f+2)*(S+2)+2>s)continue e;_=q}}for(var j="",te=y;te<=_;te++){var ie=i[te];if(n.multiline){if(te===_){j+=ie[C]+" ",C=(C+1)%ie.length;continue}if(te===y){j+=ie[ie.length-1]+" ";continue}}j+=ie[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,d=j1(j,n,o).width,n.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}e+=St(c)+" "+St(p)+` Td
`,e+="("+cc(j)+`) Tj
`,e+=-St(c)+` 0 Td
`,p=-(o+2),d=0,y=k?_:_+1,S++,w=""}break}return r.text=e,r.fontSize=o,r},j1=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},nj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rj=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},ij=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),hn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},oj=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Po.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(nj)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tC=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new k6,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&rj(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=ej(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Je.createDefaultAppearanceStream(a),hn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=tj(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var f="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(i,a)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,a)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&ij(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},N6=jn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),hn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+cc(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$w=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+cc(r(n))+")"},ps=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ps.prototype.toString=function(){return this.objId+" 0 R"},ps.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ps.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:N6(i,this.objId,this.scope)}):i instanceof ps?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var O6=function(){ps.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};di(O6,ps);var k6=function(){ps.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+cc(t(n))+")"}},set:function(t){n=t}})};di(k6,ps);var Po=function n(){ps.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(w){w?this.F=Kn(e,3):this.F=Xn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof $1)return;o="FieldObject"+n.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+cc(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/tC:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof $1||this instanceof lc))return $w(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof xr?m:$w(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof xr?w:w.substr(0,1)==="("?ud(w.substr(1,w.length-2)):ud(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr?ud(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof xr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xr?p:$w(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof xr?w:w.substr(0,1)==="("?ud(w.substr(1,w.length-2)):ud(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr?ud(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof xr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(w){w?this.Ff=Kn(this.Ff,1):this.Ff=Xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(w){w?this.Ff=Kn(this.Ff,2):this.Ff=Xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(w){w?this.Ff=Kn(this.Ff,3):this.Ff=Xn(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');C=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(C){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};di(Po,ps);var gd=function(){Po.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return N6(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(t){t?this.Ff=Kn(this.Ff,18):this.Ff=Xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Kn(this.Ff,19):this.Ff=Xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(t){t?(this.Ff=Kn(this.Ff,20),e.sort()):this.Ff=Xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(t){t?this.Ff=Kn(this.Ff,22):this.Ff=Xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(t){t?this.Ff=Kn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(t){t?this.Ff=Kn(this.Ff,27):this.Ff=Xn(this.Ff,27)}}),this.hasAppearanceStream=!1};di(gd,Po);var md=function(){gd.call(this),this.fontName="helvetica",this.combo=!1};di(md,gd);var vd=function(){md.call(this),this.combo=!0};di(vd,md);var U1=function(){vd.call(this),this.edit=!0};di(U1,vd);var xr=function(){Po.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(t){t?this.Ff=Kn(this.Ff,15):this.Ff=Xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(t){t?this.Ff=Kn(this.Ff,16):this.Ff=Xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(t){t?this.Ff=Kn(this.Ff,17):this.Ff=Xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(t){t?this.Ff=Kn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+cc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){hn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};di(xr,Po);var H1=function(){xr.call(this),this.pushButton=!0};di(H1,xr);var yd=function(){xr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};di(yd,xr);var $1=function(){var n,e;Po.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+cc(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){hn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};di($1,Po),yd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},yd.prototype.createOption=function(n){var e=new $1;return e.Parent=this,e.optionName=n,this.Kids.push(e),sj.call(this.scope,e),e};var q1=function(){xr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};di(q1,xr);var lc=function(){Po.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Kn(this.Ff,13):this.Ff=Xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Kn(this.Ff,21):this.Ff=Xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Kn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Kn(this.Ff,24):this.Ff=Xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Kn(this.Ff,25):this.Ff=Xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Kn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};di(lc,Po);var z1=function(){lc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(n){n?this.Ff=Kn(this.Ff,14):this.Ff=Xn(this.Ff,14)}}),this.password=!0};di(z1,lc);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=fs(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=Zw(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+St(Je.internal.getWidth(n))+" "+St(Je.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+St(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=fs(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=Je.internal.getHeight(n),s=Je.internal.getWidth(n),a=Zw(n,n.caption);return i.push("1 g"),i.push("0 0 "+St(s)+" "+St(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(s-1)+" "+St(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+St(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=fs(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Je.internal.getWidth(n))+" "+St(Je.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Je.RadioButton.Circle.YesNormal,e.D[n]=Je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=fs(n);e.scope=n.scope;var t=[],r=Je.internal.getWidth(n)<=Je.internal.getHeight(n)?Je.internal.getWidth(n)/4:Je.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Je.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+el(Je.internal.getWidth(n)/2)+" "+el(Je.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=fs(n);e.scope=n.scope;var t=[],r=Je.internal.getWidth(n)<=Je.internal.getHeight(n)?Je.internal.getWidth(n)/4:Je.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Je.internal.Bezier_C).toFixed(5)),s=Number((r*Je.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+el(Je.internal.getWidth(n)/2)+" "+el(Je.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+el(Je.internal.getWidth(n)/2)+" "+el(Je.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=fs(n);e.scope=n.scope;var t=[],r=Je.internal.getWidth(n)<=Je.internal.getHeight(n)?Je.internal.getWidth(n)/4:Je.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Je.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+el(Je.internal.getWidth(n)/2)+" "+el(Je.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Je.RadioButton.Cross.YesNormal,e.D[n]=Je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=fs(n);e.scope=n.scope;var t=[],r=Je.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+St(Je.internal.getWidth(n)-2)+" "+St(Je.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),t.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),t.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),t.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=fs(n);e.scope=n.scope;var t=Je.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Je.internal.getWidth(n))+" "+St(Je.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+St(Je.internal.getWidth(n)-2)+" "+St(Je.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(St(t.x1.x)+" "+St(t.x1.y)+" m"),r.push(St(t.x2.x)+" "+St(t.x2.y)+" l"),r.push(St(t.x4.x)+" "+St(t.x4.y)+" m"),r.push(St(t.x3.x)+" "+St(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=fs(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Je.internal.getWidth(n))+" "+St(Je.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Je.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Je.internal.getWidth(n),t=Je.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Je.internal.getWidth=function(n){var e=0;return hn(n)==="object"&&(e=m6(n.Rect[2])),e},Je.internal.getHeight=function(n){var e=0;return hn(n)==="object"&&(e=m6(n.Rect[3])),e};var sj=jn.addField=function(n){if(oj(this,n),!(n instanceof Po))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};jn.AcroFormChoiceField=gd,jn.AcroFormListBox=md,jn.AcroFormComboBox=vd,jn.AcroFormEditBox=U1,jn.AcroFormButton=xr,jn.AcroFormPushButton=H1,jn.AcroFormRadioButton=yd,jn.AcroFormCheckBox=q1,jn.AcroFormTextField=lc,jn.AcroFormPasswordField=z1,jn.AcroFormAppearance=Je,jn.AcroForm={ChoiceField:gd,ListBox:md,ComboBox:vd,EditBox:U1,Button:xr,PushButton:H1,RadioButton:yd,CheckBox:q1,TextField:lc,PasswordField:z1,Appearance:Je},ct.AcroForm={ChoiceField:gd,ListBox:md,ComboBox:vd,EditBox:U1,Button:xr,PushButton:H1,RadioButton:yd,CheckBox:q1,TextField:lc,PasswordField:z1,Appearance:Je};var tce=ct.AcroForm;function R6(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(T,P){var z,U,ce,ae,ve,X=e;if((P=P||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(J(T))for(ve in t)for(ce=t[ve],z=0;z<ce.length;z+=1){for(ae=!0,U=0;U<ce[z].length;U+=1)if(ce[z][U]!==void 0&&ce[z][U]!==T[U]){ae=!1;break}if(ae===!0){X=ve;break}}else for(ve in t)for(ce=t[ve],z=0;z<ce.length;z+=1){for(ae=!0,U=0;U<ce[z].length;U+=1)if(ce[z][U]!==void 0&&ce[z][U]!==T.charCodeAt(U)){ae=!1;break}if(ae===!0){X=ve;break}}return X===e&&P!==e&&(X=P),X},i=function T(P){for(var z=this.internal.write,U=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:P.width}),ae.push({key:"Height",value:P.height}),P.colorSpace===C.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===C.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var ve="",X=0,ue=P.transparency.length;X<ue;X++)ve+=P.transparency[X]+" "+P.transparency[X]+" ";ae.push({key:"Mask",value:"["+ve+"]"})}P.sMask!==void 0&&ae.push({key:"SMask",value:P.objectId+1+" 0 R"});var ge=P.filter!==void 0?["/"+P.filter]:void 0;if(U({data:P.data,additionalKeyValues:ae,alreadyAppliedFilters:ge,objectId:P.objectId}),z("endobj"),"sMask"in P&&P.sMask!==void 0){var Ne="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,I={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:Ne,data:P.sMask};"filter"in P&&(I.filter=P.filter),T.call(this,I)}if(P.colorSpace===C.INDEXED){var L=this.internal.newObject();U({data:j(new Uint8Array(P.palette)),objectId:L}),z("endobj")}},o=function(){var T=this.internal.collections.addImage_images;for(var P in T)i.call(this,T[P])},s=function(){var T,P=this.internal.collections.addImage_images,z=this.internal.write;for(var U in P)z("/I"+(T=P[U]).index,T.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var T=this.internal.collections.addImage_images;return a.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(T){return typeof n["process"+T.toUpperCase()]=="function"},f=function(T){return hn(T)==="object"&&T.nodeType===1},m=function(T,P){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var z=""+T.getAttribute("src");if(z.indexOf("data:image/")===0)return Xf(unescape(z).split("base64,").pop());var U=n.loadFile(z,!0);if(U!==void 0)return U}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ce;switch(P){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return Xf(T.toDataURL(ce,1).split("base64,").pop())}},p=function(T){var P=this.internal.collections.addImage_images;if(P){for(var z in P)if(T===P[z].alias)return P[z]}},y=function(T,P,z){return T||P||(T=-96,P=-96),T<0&&(T=-1*z.width*72/T/this.internal.scaleFactor),P<0&&(P=-1*z.height*72/P/this.internal.scaleFactor),T===0&&(T=P*z.width/z.height),P===0&&(P=T*z.height/z.width),[T,P]},_=function(T,P,z,U,ce,ae){var ve=y.call(this,z,U,ce),X=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ge=l.call(this);if(z=ve[0],U=ve[1],ge[ce.index]=ce,ae){ae*=Math.PI/180;var Ne=Math.cos(ae),I=Math.sin(ae),L=function($){return $.toFixed(4)},B=[L(Ne),L(I),L(-1*I),L(Ne),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,X(T),ue(P+U),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([X(z),"0","0",X(U),"0","0","cm"].join(" "))):this.internal.write([X(z),"0","0",X(U),X(T),ue(P+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=n.__addimage__.sHashCode=function(T){var P,z,U=0;if(typeof T=="string")for(z=T.length,P=0;P<z;P++)U=(U<<5)-U+T.charCodeAt(P),U|=0;else if(J(T))for(z=T.byteLength/2,P=0;P<z;P++)U=(U<<5)-U+T[P],U|=0;return U},O=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var P=!0;return T.length===0&&(P=!1),T.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(P=!1),P},k=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var P=T.indexOf(",");return P<0?null:T.substring(0,P).trim().endsWith("base64")?T.substring(P+1):null},q=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(T){return q()&&T instanceof ArrayBuffer};var J=n.__addimage__.isArrayBufferView=function(T){return q()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},H=n.__addimage__.binaryStringToUint8Array=function(T){for(var P=T.length,z=new Uint8Array(P),U=0;U<P;U++)z[U]=T.charCodeAt(U);return z},j=n.__addimage__.arrayBufferToBinaryString=function(T){for(var P="",z=J(T)?T:new Uint8Array(T),U=0;U<z.length;U+=8192)P+=String.fromCharCode.apply(null,z.subarray(U,U+8192));return P};n.addImage=function(){var T,P,z,U,ce,ae,ve,X,ue;if(typeof arguments[1]=="number"?(P=e,z=arguments[1],U=arguments[2],ce=arguments[3],ae=arguments[4],ve=arguments[5],X=arguments[6],ue=arguments[7]):(P=arguments[1],z=arguments[2],U=arguments[3],ce=arguments[4],ae=arguments[5],ve=arguments[6],X=arguments[7],ue=arguments[8]),hn(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var ge=T;T=ge.imageData,P=ge.format||P||e,z=ge.x||z||0,U=ge.y||U||0,ce=ge.w||ge.width||ce,ae=ge.h||ge.height||ae,ve=ge.alias||ve,X=ge.compression||X,ue=ge.rotation||ge.angle||ue}var Ne=this.internal.getFilters();if(X===void 0&&Ne.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(z)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var I=te.call(this,T,P,ve,X);return _.call(this,z,U,ce,ae,I,ue),this};var te=function(T,P,z,U){var ce,ae,ve;if(typeof T=="string"&&r(T)===e){T=unescape(T);var X=ie(T,!1);(X!==""||(X=n.loadFile(T,!0))!==void 0)&&(T=X)}if(f(T)&&(T=m(T,P)),P=r(T,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ve=z)==null||ve.length===0)&&(z=function(ue){return typeof ue=="string"||J(ue)?S(ue):J(ue.data)?S(ue.data):null}(T)),(ce=p.call(this,z))||(q()&&(T instanceof Uint8Array||P==="RGBA"||(ae=T,T=H(T))),ce=this["process"+P.toUpperCase()](T,c.call(this),z,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in n.image_compression?ue:w.NONE}(U),ae)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},ie=n.__addimage__.convertBase64ToBinaryString=function(T,P){P=typeof P!="boolean"||P;var z,U="";if(typeof T=="string"){var ce;z=(ce=k(T))!==null&&ce!==void 0?ce:T;try{U=Xf(z)}catch(ae){if(P)throw O(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};n.getImageProperties=function(T){var P,z,U="";if(f(T)&&(T=m(T)),typeof T=="string"&&r(T)===e&&((U=ie(T,!1))===""&&(U=n.loadFile(T)||""),T=U),z=r(T),!d(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!q()||T instanceof Uint8Array||(T=H(T)),!(P=this["process"+z.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=z,P}})(ct.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),S=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(w(S))+") >>",_.content=o;var O=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+O,r.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var J=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(t,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(t,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(ct.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(_){var C=0,w=t,S="",O=0;for(C=0;C<_.length;C+=1)w[_.charCodeAt(C)]!==void 0?(O++,typeof(w=w[_.charCodeAt(C)])=="number"&&(S+=String.fromCharCode(w),w=t,O=0),C===_.length-1&&(w=t,S+=_.charAt(C-(O-1)),C-=O-1,O=0)):(w=t,S+=_.charAt(C-O),C-=O,O=0);return S};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var m=n.__arabicParser__.getCorrectForm=function(_,C,w){return s(_)?o(_)===!1?-1:!c(_)||!s(C)&&!s(w)||!s(w)&&a(C)||a(_)&&!s(C)||a(_)&&l(C)||a(_)&&a(C)?0:d(_)&&s(C)&&!a(C)&&s(w)&&c(w)?3:a(_)||!s(w)?1:2:-1},p=function(_){var C=0,w=0,S=0,O="",k="",q="",J=(_=_||"").split("\\s+"),H=[];for(C=0;C<J.length;C+=1){for(H.push(""),w=0;w<J[C].length;w+=1)O=J[C][w],k=J[C][w-1],q=J[C][w+1],s(O)?(S=m(O,k,q),H[C]+=S!==-1?String.fromCharCode(e[O.charCodeAt(0)][S]):O):H[C]+=O;H[C]=f(H[C])}return H.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(C)){var S=0;for(w=[],S=0;S<C.length;S+=1)Array.isArray(C[S])?w.push([p(C[S][0]),C[S][1],C[S][2]]):w.push([p(C[S])]);_=w}else _=p(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",y])}(ct.API),ct.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(_){y=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,_=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(O,k){return O.concat(C.splitTextToSize(k,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)p<(_=this.getStringUnitWidth(l[S],{font:f})*d)&&(p=_);return p!==0&&(y=l.length),{w:p/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,d,f,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,y,_,C,w=[],S=[],O=[],k={},q={},J=[],H=[],j=(m=m||{}).autoSize||!1,te=m.printHeaders!==!1,ie=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,T=m.margins||Object.assign({width:this.getPageWidth()},e),P=typeof m.padding=="number"?m.padding:3,z=m.headerBackgroundColor||"#c8c8c8",U=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=te,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=U,this.setFontSize(ie),f==null)S=w=Object.keys(d[0]),O=w.map(function(){return"left"});else if(Array.isArray(f)&&hn(f[0])==="object")for(w=f.map(function(ge){return ge.name}),S=f.map(function(ge){return ge.prompt||ge.name||""}),O=f.map(function(ge){return ge.align||"left"}),p=0;p<f.length;p+=1)q[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(S=w=f,O=w.map(function(){return"left"}));if(j||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(k[C=w[p]]=d.map(function(ge){return ge[C]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(S[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[C],this.setFont(void 0,"normal"),_=0;_<y.length;_+=1)J.push(this.getTextDimensions(y[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[C]=Math.max.apply(null,J)+P+P,J=[]}if(te){var ce={};for(p=0;p<w.length;p+=1)ce[w[p]]={},ce[w[p]].text=S[p],ce[w[p]].align=O[p];var ae=a.call(this,ce,q);H=w.map(function(ge){return new o(l,c,q[ge],ae,ce[ge].text,void 0,ce[ge].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ve=f.reduce(function(ge,Ne){return ge[Ne.name]=Ne.align,ge},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var X=a.call(this,d[p],q);for(_=0;_<w.length;_+=1){var ue=d[p][w[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:_,data:ue},this),s.call(this,new o(l,c,q[w[_]],X,ue,p+2,ve[w[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}}(ct.API);var L6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},F6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qw=R6(F6),j6=[100,200,300,400,500,600,700,800,900],aj=R6(j6);function eC(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return L6[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof Qw[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function v6(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var lj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},y6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function b6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function cj(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},lj,t.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=eC(e[a])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){s=n[o.family];break}if(!(s=s||n[r]))throw new Error("Could not find a font-family for the rule '"+b6(o)+"' and default family '"+r+"'.");if(s=function(l,c){if(c[l])return c[l];var d=Qw[l],f=d<=Qw.normal?-1:1,m=v6(c,F6,d,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var d=L6[l],f=0;f<d.length;++f)if(c[d[f]])return c[d[f]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=aj[l],f=v6(c,j6,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+b6(o)+"'.");return s}function _6(n){return n.trimLeft()}function uj(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function dj(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var B1,w6,C6,Ww=["times"];(function(n){var e,t,r,i,o,s,a,l,c,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=I;Object.defineProperty(this,"pdf",{get:function(){return L}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(_e){B=!!_e}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(_e){$=!!_e}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(_e){isNaN(_e)||(ee=_e)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(_e){isNaN(_e)||(le=_e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(_e){var V;typeof _e=="number"?V=[_e,_e,_e,_e]:((V=new Array(4))[0]=_e[0],V[1]=_e.length>=2?_e[1]:V[0],V[2]=_e.length>=3?_e[2]:V[0],V[3]=_e.length>=4?_e[3]:V[1]),c.margin=V}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(_e){de=_e}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(_e){he=_e}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(_e){Pe=_e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(_e){_e instanceof d&&(c=_e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(_e){c.path=_e}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(_e){Te=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var V;V=m(_e),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var V=m(_e);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Be=null;function Le(_e,V){if(Be===null){var It=function(Qe){var Ae=[];return Object.keys(Qe).forEach(function(ke){Qe[ke].forEach(function(Ue){var je=null;switch(Ue){case"bold":je={family:ke,weight:"bold"};break;case"italic":je={family:ke,style:"italic"};break;case"bolditalic":je={family:ke,weight:"bold",style:"italic"};break;case"":case"normal":je={family:ke}}je!==null&&(je.ref={name:ke,style:Ue},Ae.push(je))})}),Ae}(_e.getFontList());Be=function(Qe){for(var Ae={},ke=0;ke<Qe.length;++ke){var Ue=eC(Qe[ke]),je=Ue.family,ot=Ue.stretch,Ct=Ue.style,Nt=Ue.weight;Ae[je]=Ae[je]||{},Ae[je][ot]=Ae[je][ot]||{},Ae[je][ot][Ct]=Ae[je][ot][Ct]||{},Ae[je][ot][Ct][Nt]=Ue}return Ae}(It.concat(V))}return Be}var pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(_e){Be=null,pt=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var V;if(this.ctx.font=_e,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var It=V[1];V[2];var Qe=V[3],Ae=V[4];V[5];var ke=V[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Ue==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var je=function(vt){var Bt,He,kr=[],Zt=vt.trim();if(Zt==="")return Ww;if(Zt in y6)return[y6[Zt]];for(;Zt!=="";){switch(He=null,Bt=(Zt=_6(Zt)).charAt(0)){case'"':case"'":He=uj(Zt.substring(1),Bt);break;default:He=dj(Zt)}if(He===null||(kr.push(He[0]),(Zt=_6(He[1]))!==""&&Zt.charAt(0)!==","))return Ww;Zt=Zt.replace(/^,/,"")}return kr}(ke);if(this.fontFaces){var ot=cj(Le(this.pdf,this.fontFaces),je.map(function(vt){return{family:vt,stretch:"normal",weight:Qe,style:It}}));this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var Ct="";(Qe==="bold"||parseInt(Qe,10)>=700||It==="bold")&&(Ct="bold"),It==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Nt="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xt=0;Xt<je.length;Xt++){if(this.pdf.internal.getFont(je[Xt],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Nt=je[Xt];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(je[Xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=je[Xt],Ct="bold";else if(this.pdf.internal.getFont(je[Xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=je[Xt],Ct="normal";break}}if(Nt===""){for(var un=0;un<je.length;un++)if(Lt[je[un]]){Nt=Lt[je[un]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,L){if(isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(I,L));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(I,L)},f.prototype.closePath=function(){var I=new s(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&hn(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){I=new s(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},f.prototype.lineTo=function(I,L){if(isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(I,L));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,L,B,$){if(isNaN(B)||isNaN($)||isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new s(B,$)),le=this.ctx.transform.applyToPoint(new s(I,L));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},f.prototype.bezierCurveTo=function(I,L,B,$,ee,le){if(isNaN(ee)||isNaN(le)||isNaN(I)||isNaN(L)||isNaN(B)||isNaN($))throw vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(ee,le)),he=this.ctx.transform.applyToPoint(new s(I,L)),Pe=this.ctx.transform.applyToPoint(new s(B,$));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Pe.x,y2:Pe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},f.prototype.arc=function(I,L,B,$,ee,le){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN($)||isNaN(ee))throw vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s(I,L));I=de.x,L=de.y;var he=this.ctx.transform.applyToPoint(new s(0,B)),Pe=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(he.x-Pe.x,2)+Math.pow(he.y-Pe.y,2))}Math.abs(ee-$)>=2*Math.PI&&($=0,ee=2*Math.PI),this.path.push({type:"arc",x:I,y:L,radius:B,startAngle:$,endAngle:ee,counterclockwise:le})},f.prototype.arcTo=function(I,L,B,$,ee){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,L,B,$){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN($))throw vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,L),this.lineTo(I+B,L),this.lineTo(I+B,L+$),this.lineTo(I,L+$),this.lineTo(I,L),this.lineTo(I+B,L),this.lineTo(I,L)},f.prototype.fillRect=function(I,L,B,$){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN($))throw vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,L,B,$),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},f.prototype.strokeRect=function(I,L,B,$){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN($))throw vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(I,L,B,$),this.stroke())},f.prototype.clearRect=function(I,L,B,$){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN($))throw vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,L,B,$))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(L),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var L,B,$,ee;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))L=0,B=0,$=0,ee=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(le!==null)L=parseInt(le[1]),B=parseInt(le[2]),$=parseInt(le[3]),ee=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)L=parseInt(le[1]),B=parseInt(le[2]),$=parseInt(le[3]),ee=parseFloat(le[4]);else{if(ee=1,typeof I=="string"&&I.charAt(0)!=="#"){var de=new A6(I);I=de.ok?de.toHex():"#000000"}I.length===4?(L=I.substring(1,2),L+=L,B=I.substring(2,3),B+=B,$=I.substring(3,4),$+=$):(L=I.substring(1,3),B=I.substring(3,5),$=I.substring(5,7)),L=parseInt(L,16),B=parseInt(B,16),$=parseInt($,16)}}return{r:L,g:B,b:$,a:ee,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,L,B,$){if(isNaN(L)||isNaN(B)||typeof I!="string")throw vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!p.call(this)){var ee=X(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;P.call(this,{text:I,x:L,y:B,scale:le,angle:ee,align:this.textAlign,maxWidth:$})}},f.prototype.strokeText=function(I,L,B,$){if(isNaN(L)||isNaN(B)||typeof I!="string")throw vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){$=isNaN($)?void 0:$;var ee=X(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;P.call(this,{text:I,x:L,y:B,scale:le,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:$})}},f.prototype.measureText=function(I){if(typeof I!="string")throw vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,B=this.pdf.internal.scaleFactor,$=L.internal.getFontSize(),ee=L.getStringUnitWidth(I)*$/L.internal.scaleFactor,le=function(de){var he=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new le({width:ee*=Math.round(96*B/72*1e4)/1e4})},f.prototype.scale=function(I,L){if(isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new l(I,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.rotate=function(I){if(isNaN(I))throw vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},f.prototype.translate=function(I,L){if(isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new l(1,0,0,1,I,L);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.transform=function(I,L,B,$,ee,le){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN($)||isNaN(ee)||isNaN(le))throw vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(I,L,B,$,ee,le);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(I,L,B,$,ee,le){I=isNaN(I)?1:I,L=isNaN(L)?0:L,B=isNaN(B)?0:B,$=isNaN($)?1:$,ee=isNaN(ee)?0:ee,le=isNaN(le)?0:le,this.ctx.transform=new l(I,L,B,$,ee,le)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,L,B,$,ee,le,de,he,Pe){var Te=this.pdf.getImageProperties(I),Be=1,Le=1,pt=1,_e=1;$!==void 0&&he!==void 0&&(pt=he/$,_e=Pe/ee,Be=Te.width/$*he/$,Le=Te.height/ee*Pe/ee),le===void 0&&(le=L,de=B,L=0,B=0),$!==void 0&&he===void 0&&(he=$,Pe=ee),$===void 0&&he===void 0&&(he=Te.width,Pe=Te.height);for(var V,It=this.ctx.transform.decompose(),Qe=X(It.rotate.shx),Ae=new l,ke=(Ae=(Ae=(Ae=Ae.multiply(It.translate)).multiply(It.skew)).multiply(It.scale)).applyToRectangle(new a(le-L*pt,de-B*_e,$*Be,ee*Le)),Ue=C.call(this,ke),je=[],ot=0;ot<Ue.length;ot+=1)je.indexOf(Ue[ot])===-1&&je.push(Ue[ot]);if(O(je),this.autoPaging)for(var Ct=je[0],Nt=je[je.length-1],Lt=Ct;Lt<Nt+1;Lt++){this.pdf.setPage(Lt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],un=Lt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=Lt===1?0:vt+(Lt-2)*Bt;if(this.ctx.clip_path.length!==0){var kr=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(V,this.posX+this.margin[3],-He+un+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=kr}var Zt=JSON.parse(JSON.stringify(ke));Zt=S([Zt],this.posX+this.margin[3],-He+un+this.ctx.prevPageLastElemOffset)[0];var ro=(Lt>Ct||Lt<Nt)&&_.call(this);ro&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Bt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,Qe),ro&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,Qe)};var C=function(I,L,B){var $=[];L=L||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":$.push(Math.floor((I.y+ee)/B)+1);break;case"arc":$.push(Math.floor((I.y+ee-I.radius)/B)+1),$.push(Math.floor((I.y+ee+I.radius)/B)+1);break;case"qct":var le=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);$.push(Math.floor((le.y+ee)/B)+1),$.push(Math.floor((le.y+le.h+ee)/B)+1);break;case"bct":var de=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);$.push(Math.floor((de.y+ee)/B)+1),$.push(Math.floor((de.y+de.h+ee)/B)+1);break;case"rect":$.push(Math.floor((I.y+ee)/B)+1),$.push(Math.floor((I.y+I.h+ee)/B)+1)}for(var he=0;he<$.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<$[he];)w.call(this);return $},w=function(){var I=this.fillStyle,L=this.strokeStyle,B=this.font,$=this.lineCap,ee=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=L,this.font=B,this.lineCap=$,this.lineWidth=ee,this.lineJoin=le},S=function(I,L,B){for(var $=0;$<I.length;$++)switch(I[$].type){case"bct":I[$].x2+=L,I[$].y2+=B;case"qct":I[$].x1+=L,I[$].y1+=B;case"mt":case"lt":case"arc":default:I[$].x+=L,I[$].y+=B}return I},O=function(I){return I.sort(function(L,B){return L-B})},k=function(I,L){for(var B,$,ee=this.fillStyle,le=this.strokeStyle,de=this.lineCap,he=this.lineWidth,Pe=Math.abs(he*this.ctx.transform.scaleX),Te=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),pt=[],_e=0;_e<Le.length;_e++)if(Le[_e].x!==void 0)for(var V=C.call(this,Le[_e]),It=0;It<V.length;It+=1)pt.indexOf(V[It])===-1&&pt.push(V[It]);for(var Qe=0;Qe<pt.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<pt[Qe];)w.call(this);if(O(pt),this.autoPaging)for(var Ae=pt[0],ke=pt[pt.length-1],Ue=Ae;Ue<ke+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ee,this.strokeStyle=le,this.lineCap=de,this.lineWidth=Pe,this.lineJoin=Te;var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Ue===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Ue===1?0:Ct+(Ue-2)*Nt;if(this.ctx.clip_path.length!==0){var Xt=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(B,this.posX+this.margin[3],-Lt+ot+this.ctx.prevPageLastElemOffset),q.call(this,I,!0),this.path=Xt}if($=JSON.parse(JSON.stringify(Be)),this.path=S($,this.posX+this.margin[3],-Lt+ot+this.ctx.prevPageLastElemOffset),L===!1||Ue===0){var un=(Ue>Ae||Ue<ke)&&_.call(this);un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,Nt,null).clip().discardPath()),q.call(this,I,L),un&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=Pe,q.call(this,I,L),this.lineWidth=he;this.path=Be},q=function(I,L){if((I!=="stroke"||L||!y.call(this))&&(I==="stroke"||L||!p.call(this))){for(var B,$,ee=[],le=this.path,de=0;de<le.length;de++){var he=le[de];switch(he.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:he,deltas:[],abs:[]});break;case"lt":var Pe=ee.length;if(le[de-1]&&!isNaN(le[de-1].x)&&(B=[he.x-le[de-1].x,he.y-le[de-1].y],Pe>0)){for(;Pe>=0;Pe--)if(ee[Pe-1].close!==!0&&ee[Pe-1].begin!==!0){ee[Pe-1].deltas.push(B),ee[Pe-1].abs.push(he);break}}break;case"bct":B=[he.x1-le[de-1].x,he.y1-le[de-1].y,he.x2-le[de-1].x,he.y2-le[de-1].y,he.x-le[de-1].x,he.y-le[de-1].y],ee[ee.length-1].deltas.push(B);break;case"qct":var Te=le[de-1].x+2/3*(he.x1-le[de-1].x),Be=le[de-1].y+2/3*(he.y1-le[de-1].y),Le=he.x+2/3*(he.x1-he.x),pt=he.y+2/3*(he.y1-he.y),_e=he.x,V=he.y;B=[Te-le[de-1].x,Be-le[de-1].y,Le-le[de-1].x,pt-le[de-1].y,_e-le[de-1].x,V-le[de-1].y],ee[ee.length-1].deltas.push(B);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(he)}}$=L?null:I==="stroke"?"stroke":"fill";for(var It=!1,Qe=0;Qe<ee.length;Qe++)if(ee[Qe].arc)for(var Ae=ee[Qe].abs,ke=0;ke<Ae.length;ke++){var Ue=Ae[ke];Ue.type==="arc"?j.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,L,!It):z.call(this,Ue.x,Ue.y),It=!0}else if(ee[Qe].close===!0)this.pdf.internal.out("h"),It=!1;else if(ee[Qe].begin!==!0){var je=ee[Qe].start.x,ot=ee[Qe].start.y;U.call(this,ee[Qe].deltas,je,ot),It=!0}$&&te.call(this,$),L&&ie.call(this)}},J=function(I){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-B;case"top":return I+L-B;case"hanging":return I+L-2*B;case"middle":return I+L/2-B;case"ideographic":return I;case"alphabetic":default:return I}},H=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(L,B){this.colorStops.push([L,B])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(I,L,B,$,ee,le,de,he,Pe){for(var Te=ae.call(this,B,$,ee,le),Be=0;Be<Te.length;Be++){var Le=Te[Be];Be===0&&(Pe?T.call(this,Le.x1+I,Le.y1+L):z.call(this,Le.x1+I,Le.y1+L)),ce.call(this,I,L,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}he?ie.call(this):te.call(this,de)},te=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(I,L){this.pdf.internal.out(t(I)+" "+r(L)+" m")},P=function(I){var L;switch(I.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var B=this.pdf.getTextDimensions(I.text),$=J.call(this,I.y),ee=H.call(this,$)-B.h,le=this.ctx.transform.applyToPoint(new s(I.x,$)),de=this.ctx.transform.decompose(),he=new l;he=(he=(he=he.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Pe,Te,Be,Le=this.ctx.transform.applyToRectangle(new a(I.x,$,B.w,B.h)),pt=he.applyToRectangle(new a(I.x,ee,B.w,B.h)),_e=C.call(this,pt),V=[],It=0;It<_e.length;It+=1)V.indexOf(_e[It])===-1&&V.push(_e[It]);if(O(V),this.autoPaging)for(var Qe=V[0],Ae=V[V.length-1],ke=Qe;ke<Ae+1;ke++){this.pdf.setPage(ke);var Ue=ke===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[2],Ct=ot-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],Lt=Nt-this.margin[3],Xt=ke===1?0:je+(ke-2)*Ct;if(this.ctx.clip_path.length!==0){var un=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Pe,this.posX+this.margin[3],-1*Xt+Ue),q.call(this,"fill",!0),this.path=un}var vt=S([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-Xt+Ue+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*I.scale),Be=this.lineWidth,this.lineWidth=Be*I.scale);var Bt=this.autoPaging!=="text";if(Bt||vt.y+vt.h<=ot){if(Bt||vt.y>=Ue&&vt.x<=Nt){var He=Bt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Nt-vt.x)[0],kr=S([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Xt+Ue+this.ctx.prevPageLastElemOffset)[0],Zt=Bt&&(ke>Qe||ke<Ae)&&_.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Ct,null).clip().discardPath()),this.pdf.text(He,kr.x,kr.y,{angle:I.angle,align:L,renderingMode:I.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else vt.y<ot&&(this.ctx.prevPageLastElemOffset+=ot-vt.y);I.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Be)}else I.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*I.scale),Be=this.lineWidth,this.lineWidth=Be*I.scale),this.pdf.text(I.text,le.x+this.posX,le.y+this.posY,{angle:I.angle,align:L,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Be)},z=function(I,L,B,$){B=B||0,$=$||0,this.pdf.internal.out(t(I+B)+" "+r(L+$)+" l")},U=function(I,L,B){return this.pdf.lines(I,L,B,null,null)},ce=function(I,L,B,$,ee,le,de,he){this.pdf.internal.out([e(i(B+I)),e(o($+L)),e(i(ee+I)),e(o(le+L)),e(i(de+I)),e(o(he+L)),"c"].join(" "))},ae=function(I,L,B,$){for(var ee=2*Math.PI,le=Math.PI/2;L>B;)L-=ee;var de=Math.abs(B-L);de<ee&&$&&(de=ee-de);for(var he=[],Pe=$?-1:1,Te=L;de>1e-5;){var Be=Te+Pe*Math.min(de,le);he.push(ve.call(this,I,Te,Be)),de-=Math.abs(Be-Te),Te=Be}return he},ve=function(I,L,B){var $=(B-L)/2,ee=I*Math.cos($),le=I*Math.sin($),de=ee,he=-le,Pe=de*de+he*he,Te=Pe+de*ee+he*le,Be=4/3*(Math.sqrt(2*Pe*Te)-Te)/(de*le-he*ee),Le=de-Be*he,pt=he+Be*de,_e=Le,V=-pt,It=$+L,Qe=Math.cos(It),Ae=Math.sin(It);return{x1:I*Math.cos(L),y1:I*Math.sin(L),x2:Le*Qe-pt*Ae,y2:Le*Ae+pt*Qe,x3:_e*Qe-V*Ae,y3:_e*Ae+V*Qe,x4:I*Math.cos(B),y4:I*Math.sin(B)}},X=function(I){return 180*I/Math.PI},ue=function(I,L,B,$,ee,le){var de=I+.5*(B-I),he=L+.5*($-L),Pe=ee+.5*(B-ee),Te=le+.5*($-le),Be=Math.min(I,ee,de,Pe),Le=Math.max(I,ee,de,Pe),pt=Math.min(L,le,he,Te),_e=Math.max(L,le,he,Te);return new a(Be,pt,Le-Be,_e-pt)},ge=function(I,L,B,$,ee,le,de,he){var Pe,Te,Be,Le,pt,_e,V,It,Qe,Ae,ke,Ue,je,ot,Ct=B-I,Nt=$-L,Lt=ee-B,Xt=le-$,un=de-ee,vt=he-le;for(Te=0;Te<41;Te++)Qe=(V=(Be=I+(Pe=Te/40)*Ct)+Pe*((pt=B+Pe*Lt)-Be))+Pe*(pt+Pe*(ee+Pe*un-pt)-V),Ae=(It=(Le=L+Pe*Nt)+Pe*((_e=$+Pe*Xt)-Le))+Pe*(_e+Pe*(le+Pe*vt-_e)-It),Te==0?(ke=Qe,Ue=Ae,je=Qe,ot=Ae):(ke=Math.min(ke,Qe),Ue=Math.min(Ue,Ae),je=Math.max(je,Qe),ot=Math.max(ot,Ae));return new a(Math.round(ke),Math.round(Ue),Math.round(je-ke),Math.round(ot-Ue))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,L,B=(I=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:L}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(ct.API),function(n){var e=function(o){var s,a,l,c,d,f,m,p,y,_;for(/[^\x00-\xFF]/.test(o),a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(_=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)%85,a.push(f+33,m+33,p+33,y+33,_+33)):a.push(122);return function(C,w){for(var S=w;S>0;S--)C.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},t=function(o){var s,a,l,c,d,f=String,m="length",p=255,y="charCodeAt",_="slice",C="replace";for(o[_](-2),o=o[_](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],c=0,d=(o+=s="uuuuu"[_](o[m]%5||5))[m];d>c;c+=5)a=52200625*(o[y](c)-33)+614125*(o[y](c+1)-33)+7225*(o[y](c+2)-33)+85*(o[y](c+3)-33)+(o[y](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,S){for(var O=S;O>0;O--)w.pop()}(l,s[m]),f.fromCharCode.apply(f,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=L1(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ct.API),function(n){n.loadFile=function(e,t,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var f=new XMLHttpRequest,m=0,p=function(y){var _=y.length,C=[],w=String.fromCharCode;for(m=0;m<_;m+=1)C.push(w(255&y.charCodeAt(m)));return C.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,o,s)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(ct.API),function(n){function e(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):import("./chunk-SOQBCYLK.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):import("./chunk-47BTRKO7.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=hn(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var p=c[m],y=p.src.find(function(_){return _.format==="truetype"});y&&l.addFont(y.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,d).then(function(f){return l.updateProgress(1),f})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(c,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ct.getPageSize=function(s,a,l){if(hn(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var p,y=0,_=0;if(m.hasOwnProperty(f))y=m[f][1]/d,_=m[f][0]/d;else try{y=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",_>y&&(p=_,_=y,y=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>_&&(p=_,_=y,y=p)}return{width:_,height:y,unit:a,k:d,orientation:s}},n.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(eC):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(ct.API),ct.API.addJS=function(n){return C6=n,this.internal.events.subscribe("postPutResources",function(){B1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(B1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),w6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+C6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){B1!==void 0&&w6!==void 0&&this.internal.out("/Names <</JavaScript "+B1+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var f=t.internal.newObject();d.push(f);var m=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<d.length;o++)t.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(ct.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,_={width:0,height:0,numcomponents:1},C=4;C<y;C+=2){if(C+=p,e.indexOf(f.charCodeAt(C+1))!==-1){m=256*f.charCodeAt(C+5)+f.charCodeAt(C+6),_={width:256*f.charCodeAt(C+7)+f.charCodeAt(C+8),height:m,numcomponents:f.charCodeAt(C+9)};break}p=256*f.charCodeAt(C+2)+f.charCodeAt(C+3)}return _}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(ct.API);var dd,V1,x6,E6,S6,hj=function(){var n,e,t;function r(o){var s,a,l,c,d,f,m,p,y,_,C,w,S,O;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),y=(function(){var k,q;for(q=[],k=0;k<4;++k)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*d/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),o=f?.data||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(S=0;0<=_?S<_:S>_;0<=_?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":m=(C=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,C.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,C.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(f,m,p,y){var _,C,w,S,O,k,q,J,H,j,te,ie,T,P,z,U,ce,ae,ve,X,ue,ge=Math.ceil((c.width-f)/p),Ne=Math.ceil((c.height-m)/y),I=c.width==ge&&c.height==Ne;for(P=s*ge,ie=I?a:new Uint8Array(P*Ne),k=o.length,T=0,C=0;T<Ne&&l<k;){switch(o[l++]){case 0:for(S=ce=0;ce<P;S=ce+=1)ie[C++]=o[l++];break;case 1:for(S=ae=0;ae<P;S=ae+=1)_=o[l++],O=S<s?0:ie[C-s],ie[C++]=(_+O)%256;break;case 2:for(S=ve=0;ve<P;S=ve+=1)_=o[l++],w=(S-S%s)/s,z=T&&ie[(T-1)*P+w*s+S%s],ie[C++]=(z+_)%256;break;case 3:for(S=X=0;X<P;S=X+=1)_=o[l++],w=(S-S%s)/s,O=S<s?0:ie[C-s],z=T&&ie[(T-1)*P+w*s+S%s],ie[C++]=(_+Math.floor((O+z)/2))%256;break;case 4:for(S=ue=0;ue<P;S=ue+=1)_=o[l++],w=(S-S%s)/s,O=S<s?0:ie[C-s],T===0?z=U=0:(z=ie[(T-1)*P+w*s+S%s],U=w&&ie[(T-1)*P+(w-1)*s+S%s]),q=O+z-U,J=Math.abs(q-O),j=Math.abs(q-z),te=Math.abs(q-U),H=J<=j&&J<=te?O:j<=te?z:U,ie[C++]=(_+H)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!I){var L=((m+T*y)*c.width+f)*s,B=T*P;for(S=0;S<ge;S+=1){for(var $=0;$<s;$+=1)a[L++]=ie[B++];L+=(p-1)*s}}T++}}return o=d6(o),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,c,d,f,m,p;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=f=0,m=a.length;f<m;s=f+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(p=d[o++])!=null?p:255;return c},r.prototype.copyToImageData=function(o,s){var a,l,c,d,f,m,p,y,_,C,w;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),y=(c=o.data||o).length,f=_||s,d=m=0,l===1)for(;d<y;)p=_?4*s[d/4]:m,C=f[p++],c[d++]=C,c[d++]=C,c[d++]=C,c[d++]=a?f[p++]:255,m=p;else for(;d<y;)p=_?4*s[d/4]:m,c[d++]=f[p++],c[d++]=f[p++],c[d++]=f[p++],c[d++]=a?f[p++]:255,m=p},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(mt)==="[object Window]"){try{e=mt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var s;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,c,d,f,m,p;if(this.animation){for(p=[],a=d=0,f=(m=this.animation.frames).length;d<f;a=++d)s=m[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=n(l));return p}},r.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,c,d,f,m=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,d=f.numPlays,(s=function(){var p,y;if(p=a++%c,y=l[p],m.renderFrame(o,p),c>1&&a/c<d)return m.animation._timeout=setTimeout(s,y.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();function fj(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,s=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,d=[],f=0,m=null,p=0,y=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];f=n[e++]|n[e++]<<8,m=n[e++],(1&_)==0&&(m=null),p=_>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var C=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,k=n[e++],q=k>>6&1,J=1<<(7&k)+1,H=a,j=l,te=!1;k>>7&&(te=!0,H=e,j=J,e+=3*J);var ie=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}d.push({x:C,y:w,width:S,height:O,has_local_palette:te,palette_offset:H,palette_size:j,data_offset:ie,data_length:e-ie,transparent_index:m,interlaced:!!q,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,z){var U=this.frameInfo(P),ce=U.width*U.height,ae=new Uint8Array(ce);D6(n,U.data_offset,ae,ce);var ve=U.palette_offset,X=U.transparent_index;X===null&&(X=256);var ue=U.width,ge=t-ue,Ne=ue,I=4*(U.y*t+U.x),L=4*((U.y+U.height)*t+U.x),B=I,$=4*ge;U.interlaced===!0&&($+=4*t*7);for(var ee=8,le=0,de=ae.length;le<de;++le){var he=ae[le];if(Ne===0&&(Ne=ue,(B+=$)>=L&&($=4*ge+4*t*(ee-1),B=I+(ue+ge)*(ee<<1),ee>>=1)),he===X)B+=4;else{var Pe=n[ve+3*he],Te=n[ve+3*he+1],Be=n[ve+3*he+2];z[B++]=Be,z[B++]=Te,z[B++]=Pe,z[B++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(P,z){var U=this.frameInfo(P),ce=U.width*U.height,ae=new Uint8Array(ce);D6(n,U.data_offset,ae,ce);var ve=U.palette_offset,X=U.transparent_index;X===null&&(X=256);var ue=U.width,ge=t-ue,Ne=ue,I=4*(U.y*t+U.x),L=4*((U.y+U.height)*t+U.x),B=I,$=4*ge;U.interlaced===!0&&($+=4*t*7);for(var ee=8,le=0,de=ae.length;le<de;++le){var he=ae[le];if(Ne===0&&(Ne=ue,(B+=$)>=L&&($=4*ge+4*t*(ee-1),B=I+(ue+ge)*(ee<<1),ee>>=1)),he===X)B+=4;else{var Pe=n[ve+3*he],Te=n[ve+3*he+1],Be=n[ve+3*he+2];z[B++]=Pe,z[B++]=Te,z[B++]=Be,z[B++]=255}--Ne}}}function D6(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,d=0,f=0,m=0,p=n[e++],y=new Int32Array(4096),_=null;;){for(;d<16&&p!==0;)f|=n[e++]<<d,d+=8,p===1?p=n[e++]:--p;if(d<l)break;var C=f&c;if(f>>=l,d-=l,C!==o){if(C===s)break;for(var w=C<a?C:_,S=0,O=w;O>o;)O=y[O]>>8,++S;var k=O;if(m+S+(w!==C?1:0)>r)return void vn.log("Warning, gif stream longer than expected.");t[m++]=k;var q=m+=S;for(w!==C&&(t[m++]=k),O=w;S--;)O=y[O],t[--q]=255&O,O>>=8;_!==null&&a<4096&&(y[a++]=_<<8|k,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=C}else a=s+1,c=(1<<(l=i+1))-1,_=null}return m!==r&&vn.log("Warning, gif stream shorter than expected."),t}function Yw(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),y=new Array(64),_=[],C=0,w=7,S=new Array(64),O=new Array(64),k=new Array(64),q=new Array(256),J=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(I,L){for(var B=0,$=0,ee=new Array,le=1;le<=16;le++){for(var de=1;de<=I[le];de++)ee[L[$]]=[],ee[L[$]][0]=B,ee[L[$]][1]=le,$++,B++;B*=2}return ee}function ve(I){for(var L=I[0],B=I[1]-1;B>=0;)L&1<<B&&(C|=1<<w),B--,--w<0&&(C==255?(X(255),X(0)):X(C),w=7,C=0)}function X(I){_.push(I)}function ue(I){X(I>>8&255),X(255&I)}function ge(I,L,B,$,ee){for(var le,de=ee[0],he=ee[240],Pe=function(Ae,ke){var Ue,je,ot,Ct,Nt,Lt,Xt,un,vt,Bt,He=0;for(vt=0;vt<8;++vt){Ue=Ae[He],je=Ae[He+1],ot=Ae[He+2],Ct=Ae[He+3],Nt=Ae[He+4],Lt=Ae[He+5],Xt=Ae[He+6];var kr=Ue+(un=Ae[He+7]),Zt=Ue-un,ro=je+Xt,gn=je-Xt,Sn=ot+Lt,jo=ot-Lt,rn=Ct+Nt,pl=Ct-Nt,Pn=kr+rn,io=kr-rn,Is=ro+Sn,Nn=ro-Sn;Ae[He]=Pn+Is,Ae[He+4]=Pn-Is;var xt=.707106781*(Nn+io);Ae[He+2]=io+xt,Ae[He+6]=io-xt;var on=.382683433*((Pn=pl+jo)-(Nn=gn+Zt)),gl=.5411961*Pn+on,Sr=1.306562965*Nn+on,Bo=.707106781*(Is=jo+gn),Vo=Zt+Bo,ut=Zt-Bo;Ae[He+5]=ut+gl,Ae[He+3]=ut-gl,Ae[He+1]=Vo+Sr,Ae[He+7]=Vo-Sr,He+=8}for(He=0,vt=0;vt<8;++vt){Ue=Ae[He],je=Ae[He+8],ot=Ae[He+16],Ct=Ae[He+24],Nt=Ae[He+32],Lt=Ae[He+40],Xt=Ae[He+48];var oo=Ue+(un=Ae[He+56]),Uo=Ue-un,Qr=je+Xt,ur=je-Xt,er=ot+Lt,fi=ot-Lt,Tc=Ct+Nt,Ms=Ct-Nt,so=oo+Tc,ao=oo-Tc,lo=Qr+er,Ho=Qr-er;Ae[He]=so+lo,Ae[He+32]=so-lo;var Ai=.707106781*(Ho+ao);Ae[He+16]=ao+Ai,Ae[He+48]=ao-Ai;var qo=.382683433*((so=Ms+fi)-(Ho=ur+Uo)),ml=.5411961*so+qo,Pc=1.306562965*Ho+qo,Nc=.707106781*(lo=fi+ur),Oc=Uo+Nc,kc=Uo-Nc;Ae[He+40]=kc+ml,Ae[He+24]=kc-ml,Ae[He+8]=Oc+Pc,Ae[He+56]=Oc-Pc,He++}for(vt=0;vt<64;++vt)Bt=Ae[vt]*ke[vt],p[vt]=Bt>0?Bt+.5|0:Bt-.5|0;return p}(I,L),Te=0;Te<64;++Te)y[H[Te]]=Pe[Te];var Be=y[0]-B;B=y[0],Be==0?ve($[0]):(ve($[m[le=32767+Be]]),ve(f[le]));for(var Le=63;Le>0&&y[Le]==0;)Le--;if(Le==0)return ve(de),B;for(var pt,_e=1;_e<=Le;){for(var V=_e;y[_e]==0&&_e<=Le;)++_e;var It=_e-V;if(It>=16){pt=It>>4;for(var Qe=1;Qe<=pt;++Qe)ve(he);It&=15}le=32767+y[_e],ve(ee[(It<<4)+m[le]]),ve(f[le]),_e++}return Le!=63&&ve(de),B}function Ne(I){I=Math.min(Math.max(I,1),100),o!=I&&(function(L){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var ee=s((B[$]*L+50)/100);ee=Math.min(Math.max(ee,1),255),a[H[$]]=ee}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var he=s((le[de]*L+50)/100);he=Math.min(Math.max(he,1),255),l[H[de]]=he}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Be=0;Be<8;Be++)for(var Le=0;Le<8;Le++)c[Te]=1/(a[H[Te]]*Pe[Be]*Pe[Le]*8),d[Te]=1/(l[H[Te]]*Pe[Be]*Pe[Le]*8),Te++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),o=I)}this.encode=function(I,L){L&&Ne(L),_=new Array,C=0,w=7,ue(65496),ue(65504),ue(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ue(1),ue(1),X(0),X(0),function(){ue(65499),ue(132),X(0);for(var je=0;je<64;je++)X(a[je]);X(1);for(var ot=0;ot<64;ot++)X(l[ot])}(),function(je,ot){ue(65472),ue(17),X(8),ue(ot),ue(je),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(I.width,I.height),function(){ue(65476),ue(418),X(0);for(var je=0;je<16;je++)X(j[je+1]);for(var ot=0;ot<=11;ot++)X(te[ot]);X(16);for(var Ct=0;Ct<16;Ct++)X(ie[Ct+1]);for(var Nt=0;Nt<=161;Nt++)X(T[Nt]);X(1);for(var Lt=0;Lt<16;Lt++)X(P[Lt+1]);for(var Xt=0;Xt<=11;Xt++)X(z[Xt]);X(17);for(var un=0;un<16;un++)X(U[un+1]);for(var vt=0;vt<=161;vt++)X(ce[vt])}(),ue(65498),ue(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var B=0,$=0,ee=0;C=0,w=7,this.encode.displayName="_encode_";for(var le,de,he,Pe,Te,Be,Le,pt,_e,V=I.data,It=I.width,Qe=I.height,Ae=4*It,ke=0;ke<Qe;){for(le=0;le<Ae;){for(Te=Ae*ke+le,Le=-1,pt=0,_e=0;_e<64;_e++)Be=Te+(pt=_e>>3)*Ae+(Le=4*(7&_e)),ke+pt>=Qe&&(Be-=Ae*(ke+1+pt-Qe)),le+Le>=Ae&&(Be-=le+Le-Ae+4),de=V[Be++],he=V[Be++],Pe=V[Be++],S[_e]=(J[de]+J[he+256>>0]+J[Pe+512>>0]>>16)-128,O[_e]=(J[de+768>>0]+J[he+1024>>0]+J[Pe+1280>>0]>>16)-128,k[_e]=(J[de+1280>>0]+J[he+1536>>0]+J[Pe+1792>>0]>>16)-128;B=ge(S,c,B,e,r),$=ge(O,d,$,t,i),ee=ge(k,d,ee,t,i),le+=32}ke+=8}if(w>=0){var Ue=[];Ue[1]=w+1,Ue[0]=(1<<w+1)-1,ve(Ue)}return ue(65497),new Uint8Array(_)},n=n||50,function(){for(var I=String.fromCharCode,L=0;L<256;L++)q[L]=I(L)}(),e=ae(j,te),t=ae(P,z),r=ae(ie,T),i=ae(U,ce),function(){for(var I=1,L=2,B=1;B<=15;B++){for(var $=I;$<L;$++)m[32767+$]=B,f[32767+$]=[],f[32767+$][1]=B,f[32767+$][0]=$;for(var ee=-(L-1);ee<=-I;ee++)m[32767+ee]=B,f[32767+ee]=[],f[32767+ee][1]=B,f[32767+ee][0]=L-1+ee;I<<=1,L<<=1}}(),function(){for(var I=0;I<256;I++)J[I]=19595*I,J[I+256>>0]=38470*I,J[I+512>>0]=7471*I+32768,J[I+768>>0]=-11059*I,J[I+1024>>0]=-21709*I,J[I+1280>>0]=32768*I+8421375,J[I+1536>>0]=-27439*I,J[I+1792>>0]=-5329*I}(),Ne(n)}function To(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function I6(n){function e(j){if(!j)throw Error("assert :P")}function t(j,te,ie){for(var T=0;4>T;T++)if(j[te+T]!=ie.charCodeAt(T))return!0;return!1}function r(j,te,ie,T,P){for(var z=0;z<P;z++)j[te+z]=ie[T+z]}function i(j,te,ie,T){for(var P=0;P<T;P++)j[te+P]=ie}function o(j){return new Int32Array(j)}function s(j,te){for(var ie=[],T=0;T<j;T++)ie.push(new te);return ie}function a(j,te){var ie=[];return function T(P,z,U){for(var ce=U[z],ae=0;ae<ce&&(P.push(U.length>z+1?[]:new te),!(U.length<z+1));ae++)T(P[ae],z+1,U)}(ie,0,j),ie}var l=function(){var j=this;function te(u,h){for(var v=1<<h-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function ie(u,h,v,b,x){e(!(b%v));do u[h+(b-=v)]=x;while(0<b)}function T(u,h,v,b,x){if(e(2328>=x),512>=x)var D=o(512);else if((D=o(x))==null)return 0;return function(M,A,N,R,W,oe){var se,Q,Ee=A,me=1<<N,Y=o(16),K=o(16);for(e(W!=0),e(R!=null),e(M!=null),e(0<N),Q=0;Q<W;++Q){if(15<R[Q])return 0;++Y[R[Q]]}if(Y[0]==W)return 0;for(K[1]=0,se=1;15>se;++se){if(Y[se]>1<<se)return 0;K[se+1]=K[se]+Y[se]}for(Q=0;Q<W;++Q)se=R[Q],0<R[Q]&&(oe[K[se]++]=Q);if(K[15]==1)return(R=new P).g=0,R.value=oe[0],ie(M,Ee,1,me,R),me;var Ce,De=-1,xe=me-1,ze=0,Re=1,at=1,Fe=1<<N;for(Q=0,se=1,W=2;se<=N;++se,W<<=1){if(Re+=at<<=1,0>(at-=Y[se]))return 0;for(;0<Y[se];--Y[se])(R=new P).g=se,R.value=oe[Q++],ie(M,Ee+ze,W,Fe,R),ze=te(ze,se)}for(se=N+1,W=2;15>=se;++se,W<<=1){if(Re+=at<<=1,0>(at-=Y[se]))return 0;for(;0<Y[se];--Y[se]){if(R=new P,(ze&xe)!=De){for(Ee+=Fe,Ce=1<<(De=se)-N;15>De&&!(0>=(Ce-=Y[De]));)++De,Ce<<=1;me+=Fe=1<<(Ce=De-N),M[A+(De=ze&xe)].g=Ce+N,M[A+De].value=Ee-A-De}R.g=se-N,R.value=oe[Q++],ie(M,Ee+(ze>>N),W,Fe,R),ze=te(ze,se)}}return Re!=2*K[15]-1?0:me}(u,h,v,b,x,D)}function P(){this.value=this.g=0}function z(){this.value=this.g=0}function U(){this.G=s(5,P),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Dr,z)}function ce(u,h,v,b){e(u!=null),e(h!=null),e(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=v,u.Jd=h,u.Yc=v+b,u.Zc=4<=b?v+b-4+1:v,le(u)}function ae(u,h){for(var v=0;0<h--;)v|=he(u,128)<<h;return v}function ve(u,h){var v=ae(u,h);return de(u)?-v:v}function X(u,h,v,b){var x,D=0;for(e(u!=null),e(h!=null),e(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),x=0;x<b;++x)D+=h[v+x]<<8*x;u.Ra=D,u.bb=b,u.oa=h,u.pa=v}function ue(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Kc-8>>>0,++u.bb,u.u-=8;B(u)&&(u.h=1,u.u=0)}function ge(u,h){if(e(0<=h),!u.h&&h<=Yc){var v=L(u)&Wc[h];return u.u+=h,ue(u),v}return u.h=1,u.u=0}function Ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(u){return u.Ra>>>(u.u&Kc-1)>>>0}function B(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Kc}function $(u,h){u.u=h,u.h=B(u)}function ee(u){u.u>=uh&&(e(u.u>=uh),ue(u))}function le(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function de(u){return ae(u,1)}function he(u,h){var v=u.Ca;0>u.b&&le(u);var b=u.b,x=v*h>>>8,D=(u.I>>>b>x)+0;for(D?(v-=x,u.I-=x+1<<b>>>0):v=x+1,b=v,x=0;256<=b;)x+=8,b>>=8;return b=7^x+ti[b],u.b-=b,u.Ca=(v<<b)-1,D}function Pe(u,h,v){u[h+0]=v>>24&255,u[h+1]=v>>16&255,u[h+2]=v>>8&255,u[h+3]=v>>0&255}function Te(u,h){return u[h+0]<<0|u[h+1]<<8}function Be(u,h){return Te(u,h)|u[h+2]<<16}function Le(u,h){return Te(u,h)|Te(u,h+2)<<16}function pt(u,h){var v=1<<h;return e(u!=null),e(0<h),u.X=o(v),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function _e(u,h){e(u!=null),e(h!=null),e(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function V(){this.X=[],this.Xa=this.Mb=0}function It(u,h,v,b){e(v!=null),e(b!=null);var x=v[0],D=b[0];return x==0&&(x=(u*D+h/2)/h),D==0&&(D=(h*x+u/2)/u),0>=x||0>=D?0:(v[0]=x,b[0]=D,1)}function Qe(u,h){return u+(1<<h)-1>>>h}function Ae(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function ke(u,h){j[h]=function(v,b,x,D,M,A,N){var R;for(R=0;R<M;++R){var W=j[u](A[N+R-1],x,D+R);A[N+R]=Ae(v[b+R],W)}}}function Ue(){this.ud=this.hd=this.jd=0}function je(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function ot(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Ct(u,h){return ot(u+(u-h+.5>>1))}function Nt(u,h,v){return Math.abs(h-v)-Math.abs(u-v)}function Lt(u,h,v,b,x,D,M){for(b=D[M-1],v=0;v<x;++v)D[M+v]=b=Ae(u[h+v],b)}function Xt(u,h,v,b,x){var D;for(D=0;D<v;++D){var M=u[h+D],A=M>>8&255,N=16711935&(N=(N=16711935&M)+((A<<16)+A));b[x+D]=(4278255360&M)+N>>>0}}function un(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function vt(u,h,v,b,x,D){var M;for(M=0;M<b;++M){var A=h[v+M],N=A>>>8,R=A,W=255&(W=(W=A>>>16)+((u.jd<<24>>24)*(N<<24>>24)>>>5));R=255&(R=(R=R+((u.hd<<24>>24)*(N<<24>>24)>>>5))+((u.ud<<24>>24)*(W<<24>>24)>>>5)),x[D+M]=(4278255360&A)+(W<<16)+R}}function Bt(u,h,v,b,x){j[h]=function(D,M,A,N,R,W,oe,se,Q){for(N=oe;N<se;++N)for(oe=0;oe<Q;++oe)R[W++]=x(A[b(D[M++])])},j[u]=function(D,M,A,N,R,W,oe){var se=8>>D.b,Q=D.Ea,Ee=D.K[0],me=D.w;if(8>se)for(D=(1<<D.b)-1,me=(1<<se)-1;M<A;++M){var Y,K=0;for(Y=0;Y<Q;++Y)Y&D||(K=b(N[R++])),W[oe++]=x(Ee[K&me]),K>>=se}else j["VP8LMapColor"+v](N,R,Ee,me,W,oe,M,A,Q)}}function He(u,h,v,b,x){for(v=h+v;h<v;){var D=u[h++];b[x++]=D>>16&255,b[x++]=D>>8&255,b[x++]=D>>0&255}}function kr(u,h,v,b,x){for(v=h+v;h<v;){var D=u[h++];b[x++]=D>>16&255,b[x++]=D>>8&255,b[x++]=D>>0&255,b[x++]=D>>24&255}}function Zt(u,h,v,b,x){for(v=h+v;h<v;){var D=(M=u[h++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;b[x++]=D,b[x++]=M}}function ro(u,h,v,b,x){for(v=h+v;h<v;){var D=(M=u[h++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;b[x++]=D,b[x++]=M}}function gn(u,h,v,b,x){for(v=h+v;h<v;){var D=u[h++];b[x++]=D>>0&255,b[x++]=D>>8&255,b[x++]=D>>16&255}}function Sn(u,h,v,b,x,D){if(D==0)for(v=h+v;h<v;)Pe(b,((D=u[h++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),x+=32;else r(b,x,u,h,v)}function jo(u,h){j[h][0]=j[u+"0"],j[h][1]=j[u+"1"],j[h][2]=j[u+"2"],j[h][3]=j[u+"3"],j[h][4]=j[u+"4"],j[h][5]=j[u+"5"],j[h][6]=j[u+"6"],j[h][7]=j[u+"7"],j[h][8]=j[u+"8"],j[h][9]=j[u+"9"],j[h][10]=j[u+"10"],j[h][11]=j[u+"11"],j[h][12]=j[u+"12"],j[h][13]=j[u+"13"],j[h][14]=j[u+"0"],j[h][15]=j[u+"0"]}function rn(u){return u==yy||u==by||u==yg||u==_y}function pl(){this.eb=[],this.size=this.A=this.fb=0}function Pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function io(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pl,this.f.kb=new Pn,this.sd=null}function Is(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function on(u,h){var v=u.T,b=h.ba.f.RGBA,x=b.eb,D=b.fb+u.ka*b.A,M=Ri[h.ba.S],A=u.y,N=u.O,R=u.f,W=u.N,oe=u.ea,se=u.W,Q=h.cc,Ee=h.dc,me=h.Mc,Y=h.Nc,K=u.ka,Ce=u.ka+u.T,De=u.U,xe=De+1>>1;for(K==0?M(A,N,null,null,R,W,oe,se,R,W,oe,se,x,D,null,null,De):(M(h.ec,h.fc,A,N,Q,Ee,me,Y,R,W,oe,se,x,D-b.A,x,D,De),++v);K+2<Ce;K+=2)Q=R,Ee=W,me=oe,Y=se,W+=u.Rc,se+=u.Rc,D+=2*b.A,M(A,(N+=2*u.fa)-u.fa,A,N,Q,Ee,me,Y,R,W,oe,se,x,D-b.A,x,D,De);return N+=u.fa,u.j+Ce<u.o?(r(h.ec,h.fc,A,N,De),r(h.cc,h.dc,R,W,xe),r(h.Mc,h.Nc,oe,se,xe),v--):1&Ce||M(A,N,null,null,R,W,oe,se,R,W,oe,se,x,D+b.A,null,null,De),v}function gl(u,h,v){var b=u.F,x=[u.J];if(b!=null){var D=u.U,M=h.ba.S,A=M==vg||M==yg;h=h.ba.f.RGBA;var N=[0],R=u.ka;N[0]=u.T,u.Kb&&(R==0?--N[0]:(--R,x[0]-=u.width),u.j+u.ka+u.T==u.o&&(N[0]=u.o-u.j-R));var W=h.eb;R=h.fb+R*h.A,u=_n(b,x[0],u.width,D,N,W,R+(A?0:3),h.A),e(v==N),u&&rn(M)&&Oi(W,R,A,D,N,h.A)}return 0}function Sr(u){var h=u.ma,v=h.ba.S,b=11>v,x=v==gg||v==mg||v==vg||v==vy||v==12||rn(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!lh(h.Oa,u,x?11:12))return 0;if(x&&rn(v)&&Me(),u.da)alert("todo:use_scaling");else{if(b){if(h.Ib=xt,u.Kb){if(v=u.U+1>>1,h.memory=o(u.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=on,Me()}}else alert("todo:EmitYUV");x&&(h.Jb=gl,b&&re())}if(b&&!Fx){for(u=0;256>u;++u)HT[u]=89858*(u-128)+_g>>bg,GT[u]=-22014*(u-128)+_g,zT[u]=-45773*(u-128),qT[u]=113618*(u-128)+_g>>bg;for(u=vh;u<xy;++u)h=76283*(u-16)+_g>>bg,$T[u-vh]=pi(h,255),WT[u-vh]=pi(h+8>>4,15);Fx=1}return 1}function Bo(u){var h=u.ma,v=u.U,b=u.T;return e(!(1&u.ka)),0>=v||0>=b?0:(v=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,v),h.Dc+=v,1)}function Vo(u){u.ma.memory=null}function ut(u,h,v,b){return ge(u,8)!=47?0:(h[0]=ge(u,14)+1,v[0]=ge(u,14)+1,b[0]=ge(u,1),ge(u,3)!=0?0:!u.h)}function oo(u,h){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+ge(h,v)+1}function Uo(u,h){return 120<h?h-120:1<=(v=((v=MT[h-1])>>4)*u+(8-(15&v)))?v:1;var v}function Qr(u,h,v){var b=L(v),x=u[h+=255&b].g-8;return 0<x&&($(v,v.u+8),b=L(v),h+=u[h].value,h+=b&(1<<x)-1),$(v,v.u+u[h].g),u[h].value}function ur(u,h,v){return v.g+=u.g,v.value+=u.value<<h>>>0,e(8>=v.g),u.g}function er(u,h,v){var b=u.xc;return e((h=b==0?0:u.vc[u.md*(v>>b)+(h>>b)])<u.Wb),u.Ya[h]}function fi(u,h,v,b){var x=u.ab,D=u.c*h,M=u.C;h=M+h;var A=v,N=b;for(b=u.Ta,v=u.Ua;0<x--;){var R=u.gc[x],W=M,oe=h,se=A,Q=N,Ee=(N=b,A=v,R.Ea);switch(e(W<oe),e(oe<=R.nc),R.hc){case 2:lg(se,Q,(oe-W)*Ee,N,A);break;case 0:var me=W,Y=oe,K=N,Ce=A,De=(Fe=R).Ea;me==0&&(gy(se,Q,null,null,1,K,Ce),Lt(se,Q+1,0,0,De-1,K,Ce+1),Q+=De,Ce+=De,++me);for(var xe=1<<Fe.b,ze=xe-1,Re=Qe(De,Fe.b),at=Fe.K,Fe=Fe.w+(me>>Fe.b)*Re;me<Y;){var Qt=at,an=Fe,Jt=1;for(dh(se,Q,K,Ce-De,1,K,Ce);Jt<De;){var qt=(Jt&~ze)+xe;qt>De&&(qt=De),(0,ba[Qt[an++]>>8&15])(se,Q+ +Jt,K,Ce+Jt-De,qt-Jt,K,Ce+Jt),Jt=qt}Q+=De,Ce+=De,++me&ze||(Fe+=Re)}oe!=R.nc&&r(N,A-Ee,N,A+(oe-W-1)*Ee,Ee);break;case 1:for(Ee=se,Y=Q,De=(se=R.Ea)-(Ce=se&~(K=(Q=1<<R.b)-1)),me=Qe(se,R.b),xe=R.K,R=R.w+(W>>R.b)*me;W<oe;){for(ze=xe,Re=R,at=new Ue,Fe=Y+Ce,Qt=Y+se;Y<Fe;)un(ze[Re++],at),wl(at,Ee,Y,Q,N,A),Y+=Q,A+=Q;Y<Qt&&(un(ze[Re++],at),wl(at,Ee,Y,De,N,A),Y+=De,A+=De),++W&K||(R+=me)}break;case 3:if(se==N&&Q==A&&0<R.b){for(Y=N,se=Ee=A+(oe-W)*Ee-(Ce=(oe-W)*Qe(R.Ea,R.b)),Q=N,K=A,me=[],Ce=(De=Ce)-1;0<=Ce;--Ce)me[Ce]=Q[K+Ce];for(Ce=De-1;0<=Ce;--Ce)Y[se+Ce]=me[Ce];Ti(R,W,oe,N,Ee,N,A)}else Ti(R,W,oe,se,Q,N,A)}A=b,N=v}N!=v&&r(b,v,A,N,D)}function Tc(u,h){var v=u.V,b=u.Ba+u.c*u.C,x=h-u.C;if(e(h<=u.l.o),e(16>=x),0<x){var D=u.l,M=u.Ta,A=u.Ua,N=D.width;if(fi(u,x,v,b),x=A=[A],e((v=u.C)<(b=h)),e(D.v<D.va),b>D.o&&(b=D.o),v<D.j){var R=D.j-v;v=D.j,x[0]+=R*N}if(v>=b?v=0:(x[0]+=4*D.v,D.ka=v-D.j,D.U=D.va-D.v,D.T=b-v,v=1),v){if(A=A[0],11>(v=u.ca).S){var W=v.f.RGBA,oe=(b=v.S,x=D.U,D=D.T,R=W.eb,W.A),se=D;for(W=W.fb+u.Ma*W.A;0<se--;){var Q=M,Ee=A,me=x,Y=R,K=W;switch(b){case pg:ni(Q,Ee,me,Y,K);break;case gg:Gr(Q,Ee,me,Y,K);break;case yy:Gr(Q,Ee,me,Y,K),Oi(Y,K,0,me,1,0);break;case Ix:Ns(Q,Ee,me,Y,K);break;case mg:Sn(Q,Ee,me,Y,K,1);break;case by:Sn(Q,Ee,me,Y,K,1),Oi(Y,K,0,me,1,0);break;case vg:Sn(Q,Ee,me,Y,K,0);break;case yg:Sn(Q,Ee,me,Y,K,0),Oi(Y,K,1,me,1,0);break;case vy:_a(Q,Ee,me,Y,K);break;case _y:_a(Q,Ee,me,Y,K),bn(Y,K,me,1,0);break;case Mx:Ps(Q,Ee,me,Y,K);break;default:e(0)}A+=N,W+=oe}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=h,e(u.C<=u.i)}function Ms(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var v=u.Ya[h].G,b=u.Ya[h].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function so(u,h,v,b,x,D){if(u.Z!=0){var M=u.qd,A=u.rd;for(e(Ea[u.Z]!=null);h<v;++h)Ea[u.Z](M,A,b,x,b,x,D),M=b,A=x,x+=D;u.qd=M,u.rd=A}}function ao(u,h){var v=u.l.ma,b=v.Z==0||v.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,e(h<=u.l.o),h>b){var x=u.l.width,D=v.ca,M=v.tb+x*b,A=u.V,N=u.Ba+u.c*b,R=u.gc;e(u.ab==1),e(R[0].hc==3),cg(R[0],b,h,A,N,D,M),so(v,b,h,D,M,x)}u.C=u.Ma=h}function lo(u,h,v,b,x,D,M){var A=u.$/b,N=u.$%b,R=u.m,W=u.s,oe=v+u.$,se=oe;x=v+b*x;var Q=v+b*D,Ee=280+W.ua,me=u.Pb?A:16777216,Y=0<W.ua?W.Wa:null,K=W.wc,Ce=oe<Q?er(W,N,A):null;e(u.C<D),e(Q<=x);var De=!1;e:for(;;){for(;De||oe<Q;){var xe=0;if(A>=me){var ze=oe-v;e((me=u).Pb),me.wd=me.m,me.xd=ze,0<me.s.ua&&_e(me.s.Wa,me.s.vb),me=A+TT}if(N&K||(Ce=er(W,N,A)),e(Ce!=null),Ce.Qb&&(h[oe]=Ce.qb,De=!0),!De)if(ee(R),Ce.jc){xe=R,ze=h;var Re=oe,at=Ce.pd[L(xe)&Dr-1];e(Ce.jc),256>at.g?($(xe,xe.u+at.g),ze[Re]=at.value,xe=0):($(xe,xe.u+at.g-256),e(256<=at.value),xe=at.value),xe==0&&(De=!0)}else xe=Qr(Ce.G[0],Ce.H[0],R);if(R.h)break;if(De||256>xe){if(!De)if(Ce.nd)h[oe]=(Ce.qb|xe<<8)>>>0;else{if(ee(R),De=Qr(Ce.G[1],Ce.H[1],R),ee(R),ze=Qr(Ce.G[2],Ce.H[2],R),Re=Qr(Ce.G[3],Ce.H[3],R),R.h)break;h[oe]=(Re<<24|De<<16|xe<<8|ze)>>>0}if(De=!1,++oe,++N>=b&&(N=0,++A,M!=null&&A<=D&&!(A%16)&&M(u,A),Y!=null))for(;se<oe;)xe=h[se++],Y.X[(506832829*xe&4294967295)>>>Y.Mb]=xe}else if(280>xe){if(xe=oo(xe-256,R),ze=Qr(Ce.G[4],Ce.H[4],R),ee(R),ze=Uo(b,ze=oo(ze,R)),R.h)break;if(oe-v<ze||x-oe<xe)break e;for(Re=0;Re<xe;++Re)h[oe+Re]=h[oe+Re-ze];for(oe+=xe,N+=xe;N>=b;)N-=b,++A,M!=null&&A<=D&&!(A%16)&&M(u,A);if(e(oe<=x),N&K&&(Ce=er(W,N,A)),Y!=null)for(;se<oe;)xe=h[se++],Y.X[(506832829*xe&4294967295)>>>Y.Mb]=xe}else{if(!(xe<Ee))break e;for(De=xe-280,e(Y!=null);se<oe;)xe=h[se++],Y.X[(506832829*xe&4294967295)>>>Y.Mb]=xe;xe=oe,e(!(De>>>(ze=Y).Xa)),h[xe]=ze.X[De],De=!0}De||e(R.h==B(R))}if(u.Pb&&R.h&&oe<x)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&_e(u.s.vb,u.s.Wa);else{if(R.h)break e;M?.(u,A>D?D:A),u.a=0,u.$=oe-v}return 1}return u.a=3,0}function Ho(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,e(u!=null)}function Ai(){var u=new py;return u==null?null:(u.a=0,u.xb=Px,jo("Predictor","VP8LPredictors"),jo("Predictor","VP8LPredictors_C"),jo("PredictorAdd","VP8LPredictorsAdd"),jo("PredictorAdd","VP8LPredictorsAdd_C"),lg=Xt,wl=vt,ni=He,Gr=kr,_a=Zt,Ps=ro,Ns=gn,j.VP8LMapColor32b=Xc,j.VP8LMapColor8b=ug,u)}function qo(u,h,v,b,x){var D=1,M=[u],A=[h],N=b.m,R=b.s,W=null,oe=0;e:for(;;){if(v)for(;D&&ge(N,1);){var se=M,Q=A,Ee=b,me=1,Y=Ee.m,K=Ee.gc[Ee.ab],Ce=ge(Y,2);if(Ee.Oc&1<<Ce)D=0;else{switch(Ee.Oc|=1<<Ce,K.hc=Ce,K.Ea=se[0],K.nc=Q[0],K.K=[null],++Ee.ab,e(4>=Ee.ab),Ce){case 0:case 1:K.b=ge(Y,3)+2,me=qo(Qe(K.Ea,K.b),Qe(K.nc,K.b),0,Ee,K.K),K.K=K.K[0];break;case 3:var De,xe=ge(Y,8)+1,ze=16<xe?0:4<xe?1:2<xe?2:3;if(se[0]=Qe(K.Ea,ze),K.b=ze,De=me=qo(xe,1,0,Ee,K.K)){var Re,at=xe,Fe=K,Qt=1<<(8>>Fe.b),an=o(Qt);if(an==null)De=0;else{var Jt=Fe.K[0],qt=Fe.w;for(an[0]=Fe.K[0][0],Re=1;Re<1*at;++Re)an[Re]=Ae(Jt[qt+Re],an[Re-1]);for(;Re<4*Qt;++Re)an[Re]=0;Fe.K[0]=null,Fe.K[0]=an,De=1}}me=De;break;case 2:break;default:e(0)}D=me}}if(M=M[0],A=A[0],D&&ge(N,1)&&!(D=1<=(oe=ge(N,4))&&11>=oe)){b.a=3;break e}var mn;if(mn=D)t:{var dn,Tt,nr,ri=b,rr=M,ii=A,ln=oe,mi=v,vi=ri.m,yr=ri.s,Ir=[null],Wr=1,Li=0,Wo=AT[ln];n:for(;;){if(mi&&ge(vi,1)){var br=ge(vi,3)+2,Ls=Qe(rr,br),Dl=Qe(ii,br),tu=Ls*Dl;if(!qo(Ls,Dl,0,ri,Ir))break n;for(Ir=Ir[0],yr.xc=br,dn=0;dn<tu;++dn){var Sa=Ir[dn]>>8&65535;Ir[dn]=Sa,Sa>=Wr&&(Wr=Sa+1)}}if(vi.h)break n;for(Tt=0;5>Tt;++Tt){var kn=Ax[Tt];!Tt&&0<ln&&(kn+=1<<ln),Li<kn&&(Li=kn)}var Ey=s(Wr*Wo,P),Vx=Wr,Ux=s(Vx,U);if(Ux==null)var Cg=null;else e(65536>=Vx),Cg=Ux;var yh=o(Li);if(Cg==null||yh==null||Ey==null){ri.a=1;break n}var xg=Ey;for(dn=nr=0;dn<Wr;++dn){var po=Cg[dn],nu=po.G,ru=po.H,Hx=0,Eg=1,qx=0;for(Tt=0;5>Tt;++Tt){kn=Ax[Tt],nu[Tt]=xg,ru[Tt]=nr,!Tt&&0<ln&&(kn+=1<<ln);i:{var Sg,Sy=kn,Dg=ri,bh=yh,XT=xg,JT=nr,Dy=0,Da=Dg.m,ZT=ge(Da,1);if(i(bh,0,0,Sy),ZT){var QT=ge(Da,1)+1,eP=ge(Da,1),zx=ge(Da,eP==0?1:8);bh[zx]=1,QT==2&&(bh[zx=ge(Da,8)]=1);var Ig=1}else{var Gx=o(19),$x=ge(Da,4)+4;if(19<$x){Dg.a=3;var Mg=0;break i}for(Sg=0;Sg<$x;++Sg)Gx[IT[Sg]]=ge(Da,3);var Iy=void 0,_h=void 0,Wx=Dg,tP=Gx,Ag=Sy,Yx=bh,My=0,Ia=Wx.m,Kx=8,Xx=s(128,P);r:for(;T(Xx,0,7,tP,19);){if(ge(Ia,1)){var nP=2+2*ge(Ia,3);if((Iy=2+ge(Ia,nP))>Ag)break r}else Iy=Ag;for(_h=0;_h<Ag&&Iy--;){ee(Ia);var Jx=Xx[0+(127&L(Ia))];$(Ia,Ia.u+Jx.g);var iu=Jx.value;if(16>iu)Yx[_h++]=iu,iu!=0&&(Kx=iu);else{var rP=iu==16,Zx=iu-16,iP=ST[Zx],Qx=ge(Ia,ET[Zx])+iP;if(_h+Qx>Ag)break r;for(var oP=rP?Kx:0;0<Qx--;)Yx[_h++]=oP}}My=1;break r}My||(Wx.a=3),Ig=My}(Ig=Ig&&!Da.h)&&(Dy=T(XT,JT,8,bh,Sy)),Ig&&Dy!=0?Mg=Dy:(Dg.a=3,Mg=0)}if(Mg==0)break n;if(Eg&&DT[Tt]==1&&(Eg=xg[nr].g==0),Hx+=xg[nr].g,nr+=Mg,3>=Tt){var wh,Ay=yh[0];for(wh=1;wh<kn;++wh)yh[wh]>Ay&&(Ay=yh[wh]);qx+=Ay}}if(po.nd=Eg,po.Qb=0,Eg&&(po.qb=(nu[3][ru[3]+0].value<<24|nu[1][ru[1]+0].value<<16|nu[2][ru[2]+0].value)>>>0,Hx==0&&256>nu[0][ru[0]+0].value&&(po.Qb=1,po.qb+=nu[0][ru[0]+0].value<<8)),po.jc=!po.Qb&&6>qx,po.jc){var Tg,Fs=po;for(Tg=0;Tg<Dr;++Tg){var Ma=Tg,Aa=Fs.pd[Ma],Pg=Fs.G[0][Fs.H[0]+Ma];256<=Pg.value?(Aa.g=Pg.g+256,Aa.value=Pg.value):(Aa.g=0,Aa.value=0,Ma>>=ur(Pg,8,Aa),Ma>>=ur(Fs.G[1][Fs.H[1]+Ma],16,Aa),Ma>>=ur(Fs.G[2][Fs.H[2]+Ma],0,Aa),ur(Fs.G[3][Fs.H[3]+Ma],24,Aa))}}}yr.vc=Ir,yr.Wb=Wr,yr.Ya=Cg,yr.yc=Ey,mn=1;break t}mn=0}if(!(D=mn)){b.a=3;break e}if(0<oe){if(R.ua=1<<oe,!pt(R.Wa,oe)){b.a=1,D=0;break e}}else R.ua=0;var Ty=b,eE=M,sP=A,Py=Ty.s,Ny=Py.xc;if(Ty.c=eE,Ty.i=sP,Py.md=Qe(eE,Ny),Py.wc=Ny==0?-1:(1<<Ny)-1,v){b.xb=FT;break e}if((W=o(M*A))==null){b.a=1,D=0;break e}D=(D=lo(b,W,0,M,A,A,null))&&!N.h;break e}return D?(x!=null?x[0]=W:(e(W==null),e(v)),b.$=0,v||Ho(R)):Ho(R),D}function ml(u,h){var v=u.c*u.i,b=v+h+16*h;return e(u.c<=h),u.V=o(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+h,1)}function Pc(u,h){var v=u.C,b=h-v,x=u.V,D=u.Ba+u.c*v;for(e(h<=u.l.o);0<b;){var M=16<b?16:b,A=u.l.ma,N=u.l.width,R=N*M,W=A.ca,oe=A.tb+N*v,se=u.Ta,Q=u.Ua;fi(u,M,x,D),qn(se,Q,W,oe,R),so(A,v,v+M,W,oe,N),b-=M,x+=M*u.c,v+=M}e(v==h),u.C=u.Ma=h}function Nc(){this.ub=this.yd=this.td=this.Rb=0}function Oc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function kc(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Hp(){this.Yb=function(){var u=[];return function h(v,b,x){for(var D=x[b],M=0;M<D&&(v.push(x.length>b+1?[]:0),!(x.length<b+1));M++)h(v[M],b+1,x)}(u,0,[3,11]),u}()}function G2(){this.jb=o(3),this.Wc=a([4,8],Hp),this.Xc=a([4,17],Hp)}function $2(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Rc(){this.ld=this.La=this.dd=this.tc=0}function qp(){this.Na=this.la=0}function W2(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $d(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Y2(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rc),this.Y=0,this.ya=Array(new $d),this.aa=0,this.l=new Lc}function zp(){this.y=o(16),this.f=o(8),this.ea=o(8)}function K2(){this.cb=this.a=0,this.sc="",this.m=new Ne,this.Od=new Nc,this.Kc=new Oc,this.ed=new $2,this.Qa=new kc,this.Ic=this.$c=this.Aa=0,this.D=new Y2,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Ne),this.ia=0,this.pb=s(4,W2),this.Pa=new G2,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zp),this.Hd=0,this.rb=Array(new qp),this.sb=0,this.wa=Array(new Rc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $d),this.L=this.aa=0,this.gd=a([4,2],Rc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Lc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function X2(){var u=new K2;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,mh||(mh=Wp)),u}function Un(u,h,v){return u.a==0&&(u.a=h,u.sc=v,u.cb=0),0}function Gp(u,h,v){return 3<=v&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function $p(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return Un(u,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,b=h.w,x=h.ha;if(4>x)return Un(u,7,"Truncated header.");var D=v[b+0]|v[b+1]<<8|v[b+2]<<16,M=u.Od;if(M.Rb=!(1&D),M.td=D>>1&7,M.yd=D>>4&1,M.ub=D>>5,3<M.td)return Un(u,3,"Incorrect keyframe parameters.");if(!M.yd)return Un(u,4,"Frame not displayable.");b+=3,x-=3;var A=u.Kc;if(M.Rb){if(7>x)return Un(u,7,"cannot parse picture header");if(!Gp(v,b,x))return Un(u,3,"Bad code word");A.c=16383&(v[b+4]<<8|v[b+3]),A.Td=v[b+4]>>6,A.i=16383&(v[b+6]<<8|v[b+5]),A.Ud=v[b+6]>>6,b+=7,x-=7,u.za=A.c+15>>4,u.Ub=A.i+15>>4,h.width=A.c,h.height=A.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((D=u.Pa).jb,0,255,D.jb.length),e((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(M.ub>x)return Un(u,7,"bad partition length");ce(D=u.m,v,b,M.ub),b+=M.ub,x-=M.ub,M.Rb&&(A.Ld=de(D),A.Kd=de(D)),A=u.Qa;var N,R=u.Pa;if(e(D!=null),e(A!=null),A.Cb=de(D),A.Cb){if(A.Bb=de(D),de(D)){for(A.Fb=de(D),N=0;4>N;++N)A.Zb[N]=de(D)?ve(D,7):0;for(N=0;4>N;++N)A.Lb[N]=de(D)?ve(D,6):0}if(A.Bb)for(N=0;3>N;++N)R.jb[N]=de(D)?ae(D,8):255}else A.Bb=0;if(D.Ka)return Un(u,3,"cannot parse segment header");if((A=u.ed).zd=de(D),A.Tb=ae(D,6),A.wb=ae(D,3),A.Pc=de(D),A.Pc&&de(D)){for(R=0;4>R;++R)de(D)&&(A.vd[R]=ve(D,6));for(R=0;4>R;++R)de(D)&&(A.od[R]=ve(D,6))}if(u.L=A.Tb==0?0:A.zd?1:2,D.Ka)return Un(u,3,"cannot parse filter header");var W=x;if(x=N=b,b=N+W,A=W,u.Xb=(1<<ae(u.m,2))-1,W<3*(R=u.Xb))v=7;else{for(N+=3*R,A-=3*R,W=0;W<R;++W){var oe=v[x+0]|v[x+1]<<8|v[x+2]<<16;oe>A&&(oe=A),ce(u.Jc[+W],v,N,oe),N+=oe,A-=oe,x+=3}ce(u.Jc[+R],v,N,A),v=N<b?0:5}if(v!=0)return Un(u,v,"cannot parse partitions");for(v=ae(N=u.m,7),x=de(N)?ve(N,4):0,b=de(N)?ve(N,4):0,A=de(N)?ve(N,4):0,R=de(N)?ve(N,4):0,N=de(N)?ve(N,4):0,W=u.Qa,oe=0;4>oe;++oe){if(W.Cb){var se=W.Zb[oe];W.Fb||(se+=v)}else{if(0<oe){u.pb[oe]=u.pb[0];continue}se=v}var Q=u.pb[oe];Q.Sc[0]=wy[pi(se+x,127)],Q.Sc[1]=Cy[pi(se+0,127)],Q.Eb[0]=2*wy[pi(se+b,127)],Q.Eb[1]=101581*Cy[pi(se+A,127)]>>16,8>Q.Eb[1]&&(Q.Eb[1]=8),Q.Qc[0]=wy[pi(se+R,117)],Q.Qc[1]=Cy[pi(se+N,127)],Q.lc=se+N}if(!M.Rb)return Un(u,4,"Not a key frame.");for(de(D),M=u.Pa,v=0;4>v;++v){for(x=0;8>x;++x)for(b=0;3>b;++b)for(A=0;11>A;++A)R=he(D,RT[v][x][b][A])?ae(D,8):OT[v][x][b][A],M.Wc[v][x].Yb[b][A]=R;for(x=0;17>x;++x)M.Xc[v][x]=M.Wc[v][LT[x]]}return u.kc=de(D),u.kc&&(u.Bd=ae(D,8)),u.cb=1}function Wp(u,h,v,b,x,D,M){var A=h[x].Yb[v];for(v=0;16>x;++x){if(!he(u,A[v+0]))return x;for(;!he(u,A[v+1]);)if(A=h[++x].Yb[0],v=0,x==16)return 16;var N=h[x+1].Yb;if(he(u,A[v+2])){var R=u,W=0;if(he(R,(se=A)[(oe=v)+3]))if(he(R,se[oe+6])){for(A=0,oe=2*(W=he(R,se[oe+8]))+(se=he(R,se[oe+9+W])),W=0,se=PT[oe];se[A];++A)W+=W+he(R,se[A]);W+=3+(8<<oe)}else he(R,se[oe+7])?(W=7+2*he(R,165),W+=he(R,145)):W=5+he(R,159);else W=he(R,se[oe+4])?3+he(R,se[oe+5]):2;A=N[2]}else W=1,A=N[1];N=M+NT[x],0>(R=u).b&&le(R);var oe,se=R.b,Q=(oe=R.Ca>>1)-(R.I>>se)>>31;--R.b,R.Ca+=Q,R.Ca|=1,R.I-=(oe+1&Q)<<se,D[N]=((W^Q)-Q)*b[(0<x)+0]}return 16}function Wd(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function J2(u,h){if(u==null)return 0;if(h==null)return Un(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!$p(u,h))return 0;if(e(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var v=wg[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-v>>4,u.zb=h.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+v>>4,u.Hb=h.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var b=u.ed;for(v=0;4>v;++v){var x;if(u.Qa.Cb){var D=u.Qa.Lb[v];u.Qa.Fb||(D+=b.Tb)}else D=b.Tb;for(x=0;1>=x;++x){var M=u.gd[v][x],A=D;if(b.Pc&&(A+=b.vd[0],x&&(A+=b.od[0])),0<(A=0>A?0:63<A?63:A)){var N=A;0<b.wb&&(N=4<b.wb?N>>2:N>>1)>9-b.wb&&(N=9-b.wb),1>N&&(N=1),M.dd=N,M.tc=2*A+N,M.ld=40<=A?2:15<=A?1:0}else M.tc=0;M.La=x}}}v=0}else Un(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=KT);e:{v=u.Ic,b=4*(N=u.za);var R=32*N,W=N+1,oe=0<u.L?N*(0<u.Aa?2:1):0,se=(u.Aa==2?2:1)*N;if((M=b+832+(x=3*(16*v+wg[u.L])/2*R)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=M)v=0;else{if(M>u.Vb){if(u.Vb=0,u.Ec=o(M),u.Fc=0,u.Ec==null){v=Un(u,1,"no memory during frame initialization.");break e}u.Vb=M}M=u.Ec,A=u.Fc,u.Ac=M,u.Bc=A,A+=b,u.Gd=s(R,zp),u.Hd=0,u.rb=s(W+1,qp),u.sb=1,u.wa=oe?s(oe,Rc):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=N),e(!0),u.oc=M,u.pc=A,A+=832,u.ya=s(se,$d),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=N),u.R=16*N,u.B=8*N,N=(R=wg[u.L])*u.R,R=R/2*u.B,u.sa=M,u.ta=A+N,u.qa=u.sa,u.ra=u.ta+16*v*u.R+R,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+R,u.$c=0,A+=x,u.mb=D?M:null,u.nb=D?A:null,e(A+D<=u.Fc+u.Vb),Wd(u),i(u.Ac,u.Bc,0,b),v=1}}if(v){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!hg){for(v=-255;255>=v;++v)dr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)ks[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)gh[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)eu[255+v]=0>v?0:255<v?255:v;hg=1}Jc=ey,Os=Z2,hh=Kp,$r=Q2,Pi=Xp,Hn=Yp,Zc=Qd,dg=bl,fh=fy,Cl=eh,xl=hy,wa=Hc,El=th,Qc=og,Sl=ig,Ca=Go,ph=Ts,Ni=dy,fo[0]=zo,fo[1]=ty,fo[2]=oy,fo[3]=sy,fo[4]=Qp,fo[5]=Vc,fo[6]=eg,fo[7]=Xd,fo[8]=ly,fo[9]=ay,xa[0]=Jp,xa[1]=ry,xa[2]=As,xa[3]=jc,xa[4]=Rr,xa[5]=iy,xa[6]=Zp,Rs[0]=ma,Rs[1]=ny,Rs[2]=cy,Rs[3]=Jd,Rs[4]=yl,Rs[5]=uy,Rs[6]=Zd,v=1}else v=0}v&&(v=function(Q,Ee){for(Q.M=0;Q.M<Q.Va;++Q.M){var me,Y=Q.Jc[Q.M&Q.Xb],K=Q.m,Ce=Q;for(me=0;me<Ce.za;++me){var De=K,xe=Ce,ze=xe.Ac,Re=xe.Bc+4*me,at=xe.zc,Fe=xe.ya[xe.aa+me];if(xe.Qa.Bb?Fe.$b=he(De,xe.Pa.jb[0])?2+he(De,xe.Pa.jb[2]):he(De,xe.Pa.jb[1]):Fe.$b=0,xe.kc&&(Fe.Ad=he(De,xe.Bd)),Fe.Za=!he(De,145)+0,Fe.Za){var Qt=Fe.Ob,an=0;for(xe=0;4>xe;++xe){var Jt,qt=at[0+xe];for(Jt=0;4>Jt;++Jt){qt=kT[ze[Re+Jt]][qt];for(var mn=Tx[he(De,qt[0])];0<mn;)mn=Tx[2*mn+he(De,qt[mn])];qt=-mn,ze[Re+Jt]=qt}r(Qt,an,ze,Re,4),an+=4,at[0+xe]=qt}}else qt=he(De,156)?he(De,128)?1:3:he(De,163)?2:0,Fe.Ob[0]=qt,i(ze,Re,qt,4),i(at,0,qt,4);Fe.Dd=he(De,142)?he(De,114)?he(De,183)?1:3:2:0}if(Ce.m.Ka)return Un(Q,7,"Premature end-of-partition0 encountered.");for(;Q.ja<Q.za;++Q.ja){if(Ce=Y,De=(K=Q).rb[K.sb-1],ze=K.rb[K.sb+K.ja],me=K.ya[K.aa+K.ja],Re=K.kc?me.Ad:0)De.la=ze.la=0,me.Za||(De.Na=ze.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var dn,Tt;if(De=ze,ze=Ce,Re=K.Pa.Xc,at=K.ya[K.aa+K.ja],Fe=K.pb[at.$b],xe=at.ad,Qt=0,an=K.rb[K.sb-1],qt=Jt=0,i(xe,Qt,0,384),at.Za)var nr=0,ri=Re[3];else{mn=o(16);var rr=De.Na+an.Na;if(rr=mh(ze,Re[1],rr,Fe.Eb,0,mn,0),De.Na=an.Na=(0<rr)+0,1<rr)Jc(mn,0,xe,Qt);else{var ii=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)xe[Qt+mn]=ii}nr=1,ri=Re[0]}var ln=15&De.la,mi=15&an.la;for(mn=0;4>mn;++mn){var vi=1&mi;for(ii=Tt=0;4>ii;++ii)ln=ln>>1|(vi=(rr=mh(ze,ri,rr=vi+(1&ln),Fe.Sc,nr,xe,Qt))>nr)<<7,Tt=Tt<<2|(3<rr?3:1<rr?2:xe[Qt+0]!=0),Qt+=16;ln>>=4,mi=mi>>1|vi<<7,Jt=(Jt<<8|Tt)>>>0}for(ri=ln,nr=mi>>4,dn=0;4>dn;dn+=2){for(Tt=0,ln=De.la>>4+dn,mi=an.la>>4+dn,mn=0;2>mn;++mn){for(vi=1&mi,ii=0;2>ii;++ii)rr=vi+(1&ln),ln=ln>>1|(vi=0<(rr=mh(ze,Re[2],rr,Fe.Qc,0,xe,Qt)))<<3,Tt=Tt<<2|(3<rr?3:1<rr?2:xe[Qt+0]!=0),Qt+=16;ln>>=2,mi=mi>>1|vi<<5}qt|=Tt<<4*dn,ri|=ln<<4<<dn,nr|=(240&mi)<<dn}De.la=ri,an.la=nr,at.Hc=Jt,at.Gc=qt,at.ia=43690&qt?0:Fe.ia,Re=!(Jt|qt)}if(0<K.L&&(K.wa[K.Y+K.ja]=K.gd[me.$b][me.Za],K.wa[K.Y+K.ja].La|=!Re),Ce.Ka)return Un(Q,7,"Premature end-of-file encountered.")}if(Wd(Q),K=Ee,Ce=1,me=(Y=Q).D,De=0<Y.L&&Y.M>=Y.zb&&Y.M<=Y.Va,Y.Aa==0)e:{if(me.M=Y.M,me.uc=De,ah(Y,me),Ce=1,me=(Tt=Y.D).Nb,De=(qt=wg[Y.L])*Y.R,ze=qt/2*Y.B,mn=16*me*Y.R,ii=8*me*Y.B,Re=Y.sa,at=Y.ta-De+mn,Fe=Y.qa,xe=Y.ra-ze+ii,Qt=Y.Ha,an=Y.Ia-ze+ii,mi=(ln=Tt.M)==0,Jt=ln>=Y.Va-1,Y.Aa==2&&ah(Y,Tt),Tt.uc)for(vi=(rr=Y).D.M,e(rr.D.uc),Tt=rr.yb;Tt<rr.Hb;++Tt){nr=Tt,ri=vi;var yr=(Ir=(kn=rr).D).Nb;dn=kn.R;var Ir=Ir.wa[Ir.Y+nr],Wr=kn.sa,Li=kn.ta+16*yr*dn+16*nr,Wo=Ir.dd,br=Ir.tc;if(br!=0)if(e(3<=br),kn.L==1)0<nr&&Ca(Wr,Li,dn,br+4),Ir.La&&Ni(Wr,Li,dn,br),0<ri&&Sl(Wr,Li,dn,br+4),Ir.La&&ph(Wr,Li,dn,br);else{var Ls=kn.B,Dl=kn.qa,tu=kn.ra+8*yr*Ls+8*nr,Sa=kn.Ha,kn=kn.Ia+8*yr*Ls+8*nr;yr=Ir.ld,0<nr&&(dg(Wr,Li,dn,br+4,Wo,yr),Cl(Dl,tu,Sa,kn,Ls,br+4,Wo,yr)),Ir.La&&(wa(Wr,Li,dn,br,Wo,yr),Qc(Dl,tu,Sa,kn,Ls,br,Wo,yr)),0<ri&&(Zc(Wr,Li,dn,br+4,Wo,yr),fh(Dl,tu,Sa,kn,Ls,br+4,Wo,yr)),Ir.La&&(xl(Wr,Li,dn,br,Wo,yr),El(Dl,tu,Sa,kn,Ls,br,Wo,yr))}}if(Y.ia&&alert("todo:DitherRow"),K.put!=null){if(Tt=16*ln,ln=16*(ln+1),mi?(K.y=Y.sa,K.O=Y.ta+mn,K.f=Y.qa,K.N=Y.ra+ii,K.ea=Y.Ha,K.W=Y.Ia+ii):(Tt-=qt,K.y=Re,K.O=at,K.f=Fe,K.N=xe,K.ea=Qt,K.W=an),Jt||(ln-=qt),ln>K.o&&(ln=K.o),K.F=null,K.J=null,Y.Fa!=null&&0<Y.Fa.length&&Tt<ln&&(K.J=oh(Y,K,Tt,ln-Tt),K.F=Y.mb,K.F==null&&K.F.length==0)){Ce=Un(Y,3,"Could not decode alpha data.");break e}Tt<K.j&&(qt=K.j-Tt,Tt=K.j,e(!(1&qt)),K.O+=Y.R*qt,K.N+=Y.B*(qt>>1),K.W+=Y.B*(qt>>1),K.F!=null&&(K.J+=K.width*qt)),Tt<ln&&(K.O+=K.v,K.N+=K.v>>1,K.W+=K.v>>1,K.F!=null&&(K.J+=K.v),K.ka=Tt-K.j,K.U=K.va-K.v,K.T=ln-Tt,Ce=K.put(K))}me+1!=Y.Ic||Jt||(r(Y.sa,Y.ta-De,Re,at+16*Y.R,De),r(Y.qa,Y.ra-ze,Fe,xe+8*Y.B,ze),r(Y.Ha,Y.Ia-ze,Qt,an+8*Y.B,ze))}if(!Ce)return Un(Q,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),v&=1}return v?(u.cb=0,v):0}function co(u,h,v,b,x){x=u[h+v+32*b]+(x>>3),u[h+v+32*b]=-256&x?0>x?0:255:x}function Fc(u,h,v,b,x,D){co(u,h,0,v,b+x),co(u,h,1,v,b+D),co(u,h,2,v,b-D),co(u,h,3,v,b-x)}function ei(u){return(20091*u>>16)+u}function Yd(u,h,v,b){var x,D=0,M=o(16);for(x=0;4>x;++x){var A=u[h+0]+u[h+8],N=u[h+0]-u[h+8],R=(35468*u[h+4]>>16)-ei(u[h+12]),W=ei(u[h+4])+(35468*u[h+12]>>16);M[D+0]=A+W,M[D+1]=N+R,M[D+2]=N-R,M[D+3]=A-W,D+=4,h++}for(x=D=0;4>x;++x)A=(u=M[D+0]+4)+M[D+8],N=u-M[D+8],R=(35468*M[D+4]>>16)-ei(M[D+12]),co(v,b,0,0,A+(W=ei(M[D+4])+(35468*M[D+12]>>16))),co(v,b,1,0,N+R),co(v,b,2,0,N-R),co(v,b,3,0,A-W),D++,b+=32}function Yp(u,h,v,b){var x=u[h+0]+4,D=35468*u[h+4]>>16,M=ei(u[h+4]),A=35468*u[h+1]>>16;Fc(v,b,0,x+M,u=ei(u[h+1]),A),Fc(v,b,1,x+D,u,A),Fc(v,b,2,x-D,u,A),Fc(v,b,3,x-M,u,A)}function Z2(u,h,v,b,x){Yd(u,h,v,b),x&&Yd(u,h+16,v,b+4)}function Kp(u,h,v,b){Os(u,h+0,v,b,1),Os(u,h+32,v,b+128,1)}function Q2(u,h,v,b){var x;for(u=u[h+0]+4,x=0;4>x;++x)for(h=0;4>h;++h)co(v,b,h,x,u)}function Xp(u,h,v,b){u[h+0]&&$r(u,h+0,v,b),u[h+16]&&$r(u,h+16,v,b+4),u[h+32]&&$r(u,h+32,v,b+128),u[h+48]&&$r(u,h+48,v,b+128+4)}function ey(u,h,v,b){var x,D=o(16);for(x=0;4>x;++x){var M=u[h+0+x]+u[h+12+x],A=u[h+4+x]+u[h+8+x],N=u[h+4+x]-u[h+8+x],R=u[h+0+x]-u[h+12+x];D[0+x]=M+A,D[8+x]=M-A,D[4+x]=R+N,D[12+x]=R-N}for(x=0;4>x;++x)M=(u=D[0+4*x]+3)+D[3+4*x],A=D[1+4*x]+D[2+4*x],N=D[1+4*x]-D[2+4*x],R=u-D[3+4*x],v[b+0]=M+A>>3,v[b+16]=R+N>>3,v[b+32]=M-A>>3,v[b+48]=R-N>>3,b+=64}function Kd(u,h,v){var b,x=h-32,D=gi,M=255-u[x-1];for(b=0;b<v;++b){var A,N=D,R=M+u[h-1];for(A=0;A<v;++A)u[h+A]=N[R+u[x+A]];h+=32}}function ty(u,h){Kd(u,h,4)}function ny(u,h){Kd(u,h,8)}function ry(u,h){Kd(u,h,16)}function As(u,h){var v;for(v=0;16>v;++v)r(u,h+32*v,u,h-32,16)}function jc(u,h){var v;for(v=16;0<v;--v)i(u,h,u[h-1],16),h+=32}function Bc(u,h,v){var b;for(b=0;16>b;++b)i(h,v+32*b,u,16)}function Jp(u,h){var v,b=16;for(v=0;16>v;++v)b+=u[h-1+32*v]+u[h+v-32];Bc(b>>5,u,h)}function Rr(u,h){var v,b=8;for(v=0;16>v;++v)b+=u[h-1+32*v];Bc(b>>4,u,h)}function iy(u,h){var v,b=8;for(v=0;16>v;++v)b+=u[h+v-32];Bc(b>>4,u,h)}function Zp(u,h){Bc(128,u,h)}function yt(u,h,v){return u+2*h+v+2>>2}function oy(u,h){var v,b=h-32;for(b=new Uint8Array([yt(u[b-1],u[b+0],u[b+1]),yt(u[b+0],u[b+1],u[b+2]),yt(u[b+1],u[b+2],u[b+3]),yt(u[b+2],u[b+3],u[b+4])]),v=0;4>v;++v)r(u,h+32*v,b,0,b.length)}function sy(u,h){var v=u[h-1],b=u[h-1+32],x=u[h-1+64],D=u[h-1+96];Pe(u,h+0,16843009*yt(u[h-1-32],v,b)),Pe(u,h+32,16843009*yt(v,b,x)),Pe(u,h+64,16843009*yt(b,x,D)),Pe(u,h+96,16843009*yt(x,D,D))}function zo(u,h){var v,b=4;for(v=0;4>v;++v)b+=u[h+v-32]+u[h-1+32*v];for(b>>=3,v=0;4>v;++v)i(u,h+32*v,b,4)}function Qp(u,h){var v=u[h-1+0],b=u[h-1+32],x=u[h-1+64],D=u[h-1-32],M=u[h+0-32],A=u[h+1-32],N=u[h+2-32],R=u[h+3-32];u[h+0+96]=yt(b,x,u[h-1+96]),u[h+1+96]=u[h+0+64]=yt(v,b,x),u[h+2+96]=u[h+1+64]=u[h+0+32]=yt(D,v,b),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=yt(M,D,v),u[h+3+64]=u[h+2+32]=u[h+1+0]=yt(A,M,D),u[h+3+32]=u[h+2+0]=yt(N,A,M),u[h+3+0]=yt(R,N,A)}function eg(u,h){var v=u[h+1-32],b=u[h+2-32],x=u[h+3-32],D=u[h+4-32],M=u[h+5-32],A=u[h+6-32],N=u[h+7-32];u[h+0+0]=yt(u[h+0-32],v,b),u[h+1+0]=u[h+0+32]=yt(v,b,x),u[h+2+0]=u[h+1+32]=u[h+0+64]=yt(b,x,D),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=yt(x,D,M),u[h+3+32]=u[h+2+64]=u[h+1+96]=yt(D,M,A),u[h+3+64]=u[h+2+96]=yt(M,A,N),u[h+3+96]=yt(A,N,N)}function Vc(u,h){var v=u[h-1+0],b=u[h-1+32],x=u[h-1+64],D=u[h-1-32],M=u[h+0-32],A=u[h+1-32],N=u[h+2-32],R=u[h+3-32];u[h+0+0]=u[h+1+64]=D+M+1>>1,u[h+1+0]=u[h+2+64]=M+A+1>>1,u[h+2+0]=u[h+3+64]=A+N+1>>1,u[h+3+0]=N+R+1>>1,u[h+0+96]=yt(x,b,v),u[h+0+64]=yt(b,v,D),u[h+0+32]=u[h+1+96]=yt(v,D,M),u[h+1+32]=u[h+2+96]=yt(D,M,A),u[h+2+32]=u[h+3+96]=yt(M,A,N),u[h+3+32]=yt(A,N,R)}function Xd(u,h){var v=u[h+0-32],b=u[h+1-32],x=u[h+2-32],D=u[h+3-32],M=u[h+4-32],A=u[h+5-32],N=u[h+6-32],R=u[h+7-32];u[h+0+0]=v+b+1>>1,u[h+1+0]=u[h+0+64]=b+x+1>>1,u[h+2+0]=u[h+1+64]=x+D+1>>1,u[h+3+0]=u[h+2+64]=D+M+1>>1,u[h+0+32]=yt(v,b,x),u[h+1+32]=u[h+0+96]=yt(b,x,D),u[h+2+32]=u[h+1+96]=yt(x,D,M),u[h+3+32]=u[h+2+96]=yt(D,M,A),u[h+3+64]=yt(M,A,N),u[h+3+96]=yt(A,N,R)}function ay(u,h){var v=u[h-1+0],b=u[h-1+32],x=u[h-1+64],D=u[h-1+96];u[h+0+0]=v+b+1>>1,u[h+2+0]=u[h+0+32]=b+x+1>>1,u[h+2+32]=u[h+0+64]=x+D+1>>1,u[h+1+0]=yt(v,b,x),u[h+3+0]=u[h+1+32]=yt(b,x,D),u[h+3+32]=u[h+1+64]=yt(x,D,D),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=D}function ly(u,h){var v=u[h-1+0],b=u[h-1+32],x=u[h-1+64],D=u[h-1+96],M=u[h-1-32],A=u[h+0-32],N=u[h+1-32],R=u[h+2-32];u[h+0+0]=u[h+2+32]=v+M+1>>1,u[h+0+32]=u[h+2+64]=b+v+1>>1,u[h+0+64]=u[h+2+96]=x+b+1>>1,u[h+0+96]=D+x+1>>1,u[h+3+0]=yt(A,N,R),u[h+2+0]=yt(M,A,N),u[h+1+0]=u[h+3+32]=yt(v,M,A),u[h+1+32]=u[h+3+64]=yt(b,v,M),u[h+1+64]=u[h+3+96]=yt(x,b,v),u[h+1+96]=yt(D,x,b)}function cy(u,h){var v;for(v=0;8>v;++v)r(u,h+32*v,u,h-32,8)}function Jd(u,h){var v;for(v=0;8>v;++v)i(u,h,u[h-1],8),h+=32}function vl(u,h,v){var b;for(b=0;8>b;++b)i(h,v+32*b,u,8)}function ma(u,h){var v,b=8;for(v=0;8>v;++v)b+=u[h+v-32]+u[h-1+32*v];vl(b>>4,u,h)}function uy(u,h){var v,b=4;for(v=0;8>v;++v)b+=u[h+v-32];vl(b>>3,u,h)}function yl(u,h){var v,b=4;for(v=0;8>v;++v)b+=u[h-1+32*v];vl(b>>3,u,h)}function Zd(u,h){vl(128,u,h)}function Uc(u,h,v){var b=u[h-v],x=u[h+0],D=3*(x-b)+my[1020+u[h-2*v]-u[h+v]],M=fg[112+(D+4>>3)];u[h-v]=gi[255+b+fg[112+(D+3>>3)]],u[h+0]=gi[255+x-M]}function tg(u,h,v,b){var x=u[h+0],D=u[h+v];return ki[255+u[h-2*v]-u[h-v]]>b||ki[255+D-x]>b}function ng(u,h,v,b){return 4*ki[255+u[h-v]-u[h+0]]+ki[255+u[h-2*v]-u[h+v]]<=b}function rg(u,h,v,b,x){var D=u[h-3*v],M=u[h-2*v],A=u[h-v],N=u[h+0],R=u[h+v],W=u[h+2*v],oe=u[h+3*v];return 4*ki[255+A-N]+ki[255+M-R]>b?0:ki[255+u[h-4*v]-D]<=x&&ki[255+D-M]<=x&&ki[255+M-A]<=x&&ki[255+oe-W]<=x&&ki[255+W-R]<=x&&ki[255+R-N]<=x}function ig(u,h,v,b){var x=2*b+1;for(b=0;16>b;++b)ng(u,h+b,v,x)&&Uc(u,h+b,v)}function Go(u,h,v,b){var x=2*b+1;for(b=0;16>b;++b)ng(u,h+b*v,1,x)&&Uc(u,h+b*v,1)}function Ts(u,h,v,b){var x;for(x=3;0<x;--x)ig(u,h+=4*v,v,b)}function dy(u,h,v,b){var x;for(x=3;0<x;--x)Go(u,h+=4,v,b)}function va(u,h,v,b,x,D,M,A){for(D=2*D+1;0<x--;){if(rg(u,h,v,D,M))if(tg(u,h,v,A))Uc(u,h,v);else{var N=u,R=h,W=v,oe=N[R-2*W],se=N[R-W],Q=N[R+0],Ee=N[R+W],me=N[R+2*W],Y=27*(Ce=my[1020+3*(Q-se)+my[1020+oe-Ee]])+63>>7,K=18*Ce+63>>7,Ce=9*Ce+63>>7;N[R-3*W]=gi[255+N[R-3*W]+Ce],N[R-2*W]=gi[255+oe+K],N[R-W]=gi[255+se+Y],N[R+0]=gi[255+Q-Y],N[R+W]=gi[255+Ee-K],N[R+2*W]=gi[255+me-Ce]}h+=b}}function uo(u,h,v,b,x,D,M,A){for(D=2*D+1;0<x--;){if(rg(u,h,v,D,M))if(tg(u,h,v,A))Uc(u,h,v);else{var N=u,R=h,W=v,oe=N[R-W],se=N[R+0],Q=N[R+W],Ee=fg[112+((me=3*(se-oe))+4>>3)],me=fg[112+(me+3>>3)],Y=Ee+1>>1;N[R-2*W]=gi[255+N[R-2*W]+Y],N[R-W]=gi[255+oe+me],N[R+0]=gi[255+se-Ee],N[R+W]=gi[255+Q-Y]}h+=b}}function Qd(u,h,v,b,x,D){va(u,h,v,1,16,b,x,D)}function bl(u,h,v,b,x,D){va(u,h,1,v,16,b,x,D)}function hy(u,h,v,b,x,D){var M;for(M=3;0<M;--M)uo(u,h+=4*v,v,1,16,b,x,D)}function Hc(u,h,v,b,x,D){var M;for(M=3;0<M;--M)uo(u,h+=4,1,v,16,b,x,D)}function fy(u,h,v,b,x,D,M,A){va(u,h,x,1,8,D,M,A),va(v,b,x,1,8,D,M,A)}function eh(u,h,v,b,x,D,M,A){va(u,h,1,x,8,D,M,A),va(v,b,1,x,8,D,M,A)}function th(u,h,v,b,x,D,M,A){uo(u,h+4*x,x,1,8,D,M,A),uo(v,b+4*x,x,1,8,D,M,A)}function og(u,h,v,b,x,D,M,A){uo(u,h+4,1,x,8,D,M,A),uo(v,b+4,1,x,8,D,M,A)}function qc(){this.ba=new io,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sg(){this.ua=0,this.Wa=new V,this.vb=new V,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new P}function py(){this.xb=this.a=0,this.l=new Lc,this.ca=new io,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sg,this.ab=0,this.gc=s(4,rh),this.Oc=0}function zc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Lc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _l(u,h,v,b,x,D,M){for(u=u==null?0:u[h+0],h=0;h<M;++h)x[D+h]=u+v[b+h]&255,u=x[D+h]}function ih(u,h,v,b,x,D,M){var A;if(u==null)_l(null,null,v,b,x,D,M);else for(A=0;A<M;++A)x[D+A]=u[h+A]+v[b+A]&255}function ya(u,h,v,b,x,D,M){if(u==null)_l(null,null,v,b,x,D,M);else{var A,N=u[h+0],R=N,W=N;for(A=0;A<M;++A)R=W+(N=u[h+A])-R,W=v[b+A]+(-256&R?0>R?0:255:R)&255,R=N,x[D+A]=W}}function oh(u,h,v,b){var x=h.width,D=h.o;if(e(u!=null&&h!=null),0>v||0>=b||v+b>D)return null;if(!u.Cc){if(u.ga==null){var M;if(u.ga=new zc,(M=u.ga==null)||(M=h.width*h.o,e(u.Gb.length==0),u.Gb=o(M),u.Uc=0,u.Gb==null?M=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,M=1),M=!M),!M){M=u.ga;var A=u.Fa,N=u.P,R=u.qc,W=u.mb,oe=u.nb,se=N+1,Q=R-1,Ee=M.l;if(e(A!=null&&W!=null&&h!=null),Ea[0]=null,Ea[1]=_l,Ea[2]=ih,Ea[3]=ya,M.ca=W,M.tb=oe,M.c=h.width,M.i=h.height,e(0<M.c&&0<M.i),1>=R)h=0;else if(M.$a=A[N+0]>>0&3,M.Z=A[N+0]>>2&3,M.Lc=A[N+0]>>4&3,N=A[N+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||N)h=0;else if(Ee.put=Bo,Ee.ac=Sr,Ee.bc=Vo,Ee.ma=M,Ee.width=h.width,Ee.height=h.height,Ee.Da=h.Da,Ee.v=h.v,Ee.va=h.va,Ee.j=h.j,Ee.o=h.o,M.$a)e:{e(M.$a==1),h=Ai();t:for(;;){if(h==null){h=0;break e}if(e(M!=null),M.mc=h,h.c=M.c,h.i=M.i,h.l=M.l,h.l.ma=M,h.l.width=M.c,h.l.height=M.i,h.a=0,X(h.m,A,se,Q),!qo(M.c,M.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Ms(h.s)?(M.ic=1,A=h.c*h.i,h.Ta=null,h.Ua=0,h.V=o(A),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(M.ic=0,h=ml(h,M.c)),!h))break t;h=1;break e}M.mc=null,h=0}else h=Q>=M.c*M.i;M=!h}if(M)return null;u.ga.Lc!=1?u.Ga=0:b=D-v}e(u.ga!=null),e(v+b<=D);e:{if(h=(A=u.ga).c,D=A.l.o,A.$a==0){if(se=u.rc,Q=u.Vc,Ee=u.Fa,N=u.P+1+v*h,R=u.mb,W=u.nb+v*h,e(N<=u.P+u.qc),A.Z!=0)for(e(Ea[A.Z]!=null),M=0;M<b;++M)Ea[A.Z](se,Q,Ee,N,R,W,h),se=R,Q=W,W+=h,N+=h;else for(M=0;M<b;++M)r(R,W,Ee,N,h),se=R,Q=W,W+=h,N+=h;u.rc=se,u.Vc=Q}else{if(e(A.mc!=null),h=v+b,e((M=A.mc)!=null),e(h<=M.i),M.C>=h)h=1;else if(A.ic||re(),A.ic){A=M.V,se=M.Ba,Q=M.c;var me=M.i,Y=(Ee=1,N=M.$/Q,R=M.$%Q,W=M.m,oe=M.s,M.$),K=Q*me,Ce=Q*h,De=oe.wc,xe=Y<Ce?er(oe,R,N):null;e(Y<=K),e(h<=me),e(Ms(oe));t:for(;;){for(;!W.h&&Y<Ce;){if(R&De||(xe=er(oe,R,N)),e(xe!=null),ee(W),256>(me=Qr(xe.G[0],xe.H[0],W)))A[se+Y]=me,++Y,++R>=Q&&(R=0,++N<=h&&!(N%16)&&ao(M,N));else{if(!(280>me)){Ee=0;break t}me=oo(me-256,W);var ze,Re=Qr(xe.G[4],xe.H[4],W);if(ee(W),!(Y>=(Re=Uo(Q,Re=oo(Re,W)))&&K-Y>=me)){Ee=0;break t}for(ze=0;ze<me;++ze)A[se+Y+ze]=A[se+Y+ze-Re];for(Y+=me,R+=me;R>=Q;)R-=Q,++N<=h&&!(N%16)&&ao(M,N);Y<Ce&&R&De&&(xe=er(oe,R,N))}e(W.h==B(W))}ao(M,N>h?h:N);break t}!Ee||W.h&&Y<K?(Ee=0,M.a=W.h?5:3):M.$=Y,h=Ee}else h=lo(M,M.V,M.Ba,M.c,M.i,h,Pc);if(!h){b=0;break e}}v+b>=D&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*x}function g(u,h,v,b,x,D){for(;0<x--;){var M,A=u,N=h+(v?1:0),R=u,W=h+(v?0:3);for(M=0;M<b;++M){var oe=R[W+4*M];oe!=255&&(oe*=32897,A[N+4*M+0]=A[N+4*M+0]*oe>>23,A[N+4*M+1]=A[N+4*M+1]*oe>>23,A[N+4*M+2]=A[N+4*M+2]*oe>>23)}h+=D}}function E(u,h,v,b,x){for(;0<b--;){var D;for(D=0;D<v;++D){var M=u[h+2*D+0],A=15&(R=u[h+2*D+1]),N=4369*A,R=(240&R|R>>4)*N>>16;u[h+2*D+0]=(240&M|M>>4)*N>>16&240|(15&M|M<<4)*N>>16>>4&15,u[h+2*D+1]=240&R|A}h+=x}}function F(u,h,v,b,x,D,M,A){var N,R,W=255;for(R=0;R<x;++R){for(N=0;N<b;++N){var oe=u[h+N];D[M+4*N]=oe,W&=oe}h+=v,M+=A}return W!=255}function G(u,h,v,b,x){var D;for(D=0;D<x;++D)v[b+D]=u[h+D]>>8}function re(){Oi=g,bn=E,_n=F,qn=G}function ye(u,h,v){j[u]=function(b,x,D,M,A,N,R,W,oe,se,Q,Ee,me,Y,K,Ce,De){var xe,ze=De-1>>1,Re=A[N+0]|R[W+0]<<16,at=oe[se+0]|Q[Ee+0]<<16;e(b!=null);var Fe=3*Re+at+131074>>2;for(h(b[x+0],255&Fe,Fe>>16,me,Y),D!=null&&(Fe=3*at+Re+131074>>2,h(D[M+0],255&Fe,Fe>>16,K,Ce)),xe=1;xe<=ze;++xe){var Qt=A[N+xe]|R[W+xe]<<16,an=oe[se+xe]|Q[Ee+xe]<<16,Jt=Re+Qt+at+an+524296,qt=Jt+2*(Qt+at)>>3;Fe=qt+Re>>1,Re=(Jt=Jt+2*(Re+an)>>3)+Qt>>1,h(b[x+2*xe-1],255&Fe,Fe>>16,me,Y+(2*xe-1)*v),h(b[x+2*xe-0],255&Re,Re>>16,me,Y+(2*xe-0)*v),D!=null&&(Fe=Jt+at>>1,Re=qt+an>>1,h(D[M+2*xe-1],255&Fe,Fe>>16,K,Ce+(2*xe-1)*v),h(D[M+2*xe+0],255&Re,Re>>16,K,Ce+(2*xe+0)*v)),Re=Qt,at=an}1&De||(Fe=3*Re+at+131074>>2,h(b[x+De-1],255&Fe,Fe>>16,me,Y+(De-1)*v),D!=null&&(Fe=3*at+Re+131074>>2,h(D[M+De-1],255&Fe,Fe>>16,K,Ce+(De-1)*v)))}}function Me(){Ri[pg]=jT,Ri[gg]=Nx,Ri[Ix]=BT,Ri[mg]=Ox,Ri[vg]=kx,Ri[vy]=Rx,Ri[Mx]=VT,Ri[yy]=Nx,Ri[by]=Ox,Ri[yg]=kx,Ri[_y]=Rx}function qe(u){return u&~UT?0>u?0:255:u>>Lx}function st(u,h){return qe((19077*u>>8)+(26149*h>>8)-14234)}function Mt(u,h,v){return qe((19077*u>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function Et(u,h){return qe((19077*u>>8)+(33050*h>>8)-17685)}function Yt(u,h,v,b,x){b[x+0]=st(u,v),b[x+1]=Mt(u,h,v),b[x+2]=Et(u,h)}function In(u,h,v,b,x){b[x+0]=Et(u,h),b[x+1]=Mt(u,h,v),b[x+2]=st(u,v)}function On(u,h,v,b,x){var D=Mt(u,h,v);h=D<<3&224|Et(u,h)>>3,b[x+0]=248&st(u,v)|D>>5,b[x+1]=h}function tr(u,h,v,b,x){var D=240&Et(u,h)|15;b[x+0]=240&st(u,v)|Mt(u,h,v)>>4,b[x+1]=D}function Lr(u,h,v,b,x){b[x+0]=255,Yt(u,h,v,b,x+1)}function vr(u,h,v,b,x){In(u,h,v,b,x),b[x+3]=255}function ho(u,h,v,b,x){Yt(u,h,v,b,x),b[x+3]=255}function pi(u,h){return 0>u?0:u>h?h:u}function $o(u,h,v){j[u]=function(b,x,D,M,A,N,R,W,oe){for(var se=W+(-2&oe)*v;W!=se;)h(b[x+0],D[M+0],A[N+0],R,W),h(b[x+1],D[M+0],A[N+0],R,W+v),x+=2,++M,++N,W+=2*v;1&oe&&h(b[x+0],D[M+0],A[N+0],R,W)}}function ag(u,h,v){return v==0?u==0?h==0?6:5:h==0?4:0:v}function sh(u,h,v,b,x){switch(u>>>30){case 3:Os(h,v,b,x,0);break;case 2:Hn(h,v,b,x);break;case 1:$r(h,v,b,x)}}function ah(u,h){var v,b,x=h.M,D=h.Nb,M=u.oc,A=u.pc+40,N=u.oc,R=u.pc+584,W=u.oc,oe=u.pc+600;for(v=0;16>v;++v)M[A+32*v-1]=129;for(v=0;8>v;++v)N[R+32*v-1]=129,W[oe+32*v-1]=129;for(0<x?M[A-1-32]=N[R-1-32]=W[oe-1-32]=129:(i(M,A-32-1,127,21),i(N,R-32-1,127,9),i(W,oe-32-1,127,9)),b=0;b<u.za;++b){var se=h.ya[h.aa+b];if(0<b){for(v=-1;16>v;++v)r(M,A+32*v-4,M,A+32*v+12,4);for(v=-1;8>v;++v)r(N,R+32*v-4,N,R+32*v+4,4),r(W,oe+32*v-4,W,oe+32*v+4,4)}var Q=u.Gd,Ee=u.Hd+b,me=se.ad,Y=se.Hc;if(0<x&&(r(M,A-32,Q[Ee].y,0,16),r(N,R-32,Q[Ee].f,0,8),r(W,oe-32,Q[Ee].ea,0,8)),se.Za){var K=M,Ce=A-32+16;for(0<x&&(b>=u.za-1?i(K,Ce,Q[Ee].y[15],4):r(K,Ce,Q[Ee+1].y,0,4)),v=0;4>v;v++)K[Ce+128+v]=K[Ce+256+v]=K[Ce+384+v]=K[Ce+0+v];for(v=0;16>v;++v,Y<<=2)K=M,Ce=A+jx[v],fo[se.Ob[v]](K,Ce),sh(Y,me,16*+v,K,Ce)}else if(K=ag(b,x,se.Ob[0]),xa[K](M,A),Y!=0)for(v=0;16>v;++v,Y<<=2)sh(Y,me,16*+v,M,A+jx[v]);for(v=se.Gc,K=ag(b,x,se.Dd),Rs[K](N,R),Rs[K](W,oe),Y=me,K=N,Ce=R,255&(se=v>>0)&&(170&se?hh(Y,256,K,Ce):Pi(Y,256,K,Ce)),se=W,Y=oe,255&(v>>=8)&&(170&v?hh(me,320,se,Y):Pi(me,320,se,Y)),x<u.Ub-1&&(r(Q[Ee].y,0,M,A+480,16),r(Q[Ee].f,0,N,R+224,8),r(Q[Ee].ea,0,W,oe+224,8)),v=8*D*u.B,Q=u.sa,Ee=u.ta+16*b+16*D*u.R,me=u.qa,se=u.ra+8*b+v,Y=u.Ha,K=u.Ia+8*b+v,v=0;16>v;++v)r(Q,Ee+v*u.R,M,A+32*v,16);for(v=0;8>v;++v)r(me,se+v*u.B,N,R+32*v,8),r(Y,K+v*u.B,W,oe+32*v,8)}}function Gc(u,h,v,b,x,D,M,A,N){var R=[0],W=[0],oe=0,se=N!=null?N.kd:0,Q=N??new nh;if(u==null||12>v)return 7;Q.data=u,Q.w=h,Q.ha=v,h=[h],v=[v],Q.gb=[Q.gb];e:{var Ee=h,me=v,Y=Q.gb;if(e(u!=null),e(me!=null),e(Y!=null),Y[0]=0,12<=me[0]&&!t(u,Ee[0],"RIFF")){if(t(u,Ee[0]+8,"WEBP")){Y=3;break e}var K=Le(u,Ee[0]+4);if(12>K||4294967286<K){Y=3;break e}if(se&&K>me[0]-8){Y=7;break e}Y[0]=K,Ee[0]+=12,me[0]-=12}Y=0}if(Y!=0)return Y;for(K=0<Q.gb[0],v=v[0];;){e:{var Ce=u;me=h,Y=v;var De=R,xe=W,ze=Ee=[0];if((Fe=oe=[oe])[0]=0,8>Y[0])Y=7;else{if(!t(Ce,me[0],"VP8X")){if(Le(Ce,me[0]+4)!=10){Y=3;break e}if(18>Y[0]){Y=7;break e}var Re=Le(Ce,me[0]+8),at=1+Be(Ce,me[0]+12);if(2147483648<=at*(Ce=1+Be(Ce,me[0]+15))){Y=3;break e}ze!=null&&(ze[0]=Re),De!=null&&(De[0]=at),xe!=null&&(xe[0]=Ce),me[0]+=18,Y[0]-=18,Fe[0]=1}Y=0}}if(oe=oe[0],Ee=Ee[0],Y!=0)return Y;if(me=!!(2&Ee),!K&&oe)return 3;if(D!=null&&(D[0]=!!(16&Ee)),M!=null&&(M[0]=me),A!=null&&(A[0]=0),M=R[0],Ee=W[0],oe&&me&&N==null){Y=0;break}if(4>v){Y=7;break}if(K&&oe||!K&&!oe&&!t(u,h[0],"ALPH")){v=[v],Q.na=[Q.na],Q.P=[Q.P],Q.Sa=[Q.Sa];e:{Re=u,Y=h,K=v;var Fe=Q.gb;De=Q.na,xe=Q.P,ze=Q.Sa,at=22,e(Re!=null),e(K!=null),Ce=Y[0];var Qt=K[0];for(e(De!=null),e(ze!=null),De[0]=null,xe[0]=null,ze[0]=0;;){if(Y[0]=Ce,K[0]=Qt,8>Qt){Y=7;break e}var an=Le(Re,Ce+4);if(4294967286<an){Y=3;break e}var Jt=8+an+1&-2;if(at+=Jt,0<Fe&&at>Fe){Y=3;break e}if(!t(Re,Ce,"VP8 ")||!t(Re,Ce,"VP8L")){Y=0;break e}if(Qt[0]<Jt){Y=7;break e}t(Re,Ce,"ALPH")||(De[0]=Re,xe[0]=Ce+8,ze[0]=an),Ce+=Jt,Qt-=Jt}}if(v=v[0],Q.na=Q.na[0],Q.P=Q.P[0],Q.Sa=Q.Sa[0],Y!=0)break}v=[v],Q.Ja=[Q.Ja],Q.xa=[Q.xa];e:if(Fe=u,Y=h,K=v,De=Q.gb[0],xe=Q.Ja,ze=Q.xa,Re=Y[0],Ce=!t(Fe,Re,"VP8 "),at=!t(Fe,Re,"VP8L"),e(Fe!=null),e(K!=null),e(xe!=null),e(ze!=null),8>K[0])Y=7;else{if(Ce||at){if(Fe=Le(Fe,Re+4),12<=De&&Fe>De-12){Y=3;break e}if(se&&Fe>K[0]-8){Y=7;break e}xe[0]=Fe,Y[0]+=8,K[0]-=8,ze[0]=at}else ze[0]=5<=K[0]&&Fe[Re+0]==47&&!(Fe[Re+4]>>5),xe[0]=K[0];Y=0}if(v=v[0],Q.Ja=Q.Ja[0],Q.xa=Q.xa[0],h=h[0],Y!=0)break;if(4294967286<Q.Ja)return 3;if(A==null||me||(A[0]=Q.xa?2:1),M=[M],Ee=[Ee],Q.xa){if(5>v){Y=7;break}A=M,se=Ee,me=D,u==null||5>v?u=0:5<=v&&u[h+0]==47&&!(u[h+4]>>5)?(K=[0],Fe=[0],De=[0],X(xe=new I,u,h,v),ut(xe,K,Fe,De)?(A!=null&&(A[0]=K[0]),se!=null&&(se[0]=Fe[0]),me!=null&&(me[0]=De[0]),u=1):u=0):u=0}else{if(10>v){Y=7;break}A=Ee,u==null||10>v||!Gp(u,h+3,v-3)?u=0:(se=u[h+0]|u[h+1]<<8|u[h+2]<<16,me=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=Q.Ja||!me||!u?u=0:(M&&(M[0]=me),A&&(A[0]=u),u=1))}if(!u||(M=M[0],Ee=Ee[0],oe&&(R[0]!=M||W[0]!=Ee)))return 3;N!=null&&(N[0]=Q,N.offset=h-N.w,e(4294967286>h-N.w),e(N.offset==N.ha-v));break}return Y==0||Y==7&&oe&&N==null?(D!=null&&(D[0]|=Q.na!=null&&0<Q.na.length),b!=null&&(b[0]=M),x!=null&&(x[0]=Ee),0):Y}function lh(u,h,v){var b=h.width,x=h.height,D=0,M=0,A=b,N=x;if(h.Da=u!=null&&0<u.Da,h.Da&&(A=u.cd,N=u.bd,D=u.v,M=u.j,11>v||(D&=-2,M&=-2),0>D||0>M||0>=A||0>=N||D+A>b||M+N>x))return 0;if(h.v=D,h.j=M,h.va=D+A,h.o=M+N,h.U=A,h.T=N,h.da=u!=null&&0<u.da,h.da){if(!It(A,N,v=[u.ib],D=[u.hb]))return 0;h.ib=v[0],h.hb=D[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*b/4&&h.hb<3*x/4,h.Kb=0),1}function ch(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function $c(u,h,v,b){if(b==null||0>=u||0>=h)return 2;if(v!=null){if(v.Da){var x=v.cd,D=v.bd,M=-2&v.v,A=-2&v.j;if(0>M||0>A||0>=x||0>=D||M+x>u||A+D>h)return 2;u=x,h=D}if(v.da){if(!It(u,h,x=[v.ib],D=[v.hb]))return 2;u=x[0],h=D[0]}}b.width=u,b.height=h;e:{var N=b.width,R=b.height;if(u=b.S,0>=N||0>=R||!(u>=pg&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){M=D=x=h=0;var W=(A=N*Bx[u])*R;if(11>u||(D=(R+1)/2*(h=(N+1)/2),u==12&&(M=(x=N)*R)),(R=o(W+2*D+M))==null){u=1;break e}b.sd=R,11>u?((N=b.f.RGBA).eb=R,N.fb=0,N.A=A,N.size=W):((N=b.f.kb).y=R,N.O=0,N.fa=A,N.Fd=W,N.f=R,N.N=0+W,N.Ab=h,N.Cd=D,N.ea=R,N.W=0+W+D,N.Db=h,N.Ed=D,u==12&&(N.F=R,N.J=0+W+2*D),N.Tc=M,N.lb=x)}if(h=1,x=b.S,D=b.width,M=b.height,x>=pg&&13>x)if(11>x)u=b.f.RGBA,h&=(A=Math.abs(u.A))*(M-1)+D<=u.size,h&=A>=D*Bx[x],h&=u.eb!=null;else{u=b.f.kb,A=(D+1)/2,W=(M+1)/2,N=Math.abs(u.fa),R=Math.abs(u.Ab);var oe=Math.abs(u.Db),se=Math.abs(u.lb),Q=se*(M-1)+D;h&=N*(M-1)+D<=u.Fd,h&=R*(W-1)+A<=u.Cd,h=(h&=oe*(W-1)+A<=u.Ed)&N>=D&R>=A&oe>=A,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,x==12&&(h&=se>=D,h&=Q<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||v!=null&&v.fd&&(u=ch(b)),u}var Dr=64,Wc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yc=24,Kc=32,uh=8,ti=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ke("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(u){return u},j.Predictor2=function(u,h,v){return h[v+0]},j.Predictor3=function(u,h,v){return h[v+1]},j.Predictor4=function(u,h,v){return h[v-1]},j.Predictor5=function(u,h,v){return je(je(u,h[v+1]),h[v+0])},j.Predictor6=function(u,h,v){return je(u,h[v-1])},j.Predictor7=function(u,h,v){return je(u,h[v+0])},j.Predictor8=function(u,h,v){return je(h[v-1],h[v+0])},j.Predictor9=function(u,h,v){return je(h[v+0],h[v+1])},j.Predictor10=function(u,h,v){return je(je(u,h[v-1]),je(h[v+0],h[v+1]))},j.Predictor11=function(u,h,v){var b=h[v+0];return 0>=Nt(b>>24&255,u>>24&255,(h=h[v-1])>>24&255)+Nt(b>>16&255,u>>16&255,h>>16&255)+Nt(b>>8&255,u>>8&255,h>>8&255)+Nt(255&b,255&u,255&h)?b:u},j.Predictor12=function(u,h,v){var b=h[v+0];return(ot((u>>24&255)+(b>>24&255)-((h=h[v-1])>>24&255))<<24|ot((u>>16&255)+(b>>16&255)-(h>>16&255))<<16|ot((u>>8&255)+(b>>8&255)-(h>>8&255))<<8|ot((255&u)+(255&b)-(255&h)))>>>0},j.Predictor13=function(u,h,v){var b=h[v-1];return(Ct((u=je(u,h[v+0]))>>24&255,b>>24&255)<<24|Ct(u>>16&255,b>>16&255)<<16|Ct(u>>8&255,b>>8&255)<<8|Ct(u>>0&255,b>>0&255))>>>0};var gy=j.PredictorAdd0;j.PredictorAdd1=Lt,ke("Predictor2","PredictorAdd2"),ke("Predictor3","PredictorAdd3"),ke("Predictor4","PredictorAdd4"),ke("Predictor5","PredictorAdd5"),ke("Predictor6","PredictorAdd6"),ke("Predictor7","PredictorAdd7"),ke("Predictor8","PredictorAdd8"),ke("Predictor9","PredictorAdd9"),ke("Predictor10","PredictorAdd10"),ke("Predictor11","PredictorAdd11"),ke("Predictor12","PredictorAdd12"),ke("Predictor13","PredictorAdd13");var dh=j.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var lg,Ti=j.ColorIndexInverseTransform,Xc=j.MapARGB,cg=j.VP8LColorIndexInverseTransformAlpha,ug=j.MapAlpha,ba=j.VP8LPredictorsAdd=[];ba.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var wl,ni,Gr,_a,Ps,Ns,Jc,Os,Hn,hh,$r,Pi,Zc,dg,fh,Cl,xl,wa,El,Qc,Sl,Ca,ph,Ni,Oi,bn,_n,qn,dr=o(511),ks=o(2041),gh=o(225),eu=o(767),hg=0,my=ks,fg=gh,gi=eu,ki=dr,pg=0,gg=1,Ix=2,mg=3,vg=4,vy=5,Mx=6,yy=7,by=8,yg=9,_y=10,ET=[2,3,7],ST=[3,3,11],Ax=[280,256,256,256,40],DT=[0,1,1,1,0],IT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],MT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],AT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],TT=8,wy=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Cy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mh=null,PT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],NT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Tx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],OT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],RT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],LT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xa=[],fo=[],Rs=[],FT=1,Px=2,Ea=[],Ri=[];ye("UpsampleRgbLinePair",Yt,3),ye("UpsampleBgrLinePair",In,3),ye("UpsampleRgbaLinePair",ho,4),ye("UpsampleBgraLinePair",vr,4),ye("UpsampleArgbLinePair",Lr,4),ye("UpsampleRgba4444LinePair",tr,2),ye("UpsampleRgb565LinePair",On,2);var jT=j.UpsampleRgbLinePair,BT=j.UpsampleBgrLinePair,Nx=j.UpsampleRgbaLinePair,Ox=j.UpsampleBgraLinePair,kx=j.UpsampleArgbLinePair,Rx=j.UpsampleRgba4444LinePair,VT=j.UpsampleRgb565LinePair,bg=16,_g=1<<bg-1,vh=-227,xy=482,Lx=6,UT=(256<<Lx)-1,Fx=0,HT=o(256),qT=o(256),zT=o(256),GT=o(256),$T=o(xy-vh),WT=o(xy-vh);$o("YuvToRgbRow",Yt,3),$o("YuvToBgrRow",In,3),$o("YuvToRgbaRow",ho,4),$o("YuvToBgraRow",vr,4),$o("YuvToArgbRow",Lr,4),$o("YuvToRgba4444Row",tr,2),$o("YuvToRgb565Row",On,2);var jx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wg=[0,2,8],YT=[8,7,6,4,4,2,2,2,1,1,1,1],KT=1;this.WebPDecodeRGBA=function(u,h,v,b,x){var D=gg,M=new qc,A=new io;M.ba=A,A.S=D,A.width=[A.width],A.height=[A.height];var N=A.width,R=A.height,W=new Is;if(W==null||u==null)var oe=2;else e(W!=null),oe=Gc(u,h,v,W.width,W.height,W.Pd,W.Qd,W.format,null);if(oe!=0?N=0:(N!=null&&(N[0]=W.width[0]),R!=null&&(R[0]=W.height[0]),N=1),N){A.width=A.width[0],A.height=A.height[0],b!=null&&(b[0]=A.width),x!=null&&(x[0]=A.height);e:{if(b=new Lc,(x=new nh).data=u,x.w=h,x.ha=v,x.kd=1,h=[0],e(x!=null),((u=Gc(x.data,x.w,x.ha,null,null,null,h,null,x))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(e(M!=null),b.data=x.data,b.w=x.w+x.offset,b.ha=x.ha-x.offset,b.put=Bo,b.ac=Sr,b.bc=Vo,b.ma=M,x.xa){if((u=Ai())==null){M=1;break e}if(function(se,Q){var Ee=[0],me=[0],Y=[0];t:for(;;){if(se==null)return 0;if(Q==null)return se.a=2,0;if(se.l=Q,se.a=0,X(se.m,Q.data,Q.w,Q.ha),!ut(se.m,Ee,me,Y)){se.a=3;break t}if(se.xb=Px,Q.width=Ee[0],Q.height=me[0],!qo(Ee[0],me[0],1,se,null))break t;return 1}return e(se.a!=0),0}(u,b)){if(b=(h=$c(b.width,b.height,M.Oa,M.ba))==0){t:{b=u;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((x=v.ma)!=null),b.xb!=0){if(b.ca=x.ba,b.tb=x.tb,e(b.ca!=null),!lh(x.Oa,v,mg)){b.a=2;break n}if(!ml(b,v.width)||v.da)break n;if((v.da||rn(b.ca.S))&&re(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&re()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!pt(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!lo(b,b.V,b.Ba,b.c,b.i,v.o,Tc))break n;x.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(h=u.a)}else h=u.a}else{if((u=new X2)==null){M=1;break e}if(u.Fa=x.na,u.P=x.P,u.qc=x.Sa,$p(u,b)){if((h=$c(b.width,b.height,M.Oa,M.ba))==0){if(u.Aa=0,v=M.Oa,e((x=u)!=null),v!=null){if(0<(N=0>(N=v.Md)?0:100<N?255:255*N/100)){for(R=W=0;4>R;++R)12>(oe=x.pb[R]).lc&&(oe.ia=N*YT[0>oe.lc?0:oe.lc]>>3),W|=oe.ia;W&&(alert("todo:VP8InitRandom"),x.ia=1)}x.Ga=v.Id,100<x.Ga?x.Ga=100:0>x.Ga&&(x.Ga=0)}J2(u,b)||(h=u.a)}}else h=u.a}h==0&&M.Oa!=null&&M.Oa.fd&&(h=ch(M.ba))}M=h}D=M!=0?null:11>D?A.f.RGBA.eb:A.f.kb.y}else D=null;return D};var Bx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(j,te){for(var ie="",T=0;T<4;T++)ie+=String.fromCharCode(j[te++]);return ie}function d(j,te){return(j[te+0]<<0|j[te+1]<<8|j[te+2]<<16)>>>0}function f(j,te){return(j[te+0]<<0|j[te+1]<<8|j[te+2]<<16|j[te+3]<<24)>>>0}new l;var m=[0],p=[0],y=[],_=new l,C=n,w=function(j,te){var ie={},T=0,P=!1,z=0,U=0;if(ie.frames=[],!function(L,B,$,ee){for(var le=0;le<ee;le++)if(L[B+le]!=$.charCodeAt(le))return!0;return!1}(j,te,"RIFF",4)){for(f(j,te+=4),te+=8;te<j.length;){var ce=c(j,te),ae=f(j,te+=4);te+=4;var ve=ae+(1&ae);switch(ce){case"VP8 ":case"VP8L":ie.frames[T]===void 0&&(ie.frames[T]={}),(ge=ie.frames[T]).src_off=P?U:te-8,ge.src_size=z+ae+8,T++,P&&(P=!1,z=0,U=0);break;case"VP8X":(ge=ie.header={}).feature_flags=j[te];var X=te+4;ge.canvas_width=1+d(j,X),X+=3,ge.canvas_height=1+d(j,X),X+=3;break;case"ALPH":P=!0,z=ve+8,U=te-8;break;case"ANIM":(ge=ie.header).bgcolor=f(j,te),X=te+4,ge.loop_count=(Ne=j)[(I=X)+0]<<0|Ne[I+1]<<8,X+=2;break;case"ANMF":var ue,ge;(ge=ie.frames[T]={}).offset_x=2*d(j,te),te+=3,ge.offset_y=2*d(j,te),te+=3,ge.width=1+d(j,te),te+=3,ge.height=1+d(j,te),te+=3,ge.duration=d(j,te),te+=3,ue=j[te++],ge.dispose=1&ue,ge.blend=ue>>1&1}ce!="ANMF"&&(te+=ve)}var Ne,I;return ie}}(C,0);w.response=C,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,O=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,m=[S.canvas_height],p=[S.canvas_width];for(var k=0;k<O.length&&O[k].blend!=0;k++);}var q=O[0],J=_.WebPDecodeRGBA(C,q.src_off,q.src_size,p,m);q.rgba=J,q.imgwidth=p[0],q.imgheight=m[0];for(var H=0;H<p[0]*m[0]*4;H++)y[H]=J[H];return this.width=p,this.height=m,this.data=y,this}(function(n){var e=function(){return typeof L1=="function"},t=function(m,p,y,_){var C=4,w=s;switch(_){case n.image_compression.FAST:C=1,w=o;break;case n.image_compression.MEDIUM:C=6,w=a;break;case n.image_compression.SLOW:C=9,w=l}m=r(m,p,y,w);var S=L1(m,{level:C});return n.__addimage__.arrayBufferToBinaryString(S)},r=function(m,p,y,_){for(var C,w,S,O=m.length/p,k=new Uint8Array(m.length+O),q=d(),J=0;J<O;J+=1){if(S=J*p,C=m.subarray(S,S+p),_)k.set(_(C,y,w),S+J);else{for(var H,j=q.length,te=[];H<j;H+=1)te[H]=q[H](C,y,w);var ie=f(te.concat());k.set(te[ie],S+J)}w=C}return k},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},o=function(m,p){var y,_=[],C=m.length;_[0]=1;for(var w=0;w<C;w+=1)y=m[w-p]||0,_[w+1]=m[w]-y+256&255;return _},s=function(m,p,y){var _,C=[],w=m.length;C[0]=2;for(var S=0;S<w;S+=1)_=y&&y[S]||0,C[S+1]=m[S]-_+256&255;return C},a=function(m,p,y){var _,C,w=[],S=m.length;w[0]=3;for(var O=0;O<S;O+=1)_=m[O-p]||0,C=y&&y[O]||0,w[O+1]=m[O]+256-(_+C>>>1)&255;return w},l=function(m,p,y){var _,C,w,S,O=[],k=m.length;O[0]=4;for(var q=0;q<k;q+=1)_=m[q-p]||0,C=y&&y[q]||0,w=y&&y[q-p]||0,S=c(_,C,w),O[q+1]=m[q]-S+256&255;return O},c=function(m,p,y){if(m===p&&p===y)return m;var _=Math.abs(p-y),C=Math.abs(m-y),w=Math.abs(m+p-y-y);return _<=C&&_<=w?m:C<=w?p:y},d=function(){return[i,o,s,a,l]},f=function(m){var p=m.map(function(y){return y.reduce(function(_,C){return _+Math.abs(C)},0)});return p.indexOf(Math.min.apply(null,p))};n.processPNG=function(m,p,y,_){var C,w,S,O,k,q,J,H,j,te,ie,T,P,z,U,ce=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(S=new hj(m)).imgData,w=S.bits,C=S.colorSpace,k=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){j=(H=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,ie=new Uint8Array(j*S.colors),te=new Uint8Array(j);var ve,X=S.pixelBitlength-S.bits;for(z=0,U=0;z<j;z++){for(P=H[z],ve=0;ve<X;)ie[U++]=P>>>ve&255,ve+=S.bits;te[z]=P>>>ve&255}}if(S.bits===16){j=(H=new Uint32Array(S.decodePixels().buffer)).length,ie=new Uint8Array(j*(32/S.pixelBitlength)*S.colors),te=new Uint8Array(j*(32/S.pixelBitlength)),T=S.colors>1,z=0,U=0;for(var ue=0;z<j;)P=H[z++],ie[U++]=P>>>0&255,T&&(ie[U++]=P>>>16&255,P=H[z++],ie[U++]=P>>>0&255),te[ue++]=P>>>16&255;w=8}_!==n.image_compression.NONE&&e()?(m=t(ie,S.width*S.colors,S.colors,_),J=t(te,S.width,1,_)):(m=ie,J=te,ce=void 0)}if(S.colorType===3&&(C=this.color_spaces.INDEXED,q=S.palette,S.transparency.indexed)){var ge=S.transparency.indexed,Ne=0;for(z=0,j=ge.length;z<j;++z)Ne+=ge[z];if((Ne/=255)===j-1&&ge.indexOf(0)!==-1)O=[ge.indexOf(0)];else if(Ne!==j){for(H=S.decodePixels(),te=new Uint8Array(H.length),z=0,j=H.length;z<j;z++)te[z]=ge[H[z]];J=t(te,S.width,1)}}var I=function(L){var B;switch(L){case n.image_compression.FAST:B=11;break;case n.image_compression.MEDIUM:B=13;break;case n.image_compression.SLOW:B=14;break;default:B=12}return B}(_);return ce===this.decode.FLATE_DECODE&&(ae="/Predictor "+I+" "),ae+="/Colors "+k+" /BitsPerComponent "+w+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(J&&this.__addimage__.isArrayBuffer(J)||this.__addimage__.isArrayBufferView(J))&&(J=this.__addimage__.arrayBufferToBinaryString(J)),{alias:y,data:m,index:p,filter:ce,decodeParameters:ae,transparency:O,palette:q,sMask:J,predictor:I,width:S.width,height:S.height,bitsPerComponent:w,colorSpace:C}}}})(ct.API),function(n){n.processGIF89A=function(e,t,r,i){var o=new fj(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new Yw(100).encode(c,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A}(ct.API),To.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},To.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){vn.log("bit decode error:"+t)}},To.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},To.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},To.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},To.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=n}},To.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,d=i*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=n}},To.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},To.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},To.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var o=new To(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new Yw(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ct.API),I6.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var o=new I6(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new Yw(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ct.API),ct.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c],f=r[c+1],m=r[c+2],p=r[c+3];o[a++]=d,o[a++]=f,o[a++]=m,s[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ct.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dd=ct.API,V1=dd.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=e.doKerning!==!1,m=0,p=n.length,y=0,_=a[0]||l,C=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(m=f&&hn(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/d:0,C.push((a[r]||_)/l+m)),y=r;return C},x6=dd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return dd.processArabic&&(n=dd.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:V1.apply(this,arguments).reduce(function(o,s){return o+s},0)},E6=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},S6=function(n,e,t){t||(t={});var r,i,o,s,a,l,c,d=[],f=[d],m=t.textIndent||0,p=0,y=0,_=n.split(" "),C=V1.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var w=Array(l).join(" "),S=[];_.map(function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map(function(q,J){return(J&&q.length?`
`:"")+q})):S.push(k[0])}),_=S,l=x6.apply(this,[w,t])}for(o=0,s=_.length;o<s;o++){var O=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),O=1),m+p+(y=(i=V1.apply(this,[r,t])).reduce(function(k,q){return k+q},0))>e||O){if(y>e){for(a=E6.apply(this,[r,i,e-(m+p),e]),d.push(a.shift()),d=[a.pop()];a.length;)f.push([a.shift()]);y=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(k,q){return k+q},0)}else d=[r];f.push(d),m=y+l,p=C}else d.push(r),m+=p+y,p=C}return c=l?function(k,q){return(q?w:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(c)},dd.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(S6.apply(this,[r[a],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(f){return"0x"+parseInt(f,10).toString(16)},s=n.__fontmetrics__.compress=function(f){var m,p,y,_,C=["{"];for(var w in f){if(m=f[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=o(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(y=o(m).slice(3),_="-"):(y=o(m).slice(2),_=""),y=_+y.slice(0,-1)+r[y.slice(-1)];else{if(hn(m)!=="object")throw new Error("Don't know what to do with value type "+hn(m)+".");y=s(m)}C.push(p+y)}return C.push("}"),C.join("")},a=n.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,y,_,C={},w=1,S=C,O=[],k="",q="",J=f.length-1,H=1;H<J;H+=1)(_=f[H])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(O.push([S,y]),S={},y=void 0):_=="}"?((p=O.pop())[0][p[1]]=S,y=void 0,S=p[0]):_=="-"?w=-1:y===void 0?t.hasOwnProperty(_)?(k+=t[_],y=parseInt(k,16)*w,w=1,k=""):k+=_:t.hasOwnProperty(_)?(q+=t[_],S[y]=parseInt(q,16)*w,w=1,y=void 0,q=""):q+=_;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(f){var m=f.font,p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var y=c.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])}(ct.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Xf(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ct),function(n){function e(){return(mt.canvg?Promise.resolve(mt.canvg):import("./chunk-KBHBTWUQ.js")).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ct.API.addSvgAsImage=function(t,r,i,o,s,a,l,c){if(isNaN(r)||isNaN(i))throw vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(y){return y.fromString(f,t,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(m)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),r,i,o,s,l,c)})}}(),ct.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},ct.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,f=0;function m(y,_){var C,w=!1;for(C=0;C<y.length;C+=1)y[C]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=a.length;for(f=0;f<p;f+=1)t[a[f]].value=t[a[f]].defaultValue,t[a[f]].explicitSet=!1}if(hn(n)==="object"){for(i in n)if(o=n[i],m(a,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&m(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,_=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?_.push("/"+y+" /"+t[y].value):_.push("/"+y+" "+t[y].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,m=o.length;f<m;++f){if(a=s.metadata.characterToGlyph(o.charCodeAt(f)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(o){var s,a,l,c,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(a=Object.keys(o).sort(function(p,y){return p-y})).length;f<m;f++)s=a[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);var _=c();d({data:p,addLength1:!0,objectId:_}),l("endobj");var C=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+fd(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+fd(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+fd(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var y=c();d({data:m,addLength1:!0,objectId:y}),l("endobj");var _=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var C=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+fd(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+fd(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},f=o.mutex||{},m=f.pdfEscape,p=f.activeFontKey,y=f.fonts,_=p,C="",w=0,S="",O=y[_].encoding;if(y[_].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:f};for(S=a,_=p,Array.isArray(a)&&(S=a[0]),w=0;w<S.length;w+=1)y[_].metadata.hasOwnProperty("cmap")&&(s=y[_].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),s||S[w].charCodeAt(0)<256&&y[_].metadata.hasOwnProperty("Unicode")?C+=S[w]:C+="";var k="";return parseInt(_.slice(1))<14||O==="WinAnsiEncoding"?k=m(C,_).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(k=t(C,y[_])),f.isHex=!0,{text:k,x:l,y:c,options:d,mutex:f}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(ct),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ct.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,d,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,O=0;this.__bidiEngine__={};var k=function(T){var P=T.charCodeAt(),z=P>>8,U=_[z];return U!==void 0?f[256*U+(255&P)]:z===252||z===253?"AL":w.test(z)?"L":z===8?"R":"N"},q=function(T){for(var P,z=0;z<T.length;z++){if((P=k(T.charAt(z)))==="L")return!1;if(P==="R")return!0}return!1},J=function(T,P,z,U){var ce,ae,ve,X,ue=P[U];switch(ue){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(ue="AN");break;case"AL":S=!0,ue="R";break;case"WS":ue="N";break;case"CS":U<1||U+1>=P.length||(ce=z[U-1])!=="EN"&&ce!=="AN"||(ae=P[U+1])!=="EN"&&ae!=="AN"?ue="N":S&&(ae="AN"),ue=ae===ce?ae:"N";break;case"ES":ue=(ce=U>0?z[U-1]:"B")==="EN"&&U+1<P.length&&P[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&z[U-1]==="EN"){ue="EN";break}if(S){ue="N";break}for(ve=U+1,X=P.length;ve<X&&P[ve]==="ET";)ve++;ue=ve<X&&P[ve]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(X=P.length,ve=U+1;ve<X&&P[ve]==="NSM";)ve++;if(ve<X){var ge=T[U],Ne=ge>=1425&&ge<=2303||ge===64286;if(ce=P[ve],Ne&&(ce==="R"||ce==="AL")){ue="R";break}}}ue=U<1||(ce=P[U-1])==="B"?"N":z[U-1];break;case"B":S=!1,i=!0,ue=O;break;case"S":o=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":ue="N"}return ue},H=function(T,P,z){var U=T.split("");return z&&j(U,z,{hiLevel:O}),U.reverse(),P&&P.reverse(),U.join("")},j=function(T,P,z){var U,ce,ae,ve,X,ue=-1,ge=T.length,Ne=0,I=[],L=O?p:m,B=[];for(S=!1,i=!1,o=!1,ce=0;ce<ge;ce++)B[ce]=k(T[ce]);for(ae=0;ae<ge;ae++){if(X=Ne,I[ae]=J(T,B,I,ae),U=240&(Ne=L[X][y[I[ae]]]),Ne&=15,P[ae]=ve=L[Ne][5],U>0)if(U===16){for(ce=ue;ce<ae;ce++)P[ce]=1;ue=-1}else ue=-1;if(L[Ne][6])ue===-1&&(ue=ae);else if(ue>-1){for(ce=ue;ce<ae;ce++)P[ce]=ve;ue=-1}B[ae]==="B"&&(P[ae]=0),z.hiLevel|=ve}o&&function($,ee,le){for(var de=0;de<le;de++)if($[de]==="S"){ee[de]=O;for(var he=de-1;he>=0&&$[he]==="WS";he--)ee[he]=O}}(B,P,ge)},te=function(T,P,z,U,ce){if(!(ce.hiLevel<T)){if(T===1&&O===1&&!i)return P.reverse(),void(z&&z.reverse());for(var ae,ve,X,ue,ge=P.length,Ne=0;Ne<ge;){if(U[Ne]>=T){for(X=Ne+1;X<ge&&U[X]>=T;)X++;for(ue=Ne,ve=X-1;ue<ve;ue++,ve--)ae=P[ue],P[ue]=P[ve],P[ve]=ae,z&&(ae=z[ue],z[ue]=z[ve],z[ve]=ae);Ne=X}Ne++}}},ie=function(T,P,z){var U=T.split(""),ce={hiLevel:O};return z||(z=[]),j(U,z,ce),function(ae,ve,X){if(X.hiLevel!==0&&d)for(var ue,ge=0;ge<ae.length;ge++)ve[ge]===1&&(ue=C.indexOf(ae[ge]))>=0&&(ae[ge]=C[ue+1])}(U,z,ce),te(2,U,P,z,ce),te(1,U,P,z,ce),U.join("")};return this.__bidiEngine__.doBidiReorder=function(T,P,z){if(function(ce,ae){if(ae)for(var ve=0;ve<ce.length;ve++)ae[ve]=ve;a===void 0&&(a=q(ce)),c===void 0&&(c=q(ce))}(T,P),s||!l||c)if(s&&l&&a^c)O=a?1:0,T=H(T,P,z);else if(!s&&l&&c)O=a?1:0,T=ie(T,P,z),T=H(T,P);else if(!s||a||l||c){if(s&&!l&&a^c)T=H(T,P),a?(O=0,T=ie(T,P,z)):(O=1,T=ie(T,P,z),T=H(T,P));else if(s&&a&&!l&&c)O=1,T=ie(T,P,z),T=H(T,P);else if(!s&&!l&&a^c){var U=d;a?(O=1,T=ie(T,P,z),O=0,d=!1,T=ie(T,P,z),d=U):(O=0,T=ie(T,P,z),T=H(T,P),O=1,d=!1,T=ie(T,P,z),d=U,T=H(T,P))}}else O=0,T=ie(T,P,z);else O=a?1:0,T=ie(T,P,z);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new nl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Mj(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new pj(this.contents),this.head=new mj(this),this.name=new wj(this),this.cmap=new B6(this),this.toUnicode={},this.hhea=new vj(this),this.maxp=new Cj(this),this.hmtx=new xj(this),this.post=new bj(this),this.os2=new yj(this),this.loca=new Ij(this),this.glyf=new Ej(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var No,nl=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),pj=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,s,a,l,c,d,f,m,p,y,_;for(_ in p=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),d=16*p-f,(i=new nl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(s),i.writeShort(d),o=16*p,c=i.pos+o,a=null,y=[],t)for(m=t[_],i.writeString(_),i.writeInt(n(m)),i.writeInt(c),i.writeInt(m.length),y=y.concat(m),_==="head"&&(a=c),c+=m.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=V6.call(t);t.length%4;)t.push(0);for(o=new nl(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),gj={}.hasOwnProperty,gs=function(n,e){for(var t in e)gj.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};No=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var mj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new nl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),M6=function(){function n(e,t){var r,i,o,s,a,l,c,d,f,m,p,y,_,C,w,S,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,o=function(){var k,q;for(q=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)q.push(e.readUInt16());return q}(),e.pos+=2,_=function(){var k,q;for(q=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)q.push(e.readUInt16());return q}(),c=function(){var k,q;for(q=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)q.push(e.readUInt16());return q}(),d=function(){var k,q;for(q=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)q.push(e.readUInt16());return q}(),i=(this.length-e.pos+this.offset)/2,a=function(){var k,q;for(q=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)q.push(e.readUInt16());return q}(),l=w=0,O=o.length;w<O;l=++w)for(C=o[l],r=S=y=_[l];y<=C?S<=C:S>=C;r=y<=C?++S:--S)d[l]===0?s=r+c[l]:(s=a[d[l]/2+(r-y)-(m-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=f}return n.encode=function(e,t){var r,i,o,s,a,l,c,d,f,m,p,y,_,C,w,S,O,k,q,J,H,j,te,ie,T,P,z,U,ce,ae,ve,X,ue,ge,Ne,I,L,B,$,ee,le,de,he,Pe,Te,Be;switch(U=new nl,s=Object.keys(e).sort(function(Le,pt){return Le-pt}),t){case"macroman":for(_=0,C=function(){var Le=[];for(y=0;y<256;++y)Le.push(0);return Le}(),S={0:0},o={},ce=0,ue=s.length;ce<ue;ce++)S[he=e[i=s[ce]]]==null&&(S[he]=++_),o[i]={old:e[i],new:S[e[i]]},C[i]=S[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(C),{charMap:o,subtable:U.data,maxGlyphID:_+1};case"unicode":for(P=[],f=[],O=0,S={},r={},w=c=null,ae=0,ge=s.length;ae<ge;ae++)S[q=e[i=s[ae]]]==null&&(S[q]=++O),r[i]={old:q,new:S[q]},a=S[q]-i,w!=null&&a===c||(w&&f.push(w),P.push(i),c=a),w=i;for(w&&f.push(w),f.push(65535),P.push(65535),ie=2*(te=P.length),j=2*Math.pow(Math.log(te)/Math.LN2,2),m=Math.log(j/2)/Math.LN2,H=2*te-j,l=[],J=[],p=[],y=ve=0,Ne=P.length;ve<Ne;y=++ve){if(T=P[y],d=f[y],T===65535){l.push(0),J.push(0);break}if(T-(z=r[T].new)>=32768)for(l.push(0),J.push(2*(p.length+te-y)),i=X=T;T<=d?X<=d:X>=d;i=T<=d?++X:--X)p.push(r[i].new);else l.push(z-T),J.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*te+2*p.length),U.writeUInt16(0),U.writeUInt16(ie),U.writeUInt16(j),U.writeUInt16(m),U.writeUInt16(H),le=0,I=f.length;le<I;le++)i=f[le],U.writeUInt16(i);for(U.writeUInt16(0),de=0,L=P.length;de<L;de++)i=P[de],U.writeUInt16(i);for(Pe=0,B=l.length;Pe<B;Pe++)a=l[Pe],U.writeUInt16(a);for(Te=0,$=J.length;Te<$;Te++)k=J[Te],U.writeUInt16(k);for(Be=0,ee=p.length;Be<ee;Be++)_=p[Be],U.writeUInt16(_);return{charMap:r,subtable:U.data,maxGlyphID:O+1}}},n}(),B6=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new M6(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,o;return r==null&&(r="macroman"),i=M6.encode(t,r),(o=new nl).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),vj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),yj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),bj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),_j=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,o,s,a,l,c,d,f,m,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=f=0,m=i.length;f<m;s=++f)o=i[s],t.pos=o.offset,d=t.readString(o.length),a=new _j(d,o),c[p=o.nameID]==null&&(c[p]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Cj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),xj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,o,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)f.push(t.readInt16());return f}(),this.widths=(function(){var d,f,m,p;for(p=[],d=0,f=(m=this.metrics).length;d<f;d++)s=m[d],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),V6=[].slice,Ej=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,o,s,a,l,c,d,f,m;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(o=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new nl(r.read(o))).readShort(),d=l.readShort(),m=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=a===-1?new Dj(l,d,m,c,f):new Sj(l,a,d,m,c,f),this.cache[t]))},e.prototype.encode=function(t,r,i){var o,s,a,l,c;for(a=[],s=[],l=0,c=r.length;l<c;l++)o=t[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),Sj=function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Dj=function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new nl(V6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Ij=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return gs(e,No),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var d=new Array(4*i.length),f=0;f<i.length;++f)d[4*f+3]=255&i[f],d[4*f+2]=(65280&i[f])>>8,d[4*f+1]=(16711680&i[f])>>16,d[4*f]=(4278190080&i[f])>>24;return d},e}(),Mj=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))r=l[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,s,a,l,c,d,f,m,p,y,_,C,w;for(i in r=B6.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(y in m=r.maxGlyphID,s)y in p||(p[y]=m++);return d=function(S){var O,k;for(O in k={},S)k[S[O]]=O;return k}(p),f=Object.keys(d).sort(function(S,O){return S-O}),_=function(){var S,O,k;for(k=[],S=0,O=f.length;S<O;S++)a=f[S],k.push(d[a]);return k}(),o=this.font.glyf.encode(s,_,p),c=this.font.loca.encode(o.offsets,_),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();ct.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)s=t[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e}();var hl=tE(l8());var Mq=["konvaContainer"],Aq=["imageInput"],Tq=(n,e)=>e.value;function Pq(n,e){if(n&1&&(fe(0,"option",42),Z(1),pe()),n&2){let t=e.$implicit;ft("value",t.value),Ve(),os(t.name)}}function Nq(n,e){if(n&1){let t=Fr();fe(0,"div",79)(1,"div",80)(2,"input",81),Ke("input",function(i){tt(t);let o=rt(2);return nt(o.updateTextProperty("shadowColor",i))}),pe()(),fe(3,"div",82)(4,"input",83),Ke("input",function(i){tt(t);let o=rt(2);return nt(o.updateTextProperty("shadowBlur",i))}),pe()(),fe(5,"div",82)(6,"input",84),Ke("input",function(i){tt(t);let o=rt(2);return nt(o.updateTextProperty("shadowOffsetX",i))}),pe()()()}if(n&2){let t=rt(2);Ve(2),ft("value",t.getSelectedTextProperty("shadowColor")),Ve(2),ft("value",t.getSelectedTextProperty("shadowBlur")),Ve(2),ft("value",t.getSelectedTextProperty("shadowOffsetX"))}}function Oq(n,e){if(n&1){let t=Fr();fe(0,"div",31)(1,"div",36)(2,"h6",37),Ge(3,"i",38),Z(4," Propiedades de Texto "),pe(),fe(5,"div",39)(6,"label",40),Z(7,"Fuente:"),pe(),fe(8,"select",41),Ke("change",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("fontFamily",i))}),cf(9,Pq,2,2,"option",42,Tq),pe()(),fe(11,"div",39)(12,"label",40),Z(13,"Tama\xF1o:"),pe(),fe(14,"div",43)(15,"input",44),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("fontSize",i))}),pe(),fe(16,"span",45),Z(17,"px"),pe()()(),fe(18,"div",39)(19,"label",40),Z(20,"Color:"),pe(),fe(21,"div",46)(22,"input",47),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("fill",i))}),pe(),fe(23,"input",48),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("fill",i))}),pe()()(),fe(24,"div",39)(25,"label",40),Z(26,"Estilo:"),pe(),fe(27,"div",49)(28,"input",50),Ke("change",function(){tt(t);let i=rt();return nt(i.toggleTextBold())}),pe(),fe(29,"label",51),Ge(30,"i",52),pe(),fe(31,"input",53),Ke("change",function(){tt(t);let i=rt();return nt(i.toggleTextItalic())}),pe(),fe(32,"label",54),Ge(33,"i",55),pe(),fe(34,"input",56),Ke("change",function(){tt(t);let i=rt();return nt(i.toggleTextUnderline())}),pe(),fe(35,"label",57),Ge(36,"i",58),pe()()(),fe(37,"div",39)(38,"label",40),Z(39,"Alineaci\xF3n:"),pe(),fe(40,"div",49)(41,"input",59),Ke("change",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("align",i))}),pe(),fe(42,"label",60),Ge(43,"i",61),pe(),fe(44,"input",62),Ke("change",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("align",i))}),pe(),fe(45,"label",63),Ge(46,"i",64),pe(),fe(47,"input",65),Ke("change",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("align",i))}),pe(),fe(48,"label",66),Ge(49,"i",67),pe()()(),fe(50,"div",39)(51,"label",40),Z(52,"Interlineado:"),pe(),fe(53,"input",68),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("lineHeight",i))}),pe(),fe(54,"small",20),Z(55),pe()(),fe(56,"div",39)(57,"label",40),Z(58,"Espaciado:"),pe(),fe(59,"input",69),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("letterSpacing",i))}),pe(),fe(60,"small",20),Z(61),pe()(),fe(62,"div",39)(63,"label",40),Z(64,"Opacidad:"),pe(),fe(65,"input",70),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("opacity",i))}),pe(),fe(66,"small",20),Z(67),pe()(),fe(68,"div",39)(69,"label",40),Z(70,"Rotaci\xF3n:"),pe(),fe(71,"input",71),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("rotation",i))}),pe(),fe(72,"small",20),Z(73),pe()(),fe(74,"div",39)(75,"label",40),Z(76,"Borde:"),pe(),fe(77,"div",72)(78,"div",73)(79,"input",74),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("stroke",i))}),pe()(),fe(80,"div",75)(81,"input",76),Ke("input",function(i){tt(t);let o=rt();return nt(o.updateTextProperty("strokeWidth",i))}),pe()()()(),fe(82,"div",39)(83,"div",22)(84,"input",77),Ke("change",function(){tt(t);let i=rt();return nt(i.toggleTextShadow())}),pe(),fe(85,"label",78),Z(86," Sombra "),pe()(),Gi(87,Nq,7,3,"div",79),pe()()()}if(n&2){let t=rt();Ve(8),ft("value",t.getSelectedTextProperty("fontFamily")),Ve(),uf(t.fontOptions()),Ve(6),ft("value",t.getSelectedTextProperty("fontSize")),Ve(7),ft("value",t.getSelectedTextProperty("fill")),Ve(),ft("value",t.getSelectedTextProperty("fill")),Ve(5),ft("checked",t.isTextBold()),Ve(3),ft("checked",t.isTextItalic()),Ve(3),ft("checked",t.isTextUnderline()),Ve(7),ft("checked",t.getSelectedTextProperty("align")==="left"),Ve(3),ft("checked",t.getSelectedTextProperty("align")==="center"),Ve(3),ft("checked",t.getSelectedTextProperty("align")==="right"),Ve(6),ft("value",t.getSelectedTextProperty("lineHeight")),Ve(2),os(t.getSelectedTextProperty("lineHeight")),Ve(4),ft("value",t.getSelectedTextProperty("letterSpacing")),Ve(2),ci("",t.getSelectedTextProperty("letterSpacing"),"px"),Ve(4),ft("value",t.getSelectedTextProperty("opacity")),Ve(2),ci("",(t.getSelectedTextProperty("opacity")*100).toFixed(0),"%"),Ve(4),ft("value",t.getSelectedTextProperty("rotation")),Ve(2),ci("",t.getSelectedTextProperty("rotation"),"\xB0"),Ve(6),ft("value",t.getSelectedTextProperty("stroke")),Ve(2),ft("value",t.getSelectedTextProperty("strokeWidth")),Ve(3),ft("checked",t.hasTextShadow()),Ve(3),$i(t.hasTextShadow()?87:-1)}}function kq(n,e){if(n&1&&Ge(0,"div",85),n&2){let t=rt();D0("background-size",t.settings().gridSize*t.settings().zoom+"px "+t.settings().gridSize*t.settings().zoom+"px")}}function Rq(n,e){if(n&1){let t=Fr();fe(0,"div",86),Ke("click",function(){tt(t);let i=rt();return nt(i.toggleFullscreen())}),fe(1,"div",87)(2,"button",88),Ke("click",function(){tt(t);let i=rt();return nt(i.toggleFullscreen())}),Ge(3,"i",89),Z(4," Cerrar Pantalla Completa "),pe()()()}}var u2=class n{elements=$t([]);settings=$t({snapToGrid:!0,gridSize:20,showGrid:!0,zoom:1,canvasWidth:1400,canvasHeight:990});fontOptions=$t([{name:"Arial",value:"Arial, sans-serif"},{name:"Times New Roman",value:"Times New Roman, serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Helvetica",value:"Helvetica, sans-serif"},{name:"Trebuchet MS",value:"Trebuchet MS, sans-serif"},{name:"Verdana",value:"Verdana, sans-serif"}]);isPreviewMode=$t(!1);backgroundImage=$t("");elementsChange=new wn;selectedElementChange=new wn;downloadPDFRequest=new wn;downloadImageRequest=new wn;konvaContainer;imageInput;stage;layer;backgroundLayer;transformer;selectedElement=$t(null);isFullscreen=$t(!1);history=[];historyIndex=0;maxHistory=50;ngAfterViewInit(){this.initializeKonva(),this.renderElements()}ngOnDestroy(){this.stage&&this.stage.destroy()}initializeKonva(){let e=this.konvaContainer.nativeElement;this.stage=new hl.default.Stage({container:e,width:this.settings().canvasWidth,height:this.settings().canvasHeight,draggable:!1}),this.backgroundLayer=new hl.default.Layer,this.layer=new hl.default.Layer,this.stage.add(this.backgroundLayer),this.stage.add(this.layer),this.transformer=new hl.default.Transformer({enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right","top-center","bottom-center"],borderStroke:"#007bff",borderStrokeWidth:2,anchorStroke:"#007bff",anchorFill:"white",anchorStrokeWidth:2,anchorSize:8,rotateAnchorOffset:30,keepRatio:!1,boundBoxFunc:(t,r)=>r.width<10||r.height<10?t:r}),this.layer.add(this.transformer),this.stage.on("click tap",t=>{t.target===this.stage&&this.deselectAll()}),this.stage.on("dragend transformend",()=>{this.saveToHistory(),this.syncElements()})}renderElements(){this.layer.children.forEach(e=>{e!==this.transformer&&e.destroy()}),this.elements().forEach(e=>{e.type==="text"?this.renderText(e):e.type==="image"&&this.renderImage(e)}),this.transformer.moveToTop(),this.layer.batchDraw()}renderText(e){let t=new hl.default.Text({id:e.id,x:e.x,y:e.y,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,fill:e.fill,rotation:e.rotation,fontStyle:e.fontStyle,align:e.align,width:e.width||200,draggable:!0,visible:e.visible,opacity:e.opacity,scaleX:e.scaleX,scaleY:e.scaleY,strokeWidth:e.strokeWidth||0,stroke:e.stroke||"",textDecoration:e.textDecoration||"",letterSpacing:e.letterSpacing||0,lineHeight:e.lineHeight||1.2,shadowColor:e.shadowColor||"",shadowBlur:e.shadowBlur||0,shadowOffsetX:e.shadowOffsetX||0,shadowOffsetY:e.shadowOffsetY||0,perfectDrawEnabled:!1});t.on("click tap",r=>{r.cancelBubble=!0,this.selectElement(e)}),t.on("dblclick dbltap",r=>{r.cancelBubble=!0,this.startTextEditing(t)}),t.on("transform",()=>{let r={width:t.width()*t.scaleX(),height:t.height()*t.scaleY(),scaleX:1,scaleY:1};t.setAttrs(r)}),this.layer.add(t)}renderImage(e){let t=new Image;t.onload=()=>{let r=new hl.default.Image({id:e.id,x:e.x,y:e.y,image:t,width:e.width,height:e.height,rotation:e.rotation,draggable:e.draggable,visible:e.visible,opacity:e.opacity,scaleX:e.scaleX,scaleY:e.scaleY});r.on("click tap",()=>{this.selectElement(e)}),this.layer.add(r),this.layer.batchDraw()},t.src=e.src}selectElement(e){this.selectedElement.set(e),this.selectedElementChange.emit(e);let t=this.stage.findOne(`#${e.id}`);t&&(this.transformer.nodes([t]),this.layer.batchDraw())}deselectAll(){this.selectedElement.set(null),this.selectedElementChange.emit(null),this.transformer.nodes([]),this.layer.batchDraw()}startTextEditing(e){e.hide(),this.transformer.hide();let t=e.absolutePosition(),r=this.stage.container().getBoundingClientRect(),i=document.createElement("textarea");document.body.appendChild(i),i.value=e.text(),i.style.position="absolute",i.style.top=r.top+t.y+"px",i.style.left=r.left+t.x+"px",i.style.width=e.width()+"px",i.style.height="auto",i.style.fontSize=e.fontSize()+"px",i.style.border="2px solid #007bff",i.style.padding="4px",i.style.margin="0",i.style.overflow="hidden",i.style.background="white",i.style.outline="none",i.style.resize="none",i.style.fontFamily=e.fontFamily(),i.style.lineHeight=e.lineHeight().toString(),i.style.fontStyle=e.fontStyle(),i.style.textAlign=e.align(),i.style.color=e.fill();let o=e.rotation();o&&(i.style.transform=`rotateZ(${o}deg)`,i.style.transformOrigin="left top"),i.focus(),i.select();let s=()=>{i.parentNode?.removeChild(i),window.removeEventListener("click",a),e.show(),this.transformer.show(),this.transformer.forceUpdate(),this.layer.batchDraw()},a=l=>{l.target!==i&&(e.text(i.value),this.syncElements(),s())};i.addEventListener("keydown",l=>{l.key==="Enter"&&!l.shiftKey&&(e.text(i.value),this.syncElements(),s()),l.key==="Escape"&&s()}),setTimeout(()=>{window.addEventListener("click",a)})}addText(){let e={id:`text-${Date.now()}`,type:"text",text:"Nuevo Texto",x:100,y:100,width:200,fontSize:24,fontFamily:"Arial, sans-serif",fill:"#000000",rotation:0,fontStyle:"normal",align:"left",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"#000000",letterSpacing:0,lineHeight:1.2,shadowColor:"#000000",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0};this.elements.set([...this.elements(),e]),this.saveToHistory(),this.renderElements(),this.selectElement(e),this.emitElementsChange()}addImage(){this.imageInput.nativeElement.click()}onImageSelect(e){let r=e.target.files?.[0];if(r){let i=new FileReader;i.onload=o=>{let s={id:`image-${Date.now()}`,type:"image",src:o.target?.result,x:100,y:100,width:200,height:150,rotation:0,draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1};this.elements.set([...this.elements(),s]),this.saveToHistory(),this.renderElements(),this.selectElement(s),this.emitElementsChange()},i.readAsDataURL(r)}}deleteSelected(){let e=this.selectedElement();e&&(this.elements.set(this.elements().filter(t=>t.id!==e.id)),this.deselectAll(),this.saveToHistory(),this.renderElements(),this.emitElementsChange())}setBackgroundImage(e){if(this.backgroundLayer.destroyChildren(),e){let t=new Image;t.onload=()=>{let r=new hl.default.Image({x:0,y:0,image:t,width:this.settings().canvasWidth,height:this.settings().canvasHeight,listening:!1});this.backgroundLayer.add(r),this.backgroundLayer.batchDraw()},t.src=e}}exportAsImage(e="png"){return this.stage.toDataURL({mimeType:e==="png"?"image/png":"image/jpeg",quality:1,pixelRatio:2})}onZoomChange(e){let t=parseFloat(e.target.value);this.settings.set(lt(Ie({},this.settings()),{zoom:t})),this.stage.scale({x:t,y:t}),this.stage.batchDraw()}toggleGrid(){let e=this.settings();this.settings.set(lt(Ie({},e),{showGrid:!e.showGrid}))}onGridSizeChange(e){let t=parseInt(e.target.value);this.settings.set(lt(Ie({},this.settings()),{gridSize:t}))}syncElements(){let e=this.elements().map(t=>{let r=this.stage.findOne(`#${t.id}`);return r?Ie(lt(Ie({},t),{x:r.x(),y:r.y(),rotation:r.rotation(),scaleX:r.scaleX(),scaleY:r.scaleY()}),t.type==="text"&&{text:r.text(),width:r.width()}):t});this.elements.set(e),this.emitElementsChange()}saveToHistory(){let e=JSON.parse(JSON.stringify(this.elements()));this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.push(e),this.history.length>this.maxHistory&&(this.history=this.history.slice(-this.maxHistory)),this.historyIndex=this.history.length-1}undo(){this.canUndo()&&(this.historyIndex--,this.elements.set([...this.history[this.historyIndex]]),this.deselectAll(),this.renderElements(),this.emitElementsChange())}redo(){this.canRedo()&&(this.historyIndex++,this.elements.set([...this.history[this.historyIndex]]),this.deselectAll(),this.renderElements(),this.emitElementsChange())}canUndo(){return this.historyIndex>0}canRedo(){return this.historyIndex<this.history.length-1}emitElementsChange(){this.elementsChange.emit(this.elements())}getSelectedTextProperty(e){let t=this.selectedElement();return!t||t.type!=="text"?this.getDefaultTextValue(e):t[e]||this.getDefaultTextValue(e)}getDefaultTextValue(e){return{fontFamily:"Arial, sans-serif",fontSize:24,fill:"#000000",align:"left",lineHeight:1.2,letterSpacing:0,opacity:1,rotation:0,stroke:"#000000",strokeWidth:0,shadowColor:"#000000",shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2}[e]||""}updateTextProperty(e,t){let r=this.selectedElement();if(!r||r.type!=="text")return;let i;if(typeof t=="string"||typeof t=="number")i=t;else{let a=t.target;a.type==="checkbox"||a.type==="radio"?i=a.checked?a.value:!1:a.type==="number"||a.type==="range"?i=parseFloat(a.value):i=a.value}let o=this.elements().map(a=>a.id===r.id&&a.type==="text"?lt(Ie({},a),{[e]:i}):a);this.elements.set(o);let s=this.stage.findOne(`#${r.id}`);s&&(s[e](i),this.layer.batchDraw()),this.saveToHistory(),this.emitElementsChange()}isTextBold(){let e=this.getSelectedTextProperty("fontStyle");return e&&e.includes("bold")}toggleTextBold(){let e=this.getSelectedTextProperty("fontStyle")||"",t=e.includes("bold"),r=e.includes("italic"),i="";!t&&r?i="bold italic":!t&&!r?i="bold":t&&r?i="italic":i="normal",this.updateTextProperty("fontStyle",i)}isTextItalic(){let e=this.getSelectedTextProperty("fontStyle");return e&&e.includes("italic")}toggleTextItalic(){let e=this.getSelectedTextProperty("fontStyle")||"",t=e.includes("bold"),r=e.includes("italic"),i="";t&&!r?i="bold italic":!t&&!r?i="italic":t&&r?i="bold":i="normal",this.updateTextProperty("fontStyle",i)}isTextUnderline(){return this.getSelectedTextProperty("textDecoration")==="underline"}toggleTextUnderline(){let t=this.getSelectedTextProperty("textDecoration")==="underline"?"":"underline";this.updateTextProperty("textDecoration",t)}hasTextShadow(){return this.getSelectedTextProperty("shadowBlur")>0}toggleTextShadow(){this.hasTextShadow()?(this.updateTextProperty("shadowBlur",0),this.updateTextProperty("shadowOffsetX",0),this.updateTextProperty("shadowOffsetY",0)):(this.updateTextProperty("shadowBlur",5),this.updateTextProperty("shadowOffsetX",2),this.updateTextProperty("shadowOffsetY",2),this.updateTextProperty("shadowColor","#000000"))}toggleFullscreen(){this.isFullscreen.set(!this.isFullscreen())}downloadPDF(){this.downloadPDFRequest.emit()}downloadImage(){this.downloadImageRequest.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-konva-editor"]],viewQuery:function(t,r){if(t&1&&(ju(Mq,5),ju(Aq,5)),t&2){let i;Ga(i=$a())&&(r.konvaContainer=i.first),Ga(i=$a())&&(r.imageInput=i.first)}},inputs:{elements:"elements",settings:"settings",fontOptions:"fontOptions",isPreviewMode:"isPreviewMode",backgroundImage:"backgroundImage"},outputs:{elementsChange:"elementsChange",selectedElementChange:"selectedElementChange",downloadPDFRequest:"downloadPDFRequest",downloadImageRequest:"downloadImageRequest"},decls:49,vars:18,consts:[["imageInput",""],["konvaContainer",""],[1,"konva-editor"],[1,"editor-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","gap-2","align-items-center"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-type","me-1"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"bi","bi-image","me-1"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"vr"],[1,"btn-group"],["title","Deshacer",1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],[1,"bi","bi-arrow-counterclockwise"],["title","Rehacer",1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],[1,"bi","bi-arrow-clockwise"],["title","Eliminar seleccionado",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"bi","bi-trash"],[1,"d-flex","align-items-center","gap-2"],[1,"text-muted"],["type","range","min","0.1","max","3","step","0.1",1,"form-range",2,"width","80px",3,"input","value"],[1,"form-check","form-switch"],["type","checkbox","id","grid-toggle-header",1,"form-check-input",3,"change","checked"],["for","grid-toggle-header",1,"form-check-label","small"],["title","Pantalla completa",1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"bi"],["title","Descargar PDF",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-file-pdf","me-1"],["title","Descargar Imagen",1,"btn","btn-sm","btn-info",3,"click"],[1,"editor-content"],[1,"left-toolbar"],[1,"canvas-container"],[1,"konva-container"],["class","grid-overlay",3,"background-size",4,"ngIf"],[1,"fullscreen-overlay"],[1,"toolbar-section"],[1,"toolbar-section-title"],[1,"bi","bi-fonts"],[1,"mb-2"],[1,"form-label","small"],[1,"form-select","form-select-sm",3,"change","value"],[3,"value"],[1,"input-group","input-group-sm"],["type","number","min","8","max","200","step","1",1,"form-control",3,"input","value"],[1,"input-group-text"],[1,"color-picker-container"],["type","color",1,"form-control","form-control-color","form-control-sm",3,"input","value"],["type","text","placeholder","#000000",1,"form-control","form-control-sm","ms-1",3,"input","value"],[1,"btn-group","w-100"],["type","checkbox","id","bold-check",1,"btn-check",3,"change","checked"],["for","bold-check",1,"btn","btn-outline-secondary","btn-sm"],[1,"bi","bi-type-bold"],["type","checkbox","id","italic-check",1,"btn-check",3,"change","checked"],["for","italic-check",1,"btn","btn-outline-secondary","btn-sm"],[1,"bi","bi-type-italic"],["type","checkbox","id","underline-check",1,"btn-check",3,"change","checked"],["for","underline-check",1,"btn","btn-outline-secondary","btn-sm"],[1,"bi","bi-type-underline"],["type","radio","name","text-align","id","align-left","value","left",1,"btn-check",3,"change","checked"],["for","align-left",1,"btn","btn-outline-secondary","btn-sm"],[1,"bi","bi-text-left"],["type","radio","name","text-align","id","align-center","value","center",1,"btn-check",3,"change","checked"],["for","align-center",1,"btn","btn-outline-secondary","btn-sm"],[1,"bi","bi-text-center"],["type","radio","name","text-align","id","align-right","value","right",1,"btn-check",3,"change","checked"],["for","align-right",1,"btn","btn-outline-secondary","btn-sm"],[1,"bi","bi-text-right"],["type","range","min","0.5","max","3","step","0.1",1,"form-range",3,"input","value"],["type","range","min","-5","max","20","step","0.5",1,"form-range",3,"input","value"],["type","range","min","0","max","1","step","0.1",1,"form-range",3,"input","value"],["type","range","min","-180","max","180","step","1",1,"form-range",3,"input","value"],[1,"row","g-1"],[1,"col-8"],["type","color","title","Color del borde",1,"form-control","form-control-color","form-control-sm",3,"input","value"],[1,"col-4"],["type","number","min","0","max","10","step","0.5","placeholder","0","title","Grosor del borde",1,"form-control","form-control-sm",3,"input","value"],["type","checkbox","id","shadow-toggle",1,"form-check-input",3,"change","checked"],["for","shadow-toggle",1,"form-check-label","small"],[1,"row","g-1","mt-1"],[1,"col-6"],["type","color","title","Color de sombra",1,"form-control","form-control-color","form-control-sm",3,"input","value"],[1,"col-3"],["type","number","min","0","max","20","step","1","placeholder","5","title","Difuminado",1,"form-control","form-control-sm",3,"input","value"],["type","number","min","-20","max","20","step","1","placeholder","2","title","Desplazamiento X",1,"form-control","form-control-sm",3,"input","value"],[1,"grid-overlay"],[1,"fullscreen-overlay",3,"click"],[1,"fullscreen-close"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"bi","bi-x-lg"]],template:function(t,r){if(t&1){let i=Fr();fe(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),Ke("click",function(){return tt(i),nt(r.addText())}),Ge(5,"i",7),Z(6," Texto "),pe(),fe(7,"button",8),Ke("click",function(){return tt(i),nt(r.addImage())}),Ge(8,"i",9),Z(9," Imagen "),pe(),fe(10,"input",10,0),Ke("change",function(s){return tt(i),nt(r.onImageSelect(s))}),pe(),Ge(12,"div",11),fe(13,"div",12)(14,"button",13),Ke("click",function(){return tt(i),nt(r.undo())}),Ge(15,"i",14),pe(),fe(16,"button",15),Ke("click",function(){return tt(i),nt(r.redo())}),Ge(17,"i",16),pe()(),fe(18,"button",17),Ke("click",function(){return tt(i),nt(r.deleteSelected())}),Ge(19,"i",18),pe()(),fe(20,"div",5)(21,"div",19)(22,"small",20),Z(23,"Zoom:"),pe(),fe(24,"input",21),Ke("input",function(s){return tt(i),nt(r.onZoomChange(s))}),pe(),fe(25,"small",20),Z(26),pe()(),Ge(27,"div",11),fe(28,"div",22)(29,"input",23),Ke("change",function(){return tt(i),nt(r.toggleGrid())}),pe(),fe(30,"label",24),Z(31," Grid "),pe()(),Ge(32,"div",11),fe(33,"button",25),Ke("click",function(){return tt(i),nt(r.toggleFullscreen())}),Ge(34,"i",26),Z(35),pe(),fe(36,"button",27),Ke("click",function(){return tt(i),nt(r.downloadPDF())}),Ge(37,"i",28),Z(38," PDF "),pe(),fe(39,"button",29),Ke("click",function(){return tt(i),nt(r.downloadImage())}),Ge(40,"i",9),Z(41," PNG "),pe()()()(),fe(42,"div",30),Gi(43,Oq,88,22,"div",31),fe(44,"div",32),Ge(45,"div",33,1),zi(47,kq,1,2,"div",34),pe()(),Gi(48,Rq,5,0,"div",35),pe()}if(t&2){let i,o;Ve(14),ft("disabled",!r.canUndo()),Ve(2),ft("disabled",!r.canRedo()),Ve(2),ft("disabled",!r.selectedElement()),Ve(6),ft("value",r.settings().zoom),Ve(2),ci("",(r.settings().zoom*100).toFixed(0),"%"),Ve(3),ft("checked",r.settings().showGrid),Ve(5),li("bi-fullscreen",!r.isFullscreen())("bi-fullscreen-exit",r.isFullscreen()),Ve(),ci(" ",r.isFullscreen()?"Salir":"Full"," "),Ve(7),li("fullscreen",r.isFullscreen()),Ve(),$i(r.selectedElement()&&((i=r.selectedElement())==null?null:i.type)==="text"?43:-1),Ve(),li("with-sidebar",r.selectedElement()&&((o=r.selectedElement())==null?null:o.type)==="text"),Ve(3),ft("ngIf",r.settings().showGrid),Ve(),$i(r.isFullscreen()?48:-1)}},dependencies:[as,Js,O1,$I,YI],styles:['@charset "UTF-8";.konva-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#f8f9fa;position:relative}.editor-header[_ngcontent-%COMP%]{background:#fff;border-bottom:2px solid #dee2e6;padding:.75rem 1rem;flex-shrink:0;box-shadow:0 2px 4px #0000000d}.editor-content[_ngcontent-%COMP%]{display:flex;flex:1;min-height:0;position:relative}.editor-content.fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;background:#fff}.left-toolbar[_ngcontent-%COMP%]{width:280px;min-width:280px;background:#fff;border-right:2px solid #dee2e6;overflow-y:auto;padding:1rem;flex-shrink:0;transition:all .3s ease}.toolbar-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;padding:.75rem;margin-bottom:1rem}.toolbar-section-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#495057;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #dee2e6;display:flex;align-items:center;gap:.5rem}.color-picker-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.form-control-color[_ngcontent-%COMP%]{width:40px;height:30px;padding:2px;border-radius:4px}.canvas-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:auto;background:#fff;margin:1rem;border:1px solid #dee2e6;border-radius:8px;transition:all .3s ease}.canvas-container.with-sidebar[_ngcontent-%COMP%]{margin-left:0;border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.konva-container[_ngcontent-%COMP%]{position:relative;cursor:crosshair;z-index:2}.grid-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(to right,rgba(52,152,219,.4) 1px,transparent 1px),linear-gradient(to bottom,rgba(52,152,219,.4) 1px,transparent 1px);pointer-events:none;z-index:1}.fullscreen-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000c;z-index:10000;display:flex;align-items:center;justify-content:center}.fullscreen-close[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}.form-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#495057;margin-bottom:.25rem}.form-control-sm[_ngcontent-%COMP%]{font-size:.75rem}.btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd;color:#fff}.vr[_ngcontent-%COMP%]{width:1px;height:24px;background-color:#dee2e6}@media (max-width: 768px){.left-toolbar[_ngcontent-%COMP%]{width:240px;min-width:240px;padding:.5rem}.toolbar-section[_ngcontent-%COMP%]{padding:.5rem}.canvas-container[_ngcontent-%COMP%]{margin:.5rem}.canvas-container.with-sidebar[_ngcontent-%COMP%]{margin-left:0}.editor-header[_ngcontent-%COMP%]{padding:.5rem}.editor-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.left-toolbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.left-toolbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.left-toolbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.left-toolbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}']})};var c8=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var bp=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},d2=class extends bp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},_p=class extends bp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},wp=class extends bp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},rx=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(rx||{});var Lq=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},Cp=class{constructor(e,{headers:t={},customFetch:r,region:i=rx.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=c8(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Lq(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region);let c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(a["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(a["Content-Type"]="application/json",d=JSON.stringify(s)));let f=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(_=>{throw new d2(_)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new _p(f);if(!f.ok)throw new wp(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield f.json():p==="application/octet-stream"?y=yield f.blob():p==="text/event-stream"?y=f:p==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof wp||i instanceof _p?i.context:void 0}}})}};var C8=tE(w8(),1),{PostgrestClient:x8,PostgrestQueryBuilder:Fue,PostgrestFilterBuilder:jue,PostgrestTransformBuilder:Bue,PostgrestBuilder:Vue,PostgrestError:Yq}=C8.default;function E8(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var S8=E8();var D8="2.11.15";var I8=`realtime-js/${D8}`,M8="1.0.0";var g2=1e4,A8=1e3,Ap=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Ap||{}),zr=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(zr||{}),Qi=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Qi||{}),gx=function(n){return n.websocket="websocket",n}(gx||{}),mc=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(mc||{});var m2=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let l=r.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Ld=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var En=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(En||{}),vx=(n,e,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=Kq(s,n,e,i),o),{})},Kq=(n,e,t,r)=>{let i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?T8(o,s):mx(s)},T8=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return Qq(e,t)}switch(n){case En.bool:return Xq(e);case En.float4:case En.float8:case En.int2:case En.int4:case En.int8:case En.numeric:case En.oid:return Jq(e);case En.json:case En.jsonb:return Zq(e);case En.timestamp:return ez(e);case En.abstime:case En.date:case En.daterange:case En.int4range:case En.int8range:case En.money:case En.reltime:case En.text:case En.time:case En.timestamptz:case En.timetz:case En.tsrange:case En.tstzrange:return mx(e);default:return mx(e)}},mx=n=>n,Xq=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Jq=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Zq=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Qq=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>T8(e,a))}return n},ez=n=>typeof n=="string"?n.replace(" ","T"):n,v2=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};var Fd=class{constructor(e,t,r={},i=g2){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Tp=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{let f=o[c];if(f){let m=d.map(C=>C.presence_ref),p=f.map(C=>C.presence_ref),y=d.filter(C=>p.indexOf(C.presence_ref)<0),_=f.filter(C=>m.indexOf(C.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){let f=e[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...m)}r(a,d,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var pa=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(pa||{});var Pp=class n{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Fd(this,Qi.join,this.params,this.timeout),this.rejoinTimer=new Ld(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qi.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Tp(this),this.broadcastEndpointURL=v2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==zr.closed){let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(d=>e?.(pa.CHANNEL_ERROR,d)),this._onClose(()=>e?.(pa.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",f=>ne(this,[f],function*({postgres_changes:d}){var m;if(this.socket.setAuth(),d===void 0){e?.(pa.SUBSCRIBED);return}else{let p=this.bindings.postgres_changes,y=(m=p?.length)!==null&&m!==void 0?m:0,_=[];for(let C=0;C<y;C++){let w=p[C],{filter:{event:S,schema:O,table:k,filter:q}}=w,J=d&&d[C];if(J&&J.event===S&&J.schema===O&&J.table===k&&J.filter===q)_.push(Object.assign(Object.assign({},w),{id:J.id}));else{this.unsubscribe(),this.state=zr.errored,e?.(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(pa.SUBSCRIBED);return}})).receive("error",d=>{this.state=zr.errored,e?.(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return ne(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return ne(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(r){return ne(this,arguments,function*(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zr.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Fd(this,Qi.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,t,r){return ne(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Fd(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Qi;if(r&&[a,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,_,C;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(_=p.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(p=>p.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(p=>{var y,_,C,w,S,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){let k=p.id,q=(y=p.filter)===null||y===void 0?void 0:y.event;return k&&((_=t.ids)===null||_===void 0?void 0:_.includes(k))&&(q==="*"||q?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let k=(S=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return k==="*"||k===((O=t?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof m=="object"&&"ids"in m){let y=m.data,{schema:_,table:C,commit_timestamp:w,type:S,errors:O}=y;m=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:w,eventType:S,new:{},old:{},errors:O}),this._getPayloadRecords(y))}p.callback(m,r)})}_isClosed(){return this.state===zr.closed}_isJoined(){return this.state===zr.joined}_isJoining(){return this.state===zr.joining}_isLeaving(){return this.state===zr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qi.close,{},e)}_onError(e){this._on(Qi.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=vx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=vx(e.columns,e.old_record)),t}};var P8=()=>{},nz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Np=class{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=g2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=P8,this.ref=0,this.logger=P8,this.conn=null,this.sendBuffer=[],this.serializer=new m2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${gx.websocket}`,this.httpEndpoint=v2(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ld(()=>ne(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=S8),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M8}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(e){return ne(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return ne(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ap.connecting:return mc.Connecting;case Ap.open:return mc.Open;case Ap.closing:return mc.Closing;default:return mc.Closed}}isConnected(){return this.connectionState()===mc.Open}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Pp(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){let{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return ne(this,null,function*(){let t=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let i={access_token:t,version:I8};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Qi.access_token,{access_token:t})}))})}sendHeartbeat(){return ne(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(A8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qi.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([nz],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var jd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function cr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var y2=class extends jd{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},vc=class extends jd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var rz=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},_2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},N8=()=>rz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),b2=n=>{if(Array.isArray(n))return n.map(t=>b2(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=b2(r)}),e};var yc=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},yx=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),iz=(n,e,t)=>yc(void 0,void 0,void 0,function*(){let r=yield N8();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{e(new y2(yx(i),n.status||500))}).catch(i=>{e(new vc(yx(i),i))}):e(new vc(yx(n),n))}),oz=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Op(n,e,t,r,i,o){return yc(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,oz(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>iz(l,a,r))})})}function Bd(n,e,t,r){return yc(this,void 0,void 0,function*(){return Op(n,"GET",e,t,r)})}function xs(n,e,t,r,i){return yc(this,void 0,void 0,function*(){return Op(n,"POST",e,r,i,t)})}function O8(n,e,t,r,i){return yc(this,void 0,void 0,function*(){return Op(n,"PUT",e,r,i,t)})}function k8(n,e,t,r){return yc(this,void 0,void 0,function*(){return Op(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function w2(n,e,t,r,i){return yc(this,void 0,void 0,function*(){return Op(n,"DELETE",e,r,i,t)})}var hi=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},sz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},R8={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},C2=class{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=_2(i)}uploadOrUpdate(e,t,r,i){return hi(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},R8),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),m=yield f.json();return f.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(cr(o))return{data:null,error:o};throw o}})}upload(e,t,r){return hi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return hi(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:R8.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);let f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),m=yield f.json();return f.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(cr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return hi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield xs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new jd("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}update(e,t,r){return hi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return hi(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}copy(e,t,r){return hi(this,void 0,void 0,function*(){try{return{data:{path:(yield xs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return hi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield xs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return hi(this,void 0,void 0,function*(){try{let i=yield xs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}download(e,t){return hi(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Bd(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}info(e){return hi(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield Bd(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:b2(r),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}exists(e){return hi(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield k8(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(cr(r)&&r instanceof vc){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return hi(this,void 0,void 0,function*(){try{return{data:yield w2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}list(e,t,r){return hi(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},sz),t),{prefix:e||""});return{data:yield xs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};var L8="2.7.1";var F8={"X-Client-Info":`storage-js/${L8}`};var Vd=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},x2=class{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},F8),t),this.fetch=_2(r)}listBuckets(){return Vd(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(cr(e))return{data:null,error:e};throw e}})}getBucket(e){return Vd(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Vd(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Vd(this,void 0,void 0,function*(){try{return{data:yield O8(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Vd(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Vd(this,void 0,void 0,function*(){try{return{data:yield w2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}};var kp=class extends x2{constructor(e,t={},r){super(e,t,r)}from(e){return new C2(this.url,this.headers,e,this.fetch)}};var j8="2.52.1";var Rp="";typeof Deno<"u"?Rp="deno":typeof document<"u"?Rp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rp="react-native":Rp="node";var az={"X-Client-Info":`supabase-js-${Rp}/${j8}`},B8={headers:az},V8={schema:"public"},U8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},H8={};iE();var lz=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},cz=n=>{let e;return n?e=n:typeof fetch>"u"?e=nE:e=fetch,(...t)=>e(...t)},uz=()=>typeof Headers>"u"?rE:Headers,q8=(n,e,t)=>{let r=cz(t),i=uz();return(o,s)=>lz(void 0,void 0,void 0,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var dz=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function z8(n){return n.endsWith("/")?n:n+"/"}function G8(n,e){var t,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(t=f?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>dz(this,void 0,void 0,function*(){return""})};return n.accessToken?m.accessToken=n.accessToken:delete m.accessToken,m}var E2="2.71.1";var bc=30*1e3,S2=3,D2=S2*bc,$8="http://localhost:9999",W8="supabase.auth.token";var Y8={"X-Client-Info":`gotrue-js/${E2}`};var Lp="X-Supabase-Api-Version",bx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X8=10*60*1e3;var Fp=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function Dt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var I2=class extends Fp{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function J8(n){return Dt(n)&&n.name==="AuthApiError"}var Ud=class extends Fp{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Es=class extends Fp{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}},eo=class extends Es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Z8(n){return Dt(n)&&n.name==="AuthSessionMissingError"}var _c=class extends Es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},wc=class extends Es{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Cc=class extends Es{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Q8(n){return Dt(n)&&n.name==="AuthImplicitGrantRedirectError"}var jp=class extends Es{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Hd=class extends Es{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function M2(n){return Dt(n)&&n.name==="AuthRetryableFetchError"}var Bp=class extends Es{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var xc=class extends Es{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var A2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eT=` 	
\r=`.split(""),hz=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<eT.length;e+=1)n[eT[e].charCodeAt(0)]=-2;for(let e=0;e<A2.length;e+=1)n[A2[e].charCodeAt(0)]=e;return n})();function tT(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(A2[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(A2[r]),e.queuedBits-=6}}function nT(n,e,t){let r=hz[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function _x(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{gz(s,r,t)};for(let s=0;s<n.length;s+=1)nT(n.charCodeAt(s),i,o);return e.join("")}function fz(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function pz(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}fz(r,e)}}function gz(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function rT(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)nT(n.charCodeAt(i),t,r);return new Uint8Array(e)}function iT(n){let e=[];return pz(n,t=>e.push(t)),new Uint8Array(e)}function oT(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>tT(i,t,r)),tT(null,t,r),e.join("")}function sT(n){return Math.round(Date.now()/1e3)+n}function aT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var to=()=>typeof window<"u"&&typeof document<"u",Ec={tested:!1,writable:!1},T2=()=>{if(!to())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ec.tested)return Ec.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ec.tested=!0,Ec.writable=!0}catch{Ec.tested=!0,Ec.writable=!1}return Ec.writable};function lT(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}var P2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},cT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Sc=(n,e,t)=>ne(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),fl=(n,e)=>ne(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),ga=(n,e)=>ne(null,null,function*(){yield n.removeItem(e)}),Vp=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Vp.promiseConstructor=Promise;function N2(n){let e=n.split(".");if(e.length!==3)throw new xc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!K8.test(e[r]))throw new xc("JWT not in base64url format");return{header:JSON.parse(_x(e[0])),payload:JSON.parse(_x(e[1])),signature:rT(e[2]),raw:{header:e[0],payload:e[1]}}}function uT(n){return ne(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function dT(n,e){return new Promise((r,i)=>{ne(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function mz(n){return("0"+n.toString(16)).substr(-2)}function vz(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,mz).join("")}function yz(n){return ne(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function bz(n){return ne(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield yz(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Dc(n,e,t=!1){return ne(this,null,function*(){let r=vz(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield Sc(n,`${e}-code-verifier`,i);let o=yield bz(r);return[o,r===o?"plain":"s256"]})}var _z=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hT(n){let e=n.headers.get(Lp);if(!e||!e.match(_z))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fT(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function pT(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ic(n){if(!wz.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function O2(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wx(n){return JSON.parse(JSON.stringify(n))}var Cz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Mc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),xz=[502,503,504];function gT(n){return ne(this,null,function*(){var e;if(!cT(n))throw new Hd(Mc(n),0);if(xz.includes(n.status))throw new Hd(Mc(n),n.status);let t;try{t=yield n.json()}catch(o){throw new Ud(Mc(o),o)}let r,i=hT(n);if(i&&i.getTime()>=bx["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Bp(Mc(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new eo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Bp(Mc(t),n.status,t.weak_password.reasons);throw new I2(Mc(t),n.status||500,r)})}var Ez=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Rt(n,e,t,r){return ne(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Lp]||(o[Lp]=bx["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield Sz(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function Sz(n,e,t,r,i,o){return ne(this,null,function*(){let s=Ez(e,r,i,o),a;try{a=yield n(t,Object.assign({},s))}catch(l){throw console.error(l),new Hd(Mc(l),0)}if(a.ok||(yield gT(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield gT(l)}})}function Ss(n){var e;let t=null;Dz(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=sT(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Cx(n){let e=Ss(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Ds(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function mT(n){return{data:n,error:null}}function vT(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=Cz(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function yT(n){return n}function Dz(n){return n.access_token&&n.refresh_token&&n.expires_in}var k2=["global","local","others"];var Iz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},qd=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=P2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return ne(this,arguments,function*(e,t=k2[0]){if(k2.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${k2.join(", ")}`);try{return yield Rt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return ne(this,arguments,function*(e,t={}){try{return yield Rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ds})}catch(i){if(Dt(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return ne(this,null,function*(){try{let{options:t}=e,r=Iz(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vT,redirectTo:t?.redirectTo})}catch(t){if(Dt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return ne(this,null,function*(){try{return yield Rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ds})}catch(t){if(Dt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return ne(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},d=yield Rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:yT});if(d.error)throw d.error;let f=yield d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Dt(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return ne(this,null,function*(){Ic(e);try{return yield Rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ds})}catch(t){if(Dt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return ne(this,null,function*(){Ic(e);try{return yield Rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ds})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return ne(this,null,function*(){Ic(e);try{return yield Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ds})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return ne(this,null,function*(){Ic(e.userId);try{let{data:t,error:r}=yield Rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Dt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return ne(this,null,function*(){Ic(e.userId),Ic(e.id);try{return{data:yield Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Dt(t))return{data:null,error:t};throw t}})}};function xx(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function bT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ac={debug:!!(globalThis&&T2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Up=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},R2=class extends Up{};function Ex(n,e,t){return ne(this,null,function*(){Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>ne(null,null,function*(){if(i){Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield t()}finally{Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new R2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ac.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}bT();var Mz={url:$8,storageKey:W8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function _T(n,e,t){return ne(this,null,function*(){return yield t()})}var zd={},Sx=(()=>{class n{constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&to()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},Mz),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new qd({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=P2(o.fetch),this.lock=o.lock||_T,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:to()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ex:this.lock=_T,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:T2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xx(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=xx(this.memoryStorage)),to()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>ne(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=zd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){zd[this.storageKey]=Object.assign(Object.assign({},zd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=zd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zd[this.storageKey]=Object.assign(Object.assign({},zd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${E2}) ${new Date().toISOString()}`,...t),this}initialize(){return ne(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=ne(this,null,function*(){return yield this._acquireLock(-1,()=>ne(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return ne(this,null,function*(){var t;try{let r=lT(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),to()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Q8(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>ne(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return Dt(r)?{error:r}:{error:new Ud("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return ne(this,null,function*(){var r,i,o;try{let s=yield Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ss}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return ne(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:f,password:m,options:p}=t,y=null,_=null;this.flowType==="pkce"&&([y,_]=yield Dc(this.storage,this.storageKey)),s=yield Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:m,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:_},xform:Ss})}else if("phone"in t){let{phone:f,password:m,options:p}=t;s=yield Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(i=p?.data)!==null&&i!==void 0?i:{},channel:(o=p?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ss})}else throw new wc("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return ne(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Cx})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Cx})}else throw new wc("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new _c}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return ne(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return ne(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>ne(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return ne(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return ne(this,null,function*(){var r,i,o,s,a,l,c,d,f,m,p,y;let _,C;if("message"in t)_=t.message,C=t.signature;else{let{chain:w,wallet:S,statement:O,options:k}=t,q;if(to())if(typeof S=="object")q=S;else{let H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))q=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=S}let J=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){let H=yield q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),O?{statement:O}:null)),j;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")j=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)j=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)_=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),C=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${J.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(o=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=k?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(f=k?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);let H=yield q.signMessage(new TextEncoder().encode(_),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=H}}try{let{data:w,error:S}=yield Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:oT(C)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ss});if(S)throw S;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new _c}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:S})}catch(w){if(Dt(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(t){return ne(this,null,function*(){let r=yield fl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield Rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Ss});if(yield ga(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _c}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(Dt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return ne(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ss}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new _c}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return ne(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,d=null,f=null;this.flowType==="pkce"&&([d,f]=yield Dc(this.storage,this.storageKey));let{error:m}=yield Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){let{phone:l,options:c}=t,{data:d,error:f}=yield Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new wc("You must provide either an email or phone number.")}catch(l){if(Dt(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return ne(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield Rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Ss});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,d=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Dt(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return ne(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Dc(this.storage,this.storageKey)),yield Rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:mT})}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}reauthenticate(){return ne(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return ne(this,null,function*(){try{return yield this._useSession(t=>ne(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new eo;let{error:o}=yield Rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(Dt(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return ne(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield Rt(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield Rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new wc("You must provide either an email or phone number and a type")}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return ne(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){return this._useSession(r=>ne(this,null,function*(){return r}))}))})}_acquireLock(t,r){return ne(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=ne(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(ne(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>ne(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(ne(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return ne(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return ne(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield fl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<D2:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield fl(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=O2()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,f)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return ne(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return ne(this,null,function*(){try{return t?yield Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ds}):yield this._useSession(r=>ne(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new eo}:yield Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Ds})}))}catch(r){if(Dt(r))return Z8(r)&&(yield this._removeSession(),yield ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return ne(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return ne(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>ne(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new eo;let l=s.session,c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=yield Dc(this.storage,this.storageKey));let{data:f,error:m}=yield Rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ds});if(m)throw m;return l.user=f.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(Dt(o))return{data:{user:null},error:o};throw o}})}setSession(t){return ne(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return ne(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new eo;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=N2(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Dt(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return ne(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return ne(this,null,function*(){try{return yield this._useSession(r=>ne(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new eo;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return ne(this,null,function*(){try{if(!to())throw new Cc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Cc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jp("No code detected.");let{data:O,error:k}=yield this._exchangeCodeForSession(t.code);if(k)throw k;let q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:O.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!s||!l||!a||!d)throw new Cc("No session defined in URL");let f=Math.round(Date.now()/1e3),m=parseInt(l),p=f+m;c&&(p=parseInt(c));let y=p-f;y*1e3<=bc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);let _=p-m;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,f);let{data:C,error:w}=yield this._getUser(s);if(w)throw w;let S={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:p,refresh_token:a,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(i){if(Dt(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return ne(this,null,function*(){let r=yield fl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return ne(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return ne(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>ne(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(J8(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=aT(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),ne(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return ne(this,null,function*(){return yield this._useSession(r=>ne(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return ne(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Dc(this.storage,this.storageKey,!0));try{return yield Rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Dt(a))return{data:null,error:a};throw a}})}getUserIdentities(){return ne(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}linkIdentity(t){return ne(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>ne(this,null,function*(){var a,l,c,d,f;let{data:m,error:p}=s;if(p)throw p;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Rt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})}));if(o)throw o;return to()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(Dt(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return ne(this,null,function*(){try{return yield this._useSession(r=>ne(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield Rt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return ne(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield dT(o=>ne(this,null,function*(){return o>0&&(yield uT(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ss})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&M2(s)&&Date.now()+a-i<bc})}catch(i){if(this._debug(r,"error",i),Dt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return ne(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),to()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return ne(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield fl(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield fl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Sc(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:O2()}else if(o&&!o.user&&!o.user){let a=yield fl(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield ga(this.storage,this.storageKey+"-user"),yield Sc(this.storage,this.storageKey,o)):o.user=O2()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<D2;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${D2}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),M2(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return ne(this,null,function*(){var r,i;if(!t)throw new eo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Vp;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new eo;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),Dt(s)){let a={session:null,error:s};return M2(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return ne(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>ne(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return ne(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Sc(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=wx(o);yield Sc(this.storage,this.storageKey,s)}else{let o=wx(r);yield Sc(this.storage,this.storageKey,o)}})}_removeSession(){return ne(this,null,function*(){this._debug("#_removeSession()"),yield ga(this.storage,this.storageKey),yield ga(this.storage,this.storageKey+"-code-verifier"),yield ga(this.storage,this.storageKey+"-user"),this.userStorage&&(yield ga(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&to()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return ne(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),bc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>ne(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return ne(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return ne(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return ne(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return ne(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>ne(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>ne(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/bc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${bc}ms, refresh threshold is ${S2} ticks`),o<=S2&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Up)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return ne(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!to()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>ne(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return ne(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>ne(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return ne(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Dc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return ne(this,null,function*(){try{return yield this._useSession(r=>ne(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Rt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}_enroll(t){return ne(this,null,function*(){try{return yield this._useSession(r=>ne(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=yield Rt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}_verify(t){return ne(this,null,function*(){return this._acquireLock(-1,()=>ne(this,null,function*(){try{return yield this._useSession(r=>ne(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield Rt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}}))})}_challenge(t){return ne(this,null,function*(){return this._acquireLock(-1,()=>ne(this,null,function*(){try{return yield this._useSession(r=>ne(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Rt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return ne(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return ne(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return ne(this,null,function*(){return this._acquireLock(-1,()=>ne(this,null,function*(){return yield this._useSession(t=>ne(this,null,function*(){var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=N2(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}))})}fetchJwk(i){return ne(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+X8>s)return o;let{data:a,error:l}=yield Rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return ne(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:_,error:C}=yield this.getSession();if(C||!_.session)return{data:null,error:C};o=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:d}}=N2(o);r?.allowExpired||fT(a.exp);let f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){let{error:_}=yield this.getUser(o);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let m=pT(s.alg),p=yield crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!(yield crypto.subtle.verify(m,p,l,iT(`${c}.${d}`))))throw new xc("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(Dt(o))return{data:null,error:o};throw o}})}}return n.nextInstanceID=0,n})();var Az=Sx,Dx=Az;var L2=class extends Dx{constructor(e){super(e)}};var Tz=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},F2=class{constructor(e,t,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=z8(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:V8,realtime:H8,auth:Object.assign(Object.assign({},U8),{storageKey:c}),global:B8},f=G8(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=q8(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new x8(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Cp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kp(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Tz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,d){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L2({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Np(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var wT=(n,e,t)=>new F2(n,e,t);function Pz(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;let n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Pz()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Gd=class n{supabase=null;_user=new fn(null);_session=new fn(null);_isLoggedIn=new fn(!1);_currentUser=new fn(null);constructor(){if(!Fn.supabase.url||!Fn.supabase.anonKey){console.warn("\u26A0\uFE0F Supabase no est\xE1 configurado. Verifica environment.supabase");return}this.supabase=wT(Fn.supabase.url,Fn.supabase.anonKey),this.supabase.auth.onAuthStateChange((e,t)=>{console.log("\u{1F510} Auth state changed:",e,t?.user?.email||"no user"),this._session.next(t),this._user.next(t?.user??null),this._isLoggedIn.next(!!t),t?.user?this.setCurrentUser(t.user):this._currentUser.next(null)}),this.getSession()}isConfigured(){return!!(Fn.supabase.url&&Fn.supabase.anonKey)}get user$(){return this._user.asObservable()}get session$(){return this._session.asObservable()}get isLoggedIn$(){return this._isLoggedIn.asObservable()}get currentUser$(){return this._currentUser.asObservable()}get user(){return this._user.value}get session(){return this._session.value}get isLoggedIn(){return this._isLoggedIn.value}get currentUser(){return this._currentUser.value}signInWithGitHub(){return ne(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let e=Fn.production?`${window.location.origin}/#/certificate`:Fn.auth.supabase.redirectTo;console.log("\u{1F517} Redirect URL ser\xE1:",e);let{data:t,error:r}=yield this.supabase.auth.signInWithOAuth({provider:"github",options:{redirectTo:e,scopes:"user:email"}});return r?(console.error("Error al iniciar sesi\xF3n con GitHub:",r),{error:r}):{error:null}}catch(e){return console.error("Error inesperado al iniciar sesi\xF3n:",e),{error:e}}})}signOut(){return ne(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{error:e}=yield this.supabase.auth.signOut();return e?(console.error("Error al cerrar sesi\xF3n:",e),{error:e}):(this._user.next(null),this._session.next(null),this._isLoggedIn.next(!1),this._currentUser.next(null),{error:null})}catch(e){return console.error("Error inesperado al cerrar sesi\xF3n:",e),{error:e}}})}getSession(){return ne(this,null,function*(){if(!this.supabase)return console.warn("Supabase no est\xE1 configurado para obtener sesi\xF3n"),null;try{let{data:{session:e},error:t}=yield this.supabase.auth.getSession();return t?(console.error("Error al obtener sesi\xF3n:",t),null):(this._session.next(e),this._user.next(e?.user??null),this._isLoggedIn.next(!!e),e?.user&&this.setCurrentUser(e.user),e)}catch(e){return console.error("Error inesperado al obtener sesi\xF3n:",e),null}})}refreshSession(){return ne(this,null,function*(){if(!this.supabase)return console.warn("Supabase no est\xE1 configurado para refrescar sesi\xF3n"),null;try{let{data:{session:e},error:t}=yield this.supabase.auth.refreshSession();return t?(console.error("Error al refrescar sesi\xF3n:",t),null):(this._session.next(e),this._user.next(e?.user??null),this._isLoggedIn.next(!!e),e)}catch(e){return console.error("Error inesperado al refrescar sesi\xF3n:",e),null}})}getUserProfile(){return ne(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)throw new Error("No hay token de proveedor disponible");let t=yield fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"}});if(!t.ok)throw new Error(`Error al obtener perfil: ${t.status}`);return yield t.json()}catch(e){return console.error("Error al obtener perfil de usuario:",e),null}})}getUserEmails(){return ne(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)throw new Error("No hay token de proveedor disponible");let t=yield fetch("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"}});if(!t.ok)throw new Error(`Error al obtener emails: ${t.status}`);return(yield t.json()).map(i=>i.email)}catch(e){return console.error("Error al obtener emails de usuario:",e),[]}})}setCurrentUser(e){return ne(this,null,function*(){try{let t=yield this.getUserEmails(),r=e.email||t[0];if(!r){console.warn("No se pudo obtener el email del usuario"),this._currentUser.next(null);return}let i=Fn.auth.authorizedUsers.find(o=>o.email.toLowerCase()===r.toLowerCase());i?(console.log("Usuario autorizado encontrado:",i),this._currentUser.next(i)):(console.warn("Usuario no autorizado:",r),this._currentUser.next(null))}catch(t){console.error("Error al verificar usuario autorizado:",t),this._currentUser.next(null)}})}hasPermission(e){return this._currentUser.value?.permissions.includes(e)??!1}hasRole(e){return this._currentUser.value?.role===e}getAuthState(){return{user:this._user.value,session:this._session.value,isLoggedIn:this._isLoggedIn.value,currentUser:this._currentUser.value}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})};var no=class n{constructor(e){this.supabaseService=e;this.initializeAuth()}_isLoggedIn=new fn(!1);_userEmail=new fn(null);_currentUser=new fn(null);_loginAttempts=new fn(0);_isLocked=new fn(!1);AUTHORIZED_USERS=Fn.auth.authorizedUsers;SESSION_CONFIG=Fn.auth.session;SECURITY_CONFIG=Fn.auth.security;initializeAuth(){this.supabaseService.isLoggedIn$.subscribe(e=>{this._isLoggedIn.next(e)}),this.supabaseService.currentUser$.subscribe(e=>{this._currentUser.next(e)}),this.supabaseService.user$.subscribe(e=>{this._userEmail.next(e?.email||null)}),this.checkLockoutStatus()}checkLockoutStatus(){let e=localStorage.getItem("lockout_until");if(e){let t=Date.now(),r=parseInt(e);t<r?(this._isLocked.next(!0),console.log("Cuenta bloqueada hasta:",new Date(r))):(localStorage.removeItem("lockout_until"),localStorage.removeItem("login_attempts"),this._isLocked.next(!1),this._loginAttempts.next(0))}}loginWithGitHub(){return ne(this,null,function*(){if(this._isLocked.value){let e=localStorage.getItem("lockout_until");if(e){let t=Math.ceil((parseInt(e)-Date.now())/6e4);alert(`\u274C Cuenta bloqueada

Intenta de nuevo en ${t} minutos.`);return}}if(!Fn.auth.supabase.enabled){alert("\u274C Autenticaci\xF3n no habilitada. Contacta al administrador.");return}try{console.log("Iniciando login con GitHub a trav\xE9s de Supabase...");let{error:e}=yield this.supabaseService.signInWithGitHub();if(e){console.error("Error en login:",e),this.handleFailedLogin(),alert("\u274C Error al iniciar sesi\xF3n con GitHub. Int\xE9ntalo de nuevo.");return}console.log("Login iniciado correctamente")}catch(e){console.error("Error inesperado en login:",e),this.handleFailedLogin(),alert("\u274C Error conectando con GitHub. Verifica tu conexi\xF3n a internet.")}})}logout(){return ne(this,null,function*(){try{let{error:e}=yield this.supabaseService.signOut();e&&console.error("Error al cerrar sesi\xF3n:",e),this._isLoggedIn.next(!1),this._userEmail.next(null),this._currentUser.next(null),console.log("Usuario deslogueado")}catch(e){console.error("Error inesperado en logout:",e)}})}handleFailedLogin(e){let t=this._loginAttempts.value+1;if(this._loginAttempts.next(t),localStorage.setItem("login_attempts",t.toString()),t>=this.SECURITY_CONFIG.maxLoginAttempts){let r=Date.now()+this.SECURITY_CONFIG.lockoutDuration;localStorage.setItem("lockout_until",r.toString()),this._isLocked.next(!0);let i=Math.ceil(this.SECURITY_CONFIG.lockoutDuration/6e4);alert(`\u274C Demasiados intentos fallidos

Cuenta bloqueada por ${i} minutos.`)}}resetLoginAttempts(){this._loginAttempts.next(0),localStorage.removeItem("login_attempts"),localStorage.removeItem("lockout_until"),this._isLocked.next(!1)}get isLoggedIn$(){return this._isLoggedIn.asObservable()}get userEmail$(){return this._userEmail.asObservable()}get currentUser$(){return this._currentUser.asObservable()}get isLocked$(){return this._isLocked.asObservable()}get loginAttempts$(){return this._loginAttempts.asObservable()}get isLoggedIn(){return this._isLoggedIn.value&&this._currentUser.value!==null}get userEmail(){return this._userEmail.value}get currentUser(){return this._currentUser.value}get isAuthorizedUser(){return this._currentUser.value!==null}get isLocked(){return this._isLocked.value}get loginAttempts(){return this._loginAttempts.value}hasPermission(e){let t=this._currentUser.value;return t?t.permissions.includes(e):!1}hasRole(e){let t=this._currentUser.value;return t?t.role===e:!1}isAdmin(){return this.hasRole("admin")}canAccessCertificate(){return this.hasPermission("certificate")}canManage(){return this.hasPermission("management")}getAuthState(){return{isLoggedIn:this._isLoggedIn.value,userEmail:this._userEmail.value,currentUser:this._currentUser.value,loginAttempts:this._loginAttempts.value,isLocked:this._isLocked.value,supabaseState:this.supabaseService.getAuthState()}}static \u0275fac=function(t){return new(t||n)(it(Gd))};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})};var Oz=["konvaEditor"],kz=(n,e)=>e.id;function Rz(n,e){n&1&&(fe(0,"div",38),Z(1," El nombre es requerido (m\xEDnimo 2 caracteres) "),pe())}function Lz(n,e){if(n&1){let t=Fr();fe(0,"div",24)(1,"div",39),Ke("click",function(){let i=tt(t).$implicit,o=rt();return nt(o.selectTemplate(i))}),fe(2,"div",40),Ge(3,"img",41),fe(4,"div",42)(5,"div",43),Z(6),pe()()()()()}if(n&2){let t=e.$implicit,r=rt();Ve(),li("bg-primary",r.selectedTemplate().id===t.id)("text-white",r.selectedTemplate().id===t.id),Ve(2),ft("src",t.backgroundImage,p0)("alt",t.name),Ve(3),os(t.name)}}function Fz(n,e){if(n&1){let t=Fr();fe(0,"button",44),Ke("click",function(){tt(t);let i=rt();return nt(i.toggleFullPreview())}),Ge(1,"i",45),Z(2),pe()}if(n&2){let t=rt();Ve(2),ci(" ",t.showFullPreview()?"Vista Normal":"Pantalla Completa"," ")}}function jz(n,e){if(n&1){let t=Fr();fe(0,"button",46),Ke("click",function(){tt(t);let i=rt();return nt(i.downloadPDF())}),Ge(1,"i",47),Z(2," PDF "),pe(),fe(3,"button",48),Ke("click",function(){tt(t);let i=rt();return nt(i.downloadImage())}),Ge(4,"i",49),Z(5," Imagen "),pe()}if(n&2){let t=rt();ft("disabled",t.certificateForm.invalid),Ve(3),ft("disabled",t.certificateForm.invalid)}}function Bz(n,e){if(n&1){let t=Fr();fe(0,"button",50),Ke("click",function(){tt(t);let i=rt();return nt(i.logout())}),Ge(1,"i",51),Z(2," Cerrar Sesi\xF3n "),pe()}}function Vz(n,e){if(n&1){let t=Fr();fe(0,"div",52)(1,"app-konva-editor",54,0),Ke("elementsChange",function(i){tt(t);let o=rt(2);return nt(o.onElementsChange(i))})("selectedElementChange",function(i){tt(t);let o=rt(2);return nt(o.onSelectedElementChange(i))})("downloadPDFRequest",function(){tt(t);let i=rt(2);return nt(i.downloadPDF())})("downloadImageRequest",function(){tt(t);let i=rt(2);return nt(i.downloadImage())}),pe()()}if(n&2){let t=rt(2);Ve(),ft("elements",t.konvaElements)("settings",t.editorSettings)("backgroundImage",t.backgroundImage)}}function Uz(n,e){if(n&1){let t=Fr();fe(0,"div",53)(1,"div",55)(2,"div",56)(3,"button",57),Ke("click",function(){tt(t);let i=rt(2);return nt(i.toggleFullPreview())}),Ge(4,"i",58),Z(5," Cerrar "),pe()(),fe(6,"div",59)(7,"app-konva-editor",54,0),Ke("elementsChange",function(i){tt(t);let o=rt(2);return nt(o.onElementsChange(i))})("selectedElementChange",function(i){tt(t);let o=rt(2);return nt(o.onSelectedElementChange(i))})("downloadPDFRequest",function(){tt(t);let i=rt(2);return nt(i.downloadPDF())})("downloadImageRequest",function(){tt(t);let i=rt(2);return nt(i.downloadImage())}),pe()()()()}if(n&2){let t=rt(2);Ve(7),ft("elements",t.konvaElements)("settings",t.editorSettings)("backgroundImage",t.backgroundImage)}}function Hz(n,e){if(n&1&&Gi(0,Vz,3,3,"div",52)(1,Uz,9,3,"div",53),n&2){let t=rt();$i(t.showFullPreview()?1:0)}}function qz(n,e){if(n&1){let t=Fr();fe(0,"div",60)(1,"div",62)(2,"h5",63),Ge(3,"i",64),Z(4," Vista Previa del Certificado "),pe()(),fe(5,"div",59)(6,"div",65)(7,"app-konva-editor",66,0),Ke("elementsChange",function(i){tt(t);let o=rt(2);return nt(o.onElementsChange(i))})("selectedElementChange",function(i){tt(t);let o=rt(2);return nt(o.onSelectedElementChange(i))})("downloadPDFRequest",function(){tt(t);let i=rt(2);return nt(i.downloadPDF())})("downloadImageRequest",function(){tt(t);let i=rt(2);return nt(i.downloadImage())}),pe()()()()}if(n&2){let t=rt(2);Ve(7),ft("elements",t.konvaElements)("settings",t.editorSettings)("backgroundImage",t.backgroundImage)("isPreviewMode",t.isPreviewMode)}}function zz(n,e){n&1&&(fe(0,"div",61),Ge(1,"i",67),fe(2,"h4",68),Z(3,"Generador de Certificados"),pe(),fe(4,"p",69),Z(5," Complete el formulario superior para generar su certificado personalizado. "),pe(),fe(6,"div",70)(7,"div",71),Ge(8,"i",72),Z(9," Ingrese el nombre del participante "),pe(),fe(10,"div",71),Ge(11,"i",72),Z(12," Seleccione una plantilla de fondo "),pe(),fe(13,"div",71),Ge(14,"i",72),Z(15," Use el editor visual para personalizar "),pe(),fe(16,"div",71),Ge(17,"i",72),Z(18," Descargue en PDF o imagen "),pe()()())}function Gz(n,e){if(n&1&&Gi(0,qz,9,4,"div",60)(1,zz,19,0,"div",61),n&2){let t=rt();$i(t.showCertificate()?0:1)}}var B2=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.certificateForm=this.fb.group({participantName:["Vicente Navarro Huerrera",[Gf.required,Gf.minLength(2)]]}),this.initializeDefaultElements(),this.certificateForm.valueChanges.subscribe(()=>{this.updateElementsFromForm()})}certificateForm;showCertificate=$t(!1);customTemplate=$t(null);signatureImage=$t(null);isPreviewMode=$t(!0);authEnabled=Fn.auth.supabase.enabled;konvaEditor;showEditor=$t(!1);showFullPreview=$t(!1);selectedElement=$t(null);konvaElements=$t([]);editorSettings=$t({snapToGrid:!1,gridSize:20,showGrid:!0,zoom:1,canvasWidth:1400,canvasHeight:990});canvasWidth=$t(1400);canvasHeight=$t(990);backgroundImage=$t("/certificate-template.svg");fontOptions=$t([{name:"Arial",value:"Arial, sans-serif"},{name:"Times New Roman",value:"Times New Roman, serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Helvetica",value:"Helvetica, sans-serif"},{name:"Trebuchet MS",value:"Trebuchet MS, sans-serif"},{name:"Verdana",value:"Verdana, sans-serif"},{name:"Dancing Script",value:"Dancing Script, cursive"}]);colorPalette={primary:"#003366",secondary:"#5ca92c",accent:"#C9B179",text:"#000000",background:"#ffffff"};predefinedTemplates=[{id:"default",name:"Potencial Humano (Original)",backgroundImage:"/certificate-template.svg",colors:{primary:"#003366",secondary:"#5ca92c",accent:"#C9B179"}},{id:"template1",name:"Plantilla 1",backgroundImage:"/plantilla1.jpeg",colors:{primary:"#1f2937",secondary:"#fbbf24",accent:"#d97706"}}];predefinedTitles=[{id:"1",title:"Taller de habilidades blandas",category:"Desarrollo Personal"},{id:"2",title:"Liderazgo y gesti\xF3n de equipos",category:"Liderazgo"},{id:"3",title:"Comunicaci\xF3n efectiva",category:"Comunicaci\xF3n"},{id:"4",title:"Inteligencia emocional",category:"Desarrollo Personal"},{id:"5",title:"Resoluci\xF3n de conflictos",category:"Habilidades Sociales"},{id:"6",title:"Gesti\xF3n del tiempo y productividad",category:"Productividad"},{id:"7",title:"Trabajo en equipo",category:"Habilidades Sociales"},{id:"8",title:"Creatividad e innovaci\xF3n",category:"Creatividad"},{id:"9",title:"Coaching y mentoring",category:"Liderazgo"},{id:"10",title:"Mindfulness y bienestar",category:"Bienestar"}];selectedTemplate=$t(this.predefinedTemplates[0]);customTitleInput=$t("");showCustomTitleInput=$t(!1);categories=Eo(()=>[...new Set(this.predefinedTitles.map(e=>e.category))]);getSelectedTextElement=Eo(()=>{let e=this.selectedElement();return e&&e.type==="text"?e:null});textElements=Eo(()=>this.konvaElements().filter(e=>e.type==="text"));fontOptionsArray=Eo(()=>this.fontOptions());ngAfterViewInit(){this.konvaEditor&&this.konvaEditor.setBackgroundImage(this.backgroundImage())}initializeDefaultElements(){let e=this.canvasWidth()/2,t=this.canvasWidth()*.25,r=this.canvasWidth()*.75,i=[{id:"certificate-title",type:"text",text:"CERTIFICADO DE PARTICIPACI\xD3N",x:e-400,y:180,fontSize:40,fontFamily:"Georgia, serif",color:this.colorPalette.primary,rotation:0,fontStyle:"normal",fontWeight:"bold",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:2,lineHeight:1.2,width:800},{id:"certification-text",type:"text",text:"certifica que:",x:e-200,y:280,fontSize:24,fontFamily:"Arial, sans-serif",color:this.colorPalette.text,rotation:0,fontStyle:"italic",fontWeight:"normal",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:1,lineHeight:1.2,width:400},{id:"participant-name",type:"text",text:"Vicente Navarro Huerrera",x:e-450,y:340,fontSize:48,fontFamily:"Dancing Script, cursive",color:this.colorPalette.primary,rotation:0,fontStyle:"normal",fontWeight:"normal",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:1,lineHeight:1.2,width:900},{id:"participation-text",type:"text",text:"ah participado satisfactoriamente en la/el",x:e-350,y:420,fontSize:26,fontFamily:"Arial, sans-serif",color:this.colorPalette.text,rotation:0,fontStyle:"normal",fontWeight:"normal",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:700},{id:"workshop-title",type:"text",text:'"Taller de habilidades blandas"',x:e-500,y:480,fontSize:34,fontFamily:"Georgia, serif",color:this.colorPalette.text,rotation:0,fontStyle:"normal",fontWeight:"bold",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:1,lineHeight:1.2,width:1e3},{id:"date-hours-info",type:"text",text:`Desarrollado en la modalidad presencial
Horas acad\xE9micas: 12`,x:e-400,y:540,fontSize:20,fontFamily:"Arial, sans-serif",color:this.colorPalette.text,rotation:0,fontStyle:"normal",fontWeight:"normal",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:800},{id:"completion-text",type:"text",text:"",x:e-450,y:680,fontSize:18,fontFamily:"Arial, sans-serif",color:this.colorPalette.text,rotation:0,fontStyle:"normal",fontWeight:"normal",textAlign:"center",draggable:!0,visible:!1,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:900},{id:"instructor-name",type:"text",text:"Instructor",x:t-150,y:800,fontSize:20,fontFamily:"Arial, sans-serif",color:this.colorPalette.text,rotation:0,fontStyle:"normal",fontWeight:"bold",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:300},{id:"instructor-title",type:"text",text:"Cargo del Instructor",x:t-150,y:830,fontSize:16,fontFamily:"Arial, sans-serif",color:this.colorPalette.text,rotation:0,fontStyle:"normal",fontWeight:"normal",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:300},{id:"collegiate-number",type:"text",text:"N\xFAmero Colegiado",x:r-150,y:800,fontSize:16,fontFamily:"Arial, sans-serif",color:this.colorPalette.text,rotation:0,fontStyle:"normal",fontWeight:"normal",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:300},{id:"date-signature",type:"text",text:"25 de febrero de 2025",x:r-150,y:830,fontSize:14,fontFamily:"Arial, sans-serif",color:this.colorPalette.text,rotation:0,fontStyle:"normal",fontWeight:"normal",textAlign:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:300},{id:"signature-image",type:"image",x:t-100,y:750,width:200,height:80,src:"/firma.jpeg",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,rotation:0}];this.konvaElements.set(i)}addTextElement(){this.konvaEditor&&this.konvaEditor.addText()}deleteSelectedElement(){this.konvaEditor&&this.konvaEditor.deleteSelected()}updateSelectedElementProperty(e,t){let r=this.selectedElement();if(r&&r.type==="text"){let i=this.konvaElements(),o=i.findIndex(s=>s.id===r.id);if(o!==-1){let s=[...i];s[o]=lt(Ie({},s[o]),{[e]:t}),this.konvaElements.set(s),this.selectedElement.set(s[o])}}}toggleEditor(){let e=this.showEditor();this.showEditor.set(!e),this.showEditor()?(this.updateElementsFromForm(),this.showCertificate.set(!0),this.showFullPreview.set(!1),setTimeout(()=>{this.konvaEditor&&this.konvaEditor.setBackgroundImage(this.backgroundImage())},100)):(this.certificateForm.valid&&this.showCertificate.set(!0),this.showFullPreview.set(!1))}toggleFullPreview(){this.showFullPreview.set(!this.showFullPreview())}updateElementsFromForm(){let e=this.certificateForm.value,r=this.konvaElements().map(i=>{if(i.type==="text"){let o=i;switch(o.id){case"participant-name":return lt(Ie({},o),{text:e.participantName||"Vicente Navarro Huerrera"});default:return o}}return i});this.konvaElements.set(r)}onElementsChange(e){this.konvaElements.set(e),this.updateFormFromElements(e)}onSelectedElementChange(e){this.selectedElement.set(e)}updateFormFromElements(e){e.filter(r=>r.type==="text").forEach(r=>{switch(r.id){case"participant-name":r.text!=="Vicente Navarro Huerrera"&&this.certificateForm.patchValue({participantName:r.text},{emitEvent:!1});break}})}onBackgroundImageChange(e){let t=e.target.files[0];if(t&&t.type.startsWith("image/")){if(t.size>5*1024*1024){alert("La imagen es demasiado grande. El tama\xF1o m\xE1ximo permitido es 5MB.");return}let r=new FileReader;r.onload=i=>{let o=i.target?.result;this.backgroundImage.set(o),this.konvaEditor&&this.konvaEditor.setBackgroundImage(o)},r.readAsDataURL(t)}}removeBackgroundImage(){this.backgroundImage.set("/certificate-template.svg"),this.konvaEditor&&this.konvaEditor.setBackgroundImage("/certificate-template.svg")}exportAsPNG(){return ne(this,null,function*(){if(this.konvaEditor){let e=this.konvaEditor.exportAsImage("png"),t=document.createElement("a"),i=(this.certificateForm.get("participantName")?.value||"Certificado").replace(/[^a-zA-Z0-9]/g,"_");t.download=`Certificado_${i}_${new Date().toISOString().slice(0,10)}.png`,t.href=e,t.click()}})}exportAsPDF(){return ne(this,null,function*(){if(this.konvaEditor)try{let e=this.konvaEditor.exportAsImage("png"),t=new ct({orientation:"landscape",unit:"mm",format:"a4"}),r=t.internal.pageSize.getWidth(),i=t.internal.pageSize.getHeight(),o=r-20,s=this.canvasHeight()*o/this.canvasWidth(),a=10,l=(i-s)/2;t.addImage(e,"PNG",a,l,o,s);let f=`Certificado_${(this.certificateForm.get("participantName")?.value||"Certificado").replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().slice(0,10)}.pdf`;t.save(f)}catch(e){console.error("Error exporting PDF:",e),alert("Error al exportar PDF. Intente nuevamente.")}})}get formData(){return this.certificateForm.value}get formattedDateRange(){if(!this.formData.startDate||!this.formData.endDate)return"";let e=new Date(this.formData.startDate),t=new Date(this.formData.endDate);return e.getTime()===t.getTime()?e.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}):`Del ${e.toLocaleDateString("es-ES",{day:"numeric",month:"long"})} al ${t.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})}`}selectPredefinedTitle(e){this.certificateForm.patchValue({workshopTitle:e.title}),this.showCustomTitleInput.set(!1)}onTitleSelect(e){let t=e.target.value;t&&(this.certificateForm.patchValue({workshopTitle:t}),this.showCustomTitleInput.set(!1))}toggleCustomTitle(){this.showCustomTitleInput.set(!this.showCustomTitleInput()),this.showCustomTitleInput()&&this.customTitleInput.set("")}useCustomTitle(){this.customTitleInput().trim()&&(this.certificateForm.patchValue({workshopTitle:this.customTitleInput().trim()}),this.showCustomTitleInput.set(!1),this.customTitleInput.set(""))}selectTemplate(e){this.selectedTemplate.set(e),this.backgroundImage.set(e.backgroundImage),this.colorPalette=lt(Ie({},this.colorPalette),{primary:e.colors.primary,secondary:e.colors.secondary,accent:e.colors.accent}),this.konvaEditor&&this.konvaEditor.setBackgroundImage(e.backgroundImage)}onTemplateFileSelected(e){let t=e.target.files[0];if(t&&t.type.startsWith("image/")){if(t.size>5*1024*1024){alert("La imagen es demasiado grande. El tama\xF1o m\xE1ximo permitido es 5MB.");return}let r=new FileReader;r.onload=i=>{this.customTemplate.set(i.target?.result),this.konvaEditor&&this.konvaEditor.setBackgroundImage(i.target?.result)},r.readAsDataURL(t)}}onSignatureSelected(e){let t=e.target.files[0];if(t&&t.type.startsWith("image/")){if(t.size>2*1024*1024){alert("La imagen de la firma es demasiado grande. El tama\xF1o m\xE1ximo permitido es 2MB.");return}let r=new FileReader;r.onload=i=>{this.signatureImage.set(i.target?.result)},r.readAsDataURL(t)}}removeSignature(){this.signatureImage.set(null)}removeCustomTemplate(){this.customTemplate.set(null)}onSubmit(){this.certificateForm.valid?(this.showCertificate.set(!0),setTimeout(()=>{document.getElementById("certificate-preview")?.scrollIntoView({behavior:"smooth"})},100)):Object.keys(this.certificateForm.controls).forEach(e=>{this.certificateForm.get(e)?.markAsTouched()})}logout(){this.auth.logout(),this.router.navigate(["/"])}resetForm(){this.certificateForm.reset({modality:"presencial",instructor:"Psic. Abel Uriaz Navarro Carrasco",instructorTitle:"Capacitador en Potencial Humano 360",collegiateNumber:"C.Ps.P. N\xB0 64179"}),this.showCertificate.set(!1),this.showEditor.set(!1),this.showFullPreview.set(!1),this.customTemplate.set(null),this.signatureImage.set(null),this.backgroundImage.set("/certificate-template.svg"),this.selectedTemplate.set(this.predefinedTemplates[0]),this.selectedElement.set(null),this.initializeDefaultElements(),this.konvaEditor&&this.konvaEditor.setBackgroundImage("/certificate-template.svg")}downloadPDF(){if(this.konvaEditor){let e=this.konvaEditor.exportAsImage("png"),t=this.certificateForm.value,r=new ct({orientation:"landscape",unit:"px",format:[1400,990]});r.addImage(e,"PNG",0,0,1400,990),r.save(`certificado-${t.participantName||"participante"}.pdf`)}}downloadImage(){if(this.konvaEditor){let e=this.konvaEditor.exportAsImage("png"),t=this.certificateForm.value,r=document.createElement("a");r.download=`certificado-${t.participantName||"participante"}.png`,r.href=e,r.click()}}static \u0275fac=function(t){return new(t||n)(ht(XI),ht(no),ht(ui))};static \u0275cmp=xn({type:n,selectors:[["app-certificate-form"]],viewQuery:function(t,r){if(t&1&&ju(Oz,5),t&2){let i;Ga(i=$a())&&(r.konvaEditor=i.first)}},decls:53,vars:10,consts:[["konvaEditor",""],[1,"certificate-generator-layout"],[1,"form-section"],[1,"container-fluid"],[1,"row","mb-3"],[1,"col-12"],[1,"text-primary","mb-0","text-center"],[1,"bi","bi-award","me-2"],[1,"row"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"card-title","mb-0"],[1,"bi","bi-form-check","me-2"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"col-md-4","mb-3"],["for","participantName",1,"form-label","fw-bold"],[1,"bi","bi-person","me-1"],["id","participantName","type","text","formControlName","participantName","placeholder","Ej: Vicente Navarro Huerrera",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6","mb-3"],[1,"form-label","fw-bold"],[1,"bi","bi-palette","me-1"],[1,"row","g-2"],[1,"col-6","col-lg-4"],[1,"col-md-2","mb-3","d-flex","align-items-end"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"editor-section"],[1,"editor-toolbar-header"],[1,"d-flex","justify-content-between","align-items-center","py-2"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-info","btn-sm",3,"click"],[1,"bi","bi-pencil-square","me-1"],["type","button",1,"btn","btn-outline-success","btn-sm"],["type","button",1,"btn","btn-outline-warning","btn-sm",3,"click"],[1,"bi","bi-arrow-clockwise","me-1"],["type","button",1,"btn","btn-outline-danger","btn-sm"],[1,"editor-content-area"],[1,"invalid-feedback"],[1,"template-option","p-2","border","rounded",2,"cursor","pointer",3,"click"],[1,"d-flex","flex-column","align-items-center"],[1,"template-preview","mb-2",2,"width","80px","height","56px","object-fit","cover","border-radius","4px",3,"src","alt"],[1,"text-center"],[1,"fw-bold","small"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"bi","bi-arrows-fullscreen","me-1"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"bi","bi-file-pdf","me-1"],["type","button",1,"btn","btn-outline-info","btn-sm",3,"click","disabled"],[1,"bi","bi-image","me-1"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-box-arrow-right","me-1"],[1,"h-100"],[1,"position-fixed","top-0","start-0","w-100","h-100","bg-dark","bg-opacity-75",2,"z-index","1050"],[3,"elementsChange","selectedElementChange","downloadPDFRequest","downloadImageRequest","elements","settings","backgroundImage"],[1,"container-fluid","h-100","d-flex","flex-column"],[1,"d-flex","justify-content-end","p-3"],[1,"btn","btn-light",3,"click"],[1,"bi","bi-x-lg"],[1,"flex-grow-1","p-3"],[1,"h-100","d-flex","flex-column"],[1,"h-100","d-flex","flex-column","justify-content-center","align-items-center","text-center","bg-light"],[1,"bg-info","text-white","p-3"],[1,"mb-0"],[1,"bi","bi-eye","me-2"],["id","certificate-preview",1,"certificate-preview","h-100"],[3,"elementsChange","selectedElementChange","downloadPDFRequest","downloadImageRequest","elements","settings","backgroundImage","isPreviewMode"],[1,"bi","bi-award","text-primary","mb-3",2,"font-size","4rem"],[1,"text-muted","mb-3"],[1,"text-muted","mb-4"],[1,"row","text-start"],[1,"col-12","mb-2"],[1,"bi","bi-check-circle","text-success","me-2"]],template:function(t,r){if(t&1&&(fe(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2",6),Ge(6,"i",7),Z(7," Generador de Certificados "),pe()()(),fe(8,"div",8)(9,"div",5)(10,"div",9)(11,"div",10)(12,"h5",11),Ge(13,"i",12),Z(14," Configuraci\xF3n del Certificado "),pe()(),fe(15,"div",13)(16,"form",14),Ke("ngSubmit",function(){return r.onSubmit()}),fe(17,"div",8)(18,"div",15)(19,"label",16),Ge(20,"i",17),Z(21," Nombre del Participante "),pe(),Ge(22,"input",18),zi(23,Rz,2,0,"div",19),pe(),fe(24,"div",20)(25,"label",21),Ge(26,"i",22),Z(27," Seleccionar Tema (Plantilla de Fondo) "),pe(),fe(28,"div",23),cf(29,Lz,7,7,"div",24,kz),pe()(),fe(31,"div",25)(32,"button",26),Ge(33,"i",7),Z(34," Generar "),pe()()()()()()()()()(),fe(35,"div",27)(36,"div",28)(37,"div",3)(38,"div",29)(39,"div",30)(40,"button",31),Ke("click",function(){return r.toggleEditor()}),Ge(41,"i",32),Z(42),pe(),Gi(43,Fz,3,1,"button",33),fe(44,"button",34),Ke("click",function(){return r.resetForm()}),Ge(45,"i",35),Z(46," Nuevo "),pe()(),fe(47,"div",30),Gi(48,jz,6,2),Gi(49,Bz,3,0,"button",36),pe()()()(),fe(50,"div",37),Gi(51,Hz,2,1)(52,Gz,2,1),pe()()()),t&2){let i,o;Ve(16),ft("formGroup",r.certificateForm),Ve(6),li("is-invalid",((i=r.certificateForm.get("participantName"))==null?null:i.invalid)&&((i=r.certificateForm.get("participantName"))==null?null:i.touched)),Ve(),ft("ngIf",((o=r.certificateForm.get("participantName"))==null?null:o.invalid)&&((o=r.certificateForm.get("participantName"))==null?null:o.touched)),Ve(6),uf(r.predefinedTemplates),Ve(3),ft("disabled",r.certificateForm.invalid),Ve(10),ci(" ",r.showEditor()?"Vista Previa":"Editor Visual"," "),Ve(),$i(r.showEditor()?43:-1),Ve(5),$i(r.showCertificate()||r.showEditor()?48:-1),Ve(),$i(r.authEnabled?49:-1),Ve(2),$i(r.showEditor()?51:52)}},dependencies:[JI,HI,T1,FI,jI,Nw,Ow,as,Js,O1,u2],styles:['@charset "UTF-8";.certificate-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem;background:#f8f9fa}.certificate-box[_ngcontent-%COMP%]{position:relative;width:792px;height:612px;background:#fff;border:5px solid black;padding:2.5rem 3rem;box-sizing:border-box;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:var(--primary-color, #003366);background-size:cover;background-position:center;background-repeat:no-repeat}.certificate-box.custom-template[_ngcontent-%COMP%]{border:none;background-color:transparent}.certificate-box.custom-template[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .participation-text[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]{text-shadow:1px 1px 2px rgba(255,255,255,.8)}.certificate-box.custom-template[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);border-radius:8px;padding:.5rem 1rem;margin:1rem auto;display:inline-block}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]{width:50px;height:50px}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--accent-color, #C9B179)}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .website[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#666}.certificate-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;color:#036;text-align:center;margin-bottom:.5rem}.certificate-box[_ngcontent-%COMP%]   .program-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.3rem;text-align:center;margin-bottom:1rem}.certificate-box[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-style:italic;font-size:1rem;text-align:center;margin-bottom:2rem}.certificate-box[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{font-family:Times New Roman,serif;font-style:italic;font-size:3rem;text-align:center;text-decoration:underline;margin-bottom:1rem}.certificate-box[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%], .certificate-box[_ngcontent-%COMP%]   .participation-text[_ngcontent-%COMP%]{text-align:center;font-size:1rem;margin-bottom:1rem}.certificate-box[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;margin-bottom:2rem}.certificate-box[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-bottom:.3rem}.certificate-box[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:600}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2rem}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .signature-image[_ngcontent-%COMP%]{margin-bottom:.5rem;text-align:center}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .signature-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:60px;max-width:180px;object-fit:contain}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .signature-line[_ngcontent-%COMP%]{width:250px;border-top:2px solid black;margin-bottom:.5rem}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]{text-align:center}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   .instructor-name[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;margin-bottom:.2rem}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   .instructor-title[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.2rem}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   .collegiate-number[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600}.certificate-box[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.6rem;text-align:center;margin-bottom:1.5rem;color:var(--accent-color, #C9B179)}.certificate-box[_ngcontent-%COMP%]   .decoration[_ngcontent-%COMP%]{position:absolute;border-radius:100%/50%;opacity:.8;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.1))}.certificate-box[_ngcontent-%COMP%]   .decoration.decoration-left[_ngcontent-%COMP%]{width:150px;height:250px;background:var(--secondary-color, #5ca92c);top:-30px;left:-30px;transform:rotate(20deg);z-index:0}.certificate-box[_ngcontent-%COMP%]   .decoration.decoration-right[_ngcontent-%COMP%]{width:100px;height:200px;background:var(--primary-color, #003366);top:-15px;right:-20px;transform:rotate(-20deg);z-index:0}.template-card[_ngcontent-%COMP%]{transition:all .2s ease}.template-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.color-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid rgba(0,0,0,.1)}.signature-image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.signature-image-container[_ngcontent-%COMP%]   .signature-image[_ngcontent-%COMP%]{max-height:80px;max-width:200px;border:1px solid #ddd;border-radius:4px}#certificate-preview[_ngcontent-%COMP%]   .certificate-box[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact;print-color-adjust:exact;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:visible;opacity:1;visibility:visible;position:relative;z-index:1;min-width:792px;min-height:612px}#certificate-preview[_ngcontent-%COMP%]   .certificate-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}#certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{background:#ffffffe6!important;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:0 2px 8px #0000001a}#certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .participation-text[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]{text-shadow:1px 1px 3px rgba(255,255,255,.9),0 0 10px rgba(255,255,255,.8)}#certificate-preview[_ngcontent-%COMP%]   .certificate-box[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media (max-width: 992px){.certificate-box[_ngcontent-%COMP%]{width:100%;max-width:700px;height:auto;min-height:500px;padding:2rem}.certificate-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.8rem}.certificate-box[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{font-size:2.2rem}.certificate-box[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{font-size:1.4rem}}@media (max-width: 768px){.certificate-container[_ngcontent-%COMP%]{padding:1rem}.certificate-box[_ngcontent-%COMP%]{max-width:100%;padding:1.5rem;font-size:.9rem}.certificate-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.6rem}.certificate-box[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{font-size:1.8rem}.certificate-box[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{font-size:1.2rem}.certificate-box[_ngcontent-%COMP%]   .decoration[_ngcontent-%COMP%]{display:none}}.template-upload-info[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;margin-top:.25rem}.template-upload-info[_ngcontent-%COMP%]   .recommended-size[_ngcontent-%COMP%]{color:#28a745;font-weight:500}@media print{*[_ngcontent-%COMP%]{visibility:hidden}#certificate-preview[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible}#certificate-preview[_ngcontent-%COMP%]{position:absolute!important;left:0!important;top:0!important;width:100%!important;height:100%!important;background:#fff!important;padding:0!important;margin:0!important}.certificate-container[_ngcontent-%COMP%]{padding:0!important;background:#fff!important;display:flex!important;justify-content:center!important;align-items:center!important;width:100%!important;height:100vh!important}.certificate-box[_ngcontent-%COMP%]{width:11in!important;height:8.5in!important;border:3px solid black!important;box-shadow:none!important;padding:.8in 1in!important;margin:0!important;page-break-inside:avoid!important;background-size:cover!important;background-position:center!important}.certificate-box.custom-template[_ngcontent-%COMP%]{border:none!important;background-color:transparent!important}.certificate-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem!important}.certificate-box[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{font-size:2.5rem!important}.certificate-box[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{font-size:1.4rem!important}.card-header[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{background:none!important;border:none!important;box-shadow:none!important}@page{size:landscape;margin:.5in}}.editor-canvas-container[_ngcontent-%COMP%]{background:#f8f9fa;border:2px dashed #dee2e6;border-radius:8px;padding:20px;overflow:auto;max-height:80vh;max-width:100%}.editor-canvas[_ngcontent-%COMP%]{position:relative;margin:0 auto;background:#fff;border:1px solid #dee2e6;border-radius:4px;box-shadow:0 4px 8px #0000001a;overflow:hidden;width:1122px;height:794px}@media (max-width: 1400px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.8);transform-origin:top center}}@media (max-width: 1200px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.7);transform-origin:top center}}@media (max-width: 992px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.6);transform-origin:top center}}@media (max-width: 768px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.5);transform-origin:top center}}@media (max-width: 576px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.4);transform-origin:top center}}.editor-canvas[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(to right,#e0e0e0 1px,transparent 1px),linear-gradient(to bottom,#e0e0e0 1px,transparent 1px);background-size:20px 20px;opacity:.3;pointer-events:none;z-index:0}.text-element[_ngcontent-%COMP%]{position:absolute;cursor:pointer;-webkit-user-select:none;user-select:none;white-space:nowrap;transition:all .2s ease;z-index:10}.text-element[_ngcontent-%COMP%]:hover{outline:1px dashed #007bff}.text-element.selected[_ngcontent-%COMP%]{outline:2px solid #007bff!important;background:#007bff1a}.text-element.selected[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;border:2px dashed #007bff;pointer-events:none}.text-element[_ngcontent-%COMP%]   .text-editor-input[_ngcontent-%COMP%]{border:none;background:transparent;outline:none;width:100%;font-family:inherit;font-size:inherit;color:inherit;font-weight:inherit;font-style:inherit;text-align:inherit}.selection-handle[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;background:#007bff;border:1px solid white;border-radius:50%;pointer-events:none}.selection-handle.handle-nw[_ngcontent-%COMP%]{top:-4px;left:-4px;cursor:nw-resize}.selection-handle.handle-ne[_ngcontent-%COMP%]{top:-4px;right:-4px;cursor:ne-resize}.selection-handle.handle-sw[_ngcontent-%COMP%]{bottom:-4px;left:-4px;cursor:sw-resize}.selection-handle.handle-se[_ngcontent-%COMP%]{bottom:-4px;right:-4px;cursor:se-resize}.editor-properties[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1rem;height:fit-content;position:sticky;top:20px}.editor-properties[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#495057;margin-bottom:.25rem}.editor-properties[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%], .editor-properties[_ngcontent-%COMP%]   .form-select-sm[_ngcontent-%COMP%]{font-size:.75rem}.editor-properties[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.grid-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(to right,rgba(0,0,0,.1) 1px,transparent 1px),linear-gradient(to bottom,rgba(0,0,0,.1) 1px,transparent 1px);background-size:20px 20px;pointer-events:none;z-index:1}@media (max-width: 768px){.editor-canvas-container[_ngcontent-%COMP%]{padding:10px}.editor-canvas[_ngcontent-%COMP%]{transform:scale(.7);transform-origin:top left}.editor-properties[_ngcontent-%COMP%]{position:static;margin-bottom:1rem}}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;opacity:.8}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.form-control-color[_ngcontent-%COMP%]{width:100%;height:38px;border:1px solid #ced4da;border-radius:.375rem}.form-control-color[_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:2px}.form-control-color[_ngcontent-%COMP%]::-webkit-color-swatch{border:none;border-radius:2px}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{background:#007bff}.form-range[_ngcontent-%COMP%]::-moz-range-thumb{background:#007bff;border:none}.preview-container[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;min-height:500px;display:flex;justify-content:center;align-items:center;overflow:auto}.certificate-preview[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026;border-radius:8px;overflow:hidden;position:relative;transition:all .3s ease;max-width:100%;max-height:70vh}.certificate-preview[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 6px 20px #0003}.preview-text-element[_ngcontent-%COMP%]{text-shadow:1px 1px 2px rgba(255,255,255,.8);line-height:1.2;transition:all .2s ease}.preview-text-element.preview-selected[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.preview-container-small[_ngcontent-%COMP%]{background:#f1f3f4;padding:15px;border-radius:6px;min-height:300px;display:flex;justify-content:center;align-items:center;overflow:auto}.certificate-preview-small[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a;border-radius:4px;transition:all .2s ease;position:relative;max-width:100%;max-height:50vh}.certificate-preview-small[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.preview-text-element-small[_ngcontent-%COMP%]{text-shadow:1px 1px 1px rgba(255,255,255,.6);line-height:1.1;transition:all .1s ease}.preview-text-element-small.preview-selected[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseSmall 1s infinite}@keyframes _ngcontent-%COMP%_pulseSmall{0%{opacity:1}50%{opacity:.8}to{opacity:1}}@media (max-width: 1400px){.certificate-preview[_ngcontent-%COMP%]{max-width:90%}.certificate-preview-small[_ngcontent-%COMP%]{max-width:95%}}@media (max-width: 1200px){.certificate-preview[_ngcontent-%COMP%]{max-width:85%}.certificate-preview-small[_ngcontent-%COMP%]{max-width:90%}}@media (max-width: 992px){.certificate-preview[_ngcontent-%COMP%]{max-width:80%}.certificate-preview-small[_ngcontent-%COMP%]{max-width:85%}}@media (max-width: 768px){.certificate-preview[_ngcontent-%COMP%]{max-width:75%}.certificate-preview-small[_ngcontent-%COMP%]{max-width:80%}.preview-container[_ngcontent-%COMP%]{padding:10px;min-height:300px}.preview-container-small[_ngcontent-%COMP%]{padding:10px;min-height:200px}.preview-container-fullscreen[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.preview-container-fullscreen[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transition:all .3s ease}.preview-container-fullscreen[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 12px 40px #0006!important}.preview-container-fullscreen[_ngcontent-%COMP%]   .preview-text-element-fullscreen[_ngcontent-%COMP%]{transition:all .2s ease;cursor:default}.preview-container-fullscreen[_ngcontent-%COMP%]   .preview-text-element-fullscreen.preview-selected[_ngcontent-%COMP%]{background:#007bff1a;border:1px dashed #007bff;border-radius:3px;padding:2px 4px}.preview-container-fullscreen[_ngcontent-%COMP%]   .preview-text-element-fullscreen[_ngcontent-%COMP%]:hover{background:#007bff0d;border-radius:3px}.position-fixed[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{max-width:90vw;max-height:80vh;object-fit:contain;box-shadow:0 20px 60px #00000080;border:3px solid white;border-radius:12px;background:#fff}}@media (max-width: 768px) and (min-width: 1920px){.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{max-width:1400px;max-height:990px}}@media (max-width: 768px) and (max-width: 1200px){.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transform:scale(.8);transform-origin:center}}@media (max-width: 768px) and (max-width: 768px){.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transform:scale(.6);transform-origin:center}}@media (max-width: 768px) and (max-width: 576px){.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transform:scale(.4);transform-origin:center}}@media (max-width: 768px){.position-fixed[_ngcontent-%COMP%]   .preview-text-element-fullscreen[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none}.position-fixed[_ngcontent-%COMP%]   .preview-text-element-fullscreen.preview-selected[_ngcontent-%COMP%]{background:#ffc10733;border:2px solid #ffc107;border-radius:4px;padding:2px 4px;box-shadow:0 0 10px #ffc1074d}}@media (max-width: 576px){.certificate-preview[_ngcontent-%COMP%]{max-width:95%;max-height:60vh}.certificate-preview-small[_ngcontent-%COMP%]{max-width:95%;max-height:40vh}.preview-container-fullscreen[_ngcontent-%COMP%]{min-height:80vh!important}.preview-container-fullscreen[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transform:scale(.4);transform-origin:center}}.template-option[_ngcontent-%COMP%]{transition:all .3s ease;border:2px solid transparent!important}.template-option[_ngcontent-%COMP%]:hover{border-color:var(--bs-primary)!important;background-color:var(--bs-light)!important}.template-option.bg-primary[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important}.template-option[_ngcontent-%COMP%]   .template-preview[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color)}.certificate-generator-layout[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;background:#f8f9fa;overflow:hidden}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{flex-shrink:0;background:#fff;border-bottom:2px solid #dee2e6;padding:.75rem 0;overflow-y:auto;max-height:35vh;min-height:200px}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:0 1rem}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .row.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .template-option[_ngcontent-%COMP%]{height:100%;transition:all .2s ease}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .template-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .template-option[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.25rem}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.375rem .75rem}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0;overflow:hidden}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .editor-toolbar-header[_ngcontent-%COMP%]{background:#fff;border-bottom:2px solid #dee2e6;flex-shrink:0;box-shadow:0 2px 4px #0000001a}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .editor-toolbar-header[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .editor-content-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   app-konva-editor[_ngcontent-%COMP%]{height:100%;display:block}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .certificate-preview[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .certificate-preview[_ngcontent-%COMP%]   app-konva-editor[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .bg-info[_ngcontent-%COMP%]{padding:.75rem 1rem}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .bg-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem;margin:0}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{max-height:45vh;min-height:180px}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .template-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px!important;height:42px!important}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .editor-toolbar-header[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .4rem}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .editor-toolbar-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .editor-toolbar-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.certificate-generator-layout[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.certificate-generator-layout[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.certificate-generator-layout[_ngcontent-%COMP%]   .template-option[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   .fw-bold[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width: 576px){.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{max-height:50vh}.certificate-generator-layout[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .editor-toolbar-header[_ngcontent-%COMP%]{padding:.5rem}.certificate-generator-layout[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]   .editor-toolbar-header[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{font-size:.65rem;padding:.15rem .3rem}}.form-section[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.form-section[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.form-section[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.form-section[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}']})};function $z(n,e){n&1&&(fe(0,"div",11),Ge(1,"i",12),fe(2,"strong"),Z(3,"Cuenta temporalmente bloqueada"),pe(),fe(4,"p",13),Z(5,"Demasiados intentos de acceso fallidos. Intenta m\xE1s tarde."),pe()())}function Wz(n,e){n&1&&(fe(0,"div",14),Ge(1,"i",15),fe(2,"strong"),Z(3,"Autenticaci\xF3n no disponible"),pe(),fe(4,"p",13),Z(5,"El sistema de autenticaci\xF3n no est\xE1 configurado correctamente."),pe()())}function Yz(n,e){n&1&&(fe(0,"div",16),Nm(),fe(1,"svg",17),Ge(2,"path",18),pe(),Z(3," Iniciar sesi\xF3n con GitHub "),pe())}function Kz(n,e){n&1&&(fe(0,"div",16),Ge(1,"div",19),Z(2," Conectando con GitHub... "),pe())}function Xz(n,e){n&1&&(fe(0,"div",16),Ge(1,"i",12),Z(2," Acceso bloqueado "),pe())}var V2=class n{constructor(e,t){this.auth=e;this.router=t}isLoading=!1;isLocked=!1;authorizedUsers=Fn.auth.authorizedUsers;loginSubscription;lockedSubscription;ngOnInit(){if(this.lockedSubscription=this.auth.isLocked$.subscribe(e=>{this.isLocked=e}),this.auth.isLoggedIn&&this.auth.isAuthorizedUser){this.router.navigate(["/certificate"]);return}this.loginSubscription=this.auth.isLoggedIn$.subscribe(e=>{e&&this.auth.isAuthorizedUser&&(this.isLoading=!1,this.router.navigate(["/certificate"]))})}ngOnDestroy(){this.loginSubscription&&this.loginSubscription.unsubscribe(),this.lockedSubscription&&this.lockedSubscription.unsubscribe()}loginWithGitHub(){return ne(this,null,function*(){if(!this.isLocked){this.isLoading=!0;try{yield this.auth.loginWithGitHub()}catch(e){console.error("Error en login:",e),this.isLoading=!1}}})}get allowedEmails(){return this.authorizedUsers.map(e=>e.email)}get supabaseEnabled(){return Fn.auth.supabase.enabled}static \u0275fac=function(t){return new(t||n)(ht(no),ht(ui))};static \u0275cmp=xn({type:n,selectors:[["app-login"]],decls:35,vars:10,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"login-info"],[1,"info-item"],[1,"icon"],[1,"login-btn",3,"click","disabled"],["class","btn-content",4,"ngIf"],[1,"security-notice"],[1,"alert","alert-danger"],[1,"bi","bi-shield-x","me-2"],[1,"mb-0","small"],[1,"alert","alert-warning"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"btn-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"],[1,"spinner"]],template:function(t,r){t&1&&(fe(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Z(4,"\u{1F510} Acceso Restringido"),pe(),fe(5,"p"),Z(6,"Acceso exclusivo al formulario de certificados"),pe()(),zi(7,$z,6,0,"div",3)(8,Wz,6,0,"div",4),fe(9,"div",5)(10,"div",6)(11,"span",7),Z(12,"\uFFFD"),pe(),fe(13,"div")(14,"span"),Z(15,"Solo usuarios autorizados"),pe()()(),fe(16,"div",6)(17,"span",7),Z(18,"\u{1F6E1}\uFE0F"),pe(),fe(19,"span"),Z(20,"Autenticaci\xF3n segura con GitHub"),pe()(),fe(21,"div",6)(22,"span",7),Z(23,"\u{1F4CB}"),pe(),fe(24,"span"),Z(25,"Acceso controlado por permisos de usuario"),pe()()(),fe(26,"button",8),Ke("click",function(){return r.loginWithGitHub()}),zi(27,Yz,4,0,"div",9)(28,Kz,3,0,"div",9)(29,Xz,3,0,"div",9),pe(),fe(30,"div",10)(31,"small")(32,"span",7),Z(33,"\u26A0\uFE0F"),pe(),Z(34," Los usuarios autorizados tienen acceso controlado por permisos espec\xEDficos. Cualquier usuario no autorizado ser\xE1 rechazado autom\xE1ticamente. "),pe()()()()),t&2&&(Ve(7),ft("ngIf",r.isLocked),Ve(),ft("ngIf",!r.supabaseEnabled),Ve(18),li("loading",r.isLoading)("locked",r.isLocked),ft("disabled",r.isLoading||r.isLocked||!r.supabaseEnabled),Ve(),ft("ngIf",!r.isLoading&&!r.isLocked),Ve(),ft("ngIf",r.isLoading),Ve(),ft("ngIf",r.isLocked))},dependencies:[as,Js],styles:['.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem;background:linear-gradient(135deg,#667eea,#764ba2)}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:3rem;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:450px;width:100%;position:relative;overflow:hidden}.login-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2)}.login-header[_ngcontent-%COMP%]{margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:.5rem;font-size:1.75rem;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1rem}.login-info[_ngcontent-%COMP%]{background:#f7fafc;border-radius:12px;padding:1.5rem;margin-bottom:2rem;border-left:4px solid #667eea}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;font-size:.875rem;color:#4a5568}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem;width:24px;text-align:center}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-weight:600}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,#24292e,#1b1f23);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #24292e4d}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.login-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.login-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.login-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.security-notice[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#fff5f5;border:1px solid #fed7d7;border-radius:8px;color:#c53030}.security-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.875rem;display:flex;align-items:center;gap:.5rem;justify-content:center;line-height:1.4}.security-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.authorized-users-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:.5rem 0 0;text-align:left}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.5rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-size:.9rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;color:#718096}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .5rem;border-radius:12px;font-weight:500}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-admin[_ngcontent-%COMP%]{background-color:#48bb78;color:#fff}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-assistant[_ngcontent-%COMP%]{background-color:#4299e1;color:#fff}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-viewer[_ngcontent-%COMP%]{background-color:#a0aec0;color:#fff}.login-btn.locked[_ngcontent-%COMP%]{background:#a0aec0;cursor:not-allowed}.login-btn.locked[_ngcontent-%COMP%]:hover{background:#a0aec0;transform:none}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;margin-bottom:1.5rem}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#fed7d7;border:1px solid #feb2b2;color:#742a2a}.alert.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e53e3e}.alert.alert-info[_ngcontent-%COMP%]{background-color:#e6fffa;border:1px solid #81e6d9;color:#234e52}.alert.alert-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#319795}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]{padding:2rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}']})};var U2=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(e,t){return ne(this,null,function*(){return Fn.auth.supabase.enabled?((window.location.hash.includes("access_token")||window.location.search.includes("code="))&&(console.log("Detectado callback OAuth, esperando procesamiento..."),yield new Promise(i=>setTimeout(i,2e3))),this.auth.isLocked?(console.log("Acceso denegado: Cuenta bloqueada"),this.router.navigate(["/login"]),!1):!this.auth.isLoggedIn||!this.auth.isAuthorizedUser?(console.log("Acceso denegado: Usuario no autorizado o no logueado"),this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1):(t.url==="/certificate"||t.url.startsWith("/certificate"))&&!this.auth.canAccessCertificate()?(console.log("Acceso denegado: Sin permisos para generar certificados"),this.router.navigate(["/"]),!1):(console.log("Acceso autorizado para:",{user:this.auth.currentUser?.displayName,role:this.auth.currentUser?.role,route:t.url}),!0)):(console.log("\u{1F513} Autenticaci\xF3n deshabilitada (Supabase disabled) - Acceso permitido"),!0)})}static \u0275fac=function(t){return new(t||n)(it(no),it(ui))};static \u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"})};var CT=[{path:"",component:b1},{path:"certificate",component:B2,canActivate:[U2]},{path:"login",component:V2},{path:"**",redirectTo:""}];var xT={providers:[r5(),I_({eventCoalescing:!0}),vw(CT,bw(),yw({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"})),G_(),Gd,no]};function Jz(n,e){n&1&&(fe(0,"li")(1,"a",42),Ge(2,"i",43),Z(3,"Generar Certificado "),pe()())}function Zz(n,e){if(n&1){let t=Fr();fe(0,"div",26)(1,"div",27)(2,"a",28)(3,"div",29),Ge(4,"i",30),pe(),fe(5,"div",31)(6,"div",32),Z(7),pe(),fe(8,"div",33)(9,"small",34),Z(10),pe()()()(),fe(11,"ul",35)(12,"li")(13,"h6",36),Ge(14,"i",37),Z(15),pe()(),fe(16,"li"),Ge(17,"hr",38),pe(),zi(18,Jz,4,0,"li",39),fe(19,"li"),Ge(20,"hr",38),pe(),fe(21,"li")(22,"a",40),Ke("click",function(){tt(t);let i=rt();return nt(i.logout())}),Ge(23,"i",41),Z(24,"Cerrar Sesi\xF3n "),pe()()()()()}if(n&2){let t=rt();Ve(7),os(t.auth.currentUser.displayName),Ve(3),os(t.auth.currentUser.role),Ve(5),ci("",t.auth.currentUser.displayName," "),Ve(3),ft("ngIf",t.auth.canAccessCertificate())}}var H2=class n{constructor(e,t){this.auth=e;this.router=t}logout(){this.auth.logout(),this.router.navigate(["/"])}accessCertificate(){this.auth.isLoggedIn&&this.auth.canAccessCertificate()?this.router.navigate(["/certificate"]):this.showLoginModal()}showLoginModal(){let e=document.getElementById("loginModal");e&&new bootstrap.Modal(e).show()}goToLogin(){let e=document.getElementById("loginModal");if(e){let t=bootstrap.Modal.getInstance(e);t&&t.hide()}this.router.navigate(["/login"])}scrollToSection(e){let t=document.getElementById("navbarNav");t&&t.classList.contains("show")&&new window.bootstrap.Collapse(t,{toggle:!1}).hide(),this.router.navigate(["/"],{fragment:e}).then(()=>{let r=document.getElementById(e);r&&r.scrollIntoView({behavior:"smooth",block:"start"})})}static \u0275fac=function(t){return new(t||n)(ht(no),ht(ui))};static \u0275cmp=xn({type:n,selectors:[["app-app-header"]],decls:46,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"bi","bi-award","me-1"],["class","navbar-nav ms-3",4,"ngIf"],["id","loginModal","tabindex","-1","aria-labelledby","loginModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","border-0"],["id","loginModalLabel",1,"modal-title"],[1,"bi","bi-shield-lock","me-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"mb-4"],[1,"bi","bi-award","display-1","text-primary"],[1,"text-muted"],[1,"modal-footer","border-0","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-box-arrow-in-right","me-1"],[1,"navbar-nav","ms-3"],[1,"nav-item","dropdown"],["href","#","id","userDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center"],[1,"user-avatar","me-2"],[1,"bi","bi-person-circle","fs-5"],[1,"user-info","d-none","d-md-block"],[1,"user-name"],[1,"user-role"],[1,"badge","bg-light","text-dark"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-header"],[1,"bi","bi-person-check","me-1"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"bi","bi-box-arrow-right","me-2"],["routerLink","/certificate","routerLinkActive","active",1,"dropdown-item"],[1,"bi","bi-award","me-2"]],template:function(t,r){t&1&&(fe(0,"nav",0)(1,"div",1)(2,"a",2),Z(3,"Psicolog\xEDa Abel Navarro"),pe(),fe(4,"button",3),Ge(5,"span",4),pe(),fe(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),Ke("click",function(){return r.scrollToSection("banner")}),Z(10,"Inicio"),pe()(),fe(11,"li",7)(12,"a",8),Ke("click",function(){return r.scrollToSection("workshops")}),Z(13,"Talleres"),pe()(),fe(14,"li",7)(15,"a",8),Ke("click",function(){return r.scrollToSection("about")}),Z(16,"Sobre M\xED"),pe()(),fe(17,"li",7)(18,"a",8),Ke("click",function(){return r.scrollToSection("contact")}),Z(19,"Contacto"),pe()(),fe(20,"li",7)(21,"a",8),Ke("click",function(){return r.accessCertificate()}),Ge(22,"i",9),Z(23,"Certificado "),pe()()(),zi(24,Zz,25,4,"div",10),pe()()(),fe(25,"div",11)(26,"div",12)(27,"div",13)(28,"div",14)(29,"h5",15),Ge(30,"i",16),Z(31,"Acceso Requerido "),pe(),Ge(32,"button",17),pe(),fe(33,"div",18)(34,"div",19),Ge(35,"i",20),pe(),fe(36,"h6"),Z(37,"Para acceder al certificado necesitas autenticarte"),pe(),fe(38,"p",21),Z(39,"Solo usuarios autorizados pueden generar certificados"),pe()(),fe(40,"div",22)(41,"button",23),Z(42,"Cancelar"),pe(),fe(43,"button",24),Ke("click",function(){return r.goToLogin()}),Ge(44,"i",25),Z(45,"Iniciar Sesi\xF3n "),pe()()()()()),t&2&&(Ve(24),ft("ngIf",r.auth.isLoggedIn&&r.auth.currentUser))},dependencies:[as,Js,od,mw],styles:["nav[_ngcontent-%COMP%]{margin-bottom:1rem}.nav-link.active[_ngcontent-%COMP%]{font-weight:600;text-decoration:underline}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.375rem;transition:all .2s ease}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;line-height:1.2}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;line-height:1}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.25em .5em}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:1rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:2rem 2rem 1rem}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#495057;font-weight:600}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 2rem}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:.5rem}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.875rem}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem}@media (max-width: 768px){.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:none!important}}"]})};var q2=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-app-footer"]],decls:3,vars:0,consts:[[1,"bg-primary","text-white","text-center","py-3","mt-5"],[1,"container"]],template:function(t,r){t&1&&(be(0,"footer",0)(1,"div",1),Z(2," \xA9 2025 Abel Uriaz Navarro Carrasco. Todos los derechos reservados. "),we()())},encapsulation:2})};var z2=class n{title=$t("psic-abelnavarro");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&Ge(0,"app-app-header")(1,"router-outlet")(2,"app-app-footer")},dependencies:[jf,H2,q2],encapsulation:2})};H_(z2,xT).catch(n=>console.error(n));
