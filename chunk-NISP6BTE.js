import{a as xe}from"./chunk-JLPBVVZJ.js";import{a as he}from"./chunk-RCRSDNNN.js";import{b as ne,c as oe,e as re,f as le,j as ae,m as se,n as de,o as ce,p as me,q as pe,v as ue,w as fe,x as _e}from"./chunk-XPHFKPJP.js";import{b as ge}from"./chunk-3AZUY6EQ.js";import{a as be}from"./chunk-GY3IPELX.js";import"./chunk-MPC7SZEK.js";import{a as D}from"./chunk-TVASKIN6.js";import{d as N,e as R,k}from"./chunk-EDRQHDMA.js";import{h as ee,i as te,l as ie}from"./chunk-PZ46FPEX.js";import{$a as H,Ab as Z,Bb as W,Cb as P,Cc as X,D as O,Da as r,Db as h,Fb as S,Gb as l,H as j,Hb as b,Ib as C,Na as G,Ra as q,Rb as A,Sb as F,_ as U,ab as T,bb as p,cb as u,cc as V,da as f,dc as Y,ea as _,eb as M,fb as y,fc as I,gb as E,gc as L,hb as m,hc as J,ia as $,ib as i,jb as n,kb as d,ma as v,o as B,rb as w,sb as x,ub as c,vc as K,zb as Q}from"./chunk-DCXCOY7M.js";import"./chunk-LJ5XHLMQ.js";import{h as z}from"./chunk-FK42CRUA.js";var Ee=["confirmModal"],Ce=()=>[1,2,3,4,5,6,7,8],Se=o=>["/usuarios",o],we=o=>["/usuarios",o,"editar"];function Ve(o,t){if(o&1&&(i(0,"span",16),l(1),n()),o&2){let e=c();r(),b(e.totalItems())}}function Ue(o,t){o&1&&d(0,"span",20)}function Te(o,t){o&1&&d(0,"i",21)}function Fe(o,t){if(o&1){let e=w();i(0,"li")(1,"button",63),x("click",function(){f(e);let s=c(2);return _(s.exportSelectedToCSV())}),d(2,"i",65),i(3,"span",15),l(4),n()()()}if(o&2){let e=c(2);r(4),C("Solo seleccionados (",e.selectedUsers().length,")")}}function Ie(o,t){if(o&1){let e=w();i(0,"div",25)(1,"button",60),d(2,"i",61),i(3,"span",22),l(4,"Exportar"),n()(),i(5,"ul",62)(6,"li")(7,"button",63),x("click",function(){f(e);let s=c();return _(s.exportToCSV())}),d(8,"i",64),i(9,"span",15),l(10,"Todos los usuarios (CSV)"),n()()(),p(11,Fe,5,1,"li"),n()()}if(o&2){let e=c();r(11),u(e.selectedUsers().length>0?11:-1)}}function Le(o,t){if(o&1&&(i(0,"span",33),l(1),n()),o&2){let e=c();r(),b(e.activeFiltersCount())}}function ke(o,t){if(o&1){let e=w();i(0,"button",66),x("click",function(){f(e);let s=c();return _(s.clearAllFilters())}),d(1,"i",67),n()}}function De(o,t){if(o&1){let e=w();i(0,"button",94),x("click",function(){f(e),c();let s=W(10);return c().clearSearch(),_(s.focus())}),d(1,"i",95),n()}}function Me(o,t){if(o&1&&(i(0,"option",80),l(1),n()),o&2){let e=t.$implicit,a=c(2);m("value",e),r(),b(a.getUserRoleLabel(e))}}function Pe(o,t){if(o&1&&(i(0,"option",80),l(1),n()),o&2){let e=t.$implicit;m("value",e.code),r(),b(e.name)}}function Ae(o,t){if(o&1&&(i(0,"div",38)(1,"form",68)(2,"div",69)(3,"div",70)(4,"label",71),l(5,"Buscar por texto"),n(),i(6,"div",72)(7,"span",73),d(8,"i",74),n(),d(9,"input",75,1),p(11,De,2,0,"button",76),n()(),i(12,"div",77)(13,"label",71),l(14,"Rol"),n(),i(15,"select",78)(16,"option",79),l(17,"Todos los roles"),n(),y(18,Me,2,2,"option",80,T().trackByRole,!0),n()(),i(20,"div",81)(21,"label",71),l(22,"Departamento"),n(),i(23,"select",82)(24,"option",79),l(25,"Todos"),n(),y(26,Pe,2,2,"option",80,T().trackByDepartmentCode,!0),n()(),i(28,"div",77)(29,"label",71),l(30,"Estado"),n(),i(31,"select",83)(32,"option",79),l(33,"Todos"),n(),i(34,"option",80),l(35,"Activos"),n(),i(36,"option",80),l(37,"Inactivos"),n()()(),i(38,"div",84)(39,"label",71),l(40,"Email"),n(),i(41,"select",85)(42,"option",79),l(43,"Todos"),n(),i(44,"option",80),l(45,"\u2713"),n(),i(46,"option",80),l(47,"\u2717"),n()()(),i(48,"div",84)(49,"label",71),l(50,"Tel\xE9fono"),n(),i(51,"select",86)(52,"option",79),l(53,"Todos"),n(),i(54,"option",80),l(55,"\u2713"),n(),i(56,"option",80),l(57,"\u2717"),n()()(),i(58,"div",77)(59,"label",71),l(60,"Desde"),n(),d(61,"input",87),n(),i(62,"div",77)(63,"label",71),l(64,"Hasta"),n(),d(65,"input",88),n(),i(66,"div",89)(67,"label",71),l(68,"Filtros adicionales"),n(),i(69,"div",90)(70,"div",91),d(71,"input",92),i(72,"label",93),l(73," Solo perfiles completos "),n()()()()()()()),o&2){let e,a=c();r(),m("formGroup",a.filtersForm),r(10),u((e=a.filtersForm.get("searchText"))!=null&&e.value?11:-1),r(7),E(a.userRoles),r(8),E(a.departments()),r(8),m("value",!0),r(2),m("value",!1),r(8),m("value",!0),r(2),m("value",!1),r(8),m("value",!0),r(2),m("value",!1),r(15),m("value",!0)}}function Ne(o,t){if(o&1&&(i(0,"span",42),l(1),n()),o&2){let e=c();r(),b(e.totalItems())}}function Re(o,t){if(o&1&&(i(0,"span",43),l(1),n()),o&2){let e=c();r(),C("",e.selectedUsers().length," seleccionados")}}function ze(o,t){if(o&1&&(i(0,"option",80),l(1),n()),o&2){let e=t.$implicit;m("value",e),r(),b(e)}}function Be(o,t){o&1&&(i(0,"div",102)(1,"div",103)(2,"div",104)(3,"div",105),d(4,"span",106),i(5,"div",107),d(6,"span",108)(7,"span",109),n()()(),i(8,"div",38)(9,"div",110),d(10,"span",111),i(11,"div",112)(12,"div",113),d(13,"span",114)(14,"span",115),n()()(),i(15,"div",116)(16,"div",117),d(17,"span",118)(18,"span",119),n(),i(19,"div",117),d(20,"span",120)(21,"span",121),n(),i(22,"div",29),d(23,"span",122)(24,"span",123),n()(),i(25,"div",124)(26,"div",125),d(27,"span",126)(28,"span",127),n(),i(29,"div",128),d(30,"span",129),n()()(),i(31,"div",130)(32,"div",131),d(33,"span",132)(34,"span",132)(35,"span",132),n()()()())}function Oe(o,t){o&1&&(i(0,"div",96),y(1,Be,36,0,"div",102,M),n()),o&2&&(r(),E(A(0,Ce)))}function je(o,t){o&1&&(i(0,"tr")(1,"td",141),d(2,"span",142),n(),i(3,"td",141)(4,"div",29),d(5,"span",143),i(6,"div",112)(7,"div",113),d(8,"span",144)(9,"span",115),n()()()(),i(10,"td",145),d(11,"span",146),n(),i(12,"td",147)(13,"div",113),d(14,"span",148),n()(),i(15,"td",141)(16,"div",149),d(17,"span",150)(18,"span",151),n()(),i(19,"td",152)(20,"div",125),d(21,"span",121)(22,"span",127),n(),i(23,"div",128),d(24,"span",153),n()(),i(25,"td",141)(26,"div",107),d(27,"span",132)(28,"span",132)(29,"span",132),n()()())}function $e(o,t){o&1&&(i(0,"div",97)(1,"table",133)(2,"thead",134)(3,"tr")(4,"th",135),l(5,"Sel."),n(),i(6,"th",136),l(7,"Usuario"),n(),i(8,"th",137),l(9,"Rol"),n(),i(10,"th",138),l(11,"Departamento"),n(),i(12,"th",136),l(13,"Estado"),n(),i(14,"th",139),l(15,"Perfil"),n(),i(16,"th",140),l(17,"Acciones"),n()()(),i(18,"tbody"),y(19,je,30,0,"tr",null,M),n()()()),o&2&&(r(19),E(A(0,Ce)))}function Ge(o,t){if(o&1&&(i(0,"div",57),p(1,Oe,3,1,"div",96)(2,$e,21,1,"div",97),i(3,"div",98)(4,"div",99)(5,"span",100),l(6,"Cargando..."),n()(),i(7,"span",101),l(8,"Cargando usuarios..."),n()()()),o&2){let e=c();r(),u(e.viewMode()==="cards"?1:2)}}function qe(o,t){if(o&1){let e=w();i(0,"h5",156),l(1,"No se encontraron usuarios"),n(),i(2,"p",154),l(3,"Intenta ajustar los filtros de b\xFAsqueda"),n(),i(4,"button",157),x("click",function(){f(e);let s=c(2);return _(s.clearAllFilters())}),d(5,"i",158),l(6,"Limpiar filtros "),n()}}function He(o,t){o&1&&(i(0,"h5",156),l(1,"No hay usuarios registrados"),n(),i(2,"p",154),l(3,"Comienza creando el primer usuario"),n(),i(4,"a",159),d(5,"i",160),l(6,"Nuevo Usuario "),n())}function Qe(o,t){if(o&1&&(i(0,"div",58)(1,"div",154),d(2,"i",155),n(),p(3,qe,7,0)(4,He,7,0),n()),o&2){let e=c();r(3),u(e.hasActiveFilters()?3:4)}}function Ze(o,t){if(o&1&&(i(0,"div",117),d(1,"i",185),i(2,"span",186),l(3),n()()),o&2){let e=c().$implicit;r(2),m("title",e.institution),r(),C(" ",e.institution," ")}}function We(o,t){if(o&1&&(i(0,"div",117),d(1,"i",187),i(2,"span",186),l(3),n()()),o&2){let e=c().$implicit;r(2),m("title",e.jobTitle),r(),C(" ",e.jobTitle," ")}}function Ye(o,t){if(o&1&&(i(0,"div",117),d(1,"i",188),i(2,"span",189),l(3),n()()),o&2){let e=c().$implicit;r(3),b(e.departmentName)}}function Je(o,t){if(o&1){let e=w();i(0,"div",102)(1,"div",163)(2,"div",164)(3,"div",165)(4,"input",166),x("change",function(){let s=f(e).$implicit,g=c(3);return _(g.toggleSelection(s.id))}),n(),i(5,"label",167),l(6," Seleccionar usuario "),n()(),i(7,"span",168),l(8),n()(),i(9,"div",38)(10,"div",110)(11,"div",169)(12,"span",170),l(13),n()(),i(14,"div",171)(15,"h6",172),l(16),n(),i(17,"p",173),l(18),n()()(),i(19,"div",124),p(20,Ze,4,2,"div",117),p(21,We,4,2,"div",117),p(22,Ye,4,1,"div",117),n(),i(23,"div",124)(24,"div",117)(25,"span",174),l(26),n()(),i(27,"div",175)(28,"div"),d(29,"i",36),n(),i(30,"div"),d(31,"i",36),n(),i(32,"div",112)(33,"div",176),d(34,"div",177),n()()()(),i(35,"div",178)(36,"div")(37,"div",179),l(38),n(),i(39,"div"),l(40,"Eventos"),n()(),i(41,"div")(42,"div",179),l(43),n(),i(44,"div"),l(45,"Certificados"),n()(),i(46,"div")(47,"div",179),l(48),n(),i(49,"div"),l(50,"Perfil"),n()()()(),i(51,"div",180)(52,"div",131)(53,"button",181),d(54,"i",182),n(),i(55,"button",183),d(56,"i",184),n()()()()()}if(o&2){let e=t.$implicit,a=c(3);r(),S(a.getTableRowClass(e)),h("border-primary",a.selectedUsers().includes(e.id))("shadow",a.selectedUsers().includes(e.id)),r(3),m("id","card-select-"+e.id)("checked",a.selectedUsers().includes(e.id)),r(),m("for","card-select-"+e.id),r(2),S(a.getRoleBadgeClass(e.role)),r(),C(" ",a.getUserRoleLabel(e.role)," "),r(5),b(a.getUserInitials(e.fullName)),r(3),b(e.fullName),r(2),b(e.email),r(2),u(e.institution?20:-1),r(),u(e.jobTitle?21:-1),r(),u(e.departmentName?22:-1),r(3),S(a.getUserStatusBadgeClass(e)),r(),C(" ",a.getUserStatusText(e)," "),r(2),h("text-success",e.emailVerified)("text-muted",!e.emailVerified),r(),h("bi-envelope-check-fill",e.emailVerified)("bi-envelope-x",!e.emailVerified),r(),h("text-success",e.phoneVerified)("text-muted",!e.phoneVerified),r(),h("bi-telephone-check-fill",e.phoneVerified)("bi-telephone-x",!e.phoneVerified),r(2),m("title","Perfil "+e.profileCompletion+"% completo"),r(),P("width",e.profileCompletion,"%"),h("bg-success",e.profileCompletion>=80)("bg-warning",e.profileCompletion>=50&&e.profileCompletion<80)("bg-danger",e.profileCompletion<50),r(4),b(e.eventsCount),r(5),b(e.certificatesCount),r(5),C("",e.profileCompletion,"%"),r(5),m("routerLink",F(51,Se,e.id)),r(2),m("routerLink",F(53,we,e.id))}}function Ke(o,t){if(o&1&&(i(0,"div",161)(1,"div",162),y(2,Je,57,55,"div",102,T().trackByUserId,!0),n()()),o&2){let e=c(2);r(2),E(e.users())}}function Xe(o,t){if(o&1&&d(0,"i",36),o&2){let e=c(3);S(e.currentSortDirection()==="asc"?"bi-sort-alpha-down":"bi-sort-alpha-up")}}function et(o,t){o&1&&d(0,"i",197)}function tt(o,t){if(o&1&&d(0,"i",36),o&2){let e=c(3);S(e.currentSortDirection()==="asc"?"bi-sort-alpha-down":"bi-sort-alpha-up")}}function it(o,t){o&1&&d(0,"i",197)}function nt(o,t){if(o&1&&d(0,"i",36),o&2){let e=c(3);S(e.currentSortDirection()==="asc"?"bi-sort-down":"bi-sort-up")}}function ot(o,t){o&1&&d(0,"i",197)}function rt(o,t){if(o&1&&d(0,"i",36),o&2){let e=c(3);S(e.currentSortDirection()==="asc"?"bi-sort-numeric-down":"bi-sort-numeric-up")}}function lt(o,t){o&1&&d(0,"i",197)}function at(o,t){if(o&1&&d(0,"i",36),o&2){let e=c(3);S(e.currentSortDirection()==="asc"?"bi-sort-numeric-down":"bi-sort-numeric-up")}}function st(o,t){o&1&&d(0,"i",197)}function dt(o,t){if(o&1&&(i(0,"div",209),d(1,"i",211),l(2),n()),o&2){let e=c().$implicit;r(2),C("",e.institution," ")}}function ct(o,t){if(o&1&&(i(0,"div",212),l(1),n(),i(2,"small",101),l(3),n()),o&2){let e=c().$implicit,a=c(3);r(),b(e.documentNumber),r(2),b(a.getDocumentTypeLabel(e.documentType))}}function mt(o,t){o&1&&(i(0,"span",189),l(1,"Sin informaci\xF3n"),n())}function pt(o,t){if(o&1&&(i(0,"div",212),l(1),n(),i(2,"small",101),d(3,"i",36),l(4),n()),o&2){let e=c().$implicit;r(),b(e.phone),r(),h("text-success",e.phoneVerified)("text-warning",!e.phoneVerified),r(),h("bi-check-circle-fill",e.phoneVerified)("bi-exclamation-circle-fill",!e.phoneVerified),r(),C(" ",e.phoneVerified?"Verificado":"Sin verificar"," ")}}function ut(o,t){o&1&&(i(0,"span",189),l(1,"No registrado"),n())}function ft(o,t){if(o&1&&(i(0,"span",189),l(1),n()),o&2){let e=c().$implicit;r(),b(e.lastActivity)}}function _t(o,t){o&1&&(i(0,"span",189),l(1,"Nunca"),n())}function gt(o,t){if(o&1){let e=w();i(0,"tr")(1,"td",141)(2,"div",192)(3,"input",166),x("change",function(){let s=f(e).$implicit,g=c(3);return _(g.toggleSelection(s.id))}),n(),i(4,"label",167),l(5," Seleccionar usuario "),n()()(),i(6,"td",141)(7,"div",204)(8,"div",205)(9,"span",170),l(10),n()(),i(11,"div",206)(12,"div",207),l(13),n(),i(14,"div",208),l(15),n(),p(16,dt,3,1,"div",209),n()()(),i(17,"td",147),p(18,ct,4,2)(19,mt,2,0,"span",189),n(),i(20,"td",152),p(21,pt,5,10)(22,ut,2,0,"span",189),n(),i(23,"td",141)(24,"span",168),l(25),n()(),i(26,"td",152)(27,"span",101),l(28),n()(),i(29,"td",147)(30,"div",149)(31,"small"),d(32,"i",36),l(33),n(),i(34,"div",176),d(35,"div",177),n()()(),i(36,"td",141)(37,"span",168),l(38),n()(),i(39,"td",147)(40,"span",189),l(41),n()(),i(42,"td",152),p(43,ft,2,1,"span",189)(44,_t,2,0,"span",189),n(),i(45,"td",141)(46,"div",210)(47,"button",181),d(48,"i",182),n(),i(49,"button",183),d(50,"i",184),n()()()()}if(o&2){let e=t.$implicit,a=c(3);S(a.getTableRowClass(e)),h("table-active",a.selectedUsers().includes(e.id)),r(3),m("id","select-"+e.id)("checked",a.selectedUsers().includes(e.id)),r(),m("for","select-"+e.id),r(6),b(a.getUserInitials(e.fullName)),r(3),b(e.fullName),r(2),b(e.email),r(),u(e.institution?16:-1),r(2),u(e.documentType&&e.documentNumber?18:19),r(3),u(e.phone?21:22),r(3),S(a.getRoleBadgeClass(e.role)),r(),C(" ",a.getUserRoleLabel(e.role)," "),r(3),b(e.departmentName||"N/A"),r(3),h("text-success",e.emailVerified)("text-warning",!e.emailVerified),r(),h("bi-envelope-check-fill",e.emailVerified)("bi-envelope-exclamation-fill",!e.emailVerified),r(),C(" Email ",e.emailVerified?"verificado":"sin verificar"," "),r(),m("title","Perfil "+e.profileCompletion+"% completo"),r(),P("width",e.profileCompletion,"%"),h("bg-success",e.profileCompletion>=80)("bg-warning",e.profileCompletion>=50&&e.profileCompletion<80)("bg-danger",e.profileCompletion<50),r(2),S(a.getUserStatusBadgeClass(e)),r(),C(" ",a.getUserStatusText(e)," "),r(3),b(e.joinedDate),r(2),u(e.lastActivity?43:44),r(4),m("routerLink",F(42,Se,e.id)),r(2),m("routerLink",F(44,we,e.id))}}function bt(o,t){if(o&1){let e=w();i(0,"div",97)(1,"table",190)(2,"thead",134)(3,"tr")(4,"th",191)(5,"div",192)(6,"input",193),x("change",function(){f(e);let s=c(2);return _(s.toggleSelectAll())}),n(),i(7,"label",194),l(8," Seleccionar todos "),n()()(),i(9,"th",195),x("click",function(){f(e);let s=c(2);return _(s.sortBy("full_name"))}),l(10," Usuario "),p(11,Xe,1,2,"i",196)(12,et,1,0,"i",197),n(),i(13,"th",138),l(14,"Documento"),n(),i(15,"th",139),l(16,"Tel\xE9fono"),n(),i(17,"th",198),x("click",function(){f(e);let s=c(2);return _(s.sortBy("role"))}),l(18," Rol "),p(19,tt,1,2,"i",196)(20,it,1,0,"i",197),n(),i(21,"th",139),l(22,"Departamento"),n(),i(23,"th",138),l(24,"Verificaci\xF3n"),n(),i(25,"th",199),x("click",function(){f(e);let s=c(2);return _(s.sortBy("is_active"))}),l(26," Estado "),p(27,nt,1,2,"i",196)(28,ot,1,0,"i",197),n(),i(29,"th",200),x("click",function(){f(e);let s=c(2);return _(s.sortBy("created_at"))}),l(30," Registro "),p(31,rt,1,2,"i",196)(32,lt,1,0,"i",197),n(),i(33,"th",201),x("click",function(){f(e);let s=c(2);return _(s.sortBy("last_login"))}),l(34," \xDAltimo acceso "),p(35,at,1,2,"i",196)(36,st,1,0,"i",197),n(),i(37,"th",202),l(38,"Acciones"),n()()(),i(39,"tbody"),y(40,gt,51,46,"tr",203,T().trackByUserId,!0),n()()()}if(o&2){let e=c(2);r(6),m("checked",e.areAllSelected())("indeterminate",e.areSomeSelected()),r(3),h("active",e.currentSortField()==="full_name"),r(2),u(e.currentSortField()==="full_name"?11:12),r(6),h("active",e.currentSortField()==="role"),r(2),u(e.currentSortField()==="role"?19:20),r(6),h("active",e.currentSortField()==="is_active"),r(2),u(e.currentSortField()==="is_active"?27:28),r(2),h("active",e.currentSortField()==="created_at"),r(2),u(e.currentSortField()==="created_at"?31:32),r(2),h("active",e.currentSortField()==="last_login"),r(2),u(e.currentSortField()==="last_login"?35:36),r(5),E(e.users())}}function xt(o,t){if(o&1&&(p(0,Ke,4,0,"div",161),p(1,bt,42,17,"div",97)),o&2){let e=c();u(e.viewMode()==="cards"?0:-1),r(),u(e.viewMode()==="table"?1:-1)}}function ht(o,t){if(o&1){let e=w();i(0,"div",59)(1,"app-pagination",213),x("pageChange",function(s){f(e);let g=c();return _(g.goToPage(s))})("pageSizeChange",function(s){f(e);let g=c();return _(g.onPageSizeChange(s))}),n()()}if(o&2){let e=c();r(),m("totalItems",e.totalItems())("pageSize",e.pageSize())("currentPage",e.currentPage())("showPageSizeSelector",!0)("pageSizeOptions",e.pageSizeOptions)("showGoToPage",!0)("showRangeInfo",!0)("showFirstLastButtons",!0)("maxVisiblePages",5)("density","compact")}}var ve=class o{fb=U(ue);router=U(ee);destroyRef=U($);userService=U(ge);staticDataService=U(be);confirmModal=J("confirmModal");initialFilters=L();initialPageSize=L();initialViewMode=L();showFiltersInitially=L(!1);userSelected=I();filtersChanged=I();userUpdated=I();userDeleted=I();pageSizeOptions=k.pagination.pageSizeOptions;currentSortField=v("created_at");currentSortDirection=v("desc");loadingState=v("idle");loading=V(()=>this.loadingState()==="loading");error=v(null);showFilters=v(!1);viewMode=v("cards");currentPage=v(1);pageSize=v(k.pagination.defaultPageSize);totalItems=v(0);totalPages=V(()=>Math.ceil(this.totalItems()/this.pageSize()));users=v([]);departments=v([]);selectedUsers=v([]);filtersForm=this.fb.group({searchText:this.fb.control(null),role:this.fb.control(""),departmentId:this.fb.control(""),isActive:this.fb.control(""),emailVerified:this.fb.control(""),phoneVerified:this.fb.control(""),profileCompleted:this.fb.control(null),dateFrom:this.fb.control(null),dateTo:this.fb.control(null)});userRoles=Object.values(N);documentTypes=Object.values(R);UserRole=N;DocumentType=R;usersResource=Y({loader:()=>z(this,null,function*(){try{return yield B(this.userService.getUsers(this.currentPage(),this.pageSize(),this.buildFilters(),this.currentSortField(),this.currentSortDirection()))}catch(t){let e=this.processResourceError(t);throw console.error("Users Resource Error:",e),e}}),defaultValue:{items:[],pagination:{currentPage:1,totalItems:0,totalPages:0,itemsPerPage:k.pagination.defaultPageSize,hasNextPage:!1,hasPrevPage:!1}}});confirmAction=v({title:"Confirmar Acci\xF3n",message:"\xBFEst\xE1 seguro?",confirmText:"Confirmar",callback:()=>{}});formFilters=v({searchText:null,role:"",departmentId:"",isActive:"",emailVerified:"",phoneVerified:"",profileCompleted:null,dateFrom:null,dateTo:null});hasActiveFilters=V(()=>{let t=this.formFilters();return!!(t.searchText?.trim()||t.role&&t.role.trim()||t.departmentId&&t.departmentId.trim()||t.isActive!==null&&t.isActive!==void 0&&t.isActive!==""||t.emailVerified!==null&&t.emailVerified!==void 0&&t.emailVerified!==""||t.phoneVerified!==null&&t.phoneVerified!==void 0&&t.phoneVerified!==""||t.profileCompleted!==null||t.dateFrom||t.dateTo)});activeFiltersCount=V(()=>{let t=this.formFilters(),e=0;return t.searchText?.trim()&&e++,t.role&&t.role.trim()&&e++,t.departmentId&&t.departmentId.trim()&&e++,t.isActive!==null&&t.isActive!==void 0&&t.isActive!==""&&e++,t.emailVerified!==null&&t.emailVerified!==void 0&&t.emailVerified!==""&&e++,t.phoneVerified!==null&&t.phoneVerified!==void 0&&t.phoneVerified!==""&&e++,t.profileCompleted!==null&&e++,(t.dateFrom||t.dateTo)&&e++,e});areAllSelected=V(()=>{let t=this.users(),e=this.selectedUsers();return t.length>0&&t.every(a=>e.includes(a.id))});areSomeSelected=V(()=>{let t=this.users(),e=this.selectedUsers();return t.some(a=>e.includes(a.id))&&!this.areAllSelected()});trackByUserId=(t,e)=>e.id;trackByDepartmentCode=(t,e)=>e.code;trackByRole=(t,e)=>e;ngOnInit(){this.formFilters.set(this.filtersForm.value),this.loadInitialData(),this.setupSubscriptions(),this.loadViewMode()}loadInitialData(){this.staticDataService.getDepartmentsList().pipe(D(this.destroyRef)).subscribe({next:t=>{this.departments.set(t)},error:t=>console.error("Error loading departments:",t)}),this.loadUsers()}setupSubscriptions(){this.filtersForm.valueChanges.pipe(O(300),j(),D(this.destroyRef)).subscribe(t=>{this.formFilters.set(t),this.currentPage.set(1),this.loadUsers()})}loadViewMode(){let t=localStorage.getItem("user-view-mode");t&&this.viewMode.set(t)}processResourceError(t){if(!t){let g=new Error("Error desconocido en el recurso");return g.canRetry=!0,g}let e=t,a="Error al cargar los usuarios";e.status===0||e.name==="NetworkError"?a="Error de conexi\xF3n. Verifica tu conexi\xF3n a internet.":e.status&&e.status>=400&&e.status<500?a=e.error?.message||"Error en la solicitud. Verifica los par\xE1metros.":e.status===401||e.status===403?a="No tienes permisos para acceder a esta informaci\xF3n.":e.status&&e.status>=500?a="Error del servidor. Intenta nuevamente en unos momentos.":a=e.message||e.error?.message||"Error al procesar la solicitud.";let s=new Error(a);return s.details=e.error?.details,s.canRetry=!e.status||e.status>=500||e.status===0,s}loadUsers(){this.loadingState.set("loading"),this.error.set(null);let t=this.buildFilters();this.userService.getUsers(this.currentPage(),this.pageSize(),t,this.currentSortField(),this.currentSortDirection()).pipe(D(this.destroyRef)).subscribe({next:e=>{this.users.set(e.items),this.totalItems.set(e.pagination.totalItems),this.loadingState.set("success")},error:e=>{console.error("Error loading users:",e),this.error.set("Error al cargar los usuarios"),this.loadingState.set("error")}})}buildFilters(){let t=this.filtersForm.value,e={};return t.searchText?.trim()&&(e.search=t.searchText.trim()),t.role&&t.role.trim()&&(e.role=t.role),t.departmentId&&t.departmentId.trim()&&(e.departmentId=parseInt(t.departmentId,10)),t.isActive!==null&&t.isActive!==void 0&&t.isActive!==""&&(e.isActive=t.isActive),t.emailVerified!==null&&t.emailVerified!==void 0&&t.emailVerified!==""&&(e.emailVerified=t.emailVerified),t.phoneVerified!==null&&t.phoneVerified!==void 0&&t.phoneVerified!==""&&(e.phoneVerified=t.phoneVerified),t.profileCompleted!==null&&t.profileCompleted!==void 0&&(e.profileCompleted=t.profileCompleted),t.dateFrom&&(e.dateFrom=t.dateFrom),t.dateTo&&(e.dateTo=t.dateTo),e}toggleFiltersPanel(){this.showFilters.update(t=>!t)}clearAllFilters(){this.filtersForm.reset({searchText:null,role:"",departmentId:"",isActive:"",emailVerified:"",phoneVerified:"",profileCompleted:null,dateFrom:null,dateTo:null}),this.currentSortField.set("created_at"),this.currentSortDirection.set("desc"),this.selectedUsers.set([]),this.currentPage.set(1),this.formFilters.set({searchText:null,role:"",departmentId:"",isActive:"",emailVerified:"",phoneVerified:"",profileCompleted:null,dateFrom:null,dateTo:null}),this.loadUsers()}clearSearch(){this.filtersForm.patchValue({searchText:""})}sortBy(t){this.currentSortField()===t?this.currentSortDirection.update(e=>e==="asc"?"desc":"asc"):(this.currentSortField.set(t),this.currentSortDirection.set("desc")),this.currentPage.set(1),this.loadUsers()}onPageSizeChange(t){if(typeof t=="number")this.pageSize.set(t);else{let e=t.target;this.pageSize.set(Number(e.value))}this.currentPage.set(1),this.loadUsers()}goToPage(t){t>=1&&t<=this.totalPages()&&(this.currentPage.set(t),this.loadUsers())}onPageChange(t){this.goToPage(t)}setViewMode(t){this.viewMode.set(t),localStorage.setItem("user-view-mode",t)}toggleSelection(t){this.selectedUsers.update(e=>e.indexOf(t)>=0?e.filter(s=>s!==t):[...e,t])}toggleSelectAll(){this.areAllSelected()?this.selectedUsers.set([]):this.selectedUsers.set(this.users().map(e=>e.id))}isSelected(t){return this.selectedUsers().includes(t)}getUserRoleLabel(t){return{admin:"Administrador",organizer:"Organizador",participant:"Participante"}[t]||t}getDocumentTypeLabel(t){return{DNI:"DNI",CE:"Carn\xE9 de Extranjer\xEDa",PASSPORT:"Pasaporte",RUC:"RUC"}[t]||t}getUserStatusBadgeClass(t){return t.isActive?"bg-success-subtle text-success-emphasis":"bg-danger-subtle text-danger-emphasis"}getUserStatusText(t){return t.isActive?"Activo":"Inactivo"}getRoleBadgeClass(t){return{admin:"bg-primary-subtle text-primary-emphasis",organizer:"bg-info-subtle text-info-emphasis",participant:"bg-secondary-subtle text-secondary-emphasis"}[t]||"bg-secondary-subtle text-secondary-emphasis"}getTableRowClass(t){return t.isActive?t.emailVerified?t.profileCompletion<50?"table-danger":"":"table-warning":"table-secondary"}getUserInitials(t){return t.split(" ").slice(0,2).map(e=>e.charAt(0).toUpperCase()).join("")}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}}formatDateTime(t){if(!t)return"N/A";try{return new Date(t).toLocaleString("es-PE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return t}}exportToCSV(){let t=this.generateCSVData(this.users());this.downloadCSV(t,"usuarios.csv")}exportSelectedToCSV(){let t=this.users().filter(a=>this.selectedUsers().includes(a.id)),e=this.generateCSVData(t);this.downloadCSV(e,"usuarios_seleccionados.csv")}generateCSVData(t){let a=[["ID","Nombre Completo","Email","Documento","N\xFAmero Documento","Tel\xE9fono","Instituci\xF3n","Cargo","Rol","Departamento","Estado","Email Verificado","Tel\xE9fono Verificado","Eventos Asistidos","Certificados","Fecha Registro","\xDAltimo Acceso"].join(",")];return t.forEach(s=>{let g=[s.id,`"${s.fullName}"`,s.email,s.documentType||"",s.documentNumber||"",s.phone||"",`"${s.institution||""}"`,`"${s.jobTitle||""}"`,this.getUserRoleLabel(s.role),`"${s.departmentName||""}"`,this.getUserStatusText(s),s.emailVerified?"S\xED":"No",s.phoneVerified?"S\xED":"No",s.eventsCount,s.certificatesCount,s.joinedDate,s.lastActivity||"Nunca"];a.push(g.join(","))}),a.join(`
`)}downloadCSV(t,e){let a=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),g=URL.createObjectURL(a);s.setAttribute("href",g),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}refreshData(){this.loadUsers()}onConfirmAccepted(){this.confirmAction().callback()}onConfirmCancelled(){}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=G({type:o,selectors:[["app-user-list"]],viewQuery:function(e,a){e&1&&Q(a.confirmModal,Ee,5),e&2&&Z()},inputs:{initialFilters:[1,"initialFilters"],initialPageSize:[1,"initialPageSize"],initialViewMode:[1,"initialViewMode"],showFiltersInitially:[1,"showFiltersInitially"]},outputs:{userSelected:"userSelected",filtersChanged:"filtersChanged",userUpdated:"userUpdated",userDeleted:"userDeleted"},decls:77,vars:27,consts:[["confirmModal",""],["searchInput",""],[1,"container-fluid","py-3"],[3,"accepted","cancelled","title","message","confirmText"],["aria-label","breadcrumb",1,"mb-3"],[1,"breadcrumb","mb-0","small"],[1,"breadcrumb-item"],["routerLink","/",1,"text-decoration-none","link-primary"],[1,"bi","bi-house-door","me-1"],[1,"d-none","d-sm-inline"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","flex-column","flex-md-row","align-items-start","align-items-md-center","justify-content-between","gap-3","mb-4"],[1,"order-1","order-md-0"],[1,"h6","mb-1","fw-normal","d-flex","align-items-center"],[1,"bi","bi-people","me-2","text-primary"],[1,"small"],[1,"badge","text-bg-primary","ms-2","small"],[1,"text-muted","small","mb-0"],[1,"d-flex","flex-wrap","gap-2","order-0","order-md-1"],["type","button","title","Actualizar datos",1,"btn","btn-outline-secondary","btn-sm","d-flex","align-items-center",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"bi","bi-arrow-clockwise","me-1"],[1,"d-none","d-sm-inline","small"],["routerLink","/usuarios/nuevo","title","Crear nuevo usuario",1,"btn","btn-primary","btn-sm","d-flex","align-items-center"],[1,"bi","bi-plus-circle","me-1"],["role","group",1,"btn-group"],[1,"card","border-0","shadow-sm","mb-4"],[1,"card-header","bg-light","border-bottom","py-2"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","align-items-center","gap-1"],[1,"bi","bi-funnel","text-primary"],[1,"mb-0","fw-normal","small"],[1,"badge","text-bg-primary","rounded-pill","small"],["role","group",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-outline-secondary","border-0","btn-sm",3,"click","title"],[1,"bi"],["type","button","title","Limpiar todos los filtros",1,"btn","btn-outline-danger","border-0","btn-sm"],[1,"card-body","py-3"],[1,"card","border-0","shadow-sm"],[1,"d-flex","align-items-center","gap-2","flex-grow-1","overflow-hidden"],[1,"bi","bi-list-ul","text-primary"],[1,"badge","text-bg-info","small"],[1,"badge","text-bg-primary","small"],[1,"d-flex","align-items-center","gap-1","ms-auto","me-2"],[1,"form-label","mb-0","text-muted","small","d-none","d-md-inline"],[1,"form-select","form-select-sm","small",2,"width","auto","min-width","70px",3,"change","value"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["role","group","aria-label","Modo de vista",1,"btn-group","btn-group-sm","flex-shrink-0"],["type","radio","name","viewMode","id","cardsView","autocomplete","off",1,"btn-check",3,"change","checked"],["for","cardsView","title","Vista tarjetas",1,"btn","btn-outline-primary","btn-sm","px-2"],[1,"bi","bi-grid-3x3-gap"],[1,"d-none","d-xl-inline","ms-1","small"],["type","radio","name","viewMode","id","tableView","autocomplete","off",1,"btn-check",3,"change","checked"],["for","tableView","title","Vista tabla",1,"btn","btn-outline-primary","btn-sm","px-2"],[1,"bi","bi-table"],[1,"card-body","p-0"],[1,"p-3"],[1,"text-center","py-5"],[1,"card-footer","bg-light","border-top","py-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","title","Opciones de exportaci\xF3n",1,"btn","btn-success","btn-sm","dropdown-toggle","d-flex","align-items-center"],[1,"bi","bi-download","me-1"],[1,"dropdown-menu"],["type","button",1,"dropdown-item",3,"click"],[1,"bi","bi-file-earmark-spreadsheet","me-2"],[1,"bi","bi-file-earmark-check","me-2"],["type","button","title","Limpiar todos los filtros",1,"btn","btn-outline-danger","border-0","btn-sm",3,"click"],[1,"bi","bi-x-circle"],[3,"formGroup"],[1,"row","g-2"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],[1,"form-label","fw-normal","small","mb-1"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-light","border-end-0"],[1,"bi","bi-search","text-muted"],["type","text","placeholder","Nombre, email, documento...","formControlName","searchText",1,"form-control","border-start-0","bg-light","form-control-sm"],["type","button","title","Limpiar b\xFAsqueda",1,"btn","btn-outline-secondary","border-start-0","btn-sm"],[1,"col-6","col-md-3","col-lg-2","col-xl-2"],["formControlName","role",1,"form-select","bg-light","form-select-sm"],["value",""],[3,"value"],[1,"col-6","col-md-3","col-lg-3","col-xl-2"],["formControlName","departmentId",1,"form-select","bg-light","form-select-sm"],["formControlName","isActive",1,"form-select","bg-light","form-select-sm"],[1,"col-6","col-md-3","col-lg-2","col-xl-1"],["formControlName","emailVerified","title","Email verificado",1,"form-select","bg-light","form-select-sm"],["formControlName","phoneVerified","title","Tel\xE9fono verificado",1,"form-select","bg-light","form-select-sm"],["type","date","formControlName","dateFrom",1,"form-control","bg-light","form-control-sm"],["type","date","formControlName","dateTo",1,"form-control","bg-light","form-control-sm"],[1,"col-12"],[1,"d-flex","flex-wrap","gap-2","mt-1"],[1,"form-check","form-check-sm"],["type","checkbox","id","profileCompleted","formControlName","profileCompleted",1,"form-check-input","form-check-input-sm",3,"value"],["for","profileCompleted",1,"form-check-label","small"],["type","button","title","Limpiar b\xFAsqueda",1,"btn","btn-outline-secondary","border-start-0","btn-sm",3,"click"],[1,"bi","bi-x"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5","g-3"],[1,"table-responsive"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary","me-2",2,"width","1.25rem","height","1.25rem"],[1,"visually-hidden"],[1,"text-muted"],[1,"col"],[1,"card","h-100","border-0","shadow-sm"],[1,"card-header","bg-light","py-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"placeholder","col-2","bg-secondary","rounded",2,"height","16px"],[1,"d-flex","gap-1"],[1,"placeholder","bg-success","rounded-pill",2,"width","60px","height","18px"],[1,"placeholder","bg-info","rounded-pill",2,"width","50px","height","18px"],[1,"d-flex","align-items-start","gap-3","mb-3"],[1,"placeholder","text-bg-primary","rounded-circle","flex-shrink-0",2,"width","40px","height","40px"],[1,"flex-grow-1"],[1,"placeholder-glow"],[1,"placeholder","col-8","mb-1","fw-bold",2,"height","18px"],[1,"placeholder","col-10"],[1,"placeholder-glow","mb-3"],[1,"d-flex","align-items-center","gap-2","mb-2"],[1,"placeholder","bg-primary","rounded-circle",2,"width","16px","height","16px"],[1,"placeholder","col-6"],[1,"placeholder","bg-secondary","rounded-circle",2,"width","16px","height","16px"],[1,"placeholder","col-4"],[1,"placeholder","bg-info","rounded-circle",2,"width","16px","height","16px"],[1,"placeholder","col-8"],[1,"mb-3"],[1,"d-flex","justify-content-between","align-items-center","mb-1"],[1,"placeholder","col-5"],[1,"placeholder","col-3"],[1,"progress",2,"height","4px"],[1,"placeholder","bg-success","w-75",2,"height","4px"],[1,"card-footer","bg-transparent","py-2"],[1,"d-flex","gap-1","justify-content-end"],[1,"placeholder","bg-secondary","rounded",2,"width","32px","height","28px"],[1,"table","table-hover","mb-0","table-sm"],[1,"table-light"],["scope","col",1,"border-0",2,"width","40px"],["scope","col",1,"fw-semibold","border-0"],["scope","col",1,"fw-semibold","border-0","d-none","d-md-table-cell"],["scope","col",1,"fw-semibold","border-0","d-none","d-lg-table-cell"],["scope","col",1,"fw-semibold","border-0","d-none","d-xl-table-cell"],["scope","col",1,"fw-semibold","border-0",2,"width","120px"],[1,"border-0"],[1,"placeholder","bg-secondary","rounded",2,"width","16px","height","16px"],[1,"placeholder","text-bg-primary","rounded-circle",2,"width","32px","height","32px"],[1,"placeholder","col-8","mb-1","fw-bold"],[1,"border-0","d-none","d-md-table-cell"],[1,"placeholder","bg-primary","rounded-pill",2,"width","80px","height","20px"],[1,"border-0","d-none","d-lg-table-cell"],[1,"placeholder","col-9"],[1,"d-flex","flex-column","gap-1"],[1,"placeholder","bg-success","rounded-pill",2,"width","70px","height","18px"],[1,"placeholder","bg-info","rounded-pill",2,"width","60px","height","16px"],[1,"border-0","d-none","d-xl-table-cell"],[1,"placeholder","bg-warning","w-50",2,"height","4px"],[1,"text-muted","mb-4"],[1,"bi","bi-people","display-1","opacity-25"],[1,"text-muted","mb-2"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-funnel","me-2"],["routerLink","/usuarios/nuevo",1,"btn","btn-primary"],[1,"bi","bi-plus-circle","me-2"],[1,"p-3","p-md-4"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5","row-cols-xxl-6","g-3"],[1,"card","h-100","border-0","shadow-sm","position-relative"],[1,"card-header","bg-light","border-bottom-0","py-2","d-flex","align-items-center","justify-content-between"],[1,"form-check","mb-0"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label","visually-hidden",3,"for"],[1,"badge","rounded-pill"],[1,"avatar","text-bg-primary","rounded-circle","d-flex","align-items-center","justify-content-center","flex-shrink-0",2,"width","40px","height","40px"],[1,"fw-bold","small"],[1,"flex-grow-1","overflow-hidden"],[1,"card-title","mb-1","text-truncate","fw-semibold"],[1,"text-muted","small","mb-0","text-truncate"],[1,"badge"],[1,"d-flex","align-items-center","gap-3","small"],[1,"progress",2,"height","4px",3,"title"],["role","progressbar",1,"progress-bar"],[1,"d-flex","justify-content-between","text-center","small","text-muted"],[1,"fw-semibold"],[1,"card-footer","bg-transparent","border-top","py-2"],["title","Ver detalles",1,"btn","btn-outline-info","btn-sm",3,"routerLink"],[1,"bi","bi-eye"],["title","Editar",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"bi","bi-pencil"],[1,"bi","bi-building","text-muted","small"],[1,"text-muted","small","text-truncate",3,"title"],[1,"bi","bi-briefcase","text-muted","small"],[1,"bi","bi-geo-alt","text-muted","small"],[1,"text-muted","small"],[1,"table","table-hover","mb-0"],["scope","col",1,"border-0",2,"width","50px"],[1,"form-check"],["type","checkbox","id","selectAll",1,"form-check-input",3,"change","checked","indeterminate"],["for","selectAll",1,"form-check-label","visually-hidden"],["scope","col","title","Ordenar por nombre",1,"fw-semibold","border-0","sortable-header",3,"click"],[1,"bi",3,"class"],[1,"bi","bi-arrow-down-up","text-muted","opacity-50"],["scope","col","title","Ordenar por rol",1,"fw-semibold","border-0","sortable-header",3,"click"],["scope","col","title","Ordenar por estado",1,"fw-semibold","border-0","sortable-header",3,"click"],["scope","col","title","Ordenar por fecha de registro",1,"fw-semibold","border-0","d-none","d-lg-table-cell","sortable-header",3,"click"],["scope","col","title","Ordenar por \xFAltimo acceso",1,"fw-semibold","border-0","d-none","d-xl-table-cell","sortable-header",3,"click"],["scope","col",1,"fw-semibold","border-0",2,"width","140px"],[3,"table-active","class"],[1,"d-flex","align-items-center","gap-3"],[1,"avatar","text-bg-primary","rounded-circle","d-flex","align-items-center","justify-content-center","flex-shrink-0",2,"width","36px","height","36px"],[1,"overflow-hidden"],[1,"fw-medium","text-truncate"],[1,"text-muted","small","text-truncate"],[1,"text-muted","small","d-none","d-xl-block","text-truncate"],[1,"btn-group","btn-group-sm"],[1,"bi","bi-building","me-1"],[1,"fw-medium","text-nowrap"],["containerClass","justify-content-between align-items-center",1,"mb-0",3,"pageChange","pageSizeChange","totalItems","pageSize","currentPage","showPageSizeSelector","pageSizeOptions","showGoToPage","showRangeInfo","showFirstLastButtons","maxVisiblePages","density"]],template:function(e,a){if(e&1){let s=w();i(0,"div",2)(1,"app-confirm-modal",3,0),x("accepted",function(){return f(s),_(a.onConfirmAccepted())})("cancelled",function(){return f(s),_(a.onConfirmCancelled())}),n(),i(3,"nav",4)(4,"ol",5)(5,"li",6)(6,"a",7),d(7,"i",8),i(8,"span",9),l(9,"Inicio"),n()()(),i(10,"li",10),l(11,"Usuarios"),n()()(),i(12,"div",11)(13,"div",12)(14,"h1",13),d(15,"i",14),i(16,"span",15),l(17,"Gesti\xF3n de Usuarios"),n(),p(18,Ve,2,1,"span",16),n(),i(19,"p",17),l(20,"Administra los usuarios del sistema"),n()(),i(21,"div",18)(22,"button",19),x("click",function(){return f(s),_(a.refreshData())}),p(23,Ue,1,0,"span",20)(24,Te,1,0,"i",21),i(25,"span",22),l(26,"Actualizar"),n()(),i(27,"button",23),d(28,"i",24),i(29,"span",15),l(30,"Nuevo"),n()(),p(31,Ie,12,1,"div",25),n()(),i(32,"div",26)(33,"div",27)(34,"div",28)(35,"div",29)(36,"div",30),d(37,"i",31),i(38,"h6",32),l(39,"Filtros"),n()(),p(40,Le,2,1,"span",33),n(),i(41,"div",34)(42,"button",35),x("click",function(){return f(s),_(a.toggleFiltersPanel())}),d(43,"i",36),n(),p(44,ke,2,0,"button",37),n()()(),p(45,Ae,74,9,"div",38),n(),i(46,"div",39)(47,"div",27)(48,"div",28)(49,"div",40)(50,"div",30),d(51,"i",41),i(52,"h6",32),l(53,"Usuarios"),n()(),p(54,Ne,2,1,"span",42),p(55,Re,2,1,"span",43),i(56,"div",44)(57,"label",45),l(58,"Mostrar:"),n(),i(59,"select",46),x("change",function(ye){return f(s),_(a.onPageSizeChange(ye))}),q(60,ze,2,2,"option",47),n()()(),i(61,"div",48)(62,"input",49),x("change",function(){return f(s),_(a.setViewMode("cards"))}),n(),i(63,"label",50),d(64,"i",51),i(65,"span",52),l(66,"Tarjetas"),n()(),i(67,"input",53),x("change",function(){return f(s),_(a.setViewMode("table"))}),n(),i(68,"label",54),d(69,"i",55),i(70,"span",52),l(71,"Tabla"),n()()()()(),i(72,"div",56),p(73,Ge,9,1,"div",57)(74,Qe,5,1,"div",58)(75,xt,2,2),n(),p(76,ht,2,10,"div",59),n()()}e&2&&(r(),m("title",a.confirmAction().title)("message",a.confirmAction().message)("confirmText",a.confirmAction().confirmText),r(17),u(a.totalItems()>0?18:-1),r(4),m("disabled",a.loading()),r(),u(a.loading()?23:24),r(8),u(a.users().length>0?31:-1),r(),h("border-primary",a.hasActiveFilters()),r(8),u(a.hasActiveFilters()?40:-1),r(2),m("title",a.showFilters()?"Ocultar filtros":"Mostrar filtros"),H("aria-expanded",a.showFilters()),r(),h("bi-chevron-up",a.showFilters())("bi-chevron-down",!a.showFilters()),r(),u(a.hasActiveFilters()?44:-1),r(),u(a.showFilters()?45:-1),r(9),u(a.totalItems()>0?54:-1),r(),u(a.selectedUsers().length>0?55:-1),r(4),m("value",a.pageSize()),r(),m("ngForOf",a.pageSizeOptions)("ngForTrackBy",a.trackByUserId),r(2),m("checked",a.viewMode()==="cards"),r(5),m("checked",a.viewMode()==="table"),r(6),u(a.loading()?73:a.users().length===0?74:75),r(3),u(a.totalPages()>1?76:-1))},dependencies:[X,K,ie,te,_e,ae,me,pe,oe,ne,ce,re,le,se,de,fe,xe,he],styles:[".sortable-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease}.sortable-header[_ngcontent-%COMP%]:hover{background-color:rgba(var(--bs-primary-rgb),.1)!important}.sortable-header.active[_ngcontent-%COMP%]{background-color:rgba(var(--bs-primary-rgb),.15)!important;color:var(--bs-primary)}.sortable-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:4px;font-size:.75rem}"],changeDetection:0})};export{ve as UserListComponent};
