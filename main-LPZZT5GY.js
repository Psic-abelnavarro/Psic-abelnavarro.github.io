import{a as Sn}from"./chunk-FK6H3RFT.js";import{b as Rx,c as Lx,f as _7,g as Fx}from"./chunk-X5YLR3NI.js";import{a as Ae,b as Et,c as vf,e as tt,g as Cb,h as y7,i as ue}from"./chunk-ODN5LVDJ.js";var Wt=tt(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr._registerNode=Fr.Konva=Fr.glob=void 0;var RH=Math.PI/180;function LH(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}Fr.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{};Fr.Konva={_global:Fr.glob,version:"9.3.22",isBrowser:LH(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return Fr.Konva.angleDeg?n*RH:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Fr.Konva.DD.isDragging},isTransforming(){var n;return(n=Fr.Konva.Transformer)===null||n===void 0?void 0:n.isTransforming()},isDragReady(){return!!Fr.Konva.DD.node},releaseCanvasOnDestroy:!0,document:Fr.glob.document,_injectGlobal(n){Fr.glob.Konva=n}};var FH=n=>{Fr.Konva[n.prototype.getClassName()]=n};Fr._registerNode=FH;Fr.Konva._injectGlobal(Fr.Konva)});var qn=tt(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.Util=Rn.Transform=void 0;var fS=Wt(),mS=class n{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){let t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.m[0]*t+this.m[2]*r,o=this.m[1]*t+this.m[3]*r,s=this.m[0]*-r+this.m[2]*t,a=this.m[1]*-r+this.m[3]*t;return this.m[0]=i,this.m[1]=o,this.m[2]=s,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){let r=this.m[0]+this.m[2]*t,i=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=s,this}multiply(e){let t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}invert(){let e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}getMatrix(){return this.m}decompose(){let e=this.m[0],t=this.m[1],r=this.m[2],i=this.m[3],o=this.m[4],s=this.m[5],a=e*i-t*r,l={x:o,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||t!=0){let c=Math.sqrt(e*e+t*t);l.rotation=t>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+t*i)/a,l.skewY=0}else if(r!=0||i!=0){let c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+t*i)/a}return l.rotation=Rn.Util._getRotation(l.rotation),l}};Rn.Transform=mS;var jH="[object Array]",BH="[object Number]",UH="[object String]",VH="[object Boolean]",zH=Math.PI/180,HH=180/Math.PI,pS="#",qH="",$H="0",GH="Konva warning: ",sI="Konva error: ",WH="rgb(",gS={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},YH=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,my=[],KH=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,60)};Rn.Util={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===jH},_isNumber(n){return Object.prototype.toString.call(n)===BH&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===UH},_isBoolean(n){return Object.prototype.toString.call(n)===VH},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;let e=n[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){my.push(n),my.length===1&&KH(function(){let e=my;my=[],e.forEach(function(t){t()})})},createCanvasElement(){let n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,e){let t=Rn.Util.createImageElement();t.onload=function(){e(t)},t.src=n},_rgbToHex(n,e,t){return((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)},_hexToRgb(n){n=n.replace(pS,qH);let e=parseInt(n,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let n=(Math.random()*16777215<<0).toString(16);for(;n.length<6;)n=$H+n;return pS+n},getRGB(n){let e;return n in gS?(e=gS[n],{r:e[0],g:e[1],b:e[2]}):n[0]===pS?this._hexToRgb(n.substring(1)):n.substr(0,4)===WH?(e=YH.exec(n.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",Rn.Util._namedColorToRBA(n)||Rn.Util._hex3ColorToRGBA(n)||Rn.Util._hex4ColorToRGBA(n)||Rn.Util._hex6ColorToRGBA(n)||Rn.Util._hex8ColorToRGBA(n)||Rn.Util._rgbColorToRGBA(n)||Rn.Util._rgbaColorToRGBA(n)||Rn.Util._hslColorToRGBA(n)},_namedColorToRBA(n){let e=gS[n.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];let e=n.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];let e=n.split(/ *, */).map((t,r)=>t.slice(-1)==="%"?r===3?parseInt(t)/100:parseInt(t)/100*255:Number(t));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(n){if(n[0]==="#"&&n.length===9)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:parseInt(n.slice(7,9),16)/255}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex4ColorToRGBA(n){if(n[0]==="#"&&n.length===5)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:parseInt(n[4]+n[4],16)/255}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){let[e,...t]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),r=Number(t[0])/360,i=Number(t[1])/100,o=Number(t[2])/100,s,a,l;if(i===0)return l=o*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o<.5?s=o*(1+i):s=o+i-o*i;let c=2*o-s,d=[0,0,0];for(let h=0;h<3;h++)a=r+1/3*-(h-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(s-c)*6*a:2*a<1?l=s:3*a<2?l=c+(s-c)*(2/3-a)*6:l=c,d[h]=l*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(n,e){return!(e.x>n.x+n.width||e.x+e.width<n.x||e.y>n.y+n.height||e.y+e.height<n.y)},cloneObject(n){let e={};for(let t in n)this._isPlainObject(n[t])?e[t]=this.cloneObject(n[t]):this._isArray(n[t])?e[t]=this.cloneArray(n[t]):e[t]=n[t];return e},cloneArray(n){return n.slice(0)},degToRad(n){return n*zH},radToDeg(n){return n*HH},_degToRad(n){return Rn.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Rn.Util.degToRad(n)},_radToDeg(n){return Rn.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Rn.Util.radToDeg(n)},_getRotation(n){return fS.Konva.angleDeg?Rn.Util.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(sI+n)},error(n){console.error(sI+n)},warn(n){fS.Konva.showWarnings&&console.warn(GH+n)},each(n,e){for(let t in n)e(t,n[t])},_inRange(n,e,t){return e<=n&&n<t},_getProjectionToSegment(n,e,t,r,i,o){let s,a,l,c=(n-t)*(n-t)+(e-r)*(e-r);if(c==0)s=n,a=e,l=(i-t)*(i-t)+(o-r)*(o-r);else{let d=((i-n)*(t-n)+(o-e)*(r-e))/c;d<0?(s=n,a=e,l=(n-i)*(n-i)+(e-o)*(e-o)):d>1?(s=t,a=r,l=(t-i)*(t-i)+(r-o)*(r-o)):(s=n+d*(t-n),a=e+d*(r-e),l=(s-i)*(s-i)+(a-o)*(a-o))}return[s,a,l]},_getProjectionToLine(n,e,t){let r=Rn.Util.cloneObject(n),i=Number.MAX_VALUE;return e.forEach(function(o,s){if(!t&&s===e.length-1)return;let a=e[(s+1)%e.length],l=Rn.Util._getProjectionToSegment(o.x,o.y,a.x,a.y,n.x,n.y),c=l[0],d=l[1],h=l[2];h<i&&(r.x=c,r.y=d,i=h)}),r},_prepareArrayForTween(n,e,t){let r=[],i=[];if(n.length>e.length){let s=e;e=n,n=s}for(let s=0;s<n.length;s+=2)r.push({x:n[s],y:n[s+1]});for(let s=0;s<e.length;s+=2)i.push({x:e[s],y:e[s+1]});let o=[];return i.forEach(function(s){let a=Rn.Util._getProjectionToLine(s,r,t);o.push(a.x),o.push(a.y)}),o},_prepareToStringify(n){let e;n.visitedByCircularReferenceRemoval=!0;for(let t in n)if(n.hasOwnProperty(t)&&n[t]&&typeof n[t]=="object"){if(e=Object.getOwnPropertyDescriptor(n,t),n[t].visitedByCircularReferenceRemoval||Rn.Util._isElement(n[t]))if(e.configurable)delete n[t];else return null;else if(Rn.Util._prepareToStringify(n[t])===null)if(e.configurable)delete n[t];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,e){for(let t in e)n[t]=e[t];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){fS.Konva.releaseCanvasOnDestroy&&n.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(n,e,t,r){let i=0,o=0,s=0,a=0;typeof r=="number"?i=o=s=a=Math.min(r,e/2,t/2):(i=Math.min(r[0]||0,e/2,t/2),o=Math.min(r[1]||0,e/2,t/2),a=Math.min(r[2]||0,e/2,t/2),s=Math.min(r[3]||0,e/2,t/2)),n.moveTo(i,0),n.lineTo(e-o,0),n.arc(e-o,o,o,Math.PI*3/2,0,!1),n.lineTo(e,t-a),n.arc(e-a,t-a,a,0,Math.PI/2,!1),n.lineTo(s,t),n.arc(s,t-s,s,Math.PI/2,Math.PI,!1),n.lineTo(0,i),n.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}}});var _S=tt(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.HitContext=jl.SceneContext=jl.Context=void 0;var cI=qn(),XH=Wt();function ZH(n){let e=[],t=n.length,r=cI.Util;for(let i=0;i<t;i++){let o=n[i];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),e.push(o)}return e}var aI=",",QH="(",JH=")",eq="([",tq="])",nq=";",rq="()",iq="=",lI=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],oq=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],sq=100,ih=class{constructor(e){this.canvas=e,XH.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let r=this.traceArr,i=r.length,o="",s,a,l,c;for(s=0;s<i;s++)a=r[s],l=a.method,l?(c=a.args,o+=l,e?o+=rq:cI.Util._isArray(c[0])?o+=eq+c.join(aI)+tq:(t&&(c=c.map(d=>typeof d=="number"?Math.floor(d):d)),o+=QH+c.join(aI)+JH)):(o+=a.property,e||(o+=iq+a.val)),o+=nq;return o}clearTrace(){this.traceArr=[]}_trace(e){let t=this.traceArr,r;t.push(e),r=t.length,r>=sq&&t.shift()}reset(){let e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){let t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){let t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){let t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){let t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,i,o,s){this._context.arc(e,t,r,i,o,s)}arcTo(e,t,r,i,o){this._context.arcTo(e,t,r,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,i,o,s){this._context.bezierCurveTo(e,t,r,i,o,s)}clearRect(e,t,r,i){this._context.clearRect(e,t,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){let r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,i){return this._context.createLinearGradient(e,t,r,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,i,o,s){return this._context.createRadialGradient(e,t,r,i,o,s)}drawImage(e,t,r,i,o,s,a,l,c){let d=arguments,h=this._context;d.length===3?h.drawImage(e,t,r):d.length===5?h.drawImage(e,t,r,i,o):d.length===9&&h.drawImage(e,t,r,i,o,s,a,l,c)}ellipse(e,t,r,i,o,s,a,l){this._context.ellipse(e,t,r,i,o,s,a,l)}isPointInPath(e,t,r,i){return r?this._context.isPointInPath(r,e,t,i):this._context.isPointInPath(e,t,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,i){this._context.fillRect(e,t,r,i)}strokeRect(e,t,r,i){this._context.strokeRect(e,t,r,i)}fillText(e,t,r,i){i?this._context.fillText(e,t,r,i):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,i){return this._context.getImageData(e,t,r,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,i){this._context.rect(e,t,r,i)}roundRect(e,t,r,i,o){this._context.roundRect(e,t,r,i,o)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,i){this._context.quadraticCurveTo(e,t,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,i,o,s){this._context.setTransform(e,t,r,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,i){this._context.strokeText(e,t,r,i)}transform(e,t,r,i,o,s){this._context.transform(e,t,r,i,o,s)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e=this,t=lI.length,r=this.setAttr,i,o,s=function(a){let l=e[a],c;e[a]=function(){return o=ZH(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:o}),c}};for(i=0;i<t;i++)s(lI[i]);e.setAttr=function(){r.apply(e,arguments);let a=arguments[0],l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){let t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}};jl.Context=ih;oq.forEach(function(n){Object.defineProperty(ih.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});var vS=class extends ih{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){let t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){let t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){let t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){let t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}let i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}let o=e.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(e);return}let s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,r.x,r.y);if(i){for(let s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){let t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,i;let o=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),d=l.x*c,h=l.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",a.x*d),this.setAttr("shadowOffsetY",a.y*h)}};jl.SceneContext=vS;var yS=class extends ih{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let t=e.getStrokeScaleEnabled();if(!t){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);let r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}};jl.HitContext=yS});var Yp=tt(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.HitCanvas=Bl.SceneCanvas=Bl.Canvas=void 0;var yy=qn(),uI=_S(),dI=Wt(),vy;function aq(){if(vy)return vy;let n=yy.Util.createCanvasElement(),e=n.getContext("2d");return vy=function(){let t=dI.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}(),yy.Util.releaseCanvas(n),vy}var Wp=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;let r=(e||{}).pixelRatio||dI.Konva.pixelRatio||aq();this.pixelRatio=r,this._canvas=yy.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){let t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(i){return yy.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Bl.Canvas=Wp;var bS=class extends Wp{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new uI.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};Bl.SceneCanvas=bS;var wS=class extends Wp{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new uI.HitContext(this),this.setSize(e.width,e.height)}};Bl.HitCanvas=wS});var _y=tt(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.DD=void 0;var Kp=Wt(),lq=qn();Pr.DD={get isDragging(){let n=!1;return Pr.DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return Pr.DD._dragElements.forEach(e=>{n=e.node}),n},_dragElements:new Map,_drag(n){let e=[];Pr.DD._dragElements.forEach((t,r)=>{let{node:i}=t,o=i.getStage();o.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=lq.Util._getFirstPointerId(n));let s=o._changedPointerPositions.find(a=>a.id===t.pointerId);if(s){if(t.dragStatus!=="dragging"){let a=i.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<a||(i.startDrag({evt:n}),!i.isDragging()))return}i._setDragPosition(n,t),e.push(i)}}),e.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){let e=[];Pr.DD._dragElements.forEach(t=>{let{node:r}=t,i=r.getStage();if(n&&i.setPointersPositions(n),!i._changedPointerPositions.find(a=>a.id===t.pointerId))return;(t.dragStatus==="dragging"||t.dragStatus==="stopped")&&(Pr.DD.justDragged=!0,Kp.Konva._mouseListenClick=!1,Kp.Konva._touchListenClick=!1,Kp.Konva._pointerListenClick=!1,t.dragStatus="stopped");let s=t.node.getLayer()||t.node instanceof Kp.Konva.Stage&&t.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(t=>{t.draw()})},_endDragAfter(n){Pr.DD._dragElements.forEach((e,t)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:n},!0),e.dragStatus!=="dragging"&&Pr.DD._dragElements.delete(t)})}};Kp.Konva.isBrowser&&(window.addEventListener("mouseup",Pr.DD._endDragBefore,!0),window.addEventListener("touchend",Pr.DD._endDragBefore,!0),window.addEventListener("touchcancel",Pr.DD._endDragBefore,!0),window.addEventListener("mousemove",Pr.DD._drag),window.addEventListener("touchmove",Pr.DD._drag),window.addEventListener("mouseup",Pr.DD._endDragAfter,!1),window.addEventListener("touchend",Pr.DD._endDragAfter,!1),window.addEventListener("touchcancel",Pr.DD._endDragAfter,!1))});var Zt=tt(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.RGBComponent=cq;Gi.alphaComponent=uq;Gi.getNumberValidator=dq;Gi.getNumberOrArrayOfNumbersValidator=hq;Gi.getNumberOrAutoValidator=fq;Gi.getStringValidator=pq;Gi.getStringOrGradientValidator=gq;Gi.getFunctionValidator=mq;Gi.getNumberArrayValidator=vq;Gi.getBooleanValidator=yq;Gi.getComponentValidator=_q;var ka=Wt(),Zn=qn();function Ra(n){return Zn.Util._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||Zn.Util._isBoolean(n)?n:Object.prototype.toString.call(n)}function cq(n){return n>255?255:n<0?0:Math.round(n)}function uq(n){return n>1?1:n<1e-4?1e-4:n}function dq(){if(ka.Konva.isUnminified)return function(n,e){return Zn.Util._isNumber(n)||Zn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}}function hq(n){if(ka.Konva.isUnminified)return function(e,t){let r=Zn.Util._isNumber(e),i=Zn.Util._isArray(e)&&e.length==n;return!r&&!i&&Zn.Util.warn(Ra(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}}function fq(){if(ka.Konva.isUnminified)return function(n,e){return Zn.Util._isNumber(n)||n==="auto"||Zn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}}function pq(){if(ka.Konva.isUnminified)return function(n,e){return Zn.Util._isString(n)||Zn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}}function gq(){if(ka.Konva.isUnminified)return function(n,e){let t=Zn.Util._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||Zn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}}function mq(){if(ka.Konva.isUnminified)return function(n,e){return Zn.Util._isFunction(n)||Zn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),n}}function vq(){if(ka.Konva.isUnminified)return function(n,e){let t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&n instanceof t||(Zn.Util._isArray(n)?n.forEach(function(r){Zn.Util._isNumber(r)||Zn.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Zn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),n}}function yq(){if(ka.Konva.isUnminified)return function(n,e){return n===!0||n===!1||Zn.Util.warn(Ra(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}}function _q(n){if(ka.Konva.isUnminified)return function(e,t){return e==null||Zn.Util.isObject(e)||Zn.Util.warn(Ra(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}}});var Kt=tt(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.Factory=void 0;var Wi=qn(),bq=Zt(),Xp="get",Zp="set";es.Factory={addGetterSetter(n,e,t,r,i){es.Factory.addGetter(n,e,t),es.Factory.addSetter(n,e,r,i),es.Factory.addOverloadedGetterSetter(n,e)},addGetter(n,e,t){let r=Xp+Wi.Util._capitalize(e);n.prototype[r]=n.prototype[r]||function(){let i=this.attrs[e];return i===void 0?t:i}},addSetter(n,e,t,r){let i=Zp+Wi.Util._capitalize(e);n.prototype[i]||es.Factory.overWriteSetter(n,e,t,r)},overWriteSetter(n,e,t,r){let i=Zp+Wi.Util._capitalize(e);n.prototype[i]=function(o){return t&&o!==void 0&&o!==null&&(o=t.call(this,o,e)),this._setAttr(e,o),r&&r.call(this),this}},addComponentsGetterSetter(n,e,t,r,i){let o=t.length,s=Wi.Util._capitalize,a=Xp+s(e),l=Zp+s(e);n.prototype[a]=function(){let d={};for(let h=0;h<o;h++){let g=t[h];d[g]=this.getAttr(e+s(g))}return d};let c=(0,bq.getComponentValidator)(t);n.prototype[l]=function(d){let h=this.attrs[e];r&&(d=r.call(this,d,e)),c&&c.call(this,d,e);for(let g in d)d.hasOwnProperty(g)&&this._setAttr(e+s(g),d[g]);return d||t.forEach(g=>{this._setAttr(e+s(g),void 0)}),this._fireChangeEvent(e,h,d),i&&i.call(this),this},es.Factory.addOverloadedGetterSetter(n,e)},addOverloadedGetterSetter(n,e){let t=Wi.Util._capitalize(e),r=Zp+t,i=Xp+t;n.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(n,e,t,r){Wi.Util.error("Adding deprecated "+e);let i=Xp+Wi.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[i]=function(){Wi.Util.error(o);let s=this.attrs[e];return s===void 0?t:s},es.Factory.addSetter(n,e,r,function(){Wi.Util.error(o)}),es.Factory.addOverloadedGetterSetter(n,e)},backCompat(n,e){Wi.Util.each(e,function(t,r){let i=n.prototype[r],o=Xp+Wi.Util._capitalize(t),s=Zp+Wi.Util._capitalize(t);function a(){i.apply(this,arguments),Wi.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}n.prototype[t]=a,n.prototype[o]=a,n.prototype[s]=a})},afterSetFilter(){this._filterUpToDate=!1}}});var Qn=tt(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0});Ey.Node=void 0;var oh=Yp(),bo=_y(),Qp=Kt(),Ul=Wt(),rn=qn(),ir=Zt(),wy="absoluteOpacity",by="allEventListeners",La="absoluteTransform",hI="absoluteScale",Zc="canvas",wq="Change",Cq="children",Eq="konva",CS="listening",Sq="mouseenter",xq="mouseleave",Mq="pointerenter",Pq="pointerleave",Dq="touchenter",Oq="touchleave",fI="set",pI="Shape",Cy=" ",gI="stage",Vl="transform",Aq="Stage",ES="visible",Iq=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Cy),Tq=1,It=class n{constructor(e){this._id=Tq++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Vl||e===La)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){let r=this._cache.get(e);return(r===void 0||(e===Vl||e===La)&&r.dirty===!0)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){let i=t.map(o=>o+"Change.konva").join(Cy);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Zc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===La&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Zc)){let{scene:e,filter:t,hit:r,buffer:i}=this._cache.get(Zc);rn.Util.releaseCanvas(e,t,r,i),this._cache.delete(Zc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){let t=e||{},r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(t.width||r.width),o=Math.ceil(t.height||r.height),s=t.pixelRatio,a=t.x===void 0?Math.floor(r.x):t.x,l=t.y===void 0?Math.floor(r.y):t.y,c=t.offset||0,d=t.drawBorder||!1,h=t.hitCanvasPixelRatio||1;if(!i||!o){rn.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}let g=Math.abs(Math.round(r.x)-a)>.5?1:0,f=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+g,o+=c*2+f,a-=c,l-=c;let y=new oh.SceneCanvas({pixelRatio:s,width:i,height:o}),_=new oh.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),C=new oh.HitCanvas({pixelRatio:h,width:i,height:o}),w=y.getContext(),E=C.getContext(),O=new oh.SceneCanvas({width:y.width/y.pixelRatio+Math.abs(a),height:y.height/y.pixelRatio+Math.abs(l),pixelRatio:y.pixelRatio}),N=O.getContext();return C.isCache=!0,y.isCache=!0,this._cache.delete(Zc),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),w.save(),E.save(),N.save(),w.translate(-a,-l),E.translate(-a,-l),N.translate(-a,-l),O.x=a,O.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(wy),this._clearSelfAndDescendantCache(hI),this.drawScene(y,this,O),this.drawHit(C,this),this._isUnderCache=!1,w.restore(),E.restore(),d&&(w.save(),w.beginPath(),w.rect(0,0,i,o),w.closePath(),w.setAttr("strokeStyle","red"),w.setAttr("lineWidth",5),w.stroke(),w.restore()),this._cache.set(Zc,{scene:y,filter:_,hit:C,buffer:O,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Zc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){let r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,o=1/0,s=-1/0,a=-1/0,l=this.getAbsoluteTransform(t);return r.forEach(function(c){let d=l.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let t=this._getCanvasCache();e.translate(t.x,t.y);let r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){let t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),t=this._getCanvasCache(),r=t.scene,i=t.filter,o=i.getContext(),s,a,l,c;if(e){if(!this._filterUpToDate){let d=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){rn.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),o.putImageData(a,0,0)}}catch(h){rn.Util.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,t){if(this._cache&&this._cache.delete(by),arguments.length===3)return this._delegate.apply(this,arguments);let r=e.split(Cy);for(let i=0;i<r.length;i++){let s=r[i].split("."),a=s[0],l=s[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:t})}return this}off(e,t){let r=(e||"").split(Cy),i=r.length,o,s,a,l,c,d;if(this._cache&&this._cache.delete(by),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=r[o],l=a.split("."),c=l[0],d=l[1],c)this.eventListeners[c]&&this._off(c,d,t);else for(s in this.eventListeners)this._off(s,d,t);return this}dispatchEvent(e){let t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){let i=this;this.on(e,function(o){let s=o.target.findAncestors(t,!0,i);for(let a=0;a<s.length;a++)o=rn.Util.cloneObject(o),o.currentTarget=s[a],r.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),bo.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(La),this._clearSelfAndDescendantCache(wy),this._clearSelfAndDescendantCache(hI),this._clearSelfAndDescendantCache(gI),this._clearSelfAndDescendantCache(ES),this._clearSelfAndDescendantCache(CS)}_remove(){this._clearCaches();let e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){let t="get"+rn.Util._capitalize(e);return rn.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,r;if(!e)return this;for(t in e)t!==Cq&&(r=fI+rn.Util._capitalize(t),rn.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(CS,this._isListening)}_isListening(e){if(!this.listening())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(ES,this._isVisible)}_isVisible(e){if(!this.visible())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);let r=this.getLayer(),i=!1;bo.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});let o=!t&&!Ul.Konva.hitOnDragEnabled&&(i||Ul.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),t=this,r=0,i,o,s,a;function l(d){for(i=[],o=d.length,s=0;s<o;s++)a=d[s],r++,a.nodeType!==pI&&(i=i.concat(a.getChildren().slice())),a._id===t._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&l(i)}let c=this.getStage();return t.nodeType!==Aq&&c&&l(c.getChildren()),r}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Vl),this._clearSelfAndDescendantCache(La)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){let e=this.getStage();if(!e)return null;let t=e.getPointerPosition();if(!t)return null;let r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);let i=this.getAbsoluteTransform(e).getMatrix(),o=new rn.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){let s=this._clearTransform(),{x:t,y:r}=s,i=vf(s,["x","y"]);this.attrs.x=t,this.attrs.y=r,this._clearCache(Vl);let o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Vl),this._clearSelfAndDescendantCache(La),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){let e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,r=e.y,i=this.x(),o=this.y();return t!==void 0&&(i+=t),r!==void 0&&(o+=r),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,t){let r=[],i=this.getParent(),o,s;if(!(t&&t._id===this._id)){for(r.unshift(this);i&&(!t||i._id!==t._id);)r.unshift(i),i=i.parent;for(o=r.length,s=0;s<o;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return rn.Util.warn("Node has no parent. moveToTop function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return rn.Util.warn("Node has no parent. moveUp function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return rn.Util.warn("Node has no parent. moveDown function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return rn.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return rn.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&rn.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");let t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(wy,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),t,r,i,o,s,a={attrs:{},className:this.getClassName()};for(t in e)r=e[t],s=rn.Util.isObject(r)&&!rn.Util._isPlainObject(r)&&!rn.Util._isArray(r),!s&&(i=typeof this[t]=="function"&&this[t],delete e[t],o=i?i.call(this):null,e[t]=r,o!==r&&(a.attrs[t]=r));return rn.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){let i=[];t&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===r)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let t=e.replace(/ /g,"").split(","),r=t.length,i,o;for(i=0;i<r;i++)if(o=t[i],rn.Util.isValidSelector(o)||(rn.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),rn.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),rn.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){let e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(gI,this._getStage)}_getStage(){let e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(La,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new rn.Transform,this._eachAncestorReverse(function(r){let i=r.transformsEnabled();i==="all"?t.multiply(r.getTransform()):i==="position"&&t.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),t;{t=this._cache.get(La)||new rn.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();let r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){let i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(i-s,o-a)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();let i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Vl,this._getTransform)}_getTransform(){var e,t;let r=this._cache.get(Vl)||new rn.Transform;r.reset();let i=this.x(),o=this.y(),s=Ul.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,g=this.attrs.offsetY||0;return(i!==0||o!==0)&&r.translate(i,o),s!==0&&r.rotate(s),(c!==0||d!==0)&&r.skew(c,d),(a!==1||l!==1)&&r.scale(a,l),(h!==0||g!==0)&&r.translate(-1*h,-1*g),r.dirty=!1,r}clone(e){let t=rn.Util.cloneObject(this.attrs),r,i,o,s,a;for(r in e)t[r]=e[r];let l=new this.constructor(t);for(r in this.eventListeners)for(i=this.eventListeners[r],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(Eq)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};let t=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(t.x),o=e.y!==void 0?e.y:Math.floor(t.y),s=e.pixelRatio||1,a=new oh.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:s}),l=a.getContext(),c=new oh.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};let t=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,rn.Util._urlToImage(this.toDataURL(e),function(o){t(o),i?.(o)})}catch(i){r(i)}})}toBlob(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{t(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ul.Konva.dragDistance}_off(e,t,r){let i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||t==="konva")&&(!t||s===t)&&(!r||r===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,t,r){this._fire(e+wq,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){let t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;let t=this.name();return t?(t||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){let t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){let r=this[fI+rn.Util._capitalize(e)];return rn.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(Ul.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){let r=this.attrs[e];r===t&&!rn.Util.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,t,r){t&&this.nodeType===pI&&(t.target=this);let i=[Sq,xq,Mq,Pq,Dq,Oq];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,t);let s=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,i;let o=(t=this._cache.get(by))!==null&&t!==void 0?t:{},s=o?.[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){let l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];s.push(...l),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(by,o)}return s}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;let r=this._getProtoListeners(e);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,t);let i=this.eventListeners[e];if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){let t=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;let o=r._getPointerById(t)||r._changedPointerPositions[0]||i;bo.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){bo.DD._dragElements.has(this._id)||this._createDragElement(e);let r=bo.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){let r=this.getStage()._getPointerById(t.pointerId);if(!r)return;let i={x:r.x-t.offset.x,y:r.y-t.offset.y},o=this.dragBoundFunc();if(o!==void 0){let s=o.call(this,i,e);s?i=s:rn.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){let t=bo.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),bo.DD._endDragBefore(e),bo.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=bo.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ul.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;bo.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;let t=bo.DD._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",i=t&&t.dragStatus==="ready";r?this.stopDrag():i&&bo.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let t=this.getStage();if(!t)return!1;let r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return rn.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return rn.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let r=n.prototype.getClassName.call(e),i=e.children,o,s,a;t&&(e.attrs.container=t),Ul.Konva[r]||(rn.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");let l=Ul.Konva[r];if(o=new l(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(n._createNode(i[a]));return o}};Ey.Node=It;It.prototype.nodeType="Node";It.prototype._attrsAffectingSize=[];It.prototype.eventListeners={};It.prototype.on.call(It.prototype,Iq,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Vl),this._clearSelfAndDescendantCache(La)});It.prototype.on.call(It.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ES)});It.prototype.on.call(It.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(CS)});It.prototype.on.call(It.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(wy)});var On=Qp.Factory.addGetterSetter;On(It,"zIndex");On(It,"absolutePosition");On(It,"position");On(It,"x",0,(0,ir.getNumberValidator)());On(It,"y",0,(0,ir.getNumberValidator)());On(It,"globalCompositeOperation","source-over",(0,ir.getStringValidator)());On(It,"opacity",1,(0,ir.getNumberValidator)());On(It,"name","",(0,ir.getStringValidator)());On(It,"id","",(0,ir.getStringValidator)());On(It,"rotation",0,(0,ir.getNumberValidator)());Qp.Factory.addComponentsGetterSetter(It,"scale",["x","y"]);On(It,"scaleX",1,(0,ir.getNumberValidator)());On(It,"scaleY",1,(0,ir.getNumberValidator)());Qp.Factory.addComponentsGetterSetter(It,"skew",["x","y"]);On(It,"skewX",0,(0,ir.getNumberValidator)());On(It,"skewY",0,(0,ir.getNumberValidator)());Qp.Factory.addComponentsGetterSetter(It,"offset",["x","y"]);On(It,"offsetX",0,(0,ir.getNumberValidator)());On(It,"offsetY",0,(0,ir.getNumberValidator)());On(It,"dragDistance",void 0,(0,ir.getNumberValidator)());On(It,"width",0,(0,ir.getNumberValidator)());On(It,"height",0,(0,ir.getNumberValidator)());On(It,"listening",!0,(0,ir.getBooleanValidator)());On(It,"preventDefault",!0,(0,ir.getBooleanValidator)());On(It,"filters",void 0,function(n){return this._filterUpToDate=!1,n});On(It,"visible",!0,(0,ir.getBooleanValidator)());On(It,"transformsEnabled","all",(0,ir.getStringValidator)());On(It,"size");On(It,"dragBoundFunc");On(It,"draggable",!1,(0,ir.getBooleanValidator)());Qp.Factory.backCompat(It,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})});var Jp=tt(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});xy.Container=void 0;var sh=Kt(),SS=Qn(),Sy=Zt(),Fa=class extends SS.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){let t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}let t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){let t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){let r=[];return this._descendants(i=>{let o=i._isMatch(e);return o&&r.push(i),!!(o&&t)}),r}_descendants(e){let t=!1,r=this.getChildren();for(let i of r){if(t=e(i),t)return!0;if(i.hasChildren()&&(t=i._descendants(e),t))return!0}return!1}toObject(){let e=SS.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){let t=SS.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){let t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=o&&o.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();let d=this.getAbsoluteTransform(t).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,t,r);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;let r=this.getLayer(),i=e||r&&r.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache();if(s&&s.hit){o.save();let l=this.getAbsoluteTransform(t).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,r,i){var o;let s=t&&t.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),d=typeof a=="number"&&typeof l=="number"||c,h=r===this;if(d){s.save();let f=this.getAbsoluteTransform(r),y=f.getMatrix();s.transform(y[0],y[1],y[2],y[3],y[4],y[5]),s.beginPath();let _;if(c)_=c.call(this,s,this);else{let C=this.clipX(),w=this.clipY();s.rect(C||0,w||0,a,l)}s.clip.apply(s,_),y=f.copy().invert().getMatrix(),s.transform(y[0],y[1],y[2],y[3],y[4],y[5])}let g=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";g&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(f){f[e](t,r,i)}),g&&s.restore(),d&&s.restore()}getClientRect(e={}){var t;let r=e.skipTransform,i=e.relativeTo,o,s,a,l,c={x:1/0,y:1/0,width:0,height:0},d=this;(t=this.children)===null||t===void 0||t.forEach(function(f){if(!f.visible())return;let y=f.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(o===void 0?(o=y.x,s=y.y,a=y.x+y.width,l=y.y+y.height):(o=Math.min(o,y.x),s=Math.min(s,y.y),a=Math.max(a,y.x+y.width),l=Math.max(l,y.y+y.height)))});let h=this.find("Shape"),g=!1;for(let f=0;f<h.length;f++)if(h[f]._isVisible(this)){g=!0;break}return g&&o!==void 0?c={x:o,y:s,width:a-o,height:l-s}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}};xy.Container=Fa;sh.Factory.addComponentsGetterSetter(Fa,"clip",["x","y","width","height"]);sh.Factory.addGetterSetter(Fa,"clipX",void 0,(0,Sy.getNumberValidator)());sh.Factory.addGetterSetter(Fa,"clipY",void 0,(0,Sy.getNumberValidator)());sh.Factory.addGetterSetter(Fa,"clipWidth",void 0,(0,Sy.getNumberValidator)());sh.Factory.addGetterSetter(Fa,"clipHeight",void 0,(0,Sy.getNumberValidator)());sh.Factory.addGetterSetter(Fa,"clipFunc")});var MS=tt(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.getCapturedShape=kq;Qc.createEvent=xS;Qc.hasPointerCapture=Rq;Qc.setPointerCapture=Lq;Qc.releaseCapture=vI;var Nq=Wt(),eg=new Map,mI=Nq.Konva._global.PointerEvent!==void 0;function kq(n){return eg.get(n)}function xS(n){return{evt:n,pointerId:n.pointerId}}function Rq(n,e){return eg.get(n)===e}function Lq(n,e){vI(n),e.getStage()&&(eg.set(n,e),mI&&e._fire("gotpointercapture",xS(new PointerEvent("gotpointercapture"))))}function vI(n,e){let t=eg.get(n);if(!t)return;let r=t.getStage();r&&r.content,eg.delete(n),mI&&t._fire("lostpointercapture",xS(new PointerEvent("lostpointercapture")))}});var II=tt(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.Stage=Us.stages=void 0;var Bs=qn(),Fq=Kt(),yI=Jp(),or=Wt(),PS=Yp(),DS=_y(),jq=Wt(),ja=MS(),Bq="Stage",Uq="string",_I="px",Vq="mouseout",wI="mouseleave",CI="mouseover",EI="mouseenter",SI="mousemove",xI="mousedown",MI="mouseup",tg="pointermove",ng="pointerdown",lh="pointerup",rg="pointercancel",zq="lostpointercapture",My="pointerout",ig="pointerleave",Py="pointerover",Dy="pointerenter",AS="contextmenu",PI="touchstart",DI="touchend",OI="touchmove",AI="touchcancel",IS="wheel",Hq=5,qq=[[EI,"_pointerenter"],[xI,"_pointerdown"],[SI,"_pointermove"],[MI,"_pointerup"],[wI,"_pointerleave"],[PI,"_pointerdown"],[OI,"_pointermove"],[DI,"_pointerup"],[AI,"_pointercancel"],[CI,"_pointerover"],[IS,"_wheel"],[AS,"_contextmenu"],[ng,"_pointerdown"],[tg,"_pointermove"],[lh,"_pointerup"],[rg,"_pointercancel"],[ig,"_pointerleave"],[zq,"_lostpointercapture"]],OS={mouse:{[My]:Vq,[ig]:wI,[Py]:CI,[Dy]:EI,[tg]:SI,[ng]:xI,[lh]:MI,[rg]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[My]:"touchout",[ig]:"touchleave",[Py]:"touchover",[Dy]:"touchenter",[tg]:OI,[ng]:PI,[lh]:DI,[rg]:AI,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[My]:My,[ig]:ig,[Py]:Py,[Dy]:Dy,[tg]:tg,[ng]:ng,[lh]:lh,[rg]:rg,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},og=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",ah=n=>{let e=og(n);if(e==="pointer")return or.Konva.pointerEventsEnabled&&OS.pointer;if(e==="touch")return OS.touch;if(e==="mouse")return OS.mouse};function bI(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&Bs.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}var $q="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";Us.stages=[];var ch=class extends yI.Container{constructor(e){super(bI(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Us.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{bI(this.attrs)}),this._checkVisibility()}_validateAdd(e){let t=e.getType()==="Layer",r=e.getType()==="FastLayer";t||r||Bs.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Uq){let t;if(e.charAt(0)==="."){let r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?t=e:t=e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let e=this.children,t=e.length;for(let r=0;r<t;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),yI.Container.prototype.clone.call(this,e)}destroy(){super.destroy();let e=this.content;e&&Bs.Util._isInDocument(e)&&this.container().removeChild(e);let t=Us.stages.indexOf(this);return t>-1&&Us.stages.splice(t,1),Bs.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Bs.Util.warn($q),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();let t=new PS.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=t.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(o){if(!o.isVisible())return;let s=o._toKonvaCanvas(e);r.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}),t}getIntersection(e){if(!e)return null;let t=this.children,r=t.length,i=r-1;for(let o=i;o>=0;o--){let s=t[o].getIntersection(e);if(s)return s}return null}_resizeDOM(){let e=this.width(),t=this.height();this.content&&(this.content.style.width=e+_I,this.content.style.height=t+_I),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(r=>{r.setSize({width:e,height:t}),r.draw()})}add(e,...t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);let r=this.children.length;return r>Hq&&Bs.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),or.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return ja.hasPointerCapture(e,this)}setPointerCapture(e){ja.setPointerCapture(e,this)}releaseCapture(e){ja.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){or.Konva.isBrowser&&qq.forEach(([e,t])=>{this.content.addEventListener(e,r=>{this[t](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let t=ah(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let t=ah(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){let t=ah(e.type),r=og(e.type);if(!t)return;this.setPointersPositions(e);let i=this._getTargetShape(r),o=!(or.Konva.isDragging()||or.Konva.isTransforming())||or.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(t.pointerout,{evt:e}),i._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):o&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){let t=ah(e.type),r=og(e.type);if(!t)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(o=>{let s=this.getIntersection(o);if(DS.DD.justDragged=!1,or.Konva["_"+r+"ListenClick"]=!0,!s||!s.isListening()){this[r+"ClickStartShape"]=void 0;return}or.Konva.capturePointerEventsEnabled&&s.setPointerCapture(o.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(t.pointerdown,{evt:e,pointerId:o.id}),i=!0;let a=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){let t=ah(e.type),r=og(e.type);if(!t||(or.Konva.isDragging()&&DS.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!(or.Konva.isDragging()||or.Konva.isTransforming())||or.Konva.hitOnDragEnabled)))return;let o={},s=!1,a=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{let c=ja.getCapturedShape(l.id)||this.getIntersection(l),d=l.id,h={evt:e,pointerId:d},g=a!==c;if(g&&a&&(a._fireAndBubble(t.pointerout,Ae({},h),c),a._fireAndBubble(t.pointerleave,Ae({},h),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(s=!0,g&&(c._fireAndBubble(t.pointerover,Ae({},h),a),c._fireAndBubble(t.pointerenter,Ae({},h),a),this[r+"targetShape"]=c),c._fireAndBubble(t.pointermove,Ae({},h))):a&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),s||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let t=ah(e.type),r=og(e.type);if(!t)return;this.setPointersPositions(e);let i=this[r+"ClickStartShape"],o=this[r+"ClickEndShape"],s={},a=!1;this._changedPointerPositions.forEach(l=>{let c=ja.getCapturedShape(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),s[c._id])return;s[c._id]=!0}let d=l.id,h={evt:e,pointerId:d},g=!1;or.Konva["_"+r+"InDblClickWindow"]?(g=!0,clearTimeout(this[r+"DblTimeout"])):DS.DD.justDragged||(or.Konva["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){or.Konva["_"+r+"InDblClickWindow"]=!1},or.Konva.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(t.pointerup,Ae({},h)),or.Konva["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(t.pointerclick,Ae({},h)),g&&o&&o===c&&c._fireAndBubble(t.pointerdblclick,Ae({},h)))):(this[r+"ClickEndShape"]=null,or.Konva["_"+r+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),g&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),a||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),or.Konva["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(AS,{evt:e}):this._fire(AS,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(IS,{evt:e}):this._fire(IS,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let t=ja.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(lh,ja.createEvent(e)),ja.releaseCapture(e.pointerId)}_lostpointercapture(e){ja.releaseCapture(e.pointerId)}setPointersPositions(e){let t=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})})):(r=(e.clientX-t.left)/t.scaleX,i=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:Bs.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:Bs.Util._getFirstPointerId(e)}])}_setPointerPosition(e){Bs.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};let e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new PS.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new PS.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!or.Konva.isBrowser)return;let e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return Bs.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Us.Stage=ch;ch.prototype.nodeType=Bq;(0,jq._registerNode)(ch);Fq.Factory.addGetterSetter(ch,"container");or.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{Us.stages.forEach(n=>{n.batchDraw()})})});var Dr=tt(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.Shape=Ba.shapes=void 0;var Gq=Wt(),Vs=qn(),at=Kt(),TI=Qn(),vr=Zt(),Wq=Wt(),TS=MS(),NI="hasShadow",kI="shadowRGBA",RI="patternImage",LI="linearGradient",FI="radialGradient",Oy;function NS(){return Oy||(Oy=Vs.Util.createCanvasElement().getContext("2d"),Oy)}Ba.shapes={};function Yq(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function Kq(n){n.stroke()}function Xq(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function Zq(n){n.stroke()}function Qq(){this._clearCache(NI)}function Jq(){this._clearCache(kI)}function e$(){this._clearCache(RI)}function t$(){this._clearCache(LI)}function n$(){this._clearCache(FI)}var ze=class extends TI.Node{constructor(e){super(e);let t;for(;t=Vs.Util.getRandomColor(),!(t&&!(t in Ba.shapes)););this.colorKey=t,Ba.shapes[t]=this}getContext(){return Vs.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Vs.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(NI,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(RI,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){let t=NS().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){let r=new Vs.Transform;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Gq.Konva.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let i=r.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);t.setTransform(o)}return t}}_getLinearGradient(){return this._getCache(LI,this.__getLinearGradient)}__getLinearGradient(){let e=this.fillLinearGradientColorStops();if(e){let t=NS(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(r.x,r.y,i.x,i.y);for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}_getRadialGradient(){return this._getCache(FI,this.__getRadialGradient)}__getRadialGradient(){let e=this.fillRadialGradientColorStops();if(e){let t=NS(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}getShadowRGBA(){return this._getCache(kI,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;let e=Vs.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){let t=this.getStage();if(!t)return!1;let r=t.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return TI.Node.prototype.destroy.call(this),delete Ba.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!((t=this.attrs.perfectDrawEnabled)!==null&&t!==void 0?t:!0))return!1;let i=e||this.hasFill(),o=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&o&&s)return!0;let a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&o&&a&&l)}setStrokeHitEnabled(e){Vs.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){let e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,r=this.getParent();for(;r;){if(r.isCached()){t=!0;break}r=r.getParent()}let i=e.skipTransform,o=e.relativeTo||t&&this.getStage()||void 0,s=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=s.width+l,d=s.height+l,h=!e.skipShadow&&this.hasShadow(),g=h?this.shadowOffsetX():0,f=h?this.shadowOffsetY():0,y=c+Math.abs(g),_=d+Math.abs(f),C=h&&this.shadowBlur()||0,w=y+C*2,E=_+C*2,O={width:w,height:E,x:-(l/2+C)+Math.min(g,0)+s.x,y:-(l/2+C)+Math.min(f,0)+s.y};return i?O:this._transformedRect(O,o)}drawScene(e,t,r){let i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),d,h=!1,g=t===this;if(!this.isVisible()&&!g)return this;if(a){s.save();let f=this.getAbsoluteTransform(t).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!h){d=this.getStage();let f=r||d.bufferCanvas,y=f.getContext();y.clear(),y.save(),y._applyLineJoin(this);let _=this.getAbsoluteTransform(t).getMatrix();y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.call(this,y,this),y.restore();let C=f.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(f._canvas,f.x||0,f.y||0,f.width/C,f.height/C)}else{if(s._applyLineJoin(this),!g){let f=this.getAbsoluteTransform(t).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,t,r=!1){if(!this.shouldDrawHit(t,r))return this;let i=this.getLayer(),o=e||i.hitCanvas,s=o&&o.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||Vs.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();let h=this.getAbsoluteTransform(t).getMatrix();return s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),s._applyLineJoin(this),!(this===t)){let h=this.getAbsoluteTransform(t).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){let t=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=t.hit,o=i.getContext(),s=i.getWidth(),a=i.getHeight();o.clear(),o.drawImage(r._canvas,0,0,s,a);try{let l=o.getImageData(0,0,s,a),c=l.data,d=c.length,h=Vs.Util._hexToRgb(this.colorKey);for(let g=0;g<d;g+=4)c[g+3]>e?(c[g]=h.r,c[g+1]=h.g,c[g+2]=h.b,c[g+3]=255):c[g+3]=0;o.putImageData(l,0,0)}catch(l){Vs.Util.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return TS.hasPointerCapture(e,this)}setPointerCapture(e){TS.setPointerCapture(e,this)}releaseCapture(e){TS.releaseCapture(e,this)}};Ba.Shape=ze;ze.prototype._fillFunc=Yq;ze.prototype._strokeFunc=Kq;ze.prototype._fillFuncHit=Xq;ze.prototype._strokeFuncHit=Zq;ze.prototype._centroid=!1;ze.prototype.nodeType="Shape";(0,Wq._registerNode)(ze);ze.prototype.eventListeners={};ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Qq);ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Jq);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",e$);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",t$);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",n$);at.Factory.addGetterSetter(ze,"stroke",void 0,(0,vr.getStringOrGradientValidator)());at.Factory.addGetterSetter(ze,"strokeWidth",2,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"fillAfterStrokeEnabled",!1);at.Factory.addGetterSetter(ze,"hitStrokeWidth","auto",(0,vr.getNumberOrAutoValidator)());at.Factory.addGetterSetter(ze,"strokeHitEnabled",!0,(0,vr.getBooleanValidator)());at.Factory.addGetterSetter(ze,"perfectDrawEnabled",!0,(0,vr.getBooleanValidator)());at.Factory.addGetterSetter(ze,"shadowForStrokeEnabled",!0,(0,vr.getBooleanValidator)());at.Factory.addGetterSetter(ze,"lineJoin");at.Factory.addGetterSetter(ze,"lineCap");at.Factory.addGetterSetter(ze,"sceneFunc");at.Factory.addGetterSetter(ze,"hitFunc");at.Factory.addGetterSetter(ze,"dash");at.Factory.addGetterSetter(ze,"dashOffset",0,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"shadowColor",void 0,(0,vr.getStringValidator)());at.Factory.addGetterSetter(ze,"shadowBlur",0,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"shadowOpacity",1,(0,vr.getNumberValidator)());at.Factory.addComponentsGetterSetter(ze,"shadowOffset",["x","y"]);at.Factory.addGetterSetter(ze,"shadowOffsetX",0,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"shadowOffsetY",0,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"fillPatternImage");at.Factory.addGetterSetter(ze,"fill",void 0,(0,vr.getStringOrGradientValidator)());at.Factory.addGetterSetter(ze,"fillPatternX",0,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"fillPatternY",0,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"fillLinearGradientColorStops");at.Factory.addGetterSetter(ze,"strokeLinearGradientColorStops");at.Factory.addGetterSetter(ze,"fillRadialGradientStartRadius",0);at.Factory.addGetterSetter(ze,"fillRadialGradientEndRadius",0);at.Factory.addGetterSetter(ze,"fillRadialGradientColorStops");at.Factory.addGetterSetter(ze,"fillPatternRepeat","repeat");at.Factory.addGetterSetter(ze,"fillEnabled",!0);at.Factory.addGetterSetter(ze,"strokeEnabled",!0);at.Factory.addGetterSetter(ze,"shadowEnabled",!0);at.Factory.addGetterSetter(ze,"dashEnabled",!0);at.Factory.addGetterSetter(ze,"strokeScaleEnabled",!0);at.Factory.addGetterSetter(ze,"fillPriority","color");at.Factory.addComponentsGetterSetter(ze,"fillPatternOffset",["x","y"]);at.Factory.addGetterSetter(ze,"fillPatternOffsetX",0,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"fillPatternOffsetY",0,(0,vr.getNumberValidator)());at.Factory.addComponentsGetterSetter(ze,"fillPatternScale",["x","y"]);at.Factory.addGetterSetter(ze,"fillPatternScaleX",1,(0,vr.getNumberValidator)());at.Factory.addGetterSetter(ze,"fillPatternScaleY",1,(0,vr.getNumberValidator)());at.Factory.addComponentsGetterSetter(ze,"fillLinearGradientStartPoint",["x","y"]);at.Factory.addComponentsGetterSetter(ze,"strokeLinearGradientStartPoint",["x","y"]);at.Factory.addGetterSetter(ze,"fillLinearGradientStartPointX",0);at.Factory.addGetterSetter(ze,"strokeLinearGradientStartPointX",0);at.Factory.addGetterSetter(ze,"fillLinearGradientStartPointY",0);at.Factory.addGetterSetter(ze,"strokeLinearGradientStartPointY",0);at.Factory.addComponentsGetterSetter(ze,"fillLinearGradientEndPoint",["x","y"]);at.Factory.addComponentsGetterSetter(ze,"strokeLinearGradientEndPoint",["x","y"]);at.Factory.addGetterSetter(ze,"fillLinearGradientEndPointX",0);at.Factory.addGetterSetter(ze,"strokeLinearGradientEndPointX",0);at.Factory.addGetterSetter(ze,"fillLinearGradientEndPointY",0);at.Factory.addGetterSetter(ze,"strokeLinearGradientEndPointY",0);at.Factory.addComponentsGetterSetter(ze,"fillRadialGradientStartPoint",["x","y"]);at.Factory.addGetterSetter(ze,"fillRadialGradientStartPointX",0);at.Factory.addGetterSetter(ze,"fillRadialGradientStartPointY",0);at.Factory.addComponentsGetterSetter(ze,"fillRadialGradientEndPoint",["x","y"]);at.Factory.addGetterSetter(ze,"fillRadialGradientEndPointX",0);at.Factory.addGetterSetter(ze,"fillRadialGradientEndPointY",0);at.Factory.addGetterSetter(ze,"fillPatternRotation",0);at.Factory.addGetterSetter(ze,"fillRule",void 0,(0,vr.getStringValidator)());at.Factory.backCompat(ze,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})});var LS=tt(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.Layer=void 0;var Ua=qn(),kS=Jp(),uh=Qn(),RS=Kt(),jI=Yp(),r$=Zt(),i$=Dr(),o$=Wt(),s$="#",a$="beforeDraw",l$="draw",BI=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],c$=BI.length,zl=class extends kS.Container{constructor(e){super(e),this.canvas=new jI.SceneCanvas,this.hitCanvas=new jI.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);let t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){uh.Node.prototype.moveToTop.call(this);let e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!uh.Node.prototype.moveUp.call(this))return!1;let t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(uh.Node.prototype.moveDown.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(uh.Node.prototype.moveToBottom.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){let e=this.getNativeCanvasElement();return uh.Node.prototype.remove.call(this),e&&e.parentNode&&Ua.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&Ua.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),uh.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Ua.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Ua.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Ua.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,r=!1;for(;;){for(let i=0;i<c$;i++){let o=BI[i],s=this._getIntersection({x:e.x+o.x*t,y:e.y+o.y*t}),a=s.shape;if(a)return a;if(r=!!s.antialiased,!s.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){let t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=r[3];if(i===255){let o=Ua.Util._rgbToHex(r[0],r[1],r[2]),s=i$.shapes[s$+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas();return this._fire(a$,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),kS.Container.prototype.drawScene.call(this,o,t,r),this._fire(l$,{node:this}),this}drawHit(e,t){let r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),kS.Container.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Ua.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Ua.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;let e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Ua.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Ay.Layer=zl;zl.prototype.nodeType="Layer";(0,o$._registerNode)(zl);RS.Factory.addGetterSetter(zl,"imageSmoothingEnabled",!0);RS.Factory.addGetterSetter(zl,"clearBeforeDraw",!0);RS.Factory.addGetterSetter(zl,"hitGraphEnabled",!0,(0,r$.getBooleanValidator)())});var UI=tt(Iy=>{"use strict";Object.defineProperty(Iy,"__esModule",{value:!0});Iy.FastLayer=void 0;var u$=qn(),d$=LS(),h$=Wt(),sg=class extends d$.Layer{constructor(e){super(e),this.listening(!1),u$.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};Iy.FastLayer=sg;sg.prototype.nodeType="FastLayer";(0,h$._registerNode)(sg)});var Ny=tt(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});Ty.Group=void 0;var f$=qn(),p$=Jp(),g$=Wt(),ag=class extends p$.Container{_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&f$.Util.throw("You may only add groups and shapes to groups.")}};Ty.Group=ag;ag.prototype.nodeType="Group";(0,g$._registerNode)(ag)});var Ry=tt(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});ky.Animation=void 0;var FS=Wt(),VI=qn(),jS=function(){return FS.glob.performance&&FS.glob.performance.now?function(){return FS.glob.performance.now()}:function(){return new Date().getTime()}}(),dh=class n{constructor(e,t){this.id=n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:jS(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){let t=this.layers,r=t.length;for(let i=0;i<r;i++)if(t[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){let t=n.animations,r=t.length;for(let i=0;i<r;i++)if(t[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=jS(),n._addAnimation(this),this}stop(){return n._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){let t=e.id,r=this.animations,i=r.length;for(let o=0;o<i;o++)if(r[o].id===t){this.animations.splice(o,1);break}}static _runFrames(){let e={},t=this.animations;for(let r=0;r<t.length;r++){let i=t[r],o=i.layers,s=i.func;i._updateFrameObject(jS());let a=o.length,l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){let d=o[c];d._id!==void 0&&(e[d._id]=d)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){let e=n;e.animations.length?(e._runFrames(),VI.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,VI.Util.requestAnimFrame(this._animationLoop))}};ky.Animation=dh;dh.animations=[];dh.animIdCounter=0;dh.animRunning=!1});var $I=tt(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.Easings=zs.Tween=void 0;var Va=qn(),m$=Ry(),v$=Qn(),y$=Wt(),_$={node:1,duration:1,easing:1,onFinish:1,yoyo:1},b$=1,zI=2,HI=3,qI=["fill","stroke","shadowColor"],w$=0,BS=class{constructor(e,t,r,i,o,s,a){this.prop=e,this.propFunc=t,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}fire(e){let t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=zI,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=HI,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){let e=this.getTimer()-this._startTime;this.state===zI?this.setTime(e):this.state===HI&&this.setTime(this.duration-e)}pause(){this.state=b$,this.fire("onPause")}getTimer(){return new Date().getTime()}},hh=class n{constructor(e){let t=this,r=e.node,i=r._id,o=e.easing||zs.Easings.Linear,s=!!e.yoyo,a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=w$++;let c=r.getLayer()||(r instanceof y$.Konva.Stage?r.getLayers():null);c||Va.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new m$.Animation(function(){t.tween.onEnterFrame()},c),this.tween=new BS(l,function(d){t._tweenFunc(d)},o,0,1,a*1e3,s),this._addListeners(),n.attrs[i]||(n.attrs[i]={}),n.attrs[i][this._id]||(n.attrs[i][this._id]={}),n.tweens[i]||(n.tweens[i]={});for(l in e)_$[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){let r=this.node,i=r._id,o,s,a,l,c,d=n.tweens[i][e];d&&delete n.attrs[i][d][e];let h=r.getAttr(e);if(Va.Util._isArray(t))if(o=[],s=Math.max(t.length,h.length),e==="points"&&t.length!==h.length&&(t.length>h.length?(l=h,h=Va.Util._prepareArrayForTween(h,t,r.closed())):(a=t,t=Va.Util._prepareArrayForTween(t,h,r.closed()))),e.indexOf("fill")===0)for(let g=0;g<s;g++)if(g%2===0)o.push(t[g]-h[g]);else{let f=Va.Util.colorToRGBA(h[g]);c=Va.Util.colorToRGBA(t[g]),h[g]=f,o.push({r:c.r-f.r,g:c.g-f.g,b:c.b-f.b,a:c.a-f.a})}else for(let g=0;g<s;g++)o.push(t[g]-h[g]);else qI.indexOf(e)!==-1?(h=Va.Util.colorToRGBA(h),c=Va.Util.colorToRGBA(t),o={r:c.r-h.r,g:c.g-h.g,b:c.b-h.b,a:c.a-h.a}):o=t-h;n.attrs[i][this._id][e]={start:h,diff:o,end:t,trueEnd:a,trueStart:l},n.tweens[i][e]=this._id}_tweenFunc(e){let t=this.node,r=n.attrs[t._id][this._id],i,o,s,a,l,c,d,h;for(i in r){if(o=r[i],s=o.start,a=o.diff,h=o.end,Va.Util._isArray(s))if(l=[],d=Math.max(s.length,h.length),i.indexOf("fill")===0)for(c=0;c<d;c++)c%2===0?l.push((s[c]||0)+a[c]*e):l.push("rgba("+Math.round(s[c].r+a[c].r*e)+","+Math.round(s[c].g+a[c].g*e)+","+Math.round(s[c].b+a[c].b*e)+","+(s[c].a+a[c].a*e)+")");else for(c=0;c<d;c++)l.push((s[c]||0)+a[c]*e);else qI.indexOf(i)!==-1?l="rgba("+Math.round(s.r+a.r*e)+","+Math.round(s.g+a.g*e)+","+Math.round(s.b+a.b*e)+","+(s.a+a.a*e)+")":l=s+a*e;t.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let e=this.node._id,t=this._id,r=n.tweens[e];this.pause(),this.anim&&this.anim.stop();for(let i in r)delete n.tweens[e][i];delete n.attrs[e][t],n.tweens[e]&&(Object.keys(n.tweens[e]).length===0&&delete n.tweens[e],Object.keys(n.attrs[e]).length===0&&delete n.attrs[e])}};zs.Tween=hh;hh.attrs={};hh.tweens={};v$.Node.prototype.to=function(n){let e=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),e&&e()},new hh(n).play()};zs.Easings={BackEaseIn(n,e,t,r){return t*(n/=r)*n*((1.70158+1)*n-1.70158)+e},BackEaseOut(n,e,t,r){return t*((n=n/r-1)*n*((1.70158+1)*n+1.70158)+1)+e},BackEaseInOut(n,e,t,r){let i=1.70158;return(n/=r/2)<1?t/2*(n*n*(((i*=1.525)+1)*n-i))+e:t/2*((n-=2)*n*(((i*=1.525)+1)*n+i)+2)+e},ElasticEaseIn(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),-(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e)},ElasticEaseOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),i*Math.pow(2,-10*n)*Math.sin((n*r-s)*(2*Math.PI)/o)+t+e)},ElasticEaseInOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r/2)===2?e+t:(o||(o=r*(.3*1.5)),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),n<1?-.5*(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o)*.5+t+e)},BounceEaseOut(n,e,t,r){return(n/=r)<1/2.75?t*(7.5625*n*n)+e:n<2/2.75?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},BounceEaseIn(n,e,t,r){return t-zs.Easings.BounceEaseOut(r-n,0,t,r)+e},BounceEaseInOut(n,e,t,r){return n<r/2?zs.Easings.BounceEaseIn(n*2,0,t,r)*.5+e:zs.Easings.BounceEaseOut(n*2-r,0,t,r)*.5+t*.5+e},EaseIn(n,e,t,r){return t*(n/=r)*n+e},EaseOut(n,e,t,r){return-t*(n/=r)*(n-2)+e},EaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},StrongEaseIn(n,e,t,r){return t*(n/=r)*n*n*n*n+e},StrongEaseOut(n,e,t,r){return t*((n=n/r-1)*n*n*n*n+1)+e},StrongEaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},Linear(n,e,t,r){return t*n/r+e}}});var KI=tt(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.Konva=void 0;var C$=Wt(),US=qn(),E$=Qn(),S$=Jp(),GI=II(),x$=LS(),M$=UI(),P$=Ny(),D$=_y(),WI=Dr(),O$=Ry(),YI=$I(),A$=_S(),I$=Yp();fh.Konva=US.Util._assign(C$.Konva,{Util:US.Util,Transform:US.Transform,Node:E$.Node,Container:S$.Container,Stage:GI.Stage,stages:GI.stages,Layer:x$.Layer,FastLayer:M$.FastLayer,Group:P$.Group,DD:D$.DD,Shape:WI.Shape,shapes:WI.shapes,Animation:O$.Animation,Tween:YI.Tween,Easings:YI.Easings,Context:A$.Context,Canvas:I$.Canvas});fh.default=fh.Konva});var ZI=tt(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0});jy.Arc=void 0;var Ly=Kt(),T$=Dr(),XI=Wt(),Fy=Zt(),N$=Wt(),ts=class extends T$.Shape{_sceneFunc(e){let t=XI.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),i=XI.Konva.getAngle(r?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=o*(o>0?e:t),d=s*(s>0?t:e),h=a*(a>0?e:t),g=l*(l>0?t:e);return{x:c,y:r?-1*g:h,width:d-c,height:g-h}}};jy.Arc=ts;ts.prototype._centroid=!0;ts.prototype.className="Arc";ts.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,N$._registerNode)(ts);Ly.Factory.addGetterSetter(ts,"innerRadius",0,(0,Fy.getNumberValidator)());Ly.Factory.addGetterSetter(ts,"outerRadius",0,(0,Fy.getNumberValidator)());Ly.Factory.addGetterSetter(ts,"angle",0,(0,Fy.getNumberValidator)());Ly.Factory.addGetterSetter(ts,"clockwise",!1,(0,Fy.getBooleanValidator)())});var zS=tt(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});Uy.Line=void 0;var By=Kt(),k$=Wt(),R$=Dr(),JI=Zt();function VS(n,e,t,r,i,o,s){let a=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-t,2)+Math.pow(o-r,2)),c=s*a/(a+l),d=s*l/(a+l),h=t-c*(i-n),g=r-c*(o-e),f=t+d*(i-n),y=r+d*(o-e);return[h,g,f,y]}function QI(n,e){let t=n.length,r=[];for(let i=2;i<t-2;i+=2){let o=VS(n[i-2],n[i-1],n[i],n[i+1],n[i+2],n[i+3],e);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(n[i]),r.push(n[i+1]),r.push(o[2]),r.push(o[3]))}return r}var Hs=class extends R$.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let t=this.points(),r=t.length,i=this.tension(),o=this.closed(),s=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(t[0],t[1]),i!==0&&r>4){let l=this.getTensionPoints(),c=l.length;for(a=o?0:4,o||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);o||e.quadraticCurveTo(l[c-2],l[c-1],t[r-2],t[r-1])}else if(s)for(a=2;a<r;)e.bezierCurveTo(t[a++],t[a++],t[a++],t[a++],t[a++],t[a++]);else for(a=2;a<r;a+=2)e.lineTo(t[a],t[a+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():QI(this.points(),this.tension())}_getTensionPointsClosed(){let e=this.points(),t=e.length,r=this.tension(),i=VS(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),o=VS(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),s=QI(e,r);return[i[2],i[3]].concat(s).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);return{x:t,y:i,width:r-t,height:o-i}}};Uy.Line=Hs;Hs.prototype.className="Line";Hs.prototype._attrsAffectingSize=["points","bezier","tension"];(0,k$._registerNode)(Hs);By.Factory.addGetterSetter(Hs,"closed",!1);By.Factory.addGetterSetter(Hs,"bezier",!1);By.Factory.addGetterSetter(Hs,"tension",0,(0,JI.getNumberValidator)());By.Factory.addGetterSetter(Hs,"points",[],(0,JI.getNumberArrayValidator)())});var eT=tt($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.t2length=$r.getQuadraticArcLength=$r.getCubicArcLength=$r.binomialCoefficients=$r.cValues=$r.tValues=void 0;$r.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];$r.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];$r.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];var L$=(n,e,t)=>{let r,i,s=t/2;r=0;for(let a=0;a<20;a++)i=s*$r.tValues[20][a]+s,r+=$r.cValues[20][a]*j$(n,e,i);return s*r};$r.getCubicArcLength=L$;var F$=(n,e,t)=>{t===void 0&&(t=1);let r=n[0]-2*n[1]+n[2],i=e[0]-2*e[1]+e[2],o=2*n[1]-2*n[0],s=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*o+i*s),c=o*o+s*s;if(a===0)return t*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(e[2]-e[0],2));let d=l/(2*a),h=c/a,g=t+d,f=h-d*d,y=g*g+f>0?Math.sqrt(g*g+f):0,_=d*d+f>0?Math.sqrt(d*d+f):0,C=d+Math.sqrt(d*d+f)!==0?f*Math.log(Math.abs((g+y)/(d+_))):0;return Math.sqrt(a)/2*(g*y-d*_+C)};$r.getQuadraticArcLength=F$;function j$(n,e,t){let r=HS(1,t,n),i=HS(1,t,e),o=r*r+i*i;return Math.sqrt(o)}var HS=(n,e,t)=>{let r=t.length-1,i,o;if(r===0)return 0;if(n===0){o=0;for(let s=0;s<=r;s++)o+=$r.binomialCoefficients[r][s]*Math.pow(1-e,r-s)*Math.pow(e,s)*t[s];return o}else{i=new Array(r);for(let s=0;s<r;s++)i[s]=r*(t[s+1]-t[s]);return HS(n-1,e,i)}},B$=(n,e,t)=>{let r=1,i=n/e,o=(n-t(i))/e,s=0;for(;r>.001;){let a=t(i+o),l=Math.abs(n-a)/e;if(l<r)r=l,i+=o;else{let c=t(i-o),d=Math.abs(n-c)/e;d<r?(r=d,i-=o):o/=2}if(s++,s>500)break}return i};$r.t2length=B$});var zy=tt(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0});Vy.Path=void 0;var U$=Kt(),V$=Wt(),z$=Dr(),ph=eT(),Jc=class n extends z$.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=n.parsePathData(this.data()),this.pathLength=n.getPathLength(this.dataArray)}_sceneFunc(e){let t=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<t.length;i++){let o=t[i].command,s=t[i].points;switch(o){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":let a=s[0],l=s[1],c=s[2],d=s[3],h=s[4],g=s[5],f=s[6],y=s[7],_=c>d?c:d,C=c>d?1:c/d,w=c>d?d/c:1;e.translate(a,l),e.rotate(f),e.scale(C,w),e.arc(0,0,_,h,h+g,1-y),e.scale(1/C,1/w),e.rotate(-f),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){let c=l.points[4],d=l.points[5],h=l.points[4]+d,g=Math.PI/180;if(Math.abs(c-h)<g&&(g=Math.abs(c-h)),d<0)for(let f=c-g;f>h;f-=g){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(y.x,y.y)}else for(let f=c+g;f<h;f+=g){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(y.x,y.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){let d=n.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],isNaN(s)||(t=Math.min(t,s),r=Math.max(r,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:t,y:i,width:r-t,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return n.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}static getPathLength(e){let t=0;for(let r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let r,i=0,o=t.length;if(!o)return null;for(;i<o&&e>t[i].pathLength;)e-=t[i].pathLength,++i;if(i===o)return r=t[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return t[i].command==="M"?(r=t[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:t[i].start.x,y:t[i].start.y};let s=t[i],a=s.points;switch(s.command){case"L":return n.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return n.getPointOnCubicBezier((0,ph.t2length)(e,n.getPathLength(t),_=>(0,ph.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return n.getPointOnQuadraticBezier((0,ph.t2length)(e,n.getPathLength(t),_=>(0,ph.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":let l=a[0],c=a[1],d=a[2],h=a[3],g=a[5],f=a[6],y=a[4];return y+=g*e/s.pathLength,n.getPointOnEllipticalArc(l,c,d,h,y,f)}return null}static getPointOnLine(e,t,r,i,o,s,a){s=s??t,a=a??r;let l=this.getLineLength(t,r,i,o);if(l<1e-10)return{x:t,y:r};if(i===t)return{x:s,y:a+(o>r?e:-e)};let c=(o-r)/(i-t),d=Math.sqrt(e*e/(1+c*c))*(i<t?-1:1),h=c*d;if(Math.abs(a-r-c*(s-t))<1e-10)return{x:s+d,y:a+h};let g=((s-t)*(i-t)+(a-r)*(o-r))/(l*l),f=t+g*(i-t),y=r+g*(o-r),_=this.getLineLength(s,a,f,y),C=Math.sqrt(e*e-_*_),w=Math.sqrt(C*C/(1+c*c))*(i<t?-1:1),E=c*w;return{x:f+w,y:y+E}}static getPointOnCubicBezier(e,t,r,i,o,s,a,l,c){function d(C){return C*C*C}function h(C){return 3*C*C*(1-C)}function g(C){return 3*C*(1-C)*(1-C)}function f(C){return(1-C)*(1-C)*(1-C)}let y=l*d(e)+s*h(e)+i*g(e)+t*f(e),_=c*d(e)+a*h(e)+o*g(e)+r*f(e);return{x:y,y:_}}static getPointOnQuadraticBezier(e,t,r,i,o,s,a){function l(f){return f*f}function c(f){return 2*f*(1-f)}function d(f){return(1-f)*(1-f)}let h=s*l(e)+i*c(e)+t*d(e),g=a*l(e)+o*c(e)+r*d(e);return{x:h,y:g}}static getPointOnEllipticalArc(e,t,r,i,o,s){let a=Math.cos(s),l=Math.sin(s),c={x:r*Math.cos(o),y:i*Math.sin(o)};return{x:e+(c.x*a-c.y*l),y:t+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let h=0;h<r.length;h++)t=t.replace(new RegExp(r[h],"g"),"|"+r[h]);let i=t.split("|"),o=[],s=[],a=0,l=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,d;for(let h=1;h<i.length;h++){let g=i[h],f=g.charAt(0);for(g=g.slice(1),s.length=0;d=c.exec(g);)s.push(d[0]);let y=[];for(let _=0,C=s.length;_<C;_++){if(s[_]==="00"){y.push(0,0);continue}let w=parseFloat(s[_]);isNaN(w)?y.push(0):y.push(w)}for(;y.length>0&&!isNaN(y[0]);){let _="",C=[],w=a,E=l,O,N,q,X,z,B,le,he,k,I;switch(f){case"l":a+=y.shift(),l+=y.shift(),_="L",C.push(a,l);break;case"L":a=y.shift(),l=y.shift(),C.push(a,l);break;case"m":let W=y.shift(),G=y.shift();if(a+=W,l+=G,_="M",o.length>2&&o[o.length-1].command==="z"){for(let _e=o.length-2;_e>=0;_e--)if(o[_e].command==="M"){a=o[_e].points[0]+W,l=o[_e].points[1]+G;break}}C.push(a,l),f="l";break;case"M":a=y.shift(),l=y.shift(),_="M",C.push(a,l),f="L";break;case"h":a+=y.shift(),_="L",C.push(a,l);break;case"H":a=y.shift(),_="L",C.push(a,l);break;case"v":l+=y.shift(),_="L",C.push(a,l);break;case"V":l=y.shift(),_="L",C.push(a,l);break;case"C":C.push(y.shift(),y.shift(),y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"c":C.push(a+y.shift(),l+y.shift(),a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"S":N=a,q=l,O=o[o.length-1],O.command==="C"&&(N=a+(a-O.points[2]),q=l+(l-O.points[3])),C.push(N,q,y.shift(),y.shift()),a=y.shift(),l=y.shift(),_="C",C.push(a,l);break;case"s":N=a,q=l,O=o[o.length-1],O.command==="C"&&(N=a+(a-O.points[2]),q=l+(l-O.points[3])),C.push(N,q,a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"Q":C.push(y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"q":C.push(a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="Q",C.push(a,l);break;case"T":N=a,q=l,O=o[o.length-1],O.command==="Q"&&(N=a+(a-O.points[0]),q=l+(l-O.points[1])),a=y.shift(),l=y.shift(),_="Q",C.push(N,q,a,l);break;case"t":N=a,q=l,O=o[o.length-1],O.command==="Q"&&(N=a+(a-O.points[0]),q=l+(l-O.points[1])),a+=y.shift(),l+=y.shift(),_="Q",C.push(N,q,a,l);break;case"A":X=y.shift(),z=y.shift(),B=y.shift(),le=y.shift(),he=y.shift(),k=a,I=l,a=y.shift(),l=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(k,I,a,l,le,he,X,z,B);break;case"a":X=y.shift(),z=y.shift(),B=y.shift(),le=y.shift(),he=y.shift(),k=a,I=l,a+=y.shift(),l+=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(k,I,a,l,le,he,X,z,B);break}o.push({command:_||f,points:C,start:{x:w,y:E},pathLength:this.calcLength(w,E,_||f,C)})}(f==="z"||f==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,r,i){let o,s,a,l,c=n;switch(r){case"L":return c.getLineLength(e,t,i[0],i[1]);case"C":return(0,ph.getCubicArcLength)([e,i[0],i[2],i[4]],[t,i[1],i[3],i[5]],1);case"Q":return(0,ph.getQuadraticArcLength)([e,i[0],i[2]],[t,i[1],i[3]],1);case"A":o=0;let d=i[4],h=i[5],g=i[4]+h,f=Math.PI/180;if(Math.abs(d-g)<f&&(f=Math.abs(d-g)),s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),h<0)for(l=d-f;l>g;l-=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(l=d+f;l<g;l+=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,t,r,i,o,s,a,l,c){let d=c*(Math.PI/180),h=Math.cos(d)*(e-r)/2+Math.sin(d)*(t-i)/2,g=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(t-i)/2,f=h*h/(a*a)+g*g/(l*l);f>1&&(a*=Math.sqrt(f),l*=Math.sqrt(f));let y=Math.sqrt((a*a*(l*l)-a*a*(g*g)-l*l*(h*h))/(a*a*(g*g)+l*l*(h*h)));o===s&&(y*=-1),isNaN(y)&&(y=0);let _=y*a*g/l,C=y*-l*h/a,w=(e+r)/2+Math.cos(d)*_-Math.sin(d)*C,E=(t+i)/2+Math.sin(d)*_+Math.cos(d)*C,O=function(he){return Math.sqrt(he[0]*he[0]+he[1]*he[1])},N=function(he,k){return(he[0]*k[0]+he[1]*k[1])/(O(he)*O(k))},q=function(he,k){return(he[0]*k[1]<he[1]*k[0]?-1:1)*Math.acos(N(he,k))},X=q([1,0],[(h-_)/a,(g-C)/l]),z=[(h-_)/a,(g-C)/l],B=[(-1*h-_)/a,(-1*g-C)/l],le=q(z,B);return N(z,B)<=-1&&(le=Math.PI),N(z,B)>=1&&(le=0),s===0&&le>0&&(le=le-2*Math.PI),s===1&&le<0&&(le=le+2*Math.PI),[w,E,a,l,X,le,d,s]}};Vy.Path=Jc;Jc.prototype.className="Path";Jc.prototype._attrsAffectingSize=["data"];(0,V$._registerNode)(Jc);U$.Factory.addGetterSetter(Jc,"data")});var rT=tt(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0});qy.Arrow=void 0;var Hy=Kt(),H$=zS(),nT=Zt(),q$=Wt(),tT=zy(),za=class extends H$.Line{_sceneFunc(e){super._sceneFunc(e);let t=Math.PI*2,r=this.points(),i=r,o=this.tension()!==0&&r.length>4;o&&(i=this.getTensionPoints());let s=this.pointerLength(),a=r.length,l,c;if(o){let g=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],f=tT.Path.calcLength(i[i.length-4],i[i.length-3],"C",g),y=tT.Path.getPointOnQuadraticBezier(Math.min(1,1-s/f),g[0],g[1],g[2],g[3],g[4],g[5]);l=r[a-2]-y.x,c=r[a-1]-y.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];let d=(Math.atan2(c,l)+t)%t,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+t)%t),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){let t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+t*2}}};qy.Arrow=za;za.prototype.className="Arrow";(0,q$._registerNode)(za);Hy.Factory.addGetterSetter(za,"pointerLength",10,(0,nT.getNumberValidator)());Hy.Factory.addGetterSetter(za,"pointerWidth",10,(0,nT.getNumberValidator)());Hy.Factory.addGetterSetter(za,"pointerAtBeginning",!1);Hy.Factory.addGetterSetter(za,"pointerAtEnding",!0)});var iT=tt($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});$y.Circle=void 0;var $$=Kt(),G$=Dr(),W$=Zt(),Y$=Wt(),Hl=class extends G$.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};$y.Circle=Hl;Hl.prototype._centroid=!0;Hl.prototype.className="Circle";Hl.prototype._attrsAffectingSize=["radius"];(0,Y$._registerNode)(Hl);$$.Factory.addGetterSetter(Hl,"radius",0,(0,W$.getNumberValidator)())});var sT=tt(Gy=>{"use strict";Object.defineProperty(Gy,"__esModule",{value:!0});Gy.Ellipse=void 0;var qS=Kt(),K$=Dr(),oT=Zt(),X$=Wt(),qs=class extends K$.Shape{_sceneFunc(e){let t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};Gy.Ellipse=qs;qs.prototype.className="Ellipse";qs.prototype._centroid=!0;qs.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,X$._registerNode)(qs);qS.Factory.addComponentsGetterSetter(qs,"radius",["x","y"]);qS.Factory.addGetterSetter(qs,"radiusX",0,(0,oT.getNumberValidator)());qS.Factory.addGetterSetter(qs,"radiusY",0,(0,oT.getNumberValidator)())});var aT=tt(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});Wy.Image=void 0;var $S=qn(),eu=Kt(),Z$=Dr(),Q$=Wt(),lg=Zt(),wo=class n extends Z$.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",t=>{this._removeImageLoad(t.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){let e=!!this.cornerRadius(),t=this.hasShadow();return e&&t?!0:super._useBufferCanvas(!0)}_sceneFunc(e){let t=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image,s;if(o){let a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?s=[o,this.cropX(),this.cropY(),a,l,0,0,t,r]:s=[o,0,0,t,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?$S.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){let t=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?$S.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){let i=$S.Util.createImageElement();i.onload=function(){let o=new n({image:i});t(o)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};Wy.Image=wo;wo.prototype.className="Image";(0,Q$._registerNode)(wo);eu.Factory.addGetterSetter(wo,"cornerRadius",0,(0,lg.getNumberOrArrayOfNumbersValidator)(4));eu.Factory.addGetterSetter(wo,"image");eu.Factory.addComponentsGetterSetter(wo,"crop",["x","y","width","height"]);eu.Factory.addGetterSetter(wo,"cropX",0,(0,lg.getNumberValidator)());eu.Factory.addGetterSetter(wo,"cropY",0,(0,lg.getNumberValidator)());eu.Factory.addGetterSetter(wo,"cropWidth",0,(0,lg.getNumberValidator)());eu.Factory.addGetterSetter(wo,"cropHeight",0,(0,lg.getNumberValidator)())});var uT=tt(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.Tag=gh.Label=void 0;var Yy=Kt(),J$=Dr(),eG=Ny(),XS=Zt(),lT=Wt(),cT=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],tG="Change.konva",nG="none",GS="up",WS="right",YS="down",KS="left",rG=cT.length,cg=class extends eG.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t=this,r,i=function(){t._sync()};for(r=0;r<rG;r++)e.on(cT[r]+tG,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),t=this.getTag(),r,i,o,s,a,l,c;if(e&&t){switch(r=e.width(),i=e.height(),o=t.pointerDirection(),s=t.pointerWidth(),c=t.pointerHeight(),a=0,l=0,o){case GS:a=r/2,l=-1*c;break;case WS:a=r+s,l=i/2;break;case YS:a=r/2,l=i+c;break;case KS:a=-1*s,l=i/2;break}t.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}};gh.Label=cg;cg.prototype.className="Label";(0,lT._registerNode)(cg);var Ha=class extends J$.Shape{_sceneFunc(e){let t=this.width(),r=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius(),l=0,c=0,d=0,h=0;typeof a=="number"?l=c=d=h=Math.min(a,t/2,r/2):(l=Math.min(a[0]||0,t/2,r/2),c=Math.min(a[1]||0,t/2,r/2),h=Math.min(a[2]||0,t/2,r/2),d=Math.min(a[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(l,0),i===GS&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*s),e.lineTo((t+o)/2,0)),e.lineTo(t-c,0),e.arc(t-c,c,c,Math.PI*3/2,0,!1),i===WS&&(e.lineTo(t,(r-s)/2),e.lineTo(t+o,r/2),e.lineTo(t,(r+s)/2)),e.lineTo(t,r-h),e.arc(t-h,r-h,h,0,Math.PI/2,!1),i===YS&&(e.lineTo((t+o)/2,r),e.lineTo(t/2,r+s),e.lineTo((t-o)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),i===KS&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*o,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,r=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===GS?(t-=i,a+=i):o===YS?a+=i:o===KS?(e-=r*1.5,s+=r):o===WS&&(s+=r*1.5),{x:e,y:t,width:s,height:a}}};gh.Tag=Ha;Ha.prototype.className="Tag";(0,lT._registerNode)(Ha);Yy.Factory.addGetterSetter(Ha,"pointerDirection",nG);Yy.Factory.addGetterSetter(Ha,"pointerWidth",0,(0,XS.getNumberValidator)());Yy.Factory.addGetterSetter(Ha,"pointerHeight",0,(0,XS.getNumberValidator)());Yy.Factory.addGetterSetter(Ha,"cornerRadius",0,(0,XS.getNumberOrArrayOfNumbersValidator)(4))});var ZS=tt(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});Ky.Rect=void 0;var iG=Kt(),oG=Dr(),sG=Wt(),aG=qn(),lG=Zt(),mh=class extends oG.Shape{_sceneFunc(e){let t=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),t?aG.Util.drawRoundedRectPath(e,r,i,t):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Ky.Rect=mh;mh.prototype.className="Rect";(0,sG._registerNode)(mh);iG.Factory.addGetterSetter(mh,"cornerRadius",0,(0,lG.getNumberOrArrayOfNumbersValidator)(4))});var fT=tt(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0});Xy.RegularPolygon=void 0;var dT=Kt(),cG=Dr(),hT=Zt(),uG=Wt(),qa=class extends cG.Shape{_sceneFunc(e){let t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:t*Math.sin(i*2*Math.PI/e),y:-1*t*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){let e=this._getPoints(),t=e[0].x,r=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{t=Math.min(t,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:t,y:i,width:r-t,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Xy.RegularPolygon=qa;qa.prototype.className="RegularPolygon";qa.prototype._centroid=!0;qa.prototype._attrsAffectingSize=["radius"];(0,uG._registerNode)(qa);dT.Factory.addGetterSetter(qa,"radius",0,(0,hT.getNumberValidator)());dT.Factory.addGetterSetter(qa,"sides",0,(0,hT.getNumberValidator)())});var vT=tt(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});Zy.Ring=void 0;var gT=Kt(),dG=Dr(),mT=Zt(),hG=Wt(),pT=Math.PI*2,$a=class extends dG.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,pT,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),pT,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Zy.Ring=$a;$a.prototype.className="Ring";$a.prototype._centroid=!0;$a.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,hG._registerNode)($a);gT.Factory.addGetterSetter($a,"innerRadius",0,(0,mT.getNumberValidator)());gT.Factory.addGetterSetter($a,"outerRadius",0,(0,mT.getNumberValidator)())});var _T=tt(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.Sprite=void 0;var tu=Kt(),fG=Dr(),pG=Ry(),yT=Zt(),gG=Wt(),Co=class extends fG.Shape{constructor(e){super(e),this._updated=!0,this.anim=new pG.Animation(()=>{let t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+0],l=o[i+1],c=o[i+2],d=o[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,d),e.closePath(),e.fillStrokeShape(this)),h)if(s){let g=s[t],f=r*2;e.drawImage(h,a,l,c,d,g[f+0],g[f+1],c,d)}else e.drawImage(h,a,l,c,d,0,0,c,d)}_hitFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+2],l=o[i+3];if(e.beginPath(),s){let c=s[t],d=r*2;e.rect(c[d+0],c[d+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){let e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;let e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){let e=this.frameIndex(),t=this.animation(),r=this.animations(),i=r[t],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}};Qy.Sprite=Co;Co.prototype.className="Sprite";(0,gG._registerNode)(Co);tu.Factory.addGetterSetter(Co,"animation");tu.Factory.addGetterSetter(Co,"animations");tu.Factory.addGetterSetter(Co,"frameOffsets");tu.Factory.addGetterSetter(Co,"image");tu.Factory.addGetterSetter(Co,"frameIndex",0,(0,yT.getNumberValidator)());tu.Factory.addGetterSetter(Co,"frameRate",17,(0,yT.getNumberValidator)());tu.Factory.backCompat(Co,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})});var bT=tt(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.Star=void 0;var QS=Kt(),mG=Dr(),JS=Zt(),vG=Wt(),$s=class extends mG.Shape{_sceneFunc(e){let t=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let o=1;o<i*2;o++){let s=o%2===0?r:t,a=s*Math.sin(o*Math.PI/i),l=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Jy.Star=$s;$s.prototype.className="Star";$s.prototype._centroid=!0;$s.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,vG._registerNode)($s);QS.Factory.addGetterSetter($s,"numPoints",5,(0,JS.getNumberValidator)());QS.Factory.addGetterSetter($s,"innerRadius",0,(0,JS.getNumberValidator)());QS.Factory.addGetterSetter($s,"outerRadius",0,(0,JS.getNumberValidator)())});var i3=tt(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.Text=void 0;dg.stringToArray=nu;var r3=qn(),Qr=Kt(),yG=Dr(),e3=Wt(),ql=Zt(),_G=Wt();function nu(n){return[...n].reduce((e,t,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(t)){let o=i[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(t+o),i[r+1]=""):e.push(t)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(t+(i[r+1]||""))?e.push(t+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}var vh="auto",bG="center",xT="inherit",ug="justify",wG="Change.konva",CG="2d",wT="-",MT="left",EG="text",SG="Text",xG="top",MG="bottom",CT="middle",PT="normal",PG="px ",e2=" ",DG="right",ET="rtl",OG="word",AG="char",ST="none",t3="\u2026",DT=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],IG=DT.length;function TG(n){return n.split(",").map(e=>{e=e.trim();let t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}var t2;function n3(){return t2||(t2=r3.Util.createCanvasElement().getContext(CG),t2)}function NG(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function kG(n){n.setAttr("miterLimit",2),n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function RG(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}var zn=class extends yG.Shape{constructor(e){super(RG(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<IG;t++)this.on(DT[t]+wG,this._setTextData);this._setTextData()}_sceneFunc(e){let t=this.textArr,r=t.length;if(!this.text())return;let i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),l=this.direction(),c=0,d=this.align(),h=this.getWidth(),g=this.letterSpacing(),f=this.fill(),y=this.textDecoration(),_=y.indexOf("underline")!==-1,C=y.indexOf("line-through")!==-1,w;l=l===xT?e.direction:l;let E=s/2,O=CT;if(e3.Konva._fixTextRendering){let N=this.measureSize("M");O="alphabetic",E=(N.fontBoundingBoxAscent-N.fontBoundingBoxDescent)/2+s/2}for(l===ET&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",O),e.setAttr("textAlign",MT),a===CT?c=(this.getHeight()-r*s-i*2)/2:a===MG&&(c=this.getHeight()-r*s-i*2),e.translate(i,c+i),w=0;w<r;w++){let N=0,q=0,X=t[w],z=X.text,B=X.width,le=X.lastInParagraph;if(e.save(),d===DG?N+=h-B-i*2:d===bG&&(N+=(h-B-i*2)/2),_){e.save(),e.beginPath();let he=e3.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),k=N,I=E+q+he;e.moveTo(k,I);let W=d===ug&&!le?h-i*2:B;e.lineTo(k+Math.round(W),I),e.lineWidth=o/15;let G=this._getLinearGradient();e.strokeStyle=G||f,e.stroke(),e.restore()}if(C){e.save(),e.beginPath();let he=e3.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(N,E+q+he);let k=d===ug&&!le?h-i*2:B;e.lineTo(N+Math.round(k),E+q+he),e.lineWidth=o/15;let I=this._getLinearGradient();e.strokeStyle=I||f,e.stroke(),e.restore()}if(l!==ET&&(g!==0||d===ug)){let he=z.split(" ").length-1,k=nu(z);for(let I=0;I<k.length;I++){let W=k[I];W===" "&&!le&&d===ug&&(N+=(h-i*2-B)/he),this._partialTextX=N,this._partialTextY=E+q,this._partialText=W,e.fillStrokeShape(this),N+=this.measureSize(W).width+g}}else g!==0&&e.setAttr("letterSpacing",`${g}px`),this._partialTextX=N,this._partialTextY=E+q,this._partialText=z,e.fillStrokeShape(this);e.restore(),r>1&&(E+=s)}}_hitFunc(e){let t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){let t=r3.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(EG,t),this}getWidth(){return this.attrs.width===vh||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===vh||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return r3.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r,i,o,s,a,l,c,d,h,g;let f=n3(),y=this.fontSize(),_;f.save(),f.font=this._getContextFont(),_=f.measureText(e),f.restore();let C=y/100;return{actualBoundingBoxAscent:(t=_.actualBoundingBoxAscent)!==null&&t!==void 0?t:71.58203125*C,actualBoundingBoxDescent:(r=_.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=_.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*C,actualBoundingBoxRight:(o=_.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*C,alphabeticBaseline:(s=_.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(a=_.emHeightAscent)!==null&&a!==void 0?a:100*C,emHeightDescent:(l=_.emHeightDescent)!==null&&l!==void 0?l:-20*C,fontBoundingBoxAscent:(c=_.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*C,fontBoundingBoxDescent:(d=_.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*C,hangingBaseline:(h=_.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*C,ideographicBaseline:(g=_.ideographicBaseline)!==null&&g!==void 0?g:-21*C,width:_.width,height:y}}_getContextFont(){return this.fontStyle()+e2+this.fontVariant()+e2+(this.fontSize()+PG)+TG(this.fontFamily())}_addTextLine(e){this.align()===ug&&(e=e.trim());let r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){let t=this.letterSpacing(),r=e.length;return n3().measureText(e).width+t*r}_setTextData(){let e=this.text().split(`
`),t=+this.fontSize(),r=0,i=this.lineHeight()*t,o=this.attrs.width,s=this.attrs.height,a=o!==vh&&o!==void 0,l=s!==vh&&s!==void 0,c=this.padding(),d=o-c*2,h=s-c*2,g=0,f=this.wrap(),y=f!==ST,_=f!==AG&&y,C=this.ellipsis();this.textArr=[],n3().font=this._getContextFont();let w=C?this._getTextWidth(t3):0;for(let E=0,O=e.length;E<O;++E){let N=e[E],q=this._getTextWidth(N);if(a&&q>d)for(;N.length>0;){let X=0,z=nu(N).length,B="",le=0;for(;X<z;){let he=X+z>>>1,k=nu(N),I=k.slice(0,he+1).join(""),W=this._getTextWidth(I);(C&&l&&g+i>h?W+w:W)<=d?(X=he+1,B=I,le=W):z=he}if(B){if(_){let I=nu(N),W=nu(B),G=I[W.length],_e=G===e2||G===wT,Y;if(_e&&le<=d)Y=W.length;else{let ie=W.lastIndexOf(e2),H=W.lastIndexOf(wT);Y=Math.max(ie,H)+1}Y>0&&(X=Y,B=I.slice(0,X).join(""),le=this._getTextWidth(B))}if(B=B.trimRight(),this._addTextLine(B),r=Math.max(r,le),g+=i,this._shouldHandleEllipsis(g)){this._tryToAddEllipsisToLastLine();break}if(N=nu(N).slice(X).join("").trimLeft(),N.length>0&&(q=this._getTextWidth(N),q<=d)){this._addTextLine(N),g+=i,r=Math.max(r,q);break}}else break}else this._addTextLine(N),g+=i,r=Math.max(r,q),this._shouldHandleEllipsis(g)&&E<O-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&g+i>h)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){let t=+this.fontSize(),r=this.lineHeight()*t,i=this.attrs.height,o=i!==vh&&i!==void 0,s=this.padding(),a=i-s*2;return!(this.wrap()!==ST)||o&&e+r>a}_tryToAddEllipsisToLastLine(){let e=this.attrs.width,t=e!==vh&&e!==void 0,r=this.padding(),i=e-r*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!o||(t&&(this._getTextWidth(s.text+t3)<i||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+t3))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){let e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}};dg.Text=zn;zn.prototype._fillFunc=NG;zn.prototype._strokeFunc=kG;zn.prototype.className=SG;zn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,_G._registerNode)(zn);Qr.Factory.overWriteSetter(zn,"width",(0,ql.getNumberOrAutoValidator)());Qr.Factory.overWriteSetter(zn,"height",(0,ql.getNumberOrAutoValidator)());Qr.Factory.addGetterSetter(zn,"direction",xT);Qr.Factory.addGetterSetter(zn,"fontFamily","Arial");Qr.Factory.addGetterSetter(zn,"fontSize",12,(0,ql.getNumberValidator)());Qr.Factory.addGetterSetter(zn,"fontStyle",PT);Qr.Factory.addGetterSetter(zn,"fontVariant",PT);Qr.Factory.addGetterSetter(zn,"padding",0,(0,ql.getNumberValidator)());Qr.Factory.addGetterSetter(zn,"align",MT);Qr.Factory.addGetterSetter(zn,"verticalAlign",xG);Qr.Factory.addGetterSetter(zn,"lineHeight",1,(0,ql.getNumberValidator)());Qr.Factory.addGetterSetter(zn,"wrap",OG);Qr.Factory.addGetterSetter(zn,"ellipsis",!1,(0,ql.getBooleanValidator)());Qr.Factory.addGetterSetter(zn,"letterSpacing",0,(0,ql.getNumberValidator)());Qr.Factory.addGetterSetter(zn,"text","",(0,ql.getStringValidator)());Qr.Factory.addGetterSetter(zn,"textDecoration","")});var NT=tt(n2=>{"use strict";Object.defineProperty(n2,"__esModule",{value:!0});n2.TextPath=void 0;var o3=qn(),ns=Kt(),LG=Dr(),hg=zy(),s3=i3(),OT=Zt(),FG=Wt(),jG="",AT="normal";function IT(n){n.fillText(this.partialText,0,0)}function TT(n){n.strokeText(this.partialText,0,0)}var sr=class extends LG.Shape{constructor(e){super(e),this.dummyCanvas=o3.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return hg.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let t=this.pathLength;return e-1>t?null:hg.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=hg.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();let t=this.textDecoration(),r=this.fill(),i=this.fontSize(),o=this.glyphInfo;t==="underline"&&e.beginPath();for(let s=0;s<o.length;s++){e.save();let a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),t==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();let t=this.glyphInfo;if(t.length>=1){let r=t[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<t.length;r++){let i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return o3.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return s3.Text.prototype.setText.call(this,e)}_getContextFont(){return s3.Text.prototype._getContextFont.call(this)}_getTextSize(e){let r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();let i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;let r=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0),a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));let l=(0,s3.stringToArray)(this.text()),c=a;for(let d=0;d<l.length;d++){let h=this._getPointAtLength(c);if(!h)return;let g=this._getTextSize(l[d]).width+r;if(l[d]===" "&&i==="justify"){let E=this.text().split(" ").length-1;g+=(this.pathLength-s)/E}let f=this._getPointAtLength(c+g);if(!f)return;let y=hg.Path.getLineLength(h.x,h.y,f.x,f.y),_=0;if(o)try{_=o(l[d-1],l[d])*this.fontSize()}catch{_=0}h.x+=_,f.x+=_,this.textWidth+=_;let C=hg.Path.getPointOnLine(_+y/2,h.x,h.y,f.x,f.y),w=Math.atan2(f.y-h.y,f.x-h.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:l[d],rotation:w,p0:h,p1:f}),c+=g}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};let e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let t=e[0]||0,r=e[0]||0,i=e[1]||0,o=e[1]||0,s,a;for(let c=0;c<e.length/2;c++)s=e[c*2],a=e[c*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);let l=this.fontSize();return{x:t-l/2,y:i-l/2,width:r-t+l,height:o-i+l}}destroy(){return o3.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};n2.TextPath=sr;sr.prototype._fillFunc=IT;sr.prototype._strokeFunc=TT;sr.prototype._fillFuncHit=IT;sr.prototype._strokeFuncHit=TT;sr.prototype.className="TextPath";sr.prototype._attrsAffectingSize=["text","fontSize","data"];(0,FG._registerNode)(sr);ns.Factory.addGetterSetter(sr,"data");ns.Factory.addGetterSetter(sr,"fontFamily","Arial");ns.Factory.addGetterSetter(sr,"fontSize",12,(0,OT.getNumberValidator)());ns.Factory.addGetterSetter(sr,"fontStyle",AT);ns.Factory.addGetterSetter(sr,"align","left");ns.Factory.addGetterSetter(sr,"letterSpacing",0,(0,OT.getNumberValidator)());ns.Factory.addGetterSetter(sr,"textBaseline","middle");ns.Factory.addGetterSetter(sr,"fontVariant",AT);ns.Factory.addGetterSetter(sr,"text",jG);ns.Factory.addGetterSetter(sr,"textDecoration","");ns.Factory.addGetterSetter(sr,"kerningFunc",void 0)});var UT=tt(i2=>{"use strict";Object.defineProperty(i2,"__esModule",{value:!0});i2.Transformer=void 0;var Pn=qn(),gn=Kt(),kT=Qn(),BG=Dr(),UG=ZS(),RT=Ny(),rs=Wt(),$l=Zt(),VG=Wt(),jT="tr-konva",zG=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(n=>n+`.${jT}`).join(" "),LT="nodesRect",HG=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],qG={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},$G="ontouchstart"in rs.Konva._global;function GG(n,e,t){if(n==="rotater")return t;e+=Pn.Util.degToRad(qG[n]||0);let r=(Pn.Util.radToDeg(e)%360+360)%360;return Pn.Util._inRange(r,315+22.5,360)||Pn.Util._inRange(r,0,22.5)?"ns-resize":Pn.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":Pn.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":Pn.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":Pn.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":Pn.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":Pn.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":Pn.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Pn.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var r2=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],FT=1e8;function WG(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function BT(n,e,t){let r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),i=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return Et(Ae({},n),{rotation:n.rotation+e,x:r,y:i})}function YG(n,e){let t=WG(n);return BT(n,e,t)}function KG(n,e,t){let r=e;for(let i=0;i<n.length;i++){let o=rs.Konva.getAngle(n[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<t&&(r=o)}return r}var a3=0,Qt=class extends RT.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(zG,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Pn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return jT+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let t=e.filter(i=>i.isAncestorOf(this)?(Pn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{let o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){let s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o)}i.on(HG.map(s=>s+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;let i=e.getAbsolutePosition(),o=i.x-t.x,s=i.y-t.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;let l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+o,y:l.y+s}),a.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(LT),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(LT,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){let i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),a=i.x*o.x-e.offsetX()*o.x,l=i.y*o.y-e.offsetY()*o.y,c=(rs.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+a*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*o.x,height:i.height*o.y,rotation:c};return BT(d,-rs.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-FT,y:-FT,width:0,height:0,rotation:0};let t=[];this.nodes().map(c=>{let d=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],g=c.getAbsoluteTransform();h.forEach(function(f){let y=g.point(f);t.push(y)})});let r=new Pn.Transform;r.rotate(-rs.Konva.getAngle(this.rotation()));let i=1/0,o=1/0,s=-1/0,a=-1/0;t.forEach(function(c){let d=r.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),r.invert();let l=r.point({x:i,y:o});return{x:l.x,y:l.y,width:s-i,height:a-o,rotation:rs.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),r2.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){let t=new UG.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:$G?10:"auto"}),r=this;t.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),t.on("dragstart",i=>{t.stopDrag(),i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),t.on("mouseenter",()=>{let i=rs.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=GG(e,i,o);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){let e=new BG.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,r){let i=r.getParent(),o=i.padding();t.beginPath(),t.rect(-o,-o,r.width()+o*2,r.height()+o*2),t.moveTo(r.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&t.lineTo(r.width()/2,-i.rotateAnchorOffset()*Pn.Util._sign(r.height())-o),t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(!this.shouldOverdrawWholeArea())return;let i=this.padding();t.beginPath(),t.rect(-i,-i,r.width()+i*2,r.height()+i*2),t.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];let t=this._getNodeRect(),r=t.width,i=t.height,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(r/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;let s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},a3++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let t,r,i,o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);let a=s.getPointerPosition(),l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),o.setAbsolutePosition(l);let d=o.getAbsolutePosition();if(c.x===d.x&&c.y===d.y)return;if(this._movingAnchorName==="rotater"){let E=this._getNodeRect();t=o.x()-E.width/2,r=-o.y()+E.height/2;let O=Math.atan2(-r,t)+Math.PI/2;E.height<0&&(O-=Math.PI);let q=rs.Konva.getAngle(this.rotation())+O,X=rs.Konva.getAngle(this.rotationSnapTolerance()),B=KG(this.rotationSnaps(),q,X)-E.rotation,le=YG(E,B);this._fitNodesInto(le,e);return}let h=this.shiftBehavior(),g;h==="inverted"?g=this.keepRatio()&&!e.shiftKey:h==="none"?g=this.keepRatio():g=this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(g){let E=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(E.x-o.x(),2)+Math.pow(E.y-o.y(),2));let O=this.findOne(".top-left").x()>E.x?-1:1,N=this.findOne(".top-left").y()>E.y?-1:1;t=i*this.cos*O,r=i*this.sin*N,this.findOne(".top-left").x(E.x-t),this.findOne(".top-left").y(E.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(g){let E=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-E.x,2)+Math.pow(E.y-o.y(),2));let O=this.findOne(".top-right").x()<E.x?-1:1,N=this.findOne(".top-right").y()>E.y?-1:1;t=i*this.cos*O,r=i*this.sin*N,this.findOne(".top-right").x(E.x+t),this.findOne(".top-right").y(E.y-r)}var y=o.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(g){let E=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(E.x-o.x(),2)+Math.pow(o.y()-E.y,2));let O=E.x<o.x()?-1:1,N=o.y()<E.y?-1:1;t=i*this.cos*O,r=i*this.sin*N,o.x(E.x-t),o.y(E.y+r)}y=o.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(g){let E=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-E.x,2)+Math.pow(o.y()-E.y,2));let O=this.findOne(".bottom-right").x()<E.x?-1:1,N=this.findOne(".bottom-right").y()<E.y?-1:1;t=i*this.cos*O,r=i*this.sin*N,this.findOne(".bottom-right").x(E.x+t),this.findOne(".bottom-right").y(E.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){let E=this.findOne(".top-left"),O=this.findOne(".bottom-right"),N=E.x(),q=E.y(),X=this.getWidth()-O.x(),z=this.getHeight()-O.y();O.move({x:-N,y:-q}),E.move({x:X,y:z})}let _=this.findOne(".top-left").getAbsolutePosition();t=_.x,r=_.y;let C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:C,height:w,rotation:rs.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));let r=this.getNode();a3--,this._fire("transformend",{evt:e,target:r}),(t=this.getLayer())===null||t===void 0||t.batchDraw(),r&&this._nodes.forEach(i=>{var o;i._fire("transformend",{evt:e,target:i}),(o=i.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){let r=this._getNodeRect(),i=1;if(Pn.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(Pn.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}let o=new Pn.Transform;if(o.rotate(rs.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let g=o.point({x:-this.padding()*2,y:0});e.x+=g.x,e.y+=g.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let g=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let g=o.point({x:0,y:-this.padding()*2});e.x+=g.x,e.y+=g.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let g=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){let g=this.boundBoxFunc()(r,e);g?e=g:Pn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let s=1e7,a=new Pn.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/s,r.height/s);let l=new Pn.Transform,c=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,d));let h=l.multiply(a.invert());this._nodes.forEach(g=>{var f;let y=g.getParent().getAbsoluteTransform(),_=g.getTransform().copy();_.translate(g.offsetX(),g.offsetY());let C=new Pn.Transform;C.multiply(y.copy().invert()).multiply(h).multiply(y).multiply(_);let w=C.decompose();g.setAttrs(w),(f=g.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(Pn.Util._getRotation(e.rotation)),this._nodes.forEach(g=>{this._fire("transform",{evt:t,target:g}),g._fire("transform",{evt:t,target:g})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;let t=this._getNodeRect();this.rotation(Pn.Util._getRotation(t.rotation));let r=t.width,i=t.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Pn.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let d=this.anchorStyleFunc();d&&c.forEach(h=>{d(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();let e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),RT.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return kT.Node.prototype.toObject.call(this)}clone(e){return kT.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};i2.Transformer=Qt;Qt.isTransforming=()=>a3>0;function XG(n){return n instanceof Array||Pn.Util.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){r2.indexOf(e)===-1&&Pn.Util.warn("Unknown anchor name: "+e+". Available names are: "+r2.join(", "))}),n||[]}Qt.prototype.className="Transformer";(0,VG._registerNode)(Qt);gn.Factory.addGetterSetter(Qt,"enabledAnchors",r2,XG);gn.Factory.addGetterSetter(Qt,"flipEnabled",!0,(0,$l.getBooleanValidator)());gn.Factory.addGetterSetter(Qt,"resizeEnabled",!0);gn.Factory.addGetterSetter(Qt,"anchorSize",10,(0,$l.getNumberValidator)());gn.Factory.addGetterSetter(Qt,"rotateEnabled",!0);gn.Factory.addGetterSetter(Qt,"rotateLineVisible",!0);gn.Factory.addGetterSetter(Qt,"rotationSnaps",[]);gn.Factory.addGetterSetter(Qt,"rotateAnchorOffset",50,(0,$l.getNumberValidator)());gn.Factory.addGetterSetter(Qt,"rotateAnchorCursor","crosshair");gn.Factory.addGetterSetter(Qt,"rotationSnapTolerance",5,(0,$l.getNumberValidator)());gn.Factory.addGetterSetter(Qt,"borderEnabled",!0);gn.Factory.addGetterSetter(Qt,"anchorStroke","rgb(0, 161, 255)");gn.Factory.addGetterSetter(Qt,"anchorStrokeWidth",1,(0,$l.getNumberValidator)());gn.Factory.addGetterSetter(Qt,"anchorFill","white");gn.Factory.addGetterSetter(Qt,"anchorCornerRadius",0,(0,$l.getNumberValidator)());gn.Factory.addGetterSetter(Qt,"borderStroke","rgb(0, 161, 255)");gn.Factory.addGetterSetter(Qt,"borderStrokeWidth",1,(0,$l.getNumberValidator)());gn.Factory.addGetterSetter(Qt,"borderDash");gn.Factory.addGetterSetter(Qt,"keepRatio",!0);gn.Factory.addGetterSetter(Qt,"shiftBehavior","default");gn.Factory.addGetterSetter(Qt,"centeredScaling",!1);gn.Factory.addGetterSetter(Qt,"ignoreStroke",!1);gn.Factory.addGetterSetter(Qt,"padding",0,(0,$l.getNumberValidator)());gn.Factory.addGetterSetter(Qt,"nodes");gn.Factory.addGetterSetter(Qt,"node");gn.Factory.addGetterSetter(Qt,"boundBoxFunc");gn.Factory.addGetterSetter(Qt,"anchorDragBoundFunc");gn.Factory.addGetterSetter(Qt,"anchorStyleFunc");gn.Factory.addGetterSetter(Qt,"shouldOverdrawWholeArea",!1);gn.Factory.addGetterSetter(Qt,"useSingleNodeRotation",!0);gn.Factory.backCompat(Qt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})});var zT=tt(s2=>{"use strict";Object.defineProperty(s2,"__esModule",{value:!0});s2.Wedge=void 0;var o2=Kt(),ZG=Dr(),QG=Wt(),VT=Zt(),JG=Wt(),is=class extends ZG.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,QG.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};s2.Wedge=is;is.prototype.className="Wedge";is.prototype._centroid=!0;is.prototype._attrsAffectingSize=["radius"];(0,JG._registerNode)(is);o2.Factory.addGetterSetter(is,"radius",0,(0,VT.getNumberValidator)());o2.Factory.addGetterSetter(is,"angle",0,(0,VT.getNumberValidator)());o2.Factory.addGetterSetter(is,"clockwise",!1);o2.Factory.backCompat(is,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})});var $T=tt(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});a2.Blur=void 0;var HT=Kt(),eW=Qn(),tW=Zt();function qT(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var nW=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],rW=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function iW(n,e){let t=n.data,r=n.width,i=n.height,o,s,a,l,c,d,h,g,f,y,_,C,w,E,O,N,q,X,z,B,le=e+e+1,he=r-1,k=i-1,I=e+1,W=I*(I+1)/2,G=new qT,_e=nW[e],Y=rW[e],ie=null,H=G,se=null,ge=null;for(let Re=1;Re<le;Re++)H=H.next=new qT,Re===I&&(ie=H);H.next=G,a=s=0;for(let Re=0;Re<i;Re++){C=w=E=O=l=c=d=h=0,g=I*(N=t[s]),f=I*(q=t[s+1]),y=I*(X=t[s+2]),_=I*(z=t[s+3]),l+=W*N,c+=W*q,d+=W*X,h+=W*z,H=G;for(let M=0;M<I;M++)H.r=N,H.g=q,H.b=X,H.a=z,H=H.next;for(let M=1;M<I;M++)o=s+((he<M?he:M)<<2),l+=(H.r=N=t[o])*(B=I-M),c+=(H.g=q=t[o+1])*B,d+=(H.b=X=t[o+2])*B,h+=(H.a=z=t[o+3])*B,C+=N,w+=q,E+=X,O+=z,H=H.next;se=G,ge=ie;for(let M=0;M<r;M++)t[s+3]=z=h*_e>>Y,z!==0?(z=255/z,t[s]=(l*_e>>Y)*z,t[s+1]=(c*_e>>Y)*z,t[s+2]=(d*_e>>Y)*z):t[s]=t[s+1]=t[s+2]=0,l-=g,c-=f,d-=y,h-=_,g-=se.r,f-=se.g,y-=se.b,_-=se.a,o=a+((o=M+e+1)<he?o:he)<<2,C+=se.r=t[o],w+=se.g=t[o+1],E+=se.b=t[o+2],O+=se.a=t[o+3],l+=C,c+=w,d+=E,h+=O,se=se.next,g+=N=ge.r,f+=q=ge.g,y+=X=ge.b,_+=z=ge.a,C-=N,w-=q,E-=X,O-=z,ge=ge.next,s+=4;a+=r}for(let Re=0;Re<r;Re++){w=E=O=C=c=d=h=l=0,s=Re<<2,g=I*(N=t[s]),f=I*(q=t[s+1]),y=I*(X=t[s+2]),_=I*(z=t[s+3]),l+=W*N,c+=W*q,d+=W*X,h+=W*z,H=G;for(let L=0;L<I;L++)H.r=N,H.g=q,H.b=X,H.a=z,H=H.next;let M=r;for(let L=1;L<=e;L++)s=M+Re<<2,l+=(H.r=N=t[s])*(B=I-L),c+=(H.g=q=t[s+1])*B,d+=(H.b=X=t[s+2])*B,h+=(H.a=z=t[s+3])*B,C+=N,w+=q,E+=X,O+=z,H=H.next,L<k&&(M+=r);s=Re,se=G,ge=ie;for(let L=0;L<i;L++)o=s<<2,t[o+3]=z=h*_e>>Y,z>0?(z=255/z,t[o]=(l*_e>>Y)*z,t[o+1]=(c*_e>>Y)*z,t[o+2]=(d*_e>>Y)*z):t[o]=t[o+1]=t[o+2]=0,l-=g,c-=f,d-=y,h-=_,g-=se.r,f-=se.g,y-=se.b,_-=se.a,o=Re+((o=L+I)<k?o:k)*r<<2,l+=C+=se.r=t[o],c+=w+=se.g=t[o+1],d+=E+=se.b=t[o+2],h+=O+=se.a=t[o+3],se=se.next,g+=N=ge.r,f+=q=ge.g,y+=X=ge.b,_+=z=ge.a,C-=N,w-=q,E-=X,O-=z,ge=ge.next,s+=r}}var oW=function(e){let t=Math.round(this.blurRadius());t>0&&iW(e,t)};a2.Blur=oW;HT.Factory.addGetterSetter(eW.Node,"blurRadius",0,(0,tW.getNumberValidator)(),HT.Factory.afterSetFilter)});var WT=tt(l2=>{"use strict";Object.defineProperty(l2,"__esModule",{value:!0});l2.Brighten=void 0;var GT=Kt(),sW=Qn(),aW=Zt(),lW=function(n){let e=this.brightness()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=4)t[i]+=e,t[i+1]+=e,t[i+2]+=e};l2.Brighten=lW;GT.Factory.addGetterSetter(sW.Node,"brightness",0,(0,aW.getNumberValidator)(),GT.Factory.afterSetFilter)});var KT=tt(c2=>{"use strict";Object.defineProperty(c2,"__esModule",{value:!0});c2.Contrast=void 0;var YT=Kt(),cW=Qn(),uW=Zt(),dW=function(n){let e=Math.pow((this.contrast()+100)/100,2),t=n.data,r=t.length,i=150,o=150,s=150;for(let a=0;a<r;a+=4)i=t[a],o=t[a+1],s=t[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,t[a]=i,t[a+1]=o,t[a+2]=s};c2.Contrast=dW;YT.Factory.addGetterSetter(cW.Node,"contrast",0,(0,uW.getNumberValidator)(),YT.Factory.afterSetFilter)});var ZT=tt(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});d2.Emboss=void 0;var Gl=Kt(),u2=Qn(),hW=qn(),XT=Zt(),fW=function(n){let e=this.embossStrength()*10,t=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),o=n.data,s=n.width,a=n.height,l=s*4,c=0,d=0,h=a;switch(r){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:hW.Util.error("Unknown emboss direction: "+r)}do{let g=(h-1)*l,f=c;h+f<1&&(f=0),h+f>a&&(f=0);let y=(h-1+f)*s*4,_=s;do{let C=g+(_-1)*4,w=d;_+w<1&&(w=0),_+w>s&&(w=0);let E=y+(_-1+w)*4,O=o[C]-o[E],N=o[C+1]-o[E+1],q=o[C+2]-o[E+2],X=O,z=X>0?X:-X,B=N>0?N:-N,le=q>0?q:-q;if(B>z&&(X=N),le>z&&(X=q),X*=e,i){let he=o[C]+X,k=o[C+1]+X,I=o[C+2]+X;o[C]=he>255?255:he<0?0:he,o[C+1]=k>255?255:k<0?0:k,o[C+2]=I>255?255:I<0?0:I}else{let he=t-X;he<0?he=0:he>255&&(he=255),o[C]=o[C+1]=o[C+2]=he}}while(--_)}while(--h)};d2.Emboss=fW;Gl.Factory.addGetterSetter(u2.Node,"embossStrength",.5,(0,XT.getNumberValidator)(),Gl.Factory.afterSetFilter);Gl.Factory.addGetterSetter(u2.Node,"embossWhiteLevel",.5,(0,XT.getNumberValidator)(),Gl.Factory.afterSetFilter);Gl.Factory.addGetterSetter(u2.Node,"embossDirection","top-left",void 0,Gl.Factory.afterSetFilter);Gl.Factory.addGetterSetter(u2.Node,"embossBlend",!1,void 0,Gl.Factory.afterSetFilter)});var JT=tt(h2=>{"use strict";Object.defineProperty(h2,"__esModule",{value:!0});h2.Enhance=void 0;var QT=Kt(),pW=Qn(),gW=Zt();function l3(n,e,t,r,i){let o=t-e,s=i-r;if(o===0)return r+s/2;if(s===0)return r;let a=(n-e)/o;return a=s*a+r,a}var mW=function(n){let e=n.data,t=e.length,r=e[0],i=r,o,s=e[1],a=s,l,c=e[2],d=c,h,g=this.enhance();if(g===0)return;for(let O=0;O<t;O+=4)o=e[O+0],o<r?r=o:o>i&&(i=o),l=e[O+1],l<s?s=l:l>a&&(a=l),h=e[O+2],h<c?c=h:h>d&&(d=h);i===r&&(i=255,r=0),a===s&&(a=255,s=0),d===c&&(d=255,c=0);let f,y,_,C,w,E;if(g>0)f=i+g*(255-i),y=r-g*(r-0),_=a+g*(255-a),C=s-g*(s-0),w=d+g*(255-d),E=c-g*(c-0);else{let O=(i+r)*.5;f=i+g*(i-O),y=r+g*(r-O);let N=(a+s)*.5;_=a+g*(a-N),C=s+g*(s-N);let q=(d+c)*.5;w=d+g*(d-q),E=c+g*(c-q)}for(let O=0;O<t;O+=4)e[O+0]=l3(e[O+0],r,i,y,f),e[O+1]=l3(e[O+1],s,a,C,_),e[O+2]=l3(e[O+2],c,d,E,w)};h2.Enhance=mW;QT.Factory.addGetterSetter(pW.Node,"enhance",0,(0,gW.getNumberValidator)(),QT.Factory.afterSetFilter)});var e8=tt(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});f2.Grayscale=void 0;var vW=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};f2.Grayscale=vW});var t8=tt(p2=>{"use strict";Object.defineProperty(p2,"__esModule",{value:!0});p2.HSL=void 0;var yh=Kt(),c3=Qn(),u3=Zt();yh.Factory.addGetterSetter(c3.Node,"hue",0,(0,u3.getNumberValidator)(),yh.Factory.afterSetFilter);yh.Factory.addGetterSetter(c3.Node,"saturation",0,(0,u3.getNumberValidator)(),yh.Factory.afterSetFilter);yh.Factory.addGetterSetter(c3.Node,"luminance",0,(0,u3.getNumberValidator)(),yh.Factory.afterSetFilter);var yW=function(n){let e=n.data,t=e.length,r=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a=r*i*Math.cos(o*Math.PI/180),l=r*i*Math.sin(o*Math.PI/180),c=.299*r+.701*a+.167*l,d=.587*r-.587*a+.33*l,h=.114*r-.114*a-.497*l,g=.299*r-.299*a-.328*l,f=.587*r+.413*a+.035*l,y=.114*r-.114*a+.293*l,_=.299*r-.3*a+1.25*l,C=.587*r-.586*a-1.05*l,w=.114*r+.886*a-.2*l,E,O,N,q;for(let X=0;X<t;X+=4)E=e[X+0],O=e[X+1],N=e[X+2],q=e[X+3],e[X+0]=c*E+d*O+h*N+s,e[X+1]=g*E+f*O+y*N+s,e[X+2]=_*E+C*O+w*N+s,e[X+3]=q};p2.HSL=yW});var n8=tt(g2=>{"use strict";Object.defineProperty(g2,"__esModule",{value:!0});g2.HSV=void 0;var _h=Kt(),d3=Qn(),h3=Zt(),_W=function(n){let e=n.data,t=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=r*i*Math.cos(o*Math.PI/180),a=r*i*Math.sin(o*Math.PI/180),l=.299*r+.701*s+.167*a,c=.587*r-.587*s+.33*a,d=.114*r-.114*s-.497*a,h=.299*r-.299*s-.328*a,g=.587*r+.413*s+.035*a,f=.114*r-.114*s+.293*a,y=.299*r-.3*s+1.25*a,_=.587*r-.586*s-1.05*a,C=.114*r+.886*s-.2*a;for(let w=0;w<t;w+=4){let E=e[w+0],O=e[w+1],N=e[w+2],q=e[w+3];e[w+0]=l*E+c*O+d*N,e[w+1]=h*E+g*O+f*N,e[w+2]=y*E+_*O+C*N,e[w+3]=q}};g2.HSV=_W;_h.Factory.addGetterSetter(d3.Node,"hue",0,(0,h3.getNumberValidator)(),_h.Factory.afterSetFilter);_h.Factory.addGetterSetter(d3.Node,"saturation",0,(0,h3.getNumberValidator)(),_h.Factory.afterSetFilter);_h.Factory.addGetterSetter(d3.Node,"value",0,(0,h3.getNumberValidator)(),_h.Factory.afterSetFilter)});var r8=tt(m2=>{"use strict";Object.defineProperty(m2,"__esModule",{value:!0});m2.Invert=void 0;var bW=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};m2.Invert=bW});var a8=tt(y2=>{"use strict";Object.defineProperty(y2,"__esModule",{value:!0});y2.Kaleidoscope=void 0;var v2=Kt(),o8=Qn(),i8=qn(),s8=Zt(),wW=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,h=s-l,g=Math.sqrt(d*d+h*h);c=g>c?g:c;let f=s,y=o,_=360/y*Math.PI/180;for(let C=0;C<y;C+=1){let w=Math.sin(C*_),E=Math.cos(C*_);for(let O=0;O<f;O+=1){d=Math.floor(a+c*O/f*E),h=Math.floor(l+c*O/f*w);let N=(h*o+d)*4,q=r[N+0],X=r[N+1],z=r[N+2],B=r[N+3];N=(C+O*o)*4,i[N+0]=q,i[N+1]=X,i[N+2]=z,i[N+3]=B}}},CW=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,h=s-l,g=Math.sqrt(d*d+h*h);c=g>c?g:c;let f=s,y=o,_=t.polarRotation||0,C,w;for(d=0;d<o;d+=1)for(h=0;h<s;h+=1){let E=d-a,O=h-l,N=Math.sqrt(E*E+O*O)*f/c,q=(Math.atan2(O,E)*180/Math.PI+360+_)%360;q=q*y/360,C=Math.floor(q),w=Math.floor(N);let X=(w*o+C)*4,z=r[X+0],B=r[X+1],le=r[X+2],he=r[X+3];X=(h*o+d)*4,i[X+0]=z,i[X+1]=B,i[X+2]=le,i[X+3]=he}},EW=function(n){let e=n.width,t=n.height,r,i,o,s,a,l,c,d,h,g,f=Math.round(this.kaleidoscopePower()),y=Math.round(this.kaleidoscopeAngle()),_=Math.floor(e*(y%360)/360);if(f<1)return;let C=i8.Util.createCanvasElement();C.width=e,C.height=t;let w=C.getContext("2d").getImageData(0,0,e,t);i8.Util.releaseCanvas(C),wW(n,w,{polarCenterX:e/2,polarCenterY:t/2});let E=e/Math.pow(2,f);for(;E<=8;)E=E*2,f-=1;E=Math.ceil(E);let O=E,N=0,q=O,X=1;for(_+E>e&&(N=O,q=0,X=-1),i=0;i<t;i+=1)for(r=N;r!==q;r+=X)o=Math.round(r+_)%e,h=(e*i+o)*4,a=w.data[h+0],l=w.data[h+1],c=w.data[h+2],d=w.data[h+3],g=(e*i+r)*4,w.data[g+0]=a,w.data[g+1]=l,w.data[g+2]=c,w.data[g+3]=d;for(i=0;i<t;i+=1)for(O=Math.floor(E),s=0;s<f;s+=1){for(r=0;r<O+1;r+=1)h=(e*i+r)*4,a=w.data[h+0],l=w.data[h+1],c=w.data[h+2],d=w.data[h+3],g=(e*i+O*2-r-1)*4,w.data[g+0]=a,w.data[g+1]=l,w.data[g+2]=c,w.data[g+3]=d;O*=2}CW(w,n,{polarRotation:0})};y2.Kaleidoscope=EW;v2.Factory.addGetterSetter(o8.Node,"kaleidoscopePower",2,(0,s8.getNumberValidator)(),v2.Factory.afterSetFilter);v2.Factory.addGetterSetter(o8.Node,"kaleidoscopeAngle",0,(0,s8.getNumberValidator)(),v2.Factory.afterSetFilter)});var c8=tt(b2=>{"use strict";Object.defineProperty(b2,"__esModule",{value:!0});b2.Mask=void 0;var l8=Kt(),SW=Qn(),xW=Zt();function _2(n,e,t){let r=(t*n.width+e)*4,i=[];return i.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),i}function fg(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}function MW(n){let e=[0,0,0];for(let t=0;t<n.length;t++)e[0]+=n[t][0],e[1]+=n[t][1],e[2]+=n[t][2];return e[0]/=n.length,e[1]/=n.length,e[2]/=n.length,e}function PW(n,e){let t=_2(n,0,0),r=_2(n,n.width-1,0),i=_2(n,0,n.height-1),o=_2(n,n.width-1,n.height-1),s=e||10;if(fg(t,r)<s&&fg(r,o)<s&&fg(o,i)<s&&fg(i,t)<s){let a=MW([r,t,o,i]),l=[];for(let c=0;c<n.width*n.height;c++){let d=fg(a,[n.data[c*4],n.data[c*4+1],n.data[c*4+2]]);l[c]=d<s?0:255}return l}}function DW(n,e){for(let t=0;t<n.width*n.height;t++)n.data[4*t+3]=e[t]}function OW(n,e,t){let r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let g=0;g<i;g++){let f=a+h-o,y=l+g-o;if(f>=0&&f<t&&y>=0&&y<e){let _=f*e+y,C=r[h*i+g];d+=n[_]*C}}s[c]=d===255*8?255:0}return s}function AW(n,e,t){let r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let g=0;g<i;g++){let f=a+h-o,y=l+g-o;if(f>=0&&f<t&&y>=0&&y<e){let _=f*e+y,C=r[h*i+g];d+=n[_]*C}}s[c]=d>=255*4?255:0}return s}function IW(n,e,t){let r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let h=0;h<i;h++)for(let g=0;g<i;g++){let f=a+h-o,y=l+g-o;if(f>=0&&f<t&&y>=0&&y<e){let _=f*e+y,C=r[h*i+g];d+=n[_]*C}}s[c]=d}return s}var TW=function(n){let e=this.threshold(),t=PW(n,e);return t&&(t=OW(t,n.width,n.height),t=AW(t,n.width,n.height),t=IW(t,n.width,n.height),DW(n,t)),n};b2.Mask=TW;l8.Factory.addGetterSetter(SW.Node,"threshold",0,(0,xW.getNumberValidator)(),l8.Factory.afterSetFilter)});var d8=tt(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});w2.Noise=void 0;var u8=Kt(),NW=Qn(),kW=Zt(),RW=function(n){let e=this.noise()*255,t=n.data,r=t.length,i=e/2;for(let o=0;o<r;o+=4)t[o+0]+=i-2*i*Math.random(),t[o+1]+=i-2*i*Math.random(),t[o+2]+=i-2*i*Math.random()};w2.Noise=RW;u8.Factory.addGetterSetter(NW.Node,"noise",.2,(0,kW.getNumberValidator)(),u8.Factory.afterSetFilter)});var f8=tt(C2=>{"use strict";Object.defineProperty(C2,"__esModule",{value:!0});C2.Pixelate=void 0;var h8=Kt(),LW=qn(),FW=Qn(),jW=Zt(),BW=function(n){let e=Math.ceil(this.pixelSize()),t=n.width,r=n.height,i=Math.ceil(t/e),o=Math.ceil(r/e),s=n.data;if(e<=0){LW.Util.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<o;l+=1){let c=0,d=0,h=0,g=0,f=a*e,y=f+e,_=l*e,C=_+e,w=0;for(let E=f;E<y;E+=1)if(!(E>=t))for(let O=_;O<C;O+=1){if(O>=r)continue;let N=(t*O+E)*4;c+=s[N+0],d+=s[N+1],h+=s[N+2],g+=s[N+3],w+=1}c=c/w,d=d/w,h=h/w,g=g/w;for(let E=f;E<y;E+=1)if(!(E>=t))for(let O=_;O<C;O+=1){if(O>=r)continue;let N=(t*O+E)*4;s[N+0]=c,s[N+1]=d,s[N+2]=h,s[N+3]=g}}};C2.Pixelate=BW;h8.Factory.addGetterSetter(FW.Node,"pixelSize",8,(0,jW.getNumberValidator)(),h8.Factory.afterSetFilter)});var g8=tt(E2=>{"use strict";Object.defineProperty(E2,"__esModule",{value:!0});E2.Posterize=void 0;var p8=Kt(),UW=Qn(),VW=Zt(),zW=function(n){let e=Math.round(this.levels()*254)+1,t=n.data,r=t.length,i=255/e;for(let o=0;o<r;o+=1)t[o]=Math.floor(t[o]/i)*i};E2.Posterize=zW;p8.Factory.addGetterSetter(UW.Node,"levels",.5,(0,VW.getNumberValidator)(),p8.Factory.afterSetFilter)});var m8=tt(x2=>{"use strict";Object.defineProperty(x2,"__esModule",{value:!0});x2.RGB=void 0;var S2=Kt(),f3=Qn(),HW=Zt(),qW=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue();for(let s=0;s<t;s+=4){let a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=a*r,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]}};x2.RGB=qW;S2.Factory.addGetterSetter(f3.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});S2.Factory.addGetterSetter(f3.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});S2.Factory.addGetterSetter(f3.Node,"blue",0,HW.RGBComponent,S2.Factory.afterSetFilter)});var v8=tt(P2=>{"use strict";Object.defineProperty(P2,"__esModule",{value:!0});P2.RGBA=void 0;var pg=Kt(),M2=Qn(),$W=Zt(),GW=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue(),s=this.alpha();for(let a=0;a<t;a+=4){let l=1-s;e[a]=r*s+e[a]*l,e[a+1]=i*s+e[a+1]*l,e[a+2]=o*s+e[a+2]*l}};P2.RGBA=GW;pg.Factory.addGetterSetter(M2.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});pg.Factory.addGetterSetter(M2.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});pg.Factory.addGetterSetter(M2.Node,"blue",0,$W.RGBComponent,pg.Factory.afterSetFilter);pg.Factory.addGetterSetter(M2.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n})});var y8=tt(D2=>{"use strict";Object.defineProperty(D2,"__esModule",{value:!0});D2.Sepia=void 0;var WW=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=e[r+0],o=e[r+1],s=e[r+2];e[r+0]=Math.min(255,i*.393+o*.769+s*.189),e[r+1]=Math.min(255,i*.349+o*.686+s*.168),e[r+2]=Math.min(255,i*.272+o*.534+s*.131)}};D2.Sepia=WW});var _8=tt(O2=>{"use strict";Object.defineProperty(O2,"__esModule",{value:!0});O2.Solarize=void 0;var YW=function(n){let e=n.data,t=n.width,r=n.height,i=t*4,o=r;do{let s=(o-1)*i,a=t;do{let l=s+(a-1)*4,c=e[l],d=e[l+1],h=e[l+2];c>127&&(c=255-c),d>127&&(d=255-d),h>127&&(h=255-h),e[l]=c,e[l+1]=d,e[l+2]=h}while(--a)}while(--o)};O2.Solarize=YW});var w8=tt(A2=>{"use strict";Object.defineProperty(A2,"__esModule",{value:!0});A2.Threshold=void 0;var b8=Kt(),KW=Qn(),XW=Zt(),ZW=function(n){let e=this.threshold()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=1)t[i]=t[i]<e?0:255};A2.Threshold=ZW;b8.Factory.addGetterSetter(KW.Node,"threshold",.5,(0,XW.getNumberValidator)(),b8.Factory.afterSetFilter)});var S8=tt(I2=>{"use strict";Object.defineProperty(I2,"__esModule",{value:!0});I2.Konva=void 0;var C8=KI(),QW=ZI(),JW=rT(),eY=iT(),tY=sT(),nY=aT(),E8=uT(),rY=zS(),iY=zy(),oY=ZS(),sY=fT(),aY=vT(),lY=_T(),cY=bT(),uY=i3(),dY=NT(),hY=UT(),fY=zT(),pY=$T(),gY=WT(),mY=KT(),vY=ZT(),yY=JT(),_Y=e8(),bY=t8(),wY=n8(),CY=r8(),EY=a8(),SY=c8(),xY=d8(),MY=f8(),PY=g8(),DY=m8(),OY=v8(),AY=y8(),IY=_8(),TY=w8();I2.Konva=C8.Konva.Util._assign(C8.Konva,{Arc:QW.Arc,Arrow:JW.Arrow,Circle:eY.Circle,Ellipse:tY.Ellipse,Image:nY.Image,Label:E8.Label,Tag:E8.Tag,Line:rY.Line,Path:iY.Path,Rect:oY.Rect,RegularPolygon:sY.RegularPolygon,Ring:aY.Ring,Sprite:lY.Sprite,Star:cY.Star,Text:uY.Text,TextPath:dY.TextPath,Transformer:hY.Transformer,Wedge:fY.Wedge,Filters:{Blur:pY.Blur,Brighten:gY.Brighten,Contrast:mY.Contrast,Emboss:vY.Emboss,Enhance:yY.Enhance,Grayscale:_Y.Grayscale,HSL:bY.HSL,HSV:wY.HSV,Invert:CY.Invert,Kaleidoscope:EY.Kaleidoscope,Mask:SY.Mask,Noise:xY.Noise,Pixelate:MY.Pixelate,Posterize:PY.Posterize,RGB:DY.RGB,RGBA:OY.RGBA,Sepia:AY.Sepia,Solarize:IY.Solarize,Threshold:TY.Threshold}})});var P8=tt((x8,M8)=>{"use strict";Object.defineProperty(x8,"__esModule",{value:!0});var NY=S8();M8.exports=NY.Konva});var mN=tt((vme,G2)=>{"use strict";(function(){function n(T,ee,we){return T.call.apply(T.bind,arguments)}function e(T,ee,we){if(!T)throw Error();if(2<arguments.length){var xe=Array.prototype.slice.call(arguments,2);return function(){var Te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Te,xe),T.apply(ee,Te)}}return function(){return T.apply(ee,arguments)}}function t(T,ee,we){return t=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?n:e,t.apply(null,arguments)}var r=Date.now||function(){return+new Date};function i(T,ee){this.a=T,this.o=ee||T,this.c=this.o.document}var o=!!window.FontFace;function s(T,ee,we,xe){if(ee=T.c.createElement(ee),we)for(var Te in we)we.hasOwnProperty(Te)&&(Te=="style"?ee.style.cssText=we[Te]:ee.setAttribute(Te,we[Te]));return xe&&ee.appendChild(T.c.createTextNode(xe)),ee}function a(T,ee,we){T=T.c.getElementsByTagName(ee)[0],T||(T=document.documentElement),T.insertBefore(we,T.lastChild)}function l(T){T.parentNode&&T.parentNode.removeChild(T)}function c(T,ee,we){ee=ee||[],we=we||[];for(var xe=T.className.split(/\s+/),Te=0;Te<ee.length;Te+=1){for(var qe=!1,lt=0;lt<xe.length;lt+=1)if(ee[Te]===xe[lt]){qe=!0;break}qe||xe.push(ee[Te])}for(ee=[],Te=0;Te<xe.length;Te+=1){for(qe=!1,lt=0;lt<we.length;lt+=1)if(xe[Te]===we[lt]){qe=!0;break}qe||ee.push(xe[Te])}T.className=ee.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(T,ee){for(var we=T.className.split(/\s+/),xe=0,Te=we.length;xe<Te;xe++)if(we[xe]==ee)return!0;return!1}function h(T){return T.o.location.hostname||T.a.location.hostname}function g(T,ee,we){function xe(){st&&Te&&qe&&(st(lt),st=null)}ee=s(T,"link",{rel:"stylesheet",href:ee,media:"all"});var Te=!1,qe=!0,lt=null,st=we||null;o?(ee.onload=function(){Te=!0,xe()},ee.onerror=function(){Te=!0,lt=Error("Stylesheet failed to load"),xe()}):setTimeout(function(){Te=!0,xe()},0),a(T,"head",ee)}function f(T,ee,we,xe){var Te=T.c.getElementsByTagName("head")[0];if(Te){var qe=s(T,"script",{src:ee}),lt=!1;return qe.onload=qe.onreadystatechange=function(){lt||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(lt=!0,we&&we(null),qe.onload=qe.onreadystatechange=null,qe.parentNode.tagName=="HEAD"&&Te.removeChild(qe))},Te.appendChild(qe),setTimeout(function(){lt||(lt=!0,we&&we(Error("Script load timeout")))},xe||5e3),qe}return null}function y(){this.a=0,this.c=null}function _(T){return T.a++,function(){T.a--,w(T)}}function C(T,ee){T.c=ee,w(T)}function w(T){T.a==0&&T.c&&(T.c(),T.c=null)}function E(T){this.a=T||"-"}E.prototype.c=function(T){for(var ee=[],we=0;we<arguments.length;we++)ee.push(arguments[we].replace(/[\W_]+/g,"").toLowerCase());return ee.join(this.a)};function O(T,ee){this.c=T,this.f=4,this.a="n";var we=(ee||"n4").match(/^([nio])([1-9])$/i);we&&(this.a=we[1],this.f=parseInt(we[2],10))}function N(T){return z(T)+" "+(T.f+"00")+" 300px "+q(T.c)}function q(T){var ee=[];T=T.split(/,\s*/);for(var we=0;we<T.length;we++){var xe=T[we].replace(/['"]/g,"");xe.indexOf(" ")!=-1||/^\d/.test(xe)?ee.push("'"+xe+"'"):ee.push(xe)}return ee.join(",")}function X(T){return T.a+T.f}function z(T){var ee="normal";return T.a==="o"?ee="oblique":T.a==="i"&&(ee="italic"),ee}function B(T){var ee=4,we="n",xe=null;return T&&((xe=T.match(/(normal|oblique|italic)/i))&&xe[1]&&(we=xe[1].substr(0,1).toLowerCase()),(xe=T.match(/([1-9]00|normal|bold)/i))&&xe[1]&&(/bold/i.test(xe[1])?ee=7:/[1-9]00/.test(xe[1])&&(ee=parseInt(xe[1].substr(0,1),10)))),we+ee}function le(T,ee){this.c=T,this.f=T.o.document.documentElement,this.h=ee,this.a=new E("-"),this.j=ee.events!==!1,this.g=ee.classes!==!1}function he(T){T.g&&c(T.f,[T.a.c("wf","loading")]),I(T,"loading")}function k(T){if(T.g){var ee=d(T.f,T.a.c("wf","active")),we=[],xe=[T.a.c("wf","loading")];ee||we.push(T.a.c("wf","inactive")),c(T.f,we,xe)}I(T,"inactive")}function I(T,ee,we){T.j&&T.h[ee]&&(we?T.h[ee](we.c,X(we)):T.h[ee]())}function W(){this.c={}}function G(T,ee,we){var xe=[],Te;for(Te in ee)if(ee.hasOwnProperty(Te)){var qe=T.c[Te];qe&&xe.push(qe(ee[Te],we))}return xe}function _e(T,ee){this.c=T,this.f=ee,this.a=s(this.c,"span",{"aria-hidden":"true"},this.f)}function Y(T){a(T.c,"body",T.a)}function ie(T){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+q(T.c)+";"+("font-style:"+z(T)+";font-weight:"+(T.f+"00")+";")}function H(T,ee,we,xe,Te,qe){this.g=T,this.j=ee,this.a=xe,this.c=we,this.f=Te||3e3,this.h=qe||void 0}H.prototype.start=function(){var T=this.c.o.document,ee=this,we=r(),xe=new Promise(function(lt,st){function Xt(){r()-we>=ee.f?st():T.fonts.load(N(ee.a),ee.h).then(function(Dt){1<=Dt.length?lt():setTimeout(Xt,25)},function(){st()})}Xt()}),Te=null,qe=new Promise(function(lt,st){Te=setTimeout(st,ee.f)});Promise.race([qe,xe]).then(function(){Te&&(clearTimeout(Te),Te=null),ee.g(ee.a)},function(){ee.j(ee.a)})};function se(T,ee,we,xe,Te,qe,lt){this.v=T,this.B=ee,this.c=we,this.a=xe,this.s=lt||"BESbswy",this.f={},this.w=Te||3e3,this.u=qe||null,this.m=this.j=this.h=this.g=null,this.g=new _e(this.c,this.s),this.h=new _e(this.c,this.s),this.j=new _e(this.c,this.s),this.m=new _e(this.c,this.s),T=new O(this.a.c+",serif",X(this.a)),T=ie(T),this.g.a.style.cssText=T,T=new O(this.a.c+",sans-serif",X(this.a)),T=ie(T),this.h.a.style.cssText=T,T=new O("serif",X(this.a)),T=ie(T),this.j.a.style.cssText=T,T=new O("sans-serif",X(this.a)),T=ie(T),this.m.a.style.cssText=T,Y(this.g),Y(this.h),Y(this.j),Y(this.m)}var ge={D:"serif",C:"sans-serif"},Re=null;function M(){if(Re===null){var T=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Re=!!T&&(536>parseInt(T[1],10)||parseInt(T[1],10)===536&&11>=parseInt(T[2],10))}return Re}se.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=r(),U(this)};function L(T,ee,we){for(var xe in ge)if(ge.hasOwnProperty(xe)&&ee===T.f[ge[xe]]&&we===T.f[ge[xe]])return!0;return!1}function U(T){var ee=T.g.a.offsetWidth,we=T.h.a.offsetWidth,xe;(xe=ee===T.f.serif&&we===T.f["sans-serif"])||(xe=M()&&L(T,ee,we)),xe?r()-T.A>=T.w?M()&&L(T,ee,we)&&(T.u===null||T.u.hasOwnProperty(T.a.c))?ae(T,T.v):ae(T,T.B):Z(T):ae(T,T.v)}function Z(T){setTimeout(t(function(){U(this)},T),50)}function ae(T,ee){setTimeout(t(function(){l(this.g.a),l(this.h.a),l(this.j.a),l(this.m.a),ee(this.a)},T),0)}function fe(T,ee,we){this.c=T,this.a=ee,this.f=0,this.m=this.j=!1,this.s=we}var be=null;fe.prototype.g=function(T){var ee=this.a;ee.g&&c(ee.f,[ee.a.c("wf",T.c,X(T).toString(),"active")],[ee.a.c("wf",T.c,X(T).toString(),"loading"),ee.a.c("wf",T.c,X(T).toString(),"inactive")]),I(ee,"fontactive",T),this.m=!0,me(this)},fe.prototype.h=function(T){var ee=this.a;if(ee.g){var we=d(ee.f,ee.a.c("wf",T.c,X(T).toString(),"active")),xe=[],Te=[ee.a.c("wf",T.c,X(T).toString(),"loading")];we||xe.push(ee.a.c("wf",T.c,X(T).toString(),"inactive")),c(ee.f,xe,Te)}I(ee,"fontinactive",T),me(this)};function me(T){--T.f==0&&T.j&&(T.m?(T=T.a,T.g&&c(T.f,[T.a.c("wf","active")],[T.a.c("wf","loading"),T.a.c("wf","inactive")]),I(T,"active")):k(T.a))}function Fe(T){this.j=T,this.a=new W,this.h=0,this.f=this.g=!0}Fe.prototype.load=function(T){this.c=new i(this.j,T.context||this.j),this.g=T.events!==!1,this.f=T.classes!==!1,Ke(this,new le(this.c,T),T)};function Le(T,ee,we,xe,Te){var qe=--T.h==0;(T.f||T.g)&&setTimeout(function(){var lt=Te||null,st=xe||null||{};if(we.length===0&&qe)k(ee.a);else{ee.f+=we.length,qe&&(ee.j=qe);var Xt,Dt=[];for(Xt=0;Xt<we.length;Xt++){var on=we[Xt],Fn=st[on.c],sn=ee.a,yt=on;if(sn.g&&c(sn.f,[sn.a.c("wf",yt.c,X(yt).toString(),"loading")]),I(sn,"fontloading",yt),sn=null,be===null)if(window.FontFace){var yt=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),un=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);be=yt?42<parseInt(yt[1],10):!un}else be=!1;be?sn=new H(t(ee.g,ee),t(ee.h,ee),ee.c,on,ee.s,Fn):sn=new se(t(ee.g,ee),t(ee.h,ee),ee.c,on,ee.s,lt,Fn),Dt.push(sn)}for(Xt=0;Xt<Dt.length;Xt++)Dt[Xt].start()}},0)}function Ke(T,ee,we){var Te=[],xe=we.timeout;he(ee);var Te=G(T.a,we,T.c),qe=new fe(T.c,ee,xe);for(T.h=Te.length,ee=0,we=Te.length;ee<we;ee++)Te[ee].load(function(lt,st,Xt){Le(T,qe,lt,st,Xt)})}function Ge(T,ee){this.c=T,this.a=ee}Ge.prototype.load=function(T){function ee(){if(qe["__mti_fntLst"+xe]){var lt=qe["__mti_fntLst"+xe](),st=[],Xt;if(lt)for(var Dt=0;Dt<lt.length;Dt++){var on=lt[Dt].fontfamily;lt[Dt].fontStyle!=null&&lt[Dt].fontWeight!=null?(Xt=lt[Dt].fontStyle+lt[Dt].fontWeight,st.push(new O(on,Xt))):st.push(new O(on))}T(st)}else setTimeout(function(){ee()},50)}var we=this,xe=we.a.projectId,Te=we.a.version;if(xe){var qe=we.c.o;f(this.c,(we.a.api||"https://fast.fonts.net/jsapi")+"/"+xe+".js"+(Te?"?v="+Te:""),function(lt){lt?T([]):(qe["__MonotypeConfiguration__"+xe]=function(){return we.a},ee())}).id="__MonotypeAPIScript__"+xe}else T([])};function mt(T,ee){this.c=T,this.a=ee}mt.prototype.load=function(T){var ee,we,xe=this.a.urls||[],Te=this.a.families||[],qe=this.a.testStrings||{},lt=new y;for(ee=0,we=xe.length;ee<we;ee++)g(this.c,xe[ee],_(lt));var st=[];for(ee=0,we=Te.length;ee<we;ee++)if(xe=Te[ee].split(":"),xe[1])for(var Xt=xe[1].split(","),Dt=0;Dt<Xt.length;Dt+=1)st.push(new O(xe[0],Xt[Dt]));else st.push(new O(xe[0]));C(lt,function(){T(st,qe)})};function Se(T,ee){T?this.c=T:this.c=$,this.a=[],this.f=[],this.g=ee||""}var $="https://fonts.googleapis.com/css";function Pt(T,ee){for(var we=ee.length,xe=0;xe<we;xe++){var Te=ee[xe].split(":");Te.length==3&&T.f.push(Te.pop());var qe="";Te.length==2&&Te[1]!=""&&(qe=":"),T.a.push(Te.join(qe))}}function ot(T){if(T.a.length==0)throw Error("No fonts to load!");if(T.c.indexOf("kit=")!=-1)return T.c;for(var ee=T.a.length,we=[],xe=0;xe<ee;xe++)we.push(T.a[xe].replace(/ /g,"+"));return ee=T.c+"?family="+we.join("%7C"),0<T.f.length&&(ee+="&subset="+T.f.join(",")),0<T.g.length&&(ee+="&text="+encodeURIComponent(T.g)),ee}function je(T){this.f=T,this.a=[],this.c={}}var He={latin:"BESbswy","latin-ext":"\xE7\xF6\xFC\u011F\u015F",cyrillic:"\u0439\u044F\u0416",greek:"\u03B1\u03B2\u03A3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},Ze={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Ye={i:"i",italic:"i",n:"n",normal:"n"},ut=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Mt(T){for(var ee=T.f.length,we=0;we<ee;we++){var xe=T.f[we].split(":"),Te=xe[0].replace(/\+/g," "),qe=["n4"];if(2<=xe.length){var lt,st=xe[1];if(lt=[],st)for(var st=st.split(","),Xt=st.length,Dt=0;Dt<Xt;Dt++){var on;if(on=st[Dt],on.match(/^[\w-]+$/)){var Fn=ut.exec(on.toLowerCase());if(Fn==null)on="";else{if(on=Fn[2],on=on==null||on==""?"n":Ye[on],Fn=Fn[1],Fn==null||Fn=="")Fn="4";else var sn=Ze[Fn],Fn=sn||(isNaN(Fn)?"4":Fn.substr(0,1));on=[on,Fn].join("")}}else on="";on&&lt.push(on)}0<lt.length&&(qe=lt),xe.length==3&&(xe=xe[2],lt=[],xe=xe?xe.split(","):lt,0<xe.length&&(xe=He[xe[0]])&&(T.c[Te]=xe))}for(T.c[Te]||(xe=He[Te])&&(T.c[Te]=xe),xe=0;xe<qe.length;xe+=1)T.a.push(new O(Te,qe[xe]))}}function Tt(T,ee){this.c=T,this.a=ee}var $t={Arimo:!0,Cousine:!0,Tinos:!0};Tt.prototype.load=function(T){var ee=new y,we=this.c,xe=new Se(this.a.api,this.a.text),Te=this.a.families;Pt(xe,Te);var qe=new je(Te);Mt(qe),g(we,ot(xe),_(ee)),C(ee,function(){T(qe.a,qe.c,$t)})};function Jt(T,ee){this.c=T,this.a=ee}Jt.prototype.load=function(T){var ee=this.a.id,we=this.c.o;ee?f(this.c,(this.a.api||"https://use.typekit.net")+"/"+ee+".js",function(xe){if(xe)T([]);else if(we.Typekit&&we.Typekit.config&&we.Typekit.config.fn){xe=we.Typekit.config.fn;for(var Te=[],qe=0;qe<xe.length;qe+=2)for(var lt=xe[qe],st=xe[qe+1],Xt=0;Xt<st.length;Xt++)Te.push(new O(lt,st[Xt]));try{we.Typekit.load({events:!1,classes:!1,async:!0})}catch{}T(Te)}},2e3):T([])};function hn(T,ee){this.c=T,this.f=ee,this.a=[]}hn.prototype.load=function(T){var ee=this.f.id,we=this.c.o,xe=this;ee?(we.__webfontfontdeckmodule__||(we.__webfontfontdeckmodule__={}),we.__webfontfontdeckmodule__[ee]=function(Te,qe){for(var lt=0,st=qe.fonts.length;lt<st;++lt){var Xt=qe.fonts[lt];xe.a.push(new O(Xt.name,B("font-weight:"+Xt.weight+";font-style:"+Xt.style)))}T(xe.a)},f(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+h(this.c)+"/"+ee+".js",function(Te){Te&&T([])})):T([])};var ht=new Fe(window);ht.a.c.custom=function(T,ee){return new mt(ee,T)},ht.a.c.fontdeck=function(T,ee){return new hn(ee,T)},ht.a.c.monotype=function(T,ee){return new Ge(ee,T)},ht.a.c.typekit=function(T,ee){return new Jt(ee,T)},ht.a.c.google=function(T,ee){return new Tt(ee,T)};var Vt={load:t(ht.load,ht)};typeof define=="function"&&define.amd?define(function(){return Vt}):typeof G2<"u"&&G2.exports?G2.exports=Vt:(window.WebFont=Vt,window.WebFontConfig&&ht.load(window.WebFontConfig))})()});var U3=tt(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});var j3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};B3.default=j3});var z3=tt(Eg=>{"use strict";var bN=Eg&&Eg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Eg,"__esModule",{value:!0});var HK=bN((Fx(),y7(_7))),qK=bN(U3()),V3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=HK.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>ue(this,null,function*(){var s,a,l;let c=null,d=null,h=null,g=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let w=yield o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(d=[],c=null,g=200,f="OK")}catch{o.status===404&&_===""?(g=204,f="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,g=200,f="OK"),c&&this.shouldThrowOnError)throw new qK.default(c)}return{error:c,data:d,count:h,status:g,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};Eg.default=V3});var q3=tt(Sg=>{"use strict";var $K=Sg&&Sg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sg,"__esModule",{value:!0});var GK=$K(z3()),H3=class extends GK.default{select(e){let t=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sg.default=H3});var Z2=tt(xg=>{"use strict";var WK=xg&&xg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xg,"__esModule",{value:!0});var YK=WK(q3()),$3=class extends YK.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};xg.default=$3});var W3=tt(Pg=>{"use strict";var KK=Pg&&Pg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pg,"__esModule",{value:!0});var Mg=KK(Z2()),G3=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Mg.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Mg.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){let c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Mg.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Mg.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Mg.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Pg.default=G3});var wN=tt(Q2=>{"use strict";Object.defineProperty(Q2,"__esModule",{value:!0});Q2.version=void 0;Q2.version="0.0.0-automated"});var CN=tt(J2=>{"use strict";Object.defineProperty(J2,"__esModule",{value:!0});J2.DEFAULT_HEADERS=void 0;var XK=wN();J2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${XK.version}`}});var SN=tt(Dg=>{"use strict";var EN=Dg&&Dg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Dg,"__esModule",{value:!0});var ZK=EN(W3()),QK=EN(Z2()),JK=CN(),Y3=class n{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},JK.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new ZK.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${e}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new QK.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Dg.default=Y3});var IN=tt(Gr=>{"use strict";var Oh=Gr&&Gr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.PostgrestError=Gr.PostgrestBuilder=Gr.PostgrestTransformBuilder=Gr.PostgrestFilterBuilder=Gr.PostgrestQueryBuilder=Gr.PostgrestClient=void 0;var xN=Oh(SN());Gr.PostgrestClient=xN.default;var MN=Oh(W3());Gr.PostgrestQueryBuilder=MN.default;var PN=Oh(Z2());Gr.PostgrestFilterBuilder=PN.default;var DN=Oh(q3());Gr.PostgrestTransformBuilder=DN.default;var ON=Oh(z3());Gr.PostgrestBuilder=ON.default;var AN=Oh(U3());Gr.PostgrestError=AN.default;Gr.default={PostgrestClient:xN.default,PostgrestQueryBuilder:MN.default,PostgrestFilterBuilder:PN.default,PostgrestTransformBuilder:DN.default,PostgrestBuilder:ON.default,PostgrestError:AN.default}});var Eb;function Nm(){return Eb}function _s(n){let e=Eb;return Eb=n,e}var jx=Symbol("NotFound");function Xu(n){return n===jx||n?.name==="\u0275NotFound"}function jm(n,e){return Object.is(n,e)}var wr=null,km=!1,Sb=1,b7=null,Kr=Symbol("SIGNAL");function zt(n){let e=wr;return wr=n,e}function Bm(){return wr}var dc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zu(n){if(km)throw new Error("");if(wr===null)return;wr.consumerOnSignalRead(n);let e=wr.nextProducerIndex++;if(Hm(wr),e<wr.producerNode.length&&wr.producerNode[e]!==n&&_f(wr)){let t=wr.producerNode[e];zm(t,wr.producerIndexOfThis[e])}wr.producerNode[e]!==n&&(wr.producerNode[e]=n,wr.producerIndexOfThis[e]=_f(wr)?Ux(n,wr,e):0),wr.producerLastReadVersion[e]=n.version}function Bx(){Sb++}function Um(n){if(!(_f(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sb)){if(!n.producerMustRecompute(n)&&!bf(n)){Fm(n);return}n.producerRecomputeValue(n),Fm(n)}}function xb(n){if(n.liveConsumerNode===void 0)return;let e=km;km=!0;try{for(let t of n.liveConsumerNode)t.dirty||w7(t)}finally{km=e}}function Mb(){return wr?.consumerAllowSignalWrites!==!1}function w7(n){n.dirty=!0,xb(n),n.consumerMarkedDirty?.(n)}function Fm(n){n.dirty=!1,n.lastCleanEpoch=Sb}function hc(n){return n&&(n.nextProducerIndex=0),zt(n)}function Qu(n,e){if(zt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_f(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)zm(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function bf(n){Hm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Um(t),r!==t.version))return!0}return!1}function Vm(n){if(Hm(n),_f(n))for(let e=0;e<n.producerNode.length;e++)zm(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ux(n,e,t){if(Vx(n),n.liveConsumerNode.length===0&&zx(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Ux(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function zm(n,e){if(Vx(n),n.liveConsumerNode.length===1&&zx(n))for(let r=0;r<n.producerNode.length;r++)zm(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Hm(i),i.producerIndexOfThis[r]=e}}function _f(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Vx(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function zx(n){return n.producerNode!==void 0}function qm(n){b7?.(n)}function $m(n,e){let t=Object.create(C7);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Um(t),Zu(t),t.value===yf)throw t.error;return t.value};return r[Kr]=t,qm(t),r}var Rm=Symbol("UNSET"),Lm=Symbol("COMPUTING"),yf=Symbol("ERRORED"),C7=Et(Ae({},dc),{value:Rm,dirty:!0,error:null,equal:jm,kind:"computed",producerMustRecompute(n){return n.value===Rm||n.value===Lm},producerRecomputeValue(n){if(n.value===Lm)throw new Error("");let e=n.value;n.value=Lm;let t=hc(n),r,i=!1;try{r=n.computation(),zt(null),i=e!==Rm&&e!==yf&&r!==yf&&n.equal(e,r)}catch(o){r=yf,n.error=o}finally{Qu(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function E7(){throw new Error}var Hx=E7;function qx(n){Hx(n)}function Pb(n){Hx=n}var S7=null;function Db(n,e){let t=Object.create(Gm);t.value=n,e!==void 0&&(t.equal=e);let r=()=>$x(t);return r[Kr]=t,qm(t),[r,s=>Ju(t,s),s=>Ob(t,s)]}function $x(n){return Zu(n),n.value}function Ju(n,e){Mb()||qx(n),n.equal(n.value,e)||(n.value=e,x7(n))}function Ob(n,e){Mb()||qx(n),Ju(n,e(n.value))}var Gm=Et(Ae({},dc),{equal:jm,value:void 0,kind:"signal"});function x7(n){n.version++,Bx(),xb(n),S7?.(n)}function Ft(n){return typeof n=="function"}function ed(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Wm=ed(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function fc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Wn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Ft(r))try{r()}catch(o){e=o instanceof Wm?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Gx(o)}catch(s){e=e??[],s instanceof Wm?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wm(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gx(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&fc(t,e)}remove(e){let{_finalizers:t}=this;t&&fc(t,e),e instanceof n&&e._removeParent(this)}};Wn.EMPTY=(()=>{let n=new Wn;return n.closed=!0,n})();var Ab=Wn.EMPTY;function Ym(n){return n instanceof Wn||n&&"closed"in n&&Ft(n.remove)&&Ft(n.add)&&Ft(n.unsubscribe)}function Gx(n){Ft(n)?n():n.unsubscribe()}var Lo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var td={setTimeout(n,e,...t){let{delegate:r}=td;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=td;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Km(n){td.setTimeout(()=>{let{onUnhandledError:e}=Lo;if(e)e(n);else throw n})}function wf(){}var Wx=Ib("C",void 0,void 0);function Yx(n){return Ib("E",void 0,n)}function Kx(n){return Ib("N",n,void 0)}function Ib(n,e,t){return{kind:n,value:e,error:t}}var pc=null;function nd(n){if(Lo.useDeprecatedSynchronousErrorHandling){let e=!pc;if(e&&(pc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=pc;if(pc=null,t)throw r}}else n()}function Xx(n){Lo.useDeprecatedSynchronousErrorHandling&&pc&&(pc.errorThrown=!0,pc.error=n)}var gc=class extends Wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ym(e)&&e.add(this)):this.destination=D7}static create(e,t,r){return new rd(e,t,r)}next(e){this.isStopped?Nb(Kx(e),this):this._next(e)}error(e){this.isStopped?Nb(Yx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nb(Wx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},M7=Function.prototype.bind;function Tb(n,e){return M7.call(n,e)}var kb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Xm(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Xm(r)}else Xm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xm(t)}}},rd=class extends gc{constructor(e,t,r){super();let i;if(Ft(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Lo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tb(e.next,o),error:e.error&&Tb(e.error,o),complete:e.complete&&Tb(e.complete,o)}):i=e}this.destination=new kb(i)}};function Xm(n){Lo.useDeprecatedSynchronousErrorHandling?Xx(n):Km(n)}function P7(n){throw n}function Nb(n,e){let{onStoppedNotification:t}=Lo;t&&td.setTimeout(()=>t(n,e))}var D7={closed:!0,next:wf,error:P7,complete:wf};var id=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ji(n){return n}function Rb(...n){return Lb(n)}function Lb(n){return n.length===0?ji:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Gt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=A7(t)?t:new rd(t,r,i);return nd(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Zx(r),new r((i,o)=>{let s=new rd({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[id](){return this}pipe(...t){return Lb(t)(this)}toPromise(t){return t=Zx(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Zx(n){var e;return(e=n??Lo.Promise)!==null&&e!==void 0?e:Promise}function O7(n){return n&&Ft(n.next)&&Ft(n.error)&&Ft(n.complete)}function A7(n){return n&&n instanceof gc||O7(n)&&Ym(n)}function Fb(n){return Ft(n?.lift)}function ln(n){return e=>{if(Fb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tn(n,e,t,r,i){return new jb(n,e,t,r,i)}var jb=class extends gc{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function od(){return ln((n,e)=>{let t=null;n._refCount++;let r=tn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var sd=class extends Gt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Fb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Wn;let t=this.getSubject();e.add(this.source.subscribe(tn(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Wn.EMPTY)}return e}refCount(){return od()(this)}};var Qx=ed(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rr=(()=>{class n extends Gt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Zm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Qx}next(t){nd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){nd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){nd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ab:(this.currentObservers=null,o.push(t),new Wn(()=>{this.currentObservers=null,fc(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Gt;return t.source=this,t}}return n.create=(e,t)=>new Zm(e,t),n})(),Zm=class extends rr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ab}};var Nn=class extends rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bb={now(){return(Bb.delegate||Date).now()},delegate:void 0};var Qm=class extends Wn{constructor(e,t){super()}schedule(e,t=0){return this}};var Cf={setInterval(n,e,...t){let{delegate:r}=Cf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Cf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Jm=class extends Qm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Cf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Cf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fc(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ad=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ad.now=Bb.now;var e0=class extends ad{constructor(e,t=ad.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ub=new e0(Jm),Jx=Ub;var _i=new Gt(n=>n.complete());function t0(n){return n&&Ft(n.schedule)}function eM(n){return n[n.length-1]}function n0(n){return Ft(eM(n))?n.pop():void 0}function ul(n){return t0(eM(n))?n.pop():void 0}function nM(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function tM(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mc(n){return this instanceof mc?(this.v=n,this):new mc(n)}function rM(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(y){return Promise.resolve(y).then(f,h)}}function a(f,y){r[f]&&(i[f]=function(_){return new Promise(function(C,w){o.push([f,_,C,w])>1||l(f,_)})},y&&(i[f]=y(i[f])))}function l(f,y){try{c(r[f](y))}catch(_){g(o[0][3],_)}}function c(f){f.value instanceof mc?Promise.resolve(f.value.v).then(d,h):g(o[0][2],f)}function d(f){l("next",f)}function h(f){l("throw",f)}function g(f,y){f(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function iM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tM=="function"?tM(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var r0=n=>n&&typeof n.length=="number"&&typeof n!="function";function i0(n){return Ft(n?.then)}function o0(n){return Ft(n[id])}function s0(n){return Symbol.asyncIterator&&Ft(n?.[Symbol.asyncIterator])}function a0(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function I7(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var l0=I7();function c0(n){return Ft(n?.[l0])}function u0(n){return rM(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield mc(t.read());if(i)return yield mc(void 0);yield yield mc(r)}}finally{t.releaseLock()}})}function d0(n){return Ft(n?.getReader)}function pr(n){if(n instanceof Gt)return n;if(n!=null){if(o0(n))return T7(n);if(r0(n))return N7(n);if(i0(n))return k7(n);if(s0(n))return oM(n);if(c0(n))return R7(n);if(d0(n))return L7(n)}throw a0(n)}function T7(n){return new Gt(e=>{let t=n[id]();if(Ft(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function N7(n){return new Gt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function k7(n){return new Gt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Km)})}function R7(n){return new Gt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function oM(n){return new Gt(e=>{F7(n,e).catch(t=>e.error(t))})}function L7(n){return oM(u0(n))}function F7(n,e){var t,r,i,o;return nM(this,void 0,void 0,function*(){try{for(t=iM(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function bi(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function h0(n,e=0){return ln((t,r)=>{t.subscribe(tn(r,i=>bi(r,n,()=>r.next(i),e),()=>bi(r,n,()=>r.complete(),e),i=>bi(r,n,()=>r.error(i),e)))})}function f0(n,e=0){return ln((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sM(n,e){return pr(n).pipe(f0(e),h0(e))}function aM(n,e){return pr(n).pipe(f0(e),h0(e))}function lM(n,e){return new Gt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cM(n,e){return new Gt(t=>{let r;return bi(t,e,()=>{r=n[l0](),bi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Ft(r?.return)&&r.return()})}function p0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Gt(t=>{bi(t,e,()=>{let r=n[Symbol.asyncIterator]();bi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function uM(n,e){return p0(u0(n),e)}function dM(n,e){if(n!=null){if(o0(n))return sM(n,e);if(r0(n))return lM(n,e);if(i0(n))return aM(n,e);if(s0(n))return p0(n,e);if(c0(n))return cM(n,e);if(d0(n))return uM(n,e)}throw a0(n)}function Yn(n,e){return e?dM(n,e):pr(n)}function St(...n){let e=ul(n);return Yn(n,e)}function ld(n,e){let t=Ft(n)?n:()=>n,r=i=>i.error(t());return new Gt(e?i=>e.schedule(r,0,i):r)}function Vb(n){return!!n&&(n instanceof Gt||Ft(n.lift)&&Ft(n.subscribe))}var ha=ed(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function hM(n){return n instanceof Date&&!isNaN(n)}function wt(n,e){return ln((t,r)=>{let i=0;t.subscribe(tn(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:j7}=Array;function B7(n,e){return j7(e)?n(...e):n(e)}function g0(n){return wt(e=>B7(n,e))}var{isArray:U7}=Array,{getPrototypeOf:V7,prototype:z7,keys:H7}=Object;function m0(n){if(n.length===1){let e=n[0];if(U7(e))return{args:e,keys:null};if(q7(e)){let t=H7(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function q7(n){return n&&typeof n=="object"&&V7(n)===z7}function v0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function y0(...n){let e=ul(n),t=n0(n),{args:r,keys:i}=m0(n);if(r.length===0)return Yn([],e);let o=new Gt($7(r,e,i?s=>v0(i,s):ji));return t?o.pipe(g0(t)):o}function $7(n,e,t=ji){return r=>{fM(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)fM(e,()=>{let c=Yn(n[l],e),d=!1;c.subscribe(tn(r,h=>{o[l]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fM(n,e,t){n?bi(t,n,e):e()}function pM(n,e,t,r,i,o,s,a){let l=[],c=0,d=0,h=!1,g=()=>{h&&!l.length&&!c&&e.complete()},f=_=>c<r?y(_):l.push(_),y=_=>{o&&e.next(_),c++;let C=!1;pr(t(_,d++)).subscribe(tn(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let w=l.shift();s?bi(e,s,()=>y(w)):y(w)}g()}catch(w){e.error(w)}}))};return n.subscribe(tn(e,f,()=>{h=!0,g()})),()=>{a?.()}}function Cr(n,e,t=1/0){return Ft(e)?Cr((r,i)=>wt((o,s)=>e(r,o,i,s))(pr(n(r,i))),t):(typeof e=="number"&&(t=e),ln((r,i)=>pM(r,i,n,t)))}function gM(n=1/0){return Cr(ji,n)}function mM(){return gM(1)}function cd(...n){return mM()(Yn(n,ul(n)))}function Ef(n){return new Gt(e=>{pr(n()).subscribe(e)})}function zb(...n){let e=n0(n),{args:t,keys:r}=m0(n),i=new Gt(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let h=!1;pr(t[d]).subscribe(tn(o,g=>{h||(h=!0,c--),a[d]=g},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(r?v0(r,a):a),o.complete())}))}});return e?i.pipe(g0(e)):i}function vM(n=0,e,t=Jx){let r=-1;return e!=null&&(t0(e)?t=e:r=e),new Gt(i=>{let o=hM(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Sf(n=0,e=Ub){return n<0&&(n=0),vM(n,n,e)}function wi(n,e){return ln((t,r)=>{let i=0;t.subscribe(tn(r,o=>n.call(e,o,i++)&&r.next(o)))})}function dl(n){return ln((e,t)=>{let r=null,i=!1,o;r=e.subscribe(tn(t,void 0,void 0,s=>{o=pr(n(s,dl(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function yM(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(tn(s,d=>{let h=c++;l=a?n(l,d,h):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function hl(n,e){return Ft(e)?Cr(n,e,1):Cr(n,1)}function fl(n){return ln((e,t)=>{let r=!1;e.subscribe(tn(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fa(n){return n<=0?()=>_i:ln((e,t)=>{let r=0;e.subscribe(tn(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _0(n=G7){return ln((e,t)=>{let r=!1;e.subscribe(tn(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function G7(){return new ha}function vc(n){return ln((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function pa(n,e){let t=arguments.length>=2;return r=>r.pipe(n?wi((i,o)=>n(i,o,r)):ji,fa(1),t?fl(e):_0(()=>new ha))}function ud(n){return n<=0?()=>_i:ln((e,t)=>{let r=[];e.subscribe(tn(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hb(n,e){let t=arguments.length>=2;return r=>r.pipe(n?wi((i,o)=>n(i,o,r)):ji,ud(1),t?fl(e):_0(()=>new ha))}function qb(n,e){return ln(yM(n,e,arguments.length>=2,!0))}function $b(...n){let e=ul(n);return ln((t,r)=>{(e?cd(n,t,e):cd(n,t)).subscribe(r)})}function Ci(n,e){return ln((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(tn(r,l=>{i?.unsubscribe();let c=0,d=o++;pr(n(l,d)).subscribe(i=tn(r,h=>r.next(e?e(l,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function b0(n){return ln((e,t)=>{pr(n).subscribe(tn(t,()=>t.complete(),wf)),!t.closed&&e.subscribe(t)})}function Tr(n,e,t){let r=Ft(n)||e||t?{next:n,error:e,complete:t}:n;return r?ln((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(tn(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ji}function _M(n){let e=zt(null);try{return n()}finally{zt(e)}}var x0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Ie=class extends Error{code;constructor(e,t){super(ml(e,t)),this.code=e}};function W7(n){return`NG0${Math.abs(n)}`}function ml(n,e){return`${W7(n)}${e?": "+e:""}`}var jo=globalThis;function vn(n){for(let e in n)if(n[e]===vn)return e;throw Error("")}function CM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ma(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ma).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function M0(n,e){return n?e?`${n} ${e}`:n:e||""}var Y7=vn({__forward_ref__:vn});function ro(n){return n.__forward_ref__=ro,n.toString=function(){return ma(this())},n}function zr(n){return i5(n)?n():n}function i5(n){return typeof n=="function"&&n.hasOwnProperty(Y7)&&n.__forward_ref__===ro}function EM(n,e){n==null&&o5(e,n,null,"!=")}function o5(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function $e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function io(n){return{providers:n.providers||[],imports:n.imports||[]}}function Of(n){return K7(n,P0)}function s5(n){return Of(n)!==null}function K7(n,e){return n.hasOwnProperty(e)&&n[e]||null}function X7(n){let e=n?.[P0]??null;return e||null}function Wb(n){return n&&n.hasOwnProperty(C0)?n[C0]:null}var P0=vn({\u0275prov:vn}),C0=vn({\u0275inj:vn}),nt=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function a5(n){return n&&!!n.\u0275providers}var l5=vn({\u0275cmp:vn}),c5=vn({\u0275dir:vn}),u5=vn({\u0275pipe:vn}),d5=vn({\u0275mod:vn}),Pf=vn({\u0275fac:vn}),Cc=vn({__NG_ELEMENT_ID__:vn}),bM=vn({__NG_ENV_ID__:vn});function vl(n){return typeof n=="string"?n:n==null?"":String(n)}function E0(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():vl(n)}var h5=vn({ngErrorCode:vn}),SM=vn({ngErrorMessage:vn}),Mf=vn({ngTokenPath:vn});function f5(n,e){return xM("",-200,e)}function D0(n,e){throw new Ie(-201,!1)}function Z7(n,e){n[Mf]??=[];let t=n[Mf],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(EM(e.provide,"Token with multi: true should have a provide property"),r=E0(e.provide)):r=E0(e),t[0]!==r&&n[Mf].unshift(r)}function Q7(n,e){let t=n[Mf],r=n[h5],i=n[SM]||n.message;return n.message=eR(i,r,t,e),n}function xM(n,e,t){let r=new Ie(e,n);return r[h5]=e,r[SM]=n,t&&(r[Mf]=t),r}function J7(n){return n[h5]}function eR(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return ml(e,`${n}${o}${i}`)}var Yb;function MM(){return Yb}function li(n){let e=Yb;return Yb=n,e}function p5(n,e,t){let r=Of(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;D0(n,"Injector")}var tR={},yc=tR,Kb="__NG_DI_FLAG__",Xb=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=_c(t)||0;try{return this.injector.get(e,r&8?null:yc,r)}catch(i){if(Xu(i))return i;throw i}}};function nR(n,e=0){let t=Nm();if(t===void 0)throw new Ie(-203,!1);if(t===null)return p5(n,void 0,e);{let r=rR(e),i=t.retrieve(n,r);if(Xu(i)){if(r.optional)return null;throw i}return i}}function et(n,e=0){return(MM()||nR)(zr(n),e)}function Pe(n,e){return et(n,_c(e))}function _c(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rR(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Zb(n){let e=[];for(let t=0;t<n.length;t++){let r=zr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Ie(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=iR(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(et(i,o))}else e.push(et(r))}return e}function g5(n,e){return n[Kb]=e,n.prototype[Kb]=e,n}function iR(n){return n[Kb]}function pl(n,e){let t=n.hasOwnProperty(Pf);return t?n[Pf]:null}function PM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function DM(n){return n.flat(Number.POSITIVE_INFINITY)}function O0(n,e){n.forEach(t=>Array.isArray(t)?O0(t,e):e(t))}function m5(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Af(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function OM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function A0(n,e,t){let r=hd(n,e);return r>=0?n[r|1]=t:(r=~r,OM(n,r,e,t)),r}function I0(n,e){let t=hd(n,e);if(t>=0)return n[t|1]}function hd(n,e){return oR(n,e,1)}function oR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var yl={},ci=[],ya=new nt(""),v5=new nt("",-1),y5=new nt(""),Df=class{get(e,t=yc){if(t===yc){let i=xM("",-201);throw i.name="\u0275NotFound",i}return t}};function _5(n){return n[d5]||null}function _l(n){return n[l5]||null}function b5(n){return n[c5]||null}function AM(n){return n[u5]||null}function _a(n){return{\u0275providers:n}}function IM(n){return _a([{provide:ya,multi:!0,useValue:n}])}function TM(...n){return{\u0275providers:w5(!0,n),\u0275fromNgModule:!0}}function w5(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return O0(e,s=>{let a=s;S0(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&NM(i,o),t}function NM(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];C5(i,o=>{e(o,r)})}}function S0(n,e,t,r){if(n=zr(n),!n)return!1;let i=null,o=Wb(n),s=!o&&_l(n);if(!o&&!s){let l=n.ngModule;if(o=Wb(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)S0(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{O0(o.imports,d=>{S0(d,e,t,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&NM(c,e)}if(!a){let c=pl(i)||(()=>new i);e({provide:i,useFactory:c,deps:ci},i),e({provide:y5,useValue:i,multi:!0},i),e({provide:ya,useValue:()=>et(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;C5(l,d=>{e(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function C5(n,e){for(let t of n)a5(t)&&(t=t.\u0275providers),Array.isArray(t)?C5(t,e):e(t)}var sR=vn({provide:String,useValue:vn});function kM(n){return n!==null&&typeof n=="object"&&sR in n}function aR(n){return!!(n&&n.useExisting)}function lR(n){return!!(n&&n.useFactory)}function bc(n){return typeof n=="function"}function RM(n){return!!n.useClass}var If=new nt(""),w0={},wM={},Gb;function Tf(){return Gb===void 0&&(Gb=new Df),Gb}var gr=class{},wc=class extends gr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Jb(e,s=>this.processProvider(s)),this.records.set(v5,dd(void 0,this)),i.has("environment")&&this.records.set(gr,dd(void 0,this));let o=this.records.get(If);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(y5,ci,{self:!0}))}retrieve(e,t){let r=_c(t)||0;try{return this.get(e,yc,r)}catch(i){if(Xu(i))return i;throw i}}destroy(){xf(this),this._destroyed=!0;let e=zt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),zt(e)}}onDestroy(e){return xf(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){xf(this);let t=_s(this),r=li(void 0),i;try{return e()}finally{_s(t),li(r)}}get(e,t=yc,r){if(xf(this),e.hasOwnProperty(bM))return e[bM](this);let i=_c(r),o,s=_s(this),a=li(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let d=fR(e)&&Of(e);d&&this.injectableDefInScope(d)?c=dd(Qb(e),w0):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?Tf():this.parent;return t=i&8&&t===yc?null:t,l.get(e,t)}catch(l){let c=J7(l);throw c===-200||c===-201?new Ie(c,null):l}finally{li(a),_s(s)}}resolveInjectorInitializers(){let e=zt(null),t=_s(this),r=li(void 0),i;try{let o=this.get(ya,ci,{self:!0});for(let s of o)s()}finally{_s(t),li(r),zt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ma(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=zr(e);let t=bc(e)?e:zr(e&&e.provide),r=uR(e);if(!bc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=dd(void 0,w0,!0),i.factory=()=>Zb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=zt(null);try{if(t.value===wM)throw f5(ma(e));return t.value===w0&&(t.value=wM,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&hR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{zt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=zr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Qb(n){let e=Of(n),t=e!==null?e.factory:pl(n);if(t!==null)return t;if(n instanceof nt)throw new Ie(204,!1);if(n instanceof Function)return cR(n);throw new Ie(204,!1)}function cR(n){if(n.length>0)throw new Ie(204,!1);let t=X7(n);return t!==null?()=>t.factory(n):()=>new n}function uR(n){if(kM(n))return dd(void 0,n.useValue);{let e=E5(n);return dd(e,w0)}}function E5(n,e,t){let r;if(bc(n)){let i=zr(n);return pl(i)||Qb(i)}else if(kM(n))r=()=>zr(n.useValue);else if(lR(n))r=()=>n.useFactory(...Zb(n.deps||[]));else if(aR(n))r=(i,o)=>et(zr(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=zr(n&&(n.useClass||n.provide));if(dR(n))r=()=>new i(...Zb(n.deps));else return pl(i)||Qb(i)}return r}function xf(n){if(n.destroyed)throw new Ie(205,!1)}function dd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function dR(n){return!!n.deps}function hR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function fR(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Jb(n,e){for(let t of n)Array.isArray(t)?Jb(t,e):t&&a5(t)?Jb(t.\u0275providers,e):e(t)}function Hr(n,e){let t;n instanceof wc?(xf(n),t=n):t=new Xb(n);let r,i=_s(t),o=li(void 0);try{return e()}finally{_s(i),li(o)}}function LM(){return MM()!==void 0||Nm()!=null}var Bo=0,xt=1,At=2,Nr=3,oo=4,so=5,Nf=6,fd=7,Xr=8,Ec=9,bs=10,Bn=11,pd=12,S5=13,Sc=14,ao=15,bl=16,xc=17,ws=18,kf=19,x5=20,ga=21,T0=22,Rf=23,Ui=24,Mc=25,qr=26,FM=1;var wl=7,Lf=8,Pc=9,ui=10;function Cs(n){return Array.isArray(n)&&typeof n[FM]=="object"}function Uo(n){return Array.isArray(n)&&n[FM]===!0}function M5(n){return(n.flags&4)!==0}function Cl(n){return n.componentOffset>-1}function Ff(n){return(n.flags&1)===1}function Es(n){return!!n.template}function gd(n){return(n[At]&512)!==0}function Dc(n){return(n[At]&256)===256}var P5="svg",jM="math";function lo(n){for(;Array.isArray(n);)n=n[Bo];return n}function D5(n,e){return lo(e[n])}function Vo(n,e){return lo(e[n.index])}function N0(n,e){return n.data[e]}function O5(n,e){return n[e]}function A5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function co(n,e){let t=e[n];return Cs(t)?t:t[Bo]}function BM(n){return(n[At]&4)===4}function k0(n){return(n[At]&128)===128}function UM(n){return Uo(n[Nr])}function Oc(n,e){return e==null?null:n[e]}function I5(n){n[xc]=0}function T5(n){n[At]&1024||(n[At]|=1024,k0(n)&&md(n))}function VM(n,e){for(;n>0;)e=e[Sc],n--;return e}function jf(n){return!!(n[At]&9216||n[Ui]?.dirty)}function R0(n){n[bs].changeDetectionScheduler?.notify(8),n[At]&64&&(n[At]|=1024),jf(n)&&md(n)}function md(n){n[bs].changeDetectionScheduler?.notify(0);let e=gl(n);for(;e!==null&&!(e[At]&8192||(e[At]|=8192,!k0(e)));)e=gl(e)}function N5(n,e){if(Dc(n))throw new Ie(911,!1);n[ga]===null&&(n[ga]=[]),n[ga].push(e)}function zM(n,e){if(n[ga]===null)return;let t=n[ga].indexOf(e);t!==-1&&n[ga].splice(t,1)}function gl(n){let e=n[Nr];return Uo(e)?e[Nr]:e}function k5(n){return n[fd]??=[]}function R5(n){return n.cleanup??=[]}function HM(n,e,t,r){let i=k5(e);i.push(t),n.firstCreatePass&&R5(n).push(r,i.length-1)}var Ht={lFrame:i4(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Bf=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Bf||{}),pR=0,e5=!1;function qM(){return Ht.lFrame.elementDepthCount}function $M(){Ht.lFrame.elementDepthCount++}function L5(){Ht.lFrame.elementDepthCount--}function F5(){return Ht.bindingsEnabled}function GM(){return Ht.skipHydrationRootTNode!==null}function j5(n){return Ht.skipHydrationRootTNode===n}function B5(){Ht.skipHydrationRootTNode=null}function nn(){return Ht.lFrame.lView}function kr(){return Ht.lFrame.tView}function ft(n){return Ht.lFrame.contextLView=n,n[Xr]}function pt(n){return Ht.lFrame.contextLView=null,n}function Rr(){let n=U5();for(;n!==null&&n.type===64;)n=n.parent;return n}function U5(){return Ht.lFrame.currentTNode}function WM(){let n=Ht.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function vd(n,e){let t=Ht.lFrame;t.currentTNode=n,t.isParent=e}function V5(){return Ht.lFrame.isParent}function YM(){Ht.lFrame.isParent=!1}function KM(){return Ht.lFrame.contextLView}function z5(n){o5("Must never be called in production mode"),pR=n}function H5(){return e5}function q5(n){let e=e5;return e5=n,e}function XM(){let n=Ht.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ZM(){return Ht.lFrame.bindingIndex}function QM(n){return Ht.lFrame.bindingIndex=n}function Uf(){return Ht.lFrame.bindingIndex++}function L0(n){let e=Ht.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function JM(){return Ht.lFrame.inI18n}function e4(n,e){let t=Ht.lFrame;t.bindingIndex=t.bindingRootIndex=n,F0(e)}function t4(){return Ht.lFrame.currentDirectiveIndex}function F0(n){Ht.lFrame.currentDirectiveIndex=n}function n4(n){let e=Ht.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function $5(){return Ht.lFrame.currentQueryIndex}function j0(n){Ht.lFrame.currentQueryIndex=n}function gR(n){let e=n[xt];return e.type===2?e.declTNode:e.type===1?n[so]:null}function G5(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=gR(o),i===null||(o=o[Sc],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ht.lFrame=r4();return r.currentTNode=e,r.lView=n,!0}function B0(n){let e=r4(),t=n[xt];Ht.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function r4(){let n=Ht.lFrame,e=n===null?null:n.child;return e===null?i4(n):e}function i4(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function o4(){let n=Ht.lFrame;return Ht.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var W5=o4;function U0(){let n=o4();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function s4(n){return(Ht.lFrame.contextLView=VM(n,Ht.lFrame.contextLView))[Xr]}function ba(){return Ht.lFrame.selectedIndex}function El(n){Ht.lFrame.selectedIndex=n}function V0(){let n=Ht.lFrame;return N0(n.tView,n.selectedIndex)}function z0(){Ht.lFrame.currentNamespace=P5}function a4(){return Ht.lFrame.currentNamespace}var l4=!0;function H0(){return l4}function q0(n){l4=n}function t5(n,e=null,t=null,r){let i=Y5(n,e,t,r);return i.resolveInjectorInitializers(),i}function Y5(n,e=null,t=null,r,i=new Set){let o=[t||ci,TM(n)];return r=r||(typeof n=="object"?void 0:ma(n)),new wc(o,e||Tf(),r||null,i)}var Bi=class n{static THROW_IF_NOT_FOUND=yc;static NULL=new Df;static create(e,t){if(Array.isArray(e))return t5({name:""},t,e,"");{let r=e.name??"";return t5({name:r},e.parent,e.providers,r)}}static \u0275prov=$e({token:n,providedIn:"any",factory:()=>et(v5)});static __NG_ELEMENT_ID__=-1},Un=new nt(""),uo=(()=>{class n{static __NG_ELEMENT_ID__=mR;static __NG_ENV_ID__=t=>t}return n})(),n5=class extends uo{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Dc(this._lView)}onDestroy(e){let t=this._lView;return N5(t,e),()=>zM(t,e)}};function mR(){return new n5(nn())}var Fo=class{_console=console;handleError(e){this._console.error("ERROR",e)}},di=new nt("",{providedIn:"root",factory:()=>{let n=Pe(gr),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Fo),e.handleError(t))}}}),c4={provide:ya,useValue:()=>void Pe(Fo),multi:!0},vR=new nt("",{providedIn:"root",factory:()=>{let n=Pe(Un).defaultView;if(!n)return;let e=Pe(di),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),Pe(uo).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function K5(){return _a([IM(()=>void Pe(vR))])}function X5(n){return typeof n=="function"&&n[Kr]!==void 0}function Ss(n,e){let[t,r,i]=Db(n,e?.equal),o=t,s=o[Kr];return o.set=r,o.update=i,o.asReadonly=u4.bind(o),o}function u4(){let n=this[Kr];if(n.readonlyFn===void 0){let e=()=>this();e[Kr]=n,n.readonlyFn=e}return n.readonlyFn}function Z5(n){return X5(n)&&typeof n.set=="function"}var va=class{},Vf=new nt("",{providedIn:"root",factory:()=>!1});var Q5=new nt(""),J5=new nt("");var $0=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=yR}return n})();function yR(){return new $0(nn(),Rr())}var xs=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Nn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Gt(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new n})}return n})(),G0=(()=>{class n{internalPendingTasks=Pe(xs);scheduler=Pe(va);errorHandler=Pe(di);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new n})}return n})();function zf(...n){}var ew=(()=>{class n{static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new r5})}return n})(),r5=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Sd(n){return{toString:n}.toString()}var W0="__parameters__";function xR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function $4(n,e,t){return Sd(()=>{let r=xR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,d){let h=l.hasOwnProperty(W0)?l[W0]:Object.defineProperty(l,W0,{value:[]})[W0];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var G4=g5($4("Optional"),8);var W4=g5($4("SkipSelf"),4);function MR(n){return typeof n=="function"}var r1=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Y4(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ea=(()=>{let n=()=>K4;return n.ngInherit=!0,n})();function K4(n){return n.type.prototype.ngOnChanges&&(n.setInput=DR),PR}function PR(){let n=Z4(this),e=n?.current;if(e){let t=n.previous;if(t===yl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function DR(n,e,t,r,i){let o=this.declaredInputs[r],s=Z4(n)||OR(n,{previous:yl,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new r1(c&&c.currentValue,t,l===yl),Y4(n,e,i,t)}var X4="__ngSimpleChanges__";function Z4(n){return n[X4]||null}function OR(n,e){return n[X4]=e}var d4=[];var bn=function(n,e=null,t){for(let r=0;r<d4.length;r++){let i=d4[r];i(n,e,t)}};function AR(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=K4(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Q4(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Q0(n,e,t){J4(n,e,3,t)}function J0(n,e,t,r){(n[At]&3)===t&&J4(n,e,t,r)}function tw(n,e){let t=n[At];(t&3)===e&&(t&=16383,t+=1,n[At]=t)}function J4(n,e,t,r){let i=r!==void 0?n[xc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[xc]+=65536),(a<o||o==-1)&&(IR(n,t,e,l),n[xc]=(n[xc]&4294901760)+l+2),l++}function h4(n,e){bn(4,n,e);let t=zt(null);try{e.call(n)}finally{zt(t),bn(5,n,e)}}function IR(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[At]>>14<n[xc]>>16&&(n[At]&3)===e&&(n[At]+=16384,h4(a,o)):h4(a,o)}var _d=-1,Tc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function TR(n){return(n.flags&8)!==0}function NR(n){return(n.flags&16)!==0}function kR(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];RR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function eP(n){return n===3||n===4||n===6}function RR(n){return n.charCodeAt(0)===64}function bd(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?f4(n,t,i,null,e[++r]):f4(n,t,i,null,null))}}return n}function f4(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function tP(n){return n!==_d}function i1(n){return n&32767}function LR(n){return n>>16}function o1(n,e){let t=LR(n),r=e;for(;t>0;)r=r[Sc],t--;return r}var dw=!0;function s1(n){let e=dw;return dw=n,e}var FR=256,nP=FR-1,rP=5,jR=0,Ms={};function BR(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Cc)&&(r=t[Cc]),r==null&&(r=t[Cc]=jR++);let i=r&nP,o=1<<i;e.data[n+(i>>rP)]|=o}function a1(n,e){let t=iP(n,e);if(t!==-1)return t;let r=e[xt];r.firstCreatePass&&(n.injectorIndex=e.length,nw(r.data,n),nw(e,null),nw(r.blueprint,null));let i=Uw(n,e),o=n.injectorIndex;if(tP(i)){let s=i1(i),a=o1(i,e),l=a[xt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function nw(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Uw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=cP(i),r===null)return _d;if(t++,i=i[Sc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _d}function hw(n,e,t){BR(n,e,t)}function UR(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(eP(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function oP(n,e,t){if(t&8||n!==void 0)return n;D0(e,"NodeInjector")}function sP(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ec],o=li(void 0);try{return i?i.get(e,r,t&8):p5(e,r,t&8)}finally{li(o)}}return oP(r,e,t)}function aP(n,e,t,r=0,i){if(n!==null){if(e[At]&2048&&!(r&2)){let s=qR(n,e,t,r,Ms);if(s!==Ms)return s}let o=lP(n,e,t,r,Ms);if(o!==Ms)return o}return sP(e,t,r,i)}function lP(n,e,t,r,i){let o=zR(t);if(typeof o=="function"){if(!G5(e,n,r))return r&1?oP(i,t,r):sP(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))D0(t);else return s}finally{W5()}}else if(typeof o=="number"){let s=null,a=iP(n,e),l=_d,c=r&1?e[ao][so]:null;for((a===-1||r&4)&&(l=a===-1?Uw(n,e):e[a+8],l===_d||!g4(r,!1)?a=-1:(s=e[xt],a=i1(l),e=o1(l,e)));a!==-1;){let d=e[xt];if(p4(o,a,d.data)){let h=VR(a,e,t,s,r,c);if(h!==Ms)return h}l=e[a+8],l!==_d&&g4(r,e[xt].data[a+8]===c)&&p4(o,a,e)?(s=d,a=i1(l),e=o1(l,e)):a=-1}}return i}function VR(n,e,t,r,i,o){let s=e[xt],a=s.data[n+8],l=r==null?Cl(a)&&dw:r!=s&&(a.type&3)!==0,c=i&1&&o===a,d=e1(a,s,t,l,c);return d!==null?$f(e,s,d,a,i):Ms}function e1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,d=o>>20,h=r?a:a+d,g=i?a+d:c;for(let f=h;f<g;f++){let y=s[f];if(f<l&&t===y||f>=l&&y.type===t)return f}if(i){let f=s[l];if(f&&Es(f)&&f.type===t)return l}return null}function $f(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Tc){let a=o;if(a.resolving){let f=E0(s[t]);throw f5(f)}let l=s1(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],d,h=a.injectImpl?li(a.injectImpl):null,g=G5(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&AR(t,s[t],e)}finally{h!==null&&li(h),s1(l),a.resolving=!1,W5()}}return o}function zR(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Cc)?n[Cc]:void 0;return typeof e=="number"?e>=0?e&nP:HR:e}function p4(n,e,t){let r=1<<n;return!!(t[e+(n>>rP)]&r)}function g4(n,e){return!(n&2)&&!(n&1&&e)}var Ic=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aP(this._tNode,this._lView,e,_c(r),t)}};function HR(){return new Ic(Rr(),nn())}function qo(n){return Sd(()=>{let e=n.prototype.constructor,t=e[Pf]||fw(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Pf]||fw(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fw(n){return i5(n)?()=>{let e=fw(zr(n));return e&&e()}:pl(n)}function qR(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[At]&2048&&!gd(s);){let a=lP(o,s,t,r|2,Ms);if(a!==Ms)return a;let l=o.parent;if(!l){let c=s[x5];if(c){let d=c.get(t,Ms,r);if(d!==Ms)return d}l=cP(s),s=s[Sc]}o=l}return i}function cP(n){let e=n[xt],t=e.type;return t===2?e.declTNode:t===1?n[so]:null}function Kf(n){return UR(Rr(),n)}function $R(){return xd(Rr(),nn())}function xd(n,e){return new Ei(Vo(n,e))}var Ei=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=$R}return n})();function GR(n){return n instanceof Ei?n.nativeElement:n}function WR(){return this._results[Symbol.iterator]()}var l1=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new rr}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=DM(e);(this._changesDetected=!PM(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=WR};function uP(n){return(n.flags&128)===128}var Vw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Vw||{}),dP=new Map,YR=0;function KR(){return YR++}function XR(n){dP.set(n[kf],n)}function pw(n){dP.delete(n[kf])}var m4="__ngContext__";function wd(n,e){Cs(e)?(n[m4]=e[kf],XR(e)):n[m4]=e}function hP(n){return pP(n[pd])}function fP(n){return pP(n[oo])}function pP(n){for(;n!==null&&!Uo(n);)n=n[oo];return n}var gw;function zw(n){gw=n}function Hw(){if(gw!==void 0)return gw;if(typeof document<"u")return document;throw new Ie(210,!1)}var w1=new nt("",{providedIn:"root",factory:()=>ZR}),ZR="ng",C1=new nt(""),Md=new nt("",{providedIn:"platform",factory:()=>"unknown"});var E1=new nt(""),S1=new nt("",{providedIn:"root",factory:()=>Hw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QR="h",JR="b";var gP=!1,mP=new nt("",{providedIn:"root",factory:()=>gP});var e9=(n,e,t,r)=>{};function t9(n,e,t,r){e9(n,e,t,r)}function qw(n){return(n.flags&32)===32}var n9=()=>null;function vP(n,e,t=!1){return n9(n,e,t)}function yP(n,e){let t=n.contentQueries;if(t!==null){let r=zt(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];j0(o),a.contentQueries(2,e[s],s)}}}finally{zt(r)}}}function mw(n,e,t){j0(0);let r=zt(null);try{e(n,t)}finally{zt(r)}}function _P(n,e,t){if(M5(e)){let r=zt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{zt(r)}}}var wa=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(wa||{}),Y0;function r9(){if(Y0===void 0&&(Y0=null,jo.trustedTypes))try{Y0=jo.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Y0}function x1(n){return r9()?.createHTML(n)||n}var K0;function bP(){if(K0===void 0&&(K0=null,jo.trustedTypes))try{K0=jo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return K0}function v4(n){return bP()?.createHTML(n)||n}function y4(n){return bP()?.createScriptURL(n)||n}var c1=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${x0})`}};function Rc(n){return n instanceof c1?n.changingThisBreaksApplicationSecurity:n}function M1(n,e){let t=wP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${x0})`)}return t===e}function wP(n){return n instanceof c1&&n.getTypeName()||null}function i9(n){let e=new yw(n);return o9()?new vw(e):e}var vw=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(x1(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},yw=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=x1(e),t}};function o9(){try{return!!new window.DOMParser().parseFromString(x1(""),"text/html")}catch{return!1}}var s9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $w(n){return n=String(n),n.match(s9)?n:"unsafe:"+n}function Sa(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Xf(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var CP=Sa("area,br,col,hr,img,wbr"),EP=Sa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SP=Sa("rp,rt"),a9=Xf(SP,EP),l9=Xf(EP,Sa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),c9=Xf(SP,Sa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_4=Xf(CP,l9,c9,a9),xP=Sa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),u9=Sa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),d9=Sa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),h9=Xf(xP,u9,d9),f9=Sa("script,style,template"),_w=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=m9(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=g9(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=b4(e).toLowerCase();if(!_4.hasOwnProperty(t))return this.sanitizedSomething=!0,!f9.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!h9.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;xP[a]&&(l=$w(l)),this.buf.push(" ",s,'="',w4(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=b4(e).toLowerCase();_4.hasOwnProperty(t)&&!CP.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(w4(e))}};function p9(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function g9(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw MP(e);return e}function m9(n){let e=n.firstChild;if(e&&p9(n,e))throw MP(e);return e}function b4(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function MP(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var v9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y9=/([^\#-~ |!])/g;function w4(n){return n.replace(/&/g,"&amp;").replace(v9,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(y9,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var X0;function PP(n,e){let t=null;try{X0=X0||i9(n);let r=e?String(e):"";t=X0.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=X0.getInertBodyElement(r)}while(r!==o);let a=new _w().sanitizeChildren(C4(t)||t);return x1(a)}finally{if(t){let r=C4(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function C4(n){return"content"in n&&_9(n)?n.content:null}function _9(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Zf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Zf||{});function Gw(n){let e=Yw();return e?v4(e.sanitize(Zf.HTML,n)||""):M1(n,"HTML")?v4(Rc(n)):PP(Hw(),vl(n))}function DP(n){let e=Yw();return e?e.sanitize(Zf.URL,n)||"":M1(n,"URL")?Rc(n):$w(vl(n))}function OP(n){let e=Yw();if(e)return y4(e.sanitize(Zf.RESOURCE_URL,n)||"");if(M1(n,"ResourceURL"))return y4(Rc(n));throw new Ie(904,!1)}function b9(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?OP:DP}function Ww(n,e,t){return b9(e,t)(n)}function Yw(){let n=nn();return n&&n[bs].sanitizer}function Kw(n){return n.ownerDocument}function AP(n){return n instanceof Function?n():n}function w9(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var IP="ng-template";function C9(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&w9(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Xw(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Xw(n){return n.type===4&&n.value!==IP}function E9(n,e,t){let r=n.type===4&&!t?IP:n.value;return e===r}function S9(n,e,t){let r=4,i=n.attrs,o=i!==null?P9(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!zo(r)&&!zo(l))return!1;if(s&&zo(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!E9(n,l,t)||l===""&&e.length===1){if(zo(r))return!1;s=!0}}else if(r&8){if(i===null||!C9(n,i,l,t)){if(zo(r))return!1;s=!0}}else{let c=e[++a],d=x9(l,i,Xw(n),t);if(d===-1){if(zo(r))return!1;s=!0;continue}if(c!==""){let h;if(d>o?h="":h=i[d+1].toLowerCase(),r&2&&c!==h){if(zo(r))return!1;s=!0}}}}return zo(r)||s}function zo(n){return(n&1)===0}function x9(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return D9(e,n)}function M9(n,e,t=!1){for(let r=0;r<e.length;r++)if(S9(n,e[r],t))return!0;return!1}function P9(n){for(let e=0;e<n.length;e++){let t=n[e];if(eP(t))return e}return n.length}function D9(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function E4(n,e){return n?":not("+e.trim()+")":e}function O9(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!zo(s)&&(e+=E4(o,i),i=""),r=s,o=o||!zo(r);t++}return i!==""&&(e+=E4(o,i)),e}function A9(n){return n.map(O9).join(",")}function I9(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!zo(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Vi={};function T9(n,e){return n.createText(e)}function N9(n,e,t){n.setValue(e,t)}function TP(n,e,t){return n.createElement(e,t)}function u1(n,e,t,r,i){n.insertBefore(e,t,r,i)}function NP(n,e,t){n.appendChild(e,t)}function S4(n,e,t,r,i){r!==null?u1(n,e,t,r,i):NP(n,e,t)}function k9(n,e,t){n.removeChild(null,e,t)}function R9(n,e,t){n.setAttribute(e,"style",t)}function L9(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kP(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&kR(n,e,r),i!==null&&L9(n,e,i),o!==null&&R9(n,e,o)}function Zw(n,e,t,r,i,o,s,a,l,c,d){let h=qr+r,g=h+i,f=F9(h,g),y=typeof c=="function"?c():c;return f[xt]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function F9(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vi);return t}function j9(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Zw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Qw(n,e,t,r,i,o,s,a,l,c,d){let h=e.blueprint.slice();return h[Bo]=i,h[At]=r|4|128|8|64|1024,(c!==null||n&&n[At]&2048)&&(h[At]|=2048),I5(h),h[Nr]=h[Sc]=n,h[Xr]=t,h[bs]=s||n&&n[bs],h[Bn]=a||n&&n[Bn],h[Ec]=l||n&&n[Ec]||null,h[so]=o,h[kf]=KR(),h[Nf]=d,h[x5]=c,h[ao]=e.type==2?n[ao]:h,h}function B9(n,e,t){let r=Vo(e,n),i=j9(t),o=n[bs].rendererFactory,s=Jw(n,Qw(n,i,null,RP(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function RP(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function LP(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Jw(n,e){return n[pd]?n[S5][oo]=e:n[pd]=e,n[S5]=e,e}function Ue(n=1){FP(kr(),nn(),ba()+n,!1)}function FP(n,e,t,r){if(!r)if((e[At]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Q0(e,o,t)}else{let o=n.preOrderHooks;o!==null&&J0(e,o,0,t)}El(t)}var P1=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(P1||{});function bw(n,e,t,r){let i=zt(null);try{let[o,s,a]=n.inputs[t],l=null;(s&P1.SignalBased)!==0&&(l=e[o][Kr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):Y4(e,l,o,r)}finally{zt(i)}}var Ps=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ps||{}),U9;function eC(n,e){return U9(n,e)}function yd(n,e,t,r,i){if(r!=null){let o,s=!1;Uo(r)?o=r:Cs(r)&&(s=!0,r=r[Bo]);let a=lo(r);n===0&&t!==null?i==null?NP(e,t,a):u1(e,t,a,i||null,!0):n===1&&t!==null?u1(e,t,a,i||null,!0):n===2?k9(e,a,s):n===3&&e.destroyNode(a),o!=null&&Q9(e,n,o,t,i)}}function V9(n,e){jP(n,e),e[Bo]=null,e[so]=null}function z9(n,e,t,r,i,o){r[Bo]=i,r[so]=e,D1(n,r,t,1,i,o)}function jP(n,e){e[bs].changeDetectionScheduler?.notify(9),D1(n,e,e[Bn],2,null,null)}function H9(n){let e=n[pd];if(!e)return rw(n[xt],n);for(;e;){let t=null;if(Cs(e))t=e[pd];else{let r=e[ui];r&&(t=r)}if(!t){for(;e&&!e[oo]&&e!==n;)Cs(e)&&rw(e[xt],e),e=e[Nr];e===null&&(e=n),Cs(e)&&rw(e[xt],e),t=e&&e[oo]}e=t}}function tC(n,e){let t=n[Pc],r=t.indexOf(e);t.splice(r,1)}function BP(n,e){if(Dc(e))return;let t=e[Bn];t.destroyNode&&D1(n,e,t,3,null,null),H9(e)}function rw(n,e){if(Dc(e))return;let t=zt(null);try{e[At]&=-129,e[At]|=256,e[Ui]&&Vm(e[Ui]),$9(n,e),q9(n,e),e[xt].type===1&&e[Bn].destroy();let r=e[bl];if(r!==null&&Uo(e[Nr])){r!==e[Nr]&&tC(r,e);let i=e[ws];i!==null&&i.detachView(n)}pw(e)}finally{zt(t)}}function q9(n,e){let t=n.cleanup,r=e[fd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[fd]=null);let i=e[ga];if(i!==null){e[ga]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Rf];if(o!==null){e[Rf]=null;for(let s of o)s.destroy()}}function $9(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Tc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];bn(4,a,l);try{l.call(a)}finally{bn(5,a,l)}}else{bn(4,i,o);try{o.call(i)}finally{bn(5,i,o)}}}}}function G9(n,e,t){return W9(n,e.parent,t)}function W9(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Bo];if(Cl(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===wa.None||i===wa.Emulated)return null}return Vo(r,t)}function Y9(n,e,t){return X9(n,e,t)}function K9(n,e,t){return n.type&40?Vo(n,t):null}var X9=K9,x4;function nC(n,e,t,r){let i=G9(n,r,e),o=e[Bn],s=r.parent||e[so],a=Y9(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)S4(o,i,t[l],a,!1);else S4(o,i,t,a,!1);x4!==void 0&&x4(o,r,e,t,i)}function Hf(n,e){if(e!==null){let t=e.type;if(t&3)return Vo(e,n);if(t&4)return ww(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Hf(n,r);{let i=n[e.index];return Uo(i)?ww(-1,i):lo(i)}}else{if(t&128)return Hf(n,e.next);if(t&32)return eC(e,n)()||lo(n[e.index]);{let r=UP(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gl(n[ao]);return Hf(i,r)}else return Hf(n,e.next)}}}return null}function UP(n,e){if(e!==null){let r=n[ao][so],i=e.projection;return r.projection[i]}return null}function ww(n,e){let t=ui+n+1;if(t<e.length){let r=e[t],i=r[xt].firstChild;if(i!==null)return Hf(r,i)}return e[wl]}function rC(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&wd(lo(a),r),t.flags|=2),!qw(t))if(l&8)rC(n,e,t.child,r,i,o,!1),yd(e,n,i,a,o);else if(l&32){let c=eC(t,r),d;for(;d=c();)yd(e,n,i,d,o);yd(e,n,i,a,o)}else l&16?Z9(n,e,r,t,i,o):yd(e,n,i,a,o);t=s?t.projectionNext:t.next}}function D1(n,e,t,r,i,o){rC(t,r,n.firstChild,e,i,o,!1)}function Z9(n,e,t,r,i,o){let s=t[ao],l=s[so].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];yd(e,n,i,d,o)}else{let c=l,d=s[Nr];uP(r)&&(c.flags|=128),rC(n,e,c,d,i,o,!0)}}function Q9(n,e,t,r,i){let o=t[wl],s=lo(t);o!==s&&yd(e,n,r,o,i);for(let a=ui;a<t.length;a++){let l=t[a];D1(l[xt],l,n,e,r,o)}}function J9(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ps.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ps.Important),n.setStyle(t,r,i,o))}}function VP(n,e,t,r,i){let o=ba(),s=r&2;try{El(-1),s&&e.length>qr&&FP(n,e,qr,!1),bn(s?2:0,i,t),t(r,i)}finally{El(o),bn(s?3:1,i,t)}}function iC(n,e,t){sL(n,e,t),(t.flags&64)===64&&aL(n,e,t)}function oC(n,e,t=Vo){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function eL(n,e,t,r){let o=r.get(mP,gP)||t===wa.ShadowDom,s=n.selectRootElement(e,o);return tL(s),s}function tL(n){nL(n)}var nL=()=>null;function rL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function zP(n,e,t,r,i,o){let s=e[xt];if(sC(n,s,e,t,r)){Cl(n)&&oL(e,n.index);return}n.type&3&&(t=rL(t)),iL(n,e,t,r,i,o)}function iL(n,e,t,r,i,o){if(n.type&3){let s=Vo(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function oL(n,e){let t=co(e,n);t[At]&16||(t[At]|=64)}function sL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Cl(t)&&B9(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||a1(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=$f(e,n,s,t);if(wd(l,e),o!==null&&dL(e,s-r,l,a,t,o),Es(a)){let c=co(t.index,e);c[Xr]=$f(e,n,s,t)}}}function aL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=t4();try{El(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];F0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&lL(l,c)}}finally{El(-1),F0(s)}}function lL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function HP(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];M9(e,o.selectors,!1)&&(r??=[],Es(o)?r.unshift(o):r.push(o))}return r}function cL(n,e,t,r,i,o){let s=Vo(n,e);uL(e[Bn],s,o,n.value,t,r,i)}function uL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?vl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function dL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];bw(r,t,l,c)}}function qP(n,e,t,r,i){let o=qr+t,s=e[xt],a=i(s,e,n,r,t);e[o]=a,vd(n,!0);let l=n.type===2;return l?(kP(e[Bn],a,n),(qM()===0||Ff(n))&&wd(a,e),$M()):wd(a,e),H0()&&(!l||!qw(n))&&nC(s,e,a,n),n}function $P(n){let e=n;return V5()?YM():(e=e.parent,vd(e,!1)),e}function hL(n,e){let t=n[Ec];if(!t)return;t.get(di,null)?.(e)}function sC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],h=e.data[c];bw(h,t[c],d,i),a=!0}if(o)for(let l of o){let c=t[l],d=e.data[l];bw(d,c,r,i),a=!0}return a}function fL(n,e){let t=co(e,n),r=t[xt];pL(r,t);let i=t[Bo];i!==null&&t[Nf]===null&&(t[Nf]=vP(i,t[Ec])),bn(18),aC(r,t,t[Xr]),bn(19,t[Xr])}function pL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function aC(n,e,t){B0(e);try{let r=n.viewQuery;r!==null&&mw(1,r,t);let i=n.template;i!==null&&VP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ws]?.finishViewCreation(n),n.staticContentQueries&&yP(n,e),n.staticViewQueries&&mw(2,n.viewQuery,t);let o=n.components;o!==null&&gL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[At]&=-5,U0()}}function gL(n,e){for(let t=0;t<e.length;t++)fL(n,e[t])}function mL(n,e,t,r){let i=zt(null);try{let o=e.tView,a=n[At]&4096?4096:16,l=Qw(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[bl]=c;let d=n[ws];return d!==null&&(l[ws]=d.createEmbeddedView(o)),aC(o,l,t),l}finally{zt(i)}}function M4(n,e){return!e||e.firstChild===null||uP(n)}var P4=!1,vL=new nt("");function Gf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(lo(o)),Uo(o)&&GP(o,r);let s=t.type;if(s&8)Gf(n,e,t.child,r);else if(s&32){let a=eC(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=UP(e,t);if(Array.isArray(a))r.push(...a);else{let l=gl(e[ao]);Gf(l[xt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function GP(n,e){for(let t=ui;t<n.length;t++){let r=n[t],i=r[xt].firstChild;i!==null&&Gf(r[xt],r,i,e)}n[wl]!==n[Bo]&&e.push(n[wl])}function WP(n){if(n[Mc]!==null){for(let e of n[Mc])e.impl.addSequence(e);n[Mc].length=0}}var YP=[];function yL(n){return n[Ui]??_L(n)}function _L(n){let e=YP.pop()??Object.create(wL);return e.lView=n,e}function bL(n){n.lView[Ui]!==n&&(n.lView=null,YP.push(n))}var wL=Et(Ae({},dc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{md(n.lView)},consumerOnSignalRead(){this.lView[Ui]=this}});function CL(n){let e=n[Ui]??Object.create(EL);return e.lView=n,e}var EL=Et(Ae({},dc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=gl(n.lView);for(;e&&!KP(e[xt]);)e=gl(e);e&&T5(e)},consumerOnSignalRead(){this.lView[Ui]=this}});function KP(n){return n.type!==2}function XP(n){if(n[Rf]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Rf])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[At]&8192)}}var SL=100;function lC(n,e=0){let r=n[bs].rendererFactory,i=!1;i||r.begin?.();try{xL(n,e)}finally{i||r.end?.()}}function xL(n,e){let t=H5();try{q5(!0),Cw(n,e);let r=0;for(;jf(n);){if(r===SL)throw new Ie(103,!1);r++,Cw(n,1)}}finally{q5(t)}}function ZP(n,e){z5(e?Bf.Exhaustive:Bf.OnlyDirtyViews);try{lC(n)}finally{z5(Bf.Off)}}function ML(n,e,t,r){if(Dc(e))return;let i=e[At],o=!1,s=!1;B0(e);let a=!0,l=null,c=null;o||(KP(n)?(c=yL(e),l=hc(c)):Bm()===null?(a=!1,c=CL(e),l=hc(c)):e[Ui]&&(Vm(e[Ui]),e[Ui]=null));try{I5(e),QM(n.bindingStartIndex),t!==null&&VP(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let f=n.preOrderCheckHooks;f!==null&&Q0(e,f,null)}else{let f=n.preOrderHooks;f!==null&&J0(e,f,0,null),tw(e,0)}if(s||PL(e),XP(e),QP(e,0),n.contentQueries!==null&&yP(n,e),!o)if(d){let f=n.contentCheckHooks;f!==null&&Q0(e,f)}else{let f=n.contentHooks;f!==null&&J0(e,f,1),tw(e,1)}OL(n,e);let h=n.components;h!==null&&eD(e,h,0);let g=n.viewQuery;if(g!==null&&mw(2,g,r),!o)if(d){let f=n.viewCheckHooks;f!==null&&Q0(e,f)}else{let f=n.viewHooks;f!==null&&J0(e,f,2),tw(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[T0]){for(let f of e[T0])f();e[T0]=null}o||(WP(e),e[At]&=-73)}catch(d){throw o||md(e),d}finally{c!==null&&(Qu(c,l),a&&bL(c)),U0()}}function QP(n,e){for(let t=hP(n);t!==null;t=fP(t))for(let r=ui;r<t.length;r++){let i=t[r];JP(i,e)}}function PL(n){for(let e=hP(n);e!==null;e=fP(e)){if(!(e[At]&2))continue;let t=e[Pc];for(let r=0;r<t.length;r++){let i=t[r];T5(i)}}}function DL(n,e,t){bn(18);let r=co(e,n);JP(r,t),bn(19,r[Xr])}function JP(n,e){k0(n)&&Cw(n,e)}function Cw(n,e){let r=n[xt],i=n[At],o=n[Ui],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&bf(o)),s||=!1,o&&(o.dirty=!1),n[At]&=-9217,s)ML(r,n,r.template,n[Xr]);else if(i&8192){let a=zt(null);try{XP(n),QP(n,1);let l=r.components;l!==null&&eD(n,l,1),WP(n)}finally{zt(a)}}}function eD(n,e,t){for(let r=0;r<e.length;r++)DL(n,e[r],t)}function OL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)El(~i);else{let o=i,s=t[++r],a=t[++r];e4(s,o);let l=e[o];bn(24,l),a(2,l),bn(25,l)}}}finally{El(-1)}}function cC(n,e){let t=H5()?64:1088;for(n[bs].changeDetectionScheduler?.notify(e);n;){n[At]|=t;let r=gl(n);if(gd(n)&&!r)return n;n=r}return null}function tD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function AL(n,e,t,r=!0){let i=e[xt];if(IL(i,e,n,t),r){let s=ww(t,n),a=e[Bn],l=a.parentNode(n[wl]);l!==null&&z9(i,n[so],a,e,l,s)}let o=e[Nf];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ew(n,e){if(n.length<=ui)return;let t=ui+e,r=n[t];if(r){let i=r[bl];i!==null&&i!==n&&tC(i,r),e>0&&(n[t-1][oo]=r[oo]);let o=Af(n,ui+e);V9(r[xt],r);let s=o[ws];s!==null&&s.detachView(o[xt]),r[Nr]=null,r[oo]=null,r[At]&=-129}return r}function IL(n,e,t,r){let i=ui+r,o=t.length;r>0&&(t[i-1][oo]=e),r<o-ui?(e[oo]=t[i],m5(t,ui+r,e)):(t.push(e),e[oo]=null),e[Nr]=t;let s=e[bl];s!==null&&t!==s&&nD(s,e);let a=e[ws];a!==null&&a.insertView(n),R0(e),e[At]|=128}function nD(n,e){let t=n[Pc],r=e[Nr];if(Cs(r))n[At]|=2;else{let i=r[Nr][ao];e[ao]!==i&&(n[At]|=2)}t===null?n[Pc]=[e]:t.push(e)}var Sl=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[xt];return Gf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Xr]}set context(e){this._lView[Xr]=e}get destroyed(){return Dc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nr];if(Uo(e)){let t=e[Lf],r=t?t.indexOf(this):-1;r>-1&&(Ew(e,r),Af(t,r))}this._attachedToViewContainer=!1}BP(this._lView[xt],this._lView)}onDestroy(e){N5(this._lView,e)}markForCheck(){cC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[At]&=-129}reattach(){R0(this._lView),this._lView[At]|=128}detectChanges(){this._lView[At]|=1024,lC(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ec].get(vL,P4)}catch{this.exhaustive=P4}}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gd(this._lView),t=this._lView[bl];t!==null&&!e&&tC(t,this._lView),jP(this._lView[xt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=e;let t=gd(this._lView),r=this._lView[bl];r!==null&&!t&&nD(r,this._lView),R0(this._lView)}};var xl=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=TL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=mL(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Sl(o)}}return n})();function TL(){return O1(Rr(),nn())}function O1(n,e){return n.type&4?new xl(e,n,xd(n,e)):null}function A1(n,e,t,r,i){let o=n.data[e];if(o===null)o=NL(n,e,t,r,i),JM()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=WM();o.injectorIndex=s===null?-1:s.injectorIndex}return vd(o,!0),o}function NL(n,e,t,r,i){let o=U5(),s=V5(),a=s?o:o&&o.parent,l=n.data[e]=RL(n,a,t,e,r,i);return kL(n,l,o,s),l}function kL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function RL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return GM()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Vie=new RegExp(`^(\\d+)*(${JR}|${QR})*(.*)`);var LL=()=>null;function D4(n,e){return LL(n,e)}var rD=class{},I1=class{},Sw=class{resolveComponentFactory(e){throw new Ie(917,!1)}},Qf=class{static NULL=new Sw},Ca=class{},Ds=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>FL()}return n})();function FL(){let n=nn(),e=Rr(),t=co(e.index,n);return(Cs(t)?t:n)[Bn]}var iD=(()=>{class n{static \u0275prov=$e({token:n,providedIn:"root",factory:()=>null})}return n})();var t1={},xw=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,t1,r);return i!==t1||t===t1?i:this.parentInjector.get(e,t,r)}};function d1(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=M0(i,a);else if(o==2){let l=a,c=e[++s];r=M0(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ct(n,e=0){let t=nn();if(t===null)return et(n,e);let r=Rr();return aP(r,t,zr(n),e)}function uC(){let n="invalid";throw new Error(n)}function oD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}UL(n,e,t,a,o,l,c)}o!==null&&r!==null&&jL(t,r,o)}function jL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Ie(-301,!1);r.push(e[i],o)}}function BL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function UL(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let g=0;g<a;g++){let f=r[g];!l&&Es(f)&&(l=!0,BL(n,t,g)),hw(a1(t,e),n,f.type)}GL(t,n.data.length,a);for(let g=0;g<a;g++){let f=r[g];f.providersResolver&&f.providersResolver(f)}let c=!1,d=!1,h=LP(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let f=r[g];if(t.mergedAttrs=bd(t.mergedAttrs,f.hostAttrs),zL(n,t,e,h,f),$L(h,f,i),s!==null&&s.has(f)){let[_,C]=s.get(f);t.directiveToIndex.set(f.type,[h,_+t.directiveStart,C+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,h);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let y=f.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),h++}VL(n,t,o)}function VL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))O4(0,e,i,r),O4(1,e,i,r),I4(e,r,!1);else{let o=t.get(i);A4(0,e,o,r),A4(1,e,o,r),I4(e,r,!0)}}}function O4(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),sD(e,o)}}function A4(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),sD(e,s)}}function sD(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function I4(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Xw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function zL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=pl(i.type,!0)),s=new Tc(o,Es(i),ct,null);n.blueprint[r]=s,t[r]=s,HL(n,e,r,LP(n,t,i.hostVars,Vi),i)}function HL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;qL(s)!=a&&s.push(a),s.push(t,r,o)}}function qL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function $L(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Es(e)&&(t[""]=n)}}function GL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function aD(n,e,t,r,i,o,s,a){let l=e[xt],c=l.consts,d=Oc(c,s),h=A1(l,n,t,r,d);return o&&oD(l,e,h,Oc(c,a),i),h.mergedAttrs=bd(h.mergedAttrs,h.attrs),h.attrs!==null&&d1(h,h.attrs,!1),h.mergedAttrs!==null&&d1(h,h.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,h),h}function lD(n,e){Q4(n,e),M5(e)&&n.queries.elementEnd(e)}function WL(n,e,t,r,i,o){let s=e.consts,a=Oc(s,i),l=A1(e,n,t,r,a);if(l.mergedAttrs=bd(l.mergedAttrs,l.attrs),o!=null){let c=Oc(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&d1(l,l.attrs,!1),l.mergedAttrs!==null&&d1(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function dC(n){return uD(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function cD(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function uD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function YL(n,e,t){return n[e]=t}function Ml(n,e,t){if(t===Vi)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function dD(n,e,t,r){let i=Ml(n,e,t);return Ml(n,e+1,r)||i}function n1(n,e,t){return function r(i){let o=Cl(n)?co(n.index,e):e;cC(o,5);let s=e[Xr],a=T4(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=T4(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function T4(n,e,t,r){let i=zt(null);try{return bn(6,e,t),t(r)!==!1}catch(o){return hL(n,o),!1}finally{bn(7,e,t),zt(i)}}function hD(n,e,t,r,i,o,s,a){let l=Ff(n),c=!1,d=null;if(!r&&l&&(d=KL(e,t,o,n.index)),d!==null){let h=d.__ngLastListenerFn__||d;h.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let h=Vo(n,t),g=r?r(h):h;t9(t,g,o,a);let f=i.listen(g,o,a),y=r?_=>r(lo(_[n.index])):n.index;fD(y,e,t,o,a,f,!1)}return c}function KL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[fd],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function fD(n,e,t,r,i,o,s){let a=e.firstCreatePass?R5(e):null,l=k5(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function N4(n,e,t,r,i,o){let s=e[t],a=e[xt],c=a.data[t].outputs[r],h=s[c].subscribe(o);fD(n.index,a,e,i,o,h,!0)}var Mw=Symbol("BINDING");var h1=class extends Qf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=_l(e);return new Cd(t,this.ngModule)}};function XL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&P1.SignalBased)!==0};return i&&(o.transform=i),o})}function ZL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function QL(n,e,t){let r=e instanceof gr?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new xw(t,r):t}function JL(n){let e=n.get(Ca,null);if(e===null)throw new Ie(407,!1);let t=n.get(iD,null),r=n.get(va,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function eF(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return TP(e,t,t==="svg"?P5:t==="math"?jM:null)}var Cd=class extends I1{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=XL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ZL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=A9(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){bn(22);let a=zt(null);try{let l=this.componentDef,c=tF(r,l,s,o),d=QL(l,i||this.ngModule,e),h=JL(d),g=h.rendererFactory.createRenderer(null,l),f=r?eL(g,r,l.encapsulation,d):eF(l,g),y=s?.some(k4)||o?.some(w=>typeof w!="function"&&w.bindings.some(k4)),_=Qw(null,c,null,512|RP(l),null,null,h,g,d,null,vP(f,d,!0));_[qr]=f,B0(_);let C=null;try{let w=aD(qr,_,2,"#host",()=>c.directiveRegistry,!0,0);f&&(kP(g,f,w),wd(f,_)),iC(c,_,w),_P(c,w,_),lD(c,w),t!==void 0&&rF(w,this.ngContentSelectors,t),C=co(w.index,_),_[Xr]=C[Xr],aC(c,_,null)}catch(w){throw C!==null&&pw(C),pw(_),w}finally{bn(23),U0()}return new f1(this.componentType,_,!!y)}finally{zt(a)}}};function tF(n,e,t,r){let i=n?["ng-version","20.1.3"]:I9(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[Mw].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let h=r[d];if(typeof h!="function")for(let g of h.bindings){a+=g[Mw].requiredVars;let f=d+1;g.create&&(g.targetIdx=f,(o??=[]).push(g)),g.update&&(g.targetIdx=f,(s??=[]).push(g))}}let l=[e];if(r)for(let d of r){let h=typeof d=="function"?d:d.type,g=b5(h);l.push(g)}return Zw(0,null,nF(o,s),1,a,l,null,null,null,[i],null)}function nF(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function k4(n){let e=n[Mw].kind;return e==="input"||e==="twoWay"}var f1=class extends rD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=N0(t[xt],qr),this.location=xd(this._tNode,t),this.instance=co(this._tNode.index,t)[Xr],this.hostView=this.changeDetectorRef=new Sl(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=sC(r,i[xt],i,e,t);this.previousInputValues.set(e,t);let s=co(r.index,i);cC(s,1)}get injector(){return new Ic(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var xa=(()=>{class n{static __NG_ELEMENT_ID__=iF}return n})();function iF(){let n=Rr();return gD(n,nn())}var oF=xa,pD=class extends oF{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return xd(this._hostTNode,this._hostLView)}get injector(){return new Ic(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uw(this._hostTNode,this._hostLView);if(tP(e)){let t=o1(e,this._hostLView),r=i1(e),i=t[xt].data[r+8];return new Ic(i,t)}else return new Ic(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=R4(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ui}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=D4(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,M4(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!MR(e),c;if(l)c=t;else{let C=t||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let d=l?e:new Cd(_l(e)),h=r||this.parentInjector;if(!o&&d.ngModule==null){let w=(l?h:this.parentInjector).get(gr,null);w&&(o=w)}let g=_l(d.componentType??{}),f=D4(this._lContainer,g?.id??null),y=f?.firstChild??null,_=d.create(h,i,y,o,s,a);return this.insertImpl(_.hostView,c,M4(this._hostTNode,f)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(UM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Nr],c=new pD(l,l[so],l[Nr]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return AL(s,i,o,r),e.attachToViewContainerRef(),m5(iw(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=R4(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ew(this._lContainer,t);r&&(Af(iw(this._lContainer),t),BP(r[xt],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ew(this._lContainer,t);return r&&Af(iw(this._lContainer),t)!=null?new Sl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function R4(n){return n[Lf]}function iw(n){return n[Lf]||(n[Lf]=[])}function gD(n,e){let t,r=e[n.index];return Uo(r)?t=r:(t=tD(r,e,null,n),e[n.index]=t,Jw(e,t)),aF(t,e,n,r),new pD(t,n,e)}function sF(n,e){let t=n[Bn],r=t.createComment(""),i=Vo(e,n),o=t.parentNode(i);return u1(t,o,r,t.nextSibling(i),!1),r}var aF=uF,lF=()=>!1;function cF(n,e,t){return lF(n,e,t)}function uF(n,e,t,r){if(n[wl])return;let i;t.type&8?i=lo(r):i=sF(e,t),n[wl]=i}var Pw=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Dw=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)hC(e,t).matches!==null&&this.queries[t].setDirty()}},Ow=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=yF(e):this.predicate=e}},Aw=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Iw=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,dF(t,o)),this.matchTNodeWithReadOption(e,t,e1(t,e,o,!1,!1))}else r===xl?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,e1(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ei||i===xa||i===xl&&t.type&4)this.addMatch(t.index,-2);else{let o=e1(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function dF(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function hF(n,e){return n.type&11?xd(n,e):n.type&4?O1(n,e):null}function fF(n,e,t,r){return t===-1?hF(e,n):t===-2?pF(n,e,r):$f(n,n[xt],t,e)}function pF(n,e,t){if(t===Ei)return xd(e,n);if(t===xl)return O1(e,n);if(t===xa)return gD(e,n)}function mD(n,e,t,r){let i=e[ws].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(fF(e,d,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function Tw(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=mD(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let h=ui;h<d.length;h++){let g=d[h];g[bl]===g[Nr]&&Tw(g[xt],g,c,r)}if(d[Pc]!==null){let h=d[Pc];for(let g=0;g<h.length;g++){let f=h[g];Tw(f[xt],f,c,r)}}}}}return r}function gF(n,e){return n[ws].queries[e].queryList}function mF(n,e,t){let r=new l1((t&4)===4);return HM(n,e,r,r.destroy),(e[ws]??=new Dw).queries.push(new Pw(r))-1}function vF(n,e,t){let r=kr();return r.firstCreatePass&&(_F(r,new Ow(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),mF(r,nn(),e)}function yF(n){return n.split(",").map(e=>e.trim())}function _F(n,e,t){n.queries===null&&(n.queries=new Aw),n.queries.track(new Iw(e,t))}function hC(n,e){return n.queries.getByIndex(e)}function bF(n,e){let t=n[xt],r=hC(t,e);return r.crossesNgTemplate?Tw(t,n,e,[]):mD(t,n,r,e)}var L4=new Set;function Pl(n){L4.has(n)||(L4.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Nc=class{},T1=class{};var p1=class extends Nc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new h1(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=_5(e);this._bootstrapComponents=AP(o.bootstrap),this._r3Injector=Y5(e,t,[{provide:Nc,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver},...r],ma(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},g1=class extends T1{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new p1(this.moduleType,e,[])}};var Wf=class extends Nc{injector;componentFactoryResolver=new h1(this);instance=null;constructor(e){super();let t=new wc([...e.providers,{provide:Nc,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver}],e.parent||Tf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Jf(n,e,t=null){return new Wf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var wF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=w5(!1,t.type),i=r.length>0?Jf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$e({token:n,providedIn:"environment",factory:()=>new n(et(gr))})}return n})();function wn(n){return Sd(()=>{let e=vD(n),t=Et(Ae({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Vw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(wF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wa.Emulated,styles:n.styles||ci,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Pl("NgStandalone"),yD(t);let r=n.dependencies;return t.directiveDefs=F4(r,CF),t.pipeDefs=F4(r,AM),t.id=xF(t),t})}function CF(n){return _l(n)||b5(n)}function $o(n){return Sd(()=>({type:n.type,bootstrap:n.bootstrap||ci,declarations:n.declarations||ci,imports:n.imports||ci,exports:n.exports||ci,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function EF(n,e){if(n==null)return yl;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=P1.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function SF(n){if(n==null)return yl;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Kn(n){return Sd(()=>{let e=vD(n);return yD(e),e})}function N1(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function vD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||yl,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ci,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:EF(n.inputs,e),outputs:SF(n.outputs),debugInfo:null}}function yD(n){n.features?.forEach(e=>e(n))}function F4(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function xF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function MF(n){return Object.getPrototypeOf(n.prototype).constructor}function ho(n){let e=MF(n.type),t=!0,r=[n];for(;e;){let i;if(Es(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ie(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ow(n.inputs),s.declaredInputs=ow(n.declaredInputs),s.outputs=ow(n.outputs);let a=i.hostBindings;a&&IF(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&OF(n,l),c&&AF(n,c),PF(n,i),CM(n.outputs,i.outputs),Es(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ho&&(t=!1)}}e=Object.getPrototypeOf(e)}DF(r)}function PF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function DF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bd(i.hostAttrs,t=bd(t,i.hostAttrs))}}function ow(n){return n===yl?{}:n===ci?[]:n}function OF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function AF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function IF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function TF(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=bd(n.mergedAttrs,n.attrs);let d=n.tView=Zw(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),vd(n,!1);let l=kF(t,e,n,r);H0()&&nC(t,e,l,n),wd(l,e);let c=tD(l,e,l,n);e[r+qr]=c,Jw(e,c),cF(c,n,e)}function NF(n,e,t,r,i,o,s,a,l,c,d){let h=t+qr,g;return e.firstCreatePass?(g=A1(e,h,4,s||null,a||null),F5()&&oD(e,n,g,Oc(e.consts,c),HP),Q4(e,g)):g=e.data[h],TF(g,n,e,t,r,i,o,l),Ff(g)&&iC(e,n,g),c!=null&&oC(n,g,d),g}function Cn(n,e,t,r,i,o,s,a){let l=nn(),c=kr(),d=Oc(c.consts,o);return NF(l,c,n,e,t,r,i,d,void 0,s,a),Cn}var kF=RF;function RF(n,e,t,r){return q0(!0),e[Bn].createComment("")}var k1=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(k1||{}),Lc=new nt(""),_D=!1,Nw=class extends rr{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,LM()&&(this.destroyRef=Pe(uo,{optional:!0})??void 0,this.pendingTasks=Pe(xs,{optional:!0})??void 0)}emit(e){let t=zt(null);try{super.next(e)}finally{zt(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Wn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Er=Nw;function bD(n){let e,t;function r(){n=zf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function j4(n){return queueMicrotask(()=>n()),()=>{n=zf}}var fC="isAngularZone",m1=fC+"_ID",LF=0,Vn=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Er(!1);onMicrotaskEmpty=new Er(!1);onStable=new Er(!1);onError=new Er(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_D}=e;if(typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,BF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Ie(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,FF,zf,zf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},FF={};function pC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){bD(()=>{n.callbackScheduled=!1,kw(n),n.isCheckStableRunning=!0,pC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),kw(n)}function BF(n){let e=()=>{jF(n)},t=LF++;n._inner=n._inner.fork({name:"angular",properties:{[fC]:!0,[m1]:t,[m1+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(UF(l))return r.invokeTask(o,s,a,l);try{return B4(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),U4(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return B4(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!VF(l)&&e(),U4(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,kw(n),pC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function kw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function B4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function U4(n){n._nesting--,pC(n)}var v1=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Er;onMicrotaskEmpty=new Er;onStable=new Er;onError=new Er;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function UF(n){return wD(n,"__ignore_ng_zone__")}function VF(n){return wD(n,"__scheduler_tick__")}function wD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var gC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new n})}return n})(),CD=[0,1,2,3],ED=(()=>{class n{ngZone=Pe(Vn);scheduler=Pe(va);errorHandler=Pe(Fo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Pe(Lc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&bn(16),this.executing=!0;for(let r of CD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&bn(17)}register(t){let{view:r}=t;r!==void 0?((r[Mc]??=[]).push(t),md(r),r[At]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(k1.AFTER_NEXT_RENDER,t):t()}static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new n})}return n})(),y1=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Mc];e&&(this.view[Mc]=e.filter(t=>t!==this))}};function R1(n,e){let t=e?.injector??Pe(Bi);return Pl("NgAfterNextRender"),HF(n,t,e,!0)}function zF(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function HF(n,e,t,r){let i=e.get(gC);i.impl??=e.get(ED);let o=e.get(Lc,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(uo):null,a=e.get($0,null,{optional:!0}),l=new y1(i.impl,zF(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var mC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var vC=new nt("");function Dl(n){return!!n&&typeof n.then=="function"}function yC(n){return!!n&&typeof n.subscribe=="function"}var SD=new nt("");var _C=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Pe(SD,{optional:!0})??[];injector=Pe(Bi);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Hr(this.injector,i);if(Dl(o))t.push(o);else if(yC(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L1=new nt("");function xD(){Pb(()=>{let n="";throw new Ie(600,n)})}function MD(n){return n.isBoundToModule}var qF=10;var Ma=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Pe(di);afterRenderManager=Pe(gC);zonelessEnabled=Pe(Vf);rootEffectScheduler=Pe(ew);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new rr;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Pe(xs);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(wt(t=>!t))}constructor(){Pe(Lc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Pe(gr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Bi.NULL){return this._injector.get(Vn).run(()=>{bn(10);let s=t instanceof I1;if(!this._injector.get(_C).done){let y="";throw new Ie(405,y)}let l;s?l=t:l=this._injector.get(Qf).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=MD(l)?void 0:this._injector.get(Nc),d=r||l.selector,h=l.create(i,[],d,c),g=h.location.nativeElement,f=h.injector.get(vC,null);return f?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),qf(this.components,h),f?.unregisterApplication(g)}),this._loadComponent(h),bn(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){bn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(k1.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Ie(101,!1);let t=zt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,zt(t),this.afterTick.next(),bn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ca,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<qF;)bn(14),this.synchronizeOnce(),bn(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!jf(i))continue;let o=r&&!this.zonelessEnabled?0:1;lC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>jf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;qf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(L1,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>qf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ie(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fo(n,e,t,r){let i=nn(),o=Uf();if(Ml(i,o,e)){let s=kr(),a=V0();cL(a,i,n,e,t,r)}return fo}function qt(n,e,t){let r=nn(),i=Uf();if(Ml(r,i,e)){let o=kr(),s=V0();zP(s,r,n,e,r[Bn],t)}return qt}function Rw(n,e,t,r,i){sC(e,n,t,i?"class":"style",r)}function re(n,e,t,r){let i=nn(),o=i[xt],s=n+qr,a=o.firstCreatePass?aD(s,i,2,e,HP,F5(),t,r):o.data[s];if(qP(a,i,n,e,PD),Ff(a)){let l=i[xt];iC(l,i,a),_P(l,a,i)}return r!=null&&oC(i,a),re}function de(){let n=kr(),e=Rr(),t=$P(e);return n.firstCreatePass&&lD(n,t),j5(t)&&B5(),L5(),t.classesWithoutHost!=null&&TR(t)&&Rw(n,t,nn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&NR(t)&&Rw(n,t,nn(),t.stylesWithoutHost,!1),de}function Ve(n,e,t,r){return re(n,e,t,r),de(),Ve}function K(n,e,t,r){let i=nn(),o=i[xt],s=n+qr,a=o.firstCreatePass?WL(s,o,2,e,t,r):o.data[s];return qP(a,i,n,e,PD),r!=null&&oC(i,a),K}function J(){let n=Rr(),e=$P(n);return j5(e)&&B5(),L5(),J}function Be(n,e,t,r){return K(n,e,t,r),J(),Be}var PD=(n,e,t,r,i)=>(q0(!0),TP(e[Bn],r,a4()));function Sr(){return nn()}var Ac=void 0;function $F(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var GF=["en",[["a","p"],["AM","PM"],Ac],[["AM","PM"],Ac,Ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ac,"{1} 'at' {0}",Ac],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",$F],sw={};function Si(n){let e=WF(n),t=V4(e);if(t)return t;let r=e.split("-")[0];if(t=V4(r),t)return t;if(r==="en")return GF;throw new Ie(701,!1)}function V4(n){return n in sw||(sw[n]=jo.ng&&jo.ng.common&&jo.ng.common.locales&&jo.ng.common.locales[n]),sw[n]}var Xn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Xn||{});function WF(n){return n.toLowerCase().replace(/_/g,"-")}var ep="en-US";var YF=ep;function DD(n){typeof n=="string"&&(YF=n.toLowerCase().replace(/_/g,"-"))}function rt(n,e,t){let r=nn(),i=kr(),o=Rr();return OD(i,r,r[Bn],o,n,e,t),rt}function po(n,e,t){let r=nn(),i=kr(),o=Rr();return(o.type&3||t)&&hD(o,i,r,t,r[Bn],n,e,n1(o,r,e)),po}function OD(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=n1(r,e,o),hD(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){let g=d[h],f=d[h+1];l??=n1(r,e,o),N4(r,e,g,f,i,l)}if(c&&c.length)for(let h of c)l??=n1(r,e,o),N4(r,e,h,i,i,l)}}function dt(n=1){return s4(n)}function bC(n,e,t){vF(n,e,t)}function F1(n){let e=nn(),t=kr(),r=$5();j0(r+1);let i=hC(t,r);if(n.dirty&&BM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=bF(e,r);n.reset(o,GR),n.notifyOnChanges()}return!0}return!1}function j1(){return gF(nn(),$5())}function B1(n){let e=KM();return O5(e,qr+n)}function Z0(n,e){return n<<17|e<<2}function kc(n){return n>>17&32767}function KF(n){return(n&2)==2}function XF(n,e){return n&131071|e<<17}function Lw(n){return n|2}function Ed(n){return(n&131068)>>2}function aw(n,e){return n&-131069|e<<2}function ZF(n){return(n&1)===1}function Fw(n){return n|1}function QF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=kc(s),l=Ed(s);n[r]=t;let c=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||hd(h,d)>0)&&(c=!0)}else d=t;if(i)if(l!==0){let g=kc(n[a+1]);n[r+1]=Z0(g,a),g!==0&&(n[g+1]=aw(n[g+1],r)),n[a+1]=XF(n[a+1],r)}else n[r+1]=Z0(a,0),a!==0&&(n[a+1]=aw(n[a+1],r)),a=r;else n[r+1]=Z0(l,0),a===0?a=r:n[l+1]=aw(n[l+1],r),l=r;c&&(n[r+1]=Lw(n[r+1])),z4(n,d,r,!0),z4(n,d,r,!1),JF(e,d,n,r,o),s=Z0(a,l),o?e.classBindings=s:e.styleBindings=s}function JF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&hd(o,e)>=0&&(t[r+1]=Fw(t[r+1]))}function z4(n,e,t,r){let i=n[t+1],o=e===null,s=r?kc(i):Ed(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];ej(l,e)&&(a=!0,n[s+1]=r?Fw(c):Lw(c)),s=r?kc(c):Ed(c)}a&&(n[t+1]=r?Lw(i):Fw(i))}function ej(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?hd(n,e)>=0:!1}var Ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tj(n){return n.substring(Ho.key,Ho.keyEnd)}function nj(n){return rj(n),AD(n,ID(n,0,Ho.textEnd))}function AD(n,e){let t=Ho.textEnd;return t===e?-1:(e=Ho.keyEnd=ij(n,Ho.key=e,t),ID(n,e,t))}function rj(n){Ho.key=0,Ho.keyEnd=0,Ho.value=0,Ho.valueEnd=0,Ho.textEnd=n.length}function ID(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ij(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Pd(n,e,t){return TD(n,e,t,!1),Pd}function xr(n,e){return TD(n,e,null,!0),xr}function Dd(n){sj(hj,oj,n,!0)}function oj(n,e){for(let t=nj(e);t>=0;t=AD(e,t))A0(n,tj(e),!0)}function TD(n,e,t,r){let i=nn(),o=kr(),s=L0(2);if(o.firstUpdatePass&&kD(o,n,s,r),e!==Vi&&Ml(i,s,e)){let a=o.data[ba()];RD(o,a,i,i[Bn],n,i[s+1]=pj(e,t),r,s)}}function sj(n,e,t,r){let i=kr(),o=L0(2);i.firstUpdatePass&&kD(i,null,o,r);let s=nn();if(t!==Vi&&Ml(s,o,t)){let a=i.data[ba()];if(LD(a,r)&&!ND(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=M0(l,t||"")),Rw(i,a,s,t,r)}else fj(i,a,s,s[Bn],s[o+1],s[o+1]=dj(n,e,t),r,o)}}function ND(n,e){return e>=n.expandoStartIndex}function kD(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ba()],s=ND(n,t);LD(o,r)&&e===null&&!s&&(e=!1),e=aj(i,o,e,r),QF(i,o,e,t,s,r)}}function aj(n,e,t,r){let i=n4(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=lw(null,n,e,t,r),t=Yf(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=lw(i,n,e,t,r),o===null){let l=lj(n,e,r);l!==void 0&&Array.isArray(l)&&(l=lw(null,n,e,l[1],r),l=Yf(l,e.attrs,r),cj(n,e,r,l))}else o=uj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function lj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ed(r)!==0)return n[kc(r)]}function cj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[kc(i)]=r}function uj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Yf(r,s,t)}return Yf(r,e.attrs,t)}function lw(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Yf(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Yf(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),A0(n,s,t?!0:e[++o]))}return n===void 0?null:n}function dj(n,e,t){if(t==null||t==="")return ci;let r=[],i=Rc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function hj(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&A0(n,r,t)}function fj(n,e,t,r,i,o,s,a){i===Vi&&(i=ci);let l=0,c=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;d!==null||h!==null;){let g=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0,y=null,_;d===h?(l+=2,c+=2,g!==f&&(y=h,_=f)):h===null||d!==null&&d<h?(l+=2,y=d):(c+=2,y=h,_=f),y!==null&&RD(n,e,t,r,y,_,s,a),d=l<i.length?i[l]:null,h=c<o.length?o[c]:null}}function RD(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=ZF(c)?H4(l,e,t,i,Ed(c),s):void 0;if(!_1(d)){_1(o)||KF(c)&&(o=H4(l,null,t,i,a,s));let h=D5(ba(),t);J9(r,s,h,i,o)}}function H4(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),d=c?l[1]:l,h=d===null,g=t[i+1];g===Vi&&(g=h?ci:void 0);let f=h?I0(g,r):d===r?g:void 0;if(c&&!_1(f)&&(f=I0(l,r)),_1(f)&&(a=f,s))return a;let y=n[i+1];i=s?kc(y):Ed(y)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=I0(l,r))}return a}function _1(n){return n!==void 0}function pj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ma(Rc(n)))),n}function LD(n,e){return(n.flags&(e?8:16))!==0}function F(n,e=""){let t=nn(),r=kr(),i=n+qr,o=r.firstCreatePass?A1(r,i,1,e,null):r.data[i],s=gj(r,t,o,e,n);t[i]=s,H0()&&nC(r,t,s,o),vd(o,!1)}var gj=(n,e,t,r,i)=>(q0(!0),T9(e[Bn],r));function mj(n,e,t,r=""){return Ml(n,Uf(),t)?e+vl(t)+r:Vi}function vj(n,e,t,r,i,o=""){let s=ZM(),a=dD(n,s,t,i);return L0(2),a?e+vl(t)+r+vl(i)+o:Vi}function xn(n){return Lr("",n),xn}function Lr(n,e,t){let r=nn(),i=mj(r,n,e,t);return i!==Vi&&FD(r,ba(),i),Lr}function Ol(n,e,t,r,i){let o=nn(),s=vj(o,n,e,t,r,i);return s!==Vi&&FD(o,ba(),s),Ol}function FD(n,e,t){let r=D5(e,n);N9(n[Bn],r,t)}function Os(n,e,t){Z5(e)&&(e=e());let r=nn(),i=Uf();if(Ml(r,i,e)){let o=kr(),s=V0();zP(s,r,n,e,r[Bn],t)}return Os}function Pa(n,e){let t=Z5(n);return t&&n.set(e),t}function As(n,e){let t=nn(),r=kr(),i=Rr();return OD(r,t,t[Bn],i,n,e),As}function yj(n,e,t){let r=kr();if(r.firstCreatePass){let i=Es(n);jw(t,r.data,r.blueprint,i,!0),jw(e,r.data,r.blueprint,i,!1)}}function jw(n,e,t,r,i){if(n=zr(n),Array.isArray(n))for(let o=0;o<n.length;o++)jw(n[o],e,t,r,i);else{let o=kr(),s=nn(),a=Rr(),l=bc(n)?n:zr(n.provide),c=E5(n),d=a.providerIndexes&1048575,h=a.directiveStart,g=a.providerIndexes>>20;if(bc(n)||!n.multi){let f=new Tc(c,i,ct,null),y=uw(l,e,i?d:d+g,h);y===-1?(hw(a1(a,s),o,l),cw(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[y]=f,s[y]=f)}else{let f=uw(l,e,d+g,h),y=uw(l,e,d,d+g),_=f>=0&&t[f],C=y>=0&&t[y];if(i&&!C||!i&&!_){hw(a1(a,s),o,l);let w=wj(i?bj:_j,t.length,i,r,c,n);!i&&C&&(t[y].providerFactory=w),cw(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)}else{let w=jD(t[i?y:f],c,!i&&r);cw(o,n,f>-1?f:y,w)}!i&&r&&C&&t[y].componentProviders++}}}function cw(n,e,t,r){let i=bc(e),o=RM(e);if(i||o){let l=(o?zr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function jD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function uw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _j(n,e,t,r,i){return Bw(this.multi,[])}function bj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=$f(r,r[xt],this.providerFactory.index,i);s=l.slice(0,a),Bw(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Bw(o,s);return s}function Bw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function wj(n,e,t,r,i,o){let s=new Tc(n,t,ct,null);return s.multi=[],s.index=e,s.componentProviders=0,jD(s,i,r&&!t),s}function Da(n,e=[]){return t=>{t.providersResolver=(r,i)=>yj(r,i?i(n):n,e)}}function Cj(n,e){let t=n[e];return t===Vi?void 0:t}function Ej(n,e,t,r,i,o,s){let a=e+t;return dD(n,a,i,o)?YL(n,a+2,s?r.call(s,i,o):r(i,o)):Cj(n,a+2)}function Oa(n,e){let t=kr(),r,i=n+qr;t.firstCreatePass?(r=Sj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=pl(r.type,!0)),s,a=li(ct);try{let l=s1(!1),c=o();return s1(l),A5(t,nn(),i,c),c}finally{li(a)}}function Sj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Aa(n,e,t,r){let i=n+qr,o=nn(),s=O5(o,i);return xj(o,i)?Ej(o,XM(),e,s.transform,t,r,s):s.transform(t,r)}function xj(n,e){return n[xt].data[e].pure}function wC(n,e){return O1(n,e)}var b1=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},CC=(()=>{class n{compileModuleSync(t){return new g1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=_5(t),o=AP(i.declarations).reduce((s,a)=>{let l=_l(a);return l&&s.push(new Cd(l)),s},[]);return new b1(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mj=(()=>{class n{zone=Pe(Vn);changeDetectionScheduler=Pe(va);applicationRef=Pe(Ma);applicationErrorHandler=Pe(di);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BD=new nt("",{factory:()=>!1});function EC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Vn(Et(Ae({},xC()),{scheduleInRootZone:t})),[{provide:Vn,useFactory:n},{provide:ya,multi:!0,useFactory:()=>{let r=Pe(Mj,{optional:!0});return()=>r.initialize()}},{provide:ya,multi:!0,useFactory:()=>{let r=Pe(Pj);return()=>{r.initialize()}}},e===!0?{provide:Q5,useValue:!0}:[],{provide:J5,useValue:t??_D},{provide:di,useFactory:()=>{let r=Pe(Vn),i=Pe(gr),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Fo),o.handleError(s))})}}}]}function SC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=EC({ngZoneFactory:()=>{let i=xC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Pl("NgZone_CoalesceEvent"),new Vn(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return _a([{provide:BD,useValue:!0},{provide:Vf,useValue:!1},r])}function xC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Pj=(()=>{class n{subscription=new Wn;initialized=!1;zone=Pe(Vn);pendingTasks=Pe(xs);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Vn.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Vn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var UD=(()=>{class n{applicationErrorHandler=Pe(di);appRef=Pe(Ma);taskService=Pe(xs);ngZone=Pe(Vn);zonelessEnabled=Pe(Vf);tracing=Pe(Lc,{optional:!0});disableScheduling=Pe(Q5,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Wn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(m1):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Pe(J5,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof v1||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?j4:bD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(m1+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,j4(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dj(){return typeof $localize<"u"&&$localize.locale||ep}var Od=new nt("",{providedIn:"root",factory:()=>Pe(Od,{optional:!0,skipSelf:!0})||Dj()});function Go(n){return _M(n)}function tp(n,e){return $m(n,e?.equal)}var VD=class{[Kr];constructor(e){this[Kr]=e}destroy(){this[Kr].destroy()}};var GD=Symbol("InputSignalNode#UNSET"),zj=Et(Ae({},Gm),{transformFn:void 0,applyValueToInputSignal(n,e){Ju(n,e)}});function WD(n,e){let t=Object.create(zj);t.value=n,t.transformFn=e?.transform;function r(){if(Zu(t),t.value===GD){let i=null;throw new Ie(-950,i)}return t.value}return r[Kr]=t,r}var V1=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Kf(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Hj=new nt("");Hj.__NG_ELEMENT_ID__=n=>{let e=Rr();if(e===null)throw new Ie(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Ie(204,!1)};function zD(n,e){return WD(n,e)}function qj(n){return WD(GD,n)}var YD=(zD.required=qj,zD);var MC=new nt(""),$j=new nt("");function np(n){return!n.moduleRef}function Gj(n){let e=np(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Vn);return t.run(()=>{np(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(di),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),np(n)){let o=()=>e.destroy(),s=n.platformInjector.get(MC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(MC);s.add(o),n.moduleRef.onDestroy(()=>{qf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Yj(r,t,()=>{let o=e.get(xs),s=o.add(),a=e.get(_C);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Od,ep);if(DD(l||ep),!e.get($j,!0))return np(n)?e.get(Ma):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(np(n)){let d=e.get(Ma);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return Wj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var Wj;function Yj(n,e,t){try{let r=t();return Dl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var U1=null;function Kj(n=[],e){return Bi.create({name:e,providers:[{provide:If,useValue:"platform"},{provide:MC,useValue:new Set([()=>U1=null])},...n]})}function Xj(n=[]){if(U1)return U1;let e=Kj(n);return U1=e,xD(),Zj(e),e}function Zj(n){let e=n.get(C1,null);Hr(n,()=>{e?.forEach(t=>t())})}var Is=(()=>{class n{static __NG_ELEMENT_ID__=Qj}return n})();function Qj(n){return Jj(Rr(),nn(),(n&16)===16)}function Jj(n,e,t){if(Cl(n)&&!t){let r=co(n.index,e);return new Sl(r,r)}else if(n.type&175){let r=e[ao];return new Sl(r,e)}return null}var PC=class{constructor(){}supports(e){return dC(e)}create(e){return new DC(e)}},eB=(n,e)=>e,DC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||eB}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<HD(r,i,o)?t:r,a=HD(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,d=l-i;if(c!=d){for(let g=0;g<c;g++){let f=g<o.length?o[g]:o[g]=0,y=f+g;d<=y&&y<c&&(o[g]=f+1)}let h=s.previousIndex;o[h]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!dC(e))throw new Ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,cD(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new OC(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new z1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new z1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},OC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},AC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},z1=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new AC,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function HD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function qD(){return new IC([new PC])}var IC=(()=>{class n{factories;static \u0275prov=$e({token:n,providedIn:"root",factory:qD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||qD()),deps:[[n,new W4,new G4]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Ie(901,!1)}}return n})();function KD(n){bn(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Xj(r),o=[EC({}),{provide:va,useExisting:UD},c4,...t||[]],s=new Wf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Gj({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{bn(9)}}function Fc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var QD=null;function go(){return QD}function TC(n){QD??=n}var rp=class{},NC=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:()=>Pe(JD),providedIn:"platform"})}return n})();var JD=(()=>{class n extends NC{_location;_history;_doc=Pe(Un);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return go().getBaseHref(this._doc)}onPopState(t){let r=go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function eO(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function XD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Al(n){return n&&n[0]!=="?"?`?${n}`:n}var jc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:()=>Pe(kC),providedIn:"root"})}return n})(),tO=new nt(""),kC=(()=>{class n extends jc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Pe(Un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return eO(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Al(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Al(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Al(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(et(NC),et(tO,8))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bc=(()=>{class n{_subject=new rr;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=rB(XD(ZD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Al(r))}normalize(t){return n.stripTrailingSlash(nB(this._basePath,ZD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Al(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Al(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Al;static joinWithSlash=eO;static stripTrailingSlash=XD;static \u0275fac=function(r){return new(r||n)(et(jc))};static \u0275prov=$e({token:n,factory:()=>tB(),providedIn:"root"})}return n})();function tB(){return new Bc(et(jc))}function nB(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ZD(n){return n.replace(/\/index.html$/,"")}function rB(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var UC=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(UC||{});var Zr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Zr||{}),Mn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Mn||{}),xi=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(xi||{}),Mi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function sO(n){return Si(n)[Xn.LocaleId]}function aO(n,e,t){let r=Si(n),i=[r[Xn.DayPeriodsFormat],r[Xn.DayPeriodsStandalone]],o=mo(i,e);return mo(o,t)}function lO(n,e,t){let r=Si(n),i=[r[Xn.DaysFormat],r[Xn.DaysStandalone]],o=mo(i,e);return mo(o,t)}function cO(n,e,t){let r=Si(n),i=[r[Xn.MonthsFormat],r[Xn.MonthsStandalone]],o=mo(i,e);return mo(o,t)}function uO(n,e){let r=Si(n)[Xn.Eras];return mo(r,e)}function ip(n,e){let t=Si(n);return mo(t[Xn.DateFormat],e)}function op(n,e){let t=Si(n);return mo(t[Xn.TimeFormat],e)}function sp(n,e){let r=Si(n)[Xn.DateTimeFormat];return mo(r,e)}function Ts(n,e){let t=Si(n),r=t[Xn.NumberSymbols][e];if(typeof r>"u"){if(e===Mi.CurrencyDecimal)return t[Xn.NumberSymbols][Mi.Decimal];if(e===Mi.CurrencyGroup)return t[Xn.NumberSymbols][Mi.Group]}return r}function dO(n,e){return Si(n)[Xn.NumberFormats][e]}function hO(n){if(!n[Xn.ExtraData])throw new Ie(2303,!1)}function fO(n){let e=Si(n);return hO(e),(e[Xn.ExtraData][2]||[]).map(r=>typeof r=="string"?RC(r):[RC(r[0]),RC(r[1])])}function pO(n,e,t){let r=Si(n);hO(r);let i=[r[Xn.ExtraData][0],r[Xn.ExtraData][1]],o=mo(i,e)||[];return mo(o,t)||[]}function mo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Ie(2304,!1)}function RC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var iB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H1={},oB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function gO(n,e,t,r){let i=pB(n);e=Ia(t,e)||e;let s=[],a;for(;e;)if(a=oB.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=vO(r,l),i=fB(i,r));let c="";return s.forEach(d=>{let h=dB(d);c+=h?h(i,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Y1(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ia(n,e){let t=sO(n);if(H1[t]??={},H1[t][e])return H1[t][e];let r="";switch(e){case"shortDate":r=ip(n,xi.Short);break;case"mediumDate":r=ip(n,xi.Medium);break;case"longDate":r=ip(n,xi.Long);break;case"fullDate":r=ip(n,xi.Full);break;case"shortTime":r=op(n,xi.Short);break;case"mediumTime":r=op(n,xi.Medium);break;case"longTime":r=op(n,xi.Long);break;case"fullTime":r=op(n,xi.Full);break;case"short":let i=Ia(n,"shortTime"),o=Ia(n,"shortDate");r=q1(sp(n,xi.Short),[i,o]);break;case"medium":let s=Ia(n,"mediumTime"),a=Ia(n,"mediumDate");r=q1(sp(n,xi.Medium),[s,a]);break;case"long":let l=Ia(n,"longTime"),c=Ia(n,"longDate");r=q1(sp(n,xi.Long),[l,c]);break;case"full":let d=Ia(n,"fullTime"),h=Ia(n,"fullDate");r=q1(sp(n,xi.Full),[d,h]);break}return r&&(H1[t][e]=r),r}function q1(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Wo(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function sB(n,e){return Wo(n,3).substring(0,e)}function mr(n,e,t=0,r=!1,i=!1){return function(o,s){let a=aB(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return sB(a,e);let l=Ts(s,Mi.MinusSign);return Wo(a,e,l,r,i)}}function aB(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Ie(2301,!1)}}function kn(n,e,t=Zr.Format,r=!1){return function(i,o){return lB(i,o,n,e,t,r)}}function lB(n,e,t,r,i,o){switch(t){case 2:return cO(e,i,r)[n.getMonth()];case 1:return lO(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=fO(e),d=pO(e,i,r),h=c.findIndex(g=>{if(Array.isArray(g)){let[f,y]=g,_=s>=f.hours&&a>=f.minutes,C=s<y.hours||s===y.hours&&a<y.minutes;if(f.hours<y.hours){if(_&&C)return!0}else if(_||C)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return aO(e,i,r)[s<12?0:1];case 3:return uO(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Ie(2302,!1)}}function $1(n){return function(e,t,r){let i=-1*r,o=Ts(t,Mi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Wo(s,2,o)+Wo(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Wo(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Wo(s,2,o)+":"+Wo(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Wo(s,2,o)+":"+Wo(Math.abs(i%60),2,o);default:throw new Ie(2302,!1)}}}var cB=0,W1=4;function uB(n){let e=Y1(n,cB,1).getDay();return Y1(n,0,1+(e<=W1?W1:W1+7)-e)}function mO(n){let e=n.getDay(),t=e===0?-3:W1-e;return Y1(n.getFullYear(),n.getMonth(),n.getDate()+t)}function LC(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=mO(t),s=uB(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Wo(i,n,Ts(r,Mi.MinusSign))}}function G1(n,e=!1){return function(t,r){let o=mO(t).getFullYear();return Wo(o,n,Ts(r,Mi.MinusSign),e)}}var FC={};function dB(n){if(FC[n])return FC[n];let e;switch(n){case"G":case"GG":case"GGG":e=kn(3,Mn.Abbreviated);break;case"GGGG":e=kn(3,Mn.Wide);break;case"GGGGG":e=kn(3,Mn.Narrow);break;case"y":e=mr(0,1,0,!1,!0);break;case"yy":e=mr(0,2,0,!0,!0);break;case"yyy":e=mr(0,3,0,!1,!0);break;case"yyyy":e=mr(0,4,0,!1,!0);break;case"Y":e=G1(1);break;case"YY":e=G1(2,!0);break;case"YYY":e=G1(3);break;case"YYYY":e=G1(4);break;case"M":case"L":e=mr(1,1,1);break;case"MM":case"LL":e=mr(1,2,1);break;case"MMM":e=kn(2,Mn.Abbreviated);break;case"MMMM":e=kn(2,Mn.Wide);break;case"MMMMM":e=kn(2,Mn.Narrow);break;case"LLL":e=kn(2,Mn.Abbreviated,Zr.Standalone);break;case"LLLL":e=kn(2,Mn.Wide,Zr.Standalone);break;case"LLLLL":e=kn(2,Mn.Narrow,Zr.Standalone);break;case"w":e=LC(1);break;case"ww":e=LC(2);break;case"W":e=LC(1,!0);break;case"d":e=mr(2,1);break;case"dd":e=mr(2,2);break;case"c":case"cc":e=mr(7,1);break;case"ccc":e=kn(1,Mn.Abbreviated,Zr.Standalone);break;case"cccc":e=kn(1,Mn.Wide,Zr.Standalone);break;case"ccccc":e=kn(1,Mn.Narrow,Zr.Standalone);break;case"cccccc":e=kn(1,Mn.Short,Zr.Standalone);break;case"E":case"EE":case"EEE":e=kn(1,Mn.Abbreviated);break;case"EEEE":e=kn(1,Mn.Wide);break;case"EEEEE":e=kn(1,Mn.Narrow);break;case"EEEEEE":e=kn(1,Mn.Short);break;case"a":case"aa":case"aaa":e=kn(0,Mn.Abbreviated);break;case"aaaa":e=kn(0,Mn.Wide);break;case"aaaaa":e=kn(0,Mn.Narrow);break;case"b":case"bb":case"bbb":e=kn(0,Mn.Abbreviated,Zr.Standalone,!0);break;case"bbbb":e=kn(0,Mn.Wide,Zr.Standalone,!0);break;case"bbbbb":e=kn(0,Mn.Narrow,Zr.Standalone,!0);break;case"B":case"BB":case"BBB":e=kn(0,Mn.Abbreviated,Zr.Format,!0);break;case"BBBB":e=kn(0,Mn.Wide,Zr.Format,!0);break;case"BBBBB":e=kn(0,Mn.Narrow,Zr.Format,!0);break;case"h":e=mr(3,1,-12);break;case"hh":e=mr(3,2,-12);break;case"H":e=mr(3,1);break;case"HH":e=mr(3,2);break;case"m":e=mr(4,1);break;case"mm":e=mr(4,2);break;case"s":e=mr(5,1);break;case"ss":e=mr(5,2);break;case"S":e=mr(6,1);break;case"SS":e=mr(6,2);break;case"SSS":e=mr(6,3);break;case"Z":case"ZZ":case"ZZZ":e=$1(0);break;case"ZZZZZ":e=$1(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$1(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=$1(2);break;default:return null}return FC[n]=e,e}function vO(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function hB(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function fB(n,e,t){let i=n.getTimezoneOffset(),o=vO(e,i);return hB(n,-1*(o-i))}function pB(n){if(nO(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Y1(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(iB))return gB(r)}let e=new Date(n);if(!nO(e))throw new Ie(2302,!1);return e}function gB(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,c),e}function nO(n){return n instanceof Date&&!isNaN(n.valueOf())}var mB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rO=22,K1=".",ap="0",vB=";",yB=",",jC="#";function _B(n,e,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Ts(t,Mi.Infinity);else{let c=CB(n);s&&(c=wB(c));let d=e.minInt,h=e.minFrac,g=e.maxFrac;if(o){let E=o.match(mB);if(E===null)throw new Ie(2306,!1);let O=E[1],N=E[3],q=E[5];O!=null&&(d=BC(O)),N!=null&&(h=BC(N)),q!=null?g=BC(q):N!=null&&h>g&&(g=h)}EB(c,h,g);let f=c.digits,y=c.integerLen,_=c.exponent,C=[];for(l=f.every(E=>!E);y<d;y++)f.unshift(0);for(;y<0;y++)f.unshift(0);y>0?C=f.splice(y,f.length):(C=f,f=[0]);let w=[];for(f.length>=e.lgSize&&w.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)w.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&w.unshift(f.join("")),a=w.join(Ts(t,r)),C.length&&(a+=Ts(t,i)+C.join("")),_&&(a+=Ts(t,Mi.Exponential)+"+"+_)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function yO(n,e,t){let r=dO(e,UC.Decimal),i=bB(r,Ts(e,Mi.MinusSign));return _B(n,i,e,Mi.Group,Mi.Decimal,t)}function bB(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(vB),i=r[0],o=r[1],s=i.indexOf(K1)!==-1?i.split(K1):[i.substring(0,i.lastIndexOf(ap)+1),i.substring(i.lastIndexOf(ap)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(jC));for(let d=0;d<l.length;d++){let h=l.charAt(d);h===ap?t.minFrac=t.maxFrac=d+1:h===jC?t.maxFrac=d+1:t.posSuf+=h}let c=a.split(yB);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,h=o.indexOf(jC);t.negPre=o.substring(0,h).replace(/'/g,""),t.negSuf=o.slice(h+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function wB(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function CB(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(K1))>-1&&(e=e.replace(K1,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===ap;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===ap;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>rO&&(r=r.splice(0,rO-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function EB(n,e,t){if(e>t)throw new Ie(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=e+n.integerLen,d=r.reduceRight(function(h,g,f,y){return g=g+h,y[f]=g<10?g:g-10,l&&(y[f]===0&&f>=c?y.pop():l=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function BC(n){let e=parseInt(n);if(isNaN(e))throw new Ie(2305,!1);return e}var X1=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Il=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new X1(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),iO(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);iO(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ct(xa),ct(xl),ct(IC))};static \u0275dir=Kn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function iO(n,e){n.context.$implicit=e.item}var Yo=(()=>{class n{_viewContainer;_context=new Z1;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oO(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oO(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ct(xa),ct(xl))};static \u0275dir=Kn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Z1=class{$implicit=null;ngIf=null};function oO(n,e){if(n&&!n.createEmbeddedView)throw new Ie(2020,!1)}function _O(n,e){return new Ie(2100,!1)}var SB="mediumDate",bO=new nt(""),wO=new nt(""),VC=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??SB,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return gO(t,s,o||this.locale,a)}catch(s){throw _O(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ct(Od,16),ct(bO,24),ct(wO,24))};static \u0275pipe=N1({name:"date",type:n,pure:!0})}return n})();var zC=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!xB(t))return null;i||=this._locale;try{let o=MB(t);return yO(o,i,r)}catch(o){throw _O(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ct(Od,16))};static \u0275pipe=N1({name:"number",type:n,pure:!0})}return n})();function xB(n){return!(n==null||n===""||n!==n)}function MB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Ie(2309,!1);return n}var vo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$o({type:n});static \u0275inj=io({})}return n})();function lp(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Uc=class{};var CO="browser";var EO=(()=>{class n{static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new HC(Pe(Un),window)})}return n})(),HC=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(Et(Ae({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=AB(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(ml(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Et(Ae({},t),{left:i-s[0],top:o-s[1]}))}};function AB(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var J1=new nt(""),YC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Ie(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(et(J1),et(Vn))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),cp=class{_doc;constructor(e){this._doc=e}manager},qC="ng-app-id";function SO(n){for(let e of n)e.remove()}function xO(n,e){let t=e.createElement("style");return t.textContent=n,t}function IB(n,e,t,r){let i=n.head?.querySelectorAll(`style[${qC}="${e}"],link[${qC}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qC),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function GC(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var KC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,IB(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,xO);r?.forEach(i=>this.addUsage(i,this.external,GC))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(SO(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])SO(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,xO(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,GC(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(et(Un),et(w1),et(S1,8),et(Md))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),$C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},XC=/%COMP%/g;var PO="%COMP%",TB=`_nghost-${PO}`,NB=`_ngcontent-${PO}`,kB=!0,RB=new nt("",{providedIn:"root",factory:()=>kB});function LB(n){return NB.replace(XC,n)}function FB(n){return TB.replace(XC,n)}function DO(n,e){return e.map(t=>t.replace(XC,n))}var hp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new up(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Q1?i.applyToHost(t):i instanceof dp&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case wa.Emulated:o=new Q1(l,c,r,this.appId,d,s,a,h,g);break;case wa.ShadowDom:return new WC(l,c,t,r,s,a,this.nonce,h,g);default:o=new dp(l,c,r,d,s,a,h,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(et(YC),et(KC),et(w1),et(RB),et(Un),et(Md),et(Vn),et(S1),et(Lc,8))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),up=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS($C[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(MO(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(MO(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ie(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=$C[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=$C[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ps.DashCase|Ps.Important)?e.style.setProperty(t,r,i&Ps.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ps.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=go().getGlobalEventTarget(this.doc,e),!e))throw new Ie(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function MO(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var WC=class extends up{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=DO(i.id,d);for(let g of d){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=g,this.shadowRoot.appendChild(f)}let h=i.getExternalStyles?.();if(h)for(let g of h){let f=GC(g,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dp=class extends up{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?DO(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Q1=class extends dp{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let d=i+"-"+r.id;super(e,t,r,o,s,a,l,c,d),this.contentAttr=LB(d),this.hostAttr=FB(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ev=class n extends rp{supportsDOMEvents=!0;static makeCurrent(){TC(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=jB();return t==null?null:BB(t)}resetBaseElement(){fp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lp(document.cookie,e)}},fp=null;function jB(){return fp=fp||document.head.querySelector("base"),fp?fp.getAttribute("href"):null}function BB(n){return new URL(n,document.baseURI).pathname}var UB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),AO=(()=>{class n extends cp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(et(Un))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),OO=["alt","control","meta","shift"],VB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},IO=(()=>{class n extends cp{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>go().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),OO.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=VB[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),OO.forEach(s=>{if(s!==i){let a=zB[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(et(Un))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function ZC(n,e){let t=Ae({rootComponent:n},HB(e));return KD(t)}function HB(n){return{appProviders:[...YB,...n?.providers??[]],platformProviders:WB}}function qB(){ev.makeCurrent()}function $B(){return new Fo}function GB(){return zw(document),document}var WB=[{provide:Md,useValue:CO},{provide:C1,useValue:qB,multi:!0},{provide:Un,useFactory:GB}];var YB=[{provide:If,useValue:"root"},{provide:Fo,useFactory:$B},{provide:J1,useClass:AO,multi:!0,deps:[Un]},{provide:J1,useClass:IO,multi:!0,deps:[Un]},hp,KC,YC,{provide:Ca,useExisting:hp},{provide:Uc,useClass:UB},[]];var Td=class{},mp=class{},Vc=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var nv=class{encodeKey(e){return TO(e)}encodeValue(e){return TO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function KB(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var XB=/%(\d[a-f0-9])/gi,ZB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TO(n){return encodeURIComponent(n).replace(XB,(e,t)=>ZB[t]??e)}function tv(n){return`${n}`}var Tl=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new nv,e.fromString){if(e.fromObject)throw new Ie(2805,!1);this.map=KB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(tv):[tv(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(tv(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tv(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rv=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function QB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function NO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function kO(n){return typeof Blob<"u"&&n instanceof Blob}function RO(n){return typeof FormData<"u"&&n instanceof FormData}function JB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var LO="Content-Type",FO="Accept",jO="X-Request-URL",BO="text/plain",UO="application/json",eU=`${UO}, ${BO}, */*`,pp=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(QB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new Vc,this.context??=new rv,!this.params)this.params=new Tl,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||NO(this.body)||kO(this.body)||RO(this.body)||JB(this.body)?this.body:this.body instanceof Tl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||RO(this.body)?null:kO(this.body)?this.body.type||null:NO(this.body)?null:typeof this.body=="string"?BO:this.body instanceof Tl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?UO:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,h=e.transferCache??this.transferCache,g=e.timeout??this.timeout,f=e.body!==void 0?e.body:this.body,y=e.withCredentials??this.withCredentials,_=e.reportProgress??this.reportProgress,C=e.headers||this.headers,w=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(C=Object.keys(e.setHeaders).reduce((O,N)=>O.set(N,e.setHeaders[N]),C)),e.setParams&&(w=Object.keys(e.setParams).reduce((O,N)=>O.set(N,e.setParams[N]),w)),new n(t,r,f,{params:w,headers:C,context:E,reportProgress:_,responseType:i,withCredentials:y,transferCache:h,keepalive:o,cache:a,priority:s,timeout:g,mode:l,redirect:c,credentials:d})}},Id=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Id||{}),Nd=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Vc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},iv=class n extends Nd{constructor(e={}){super(e)}type=Id.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ov=class n extends Nd{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Id.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gp=class extends Nd{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},tU=200,nU=204;function QC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect}}var rU=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof pp)o=t;else{let l;i.headers instanceof Vc?l=i.headers:l=new Vc(i.headers);let c;i.params&&(i.params instanceof Tl?c=i.params:c=new Tl({fromObject:i.params})),o=new pp(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=St(o).pipe(hl(l=>this.handler.handle(l)));if(t instanceof pp||i.observe==="events")return s;let a=s.pipe(wi(l=>l instanceof ov));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(wt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Ie(2806,!1);return l.body}));case"blob":return a.pipe(wt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Ie(2807,!1);return l.body}));case"text":return a.pipe(wt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Ie(2808,!1);return l.body}));case"json":default:return a.pipe(wt(l=>l.body))}case"response":return a;default:throw new Ie(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Tl().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,QC(i,r))}post(t,r,i={}){return this.request("POST",t,QC(i,r))}put(t,r,i={}){return this.request("PUT",t,QC(i,r))}static \u0275fac=function(r){return new(r||n)(et(Td))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();var iU=new nt("");function oU(n,e){return e(n)}function sU(n,e,t){return(r,i)=>Hr(t,()=>e(r,o=>n(o,i)))}var VO=new nt(""),aU=new nt(""),zO=new nt("",{providedIn:"root",factory:()=>!0});var sv=(()=>{class n extends Td{backend;injector;chain=null;pendingTasks=Pe(G0);contributeToStability=Pe(zO);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(VO),...this.injector.get(aU,[])]));this.chain=r.reduceRight((i,o)=>sU(i,o,this.injector),oU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(vc(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(et(mp),et(gr))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();var lU=/^\)\]\}',?\n/,cU=RegExp(`^${jO}:`,"m");function uU(n){return"responseURL"in n&&n.responseURL?n.responseURL:cU.test(n.getAllResponseHeaders())?n.getResponseHeader(jO):null}var JC=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Ie(-2800,!1);let r=this.xhrFactory;return St(null).pipe(Ci(()=>new Gt(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,w)=>s.setRequestHeader(C,w.join(","))),t.headers.has(FO)||s.setRequestHeader(FO,eU),!t.headers.has(LO)){let C=t.detectContentTypeHeader();C!==null&&s.setRequestHeader(LO,C)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let C=t.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let C=s.statusText||"OK",w=new Vc(s.getAllResponseHeaders()),E=uU(s)||t.url;return l=new iv({headers:w,status:s.status,statusText:C,url:E}),l},d=()=>{let{headers:C,status:w,statusText:E,url:O}=c(),N=null;w!==nU&&(N=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=N?tU:0);let q=w>=200&&w<300;if(t.responseType==="json"&&typeof N=="string"){let X=N;N=N.replace(lU,"");try{N=N!==""?JSON.parse(N):null}catch(z){N=X,q&&(q=!1,N={error:z,text:N})}}q?(o.next(new ov({body:N,headers:C,status:w,statusText:E,url:O||void 0})),o.complete()):o.error(new gp({error:N,headers:C,status:w,statusText:E,url:O||void 0}))},h=C=>{let{url:w}=c(),E=new gp({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(E)},g=h;t.timeout&&(g=C=>{let{url:w}=c(),E=new gp({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:w||void 0});o.error(E)});let f=!1,y=C=>{f||(o.next(c()),f=!0);let w={type:Id.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),t.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},_=C=>{let w={type:Id.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",g),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Id.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(et(Uc))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),HO=new nt(""),dU="XSRF-TOKEN",hU=new nt("",{providedIn:"root",factory:()=>dU}),fU="X-XSRF-TOKEN",pU=new nt("",{providedIn:"root",factory:()=>fU}),vp=class{},gU=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=lp(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(et(Un),et(hU))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function mU(n,e){let t=n.url.toLowerCase();if(!Pe(HO)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=Pe(vp).getToken(),i=Pe(pU);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function eE(...n){let e=[rU,JC,sv,{provide:Td,useExisting:sv},{provide:mp,useFactory:()=>Pe(iU,{optional:!0})??Pe(JC)},{provide:VO,useValue:mU,multi:!0},{provide:HO,useValue:!0},{provide:vp,useClass:gU}];for(let t of n)e.push(...t.\u0275providers);return _a(e)}var qO=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(et(Un))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ut="primary",Ap=Symbol("RouteTitle"),oE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function qc(n){return new oE(n)}function QO(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ns(n[t],e[t]))return!1;return!0}function Ns(n,e){let t=n?sE(n):void 0,r=e?sE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!JO(n[i],e[i]))return!1;return!0}function sE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function JO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function eA(n){return n.length>0?n[n.length-1]:null}function Ta(n){return Vb(n)?n:Dl(n)?Yn(Promise.resolve(n)):St(n)}var _U={exact:nA,subset:rA},tA={exact:bU,subset:wU,ignored:()=>!0};function $O(n,e,t){return _U[t.paths](n.root,e.root,t.matrixParams)&&tA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function bU(n,e){return Ns(n,e)}function nA(n,e,t){if(!zc(n.segments,e.segments)||!cv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!nA(n.children[r],e.children[r],t))return!1;return!0}function wU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>JO(n[t],e[t]))}function rA(n,e,t){return iA(n,e,e.segments,t)}function iA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!zc(i,t)||e.hasChildren()||!cv(i,t,r))}else if(n.segments.length===t.length){if(!zc(n.segments,t)||!cv(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!rA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!zc(n.segments,i)||!cv(n.segments,i,r)||!n.children[Ut]?!1:iA(n.children[Ut],e,o,r)}}function cv(n,e,t){return e.every((r,i)=>tA[t](n[i].parameters,r.parameters))}var Rs=class{root;queryParams;fragment;_queryParamMap;constructor(e=new pn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qc(this.queryParams),this._queryParamMap}toString(){return SU.serialize(this)}},pn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uv(this)}},Nl=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=qc(this.parameters),this._parameterMap}toString(){return sA(this)}};function CU(n,e){return zc(n,e)&&n.every((t,r)=>Ns(t.parameters,e[r].parameters))}function zc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function EU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ut&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ut&&(t=t.concat(e(i,r)))}),t}var $d=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:()=>new $c,providedIn:"root"})}return n})(),$c=class{parse(e){let t=new lE(e);return new Rs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yp(e.root,!0)}`,r=PU(e.queryParams),i=typeof e.fragment=="string"?`#${xU(e.fragment)}`:"";return`${t}${r}${i}`}},SU=new $c;function uv(n){return n.segments.map(e=>sA(e)).join("/")}function yp(n,e){if(!n.hasChildren())return uv(n);if(e){let t=n.children[Ut]?yp(n.children[Ut],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ut&&r.push(`${i}:${yp(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=EU(n,(r,i)=>i===Ut?[yp(n.children[Ut],!1)]:[`${i}:${yp(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ut]!=null?`${uv(n)}/${t[0]}`:`${uv(n)}/(${t.join("//")})`}}function oA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function av(n){return oA(n).replace(/%3B/gi,";")}function xU(n){return encodeURI(n)}function aE(n){return oA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dv(n){return decodeURIComponent(n)}function GO(n){return dv(n.replace(/\+/g,"%20"))}function sA(n){return`${aE(n.path)}${MU(n.parameters)}`}function MU(n){return Object.entries(n).map(([e,t])=>`;${aE(e)}=${aE(t)}`).join("")}function PU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${av(t)}=${av(i)}`).join("&"):`${av(t)}=${av(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var DU=/^[^\/()?;#]+/;function tE(n){let e=n.match(DU);return e?e[0]:""}var OU=/^[^\/()?;=#]+/;function AU(n){let e=n.match(OU);return e?e[0]:""}var IU=/^[^=?&#]+/;function TU(n){let e=n.match(IU);return e?e[0]:""}var NU=/^[^&#]+/;function kU(n){let e=n.match(NU);return e?e[0]:""}var lE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ut]=new pn(e,t)),r}parseSegment(){let e=tE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ie(4009,!1);return this.capture(e),new Nl(dv(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=AU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=tE(this.remaining);i&&(r=i,this.capture(r))}e[dv(t)]=dv(r)}parseQueryParam(e){let t=TU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=kU(this.remaining);s&&(r=s,this.capture(r))}let i=GO(t),o=GO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ie(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ut);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ut]:new pn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ie(4011,!1)}};function aA(n){return n.segments.length>0?new pn([],{[Ut]:n}):n}function lA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=lA(i);if(r===Ut&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new pn(n.segments,e);return RU(t)}function RU(n){if(n.numberOfChildren===1&&n.children[Ut]){let e=n.children[Ut];return new pn(n.segments.concat(e.segments),e.children)}return n}function kl(n){return n instanceof Rs}function cA(n,e,t=null,r=null){let i=uA(n);return dA(i,e,t,r)}function uA(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new pn(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=aA(r);return e??i}function dA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return nE(i,i,i,t,r);let o=LU(e);if(o.toRoot())return nE(i,i,new pn([],{}),t,r);let s=FU(o,i,n),a=s.processChildren?bp(s.segmentGroup,s.index,o.commands):fA(s.segmentGroup,s.index,o.commands);return nE(i,s.segmentGroup,a,t,r)}function hv(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Cp(n){return typeof n=="object"&&n!=null&&n.outlets}function nE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===e?s=t:s=hA(n,e,t);let a=aA(lA(s));return new Rs(a,o,i)}function hA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=hA(o,e,t)}),new pn(n.segments,r)}var fv=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hv(r[0]))throw new Ie(4003,!1);let i=r.find(Cp);if(i&&i!==eA(r))throw new Ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fv(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fv(t,e,r)}var Ld=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function FU(n,e,t){if(n.isAbsolute)return new Ld(e,!0,0);if(!t)return new Ld(e,!1,NaN);if(t.parent===null)return new Ld(t,!0,0);let r=hv(n.commands[0])?0:1,i=t.segments.length-1+r;return jU(t,i,n.numberOfDoubleDots)}function jU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ie(4005,!1);i=r.segments.length}return new Ld(r,!1,i-o)}function BU(n){return Cp(n[0])?n[0].outlets:{[Ut]:n}}function fA(n,e,t){if(n??=new pn([],{}),n.segments.length===0&&n.hasChildren())return bp(n,e,t);let r=UU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new pn(n.segments.slice(0,r.pathIndex),{});return o.children[Ut]=new pn(n.segments.slice(r.pathIndex),n.children),bp(o,0,i)}else return r.match&&i.length===0?new pn(n.segments,{}):r.match&&!n.hasChildren()?cE(n,e,t):r.match?bp(n,0,i):cE(n,e,t)}function bp(n,e,t){if(t.length===0)return new pn(n.segments,{});{let r=BU(t),i={};if(Object.keys(r).some(o=>o!==Ut)&&n.children[Ut]&&n.numberOfChildren===1&&n.children[Ut].segments.length===0){let o=bp(n.children[Ut],e,t);return new pn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new pn(n.segments,i)}}function UU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Cp(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!YO(l,c,s))return o;r+=2}else{if(!YO(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function cE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Cp(o)){let l=VU(o.outlets);return new pn(r,l)}if(i===0&&hv(t[0])){let l=n.segments[e];r.push(new Nl(l.path,WO(t[0]))),i++;continue}let s=Cp(o)?o.outlets[Ut]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hv(a)?(r.push(new Nl(s,WO(a))),i+=2):(r.push(new Nl(s,{})),i++)}return new pn(r,{})}function VU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=cE(new pn([],{}),0,r))}),e}function WO(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function YO(n,e,t){return n==t.path&&Ns(e,t.parameters)}var Fd="imperative",Mr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Mr||{}),qi=class{id;url;constructor(e,t){this.id=e,this.url=t}},Rl=class extends qi{type=Mr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xo=class extends qi{urlAfterRedirects;type=Mr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hi=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(hi||{}),Bd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Bd||{}),ks=class extends qi{reason;code;type=Mr.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ls=class extends qi{reason;code;type=Mr.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ud=class extends qi{error;target;type=Mr.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ep=class extends qi{urlAfterRedirects;state;type=Mr.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pv=class extends qi{urlAfterRedirects;state;type=Mr.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gv=class extends qi{urlAfterRedirects;state;shouldActivate;type=Mr.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mv=class extends qi{urlAfterRedirects;state;type=Mr.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vv=class extends qi{urlAfterRedirects;state;type=Mr.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yv=class{route;type=Mr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_v=class{route;type=Mr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bv=class{snapshot;type=Mr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wv=class{snapshot;type=Mr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cv=class{snapshot;type=Mr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ev=class{snapshot;type=Mr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vd=class{routerEvent;position;anchor;type=Mr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Sp=class{},zd=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function zU(n){return!(n instanceof Sp)&&!(n instanceof zd)}function HU(n,e){return n.providers&&!n._injector&&(n._injector=Jf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ko(n){return n.outlet||Ut}function qU(n,e){let t=n.filter(r=>Ko(r)===e);return t.push(...n.filter(r=>Ko(r)!==e)),t}function Gd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Gd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Wd(this.rootInjector)}},Wd=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(et(gr))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xv=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=uE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=uE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=dE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dE(e,this._root).map(t=>t.value)}};function uE(n,e){if(n===e.value)return e;for(let t of e.children){let r=uE(n,t);if(r)return r}return null}function dE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=dE(n,t);if(r.length)return r.unshift(e),r}return[]}var Hi=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Rd(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var xp=class extends xv{snapshot;constructor(e,t){super(e),this.snapshot=t,_E(this,e)}toString(){return this.snapshot.toString()}};function pA(n){let e=$U(n),t=new Nn([new Nl("",{})]),r=new Nn({}),i=new Nn({}),o=new Nn({}),s=new Nn(""),a=new Zo(t,r,o,s,i,Ut,n,e.root);return a.snapshot=e.root,new xp(new Hi(a,[]),e)}function $U(n){let e={},t={},r={},i="",o=new Hc([],e,r,i,t,Ut,n,null,{});return new Mp("",new Hi(o,[]))}var Zo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(wt(c=>c[Ap]))??St(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(wt(e=>qc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(wt(e=>qc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Mv(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Ae(Ae({},e.params),n.params),data:Ae(Ae({},e.data),n.data),resolve:Ae(Ae(Ae(Ae({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Ae({},n.params),data:Ae({},n.data),resolve:Ae(Ae({},n.data),n._resolvedData??{})},i&&mA(i)&&(r.resolve[Ap]=i.title),r}var Hc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ap]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Mp=class extends xv{url;constructor(e,t){super(t),this.url=e,_E(this,t)}toString(){return gA(this._root)}};function _E(n,e){e.value._routerState=n,e.children.forEach(t=>_E(n,t))}function gA(n){let e=n.children.length>0?` { ${n.children.map(gA).join(", ")} } `:"";return`${n.value}${e}`}function rE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ns(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ns(e.params,t.params)||n.paramsSubject.next(t.params),yU(e.url,t.url)||n.urlSubject.next(t.url),Ns(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hE(n,e){let t=Ns(n.params,e.params)&&CU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||hE(n.parent,e.parent))}function mA(n){return typeof n.title=="string"||n.title===null}var vA=new nt(""),Ip=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ut;activateEvents=new Er;deactivateEvents=new Er;attachEvents=new Er;detachEvents=new Er;routerOutletData=YD(void 0);parentContexts=Pe(Wd);location=Pe(xa);changeDetector=Pe(Is);inputBinder=Pe(Av,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ie(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ie(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new fE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Kn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ea]})}return n})(),fE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Zo?this.route:e===Wd?this.childContexts:e===vA?this.outletData:this.parent.get(e,t)}},Av=new nt("");var bE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=wn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ve(0,"router-outlet")},dependencies:[Ip],encapsulation:2})}return n})();function wE(n){let e=n.children&&n.children.map(wE),t=e?Et(Ae({},n),{children:e}):Ae({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=bE),t}function GU(n,e,t){let r=Pp(n,e._root,t?t._root:void 0);return new xp(r,e)}function Pp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=WU(n,e,t);return new Hi(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pp(n,a)),s}}let r=YU(e.value),i=e.children.map(o=>Pp(n,o));return new Hi(r,i)}}function WU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pp(n,r,i);return Pp(n,r)})}function YU(n){return new Zo(new Nn(n.url),new Nn(n.params),new Nn(n.queryParams),new Nn(n.fragment),new Nn(n.data),n.outlet,n.component,n)}var Hd=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},yA="ngNavigationCancelingError";function Pv(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=kl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_A(!1,hi.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _A(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[yA]=!0,t.cancellationCode=e,t}function KU(n){return bA(n)&&kl(n.url)}function bA(n){return!!n&&n[yA]}var XU=(n,e,t,r)=>wt(i=>(new pE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),pE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),rE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Rd(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Rd(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Rd(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Rd(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ev(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(rE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Dv=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},jd=class{component;route;constructor(e,t){this.component=e,this.route=t}};function ZU(n,e,t){let r=n._root,i=e?e._root:null;return _p(r,i,t,[r.value])}function QU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Yd(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!s5(n)?n:e.get(n):r}function _p(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Rd(e);return n.children.forEach(s=>{JU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wp(a,t.getContext(s),i)),i}function JU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=eV(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Dv(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_p(n,e,a?a.children:null,r,i):_p(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jd(a.outlet.component,s))}else s&&wp(e,a,i),i.canActivateChecks.push(new Dv(r)),o.component?_p(n,null,a?a.children:null,r,i):_p(n,null,t,r,i);return i}function eV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!zc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zc(n.url,e.url)||!Ns(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hE(n,e)||!Ns(n.queryParams,e.queryParams);case"paramsChange":default:return!hE(n,e)}}function wp(n,e,t){let r=Rd(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wp(s,e.children.getContext(o),t):wp(s,null,t):wp(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new jd(e.outlet.component,i)):t.canDeactivateChecks.push(new jd(null,i)):t.canDeactivateChecks.push(new jd(null,i))}function Tp(n){return typeof n=="function"}function tV(n){return typeof n=="boolean"}function nV(n){return n&&Tp(n.canLoad)}function rV(n){return n&&Tp(n.canActivate)}function iV(n){return n&&Tp(n.canActivateChild)}function oV(n){return n&&Tp(n.canDeactivate)}function sV(n){return n&&Tp(n.canMatch)}function wA(n){return n instanceof ha||n?.name==="EmptyError"}var lv=Symbol("INITIAL_VALUE");function qd(){return Ci(n=>y0(n.map(e=>e.pipe(fa(1),$b(lv)))).pipe(wt(e=>{for(let t of e)if(t!==!0){if(t===lv)return lv;if(t===!1||aV(t))return t}return!0}),wi(e=>e!==lv),fa(1)))}function aV(n){return kl(n)||n instanceof Hd}function lV(n,e){return Cr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?St(Et(Ae({},t),{guardsResult:!0})):cV(s,r,i,n).pipe(Cr(a=>a&&tV(a)?uV(r,o,n,e):St(a)),wt(a=>Et(Ae({},t),{guardsResult:a})))})}function cV(n,e,t,r){return Yn(n).pipe(Cr(i=>gV(i.component,i.route,t,e,r)),pa(i=>i!==!0,!0))}function uV(n,e,t,r){return Yn(e).pipe(hl(i=>cd(hV(i.route.parent,r),dV(i.route,r),pV(n,i.path,t),fV(n,i.route,t))),pa(i=>i!==!0,!0))}function dV(n,e){return n!==null&&e&&e(new Cv(n)),St(!0)}function hV(n,e){return n!==null&&e&&e(new bv(n)),St(!0)}function fV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return St(!0);let i=r.map(o=>Ef(()=>{let s=Gd(e)??t,a=Yd(o,s),l=rV(a)?a.canActivate(e,n):Hr(s,()=>a(e,n));return Ta(l).pipe(pa())}));return St(i).pipe(qd())}function pV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>QU(s)).filter(s=>s!==null).map(s=>Ef(()=>{let a=s.guards.map(l=>{let c=Gd(s.node)??t,d=Yd(l,c),h=iV(d)?d.canActivateChild(r,n):Hr(c,()=>d(r,n));return Ta(h).pipe(pa())});return St(a).pipe(qd())}));return St(o).pipe(qd())}function gV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return St(!0);let s=o.map(a=>{let l=Gd(e)??i,c=Yd(a,l),d=oV(c)?c.canDeactivate(n,e,t,r):Hr(l,()=>c(n,e,t,r));return Ta(d).pipe(pa())});return St(s).pipe(qd())}function mV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return St(!0);let o=i.map(s=>{let a=Yd(s,n),l=nV(a)?a.canLoad(e,t):Hr(n,()=>a(e,t));return Ta(l)});return St(o).pipe(qd(),CA(r))}function CA(n){return Rb(Tr(e=>{if(typeof e!="boolean")throw Pv(n,e)}),wt(e=>e===!0))}function vV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return St(!0);let o=i.map(s=>{let a=Yd(s,n),l=sV(a)?a.canMatch(e,t):Hr(n,()=>a(e,t));return Ta(l)});return St(o).pipe(qd(),CA(r))}var Dp=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Op=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function kd(n){return ld(new Dp(n))}function yV(n){return ld(new Ie(4e3,!1))}function _V(n){return ld(_A(!1,hi.GuardRejected))}var gE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return St(r);if(i.numberOfChildren>1||!i.children[Ut])return yV(`${e.redirectTo}`);i=i.children[Ut]}}applyRedirectCommands(e,t,r,i,o){return bV(t,i,o).pipe(wt(s=>{if(s instanceof Rs)throw new Op(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Op(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new pn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Ie(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function bV(n,e,t){if(typeof n=="string")return St(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:d,title:h}=e;return Ta(Hr(t,()=>r({params:c,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:h})))}var mE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wV(n,e,t,r,i){let o=EA(n,e,t);return o.matched?(r=HU(e,r),vV(r,e,t,i).pipe(wt(s=>s===!0?o:Ae({},mE)))):St(o)}function EA(n,e,t){if(e.path==="**")return CV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Ae({},mE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||QO)(t,n,e);if(!i)return Ae({},mE);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Ae(Ae({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function CV(n){return{matched:!0,parameters:n.length>0?eA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function KO(n,e,t,r){return t.length>0&&xV(n,t,r)?{segmentGroup:new pn(e,SV(r,new pn(t,n.children))),slicedSegments:[]}:t.length===0&&MV(n,t,r)?{segmentGroup:new pn(n.segments,EV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new pn(n.segments,n.children),slicedSegments:t}}function EV(n,e,t,r){let i={};for(let o of t)if(Iv(n,e,o)&&!r[Ko(o)]){let s=new pn([],{});i[Ko(o)]=s}return Ae(Ae({},r),i)}function SV(n,e){let t={};t[Ut]=e;for(let r of n)if(r.path===""&&Ko(r)!==Ut){let i=new pn([],{});t[Ko(r)]=i}return t}function xV(n,e,t){return t.some(r=>Iv(n,e,r)&&Ko(r)!==Ut)}function MV(n,e,t){return t.some(r=>Iv(n,e,r))}function Iv(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function PV(n,e,t){return e.length===0&&!n.children[t]}var vE=class{};function DV(n,e,t,r,i,o,s="emptyOnly"){return new yE(n,e,t,r,i,s,o).recognize()}var OV=31,yE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new gE(this.urlSerializer,this.urlTree)}noMatchError(e){return new Ie(4002,`'${e.segmentGroup}'`)}recognize(){let e=KO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(wt(({children:t,rootSnapshot:r})=>{let i=new Hi(r,t),o=new Mp("",i),s=cA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Hc([],Object.freeze({}),Object.freeze(Ae({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ut,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ut,t).pipe(wt(r=>({children:r,rootSnapshot:t})),dl(r=>{if(r instanceof Op)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Dp?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(wt(s=>s instanceof Hi?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Yn(o).pipe(hl(s=>{let a=r.children[s],l=qU(t,s);return this.processSegmentGroup(e,l,a,s,i)}),qb((s,a)=>(s.push(...a),s)),fl(null),Hb(),Cr(s=>{if(s===null)return kd(r);let a=SA(s);return AV(a),St(a)}))}processSegment(e,t,r,i,o,s,a){return Yn(t).pipe(hl(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(dl(c=>{if(c instanceof Dp)return St(null);throw c}))),pa(l=>!!l),dl(l=>{if(wA(l))return PV(r,i,o)?St(new vE):kd(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Ko(r)!==s&&(s===Ut||!Iv(i,o,r))?kd(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):kd(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:g}=EA(t,i,o);if(!l)return kd(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>OV&&(this.allowRedirects=!1));let f=new Hc(o,c,Object.freeze(Ae({},this.urlTree.queryParams)),this.urlTree.fragment,XO(i),Ko(i),i.component??i._loadedComponent??null,i,ZO(i)),y=Mv(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(y.params),f.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,f,e).pipe(Ci(C=>this.applyRedirects.lineralizeSegments(i,C)),Cr(C=>this.processSegment(e,r,t,C.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=wV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ci(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ci(({routes:c})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:g,remainingSegments:f}=l,y=new Hc(g,h,Object.freeze(Ae({},this.urlTree.queryParams)),this.urlTree.fragment,XO(r),Ko(r),r.component??r._loadedComponent??null,r,ZO(r)),_=Mv(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:w}=KO(t,g,f,c);if(w.length===0&&C.hasChildren())return this.processChildren(d,c,C,y).pipe(wt(O=>new Hi(y,O)));if(c.length===0&&w.length===0)return St(new Hi(y,[]));let E=Ko(r)===o;return this.processSegment(d,c,C,w,E?Ut:o,!0,y).pipe(wt(O=>new Hi(y,O instanceof Hi?[O]:[])))}))):kd(t)))}getChildConfig(e,t,r){return t.children?St({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?St({routes:t._loadedRoutes,injector:t._loadedInjector}):mV(e,t,r,this.urlSerializer).pipe(Cr(i=>i?this.configLoader.loadChildren(e,t).pipe(Tr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):_V(t))):St({routes:[],injector:e})}};function AV(n){n.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet))}function IV(n){let e=n.value.routeConfig;return e&&e.path===""}function SA(n){let e=[],t=new Set;for(let r of n){if(!IV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=SA(r.children);e.push(new Hi(r.value,i))}return e.filter(r=>!t.has(r))}function XO(n){return n.data||{}}function ZO(n){return n.resolve||{}}function TV(n,e,t,r,i,o){return Cr(s=>DV(n,e,t,r,s.extractedUrl,i,o).pipe(wt(({state:a,tree:l})=>Et(Ae({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function NV(n,e){return Cr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return St(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of xA(l))s.add(c);let a=0;return Yn(s).pipe(hl(l=>o.has(l)?kV(l,r,n,e):(l.data=Mv(l,l.parent,n).resolve,St(void 0))),Tr(()=>a++),ud(1),Cr(l=>a===s.size?St(t):_i))})}function xA(n){let e=n.children.map(t=>xA(t)).flat();return[n,...e]}function kV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!mA(i)&&(o[Ap]=i.title),Ef(()=>(n.data=Mv(n,n.parent,t).resolve,RV(o,n,e,r).pipe(wt(s=>(n._resolvedData=s,n.data=Ae(Ae({},n.data),s),null)))))}function RV(n,e,t,r){let i=sE(n);if(i.length===0)return St({});let o={};return Yn(i).pipe(Cr(s=>LV(n[s],e,t,r).pipe(pa(),Tr(a=>{if(a instanceof Hd)throw Pv(new $c,a);o[s]=a}))),ud(1),wt(()=>o),dl(s=>wA(s)?_i:ld(s)))}function LV(n,e,t,r){let i=Gd(e)??r,o=Yd(n,i),s=o.resolve?o.resolve(e,t):Hr(i,()=>o(e,t));return Ta(s)}function iE(n){return Ci(e=>{let t=n(e);return t?Yn(t).pipe(wt(()=>e)):St(e)})}var CE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ut);return r}getResolvedTitleForRoute(t){return t.data[Ap]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:()=>Pe(MA),providedIn:"root"})}return n})(),MA=(()=>{class n extends CE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(et(qO))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kd=new nt("",{providedIn:"root",factory:()=>({})}),Np=new nt(""),PA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Pe(CC);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return St(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ta(Hr(t,()=>r.loadComponent())).pipe(wt(OA),Tr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),vc(()=>{this.componentLoaders.delete(r)})),o=new sd(i,()=>new rr).pipe(od());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return St({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=DA(r,this.compiler,t,this.onLoadEndListener).pipe(vc(()=>{this.childrenLoaders.delete(r)})),s=new sd(o,()=>new rr).pipe(od());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DA(n,e,t,r){return Ta(Hr(t,()=>n.loadChildren())).pipe(wt(OA),Cr(i=>i instanceof T1||Array.isArray(i)?St(i):Yn(e.compileModuleAsync(i))),wt(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Np,[],{optional:!0,self:!0}).flat()),{routes:s.map(wE),injector:o}}))}function FV(n){return n&&typeof n=="object"&&"default"in n}function OA(n){return FV(n)?n.default:n}var Tv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:()=>Pe(jV),providedIn:"root"})}return n})(),jV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AA=new nt("");var IA=new nt(""),EE=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rr;transitionAbortWithErrorSubject=new rr;configLoader=Pe(PA);environmentInjector=Pe(gr);destroyRef=Pe(uo);urlSerializer=Pe($d);rootContexts=Pe(Wd);location=Pe(Bc);inputBindingEnabled=Pe(Av,{optional:!0})!==null;titleStrategy=Pe(CE);options=Pe(Kd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Pe(Tv);createViewTransition=Pe(AA,{optional:!0});navigationErrorHandler=Pe(IA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>St(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yv(i)),r=i=>this.events.next(new _v(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Et(Ae({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new Nn(null),this.transitions.pipe(wi(r=>r!==null),Ci(r=>{let i=!1;return St(r).pipe(Ci(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",hi.SupersededByNewNavigation),_i;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Et(Ae({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new Ls(o.id,this.urlSerializer.serialize(o.rawUrl),l,Bd.IgnoredSameUrlNavigation)),o.resolve(!1),_i}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return St(o).pipe(Ci(l=>(this.events.next(new Rl(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?_i:Promise.resolve(l))),TV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Tr(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Et(Ae({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new Ep(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:h,extras:g}=o,f=new Rl(l,this.urlSerializer.serialize(c),d,h);this.events.next(f);let y=pA(this.rootComponentType).snapshot;return this.currentTransition=r=Et(Ae({},o),{targetSnapshot:y,urlAfterRedirects:c,extras:Et(Ae({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,St(r)}else{let l="";return this.events.next(new Ls(o.id,this.urlSerializer.serialize(o.extractedUrl),l,Bd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),_i}}),Tr(o=>{let s=new pv(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),wt(o=>(this.currentTransition=r=Et(Ae({},o),{guards:ZU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),lV(this.environmentInjector,o=>this.events.next(o)),Tr(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Pv(this.urlSerializer,o.guardsResult);let s=new gv(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),wi(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",hi.GuardRejected),!1)),iE(o=>{if(o.guards.canActivateChecks.length!==0)return St(o).pipe(Tr(s=>{let a=new mv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ci(s=>{let a=!1;return St(s).pipe(NV(this.paramsInheritanceStrategy,this.environmentInjector),Tr({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",hi.NoDataFromResolver)}}))}),Tr(s=>{let a=new vv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),iE(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=Gd(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Tr(d=>{a.component=d}),wt(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return y0(s(o.targetSnapshot.root)).pipe(fl(null),fa(1))}),iE(()=>this.afterPreactivation()),Ci(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Yn(a).pipe(wt(()=>r)):St(r)}),wt(o=>{let s=GU(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Et(Ae({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Tr(()=>{this.events.next(new Sp)}),XU(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),fa(1),b0(new Gt(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(wi(()=>!i&&!r.targetRouterState),Tr(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",hi.Aborted)}))),Tr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),b0(this.transitionAbortWithErrorSubject.pipe(Tr(o=>{throw o}))),vc(()=>{i||this.cancelNavigationTransition(r,"",hi.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),dl(o=>{if(this.destroyed)return r.resolve(!1),_i;if(i=!0,bA(o))this.events.next(new ks(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),KU(o)?this.events.next(new zd(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ud(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Hr(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Hd){let{message:l,cancellationCode:c}=Pv(this.urlSerializer,a);this.events.next(new ks(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new zd(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return _i}))}))}cancelNavigationTransition(t,r,i){let o=new ks(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BV(n){return n!==Fd}var TA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:()=>Pe(UV),providedIn:"root"})}return n})(),Ov=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},UV=(()=>{class n extends Ov{static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NA=(()=>{class n{urlSerializer=Pe($d);options=Pe(Kd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Pe(Bc);urlHandlingStrategy=Pe(Tv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rs;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Rs?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=pA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:()=>Pe(VV),providedIn:"root"})}return n})(),VV=(()=>{class n extends NA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Rl?this.updateStateMemento():t instanceof Ls?this.commitTransition(r):t instanceof Ep?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Sp?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ks&&t.code!==hi.SupersededByNewNavigation&&t.code!==hi.Redirect?this.restoreHistory(r):t instanceof Ud?this.restoreHistory(r,!0):t instanceof Xo&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=Ae(Ae({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=Ae(Ae({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SE(n,e){n.events.pipe(wi(t=>t instanceof Xo||t instanceof ks||t instanceof Ud||t instanceof Ls),wt(t=>t instanceof Xo||t instanceof Ls?0:(t instanceof ks?t.code===hi.Redirect||t.code===hi.SupersededByNewNavigation:!1)?2:1),wi(t=>t!==2),fa(1)).subscribe(()=>{e()})}var zV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$i=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Pe(mC);stateManager=Pe(NA);options=Pe(Kd,{optional:!0})||{};pendingTasks=Pe(xs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Pe(EE);urlSerializer=Pe($d);location=Pe(Bc);urlHandlingStrategy=Pe(Tv);injector=Pe(gr);_events=new rr;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Pe(TA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Pe(Np,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Pe(Av,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Wn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ks&&r.code!==hi.Redirect&&r.code!==hi.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Xo)this.navigated=!0;else if(r instanceof zd){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Ae({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||BV(i.source)},s);this.scheduleNavigation(a,Fd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}zU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Ae({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(di)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=Ae(Ae({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let g=i?i.snapshot:this.routerState.snapshot.root;h=uA(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return dA(h,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=kl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fd,null,r)}navigate(t,r={skipLocationChange:!1}){return qV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Ae({},zV):r===!1?i=Ae({},HV):i=r,kl(t))return $O(this.currentUrlTree,t,i);let o=this.parseUrl(t);return $O(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,g)=>{a=h,l=g});let d=this.pendingTasks.add();return SE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ie(4008,!1)}var Nv=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ss(null);get href(){return Go(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rr;applicationErrorHandler=Pe(di);options=Pe(Kd,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Pe(new V1("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Xo&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(kl(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:kl(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ct($i),ct(Zo),Kf("tabindex"),ct(Ds),ct(Ei),ct(jc))};static \u0275dir=Kn({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&rt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&fo("href",i.reactiveHref(),Ww)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Fc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Fc],replaceUrl:[2,"replaceUrl","replaceUrl",Fc],routerLink:"routerLink"},features:[Ea]})}return n})();var kA=new nt(""),$V=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Fd;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ls&&t.code===Bd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>ue(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Vd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){uC()};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function xE(n,...e){return _a([{provide:Np,multi:!0,useValue:n},[],{provide:Zo,useFactory:GV,deps:[$i]},{provide:L1,multi:!0,useFactory:YV},e.map(t=>t.\u0275providers)])}function GV(n){return n.routerState.root}function WV(n,e){return{\u0275kind:n,\u0275providers:e}}function ME(n={}){return WV(4,[{provide:kA,useFactory:()=>{let t=Pe(EO),r=Pe(Vn),i=Pe(EE),o=Pe($d);return new $V(o,i,t,r,n)}}])}function YV(){let n=Pe(Bi);return e=>{let t=n.get(Ma);if(e!==t.components[0])return;let r=n.get($i),i=n.get(KV);n.get(XV)===1&&r.initialNavigation(),n.get(ZV,null,{optional:!0})?.setUpPreloading(),n.get(kA,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var KV=new nt("",{factory:()=>new rr}),XV=new nt("",{providedIn:"root",factory:()=>1});var ZV=new nt("");var jt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(jt||{}),yo="*";function PE(n,e){return{type:jt.Trigger,name:n,definitions:e,options:{}}}function Rv(n,e=null){return{type:jt.Animate,styles:e,timings:n}}function RA(n,e=null){return{type:jt.Sequence,steps:n,options:e}}function Ll(n){return{type:jt.Style,styles:n,offset:null}}function Lv(n,e,t=null){return{type:jt.Transition,expr:n,animation:e,options:t}}var Fs=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Gc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Xd="!";function LA(n){return new Ie(3e3,!1)}function QV(){return new Ie(3100,!1)}function JV(){return new Ie(3101,!1)}function ez(n){return new Ie(3001,!1)}function tz(n){return new Ie(3003,!1)}function nz(n){return new Ie(3004,!1)}function jA(n,e){return new Ie(3005,!1)}function BA(){return new Ie(3006,!1)}function UA(){return new Ie(3007,!1)}function VA(n,e){return new Ie(3008,!1)}function zA(n){return new Ie(3002,!1)}function HA(n,e,t,r,i){return new Ie(3010,!1)}function qA(){return new Ie(3011,!1)}function $A(){return new Ie(3012,!1)}function GA(){return new Ie(3200,!1)}function WA(){return new Ie(3202,!1)}function YA(){return new Ie(3013,!1)}function KA(n){return new Ie(3014,!1)}function XA(n){return new Ie(3015,!1)}function ZA(n){return new Ie(3016,!1)}function QA(n,e){return new Ie(3404,!1)}function rz(n){return new Ie(3502,!1)}function JA(n){return new Ie(3503,!1)}function e6(){return new Ie(3300,!1)}function t6(n){return new Ie(3504,!1)}function n6(n){return new Ie(3301,!1)}function r6(n,e){return new Ie(3302,!1)}function i6(n){return new Ie(3303,!1)}function o6(n,e){return new Ie(3400,!1)}function s6(n){return new Ie(3401,!1)}function a6(n){return new Ie(3402,!1)}function l6(n,e){return new Ie(3505,!1)}function Na(n){switch(n.length){case 0:return new Fs;case 1:return n[0];default:return new Gc(n)}}function IE(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==s,h=d&&a||new Map;l.forEach((g,f)=>{let y=f,_=g;if(f!=="offset")switch(y=n.normalizePropertyName(y,i),_){case Xd:_=t.get(f);break;case yo:_=r.get(f);break;default:_=n.normalizeStyleValue(f,y,_,i);break}h.set(y,_)}),d||o.push(h),a=h,s=c}),i.length)throw rz(i);return o}function Fv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&DE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&DE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&DE(t,"destroy",n)));break}}function DE(n,e,t){let r=t.totalTime,i=!!t.disabled,o=jv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function jv(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Pi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function TE(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var iz=typeof document>"u"?null:document.documentElement;function Bv(n){let e=n.parentNode||n.host||null;return e===iz?null:e}function oz(n){return n.substring(1,6)=="ebkit"}var Wc=null,FA=!1;function c6(n){Wc||(Wc=sz()||{},FA=Wc.style?"WebkitAppearance"in Wc.style:!1);let e=!0;return Wc.style&&!oz(n)&&(e=n in Wc.style,!e&&FA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Wc.style)),e}function sz(){return typeof document<"u"?document.body:null}function NE(n,e){for(;e;){if(e===n)return!0;e=Bv(e)}return!1}function kE(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var az=1e3,RE="{{",lz="}}",LE="ng-enter",Uv="ng-leave",kp="ng-trigger",Rp=".ng-trigger",FE="ng-animating",Vv=".ng-animating";function js(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OE(parseFloat(e[1]),e[2])}function OE(n,e){switch(e){case"s":return n*az;default:return n}}function Lp(n,e,t){return n.hasOwnProperty("duration")?n:cz(n,e,t)}function cz(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(LA(n)),{duration:0,delay:0,easing:""};i=OE(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=OE(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(QV()),a=!0),o<0&&(e.push(JV()),a=!0),a&&e.splice(l,0,LA(n))}return{duration:i,delay:o,easing:s}}function u6(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Qo(n,e,t){e.forEach((r,i)=>{let o=zv(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Fl(n,e){e.forEach((t,r)=>{let i=zv(r);n.style[i]=""})}function Zd(n){return Array.isArray(n)?n.length==1?n[0]:RA(n):n}function d6(n,e,t){let r=e.params||{},i=jE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(ez(o))})}var AE=new RegExp(`${RE}\\s*(.+?)\\s*${lz}`,"g");function jE(n){let e=[];if(typeof n=="string"){let t;for(;t=AE.exec(n);)e.push(t[1]);AE.lastIndex=0}return e}function Qd(n,e,t){let r=`${n}`,i=r.replace(AE,(o,s)=>{let a=e[s];return a==null&&(t.push(tz(s)),a=""),a.toString()});return i==r?n:i}var uz=/-+([a-z0-9])/g;function zv(n){return n.replace(uz,(...e)=>e[1].toUpperCase())}function h6(n,e){return n===0||e===0}function f6(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Hv(n,a)))}}return e}function Di(n,e,t){switch(e.type){case jt.Trigger:return n.visitTrigger(e,t);case jt.State:return n.visitState(e,t);case jt.Transition:return n.visitTransition(e,t);case jt.Sequence:return n.visitSequence(e,t);case jt.Group:return n.visitGroup(e,t);case jt.Animate:return n.visitAnimate(e,t);case jt.Keyframes:return n.visitKeyframes(e,t);case jt.Style:return n.visitStyle(e,t);case jt.Reference:return n.visitReference(e,t);case jt.AnimateChild:return n.visitAnimateChild(e,t);case jt.AnimateRef:return n.visitAnimateRef(e,t);case jt.Query:return n.visitQuery(e,t);case jt.Stagger:return n.visitStagger(e,t);default:throw nz(e.type)}}function Hv(n,e){return window.getComputedStyle(n)[e]}var tS=(()=>{class n{validateStyleProperty(t){return c6(t)}containsElement(t,r){return NE(t,r)}getParentElement(t){return Bv(t)}query(t,r,i){return kE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new Fs(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),Kc=class{static NOOP=new tS},Xc=class{};var dz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Yv=class extends Xc{normalizePropertyName(e,t){return zv(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(dz.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(jA(e,r))}return s+o}};var Kv="*";function hz(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>fz(r,t,e)):t.push(n),t}function fz(n,e,t){if(n[0]==":"){let l=pz(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(XA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(p6(i,s));let a=i==Kv&&s==Kv;o[0]=="<"&&!a&&e.push(p6(s,i))}function pz(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(ZA(n)),"* => *"}}var qv=new Set(["true","1"]),$v=new Set(["false","0"]);function p6(n,e){let t=qv.has(n)||$v.has(n),r=qv.has(e)||$v.has(e);return(i,o)=>{let s=n==Kv||n==i,a=e==Kv||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?qv.has(n):$v.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?qv.has(e):$v.has(e)),s&&a}}var S6=":self",gz=new RegExp(`s*${S6}s*,?`,"g");function x6(n,e,t,r){return new qE(n).build(e,t,r)}var g6="",qE=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new $E(t);return this._resetContextStyleTimingState(i),Di(this,Zd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=g6,e.collectedStyles=new Map,e.collectedStyles.set(g6,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(BA()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==jt.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==jt.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(UA())}),{type:jt.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{jE(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(VA(e.name,[...o.values()]))}return{type:jt.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Di(this,Zd(e.animation),t),i=hz(e.expr,t.errors);return{type:jt.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Yc(e.options)}}visitSequence(e,t){return{type:jt.Sequence,steps:e.steps.map(r=>Di(this,r,t)),options:Yc(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Di(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:jt.Group,steps:o,options:Yc(e.options)}}visitAnimate(e,t){let r=_z(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Ll({});if(o.type==jt.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};r.easing&&(c.easing=r.easing),s=Ll(c)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:jt.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===yo?r.push(a):t.errors.push(zA(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(RE)>=0){o=!0;break}}}),{type:jt.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),h=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(HA(l,d.startTime,d.endTime,o,i)),h=!1),o=d.startTime),h&&c.set(l,{startTime:o,endTime:i}),t.options&&d6(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:jt.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(qA()),r;let i=1,o=0,s=[],a=!1,l=!1,c=0,d=e.steps.map(w=>{let E=this._makeStyleAst(w,t),O=E.offset!=null?E.offset:yz(E.styles),N=0;return O!=null&&(o++,N=E.offset=O),l=l||N<0||N>1,a=a||N<c,c=N,s.push(N),E});l&&t.errors.push($A()),a&&t.errors.push(GA());let h=e.steps.length,g=0;o>0&&o<h?t.errors.push(WA()):o==0&&(g=i/(h-1));let f=h-1,y=t.currentTime,_=t.currentAnimateTimings,C=_.duration;return d.forEach((w,E)=>{let O=g>0?E==f?1:g*E:s[E],N=O*C;t.currentTime=y+_.delay+N,_.duration=N,this._validateStyleAst(w,t),w.offset=O,r.styles.push(w)}),r}visitReference(e,t){return{type:jt.Reference,animation:Di(this,Zd(e.animation),t),options:Yc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:jt.AnimateChild,options:Yc(e.options)}}visitAnimateRef(e,t){return{type:jt.AnimateRef,animation:this.visitReference(e.animation,t),options:Yc(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=mz(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Pi(t.collectedStyles,t.currentQuerySelector,new Map);let a=Di(this,Zd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:jt.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Yc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(YA());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Lp(e.timings,t.errors,!0);return{type:jt.Stagger,animation:Di(this,Zd(e.animation),t),timings:r,options:null}}};function mz(n){let e=!!n.split(/\s*,\s*/).find(t=>t==S6);return e&&(n=n.replace(gz,"")),n=n.replace(/@\*/g,Rp).replace(/@\w+/g,t=>Rp+"-"+t.slice(1)).replace(/:animating/g,Vv),[n,e]}function vz(n){return n?Ae({},n):null}var $E=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function yz(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function _z(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Lp(n,e).duration;return BE(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=BE(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Lp(t,e);return BE(i.duration,i.delay,i.easing)}function Yc(n){return n?(n=Ae({},n),n.params&&(n.params=vz(n.params))):n={},n}function BE(n,e,t){return{duration:n,delay:e,easing:t}}function nS(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var jp=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},bz=1,wz=":enter",Cz=new RegExp(wz,"g"),Ez=":leave",Sz=new RegExp(Ez,"g");function M6(n,e,t,r,i,o=new Map,s=new Map,a,l,c=[]){return new GE().buildKeyframes(n,e,t,r,i,o,s,a,l,c)}var GE=class{buildKeyframes(e,t,r,i,o,s,a,l,c,d=[]){c=c||new jp;let h=new WE(e,t,c,i,o,d,[]);h.options=l;let g=l.delay?js(l.delay):0;h.currentTimeline.delayNextStep(g),h.currentTimeline.setStyles([s],null,h.errors,l),Di(this,r,h);let f=h.timelines.filter(y=>y.containsAnimation());if(f.length&&a.size){let y;for(let _=f.length-1;_>=0;_--){let C=f[_];if(C.element===t){y=C;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,h.errors,l)}return f.length?f.map(y=>y.buildKeyframes()):[nS(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:js(Qd(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?js(r.duration):null,a=r.delay!=null?js(r.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Di(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==jt.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Xv);let s=js(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Di(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?js(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Di(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Qd(r,t.params,t.errors):r;return Lp(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==jt.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?js(i.delay):0;o&&(t.previousNode.type===jt.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Xv);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let h=t.createSubContext(e.options,c);o&&h.delayNextStep(o),c===t.element&&(l=h.currentTimeline),Di(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let g=h.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;Di(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}},Xv={},WE=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Xv;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Zv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=js(r.duration)),r.delay!=null&&(i.delay=js(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Qd(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Xv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new YE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Cz,"."+this._enterClassName),e=e.replace(Sz,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&a.length==0&&s.push(KA(t)),a}},Zv=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=bz,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||yo),this._currentKeyframe.set(t,yo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=xz(e,this._globalTimelineStyles);for(let[a,l]of s){let c=Qd(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??yo),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,h)=>{d===Xd?e.add(h):d===yo&&t.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return nS(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},YE=class extends Zv{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",m6(a)),o.push(c);let d=e.length-1;for(let h=1;h<=d;h++){let g=new Map(e[h]),f=g.get("offset"),y=t+f*r;g.set("offset",m6(y/s)),o.push(g)}r=s,t=0,i="",e=o}return nS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function m6(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function xz(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,yo)}else for(let[o,s]of i)t.set(o,s)}),t}function v6(n,e,t,r,i,o,s,a,l,c,d,h,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:g}}var UE={},Qv=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return Mz(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,c,d){let h=[],g=this.ast.options&&this.ast.options.params||UE,f=a&&a.params||UE,y=this.buildStyles(r,f,h),_=l&&l.params||UE,C=this.buildStyles(i,_,h),w=new Set,E=new Map,O=new Map,N=i==="void",q={params:P6(_,g),delay:this.ast.options?.delay},X=d?[]:M6(e,t,this.ast.animation,o,s,y,C,q,c,h),z=0;return X.forEach(B=>{z=Math.max(B.duration+B.delay,z)}),h.length?v6(t,this._triggerName,r,i,N,y,C,[],[],E,O,z,h):(X.forEach(B=>{let le=B.element,he=Pi(E,le,new Set);B.preStyleProps.forEach(I=>he.add(I));let k=Pi(O,le,new Set);B.postStyleProps.forEach(I=>k.add(I)),le!==t&&w.add(le)}),v6(t,this._triggerName,r,i,N,y,C,X,[...w.values()],E,O,z))}};function Mz(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function P6(n,e){let t=Ae({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var KE=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=P6(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Qd(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}};function Pz(n,e,t){return new XE(n,e,t)}var XE=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new KE(i.style,o,r))}),y6(this.states,"true","1"),y6(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Qv(e,i,this.states))}),this.fallbackTransition=Dz(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function Dz(n,e,t){let r=[(s,a)=>!0],i={type:jt.Sequence,steps:[],options:null},o={type:jt.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Qv(n,o,e)}function y6(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var Oz=new jp,ZE=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=x6(this._driver,t,r,i);if(r.length)throw JA(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=IE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=M6(this._driver,t,o,LE,Uv,new Map,new Map,r,Oz,i),s.forEach(d=>{let h=Pi(a,d.element,new Map);d.postStyleProps.forEach(g=>h.set(g,null))})):(i.push(e6()),s=[]),i.length)throw t6(i);a.forEach((d,h)=>{d.forEach((g,f)=>{d.set(f,this._driver.computeStyle(h,f,yo))})});let l=s.map(d=>{let h=a.get(d.element);return this._buildPlayer(d,new Map,h)}),c=Na(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw n6(e);return t}listen(e,t,r,i){let o=jv(t,"","","");return Fv(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},_6="ng-animate-queued",Az=".ng-animate-queued",VE="ng-animate-disabled",Iz=".ng-animate-disabled",Tz="ng-star-inserted",Nz=".ng-star-inserted",kz=[],D6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jo="__ng_removed",Bp=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Fz(i),r){let o=e,{value:s}=o,a=vf(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Fp="void",zE=new Bp(Fp),QE=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,_o(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw r6(r,t);if(r==null||r.length==0)throw i6(t);if(!jz(r))throw o6(r,t);let o=Pi(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Pi(this._engine.statesByElement,e,new Map);return a.has(t)||(_o(e,kp),_o(e,kp+"-"+t),a.set(t,zE)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw s6(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Up(this.id,t,e),a=this._engine.statesByElement.get(e);a||(_o(e,kp),_o(e,kp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Bp(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=zE),!(c.value===Fp)&&l.value===c.value){if(!Vz(l.params,c.params)){let _=[],C=o.matchStyles(l.value,l.params,_),w=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Fl(e,C),Qo(e,w)})}return}let g=Pi(this._engine.playersByElement,e,[]);g.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),y=!1;if(!f){if(!i)return;f=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(_o(e,_6),s.onStart(()=>{Jd(e,_6)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let C=this._engine.playersByElement.get(e);if(C){let w=C.indexOf(s);w>=0&&C.splice(w,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Rp,!0);r.forEach(i=>{if(i[Jo])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,Fp,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Na(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=r.get(s)||zE,d=new Bp(Fp),h=new Up(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Jo];(!o||o===D6)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){_o(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=jv(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Fv(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},JE=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new QE(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Gv(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Gv(t))return;let o=t[Jo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_o(e,VE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jd(e,VE))}removeNode(e,t,r){if(Gv(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Jo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Gv(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Rp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Vv,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Na(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Jo];if(t&&t.setForRemoval){if(e[Jo]=D6,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(VE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Iz,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];_o(i,Tz)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Na(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw a6(e)}_flushAnimations(e,t){let r=new jp,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Y=>{d.add(Y);let ie=this.driver.query(Y,Az,!0);for(let H=0;H<ie.length;H++)d.add(ie[H])});let h=this.bodyNode,g=Array.from(this.statesByElement.keys()),f=C6(g,this.collectedEnterElements),y=new Map,_=0;f.forEach((Y,ie)=>{let H=LE+_++;y.set(ie,H),Y.forEach(se=>_o(se,H))});let C=[],w=new Set,E=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){let ie=this.collectedLeaveElements[Y],H=ie[Jo];H&&H.setForRemoval&&(C.push(ie),w.add(ie),H.hasAnimation?this.driver.query(ie,Nz,!0).forEach(se=>w.add(se)):E.add(ie))}let O=new Map,N=C6(g,Array.from(w));N.forEach((Y,ie)=>{let H=Uv+_++;O.set(ie,H),Y.forEach(se=>_o(se,H))}),e.push(()=>{f.forEach((Y,ie)=>{let H=y.get(ie);Y.forEach(se=>Jd(se,H))}),N.forEach((Y,ie)=>{let H=O.get(ie);Y.forEach(se=>Jd(se,H))}),C.forEach(Y=>{this.processLeaveNode(Y)})});let q=[],X=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(t).forEach(H=>{let se=H.player,ge=H.element;if(q.push(se),this.collectedEnterElements.length){let fe=ge[Jo];if(fe&&fe.setForMove){if(fe.previousTriggersValues&&fe.previousTriggersValues.has(H.triggerName)){let be=fe.previousTriggersValues.get(H.triggerName),me=this.statesByElement.get(H.element);if(me&&me.has(H.triggerName)){let Fe=me.get(H.triggerName);Fe.value=be,me.set(H.triggerName,Fe)}}se.destroy();return}}let Re=!h||!this.driver.containsElement(h,ge),M=O.get(ge),L=y.get(ge),U=this._buildInstruction(H,r,L,M,Re);if(U.errors&&U.errors.length){X.push(U);return}if(Re){se.onStart(()=>Fl(ge,U.fromStyles)),se.onDestroy(()=>Qo(ge,U.toStyles)),i.push(se);return}if(H.isFallbackTransition){se.onStart(()=>Fl(ge,U.fromStyles)),se.onDestroy(()=>Qo(ge,U.toStyles)),i.push(se);return}let Z=[];U.timelines.forEach(fe=>{fe.stretchStartingKeyframe=!0,this.disabledNodes.has(fe.element)||Z.push(fe)}),U.timelines=Z,r.append(ge,U.timelines);let ae={instruction:U,player:se,element:ge};s.push(ae),U.queriedElements.forEach(fe=>Pi(a,fe,[]).push(se)),U.preStyleProps.forEach((fe,be)=>{if(fe.size){let me=l.get(be);me||l.set(be,me=new Set),fe.forEach((Fe,Le)=>me.add(Le))}}),U.postStyleProps.forEach((fe,be)=>{let me=c.get(be);me||c.set(be,me=new Set),fe.forEach((Fe,Le)=>me.add(Le))})});if(X.length){let Y=[];X.forEach(ie=>{Y.push(l6(ie.triggerName,ie.errors))}),q.forEach(ie=>ie.destroy()),this.reportError(Y)}let z=new Map,B=new Map;s.forEach(Y=>{let ie=Y.element;r.has(ie)&&(B.set(ie,ie),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,z))}),i.forEach(Y=>{let ie=Y.element;this._getPreviousPlayers(ie,!1,Y.namespaceId,Y.triggerName,null).forEach(se=>{Pi(z,ie,[]).push(se),se.destroy()})});let le=C.filter(Y=>E6(Y,l,c)),he=new Map;w6(he,this.driver,E,c,yo).forEach(Y=>{E6(Y,l,c)&&le.push(Y)});let I=new Map;f.forEach((Y,ie)=>{w6(I,this.driver,new Set(Y),l,Xd)}),le.forEach(Y=>{let ie=he.get(Y),H=I.get(Y);he.set(Y,new Map([...ie?.entries()??[],...H?.entries()??[]]))});let W=[],G=[],_e={};s.forEach(Y=>{let{element:ie,player:H,instruction:se}=Y;if(r.has(ie)){if(d.has(ie)){H.onDestroy(()=>Qo(ie,se.toStyles)),H.disabled=!0,H.overrideTotalTime(se.totalTime),i.push(H);return}let ge=_e;if(B.size>1){let M=ie,L=[];for(;M=M.parentNode;){let U=B.get(M);if(U){ge=U;break}L.push(M)}L.forEach(U=>B.set(U,ge))}let Re=this._buildAnimation(H.namespaceId,se,z,o,I,he);if(H.setRealPlayer(Re),ge===_e)W.push(H);else{let M=this.playersByElement.get(ge);M&&M.length&&(H.parentPlayer=Na(M)),i.push(H)}}else Fl(ie,se.fromStyles),H.onDestroy(()=>Qo(ie,se.toStyles)),G.push(H),d.has(ie)&&i.push(H)}),G.forEach(Y=>{let ie=o.get(Y.element);if(ie&&ie.length){let H=Na(ie);Y.setRealPlayer(H)}}),i.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<C.length;Y++){let ie=C[Y],H=ie[Jo];if(Jd(ie,Uv),H&&H.hasAnimation)continue;let se=[];if(a.size){let Re=a.get(ie);Re&&Re.length&&se.push(...Re);let M=this.driver.query(ie,Vv,!0);for(let L=0;L<M.length;L++){let U=a.get(M[L]);U&&U.length&&se.push(...U)}}let ge=se.filter(Re=>!Re.destroyed);ge.length?Bz(this,ie,ge):this.processLeaveNode(ie)}return C.length=0,W.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();let ie=this.players.indexOf(Y);this.players.splice(ie,1)}),Y.play()}),W}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Fp;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,d=c!==o,h=Pi(r,c,[]);this._getPreviousPlayers(c,d,s,a,t.toState).forEach(f=>{let y=f.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),f.destroy(),h.push(f)})}Fl(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,l=t.element,c=[],d=new Set,h=new Set,g=t.timelines.map(y=>{let _=y.element;d.add(_);let C=_[Jo];if(C&&C.removedBeforeQueried)return new Fs(y.duration,y.delay);let w=_!==l,E=Uz((r.get(_)||kz).map(z=>z.getRealPlayer())).filter(z=>{let B=z;return B.element?B.element===_:!1}),O=o.get(_),N=s.get(_),q=IE(this._normalizer,y.keyframes,O,N),X=this._buildPlayer(y,q,E);if(y.subTimeline&&i&&h.add(_),w){let z=new Up(e,a,_);z.setRealPlayer(X),c.push(z)}return X});c.forEach(y=>{Pi(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>Lz(this.playersByQueriedElement,y.element,y))}),d.forEach(y=>_o(y,FE));let f=Na(g);return f.onDestroy(()=>{d.forEach(y=>Jd(y,FE)),Qo(l,t.toStyles)}),h.forEach(y=>{Pi(i,y,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Fs(e.duration,e.delay)}},Up=class{namespaceId;triggerName;element;_player=new Fs;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Fv(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Pi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Lz(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function Fz(n){return n??null}function Gv(n){return n&&n.nodeType===1}function jz(n){return n=="start"||n=="done"}function b6(n,e){let t=n.style.display;return n.style.display=e??"none",t}function w6(n,e,t,r,i){let o=[];t.forEach(l=>o.push(b6(l)));let s=[];r.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let g=e.computeStyle(c,h,i);d.set(h,g),(!g||g.length==0)&&(c[Jo]=Rz,s.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>b6(l,o[a++])),s}function C6(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=r:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&t.get(l).push(a)}),t}function _o(n,e){n.classList?.add(e)}function Jd(n,e){n.classList?.remove(e)}function Bz(n,e,t){Na(t).onDone(()=>n.processLeaveNode(e))}function Uz(n){let e=[];return O6(n,e),e}function O6(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Gc?O6(r.players,e):e.push(r)}}function Vz(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function E6(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var eh=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new JE(e.body,t,r),this._timelineEngine=new ZE(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],d=x6(this._driver,o,l,c);if(l.length)throw QA(i,l);a=Pz(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=TE(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=TE(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function zz(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=HE(e[0]),e.length>1&&(r=HE(e[e.length-1]))):e instanceof Map&&(t=HE(e)),t||r?new Hz(n,t,r):null}var Hz=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qo(this._element,this._initialStyles),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fl(this._element,this._endStyles),this._endStyles=null),Qo(this._element,this._initialStyles),this._state=3)}}return n})();function HE(n){let e=null;return n.forEach((t,r)=>{qz(r)&&(e=e||new Map,e.set(r,t))}),e}function qz(n){return n==="display"||n==="position"}var Jv=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Hv(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ey=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return NE(e,t)}getParentElement(e){return Bv(e)}query(e,t,r){return kE(e,t,r)}computeStyle(e,t,r){return Hv(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(f=>f instanceof Jv);h6(r,i)&&d.forEach(f=>{f.currentSnapshot.forEach((y,_)=>c.set(_,y))});let h=u6(t).map(f=>new Map(f));h=f6(e,h,c);let g=zz(e,h);return new Jv(e,h,l,g)}};var Wv="@",A6="@.disabled",ty=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Wv&&t==A6?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},eS=class extends ty{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Wv?t.charAt(1)=="."&&t==A6?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Wv){let o=$z(e),s=t.slice(1),a="";return s.charAt(0)!=Wv&&([s,a]=Gz(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(e,t,r,i)}};function $z(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Gz(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var ny=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(i);if(!d){let h=()=>c.delete(i);d=new ty(r,i,this.engine,h),c.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new eS(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Yz=(()=>{class n extends eh{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(et(Un),et(Kc),et(Xc))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function Kz(){return new Yv}function Xz(n,e,t){return new ny(n,e,t)}var I6=[{provide:Xc,useFactory:Kz},{provide:eh,useClass:Yz},{provide:Ca,useFactory:Xz,deps:[hp,eh,Vn]}],Tpe=[{provide:Kc,useClass:tS},{provide:E1,useValue:"NoopAnimations"},...I6],Zz=[{provide:Kc,useFactory:()=>new ey},{provide:E1,useFactory:()=>"BrowserAnimations"},...I6];function T6(){return Pl("NgEagerAnimations"),[...Zz]}var ry=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wn({type:n,selectors:[["app-banner"]],decls:198,vars:0,consts:[["id","banner",1,"premium-hero-section","position-relative","overflow-hidden"],[1,"hero-background-layers"],[1,"background-layer","layer-1"],[1,"background-layer","layer-2"],[1,"background-layer","layer-3"],[1,"geometric-overlay"],[1,"floating-elements"],[1,"floating-element","element-1"],[1,"bi","bi-brain"],[1,"floating-element","element-2"],[1,"bi","bi-lightbulb"],[1,"floating-element","element-3"],[1,"bi","bi-people"],[1,"floating-element","element-4"],[1,"bi","bi-graph-up-arrow"],[1,"container","position-relative","hero-container","pt-5"],[1,"row","align-items-center","min-vh-100","py-5","mt-5"],[1,"col-lg-7","order-lg-1","order-2"],[1,"premium-hero-content","text-white"],[1,"elite-credential-wrapper","mb-4"],[1,"elite-credential"],[1,"credential-icon"],[1,"bi","bi-patch-check-fill"],[1,"credential-text"],[1,"credential-title"],[1,"credential-number"],[1,"credential-glow"],[1,"premium-title-section","mb-4"],[1,"title-prefix"],[1,"doctor-title"],[1,"premium-hero-title"],[1,"name-primary"],[1,"name-secondary"],[1,"title-decoration"],[1,"decoration-line"],[1,"decoration-dot"],[1,"premium-subtitle-wrapper","mb-4"],[1,"premium-subtitle"],[1,"subtitle-accent"],[1,"premium-description-wrapper","mb-5"],[1,"premium-description"],[1,"premium-specializations","mb-5"],[1,"specializations-grid"],[1,"specialization-card"],[1,"card-icon"],[1,"bi","bi-people-fill"],[1,"card-content"],[1,"card-glow"],[1,"bi","bi-mortarboard-fill"],[1,"bi","bi-heart-pulse"],[1,"premium-cta-section"],[1,"cta-wrapper"],["href","#contact",1,"premium-btn","primary-btn"],[1,"btn-content"],[1,"bi","bi-calendar-check"],[1,"btn-shine"],["href","#about",1,"premium-btn","secondary-btn"],[1,"bi","bi-person-workspace"],[1,"trust-indicators","mt-4"],[1,"trust-item"],[1,"bi","bi-shield-check"],[1,"bi","bi-clock"],[1,"col-lg-5","order-lg-2","order-1"],[1,"premium-showcase-container","position-relative"],[1,"professional-showcase-wrapper"],[1,"premium-professional-card"],[1,"profile-section"],[1,"profile-image-container"],[1,"profile-image"],[1,"professional-logo"],["src","abel-navarro-vertical.svg","alt","Abel Navarro - Psic\xF3logo Organizacional",1,"logo-img"],[1,"profile-ring"],[1,"profile-glow"],[1,"profile-info"],[1,"profile-name"],[1,"profile-title"],[1,"profile-credentials"],[1,"credential-badge"],[1,"ruc-badge"],[1,"stats-section"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"certifications-section"],[1,"certification-item"],[1,"bi","bi-award-fill"],[1,"floating-achievement","achievement-1"],[1,"achievement-content"],[1,"achievement-icon"],[1,"bi","bi-trophy-fill"],[1,"achievement-text"],[1,"floating-achievement","achievement-2"],[1,"bi","bi-graph-up"],[1,"floating-achievement","achievement-3"],[1,"bi","bi-building"],[1,"premium-decoration"],[1,"decoration-orbit","orbit-1"],[1,"orbit-element","element-1"],[1,"orbit-element","element-2"],[1,"orbit-element","element-3"],[1,"decoration-orbit","orbit-2"],[1,"premium-scroll-indicator"],[1,"scroll-wrapper"],[1,"scroll-text"],[1,"scroll-arrow"],[1,"bi","bi-chevron-down"]],template:function(t,r){t&1&&(K(0,"section",0)(1,"div",1),Be(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),J(),K(6,"div",6)(7,"div",7),Be(8,"i",8),J(),K(9,"div",9),Be(10,"i",10),J(),K(11,"div",11),Be(12,"i",12),J(),K(13,"div",13),Be(14,"i",14),J()(),K(15,"div",15)(16,"div",16)(17,"div",17)(18,"div",18)(19,"div",19)(20,"div",20)(21,"div",21),Be(22,"i",22),J(),K(23,"div",23)(24,"span",24),F(25,"Psic\xF3logo Colegiado Certificado"),J(),K(26,"span",25),F(27,"C.Ps.P. N\xB0 64179"),J()(),Be(28,"div",26),J()(),K(29,"div",27)(30,"div",28)(31,"span",29),F(32,"Dr."),J()(),K(33,"h1",30)(34,"span",31),F(35,"Abel Uriaz"),J(),K(36,"span",32),F(37,"Navarro Carrasco"),J()(),K(38,"div",33),Be(39,"div",34)(40,"div",35)(41,"div",34),J()(),K(42,"div",36)(43,"h2",37),F(44," Especialista en Psicolog\xEDa Organizacional "),J(),K(45,"p",38),F(46," Desarrollo del Talento Humano & Transformaci\xF3n Organizacional "),J()(),K(47,"div",39)(48,"p",40),F(49," L\xEDder en transformaci\xF3n organizacional con metodolog\xEDas cient\xEDficas avanzadas. Dise\xF1o e implemento programas especializados que potencian el capital humano, optimizan el rendimiento organizacional y crean culturas de alto desempe\xF1o. "),J()(),K(50,"div",41)(51,"div",42)(52,"div",43)(53,"div",44),Be(54,"i",45),J(),K(55,"div",46)(56,"h6"),F(57,"Capacitaci\xF3n Ejecutiva"),J(),K(58,"small"),F(59,"Programas especializados"),J()(),Be(60,"div",47),J(),K(61,"div",43)(62,"div",44),Be(63,"i",14),J(),K(64,"div",46)(65,"h6"),F(66,"Desarrollo Organizacional"),J(),K(67,"small"),F(68,"Estrategias de crecimiento"),J()(),Be(69,"div",47),J(),K(70,"div",43)(71,"div",44),Be(72,"i",48),J(),K(73,"div",46)(74,"h6"),F(75,"Talleres Corporativos"),J(),K(76,"small"),F(77,"Metodolog\xEDas innovadoras"),J()(),Be(78,"div",47),J(),K(79,"div",43)(80,"div",44),Be(81,"i",49),J(),K(82,"div",46)(83,"h6"),F(84,"Bienestar Integral"),J(),K(85,"small"),F(86,"Salud organizacional"),J()(),Be(87,"div",47),J()()(),K(88,"div",50)(89,"div",51)(90,"a",52)(91,"span",53),Be(92,"i",54),K(93,"span"),F(94,"Agendar Consulta Estrat\xE9gica"),J()(),Be(95,"div",55),J(),K(96,"a",56)(97,"span",53),Be(98,"i",57),K(99,"span"),F(100,"Explorar Experiencia"),J()(),Be(101,"div",55),J()(),K(102,"div",58)(103,"div",59),Be(104,"i",60),K(105,"span"),F(106,"Confidencialidad garantizada"),J()(),K(107,"div",59),Be(108,"i",61),K(109,"span"),F(110,"Respuesta en 24 horas"),J()()()()()(),K(111,"div",62)(112,"div",63)(113,"div",64)(114,"div",65)(115,"div",66)(116,"div",67)(117,"div",68)(118,"div",69),Be(119,"img",70),J(),Be(120,"div",71)(121,"div",72),J()(),K(122,"div",73)(123,"h3",74),F(124,"Dr. Abel Navarro"),J(),K(125,"p",75),F(126,"Psic\xF3logo Organizacional"),J(),K(127,"div",76)(128,"span",77),F(129,"C.Ps.P. N\xB0 64179"),J(),K(130,"span",78),F(131,"RUC: 10758489677"),J()()()(),K(132,"div",79)(133,"div",80)(134,"div",81),F(135,"10+"),J(),K(136,"div",82),F(137,"A\xF1os de Experiencia"),J()(),K(138,"div",80)(139,"div",81),F(140,"100+"),J(),K(141,"div",82),F(142,"Empresas Capacitadas"),J()(),K(143,"div",80)(144,"div",81),F(145,"5000+"),J(),K(146,"div",82),F(147,"Profesionales Formados"),J()()(),K(148,"div",83)(149,"div",84),Be(150,"i",85),K(151,"span"),F(152,"Especialista Certificado"),J()(),K(153,"div",84),Be(154,"i",60),K(155,"span"),F(156,"Metodolog\xEDas Validadas"),J()()()(),K(157,"div",86)(158,"div",87)(159,"div",88),Be(160,"i",89),J(),K(161,"div",90)(162,"small"),F(163,"Reconocimiento"),J(),K(164,"strong"),F(165,"Excelencia Profesional"),J()()()(),K(166,"div",91)(167,"div",87)(168,"div",88),Be(169,"i",92),J(),K(170,"div",90)(171,"small"),F(172,"Resultados"),J(),K(173,"strong"),F(174,"98% Satisfacci\xF3n"),J()()()(),K(175,"div",93)(176,"div",87)(177,"div",88),Be(178,"i",94),J(),K(179,"div",90)(180,"small"),F(181,"Corporativo"),J(),K(182,"strong"),F(183,"Empresas Fortune"),J()()()()(),K(184,"div",95)(185,"div",96),Be(186,"div",97)(187,"div",98)(188,"div",99),J(),K(189,"div",100),Be(190,"div",97)(191,"div",98),J()()()()()(),K(192,"div",101)(193,"div",102)(194,"div",103),F(195,"Descubrir m\xE1s"),J(),K(196,"div",104),Be(197,"i",105),J()()()())},styles:[`.premium-hero-section[_ngcontent-%COMP%]{min-height:100vh;position:relative;overflow:hidden;display:flex;align-items:center;background:linear-gradient(135deg,#0f172a,#1e293b,#334155,#475569,#1e40af,#1e3a8a 75%,#0f172a)}.premium-hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 80% 20%,rgba(59,130,246,.15) 0%,transparent 50%),radial-gradient(circle at 20% 80%,rgba(168,85,247,.1) 0%,transparent 50%),radial-gradient(circle at 50% 50%,rgba(34,197,94,.08) 0%,transparent 60%);z-index:1}.premium-hero-section[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.02'%3E%3Ccircle cx='30' cy='30' r='1.5'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");z-index:1}.hero-background-layers[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1}.hero-background-layers[_ngcontent-%COMP%]   .background-layer[_ngcontent-%COMP%]{position:absolute;inset:0}.hero-background-layers[_ngcontent-%COMP%]   .background-layer.layer-1[_ngcontent-%COMP%]{background:linear-gradient(45deg,transparent 30%,rgba(59,130,246,.05) 50%,transparent 70%),linear-gradient(-45deg,transparent 30%,rgba(168,85,247,.05) 50%,transparent 70%);animation:_ngcontent-%COMP%_layerFloat1 20s ease-in-out infinite}.hero-background-layers[_ngcontent-%COMP%]   .background-layer.layer-2[_ngcontent-%COMP%]{background:radial-gradient(ellipse at 70% 30%,rgba(34,197,94,.08) 0%,transparent 50%),radial-gradient(ellipse at 30% 70%,rgba(251,191,36,.06) 0%,transparent 50%);animation:_ngcontent-%COMP%_layerFloat2 25s ease-in-out infinite reverse}.hero-background-layers[_ngcontent-%COMP%]   .background-layer.layer-3[_ngcontent-%COMP%]{background:conic-gradient(from 0deg at 50% 50%,transparent,rgba(255,255,255,.02),transparent,rgba(59,130,246,.03),transparent);animation:_ngcontent-%COMP%_layerRotate 60s linear infinite}.hero-background-layers[_ngcontent-%COMP%]   .geometric-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='grid' width='20' height='20' patternUnits='userSpaceOnUse'%3E%3Cpath d='M 20 0 L 0 0 0 20' fill='none' stroke='%23ffffff' stroke-width='0.5' stroke-opacity='0.03'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100' height='100' fill='url(%23grid)'/%3E%3C/svg%3E");opacity:.4}.floating-elements[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:2;pointer-events:none}.floating-elements[_ngcontent-%COMP%]   .floating-element[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;border-radius:50%;background:#ffffff14;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:center;color:#fff9;font-size:1.5rem}.floating-elements[_ngcontent-%COMP%]   .floating-element.element-1[_ngcontent-%COMP%]{top:15%;right:15%;animation:_ngcontent-%COMP%_floatElement1 15s ease-in-out infinite}.floating-elements[_ngcontent-%COMP%]   .floating-element.element-2[_ngcontent-%COMP%]{top:60%;left:10%;animation:_ngcontent-%COMP%_floatElement2 18s ease-in-out infinite reverse}.floating-elements[_ngcontent-%COMP%]   .floating-element.element-3[_ngcontent-%COMP%]{bottom:20%;right:8%;animation:_ngcontent-%COMP%_floatElement3 22s ease-in-out infinite}.floating-elements[_ngcontent-%COMP%]   .floating-element.element-4[_ngcontent-%COMP%]{top:30%;left:20%;animation:_ngcontent-%COMP%_floatElement4 20s ease-in-out infinite reverse}.hero-container[_ngcontent-%COMP%]{z-index:10;position:relative}.premium-hero-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_premiumFadeInLeft 1.2s cubic-bezier(.4,0,.2,1) both}.premium-hero-content[_ngcontent-%COMP%]   .elite-credential-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_credentialFloat 1s ease-out .3s both}.premium-hero-content[_ngcontent-%COMP%]   .elite-credential-wrapper[_ngcontent-%COMP%]   .elite-credential[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:1rem;background:#ffffff1a;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);border-radius:2rem;padding:.75rem 1.5rem;position:relative;overflow:hidden}.premium-hero-content[_ngcontent-%COMP%]   .elite-credential-wrapper[_ngcontent-%COMP%]   .elite-credential[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#f59e0b,#eab308);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#1f2937;font-size:1.2rem;box-shadow:0 4px 15px #f59e0b66}.premium-hero-content[_ngcontent-%COMP%]   .elite-credential-wrapper[_ngcontent-%COMP%]   .elite-credential[_ngcontent-%COMP%]   .credential-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.premium-hero-content[_ngcontent-%COMP%]   .elite-credential-wrapper[_ngcontent-%COMP%]   .elite-credential[_ngcontent-%COMP%]   .credential-text[_ngcontent-%COMP%]   .credential-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#ffffffe6;line-height:1.2}.premium-hero-content[_ngcontent-%COMP%]   .elite-credential-wrapper[_ngcontent-%COMP%]   .elite-credential[_ngcontent-%COMP%]   .credential-text[_ngcontent-%COMP%]   .credential-number[_ngcontent-%COMP%]{font-size:.75rem;color:#ffffffb3;font-weight:500}.premium-hero-content[_ngcontent-%COMP%]   .elite-credential-wrapper[_ngcontent-%COMP%]   .elite-credential[_ngcontent-%COMP%]   .credential-glow[_ngcontent-%COMP%]{position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);animation:_ngcontent-%COMP%_credentialShine 3s ease-in-out infinite}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleRise 1s ease-out .5s both}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .title-prefix[_ngcontent-%COMP%]{margin-bottom:.5rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .title-prefix[_ngcontent-%COMP%]   .doctor-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;color:#f59e0b;font-family:var(--font-secondary);letter-spacing:.1em}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .premium-hero-title[_ngcontent-%COMP%]{font-size:clamp(3rem,8vw,5.5rem);font-weight:800;line-height:.9;color:#fff;text-shadow:0 4px 20px rgba(0,0,0,.5);margin-bottom:1.5rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .premium-hero-title[_ngcontent-%COMP%]   .name-primary[_ngcontent-%COMP%]{display:block;background:linear-gradient(135deg,#fff,#e5e7eb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .premium-hero-title[_ngcontent-%COMP%]   .name-secondary[_ngcontent-%COMP%]{display:block;background:linear-gradient(135deg,#f59e0b,#eab308);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .title-decoration[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:1rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .title-decoration[_ngcontent-%COMP%]   .decoration-line[_ngcontent-%COMP%]{height:2px;width:60px;background:linear-gradient(90deg,#F59E0B,transparent)}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .title-decoration[_ngcontent-%COMP%]   .decoration-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#f59e0b;border-radius:50%;box-shadow:0 0 20px #f59e0b99}.premium-hero-content[_ngcontent-%COMP%]   .premium-subtitle-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_subtitleSlide 1s ease-out .7s both}.premium-hero-content[_ngcontent-%COMP%]   .premium-subtitle-wrapper[_ngcontent-%COMP%]   .premium-subtitle[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2.2rem);font-weight:600;color:#e5e7eb;line-height:1.3;margin-bottom:.75rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-subtitle-wrapper[_ngcontent-%COMP%]   .subtitle-accent[_ngcontent-%COMP%]{font-size:1.1rem;color:#ffffffb3;font-weight:400;letter-spacing:.02em}.premium-hero-content[_ngcontent-%COMP%]   .premium-description-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_descriptionFade 1s ease-out .9s both}.premium-hero-content[_ngcontent-%COMP%]   .premium-description-wrapper[_ngcontent-%COMP%]   .premium-description[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.7;color:#fffc;max-width:600px;font-weight:400;letter-spacing:.01em}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_specializationsRise 1s ease-out 1.1s both}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]   .specialization-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:1rem;padding:1rem;position:relative;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1)}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]   .specialization-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);background:#ffffff1a;border-color:#fff3}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]   .specialization-card[_ngcontent-%COMP%]:hover   .card-glow[_ngcontent-%COMP%]{opacity:1}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]   .specialization-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#3b82f6,#1d4ed8);display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;box-shadow:0 4px 15px #3b82f666}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]   .specialization-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#fff;margin-bottom:.25rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]   .specialization-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.8rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-specializations[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]   .specialization-card[_ngcontent-%COMP%]   .card-glow[_ngcontent-%COMP%]{position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);opacity:0;transition:opacity .3s ease}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_ctaFloat 1s ease-out 1.3s both}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:2rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn[_ngcontent-%COMP%]{position:relative;padding:1rem 2rem;border-radius:3rem;font-weight:600;font-size:1rem;text-decoration:none;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);display:inline-flex;align-items:center;gap:.5rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:2}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn[_ngcontent-%COMP%]   .btn-shine[_ngcontent-%COMP%]{position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn[_ngcontent-%COMP%]:hover   .btn-shine[_ngcontent-%COMP%]{left:100%}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn.primary-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#eab308);color:#1f2937;border:2px solid transparent;box-shadow:0 10px 30px #f59e0b66}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 15px 40px #f59e0b99;color:#1f2937}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn.secondary-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn.secondary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05);background:#fff3;border-color:#ffffff80;color:#fff}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:flex;gap:2rem;flex-wrap:wrap}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#ffffffb3;font-size:.875rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-cta-section[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#10b981;font-size:1rem}.premium-showcase-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_premiumFadeInRight 1.2s cubic-bezier(.4,0,.2,1) both;position:relative}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]{position:relative;z-index:5}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);border-radius:2rem;padding:2rem;box-shadow:0 20px 60px #0000004d}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-bottom:1.5rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{position:relative}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]   .professional-logo[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#ffffff1a,#ffffff0d);display:flex;align-items:center;justify-content:center;margin:0 auto;position:relative;z-index:2;padding:10px}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]   .professional-logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;filter:brightness(1.1)}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]   .profile-ring[_ngcontent-%COMP%]{position:absolute;inset:-10px;border:2px solid #F59E0B;border-radius:50%;animation:_ngcontent-%COMP%_profilePulse 3s ease-in-out infinite}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]   .profile-glow[_ngcontent-%COMP%]{position:absolute;inset:-20px;background:radial-gradient(circle,rgba(245,158,11,.3) 0%,transparent 70%);border-radius:50%;animation:_ngcontent-%COMP%_profileGlow 4s ease-in-out infinite}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.5rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:1rem;color:#fffc;margin-bottom:1rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-credentials[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-credentials[_ngcontent-%COMP%]   .credential-badge[_ngcontent-%COMP%], .premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-credentials[_ngcontent-%COMP%]   .ruc-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;background:#ffffff1a;border-radius:1rem;font-size:.75rem;color:#ffffffe6;border:1px solid rgba(255,255,255,.2)}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:2rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center;padding:1rem;background:#ffffff0d;border-radius:1rem;border:1px solid rgba(255,255,255,.1)}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#f59e0b;line-height:1;margin-bottom:.5rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#ffffffb3;font-weight:500}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .certifications-section[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .certifications-section[_ngcontent-%COMP%]   .certification-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#10b9811a;border:1px solid rgba(16,185,129,.3);border-radius:1rem;color:#10b981;font-size:.875rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .certifications-section[_ngcontent-%COMP%]   .certification-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.2);border-radius:1rem;padding:1rem;box-shadow:0 10px 30px #0003}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement.achievement-1[_ngcontent-%COMP%]{top:10%;right:-20%;animation:_ngcontent-%COMP%_floatAchievement1 8s ease-in-out infinite}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement.achievement-2[_ngcontent-%COMP%]{bottom:30%;left:-25%;animation:_ngcontent-%COMP%_floatAchievement2 10s ease-in-out infinite reverse}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement.achievement-3[_ngcontent-%COMP%]{top:50%;right:-15%;animation:_ngcontent-%COMP%_floatAchievement3 12s ease-in-out infinite}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement[_ngcontent-%COMP%]   .achievement-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement[_ngcontent-%COMP%]   .achievement-content[_ngcontent-%COMP%]   .achievement-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#f59e0b,#eab308);display:flex;align-items:center;justify-content:center;color:#1f2937;font-size:1.2rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement[_ngcontent-%COMP%]   .achievement-content[_ngcontent-%COMP%]   .achievement-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement[_ngcontent-%COMP%]   .achievement-content[_ngcontent-%COMP%]   .achievement-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.75rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .floating-achievement[_ngcontent-%COMP%]   .achievement-content[_ngcontent-%COMP%]   .achievement-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:600}.premium-showcase-container[_ngcontent-%COMP%]   .premium-decoration[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1}.premium-showcase-container[_ngcontent-%COMP%]   .premium-decoration[_ngcontent-%COMP%]   .decoration-orbit[_ngcontent-%COMP%]{position:absolute;border:1px solid rgba(255,255,255,.1);border-radius:50%}.premium-showcase-container[_ngcontent-%COMP%]   .premium-decoration[_ngcontent-%COMP%]   .decoration-orbit.orbit-1[_ngcontent-%COMP%]{width:300px;height:300px;top:20%;left:50%;transform:translate(-50%);animation:_ngcontent-%COMP%_orbitRotate1 30s linear infinite}.premium-showcase-container[_ngcontent-%COMP%]   .premium-decoration[_ngcontent-%COMP%]   .decoration-orbit.orbit-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:20%;right:10%;animation:_ngcontent-%COMP%_orbitRotate2 25s linear infinite reverse}.premium-showcase-container[_ngcontent-%COMP%]   .premium-decoration[_ngcontent-%COMP%]   .decoration-orbit[_ngcontent-%COMP%]   .orbit-element[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;background:#f59e0b;border-radius:50%;box-shadow:0 0 15px #f59e0b99}.premium-showcase-container[_ngcontent-%COMP%]   .premium-decoration[_ngcontent-%COMP%]   .decoration-orbit[_ngcontent-%COMP%]   .orbit-element.element-1[_ngcontent-%COMP%]{top:0;left:50%;transform:translate(-50%)}.premium-showcase-container[_ngcontent-%COMP%]   .premium-decoration[_ngcontent-%COMP%]   .decoration-orbit[_ngcontent-%COMP%]   .orbit-element.element-2[_ngcontent-%COMP%]{bottom:0;left:50%;transform:translate(-50%)}.premium-showcase-container[_ngcontent-%COMP%]   .premium-decoration[_ngcontent-%COMP%]   .decoration-orbit[_ngcontent-%COMP%]   .orbit-element.element-3[_ngcontent-%COMP%]{top:50%;right:0;transform:translateY(-50%)}.premium-scroll-indicator[_ngcontent-%COMP%]{position:absolute;bottom:2rem;left:50%;transform:translate(-50%);z-index:10}.premium-scroll-indicator[_ngcontent-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.premium-scroll-indicator[_ngcontent-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .scroll-text[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.875rem;font-weight:500;letter-spacing:.05em}.premium-scroll-indicator[_ngcontent-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]{color:#fff9;font-size:1.5rem;animation:_ngcontent-%COMP%_scrollBounce 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_premiumFadeInLeft{0%{opacity:0;transform:translate(-60px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_premiumFadeInRight{0%{opacity:0;transform:translate(60px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_credentialFloat{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_credentialShine{0%{transform:translate(-100%) rotate(45deg)}to{transform:translate(200%) rotate(45deg)}}@keyframes _ngcontent-%COMP%_titleRise{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_subtitleSlide{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_descriptionFade{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_specializationsRise{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_ctaFloat{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_layerFloat1{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(180deg)}}@keyframes _ngcontent-%COMP%_layerFloat2{0%,to{transform:translate(0) rotate(0)}50%{transform:translate(20px) rotate(-180deg)}}@keyframes _ngcontent-%COMP%_layerRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_floatElement1{0%,to{transform:translateY(0)}50%{transform:translateY(-30px)}}@keyframes _ngcontent-%COMP%_floatElement2{0%,to{transform:translateY(0) translate(0)}50%{transform:translateY(-20px) translate(10px)}}@keyframes _ngcontent-%COMP%_floatElement3{0%,to{transform:translateY(0)}50%{transform:translateY(-25px)}}@keyframes _ngcontent-%COMP%_floatElement4{0%,to{transform:translateY(0) translate(0)}50%{transform:translateY(-15px) translate(-10px)}}@keyframes _ngcontent-%COMP%_profilePulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}@keyframes _ngcontent-%COMP%_profileGlow{0%,to{opacity:.3}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_floatAchievement1{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}@keyframes _ngcontent-%COMP%_floatAchievement2{0%,to{transform:translateY(0) translate(0)}50%{transform:translateY(-10px) translate(5px)}}@keyframes _ngcontent-%COMP%_floatAchievement3{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_orbitRotate1{0%{transform:translate(-50%) rotate(0)}to{transform:translate(-50%) rotate(360deg)}}@keyframes _ngcontent-%COMP%_orbitRotate2{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_scrollBounce{0%,to{transform:translateY(0)}50%{transform:translateY(10px)}}@media (max-width: 991.98px){.premium-hero-content[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .premium-hero-title[_ngcontent-%COMP%]{font-size:clamp(2.5rem,8vw,4rem)}.premium-hero-content[_ngcontent-%COMP%]   .specializations-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;max-width:400px;margin:0 auto}.premium-hero-content[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%], .premium-hero-content[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{justify-content:center}.premium-showcase-container[_ngcontent-%COMP%]   .floating-achievement[_ngcontent-%COMP%], .floating-elements[_ngcontent-%COMP%]   .floating-element[_ngcontent-%COMP%]{display:none}}@media (max-width: 767.98px){.premium-hero-section[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.premium-hero-content[_ngcontent-%COMP%]   .premium-title-section[_ngcontent-%COMP%]   .premium-hero-title[_ngcontent-%COMP%]{font-size:clamp(2rem,8vw,3.5rem)}.premium-hero-content[_ngcontent-%COMP%]   .premium-subtitle-wrapper[_ngcontent-%COMP%]   .premium-subtitle[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.8rem)}.premium-hero-content[_ngcontent-%COMP%]   .premium-description-wrapper[_ngcontent-%COMP%]   .premium-description[_ngcontent-%COMP%]{font-size:1rem}.premium-hero-content[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.premium-hero-content[_ngcontent-%COMP%]   .cta-wrapper[_ngcontent-%COMP%]   .premium-btn[_ngcontent-%COMP%]{width:100%;max-width:300px;justify-content:center}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]{padding:1.5rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}@media (max-width: 575.98px){.hero-container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.elite-credential-wrapper[_ngcontent-%COMP%]   .elite-credential[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem;padding:1rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-credentials[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.premium-showcase-container[_ngcontent-%COMP%]   .professional-showcase-wrapper[_ngcontent-%COMP%]   .premium-professional-card[_ngcontent-%COMP%]   .certifications-section[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}`]})};var iy=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wn({type:n,selectors:[["app-workshops-promo"]],decls:118,vars:0,consts:[["id","workshops",1,"workshops-section","py-5","bg-light","position-relative","pt-5"],[1,"container","mt-5"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-mortarboard-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"lead","text-muted"],[1,"row","g-4","mb-5"],[1,"col-lg-4","col-md-6"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover"],[1,"service-icon","mb-4"],[1,"icon-wrapper","bg-primary","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-building","text-primary","fs-1"],[1,"fw-bold","text-dark","mb-3"],[1,"text-muted","mb-4"],[1,"list-unstyled","text-muted","small"],[1,"mb-2"],[1,"bi","bi-check-circle-fill","text-success","me-2"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover","featured"],[1,"featured-badge"],[1,"badge","bg-warning","text-dark","small"],[1,"icon-wrapper","bg-warning","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-briefcase-fill","text-warning","fs-1"],[1,"icon-wrapper","bg-success","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-mic-fill","text-success","fs-1"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"benefits-container","bg-white","rounded-4","shadow-sm","p-4","p-lg-5"],[1,"row","align-items-center"],[1,"col-lg-6","mb-4","mb-lg-0"],[1,"col-lg-6"],[1,"row","g-3"],[1,"col-6"],[1,"benefit-item","text-center","p-3"],[1,"benefit-icon","bg-primary","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-target","text-primary","fs-5"],[1,"fw-semibold","text-dark","mb-1"],[1,"text-muted"],[1,"benefit-icon","bg-success","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-people-fill","text-success","fs-5"],[1,"benefit-icon","bg-warning","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-award-fill","text-warning","fs-5"],[1,"benefit-icon","bg-info","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-headset","text-info","fs-5"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-mortarboard-fill","text-primary",2,"font-size","15rem"]],template:function(t,r){t&1&&(K(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),Be(6,"i",6),F(7,"Programas Profesionales "),J()(),K(8,"h2",7),F(9,"Talleres y Programas de Capacitaci\xF3n"),J(),K(10,"p",8),F(11," Soluciones integrales de capacitaci\xF3n dise\xF1adas para potenciar el talento humano y fortalecer las competencias organizacionales de tu empresa. "),J()()(),K(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),Be(17,"i",14),J()(),K(18,"h4",15),F(19,"Talleres Institucionales"),J(),K(20,"p",16),F(21," Programas especializados para instituciones p\xFAblicas y privadas, enfocados en el desarrollo organizacional y mejora de procesos. "),J(),K(22,"ul",17)(23,"li",18),Be(24,"i",19),F(25,"Liderazgo y gesti\xF3n de equipos"),J(),K(26,"li",18),Be(27,"i",19),F(28,"Comunicaci\xF3n efectiva"),J(),K(29,"li",18),Be(30,"i",19),F(31,"Resoluci\xF3n de conflictos"),J()()()(),K(32,"div",10)(33,"div",20)(34,"div",21)(35,"span",22),F(36,"M\xE1s Solicitado"),J()(),K(37,"div",12)(38,"div",23),Be(39,"i",24),J()(),K(40,"h4",15),F(41,"Capacitaci\xF3n Empresarial"),J(),K(42,"p",16),F(43," Programas personalizados para empresas que buscan optimizar el rendimiento y bienestar de sus colaboradores. "),J(),K(44,"ul",17)(45,"li",18),Be(46,"i",19),F(47,"Habilidades blandas"),J(),K(48,"li",18),Be(49,"i",19),F(50,"Bienestar laboral"),J(),K(51,"li",18),Be(52,"i",19),F(53,"Productividad y motivaci\xF3n"),J()()()(),K(54,"div",10)(55,"div",11)(56,"div",12)(57,"div",25),Be(58,"i",26),J()(),K(59,"h4",15),F(60,"Charlas Especializadas"),J(),K(61,"p",16),F(62," Conferencias y charlas magistrales sobre temas espec\xEDficos del desarrollo humano y organizacional. "),J(),K(63,"ul",17)(64,"li",18),Be(65,"i",19),F(66,"Psicolog\xEDa organizacional"),J(),K(67,"li",18),Be(68,"i",19),F(69,"Gesti\xF3n del cambio"),J(),K(70,"li",18),Be(71,"i",19),F(72,"Inteligencia emocional"),J()()()()(),K(73,"div",27)(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",31)(78,"h3",15),F(79,"\xBFPor qu\xE9 elegir nuestros programas?"),J(),K(80,"p",16),F(81," Cada programa est\xE1 dise\xF1ado con metodolog\xEDas probadas y adaptadas a las necesidades espec\xEDficas de tu organizaci\xF3n. "),J()(),K(82,"div",32)(83,"div",33)(84,"div",34)(85,"div",35)(86,"div",36),Be(87,"i",37),J(),K(88,"h6",38),F(89,"Enfoque Pr\xE1ctico"),J(),K(90,"small",39),F(91,"Metodolog\xEDa aplicada"),J()()(),K(92,"div",34)(93,"div",35)(94,"div",40),Be(95,"i",41),J(),K(96,"h6",38),F(97,"Grupos Reducidos"),J(),K(98,"small",39),F(99,"Atenci\xF3n personalizada"),J()()(),K(100,"div",34)(101,"div",35)(102,"div",42),Be(103,"i",43),J(),K(104,"h6",38),F(105,"Certificaci\xF3n"),J(),K(106,"small",39),F(107,"Reconocimiento oficial"),J()()(),K(108,"div",34)(109,"div",35)(110,"div",44),Be(111,"i",45),J(),K(112,"h6",38),F(113,"Seguimiento"),J(),K(114,"small",39),F(115,"Apoyo continuo"),J()()()()()()()()()(),K(116,"div",46),Be(117,"i",47),J()())},styles:['.workshops-section[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:linear-gradient(135deg,var(--bg-subtle) 0%,rgba(26,54,93,.03) 100%);min-height:90vh;display:flex;align-items:center}.workshops-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(var(--bs-primary-rgb),.08) 0%,transparent 50%);pointer-events:none;z-index:1}.workshops-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.section-badge[_ngcontent-%COMP%]{animation:fadeInUp .8s var(--ease-out-quart) .1s both}.section-badge[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;letter-spacing:.5px;border:1px solid rgba(var(--bs-primary-rgb),.2);transition:var(--transition-smooth)}.section-badge[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);background:var(--bs-primary)!important;color:var(--bs-white)!important}.service-card[_ngcontent-%COMP%]{position:relative;background:var(--bs-white);border:2px solid var(--border-color);transition:var(--transition-smooth);cursor:pointer;overflow:hidden}.service-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--bs-primary),var(--accent-color));transform:translate(-100%);transition:var(--transition-smooth)}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px) scale(1.02);box-shadow:var(--shadow-xl);border-color:var(--bs-primary)}.service-card[_ngcontent-%COMP%]:hover:before{transform:translate(0)}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.service-card[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]{color:var(--bs-primary)}.service-card.featured[_ngcontent-%COMP%]{border:2px solid var(--bs-warning);background:linear-gradient(135deg,var(--bs-white) 0%,rgba(var(--bs-warning-rgb),.05) 100%);position:relative}.service-card.featured[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,var(--bs-warning),var(--bs-warning))}.service-card.featured[_ngcontent-%COMP%]   .featured-badge[_ngcontent-%COMP%]{position:absolute;top:-10px;right:20px;z-index:10;animation:_ngcontent-%COMP%_pulse 2s infinite}.service-card.featured[_ngcontent-%COMP%]:hover{box-shadow:0 20px 40px rgba(var(--bs-warning-rgb),.3);border-color:var(--bs-warning)}.service-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);font-family:var(--font-secondary);font-weight:700;transition:var(--transition-smooth)}.service-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6;font-size:1rem}.service-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;line-height:1.5}.service-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .bi-check-circle-fill[_ngcontent-%COMP%]{color:var(--bs-success)!important;margin-right:.5rem}.service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:var(--transition-smooth);border:2px solid transparent}.service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem!important}.benefits-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--bs-white) 0%,var(--bg-subtle) 100%);border:2px solid var(--border-color);position:relative;overflow:hidden}.benefits-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--bs-primary),var(--accent-color),var(--bs-success),var(--bs-warning))}.benefits-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);font-family:var(--font-secondary);font-weight:700;position:relative}.benefits-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;width:50px;height:3px;background:linear-gradient(90deg,var(--bs-primary),var(--accent-color));border-radius:2px}.benefits-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.05rem;line-height:1.6}.benefit-item[_ngcontent-%COMP%]{transition:var(--transition-smooth);padding:1.5rem 1rem;border-radius:var(--border-radius)}.benefit-item[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.05);background:rgba(var(--bs-primary-rgb),.05)}.benefit-item[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]{transform:scale(1.2) rotate(10deg)}.benefit-item[_ngcontent-%COMP%]:hover   h6[_ngcontent-%COMP%]{color:var(--bs-primary)}.benefit-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;font-size:1rem;transition:var(--transition-smooth)}.benefit-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:500;font-size:.85rem}.benefit-icon[_ngcontent-%COMP%]{transition:var(--transition-smooth);width:65px!important;height:65px!important;border:2px solid transparent}.benefit-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem!important}.service-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px);animation:_ngcontent-%COMP%_slideInUp 1s var(--ease-out-quart) forwards}.service-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.service-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.4s}.service-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}.benefits-container[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) .8s both}.workshops-section[_ngcontent-%COMP%]   .bi-mortarboard-fill[_ngcontent-%COMP%]{position:absolute;top:15%;right:5%;font-size:18rem;color:rgba(var(--bs-primary-rgb),.03);transform:rotate(15deg);animation:_ngcontent-%COMP%_float 8s ease-in-out infinite;z-index:0}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(15deg)}50%{transform:translateY(-30px) rotate(18deg)}}@media (max-width: 991.98px){.workshops-section[_ngcontent-%COMP%]{min-height:auto;padding:4rem 0}.service-card[_ngcontent-%COMP%]{margin-bottom:2rem}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.01)}.benefits-container[_ngcontent-%COMP%]{margin-top:3rem;padding:2rem 1.5rem}.bi-mortarboard-fill[_ngcontent-%COMP%]{font-size:12rem!important;top:5%!important}}@media (max-width: 767.98px){.workshops-section[_ngcontent-%COMP%]{padding:3rem 0}.service-card[_ngcontent-%COMP%]{padding:2rem 1.5rem!important}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.01)}.service-card[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{padding:2rem!important}.service-card[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem!important}.service-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.benefit-item[_ngcontent-%COMP%]{padding:1.5rem 1rem!important}.benefit-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02)}.benefit-item[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{width:50px!important;height:50px!important}.benefit-item[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.benefit-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem}.benefit-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}.benefits-container[_ngcontent-%COMP%]{padding:2rem 1rem}.benefits-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-bottom:1.5rem}.benefits-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.benefits-container[_ngcontent-%COMP%]   .row.g-3[_ngcontent-%COMP%]{gap:1rem!important}.workshops-section[_ngcontent-%COMP%]   .bi-mortarboard-fill[_ngcontent-%COMP%]{font-size:8rem!important;opacity:.3}}@media (max-width: 575.98px){.workshops-section[_ngcontent-%COMP%]{padding:2.5rem 0}.workshops-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.section-badge[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem}.service-card[_ngcontent-%COMP%]{padding:1.5rem 1rem!important}.service-card[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{padding:1.5rem!important}.service-card[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem!important}.service-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem}.service-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.service-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem}.benefits-container[_ngcontent-%COMP%]{padding:1.5rem}.benefits-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{padding:1rem .5rem!important}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{width:45px!important;height:45px!important}.bi-mortarboard-fill[_ngcontent-%COMP%]{display:none!important}}']})};var oy=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wn({type:n,selectors:[["app-about-me"]],decls:123,vars:0,consts:[["id","about",1,"about-section","py-5","bg-white","position-relative","pt-5"],[1,"container","mt-5"],[1,"row","align-items-center","g-5"],[1,"col-lg-5","order-lg-1","order-2"],[1,"about-image-container","position-relative"],[1,"professional-image","bg-light","rounded-4","shadow-lg","p-4","text-center"],[1,"professional-logo","mb-3"],["src","abel-navarro-vertical.svg","alt","Abel Navarro - Psic\xF3logo Organizacional",1,"logo-img"],[1,"text-muted"],[1,"credential-badge","credential-1","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"d-flex","align-items-center"],[1,"credential-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-primary"],[1,"mb-0","fw-semibold","small"],[1,"credential-badge","credential-2","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"credential-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-building","text-success"],[1,"col-lg-7","order-lg-2","order-1"],[1,"about-content"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","bg-opacity-10","text-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-person-badge-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"about-intro","mb-4"],[1,"lead","text-muted"],[1,"text-primary"],[1,"about-description","mb-4"],[1,"text-muted","mb-3"],[1,"expertise-areas","mb-4"],[1,"fw-bold","text-dark","mb-3"],[1,"row","g-3"],[1,"col-md-6"],[1,"expertise-item","d-flex","align-items-center","p-3","bg-light","rounded-3"],[1,"expertise-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-brain","text-primary"],[1,"mb-1","fw-semibold"],[1,"expertise-icon","bg-warning","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-people-fill","text-warning"],[1,"expertise-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-heart-pulse-fill","text-success"],[1,"expertise-icon","bg-info","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-lightbulb-fill","text-info"],[1,"professional-stats"],[1,"row","g-4"],[1,"col-4"],[1,"stat-item","text-center"],[1,"stat-number","display-6","fw-bold","text-primary"],[1,"stat-label","small","text-muted"],[1,"stat-number","display-6","fw-bold","text-success"],[1,"stat-number","display-6","fw-bold","text-warning"],[1,"position-absolute","top-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-person-workspace","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(K(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),Be(7,"img",7),J(),K(8,"h6",8),F(9,"Abel Uriaz Navarro Carrasco"),J(),K(10,"small",8),F(11,"Psic\xF3logo Organizacional"),J()(),K(12,"div",9)(13,"div",10)(14,"div",11),Be(15,"i",12),J(),K(16,"div")(17,"h6",13),F(18,"Colegiatura"),J(),K(19,"small",8),F(20,"C.Ps.P. N\xB0 64179"),J()()()(),K(21,"div",14)(22,"div",10)(23,"div",15),Be(24,"i",16),J(),K(25,"div")(26,"h6",13),F(27,"RUC"),J(),K(28,"small",8),F(29,"10758489677"),J()()()()()(),K(30,"div",17)(31,"div",18)(32,"div",19)(33,"span",20),Be(34,"i",21),F(35,"Conoce al Profesional "),J()(),K(36,"h2",22),F(37,"Sobre m\xED"),J(),K(38,"div",23)(39,"p",24),F(40," Soy "),K(41,"strong",25),F(42,"Abel Uriaz Navarro Carrasco"),J(),F(43,", psic\xF3logo de profesi\xF3n con especializaci\xF3n en el desarrollo del talento humano y transformaci\xF3n organizacional. "),J()(),K(44,"div",26)(45,"p",27),F(46," Me dedico a brindar "),K(47,"strong"),F(48,"talleres, charlas y programas de capacitaci\xF3n"),J(),F(49," dirigidos a instituciones y empresas, con el objetivo de fortalecer competencias personales, grupales y organizacionales que generen un impacto positivo duradero. "),J(),K(50,"p",8),F(51," Mi enfoque integra conocimientos especializados en "),K(52,"strong"),F(53,"psicolog\xEDa organizacional, habilidades blandas, bienestar laboral y liderazgo"),J(),F(54,", aplicados de manera din\xE1mica y efectiva para potenciar el rendimiento de los equipos de trabajo. "),J()(),K(55,"div",28)(56,"h5",29),F(57,"\xC1reas de Especializaci\xF3n"),J(),K(58,"div",30)(59,"div",31)(60,"div",32)(61,"div",33),Be(62,"i",34),J(),K(63,"div")(64,"h6",35),F(65,"Psicolog\xEDa Organizacional"),J(),K(66,"small",8),F(67,"Comportamiento y clima laboral"),J()()()(),K(68,"div",31)(69,"div",32)(70,"div",36),Be(71,"i",37),J(),K(72,"div")(73,"h6",35),F(74,"Liderazgo y Equipos"),J(),K(75,"small",8),F(76,"Gesti\xF3n y desarrollo"),J()()()(),K(77,"div",31)(78,"div",32)(79,"div",38),Be(80,"i",39),J(),K(81,"div")(82,"h6",35),F(83,"Bienestar Laboral"),J(),K(84,"small",8),F(85,"Salud mental y productividad"),J()()()(),K(86,"div",31)(87,"div",32)(88,"div",40),Be(89,"i",41),J(),K(90,"div")(91,"h6",35),F(92,"Habilidades Blandas"),J(),K(93,"small",8),F(94,"Comunicaci\xF3n y empat\xEDa"),J()()()()()(),K(95,"div",42)(96,"div",43)(97,"div",44)(98,"div",45)(99,"div",46),F(100,"5+"),J(),K(101,"div",47),F(102,"A\xF1os de"),Be(103,"br"),F(104,"Experiencia"),J()()(),K(105,"div",44)(106,"div",45)(107,"div",48),F(108,"50+"),J(),K(109,"div",47),F(110,"Empresas"),Be(111,"br"),F(112,"Capacitadas"),J()()(),K(113,"div",44)(114,"div",45)(115,"div",49),F(116,"1000+"),J(),K(117,"div",47),F(118,"Profesionales"),Be(119,"br"),F(120,"Formados"),J()()()()()()()()(),K(121,"div",50),Be(122,"i",51),J()())},styles:['.about-section[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:linear-gradient(135deg,var(--bs-white) 0%,rgba(26,54,93,.02) 100%);min-height:90vh;display:flex;align-items:center}.about-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 80% 20%,rgba(var(--bs-primary-rgb),.08) 0%,transparent 50%);pointer-events:none;z-index:1}.about-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.about-image-container[_ngcontent-%COMP%]{position:relative}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{background:linear-gradient(145deg,var(--bs-white) 0%,var(--bg-subtle) 100%);border:2px solid var(--border-color);transition:var(--transition-smooth);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:var(--shadow-xl);border-color:var(--bs-primary)}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]   .professional-logo[_ngcontent-%COMP%]{height:120px;display:flex;align-items:center;justify-content:center}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]   .professional-logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;transition:var(--transition-smooth)}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]:hover   .professional-logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{transform:scale(1.05)}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:var(--font-secondary);color:var(--text-primary);font-weight:600;font-size:1.1rem}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:500;font-size:.95rem}.credential-badge[_ngcontent-%COMP%]{background:#fffffff2;border:1px solid var(--border-color);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);transition:var(--transition-smooth);box-shadow:var(--shadow-lg)}.credential-badge[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05);box-shadow:var(--shadow-xl);background:var(--bs-white);border-color:var(--bs-primary)}.credential-badge.credential-1[_ngcontent-%COMP%]{top:10%;right:-20%;animation:slideInRight 1s var(--ease-out-quart) .6s both}.credential-badge.credential-2[_ngcontent-%COMP%]{bottom:20%;left:-20%;animation:slideInLeft 1s var(--ease-out-quart) .8s both}.credential-badge[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{transition:var(--transition-smooth)}.credential-badge[_ngcontent-%COMP%]:hover   .credential-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.credential-badge[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.85rem;font-weight:600}.credential-badge[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:500;font-size:.8rem}.about-content[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) .3s both}.about-content[_ngcontent-%COMP%]   .section-badge[_ngcontent-%COMP%]{animation:fadeInUp .8s var(--ease-out-quart) .1s both}.about-content[_ngcontent-%COMP%]   .section-badge[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;letter-spacing:.5px;border:1px solid rgba(var(--bs-primary-rgb),.2);transition:var(--transition-smooth)}.about-content[_ngcontent-%COMP%]   .section-badge[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);background:var(--bs-primary)!important;color:var(--bs-white)!important}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) .4s both;font-family:var(--font-secondary);color:var(--text-primary);font-weight:700;line-height:1.2;position:relative}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:0;width:60px;height:3px;background:linear-gradient(90deg,var(--bs-primary),var(--accent-color));border-radius:2px}.about-content[_ngcontent-%COMP%]   .about-intro[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) .6s both}.about-content[_ngcontent-%COMP%]   .about-intro[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.6;color:var(--text-secondary);font-weight:400}.about-content[_ngcontent-%COMP%]   .about-intro[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--bs-primary);font-weight:600}.about-content[_ngcontent-%COMP%]   .about-description[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) .8s both}.about-content[_ngcontent-%COMP%]   .about-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.7;color:var(--text-secondary);margin-bottom:1.5rem}.about-content[_ngcontent-%COMP%]   .about-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.expertise-areas[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) 1s both}.expertise-areas[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--text-primary);font-family:var(--font-secondary);font-weight:700;margin-bottom:1.5rem;position:relative}.expertise-areas[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-15px;top:50%;transform:translateY(-50%);width:4px;height:25px;background:linear-gradient(180deg,var(--bs-primary),var(--accent-color));border-radius:2px}.expertise-item[_ngcontent-%COMP%]{background:var(--bg-subtle);border:2px solid var(--border-color);transition:var(--transition-smooth);cursor:pointer}.expertise-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);background:var(--bs-white);border-color:var(--bs-primary);box-shadow:var(--shadow-lg)}.expertise-item[_ngcontent-%COMP%]:hover   .expertise-icon[_ngcontent-%COMP%]{transform:scale(1.15) rotate(10deg)}.expertise-item[_ngcontent-%COMP%]:hover   h6[_ngcontent-%COMP%]{color:var(--bs-primary)}.expertise-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;font-size:1rem;transition:var(--transition-smooth)}.expertise-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:500;font-size:.85rem}.expertise-icon[_ngcontent-%COMP%]{width:45px;height:45px;display:flex;align-items:center;justify-content:center;transition:var(--transition-smooth)}.expertise-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.professional-stats[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) 1.2s both;padding:2rem;background:linear-gradient(135deg,var(--bg-subtle) 0%,rgba(var(--bs-primary-rgb),.05) 100%);border-radius:var(--border-radius-lg);border:2px solid var(--border-color);position:relative;overflow:hidden}.professional-stats[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--bs-primary),var(--accent-color),var(--bs-warning))}.stat-item[_ngcontent-%COMP%]{transition:var(--transition-smooth);padding:1rem;border-radius:var(--border-radius)}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.05);background:rgba(var(--bs-primary-rgb),.05)}.stat-item[_ngcontent-%COMP%]:hover   .stat-number[_ngcontent-%COMP%]{transform:scale(1.1);text-shadow:0 2px 10px rgba(var(--bs-primary-rgb),.3)}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-family:var(--font-secondary);font-weight:800;line-height:1;transition:var(--transition-smooth);background:linear-gradient(135deg,var(--bs-primary),var(--accent-color));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600;line-height:1.3;font-size:.9rem}.about-section[_ngcontent-%COMP%]   .bi-person-workspace[_ngcontent-%COMP%]{position:absolute;top:10%;left:5%;font-size:15rem;color:rgba(var(--bs-primary-rgb),.03);transform:rotate(-15deg);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite;z-index:0}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(-15deg)}50%{transform:translateY(-20px) rotate(-12deg)}}@media (max-width: 991.98px){.about-section[_ngcontent-%COMP%]{min-height:auto;padding:4rem 0}.credential-badge.credential-1[_ngcontent-%COMP%]{right:-10%;top:5%}.credential-badge.credential-2[_ngcontent-%COMP%]{left:-10%;bottom:10%}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.about-content[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.1rem}.professional-stats[_ngcontent-%COMP%]{margin-top:3rem;padding:1.5rem}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2.5rem}}@media (max-width: 767.98px){.credential-badge[_ngcontent-%COMP%]{display:none}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.about-content[_ngcontent-%COMP%]   .section-badge[_ngcontent-%COMP%]{text-align:center}.expertise-areas[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{margin-bottom:1rem}.about-section[_ngcontent-%COMP%]   .bi-person-workspace[_ngcontent-%COMP%]{font-size:8rem;opacity:.5}}']})};var sy=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wn({type:n,selectors:[["app-contact-info"]],decls:98,vars:0,consts:[["id","contact",1,"contact-section","py-5","bg-dark","text-white","position-relative","overflow-hidden","pt-5"],[1,"container","mt-5"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-warning","text-dark","px-3","py-2","rounded-pill"],[1,"bi","bi-telephone-fill","me-2"],[1,"display-5","fw-bold","mb-4"],[1,"lead","text-white-50"],[1,"row","g-4","justify-content-center"],[1,"col-lg-4","col-md-6"],[1,"contact-card","h-100","bg-white","bg-opacity-10","rounded-4","p-4","text-center","backdrop-blur"],[1,"contact-icon","mb-4"],[1,"icon-wrapper","bg-success","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-whatsapp","text-white","fs-2"],[1,"fw-bold","mb-3"],[1,"text-white-50","mb-4"],["href","https://wa.me/tu-numero","target","_blank",1,"btn","btn-success","btn-lg","w-100","shadow-sm"],[1,"bi","bi-whatsapp","me-2"],[1,"icon-wrapper","bg-primary","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-facebook","text-white","fs-2"],["href","https://facebook.com/tu-pagina","target","_blank",1,"btn","btn-primary","btn-lg","w-100","shadow-sm"],[1,"bi","bi-facebook","me-2"],[1,"icon-wrapper","bg-warning","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-envelope-fill","text-white","fs-2"],["href","mailto:tu.email@example.com",1,"btn","btn-warning","btn-lg","w-100","shadow-sm","text-dark"],[1,"bi","bi-envelope-fill","me-2"],[1,"row","justify-content-center","mt-5"],[1,"col-lg-10"],[1,"additional-info","bg-white","bg-opacity-5","rounded-4","p-4","p-lg-5","backdrop-blur"],[1,"row","align-items-center"],[1,"col-lg-8","mb-4","mb-lg-0"],[1,"text-white-50","mb-0"],[1,"col-lg-4","text-center"],[1,"cta-buttons"],["href","https://wa.me/tu-numero?text=Hola,%20me%20interesa%20una%20cotizaci\xF3n%20para%20capacitaci\xF3n","target","_blank",1,"btn","btn-outline-warning","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-calculator","me-2"],[1,"credentials-footer"],[1,"row","g-4","justify-content-center","align-items-center"],[1,"col-auto"],[1,"credential-item","d-flex","align-items-center"],[1,"credential-icon","bg-white","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-warning"],[1,"text-start"],[1,"mb-0","fw-semibold"],[1,"text-white-50"],[1,"bi","bi-building","text-warning"],[1,"bi","bi-award-fill","text-warning"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-telephone-fill","text-warning",2,"font-size","15rem"],[1,"position-absolute","bottom-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-chat-dots-fill","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(K(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),Be(6,"i",6),F(7,"Contacto Profesional "),J()(),K(8,"h2",7),F(9,"\xBFListo para transformar tu organizaci\xF3n?"),J(),K(10,"p",8),F(11," Conecta conmigo para dise\xF1ar un programa de capacitaci\xF3n personalizado que impulse el crecimiento de tu equipo y organizaci\xF3n. "),J()()(),K(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),Be(17,"i",14),J()(),K(18,"h4",15),F(19,"WhatsApp"),J(),K(20,"p",16),F(21," Conecta directamente conmigo para una consulta r\xE1pida y personalizada. "),J(),K(22,"a",17),Be(23,"i",18),F(24,"+51 9XX XXX XXX "),J()()(),K(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",19),Be(29,"i",20),J()(),K(30,"h4",15),F(31,"Facebook"),J(),K(32,"p",16),F(33," S\xEDgueme en redes sociales para contenido profesional y actualizaciones. "),J(),K(34,"a",21),Be(35,"i",22),F(36,"Seguir en Facebook "),J()()(),K(37,"div",10)(38,"div",11)(39,"div",12)(40,"div",23),Be(41,"i",24),J()(),K(42,"h4",15),F(43,"Email"),J(),K(44,"p",16),F(45," Env\xEDame un correo detallado con tus necesidades de capacitaci\xF3n. "),J(),K(46,"a",25),Be(47,"i",26),F(48,"Enviar Email "),J()()()(),K(49,"div",27)(50,"div",28)(51,"div",29)(52,"div",30)(53,"div",31)(54,"h4",15),F(55,"\xBFNecesitas una cotizaci\xF3n personalizada?"),J(),K(56,"p",32),F(57," Cu\xE9ntame sobre tu organizaci\xF3n, objetivos y necesidades espec\xEDficas. Dise\xF1ar\xE9 una propuesta de capacitaci\xF3n adaptada a tu presupuesto y cronograma. "),J()(),K(58,"div",33)(59,"div",34)(60,"a",35),Be(61,"i",36),F(62,"Solicitar Cotizaci\xF3n "),J()()()()()()(),K(63,"div",27)(64,"div",3)(65,"div",37)(66,"div",38)(67,"div",39)(68,"div",40)(69,"div",41),Be(70,"i",42),J(),K(71,"div",43)(72,"h6",44),F(73,"Colegiatura"),J(),K(74,"small",45),F(75,"C.Ps.P. N\xB0 64179"),J()()()(),K(76,"div",39)(77,"div",40)(78,"div",41),Be(79,"i",46),J(),K(80,"div",43)(81,"h6",44),F(82,"RUC"),J(),K(83,"small",45),F(84,"10758489677"),J()()()(),K(85,"div",39)(86,"div",40)(87,"div",41),Be(88,"i",47),J(),K(89,"div",43)(90,"h6",44),F(91,"Especialista"),J(),K(92,"small",45),F(93,"Desarrollo Humano"),J()()()()()()()()(),K(94,"div",48),Be(95,"i",49),J(),K(96,"div",50),Be(97,"i",51),J()())},styles:['.contact-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--text-primary) 0%,rgba(26,54,93,.95) 100%);position:relative;min-height:90vh;display:flex;align-items:center}.contact-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 80% 20%,rgba(var(--bs-warning-rgb),.1) 0%,transparent 50%),radial-gradient(circle at 20% 80%,rgba(var(--bs-primary-rgb),.1) 0%,transparent 50%),linear-gradient(135deg,#1a365de6,#4a5568cc);z-index:1}.contact-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.section-badge[_ngcontent-%COMP%]{animation:fadeInUp .8s var(--ease-out-quart) .1s both}.section-badge[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;letter-spacing:.5px;border:1px solid rgba(var(--bs-warning-rgb),.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:var(--transition-smooth)}.section-badge[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 8px 25px rgba(var(--bs-warning-rgb),.4);background:var(--bs-warning)!important;color:var(--bs-dark)!important}h2[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) .3s both;font-family:var(--font-secondary);font-weight:700;text-shadow:0 2px 10px rgba(0,0,0,.3)}.lead[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) .5s both;font-size:1.2rem;line-height:1.6}.backdrop-blur[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:2px solid rgba(255,255,255,.15);background:#ffffff14!important}.contact-card[_ngcontent-%COMP%]{transition:var(--transition-smooth);position:relative;overflow:hidden}.contact-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--bs-primary),var(--accent-color),var(--bs-warning));transform:translate(-100%);transition:var(--transition-smooth)}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-15px) scale(1.05);background:#ffffff2e!important;box-shadow:0 25px 50px #0006,0 0 30px rgba(var(--bs-primary-rgb),.3);border-color:#ffffff4d}.contact-card[_ngcontent-%COMP%]:hover:before{transform:translate(0)}.contact-card[_ngcontent-%COMP%]:hover   .contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.2) rotate(10deg);box-shadow:0 15px 35px #0006}.contact-card[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]{color:var(--bs-warning)}.contact-card[_ngcontent-%COMP%]:hover   .btn[_ngcontent-%COMP%]{transform:translateY(-3px);box-shadow:0 10px 25px #0000004d}.contact-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--bs-white);font-family:var(--font-secondary);font-weight:700;transition:var(--transition-smooth)}.contact-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;line-height:1.6;font-size:1rem}.contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:var(--transition-smooth);box-shadow:0 10px 30px #0000004d;border:3px solid rgba(255,255,255,.2)}.contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem!important}.btn[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.5px;border:2px solid transparent;transition:var(--transition-smooth)}.btn.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e);border-color:#25d366}.btn.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#128c7e,#25d366);transform:translateY(-3px);box-shadow:0 10px 25px #25d36666}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1877f2,#42a5f5);border-color:#1877f2}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#42a5f5,#1877f2);transform:translateY(-3px);box-shadow:0 10px 25px #1877f266}.btn.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--bs-warning),#FFB74D);border-color:var(--bs-warning);color:var(--bs-dark)!important}.btn.btn-warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#FFB74D,var(--bs-warning));transform:translateY(-3px);box-shadow:0 10px 25px rgba(var(--bs-warning-rgb),.4)}.btn.btn-outline-warning[_ngcontent-%COMP%]{border-color:var(--bs-warning);color:var(--bs-warning);background:rgba(var(--bs-warning-rgb),.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn.btn-outline-warning[_ngcontent-%COMP%]:hover{background:var(--bs-warning);color:var(--bs-dark);transform:translateY(-3px);box-shadow:0 10px 25px rgba(var(--bs-warning-rgb),.4)}.additional-info[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.15);background:#ffffff0d!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);animation:fadeInUp 1s var(--ease-out-quart) .7s both}.additional-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--bs-white);font-family:var(--font-secondary);font-weight:700}.additional-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:1.05rem;line-height:1.6}.credentials-footer[_ngcontent-%COMP%]{animation:fadeInUp 1s var(--ease-out-quart) .9s both}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{transition:var(--transition-smooth);padding:1rem;border-radius:var(--border-radius)}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05);background:#ffffff1a}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover   .credential-icon[_ngcontent-%COMP%]{transform:scale(1.2) rotate(5deg);background:rgba(var(--bs-warning-rgb),.3)!important}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--bs-white);font-weight:600;font-size:1rem}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ffffffb3;font-weight:500}.credentials-footer[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{width:45px;height:45px;display:flex;align-items:center;justify-content:center;transition:var(--transition-smooth);border:2px solid rgba(255,255,255,.2)}.credentials-footer[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--bs-warning)!important}.contact-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px);animation:_ngcontent-%COMP%_slideInUp 1s var(--ease-out-quart) forwards}.contact-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.contact-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.4s}.contact-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}.contact-section[_ngcontent-%COMP%]   .bi-telephone-fill[_ngcontent-%COMP%]{position:absolute;top:10%;right:3%;font-size:20rem;color:rgba(var(--bs-warning-rgb),.05);transform:rotate(15deg);animation:_ngcontent-%COMP%_float 10s ease-in-out infinite;z-index:0}.contact-section[_ngcontent-%COMP%]   .bi-chat-dots-fill[_ngcontent-%COMP%]{position:absolute;bottom:5%;left:3%;font-size:16rem;color:rgba(var(--bs-primary-rgb),.05);transform:rotate(-15deg);animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse;z-index:0}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(15deg)}50%{transform:translateY(-30px) rotate(18deg)}}@media (max-width: 991.98px){.contact-section[_ngcontent-%COMP%]{min-height:auto;padding:4rem 0}.contact-card[_ngcontent-%COMP%]{margin-bottom:2rem}.additional-info[_ngcontent-%COMP%]{margin-top:3rem;padding:2rem 1.5rem}.credentials-footer[_ngcontent-%COMP%]{margin-top:3rem}.credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}.bi-telephone-fill[_ngcontent-%COMP%]{font-size:12rem!important;top:5%!important}.bi-chat-dots-fill[_ngcontent-%COMP%]{font-size:10rem!important;bottom:2%!important}}@media (max-width: 767.98px){.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02)}.credential-item[_ngcontent-%COMP%]{justify-content:center;text-align:center;margin-bottom:1.5rem}.additional-info[_ngcontent-%COMP%]{text-align:center}.additional-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem}.contact-section[_ngcontent-%COMP%]   .bi-telephone-fill[_ngcontent-%COMP%], .contact-section[_ngcontent-%COMP%]   .bi-chat-dots-fill[_ngcontent-%COMP%]{display:none}}']})};var ay=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wn({type:n,selectors:[["app-landing-page"]],decls:5,vars:0,consts:[[1,"landing-page"]],template:function(t,r){t&1&&(re(0,"div",0),Ve(1,"app-banner")(2,"app-workshops-promo")(3,"app-about-me")(4,"app-contact-info"),de())},dependencies:[ry,iy,oy,sy],styles:[".landing-page[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{position:relative;transition:var(--transition-smooth)}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7fafc}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}.landing-page[_ngcontent-%COMP%]   .fade-in-section[_ngcontent-%COMP%]{opacity:0;transform:translateY(40px);transition:all .8s cubic-bezier(.4,0,.2,1)}.landing-page[_ngcontent-%COMP%]   .fade-in-section.is-visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.landing-page[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{height:1px;background:linear-gradient(90deg,transparent 0%,var(--color-gray-lighter) 50%,transparent 100%);margin:0 auto;width:60%}@media (prefers-reduced-motion: no-preference){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);transition:all .6s cubic-bezier(.4,0,.2,1)}.landing-page[_ngcontent-%COMP%]   .parallax-element[_ngcontent-%COMP%]{will-change:transform;transition:transform .1s ease-out}}.landing-page[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{z-index:1}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] + section[_ngcontent-%COMP%]{margin-top:0;border-top:none}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:var(--color-gray);font-size:1.125rem;font-weight:400;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.1em}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--color-navy);font-weight:700;margin-bottom:1rem}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{color:var(--color-gray);font-size:1.125rem;line-height:1.7;max-width:600px;margin:0 auto}@media (max-width: 1199.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:4rem!important;padding-bottom:4rem!important}}@media (max-width: 991.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:3.5rem!important;padding-bottom:3.5rem!important}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 767.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.75rem}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 575.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:2.5rem!important;padding-bottom:2.5rem!important}}@media (prefers-reduced-motion: reduce){.landing-page[_ngcontent-%COMP%]{scroll-behavior:auto}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%], .landing-page[_ngcontent-%COMP%]   .fade-in-section[_ngcontent-%COMP%], .landing-page[_ngcontent-%COMP%]   .parallax-element[_ngcontent-%COMP%]{transition:none!important;animation:none!important;transform:none!important}}@media print{.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid;padding:1rem 0!important}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:nth-child(2n), .landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff!important}.landing-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var z6=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ct(Ds),ct(Ei))};static \u0275dir=Kn({type:n})}return n})(),hy=(()=>{class n extends z6{static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275dir=Kn({type:n,features:[ho]})}return n})(),Gp=new nt("");var Qz={provide:Gp,useExisting:ro(()=>fy),multi:!0};function Jz(){let n=go()?go().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var eH=new nt(""),fy=(()=>{class n extends z6{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Jz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ct(Ds),ct(Ei),ct(eH,8))};static \u0275dir=Kn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&rt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Da([Qz]),ho]})}return n})();var aS=new nt(""),tH=new nt("");function nH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function rH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function N6(n){return null}function H6(n){return n!=null}function q6(n){return Dl(n)?Yn(n):n}function $6(n){let e={};return n.forEach(t=>{e=t!=null?Ae(Ae({},e),t):e}),Object.keys(e).length===0?null:e}function G6(n,e){return e.map(t=>t(n))}function iH(n){return!n.validate}function W6(n){return n.map(e=>iH(e)?e:t=>e.validate(t))}function oH(n){if(!n)return null;let e=n.filter(H6);return e.length==0?null:function(t){return $6(G6(t,e))}}function Y6(n){return n!=null?oH(W6(n)):null}function sH(n){if(!n)return null;let e=n.filter(H6);return e.length==0?null:function(t){let r=G6(t,e).map(q6);return zb(r).pipe(wt($6))}}function K6(n){return n!=null?sH(W6(n)):null}function k6(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aH(n){return n._rawValidators}function lH(n){return n._rawAsyncValidators}function rS(n){return n?Array.isArray(n)?n:[n]:[]}function cy(n,e){return Array.isArray(n)?n.includes(e):n===e}function R6(n,e){let t=rS(e);return rS(n).forEach(i=>{cy(t,i)||t.push(i)}),t}function L6(n,e){return rS(e).filter(t=>!cy(n,t))}var uy=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Y6(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=K6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},iS=class extends uy{name;get formDirective(){return null}get path(){return null}},$p=class extends uy{_parent=null;name=null;valueAccessor=null},oS=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ige=Et(Ae({},cH),{"[class.ng-submitted]":"isSubmitted"}),X6=(()=>{class n extends oS{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ct($p,2))};static \u0275dir=Kn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&xr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ho]})}return n})();var Vp="VALID",ly="INVALID",th="PENDING",zp="DISABLED",rh=class{},dy=class extends rh{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Hp=class extends rh{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},qp=class extends rh{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},nh=class extends rh{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function uH(n){return(py(n)?n.validators:n)||null}function dH(n){return Array.isArray(n)?Y6(n):n||null}function hH(n,e){return(py(e)?e.asyncValidators:n)||null}function fH(n){return Array.isArray(n)?K6(n):n||null}function py(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var sS=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Go(this.statusReactive)}set status(e){Go(()=>this.statusReactive.set(e))}_status=tp(()=>this.statusReactive());statusReactive=Ss(void 0);get valid(){return this.status===Vp}get invalid(){return this.status===ly}get pending(){return this.status==th}get disabled(){return this.status===zp}get enabled(){return this.status!==zp}errors;get pristine(){return Go(this.pristineReactive)}set pristine(e){Go(()=>this.pristineReactive.set(e))}_pristine=tp(()=>this.pristineReactive());pristineReactive=Ss(!0);get dirty(){return!this.pristine}get touched(){return Go(this.touchedReactive)}set touched(e){Go(()=>this.touchedReactive.set(e))}_touched=tp(()=>this.touchedReactive());touchedReactive=Ss(!1);get untouched(){return!this.touched}_events=new rr;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(R6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(R6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(L6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(L6(e,this._rawAsyncValidators))}hasValidator(e){return cy(this._rawValidators,e)}hasAsyncValidator(e){return cy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Et(Ae({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qp(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new qp(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Et(Ae({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Hp(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Hp(!0,r))}markAsPending(e={}){this.status=th;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nh(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Et(Ae({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zp,this.errors=null,this._forEachChild(i=>{i.disable(Et(Ae({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dy(this.value,r)),this._events.next(new nh(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Et(Ae({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vp,this._forEachChild(r=>{r.enable(Et(Ae({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Et(Ae({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vp||this.status===th)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dy(this.value,t)),this._events.next(new nh(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Et(Ae({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zp:Vp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=th,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=q6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new nh(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Er,this.statusChanges=new Er}_calculateStatus(){return this._allControlsDisabled()?zp:this.errors?ly:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(th)?th:this._anyControlsHaveStatus(ly)?ly:Vp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Hp(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new qp(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){py(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fH(this._rawAsyncValidators)}};var Z6=new nt("",{providedIn:"root",factory:()=>lS}),lS="always";function pH(n,e){return[...e.path,n]}function gH(n,e,t=lS){vH(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),yH(n,e),bH(n,e),_H(n,e),mH(n,e)}function F6(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function vH(n,e){let t=aH(n);e.validator!==null?n.setValidators(k6(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lH(n);e.asyncValidator!==null?n.setAsyncValidators(k6(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();F6(e._rawValidators,i),F6(e._rawAsyncValidators,i)}function yH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Q6(n,e)})}function _H(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Q6(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Q6(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function wH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function CH(n){return Object.getPrototypeOf(n.constructor)===hy}function EH(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===fy?t=o:CH(o)?r=o:i=o}),i||r||t||null}function j6(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function B6(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var SH=class extends sS{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(uH(t),hH(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),py(t)&&(t.nonNullable||t.initialValueIsDefault)&&(B6(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){j6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){j6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){B6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xH={provide:$p,useExisting:ro(()=>cS)},U6=Promise.resolve(),cS=(()=>{class n extends $p{_changeDetectorRef;callSetDisabledState;control=new SH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Er;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EH(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),wH(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){U6.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Fc(r);U6.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?pH(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ct(iS,9),ct(aS,10),ct(tH,10),ct(Gp,10),ct(Is,8),ct(Z6,8))};static \u0275dir=Kn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Da([xH]),ho,Ea]})}return n})();var MH={provide:Gp,useExisting:ro(()=>uS),multi:!0},uS=(()=>{class n extends hy{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275dir=Kn({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&rt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Da([MH]),ho]})}return n})();var PH={provide:Gp,useExisting:ro(()=>gy),multi:!0};function J6(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function DH(n){return n.split(":")[0]}var gy=(()=>{class n extends hy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=Pe(Ma).injector;appRefDestroyRef=this.appRefInjector.get(uo);destroyRef=Pe(uo);cdr=Pe(Is);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,R1({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=J6(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=DH(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275dir=Kn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&rt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Da([PH]),ho]})}return n})(),eI=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(J6(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(ct(Ei),ct(Ds),ct(gy,9))};static \u0275dir=Kn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),OH={provide:Gp,useExisting:ro(()=>tI),multi:!0};function V6(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function AH(n){return n.split(":")[0]}var tI=(()=>{class n extends hy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=AH(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275dir=Kn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&rt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Da([OH]),ho]})}return n})(),nI=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(V6(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(V6(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ct(Ei),ct(Ds),ct(tI,9))};static \u0275dir=Kn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function rI(n){return typeof n=="number"?n:parseFloat(n)}var iI=(()=>{class n{_validator=N6;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):N6,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Kn({type:n,features:[Ea]})}return n})(),IH={provide:aS,useExisting:ro(()=>dS),multi:!0},dS=(()=>{class n extends iI{max;inputName="max";normalizeInput=t=>rI(t);createValidator=t=>rH(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275dir=Kn({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&fo("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Da([IH]),ho]})}return n})(),TH={provide:aS,useExisting:ro(()=>hS),multi:!0},hS=(()=>{class n extends iI{min;inputName="min";normalizeInput=t=>rI(t);createValidator=t=>nH(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275dir=Kn({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&fo("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Da([TH]),ho]})}return n})();var NH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$o({type:n});static \u0275inj=io({})}return n})();var oI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Z6,useValue:t.callSetDisabledState??lS}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=$o({type:n});static \u0275inj=io({imports:[NH]})}return n})();var Ai=Cb(P8());var Jr=Uint8Array,Yi=Uint16Array,w3=Int32Array,T2=new Jr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),N2=new Jr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),v3=new Jr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I8=function(n,e){for(var t=new Yi(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new w3(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},T8=I8(T2,2),N8=T8.b,y3=T8.r;N8[28]=258,y3[258]=28;var k8=I8(N2,0),kY=k8.b,D8=k8.r,_3=new Yi(32768);for(mn=0;mn<32768;++mn)Ga=(mn&43690)>>1|(mn&21845)<<1,Ga=(Ga&52428)>>2|(Ga&13107)<<2,Ga=(Ga&61680)>>4|(Ga&3855)<<4,_3[mn]=((Ga&65280)>>8|(Ga&255)<<8)>>1;var Ga,mn,Gs=function(n,e,t){for(var r=n.length,i=0,o=new Yi(e);i<r;++i)n[i]&&++o[n[i]-1];var s=new Yi(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new Yi(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],d=e-n[i],h=s[n[i]-1]++<<d,g=h|(1<<d)-1;h<=g;++h)a[_3[h]>>l]=c}else for(a=new Yi(r),i=0;i<r;++i)n[i]&&(a[i]=_3[s[n[i]-1]++]>>15-n[i]);return a},Wl=new Jr(288);for(mn=0;mn<144;++mn)Wl[mn]=8;var mn;for(mn=144;mn<256;++mn)Wl[mn]=9;var mn;for(mn=256;mn<280;++mn)Wl[mn]=7;var mn;for(mn=280;mn<288;++mn)Wl[mn]=8;var mn,vg=new Jr(32);for(mn=0;mn<32;++mn)vg[mn]=5;var mn,RY=Gs(Wl,9,0),LY=Gs(Wl,9,1),FY=Gs(vg,5,0),jY=Gs(vg,5,1),p3=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},os=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},g3=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},C3=function(n){return(n+7)/8|0},R8=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new Jr(n.subarray(e,t))};var BY=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ss=function(n,e,t){var r=new Error(e||BY[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,ss),!t)throw r;return r},UY=function(n,e,t,r){var i=n.length,o=r?r.length:0;if(!i||e.f&&!e.l)return t||new Jr(0);var s=!t,a=s||e.i!=2,l=e.i;s&&(t=new Jr(i*3));var c=function(Le){var Ke=t.length;if(Le>Ke){var Ge=new Jr(Math.max(Ke*2,Le));Ge.set(t),t=Ge}},d=e.f||0,h=e.p||0,g=e.b||0,f=e.l,y=e.d,_=e.m,C=e.n,w=i*8;do{if(!f){d=os(n,h,1);var E=os(n,h+1,3);if(h+=3,E)if(E==1)f=LY,y=jY,_=9,C=5;else if(E==2){var X=os(n,h,31)+257,z=os(n,h+10,15)+4,B=X+os(n,h+5,31)+1;h+=14;for(var le=new Jr(B),he=new Jr(19),k=0;k<z;++k)he[v3[k]]=os(n,h+k*3,7);h+=z*3;for(var I=p3(he),W=(1<<I)-1,G=Gs(he,I,1),k=0;k<B;){var _e=G[os(n,h,W)];h+=_e&15;var O=_e>>4;if(O<16)le[k++]=O;else{var Y=0,ie=0;for(O==16?(ie=3+os(n,h,3),h+=2,Y=le[k-1]):O==17?(ie=3+os(n,h,7),h+=3):O==18&&(ie=11+os(n,h,127),h+=7);ie--;)le[k++]=Y}}var H=le.subarray(0,X),se=le.subarray(X);_=p3(H),C=p3(se),f=Gs(H,_,1),y=Gs(se,C,1)}else ss(1);else{var O=C3(h)+4,N=n[O-4]|n[O-3]<<8,q=O+N;if(q>i){l&&ss(0);break}a&&c(g+N),t.set(n.subarray(O,q),g),e.b=g+=N,e.p=h=q*8,e.f=d;continue}if(h>w){l&&ss(0);break}}a&&c(g+131072);for(var ge=(1<<_)-1,Re=(1<<C)-1,M=h;;M=h){var Y=f[g3(n,h)&ge],L=Y>>4;if(h+=Y&15,h>w){l&&ss(0);break}if(Y||ss(2),L<256)t[g++]=L;else if(L==256){M=h,f=null;break}else{var U=L-254;if(L>264){var k=L-257,Z=T2[k];U=os(n,h,(1<<Z)-1)+N8[k],h+=Z}var ae=y[g3(n,h)&Re],fe=ae>>4;ae||ss(3),h+=ae&15;var se=kY[fe];if(fe>3){var Z=N2[fe];se+=g3(n,h)&(1<<Z)-1,h+=Z}if(h>w){l&&ss(0);break}a&&c(g+131072);var be=g+U;if(g<se){var me=o-se,Fe=Math.min(se,be);for(me+g<0&&ss(3);g<Fe;++g)t[g]=r[me+g]}for(;g<be;++g)t[g]=t[g-se]}}e.l=f,e.p=M,e.b=g,e.f=d,f&&(d=1,e.m=_,e.d=y,e.n=C)}while(!d);return g!=t.length&&s?R8(t,0,g):t.subarray(0,g)},Wa=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},gg=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},m3=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:F8,l:0};if(i==1){var s=new Jr(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(q,X){return q.f-X.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,d=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=d&&t[c].f<t[h].f?c++:h++],t[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=o[0].s,r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var f=new Yi(g+1),y=b3(t[d-1],f,0);if(y>e){var r=0,_=0,C=y-e,w=1<<C;for(o.sort(function(X,z){return f[z.s]-f[X.s]||X.f-z.f});r<i;++r){var E=o[r].s;if(f[E]>e)_+=w-(1<<y-f[E]),f[E]=e;else break}for(_>>=C;_>0;){var O=o[r].s;f[O]<e?_-=1<<e-f[O]++-1:++r}for(;r>=0&&_;--r){var N=o[r].s;f[N]==e&&(--f[N],++_)}y=e}return{t:new Jr(f),l:y}},b3=function(n,e,t){return n.s==-1?Math.max(b3(n.l,e,t+1),b3(n.r,e,t+1)):e[n.s]=t},O8=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Yi(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},mg=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},L8=function(n,e,t){var r=t.length,i=C3(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},A8=function(n,e,t,r,i,o,s,a,l,c,d){Wa(e,d++,t),++i[256];for(var h=m3(i,15),g=h.t,f=h.l,y=m3(o,15),_=y.t,C=y.l,w=O8(g),E=w.c,O=w.n,N=O8(_),q=N.c,X=N.n,z=new Yi(19),B=0;B<E.length;++B)++z[E[B]&31];for(var B=0;B<q.length;++B)++z[q[B]&31];for(var le=m3(z,7),he=le.t,k=le.l,I=19;I>4&&!he[v3[I-1]];--I);var W=c+5<<3,G=mg(i,Wl)+mg(o,vg)+s,_e=mg(i,g)+mg(o,_)+s+14+3*I+mg(z,he)+2*z[16]+3*z[17]+7*z[18];if(l>=0&&W<=G&&W<=_e)return L8(e,d,n.subarray(l,l+c));var Y,ie,H,se;if(Wa(e,d,1+(_e<G)),d+=2,_e<G){Y=Gs(g,f,0),ie=g,H=Gs(_,C,0),se=_;var ge=Gs(he,k,0);Wa(e,d,O-257),Wa(e,d+5,X-1),Wa(e,d+10,I-4),d+=14;for(var B=0;B<I;++B)Wa(e,d+3*B,he[v3[B]]);d+=3*I;for(var Re=[E,q],M=0;M<2;++M)for(var L=Re[M],B=0;B<L.length;++B){var U=L[B]&31;Wa(e,d,ge[U]),d+=he[U],U>15&&(Wa(e,d,L[B]>>5&127),d+=L[B]>>12)}}else Y=RY,ie=Wl,H=FY,se=vg;for(var B=0;B<a;++B){var Z=r[B];if(Z>255){var U=Z>>18&31;gg(e,d,Y[U+257]),d+=ie[U+257],U>7&&(Wa(e,d,Z>>23&31),d+=T2[U]);var ae=Z&31;gg(e,d,H[ae]),d+=se[ae],ae>3&&(gg(e,d,Z>>5&8191),d+=N2[ae])}else gg(e,d,Y[Z]),d+=ie[Z]}return gg(e,d,Y[256]),d+ie[256]},VY=new w3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F8=new Jr(0),zY=function(n,e,t,r,i,o){var s=o.z||n.length,a=new Jr(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,d=(o.r||0)&7;if(e){d&&(l[0]=o.r>>3);for(var h=VY[e-1],g=h>>13,f=h&8191,y=(1<<t)-1,_=o.p||new Yi(32768),C=o.h||new Yi(y+1),w=Math.ceil(t/3),E=2*w,O=function(mt){return(n[mt]^n[mt+1]<<w^n[mt+2]<<E)&y},N=new w3(25e3),q=new Yi(288),X=new Yi(32),z=0,B=0,le=o.i||0,he=0,k=o.w||0,I=0;le+2<s;++le){var W=O(le),G=le&32767,_e=C[W];if(_[G]=_e,C[W]=G,k<=le){var Y=s-le;if((z>7e3||he>24576)&&(Y>423||!c)){d=A8(n,l,0,N,q,X,B,he,I,le-I,d),he=z=B=0,I=le;for(var ie=0;ie<286;++ie)q[ie]=0;for(var ie=0;ie<30;++ie)X[ie]=0}var H=2,se=0,ge=f,Re=G-_e&32767;if(Y>2&&W==O(le-Re))for(var M=Math.min(g,Y)-1,L=Math.min(32767,le),U=Math.min(258,Y);Re<=L&&--ge&&G!=_e;){if(n[le+H]==n[le+H-Re]){for(var Z=0;Z<U&&n[le+Z]==n[le+Z-Re];++Z);if(Z>H){if(H=Z,se=Re,Z>M)break;for(var ae=Math.min(Re,Z-2),fe=0,ie=0;ie<ae;++ie){var be=le-Re+ie&32767,me=_[be],Fe=be-me&32767;Fe>fe&&(fe=Fe,_e=be)}}}G=_e,_e=_[G],Re+=G-_e&32767}if(se){N[he++]=268435456|y3[H]<<18|D8[se];var Le=y3[H]&31,Ke=D8[se]&31;B+=T2[Le]+N2[Ke],++q[257+Le],++X[Ke],k=le+H,++z}else N[he++]=n[le],++q[n[le]]}}for(le=Math.max(le,k);le<s;++le)N[he++]=n[le],++q[n[le]];d=A8(n,l,c,N,q,X,B,he,I,le-I,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=C,o.p=_,o.i=le,o.w=k)}else{for(var le=o.w||0;le<s+c;le+=65535){var Ge=le+65535;Ge>=s&&(l[d/8|0]=c,Ge=s),d=L8(l,d+1,n.subarray(le,Ge))}o.i=s}return R8(a,0,r+C3(d)+i)};var j8=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},HY=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Jr(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return zY(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var B8=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var qY=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=j8();i.p(e.dictionary),B8(n,2,i.d())}},$Y=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ss(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&ss(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function k2(n,e){e||(e={});var t=j8();t.p(n);var r=HY(n,e,e.dictionary?6:2,4);return qY(r,e),B8(r,r.length-4,t.d()),r}function U8(n,e){return UY(n.subarray($Y(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var GY=typeof TextDecoder<"u"&&new TextDecoder,WY=0;try{GY.decode(F8,{stream:!0}),WY=1}catch{}var Ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function E3(){Ct.console&&typeof Ct.console.log=="function"&&Ct.console.log.apply(Ct.console,arguments)}var An={log:E3,warn:function(n){Ct.console&&(typeof Ct.console.warn=="function"?Ct.console.warn.apply(Ct.console,arguments):E3.call(null,arguments))},error:function(n){Ct.console&&(typeof Ct.console.error=="function"?Ct.console.error.apply(Ct.console,arguments):E3(n))}};function S3(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ru(r.response,e,t)},r.onerror=function(){An.error("could not download file")},r.send()}function V8(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function R2(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var yg,O3,ru=Ct.saveAs||((typeof window>"u"?"undefined":Sn(window))!=="object"||window!==Ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ct.URL||Ct.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?V8(i.href)?S3(n,e,t):R2(i,i.target="_blank"):R2(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){R2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(V8(n))S3(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){R2(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:Sn(o)!=="object"&&(An.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return S3(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(Ct.HTMLElement)||Ct.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":Sn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(n)}else{var l=Ct.URL||Ct.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function iN(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,s=i.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function x3(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=ei(t,r,i,o,e[0],7,-680876936),o=ei(o,t,r,i,e[1],12,-389564586),i=ei(i,o,t,r,e[2],17,606105819),r=ei(r,i,o,t,e[3],22,-1044525330),t=ei(t,r,i,o,e[4],7,-176418897),o=ei(o,t,r,i,e[5],12,1200080426),i=ei(i,o,t,r,e[6],17,-1473231341),r=ei(r,i,o,t,e[7],22,-45705983),t=ei(t,r,i,o,e[8],7,1770035416),o=ei(o,t,r,i,e[9],12,-1958414417),i=ei(i,o,t,r,e[10],17,-42063),r=ei(r,i,o,t,e[11],22,-1990404162),t=ei(t,r,i,o,e[12],7,1804603682),o=ei(o,t,r,i,e[13],12,-40341101),i=ei(i,o,t,r,e[14],17,-1502002290),t=ti(t,r=ei(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=ti(o,t,r,i,e[6],9,-1069501632),i=ti(i,o,t,r,e[11],14,643717713),r=ti(r,i,o,t,e[0],20,-373897302),t=ti(t,r,i,o,e[5],5,-701558691),o=ti(o,t,r,i,e[10],9,38016083),i=ti(i,o,t,r,e[15],14,-660478335),r=ti(r,i,o,t,e[4],20,-405537848),t=ti(t,r,i,o,e[9],5,568446438),o=ti(o,t,r,i,e[14],9,-1019803690),i=ti(i,o,t,r,e[3],14,-187363961),r=ti(r,i,o,t,e[8],20,1163531501),t=ti(t,r,i,o,e[13],5,-1444681467),o=ti(o,t,r,i,e[2],9,-51403784),i=ti(i,o,t,r,e[7],14,1735328473),t=ni(t,r=ti(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=ni(o,t,r,i,e[8],11,-2022574463),i=ni(i,o,t,r,e[11],16,1839030562),r=ni(r,i,o,t,e[14],23,-35309556),t=ni(t,r,i,o,e[1],4,-1530992060),o=ni(o,t,r,i,e[4],11,1272893353),i=ni(i,o,t,r,e[7],16,-155497632),r=ni(r,i,o,t,e[10],23,-1094730640),t=ni(t,r,i,o,e[13],4,681279174),o=ni(o,t,r,i,e[0],11,-358537222),i=ni(i,o,t,r,e[3],16,-722521979),r=ni(r,i,o,t,e[6],23,76029189),t=ni(t,r,i,o,e[9],4,-640364487),o=ni(o,t,r,i,e[12],11,-421815835),i=ni(i,o,t,r,e[15],16,530742520),t=ri(t,r=ni(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=ri(o,t,r,i,e[7],10,1126891415),i=ri(i,o,t,r,e[14],15,-1416354905),r=ri(r,i,o,t,e[5],21,-57434055),t=ri(t,r,i,o,e[12],6,1700485571),o=ri(o,t,r,i,e[3],10,-1894986606),i=ri(i,o,t,r,e[10],15,-1051523),r=ri(r,i,o,t,e[1],21,-2054922799),t=ri(t,r,i,o,e[8],6,1873313359),o=ri(o,t,r,i,e[15],10,-30611744),i=ri(i,o,t,r,e[6],15,-1560198380),r=ri(r,i,o,t,e[13],21,1309151649),t=ri(t,r,i,o,e[4],6,-145523070),o=ri(o,t,r,i,e[11],10,-1120210379),i=ri(i,o,t,r,e[2],15,718787259),r=ri(r,i,o,t,e[9],21,-343485551),n[0]=Kl(t,n[0]),n[1]=Kl(r,n[1]),n[2]=Kl(i,n[2]),n[3]=Kl(o,n[3])}function $2(n,e,t,r,i,o){return e=Kl(Kl(e,n),Kl(r,o)),Kl(e<<i|e>>>32-i,t)}function ei(n,e,t,r,i,o,s){return $2(e&t|~e&r,n,e,i,o,s)}function ti(n,e,t,r,i,o,s){return $2(e&r|t&~r,n,e,i,o,s)}function ni(n,e,t,r,i,o,s){return $2(e^t^r,n,e,i,o,s)}function ri(n,e,t,r,i,o,s){return $2(t^(e|~r),n,e,i,o,s)}function oN(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)x3(r,YY(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(x3(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,x3(r,i),r}function YY(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}yg=Ct.atob.bind(Ct),O3=Ct.btoa.bind(Ct);var z8="0123456789abcdef".split("");function KY(n){for(var e="",t=0;t<4;t++)e+=z8[n>>8*t+4&15]+z8[n>>8*t&15];return e}function XY(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function A3(n){return oN(n).map(XY).join("")}var ZY=function(n){for(var e=0;e<n.length;e++)n[e]=KY(n[e]);return n.join("")}(oN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Kl(n,e){if(ZY){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function I3(n,e){var t,r,i,o;if(n!==t){for(var s=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}t=n,r=a}else a=r;var h=e.length,g=0,f=0,y="";for(l=0;l<h;l++)f=(f+(d=a[g=(g+1)%256]))%256,a[g]=a[f],a[f]=d,s=a[(a[g]+a[f])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}var H8={print:4,modify:8,copy:16,"annot-forms":32};function Ch(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(H8.perm!==void 0)throw new Error("Invalid permission: "+a);i+=H8[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=A3(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=I3(this.encryptionKey,this.padding)}function Eh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function q8(n){if(Sn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){Ct.console&&An.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function H2(n){if(!(this instanceof H2))return new H2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function sN(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function iu(n,e,t,r,i){if(!(this instanceof iu))return new iu(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,sN.call(this,r,i)}function Sh(n,e,t,r,i){if(!(this instanceof Sh))return new Sh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,sN.call(this,r,i)}function _t(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;Sn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=q8;var y="1.3",_=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(m){y=m};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return C};var w=f.__private__.getPageFormat=function(m){return C[m]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},O=E.COMPAT;function N(){this.saveGraphicsState(),$(new bt(T,0,0,-T,0,Qa()*T).toString()+" cm"),this.setFontSize(this.getFontSize()/T),c="n",O=E.ADVANCED}function q(){this.restoreGraphicsState(),c="S",O=E.COMPAT}var X=f.__private__.combineFontStyleAndFontWeight=function(m,x){if(m=="bold"&&x=="normal"||m=="bold"&&x==400||m=="normal"&&x=="italic"||m=="bold"&&x=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return x&&(m=x==400||x==="normal"?m==="italic"?"italic":"normal":x!=700&&x!=="bold"||m!=="normal"?(x==700?"bold":x)+""+m:"bold"),m};f.advancedAPI=function(m){var x=O===E.COMPAT;return x&&N.call(this),typeof m!="function"||(m(this),x&&q.call(this)),this},f.compatAPI=function(m){var x=O===E.ADVANCED;return x&&q.call(this),typeof m!="function"||(m(this),x&&N.call(this)),this},f.isAdvancedAPI=function(){return O===E.ADVANCED};var z,B=function(m){if(O!==E.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},le=f.roundToPrecision=f.__private__.roundToPrecision=function(m,x){var V=e||x;if(isNaN(m)||isNaN(V))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(V).replace(/0+$/,"")};z=f.hpf=f.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return le(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return le(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return le(m,16)};var he=f.f2=f.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return le(m,2)},k=f.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return le(m,3)},I=f.scale=f.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return O===E.COMPAT?m*T:O===E.ADVANCED?m:void 0},W=function(m){return O===E.COMPAT?Qa()-m:O===E.ADVANCED?m:void 0},G=function(m){return I(W(m))};f.__private__.setPrecision=f.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var _e,Y="00000000000000000000000000000000",ie=f.__private__.getFileId=function(){return Y},H=f.__private__.setFileId=function(m){return Y=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Wr=new Ch(d.userPermissions,d.userPassword,d.ownerPassword,Y)),Y};f.setFileId=function(m){return H(m),this},f.getFileId=function(){return ie()};var se=f.__private__.convertDateToPDFDate=function(m){var x=m.getTimezoneOffset(),V=x<0?"+":"-",Q=Math.floor(Math.abs(x/60)),pe=Math.abs(x%60),Ee=[V,U(Q),"'",U(pe),"'"].join("");return["D:",m.getFullYear(),U(m.getMonth()+1),U(m.getDate()),U(m.getHours()),U(m.getMinutes()),U(m.getSeconds()),Ee].join("")},ge=f.__private__.convertPDFDateToDate=function(m){var x=parseInt(m.substr(2,4),10),V=parseInt(m.substr(6,2),10)-1,Q=parseInt(m.substr(8,2),10),pe=parseInt(m.substr(10,2),10),Ee=parseInt(m.substr(12,2),10),ke=parseInt(m.substr(14,2),10);return new Date(x,V,Q,pe,Ee,ke,0)},Re=f.__private__.setCreationDate=function(m){var x;if(m===void 0&&(m=new Date),m instanceof Date)x=se(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");x=m}return _e=x},M=f.__private__.getCreationDate=function(m){var x=_e;return m==="jsDate"&&(x=ge(_e)),x};f.setCreationDate=function(m){return Re(m),this},f.getCreationDate=function(m){return M(m)};var L,U=f.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Z=f.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ae=0,fe=[],be=[],me=0,Fe=[],Le=[],Ke=!1,Ge=be,mt=function(){ae=0,me=0,be=[],fe=[],Fe=[],na=ur(),Do=ur()};f.__private__.setCustomOutputDestination=function(m){Ke=!0,Ge=m};var Se=function(m){Ke||(Ge=m)};f.__private__.resetCustomOutputDestination=function(){Ke=!1,Ge=be};var $=f.__private__.out=function(m){return m=m.toString(),me+=m.length+1,Ge.push(m),Ge},Pt=f.__private__.write=function(m){return $(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},ot=f.__private__.getArrayBuffer=function(m){for(var x=m.length,V=new ArrayBuffer(x),Q=new Uint8Array(V);x--;)Q[x]=m.charCodeAt(x);return V},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return je};var He=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(m){return He=O===E.ADVANCED?m/T:m,this};var Ze,Ye=f.__private__.getFontSize=f.getFontSize=function(){return O===E.COMPAT?He:He*T},ut=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(m){return ut=m,this},f.__private__.getR2L=f.getR2L=function(){return ut};var Mt,Tt=f.__private__.setZoomMode=function(m){var x=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ze=m;else if(isNaN(m)){if(x.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ze=m}else Ze=parseInt(m,10)};f.__private__.getZoomMode=function(){return Ze};var $t,Jt=f.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Mt=m};f.__private__.getPageMode=function(){return Mt};var hn=f.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');$t=m};f.__private__.getLayoutMode=function(){return $t},f.__private__.setDisplayMode=f.setDisplayMode=function(m,x,V){return Tt(m),hn(x),Jt(V),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(m){if(Object.keys(ht).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[m]},f.__private__.getDocumentProperties=function(){return ht},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(m){for(var x in ht)ht.hasOwnProperty(x)&&m[x]&&(ht[x]=m[x]);return this},f.__private__.setDocumentProperty=function(m,x){if(Object.keys(ht).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[m]=x};var Vt,T,ee,we,xe,Te={},qe={},lt=[],st={},Xt={},Dt={},on={},Fn=null,sn=0,yt=[],un=new q8(f),Jl=n.hotfixes||[],Br={},us={},ds=[],bt=function m(x,V,Q,pe,Ee,ke){if(!(this instanceof m))return new m(x,V,Q,pe,Ee,ke);isNaN(x)&&(x=1),isNaN(V)&&(V=0),isNaN(Q)&&(Q=0),isNaN(pe)&&(pe=1),isNaN(Ee)&&(Ee=0),isNaN(ke)&&(ke=0),this._matrix=[x,V,Q,pe,Ee,ke]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(m)},bt.prototype.multiply=function(m){var x=m.sx*this.sx+m.shy*this.shx,V=m.sx*this.shy+m.shy*this.sy,Q=m.shx*this.sx+m.sy*this.shx,pe=m.shx*this.shy+m.sy*this.sy,Ee=m.tx*this.sx+m.ty*this.shx+this.tx,ke=m.tx*this.shy+m.ty*this.sy+this.ty;return new bt(x,V,Q,pe,Ee,ke)},bt.prototype.decompose=function(){var m=this.sx,x=this.shy,V=this.shx,Q=this.sy,pe=this.tx,Ee=this.ty,ke=Math.sqrt(m*m+x*x),Qe=(m/=ke)*V+(x/=ke)*Q;V-=m*Qe,Q-=x*Qe;var gt=Math.sqrt(V*V+Q*Q);return Qe/=gt,m*(Q/=gt)<x*(V/=gt)&&(m=-m,x=-x,Qe=-Qe,ke=-ke),{scale:new bt(ke,0,0,gt,0,0),translate:new bt(1,0,0,1,pe,Ee),rotate:new bt(m,x,-x,m,0,0),skew:new bt(1,0,Qe,1,0,0)}},bt.prototype.toString=function(m){return this.join(" ")},bt.prototype.inversed=function(){var m=this.sx,x=this.shy,V=this.shx,Q=this.sy,pe=this.tx,Ee=this.ty,ke=1/(m*Q-x*V),Qe=Q*ke,gt=-x*ke,Lt=-V*ke,Nt=m*ke;return new bt(Qe,gt,Lt,Nt,-Qe*pe-Lt*Ee,-gt*pe-Nt*Ee)},bt.prototype.applyToPoint=function(m){var x=m.x*this.sx+m.y*this.shx+this.tx,V=m.x*this.shy+m.y*this.sy+this.ty;return new ku(x,V)},bt.prototype.applyToRectangle=function(m){var x=this.applyToPoint(m),V=this.applyToPoint(new ku(m.x+m.w,m.y+m.h));return new Xh(x.x,x.y,V.x-x.x,V.y-x.y)},bt.prototype.clone=function(){var m=this.sx,x=this.shy,V=this.shx,Q=this.sy,pe=this.tx,Ee=this.ty;return new bt(m,x,V,Q,pe,Ee)},f.Matrix=bt;var Po=f.matrixMult=function(m,x){return x.multiply(m)},hs=new bt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=hs;var fi=function(m,x){if(!Xt[m]){var V=(x instanceof iu?"Sh":"P")+(Object.keys(st).length+1).toString(10);x.id=V,Xt[m]=V,st[V]=x,un.publish("addPattern",x)}};f.ShadingPattern=iu,f.TilingPattern=Sh,f.addShadingPattern=function(m,x){return B("addShadingPattern()"),fi(m,x),this},f.beginTilingPattern=function(m){B("beginTilingPattern()"),am(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},f.endTilingPattern=function(m,x){B("endTilingPattern()"),x.stream=Le[L].join(`
`),fi(m,x),un.publish("endTilingPattern",x),ds.pop().restore()};var _r=f.__private__.newObject=function(){var m=ur();return Ni(m,!0),m},ur=f.__private__.newObjectDeferred=function(){return ae++,fe[ae]=function(){return me},ae},Ni=function(m,x){return x=typeof x=="boolean"&&x,fe[m]=me,x&&$(m+" 0 obj"),m},wu=f.__private__.newAdditionalObject=function(){var m={objId:ur(),content:""};return Fe.push(m),m},na=ur(),Do=ur(),Oo=f.__private__.decodeColorString=function(m){var x=m.split(" ");if(x.length!==2||x[1]!=="g"&&x[1]!=="G")x.length===5&&(x[4]==="k"||x[4]==="K")&&(x=[(1-x[0])*(1-x[3]),(1-x[1])*(1-x[3]),(1-x[2])*(1-x[3]),"r"]);else{var V=parseFloat(x[0]);x=[V,V,V,"r"]}for(var Q="#",pe=0;pe<3;pe++)Q+=("0"+Math.floor(255*parseFloat(x[pe])).toString(16)).slice(-2);return Q},Ao=f.__private__.encodeColorString=function(m){var x;typeof m=="string"&&(m={ch1:m});var V=m.ch1,Q=m.ch2,pe=m.ch3,Ee=m.ch4,ke=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof V=="string"&&V.charAt(0)!=="#"){var Qe=new iN(V);if(Qe.ok)V=Qe.toHex();else if(!/^\d*\.?\d*$/.test(V))throw new Error('Invalid color "'+V+'" passed to jsPDF.encodeColorString.')}if(typeof V=="string"&&/^#[0-9A-Fa-f]{3}$/.test(V)&&(V="#"+V[1]+V[1]+V[2]+V[2]+V[3]+V[3]),typeof V=="string"&&/^#[0-9A-Fa-f]{6}$/.test(V)){var gt=parseInt(V.substr(1),16);V=gt>>16&255,Q=gt>>8&255,pe=255&gt}if(Q===void 0||Ee===void 0&&V===Q&&Q===pe)if(typeof V=="string")x=V+" "+ke[0];else switch(m.precision){case 2:x=he(V/255)+" "+ke[0];break;case 3:default:x=k(V/255)+" "+ke[0]}else if(Ee===void 0||Sn(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return x=["1.","1.","1.",ke[1]].join(" ");if(typeof V=="string")x=[V,Q,pe,ke[1]].join(" ");else switch(m.precision){case 2:x=[he(V/255),he(Q/255),he(pe/255),ke[1]].join(" ");break;default:case 3:x=[k(V/255),k(Q/255),k(pe/255),ke[1]].join(" ")}}else if(typeof V=="string")x=[V,Q,pe,Ee,ke[2]].join(" ");else switch(m.precision){case 2:x=[he(V),he(Q),he(pe),he(Ee),ke[2]].join(" ");break;case 3:default:x=[k(V),k(Q),k(pe),k(Ee),ke[2]].join(" ")}return x},fs=f.__private__.getFilters=function(){return s},Ki=f.__private__.putStream=function(m){var x=(m=m||{}).data||"",V=m.filters||fs(),Q=m.alreadyAppliedFilters||[],pe=m.addLength1||!1,Ee=x.length,ke=m.objectId,Qe=function(Yr){return Yr};if(d!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Qe=Wr.encryptor(ke,0));var gt={};V===!0&&(V=["FlateEncode"]);var Lt=m.additionalKeyValues||[],Nt=(gt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(x,V):{data:x,reverseChain:[]}).reverseChain+(Array.isArray(Q)?Q.join(" "):Q.toString());if(gt.data.length!==0&&(Lt.push({key:"Length",value:gt.data.length}),pe===!0&&Lt.push({key:"Length1",value:Ee})),Nt.length!=0)if(Nt.split("/").length-1==1)Lt.push({key:"Filter",value:Nt});else{Lt.push({key:"Filter",value:"["+Nt+"]"});for(var an=0;an<Lt.length;an+=1)if(Lt[an].key==="DecodeParms"){for(var Hn=[],$n=0;$n<gt.reverseChain.split("/").length-1;$n+=1)Hn.push("null");Hn.push(Lt[an].value),Lt[an].value="["+Hn.join(" ")+"]"}}$("<<");for(var dr=0;dr<Lt.length;dr++)$("/"+Lt[dr].key+" "+Lt[dr].value);$(">>"),gt.data.length!==0&&($("stream"),$(Qe(gt.data)),$("endstream"))},ps=f.__private__.putPage=function(m){var x=m.number,V=m.data,Q=m.objId,pe=m.contentsObjId;Ni(Q,!0),$("<</Type /Page"),$("/Parent "+m.rootDictionaryObjId+" 0 R"),$("/Resources "+m.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(z(m.mediaBox.bottomLeftX))+" "+parseFloat(z(m.mediaBox.bottomLeftY))+" "+z(m.mediaBox.topRightX)+" "+z(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&$("/CropBox ["+z(m.cropBox.bottomLeftX)+" "+z(m.cropBox.bottomLeftY)+" "+z(m.cropBox.topRightX)+" "+z(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&$("/BleedBox ["+z(m.bleedBox.bottomLeftX)+" "+z(m.bleedBox.bottomLeftY)+" "+z(m.bleedBox.topRightX)+" "+z(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&$("/TrimBox ["+z(m.trimBox.bottomLeftX)+" "+z(m.trimBox.bottomLeftY)+" "+z(m.trimBox.topRightX)+" "+z(m.trimBox.topRightY)+"]"),m.artBox!==null&&$("/ArtBox ["+z(m.artBox.bottomLeftX)+" "+z(m.artBox.bottomLeftY)+" "+z(m.artBox.topRightX)+" "+z(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&$("/UserUnit "+m.userUnit),un.publish("putPage",{objId:Q,pageContext:yt[x],pageNumber:x,page:V}),$("/Contents "+pe+" 0 R"),$(">>"),$("endobj");var Ee=V.join(`
`);return O===E.ADVANCED&&(Ee+=`
Q`),Ni(pe,!0),Ki({data:Ee,filters:fs(),objectId:pe}),$("endobj"),Q},ec=f.__private__.putPages=function(){var m,x,V=[];for(m=1;m<=sn;m++)yt[m].objId=ur(),yt[m].contentsObjId=ur();for(m=1;m<=sn;m++)V.push(ps({number:m,data:Le[m],objId:yt[m].objId,contentsObjId:yt[m].contentsObjId,mediaBox:yt[m].mediaBox,cropBox:yt[m].cropBox,bleedBox:yt[m].bleedBox,trimBox:yt[m].trimBox,artBox:yt[m].artBox,userUnit:yt[m].userUnit,rootDictionaryObjId:na,resourceDictionaryObjId:Do}));Ni(na,!0),$("<</Type /Pages");var Q="/Kids [";for(x=0;x<sn;x++)Q+=V[x]+" 0 R ";$(Q+"]"),$("/Count "+sn),$(">>"),$("endobj"),un.publish("postPutPages")},Cu=function(m){un.publish("putFont",{font:m,out:$,newObject:_r,putStream:Ki}),m.isAlreadyPutted!==!0&&(m.objectNumber=_r(),$("<<"),$("/Type /Font"),$("/BaseFont /"+Eh(m.postScriptName)),$("/Subtype /Type1"),typeof m.encoding=="string"&&$("/Encoding /"+m.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Eu=function(){for(var m in Te)Te.hasOwnProperty(m)&&(h===!1||h===!0&&g.hasOwnProperty(m))&&Cu(Te[m])},Su=function(m){m.objectNumber=_r();var x=[];x.push({key:"Type",value:"/XObject"}),x.push({key:"Subtype",value:"/Form"}),x.push({key:"BBox",value:"["+[z(m.x),z(m.y),z(m.x+m.width),z(m.y+m.height)].join(" ")+"]"}),x.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var V=m.pages[1].join(`
`);Ki({data:V,additionalKeyValues:x,objectId:m.objectNumber}),$("endobj")},xu=function(){for(var m in Br)Br.hasOwnProperty(m)&&Su(Br[m])},Hg=function(m,x){var V,Q=[],pe=1/(x-1);for(V=0;V<1;V+=pe)Q.push(V);if(Q.push(1),m[0].offset!=0){var Ee={offset:0,color:m[0].color};m.unshift(Ee)}if(m[m.length-1].offset!=1){var ke={offset:1,color:m[m.length-1].color};m.push(ke)}for(var Qe="",gt=0,Lt=0;Lt<Q.length;Lt++){for(V=Q[Lt];V>m[gt+1].offset;)gt++;var Nt=m[gt].offset,an=(V-Nt)/(m[gt+1].offset-Nt),Hn=m[gt].color,$n=m[gt+1].color;Qe+=Z(Math.round((1-an)*Hn[0]+an*$n[0]).toString(16))+Z(Math.round((1-an)*Hn[1]+an*$n[1]).toString(16))+Z(Math.round((1-an)*Hn[2]+an*$n[2]).toString(16))}return Qe.trim()},k_=function(m,x){x||(x=21);var V=_r(),Q=Hg(m.colors,x),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+x+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ki({data:Q,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:V}),$("endobj"),m.objectNumber=_r(),$("<< /ShadingType "+m.type),$("/ColorSpace /DeviceRGB");var Ee="/Coords ["+z(parseFloat(m.coords[0]))+" "+z(parseFloat(m.coords[1]))+" ";m.type===2?Ee+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3])):Ee+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3]))+" "+z(parseFloat(m.coords[4]))+" "+z(parseFloat(m.coords[5])),$(Ee+="]"),m.matrix&&$("/Matrix ["+m.matrix.toString()+"]"),$("/Function "+V+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},R_=function(m,x){var V=ur(),Q=_r();x.push({resourcesOid:V,objectOid:Q}),m.objectNumber=Q;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+m.boundingBox.map(z).join(" ")+"]"}),pe.push({key:"XStep",value:z(m.xStep)}),pe.push({key:"YStep",value:z(m.yStep)}),pe.push({key:"Resources",value:V+" 0 R"}),m.matrix&&pe.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Ki({data:m.stream,additionalKeyValues:pe,objectId:m.objectNumber}),$("endobj")},Mu=function(m){var x;for(x in st)st.hasOwnProperty(x)&&(st[x]instanceof iu?k_(st[x]):st[x]instanceof Sh&&R_(st[x],m))},qg=function(m){for(var x in m.objectNumber=_r(),$("<<"),m)switch(x){case"opacity":$("/ca "+he(m[x]));break;case"stroke-opacity":$("/CA "+he(m[x]))}$(">>"),$("endobj")},L_=function(){var m;for(m in Dt)Dt.hasOwnProperty(m)&&qg(Dt[m])},Uh=function(){for(var m in $("/XObject <<"),Br)Br.hasOwnProperty(m)&&Br[m].objectNumber>=0&&$("/"+m+" "+Br[m].objectNumber+" 0 R");un.publish("putXobjectDict"),$(">>")},F_=function(){Wr.oid=_r(),$("<<"),$("/Filter /Standard"),$("/V "+Wr.v),$("/R "+Wr.r),$("/U <"+Wr.toHexString(Wr.U)+">"),$("/O <"+Wr.toHexString(Wr.O)+">"),$("/P "+Wr.P),$(">>"),$("endobj")},$g=function(){for(var m in $("/Font <<"),Te)Te.hasOwnProperty(m)&&(h===!1||h===!0&&g.hasOwnProperty(m))&&$("/"+m+" "+Te[m].objectNumber+" 0 R");$(">>")},j_=function(){if(Object.keys(st).length>0){for(var m in $("/Shading <<"),st)st.hasOwnProperty(m)&&st[m]instanceof iu&&st[m].objectNumber>=0&&$("/"+m+" "+st[m].objectNumber+" 0 R");un.publish("putShadingPatternDict"),$(">>")}},Pu=function(m){if(Object.keys(st).length>0){for(var x in $("/Pattern <<"),st)st.hasOwnProperty(x)&&st[x]instanceof f.TilingPattern&&st[x].objectNumber>=0&&st[x].objectNumber<m&&$("/"+x+" "+st[x].objectNumber+" 0 R");un.publish("putTilingPatternDict"),$(">>")}},B_=function(){if(Object.keys(Dt).length>0){var m;for(m in $("/ExtGState <<"),Dt)Dt.hasOwnProperty(m)&&Dt[m].objectNumber>=0&&$("/"+m+" "+Dt[m].objectNumber+" 0 R");un.publish("putGStateDict"),$(">>")}},er=function(m){Ni(m.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),$g(),j_(),Pu(m.objectOid),B_(),Uh(),$(">>"),$("endobj")},Gg=function(){var m=[];Eu(),L_(),xu(),Mu(m),un.publish("putResources"),m.forEach(er),er({resourcesOid:Do,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources")},Wg=function(){un.publish("putAdditionalObjects");for(var m=0;m<Fe.length;m++){var x=Fe[m];Ni(x.objId,!0),$(x.content),$("endobj")}un.publish("postPutAdditionalObjects")},Yg=function(m){qe[m.fontName]=qe[m.fontName]||{},qe[m.fontName][m.fontStyle]=m.id},Vh=function(m,x,V,Q,pe){var Ee={id:"F"+(Object.keys(Te).length+1).toString(10),postScriptName:m,fontName:x,fontStyle:V,encoding:Q,isStandardFont:pe||!1,metadata:{}};return un.publish("addFont",{font:Ee,instance:this}),Te[Ee.id]=Ee,Yg(Ee),Ee.id},U_=function(m){for(var x=0,V=je.length;x<V;x++){var Q=Vh.call(this,m[x][0],m[x][1],m[x][2],je[x][3],!0);h===!1&&(g[Q]=!0);var pe=m[x][0].split("-");Yg({id:Q,fontName:pe[0],fontStyle:pe[1]||""})}un.publish("addFonts",{fonts:Te,dictionary:qe})},Io=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(Q){var x=Q.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var V="Error in function "+x.split(`
`)[0].split("<")[0]+": "+Q.message;if(!Ct.console)throw new Error(V);Ct.console.error(V,Q),Ct.alert&&alert(V)}},m.foo.bar=m,m.foo},Du=function(m,x){var V,Q,pe,Ee,ke,Qe,gt,Lt,Nt;if(pe=(x=x||{}).sourceEncoding||"Unicode",ke=x.outputEncoding,(x.autoencode||ke)&&Te[Vt].metadata&&Te[Vt].metadata[pe]&&Te[Vt].metadata[pe].encoding&&(Ee=Te[Vt].metadata[pe].encoding,!ke&&Te[Vt].encoding&&(ke=Te[Vt].encoding),!ke&&Ee.codePages&&(ke=Ee.codePages[0]),typeof ke=="string"&&(ke=Ee[ke]),ke)){for(gt=!1,Qe=[],V=0,Q=m.length;V<Q;V++)(Lt=ke[m.charCodeAt(V)])?Qe.push(String.fromCharCode(Lt)):Qe.push(m[V]),Qe[V].charCodeAt(0)>>8&&(gt=!0);m=Qe.join("")}for(V=m.length;gt===void 0&&V!==0;)m.charCodeAt(V-1)>>8&&(gt=!0),V--;if(!gt)return m;for(Qe=x.noBOM?[]:[254,255],V=0,Q=m.length;V<Q;V++){if((Nt=(Lt=m.charCodeAt(V))>>8)>>8)throw new Error("Character at position "+V+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qe.push(Nt),Qe.push(Lt-(Nt<<8))}return String.fromCharCode.apply(void 0,Qe)},pi=f.__private__.pdfEscape=f.pdfEscape=function(m,x){return Du(m,x).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zh=f.__private__.beginPage=function(m){Le[++sn]=[],yt[sn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Xg(sn),Se(Le[L])},Kg=function(m,x){var V,Q,pe;switch(t=x||t,typeof m=="string"&&(V=w(m.toLowerCase()),Array.isArray(V)&&(Q=V[0],pe=V[1])),Array.isArray(m)&&(Q=m[0]*T,pe=m[1]*T),isNaN(Q)&&(Q=i[0],pe=i[1]),(Q>14400||pe>14400)&&(An.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Q=Math.min(14400,Q),pe=Math.min(14400,pe)),i=[Q,pe],t.substr(0,1)){case"l":pe>Q&&(i=[pe,Q]);break;case"p":Q>pe&&(i=[pe,Q])}zh(i),nm(Gh),$(To),Yh!==0&&$(Yh+" J"),Kh!==0&&$(Kh+" j"),un.publish("addPage",{pageNumber:sn})},V_=function(m){m>0&&m<=sn&&(Le.splice(m,1),yt.splice(m,1),sn--,L>sn&&(L=sn),this.setPage(L))},Xg=function(m){m>0&&m<=sn&&(L=m)},z_=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Le.length-1},Zg=function(m,x,V){var Q,pe=void 0;return V=V||{},m=m!==void 0?m:Te[Vt].fontName,x=x!==void 0?x:Te[Vt].fontStyle,Q=m.toLowerCase(),qe[Q]!==void 0&&qe[Q][x]!==void 0?pe=qe[Q][x]:qe[m]!==void 0&&qe[m][x]!==void 0?pe=qe[m][x]:V.disableWarning===!1&&An.warn("Unable to look up font label for font '"+m+"', '"+x+"'. Refer to getFontList() for available fonts."),pe||V.noFallback||(pe=qe.times[x])==null&&(pe=qe.times.normal),pe},H_=f.__private__.putInfo=function(){var m=_r(),x=function(Q){return Q};for(var V in d!==null&&(x=Wr.encryptor(m,0)),$("<<"),$("/Producer ("+pi(x("jsPDF "+_t.version))+")"),ht)ht.hasOwnProperty(V)&&ht[V]&&$("/"+V.substr(0,1).toUpperCase()+V.substr(1)+" ("+pi(x(ht[V]))+")");$("/CreationDate ("+pi(x(_e))+")"),$(">>"),$("endobj")},Hh=f.__private__.putCatalog=function(m){var x=(m=m||{}).rootDictionaryObjId||na;switch(_r(),$("<<"),$("/Type /Catalog"),$("/Pages "+x+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var V=""+Ze;V.substr(V.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&$("/OpenAction [3 0 R /XYZ null null "+he(Ze)+"]")}switch($t||($t="continuous"),$t){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}Mt&&$("/PageMode /"+Mt),un.publish("putCatalog"),$(">>"),$("endobj")},q_=f.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(ae+1)),$("/Root "+ae+" 0 R"),$("/Info "+(ae-1)+" 0 R"),d!==null&&$("/Encrypt "+Wr.oid+" 0 R"),$("/ID [ <"+Y+"> <"+Y+"> ]"),$(">>")},$_=f.__private__.putHeader=function(){$("%PDF-"+y),$("%\xBA\xDF\xAC\xE0")},G_=f.__private__.putXRef=function(){var m="0000000000";$("xref"),$("0 "+(ae+1)),$("0000000000 65535 f ");for(var x=1;x<=ae;x++)typeof fe[x]=="function"?$((m+fe[x]()).slice(-10)+" 00000 n "):fe[x]!==void 0?$((m+fe[x]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},ra=f.__private__.buildDocument=function(){mt(),Se(be),un.publish("buildDocument"),$_(),ec(),Wg(),Gg(),d!==null&&F_(),H_(),Hh();var m=me;return G_(),q_(),$("startxref"),$(""+m),$("%%EOF"),Se(Le[L]),be.join(`
`)},Ou=f.__private__.getBlob=function(m){return new Blob([ot(m)],{type:"application/pdf"})},Au=f.output=f.__private__.output=Io(function(m,x){switch(typeof(x=x||{})=="string"?x={filename:x}:x.filename=x.filename||"generated.pdf",m){case void 0:return ra();case"save":f.save(x.filename);break;case"arraybuffer":return ot(ra());case"blob":return Ou(ra());case"bloburi":case"bloburl":if(Ct.URL!==void 0&&typeof Ct.URL.createObjectURL=="function")return Ct.URL&&Ct.URL.createObjectURL(Ou(ra()))||void 0;An.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var V="",Q=ra();try{V=O3(Q)}catch{V=O3(unescape(encodeURIComponent(Q)))}return"data:application/pdf;filename="+x.filename+";base64,"+V;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';x.pdfObjectUrl&&(pe=x.pdfObjectUrl,Ee="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(x)+");<\/script></body></html>",Qe=Ct.open();return Qe!==null&&Qe.document.write(ke),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(x.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+x.filename+'" width="500px" height="400px" /></body></html>',Lt=Ct.open();if(Lt!==null){Lt.document.write(gt);var Nt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=x.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",x)+'"></iframe></body></html>',Hn=Ct.open();if(Hn!==null&&(Hn.document.write(an),Hn.document.title=x.filename),Hn||typeof safari>"u")return Hn;break;case"datauri":case"dataurl":return Ct.document.location.href=this.output("datauristring",x);default:return null}}),Qg=function(m){return Array.isArray(Jl)===!0&&Jl.indexOf(m)>-1};switch(r){case"pt":T=1;break;case"mm":T=72/25.4;break;case"cm":T=72/2.54;break;case"in":T=72;break;case"px":T=Qg("px_scaling")==1?.75:96/72;break;case"pc":case"em":T=12;break;case"ex":T=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);T=r}var Wr=null;Re(),H();var W_=function(m){return d!==null?Wr.encryptor(m,0):function(x){return x}},Jg=f.__private__.getPageInfo=f.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[m].objId,pageNumber:m,pageContext:yt[m]}},Ot=f.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var x in yt)if(yt[x].objId===m)break;return Jg(x)},Y_=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:yt[L].objId,pageNumber:L,pageContext:yt[L]}};f.addPage=function(){return Kg.apply(this,arguments),this},f.setPage=function(){return Xg.apply(this,arguments),Se.call(this,Le[L]),this},f.insertPage=function(m){return this.addPage(),this.movePage(L,m),this},f.movePage=function(m,x){var V,Q;if(m>x){V=Le[m],Q=yt[m];for(var pe=m;pe>x;pe--)Le[pe]=Le[pe-1],yt[pe]=yt[pe-1];Le[x]=V,yt[x]=Q,this.setPage(x)}else if(m<x){V=Le[m],Q=yt[m];for(var Ee=m;Ee<x;Ee++)Le[Ee]=Le[Ee+1],yt[Ee]=yt[Ee+1];Le[x]=V,yt[x]=Q,this.setPage(x)}return this},f.deletePage=function(){return V_.apply(this,arguments),this},f.__private__.text=f.text=function(m,x,V,Q,pe){var Ee,ke,Qe,gt,Lt,Nt,an,Hn,$n,dr=(Q=Q||{}).scope||this;if(typeof m=="number"&&typeof x=="number"&&(typeof V=="string"||Array.isArray(V))){var Yr=V;V=x,x=m,m=Yr}if(arguments[3]instanceof bt?(B("The transform parameter of text() with a Matrix value"),$n=pe):(Qe=arguments[4],gt=arguments[5],Sn(an=arguments[3])==="object"&&an!==null||(typeof Qe=="string"&&(gt=Qe,Qe=null),typeof an=="string"&&(gt=an,an=null),typeof an=="number"&&(Qe=an,an=null),Q={flags:an,angle:Qe,align:gt})),isNaN(x)||isNaN(V)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return dr;var Or="",No=!1,ki=typeof Q.lineHeightFactor=="number"?Q.lineHeightFactor:nc,vs=dr.internal.scaleFactor;function lm(In){return In=In.split("	").join(Array(Q.TabLen||9).join(" ")),pi(In,an)}function ef(In){for(var Tn,nr=In.concat(),br=[],la=nr.length;la--;)typeof(Tn=nr.shift())=="string"?br.push(Tn):Array.isArray(In)&&(Tn.length===1||Tn[1]===void 0&&Tn[2]===void 0)?br.push(Tn[0]):br.push([Tn[0],Tn[1],Tn[2]]);return br}function tf(In,Tn){var nr;if(typeof In=="string")nr=Tn(In)[0];else if(Array.isArray(In)){for(var br,la,uf=In.concat(),$u=[],fm=uf.length;fm--;)typeof(br=uf.shift())=="string"?$u.push(Tn(br)[0]):Array.isArray(br)&&typeof br[0]=="string"&&(la=Tn(br[0],br[1],br[2]),$u.push([la[0],la[1],la[2]]));nr=$u}return nr}var Lu=!1,nf=!0;if(typeof m=="string")Lu=!0;else if(Array.isArray(m)){var rf=m.concat();ke=[];for(var Fu,Ur=rf.length;Ur--;)(typeof(Fu=rf.shift())!="string"||Array.isArray(Fu)&&typeof Fu[0]!="string")&&(nf=!1);Lu=nf}if(Lu===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var ju=He/dr.internal.scaleFactor,Bu=ju*(ki-1);switch(Q.baseline){case"bottom":V-=Bu;break;case"top":V+=ju-Bu;break;case"hanging":V+=ju-2*Bu;break;case"middle":V+=ju/2-Bu}if((Nt=Q.maxWidth||0)>0&&(typeof m=="string"?m=dr.splitTextToSize(m,Nt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(In,Tn){return In.concat(dr.splitTextToSize(Tn,Nt))},[]))),Ee={text:m,x,y:V,options:Q,mutex:{pdfEscape:pi,activeFontKey:Vt,fonts:Te,activeFontSize:He}},un.publish("preProcessText",Ee),m=Ee.text,Qe=(Q=Ee.options).angle,!($n instanceof bt)&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,Q.rotationDirection===0&&(Qe=-Qe),O===E.ADVANCED&&(Qe=-Qe);var Uu=Math.cos(Qe),of=Math.sin(Qe);$n=new bt(Uu,of,-of,Uu,0,0)}else Qe&&Qe instanceof bt&&($n=Qe);O!==E.ADVANCED||$n||($n=hs),(Lt=Q.charSpace||Nu)!==void 0&&(Or+=z(I(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hn=Q.horizontalScale)!==void 0&&(Or+=z(100*Hn)+` Tz
`),Q.lang;var gi=-1,ib=Q.renderingMode!==void 0?Q.renderingMode:Q.stroke,sf=dr.internal.getCurrentPageInfo().pageContext;switch(ib){case 0:case!1:case"fill":gi=0;break;case 1:case!0:case"stroke":gi=1;break;case 2:case"fillThenStroke":gi=2;break;case 3:case"invisible":gi=3;break;case 4:case"fillAndAddForClipping":gi=4;break;case 5:case"strokeAndAddPathForClipping":gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gi=6;break;case 7:case"addToPathForClipping":gi=7}var cm=sf.usedRenderingMode!==void 0?sf.usedRenderingMode:-1;gi!==-1?Or+=gi+` Tr
`:cm!==-1&&(Or+=`0 Tr
`),gi!==-1&&(sf.usedRenderingMode=gi),gt=Q.align||"left";var Xi,Vu=He*ki,um=dr.internal.pageSize.getWidth(),dm=Te[Vt];Lt=Q.charSpace||Nu,Nt=Q.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},Q.flags);var Ja=[],oc=function(In){return dr.getStringUnitWidth(In,{font:dm,charSpace:Lt,fontSize:He,doKerning:!1})*He/vs};if(Object.prototype.toString.call(m)==="[object Array]"){var mi;ke=ef(m),gt!=="left"&&(Xi=ke.map(oc));var oi,el=0;if(gt==="right"){x-=Xi[0],m=[],Ur=ke.length;for(var oa=0;oa<Ur;oa++)oa===0?(oi=ms(x),mi=ia(V)):(oi=I(el-Xi[oa]),mi=-Vu),m.push([ke[oa],oi,mi]),el=Xi[oa]}else if(gt==="center"){x-=Xi[0]/2,m=[],Ur=ke.length;for(var sa=0;sa<Ur;sa++)sa===0?(oi=ms(x),mi=ia(V)):(oi=I((el-Xi[sa])/2),mi=-Vu),m.push([ke[sa],oi,mi]),el=Xi[sa]}else if(gt==="left"){m=[],Ur=ke.length;for(var zu=0;zu<Ur;zu++)m.push(ke[zu])}else if(gt==="justify"&&dm.encoding==="Identity-H"){m=[],Ur=ke.length,Nt=Nt!==0?Nt:um;for(var aa=0,tr=0;tr<Ur;tr++)if(mi=tr===0?ia(V):-Vu,oi=tr===0?ms(x):aa,tr<Ur-1){var af=I((Nt-Xi[tr])/(ke[tr].split(" ").length-1)),si=ke[tr].split(" ");m.push([si[0]+" ",oi,mi]),aa=0;for(var Zi=1;Zi<si.length;Zi++){var Hu=(oc(si[Zi-1]+" "+si[Zi])-oc(si[Zi]))*vs+af;Zi==si.length-1?m.push([si[Zi],Hu,0]):m.push([si[Zi]+" ",Hu,0]),aa-=Hu}}else m.push([ke[tr],oi,mi]);m.push(["",aa,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Ur=ke.length,Nt=Nt!==0?Nt:um,tr=0;tr<Ur;tr++)mi=tr===0?ia(V):-Vu,oi=tr===0?ms(x):0,tr<Ur-1?Ja.push(z(I((Nt-Xi[tr])/(ke[tr].split(" ").length-1)))):Ja.push(0),m.push([ke[tr],oi,mi])}}var hm=typeof Q.R2L=="boolean"?Q.R2L:ut;hm===!0&&(m=tf(m,function(In,Tn,nr){return[In.split("").reverse().join(""),Tn,nr]})),Ee={text:m,x,y:V,options:Q,mutex:{pdfEscape:pi,activeFontKey:Vt,fonts:Te,activeFontSize:He}},un.publish("postProcessText",Ee),m=Ee.text,No=Ee.mutex.isHex||!1;var lf=Te[Vt].encoding;lf!=="WinAnsiEncoding"&&lf!=="StandardEncoding"||(m=tf(m,function(In,Tn,nr){return[lm(In),Tn,nr]})),ke=ef(m),m=[];for(var sc,ac,tl,lc=0,qu=1,cc=Array.isArray(ke[0])?qu:lc,nl="",cf=function(In,Tn,nr){var br="";return nr instanceof bt?(nr=typeof Q.angle=="number"?Po(nr,new bt(1,0,0,1,In,Tn)):Po(new bt(1,0,0,1,In,Tn),nr),O===E.ADVANCED&&(nr=Po(new bt(1,0,0,-1,0,0),nr)),br=nr.join(" ")+` Tm
`):br=z(In)+" "+z(Tn)+` Td
`,br},Qi=0;Qi<ke.length;Qi++){switch(nl="",cc){case qu:tl=(No?"<":"(")+ke[Qi][0]+(No?">":")"),sc=parseFloat(ke[Qi][1]),ac=parseFloat(ke[Qi][2]);break;case lc:tl=(No?"<":"(")+ke[Qi]+(No?">":")"),sc=ms(x),ac=ia(V)}Ja!==void 0&&Ja[Qi]!==void 0&&(nl=Ja[Qi]+` Tw
`),Qi===0?m.push(nl+cf(sc,ac,$n)+tl):cc===lc?m.push(nl+tl):cc===qu&&m.push(nl+cf(sc,ac,$n)+tl)}m=cc===lc?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Ji=`BT
/`;return Ji+=Vt+" "+He+` Tf
`,Ji+=z(He*ki)+` TL
`,Ji+=rc+`
`,Ji+=Or,Ji+=m,$(Ji+="ET"),g[Vt]=!0,dr};var K_=f.__private__.clip=f.clip=function(m){return $(m==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return K_("evenodd")},f.__private__.discardPath=f.discardPath=function(){return $("n"),this};var gs=f.__private__.isValidStyle=function(m){var x=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(x=!0),x};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(m){return gs(m)&&(c=m),this};var em=f.__private__.getStyle=f.getStyle=function(m){var x=c;switch(m){case"D":case"S":x="S";break;case"F":x="f";break;case"FD":case"DF":x="B";break;case"f":case"f*":case"B":case"B*":x=m}return x},tm=f.close=function(){return $("h"),this};f.stroke=function(){return $("S"),this},f.fill=function(m){return Iu("f",m),this},f.fillEvenOdd=function(m){return Iu("f*",m),this},f.fillStroke=function(m){return Iu("B",m),this},f.fillStrokeEvenOdd=function(m){return Iu("B*",m),this};var Iu=function(m,x){Sn(x)==="object"?Z_(x,m):$(m)},qh=function(m){m===null||O===E.ADVANCED&&m===void 0||(m=em(m),$(m))};function X_(m,x,V,Q,pe){var Ee=new Sh(x||this.boundingBox,V||this.xStep,Q||this.yStep,this.gState,pe||this.matrix);Ee.stream=this.stream;var ke=m+"$$"+this.cloneIndex+++"$$";return fi(ke,Ee),Ee}var Z_=function(m,x){var V=Xt[m.key],Q=st[V];if(Q instanceof iu)$("q"),$(Q_(x)),Q.gState&&f.setGState(Q.gState),$(m.matrix.toString()+" cm"),$("/"+V+" sh"),$("Q");else if(Q instanceof Sh){var pe=new bt(1,0,0,-1,0,Qa());m.matrix&&(pe=pe.multiply(m.matrix||hs),V=X_.call(Q,m.key,m.boundingBox,m.xStep,m.yStep,pe).id),$("q"),$("/Pattern cs"),$("/"+V+" scn"),Q.gState&&f.setGState(Q.gState),$(x),$("Q")}},Q_=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},$h=f.moveTo=function(m,x){return $(z(I(m))+" "+z(G(x))+" m"),this},tc=f.lineTo=function(m,x){return $(z(I(m))+" "+z(G(x))+" l"),this},Xa=f.curveTo=function(m,x,V,Q,pe,Ee){return $([z(I(m)),z(G(x)),z(I(V)),z(G(Q)),z(I(pe)),z(G(Ee)),"c"].join(" ")),this};f.__private__.line=f.line=function(m,x,V,Q,pe){if(isNaN(m)||isNaN(x)||isNaN(V)||isNaN(Q)||!gs(pe))throw new Error("Invalid arguments passed to jsPDF.line");return O===E.COMPAT?this.lines([[V-m,Q-x]],m,x,[1,1],pe||"S"):this.lines([[V-m,Q-x]],m,x,[1,1]).stroke()},f.__private__.lines=f.lines=function(m,x,V,Q,pe,Ee){var ke,Qe,gt,Lt,Nt,an,Hn,$n,dr,Yr,Or,No;if(typeof m=="number"&&(No=V,V=x,x=m,m=No),Q=Q||[1,1],Ee=Ee||!1,isNaN(x)||isNaN(V)||!Array.isArray(m)||!Array.isArray(Q)||!gs(pe)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($h(x,V),ke=Q[0],Qe=Q[1],Lt=m.length,Yr=x,Or=V,gt=0;gt<Lt;gt++)(Nt=m[gt]).length===2?(Yr=Nt[0]*ke+Yr,Or=Nt[1]*Qe+Or,tc(Yr,Or)):(an=Nt[0]*ke+Yr,Hn=Nt[1]*Qe+Or,$n=Nt[2]*ke+Yr,dr=Nt[3]*Qe+Or,Yr=Nt[4]*ke+Yr,Or=Nt[5]*Qe+Or,Xa(an,Hn,$n,dr,Yr,Or));return Ee&&tm(),qh(pe),this},f.path=function(m){for(var x=0;x<m.length;x++){var V=m[x],Q=V.c;switch(V.op){case"m":$h(Q[0],Q[1]);break;case"l":tc(Q[0],Q[1]);break;case"c":Xa.apply(this,Q);break;case"h":tm()}}return this},f.__private__.rect=f.rect=function(m,x,V,Q,pe){if(isNaN(m)||isNaN(x)||isNaN(V)||isNaN(Q)||!gs(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return O===E.COMPAT&&(Q=-Q),$([z(I(m)),z(G(x)),z(I(V)),z(I(Q)),"re"].join(" ")),qh(pe),this},f.__private__.triangle=f.triangle=function(m,x,V,Q,pe,Ee,ke){if(isNaN(m)||isNaN(x)||isNaN(V)||isNaN(Q)||isNaN(pe)||isNaN(Ee)||!gs(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[V-m,Q-x],[pe-V,Ee-Q],[m-pe,x-Ee]],m,x,[1,1],ke,!0),this},f.__private__.roundedRect=f.roundedRect=function(m,x,V,Q,pe,Ee,ke){if(isNaN(m)||isNaN(x)||isNaN(V)||isNaN(Q)||isNaN(pe)||isNaN(Ee)||!gs(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*V),Ee=Math.min(Ee,.5*Q),this.lines([[V-2*pe,0],[pe*Qe,0,pe,Ee-Ee*Qe,pe,Ee],[0,Q-2*Ee],[0,Ee*Qe,-pe*Qe,Ee,-pe,Ee],[2*pe-V,0],[-pe*Qe,0,-pe,-Ee*Qe,-pe,-Ee],[0,2*Ee-Q],[0,-Ee*Qe,pe*Qe,-Ee,pe,-Ee]],m+pe,x,[1,1],ke,!0),this},f.__private__.ellipse=f.ellipse=function(m,x,V,Q,pe){if(isNaN(m)||isNaN(x)||isNaN(V)||isNaN(Q)||!gs(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*V,ke=4/3*(Math.SQRT2-1)*Q;return $h(m+V,x),Xa(m+V,x-ke,m+Ee,x-Q,m,x-Q),Xa(m-Ee,x-Q,m-V,x-ke,m-V,x),Xa(m-V,x+ke,m-Ee,x+Q,m,x+Q),Xa(m+Ee,x+Q,m+V,x+ke,m+V,x),qh(pe),this},f.__private__.circle=f.circle=function(m,x,V,Q){if(isNaN(m)||isNaN(x)||isNaN(V)||!gs(Q))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,x,V,V,Q)},f.setFont=function(m,x,V){return V&&(x=X(x,V)),Vt=Zg(m,x,{disableWarning:!1}),this};var J_=f.__private__.getFont=f.getFont=function(){return Te[Zg.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var m,x,V={};for(m in qe)if(qe.hasOwnProperty(m))for(x in V[m]=[],qe[m])qe[m].hasOwnProperty(x)&&V[m].push(x);return V},f.addFont=function(m,x,V,Q,pe){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(V=X(V,Q)),pe=pe||"Identity-H",Vh.call(this,m,x,V,pe)};var nc,Gh=n.lineWidth||.200025,Tu=f.__private__.getLineWidth=f.getLineWidth=function(){return Gh},nm=f.__private__.setLineWidth=f.setLineWidth=function(m){return Gh=m,$(z(I(m))+" w"),this};f.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(m,x){if(m=m||[],x=x||0,isNaN(x)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(V){return z(I(V))}).join(" "),x=z(I(x)),$("["+m+"] "+x+" d"),this};var rm=f.__private__.getLineHeight=f.getLineHeight=function(){return He*nc};f.__private__.getLineHeight=f.getLineHeight=function(){return He*nc};var im=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(nc=m),this},om=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return nc};im(n.lineHeight);var ms=f.__private__.getHorizontalCoordinate=function(m){return I(m)},ia=f.__private__.getVerticalCoordinate=function(m){return O===E.ADVANCED?m:yt[L].mediaBox.topRightY-yt[L].mediaBox.bottomLeftY-I(m)},eb=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(m){return z(ms(m))},Za=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(m){return z(ia(m))},To=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Oo(To)},f.__private__.setStrokeColor=f.setDrawColor=function(m,x,V,Q){return To=Ao({ch1:m,ch2:x,ch3:V,ch4:Q,pdfColorType:"draw",precision:2}),$(To),this};var Wh=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Oo(Wh)},f.__private__.setFillColor=f.setFillColor=function(m,x,V,Q){return Wh=Ao({ch1:m,ch2:x,ch3:V,ch4:Q,pdfColorType:"fill",precision:2}),$(Wh),this};var rc=n.textColor||"0 g",tb=f.__private__.getTextColor=f.getTextColor=function(){return Oo(rc)};f.__private__.setTextColor=f.setTextColor=function(m,x,V,Q){return rc=Ao({ch1:m,ch2:x,ch3:V,ch4:Q,pdfColorType:"text",precision:3}),this};var Nu=n.charSpace,nb=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Nu||0)};f.__private__.setCharSpace=f.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nu=m,this};var Yh=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(m){var x=f.CapJoinStyles[m];if(x===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yh=x,$(x+" J"),this};var Kh=0;f.__private__.setLineJoin=f.setLineJoin=function(m){var x=f.CapJoinStyles[m];if(x===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kh=x,$(x+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(z(I(m))+" M"),this},f.GState=H2,f.setGState=function(m){(m=typeof m=="string"?Dt[on[m]]:sm(null,m)).equals(Fn)||($("/"+m.id+" gs"),Fn=m)};var sm=function(m,x){if(!m||!on[m]){var V=!1;for(var Q in Dt)if(Dt.hasOwnProperty(Q)&&Dt[Q].equals(x)){V=!0;break}if(V)x=Dt[Q];else{var pe="GS"+(Object.keys(Dt).length+1).toString(10);Dt[pe]=x,x.id=pe}return m&&(on[m]=x.id),un.publish("addGState",x),x}};f.addGState=function(m,x){return sm(m,x),this},f.saveGraphicsState=function(){return $("q"),lt.push({key:Vt,size:He,color:rc}),this},f.restoreGraphicsState=function(){$("Q");var m=lt.pop();return Vt=m.key,He=m.size,rc=m.color,Fn=null,this},f.setCurrentTransformationMatrix=function(m){return $(m.toString()+" cm"),this},f.comment=function(m){return $("#"+m),this};var ku=function(m,x){var V=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return V},set:function(Ee){isNaN(Ee)||(V=parseFloat(Ee))}});var Q=x||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Q},set:function(Ee){isNaN(Ee)||(Q=parseFloat(Ee))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(Ee){pe=Ee.toString()}}),this},Xh=function(m,x,V,Q){ku.call(this,m,x),this.type="rect";var pe=V||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(ke){isNaN(ke)||(pe=parseFloat(ke))}});var Ee=Q||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(ke){isNaN(ke)||(Ee=parseFloat(ke))}}),this},Zh=function(){this.page=sn,this.currentPage=L,this.pages=Le.slice(0),this.pagesContext=yt.slice(0),this.x=ee,this.y=we,this.matrix=xe,this.width=ic(L),this.height=Qa(L),this.outputDestination=Ge,this.id="",this.objectNumber=-1};Zh.prototype.restore=function(){sn=this.page,L=this.currentPage,yt=this.pagesContext,Le=this.pages,ee=this.x,we=this.y,xe=this.matrix,Qh(L,this.width),Jh(L,this.height),Ge=this.outputDestination};var am=function(m,x,V,Q,pe){ds.push(new Zh),sn=L=0,Le=[],ee=m,we=x,xe=pe,zh([V,Q])},rb=function(m){if(us[m])ds.pop().restore();else{var x=new Zh,V="Xo"+(Object.keys(Br).length+1).toString(10);x.id=V,us[m]=V,Br[V]=x,un.publish("addFormObject",x),ds.pop().restore()}};for(var Ru in f.beginFormObject=function(m,x,V,Q,pe){return am(m,x,V,Q,pe),this},f.endFormObject=function(m){return rb(m),this},f.doFormObject=function(m,x){var V=Br[us[m]];return $("q"),$(x.toString()+" cm"),$("/"+V.id+" Do"),$("Q"),this},f.getFormObject=function(m){var x=Br[us[m]];return{x:x.x,y:x.y,width:x.width,height:x.height,matrix:x.matrix}},f.save=function(m,x){return m=m||"generated.pdf",(x=x||{}).returnPromise=x.returnPromise||!1,x.returnPromise===!1?(ru(Ou(ra()),m),typeof ru.unload=="function"&&Ct.setTimeout&&setTimeout(ru.unload,911),this):new Promise(function(V,Q){try{var pe=ru(Ou(ra()),m);typeof ru.unload=="function"&&Ct.setTimeout&&setTimeout(ru.unload,911),V(pe)}catch(Ee){Q(Ee.message)}})},_t.API)_t.API.hasOwnProperty(Ru)&&(Ru==="events"&&_t.API.events.length?function(m,x){var V,Q,pe;for(pe=x.length-1;pe!==-1;pe--)V=x[pe][0],Q=x[pe][1],m.subscribe.apply(m,[V].concat(typeof Q=="function"?[Q]:Q))}(un,_t.API.events):f[Ru]=_t.API[Ru]);var ic=f.getPageWidth=function(m){return(yt[m=m||L].mediaBox.topRightX-yt[m].mediaBox.bottomLeftX)/T},Qh=f.setPageWidth=function(m,x){yt[m].mediaBox.topRightX=x*T+yt[m].mediaBox.bottomLeftX},Qa=f.getPageHeight=function(m){return(yt[m=m||L].mediaBox.topRightY-yt[m].mediaBox.bottomLeftY)/T},Jh=f.setPageHeight=function(m,x){yt[m].mediaBox.topRightY=x*T+yt[m].mediaBox.bottomLeftY};return f.internal={pdfEscape:pi,getStyle:em,getFont:J_,getFontSize:Ye,getCharSpace:nb,getTextColor:tb,getLineHeight:rm,getLineHeightFactor:om,getLineWidth:Tu,write:Pt,getHorizontalCoordinate:ms,getVerticalCoordinate:ia,getCoordinateString:eb,getVerticalCoordinateString:Za,collections:{},newObject:_r,newAdditionalObject:wu,newObjectDeferred:ur,newObjectDeferredBegin:Ni,getFilters:fs,putStream:Ki,events:un,scaleFactor:T,pageSize:{getWidth:function(){return ic(L)},setWidth:function(m){Qh(L,m)},getHeight:function(){return Qa(L)},setHeight:function(m){Jh(L,m)}},encryptionOptions:d,encryption:Wr,getEncryptor:W_,output:Au,getNumberOfPages:z_,pages:Le,out:$,f2:he,f3:k,getPageInfo:Jg,getPageInfoByObjId:Ot,getCurrentPageInfo:Y_,getPDFVersion:_,Point:ku,Rectangle:Xh,Matrix:bt,hasHotfix:Qg},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ic(L)},set:function(m){Qh(L,m)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Qa(L)},set:function(m){Jh(L,m)},enumerable:!0,configurable:!0}),U_.call(f,je),Vt="F1",Kg(i,t),un.publish("initialized"),f}Ch.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ch.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ch.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ch.prototype.processOwnerPassword=function(n,e){return I3(A3(e).substr(0,5),n)},Ch.prototype.encryptor=function(n,e){var t=A3(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return I3(t,r)}},H2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Sn(n)!==Sn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},_t.API={events:[]},_t.version="3.0.1";var Jn=_t.API,R3=1,su=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(n){return n.toFixed(2)},Yl=function(n){return n.toFixed(5)};Jn.__acroform__={};var Oi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},$8=function(n){return n*R3},Ws=function(n){var e=new lN,t=it.internal.getHeight(n)||0,r=it.internal.getWidth(n)||0;return e.BBox=[0,0,Number(kt(r)),Number(kt(t))],e},QY=Jn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},JY=Jn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},eK=Jn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},ar=Jn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eK(n,e-1)},lr=Jn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QY(n,e-1)},cr=Jn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JY(n,e-1)},tK=Jn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},nK=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=T3(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ws(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},T3=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var o=t,s=it.internal.getHeight(n)||0;s=s<0?-s:s;var a=it.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(k,I,W){if(k+1<i.length){var G=I+" "+i[k+1][0];return L2(G,n,W).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,d,h=L2("3",n,o).height,g=n.multiline?s-o:(s-h)/2,f=g+=2,y=0,_=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+L2(e,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var w="",E=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var N=!1;if(i[O].length!==1&&C!==i[O].length-1){if((h+2)*(E+2)+2>s)continue e;w+=i[O][C],N=!0,_=O,O--}else{w=(w+=i[O][C]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var q=parseInt(O),X=l(q,w,o),z=O>=i.length-1;if(X&&!z){w+=" ",C=0;continue}if(X||z){if(z)_=q;else if(n.multiline&&(h+2)*(E+2)+2>s)continue e}else{if(!n.multiline||(h+2)*(E+2)+2>s)continue e;_=q}}for(var B="",le=y;le<=_;le++){var he=i[le];if(n.multiline){if(le===_){B+=he[C]+" ",C=(C+1)%he.length;continue}if(le===y){B+=he[he.length-1]+" ";continue}}B+=he[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,d=L2(B,n,o).width,n.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}e+=kt(c)+" "+kt(f)+` Td
`,e+="("+su(B)+`) Tj
`,e+=-kt(c)+` 0 Td
`,f=-(o+2),d=0,y=N?_:_+1,E++,w=""}break}return r.text=e,r.fontSize=o,r},L2=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},rK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iK=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},oK=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Sn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},sK=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ls.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(rK)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");R3=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new cN,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&iK(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=tK(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=it.createDefaultAppearanceStream(a),Sn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=nK(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var f=a.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var y=f[s];typeof y=="function"&&(y=y.call(i,a)),h+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(i,a)),h+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&oK(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},aN=Jn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),Sn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+su(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M3=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+su(r(n))+")"},Ys=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ys.prototype.toString=function(){return this.objId+" 0 R"},Ys.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ys.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:aN(i,this.objId,this.scope)}):i instanceof Ys?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var lN=function(){Ys.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Oi(lN,Ys);var cN=function(){Ys.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+su(t(n))+")"}},set:function(t){n=t}})};Oi(cN,Ys);var ls=function n(){Ys.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ar(e,3)},set:function(w){w?this.F=lr(e,3):this.F=cr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof q2)return;o="FieldObject"+n.FieldNum++}var w=function(E){return E};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+su(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/R3:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof q2||this instanceof ou))return M3(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof jr?g:M3(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof jr?w:w.substr(0,1)==="("?bh(w.substr(1,w.length-2)):bh(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr?bh(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof jr?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof jr?f:M3(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=this instanceof jr?w:w.substr(0,1)==="("?bh(w.substr(1,w.length-2)):bh(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr?bh(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof jr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,1)},set:function(w){w?this.Ff=lr(this.Ff,1):this.Ff=cr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,2)},set:function(w){w?this.Ff=lr(this.Ff,2):this.Ff=cr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,3)},set:function(w){w?this.Ff=lr(this.Ff,3):this.Ff=cr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');C=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(C){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Oi(ls,Ys);var xh=function(){ls.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return aN(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,18)},set:function(t){t?this.Ff=lr(this.Ff,18):this.Ff=cr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=lr(this.Ff,19):this.Ff=cr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,20)},set:function(t){t?(this.Ff=lr(this.Ff,20),e.sort()):this.Ff=cr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,22)},set:function(t){t?this.Ff=lr(this.Ff,22):this.Ff=cr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,23)},set:function(t){t?this.Ff=lr(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,27)},set:function(t){t?this.Ff=lr(this.Ff,27):this.Ff=cr(this.Ff,27)}}),this.hasAppearanceStream=!1};Oi(xh,ls);var Mh=function(){xh.call(this),this.fontName="helvetica",this.combo=!1};Oi(Mh,xh);var Ph=function(){Mh.call(this),this.combo=!0};Oi(Ph,Mh);var B2=function(){Ph.call(this),this.edit=!0};Oi(B2,Ph);var jr=function(){ls.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,15)},set:function(t){t?this.Ff=lr(this.Ff,15):this.Ff=cr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,16)},set:function(t){t?this.Ff=lr(this.Ff,16):this.Ff=cr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,17)},set:function(t){t?this.Ff=lr(this.Ff,17):this.Ff=cr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,26)},set:function(t){t?this.Ff=lr(this.Ff,26):this.Ff=cr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+su(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Sn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Oi(jr,ls);var U2=function(){jr.call(this),this.pushButton=!0};Oi(U2,jr);var Dh=function(){jr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Oi(Dh,jr);var q2=function(){var n,e;ls.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+su(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Sn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oi(q2,ls),Dh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Dh.prototype.createOption=function(n){var e=new q2;return e.Parent=this,e.optionName=n,this.Kids.push(e),aK.call(this.scope,e),e};var V2=function(){jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};Oi(V2,jr);var ou=function(){ls.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,13)},set:function(e){e?this.Ff=lr(this.Ff,13):this.Ff=cr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,21)},set:function(e){e?this.Ff=lr(this.Ff,21):this.Ff=cr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,23)},set:function(e){e?this.Ff=lr(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,24)},set:function(e){e?this.Ff=lr(this.Ff,24):this.Ff=cr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,25)},set:function(e){e?this.Ff=lr(this.Ff,25):this.Ff=cr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,26)},set:function(e){e?this.Ff=lr(this.Ff,26):this.Ff=cr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oi(ou,ls);var z2=function(){ou.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,14)},set:function(n){n?this.Ff=lr(this.Ff,14):this.Ff=cr(this.Ff,14)}}),this.password=!0};Oi(z2,ou);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ws(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=T3(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+kt(it.internal.getWidth(n))+" "+kt(it.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+kt(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ws(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=it.internal.getHeight(n),s=it.internal.getWidth(n),a=T3(n,n.caption);return i.push("1 g"),i.push("0 0 "+kt(s)+" "+kt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(s-1)+" "+kt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ws(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+kt(it.internal.getWidth(n))+" "+kt(it.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=it.RadioButton.Circle.YesNormal,e.D[n]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ws(n);e.scope=n.scope;var t=[],r=it.internal.getWidth(n)<=it.internal.getHeight(n)?it.internal.getWidth(n)/4:it.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=it.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Yl(it.internal.getWidth(n)/2)+" "+Yl(it.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ws(n);e.scope=n.scope;var t=[],r=it.internal.getWidth(n)<=it.internal.getHeight(n)?it.internal.getWidth(n)/4:it.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*it.internal.Bezier_C).toFixed(5)),s=Number((r*it.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Yl(it.internal.getWidth(n)/2)+" "+Yl(it.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Yl(it.internal.getWidth(n)/2)+" "+Yl(it.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ws(n);e.scope=n.scope;var t=[],r=it.internal.getWidth(n)<=it.internal.getHeight(n)?it.internal.getWidth(n)/4:it.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*it.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Yl(it.internal.getWidth(n)/2)+" "+Yl(it.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=it.RadioButton.Cross.YesNormal,e.D[n]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ws(n);e.scope=n.scope;var t=[],r=it.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+kt(it.internal.getWidth(n)-2)+" "+kt(it.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),t.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),t.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),t.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ws(n);e.scope=n.scope;var t=it.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(it.internal.getWidth(n))+" "+kt(it.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kt(it.internal.getWidth(n)-2)+" "+kt(it.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(t.x1.x)+" "+kt(t.x1.y)+" m"),r.push(kt(t.x2.x)+" "+kt(t.x2.y)+" l"),r.push(kt(t.x4.x)+" "+kt(t.x4.y)+" m"),r.push(kt(t.x3.x)+" "+kt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ws(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+kt(it.internal.getWidth(n))+" "+kt(it.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};it.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=it.internal.getWidth(n),t=it.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},it.internal.getWidth=function(n){var e=0;return Sn(n)==="object"&&(e=$8(n.Rect[2])),e},it.internal.getHeight=function(n){var e=0;return Sn(n)==="object"&&(e=$8(n.Rect[3])),e};var aK=Jn.addField=function(n){if(sK(this,n),!(n instanceof ls))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Jn.AcroFormChoiceField=xh,Jn.AcroFormListBox=Mh,Jn.AcroFormComboBox=Ph,Jn.AcroFormEditBox=B2,Jn.AcroFormButton=jr,Jn.AcroFormPushButton=U2,Jn.AcroFormRadioButton=Dh,Jn.AcroFormCheckBox=V2,Jn.AcroFormTextField=ou,Jn.AcroFormPasswordField=z2,Jn.AcroFormAppearance=it,Jn.AcroForm={ChoiceField:xh,ListBox:Mh,ComboBox:Ph,EditBox:B2,Button:jr,PushButton:U2,RadioButton:Dh,CheckBox:V2,TextField:ou,PasswordField:z2,Appearance:it},_t.AcroForm={ChoiceField:xh,ListBox:Mh,ComboBox:Ph,EditBox:B2,Button:jr,PushButton:U2,RadioButton:Dh,CheckBox:V2,TextField:ou,PasswordField:z2,Appearance:it};var gme=_t.AcroForm;function uN(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(k,I){var W,G,_e,Y,ie,H=e;if((I=I||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(X(k))for(ie in t)for(_e=t[ie],W=0;W<_e.length;W+=1){for(Y=!0,G=0;G<_e[W].length;G+=1)if(_e[W][G]!==void 0&&_e[W][G]!==k[G]){Y=!1;break}if(Y===!0){H=ie;break}}else for(ie in t)for(_e=t[ie],W=0;W<_e.length;W+=1){for(Y=!0,G=0;G<_e[W].length;G+=1)if(_e[W][G]!==void 0&&_e[W][G]!==k.charCodeAt(G)){Y=!1;break}if(Y===!0){H=ie;break}}return H===e&&I!==e&&(H=I),H},i=function k(I){for(var W=this.internal.write,G=this.internal.putStream,_e=(0,this.internal.getFilters)();_e.indexOf("FlateEncode")!==-1;)_e.splice(_e.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:I.width}),Y.push({key:"Height",value:I.height}),I.colorSpace===C.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===C.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var ie="",H=0,se=I.transparency.length;H<se;H++)ie+=I.transparency[H]+" "+I.transparency[H]+" ";Y.push({key:"Mask",value:"["+ie+"]"})}I.sMask!==void 0&&Y.push({key:"SMask",value:I.objectId+1+" 0 R"});var ge=I.filter!==void 0?["/"+I.filter]:void 0;if(G({data:I.data,additionalKeyValues:Y,alreadyAppliedFilters:ge,objectId:I.objectId}),W("endobj"),"sMask"in I&&I.sMask!==void 0){var Re="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,M={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:Re,data:I.sMask};"filter"in I&&(M.filter=I.filter),k.call(this,M)}if(I.colorSpace===C.INDEXED){var L=this.internal.newObject();G({data:B(new Uint8Array(I.palette)),objectId:L}),W("endobj")}},o=function(){var k=this.internal.collections.addImage_images;for(var I in k)i.call(this,k[I])},s=function(){var k,I=this.internal.collections.addImage_images,W=this.internal.write;for(var G in I)W("/I"+(k=I[G]).index,k.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var k=this.internal.collections.addImage_images;return a.call(this),k},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof n["process"+k.toUpperCase()]=="function"},h=function(k){return Sn(k)==="object"&&k.nodeType===1},g=function(k,I){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var W=""+k.getAttribute("src");if(W.indexOf("data:image/")===0)return yg(unescape(W).split("base64,").pop());var G=n.loadFile(W,!0);if(G!==void 0)return G}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var _e;switch(I){case"PNG":_e="image/png";break;case"WEBP":_e="image/webp";break;case"JPEG":case"JPG":default:_e="image/jpeg"}return yg(k.toDataURL(_e,1).split("base64,").pop())}},f=function(k){var I=this.internal.collections.addImage_images;if(I){for(var W in I)if(k===I[W].alias)return I[W]}},y=function(k,I,W){return k||I||(k=-96,I=-96),k<0&&(k=-1*W.width*72/k/this.internal.scaleFactor),I<0&&(I=-1*W.height*72/I/this.internal.scaleFactor),k===0&&(k=I*W.width/W.height),I===0&&(I=k*W.height/W.width),[k,I]},_=function(k,I,W,G,_e,Y){var ie=y.call(this,W,G,_e),H=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,ge=l.call(this);if(W=ie[0],G=ie[1],ge[_e.index]=_e,Y){Y*=Math.PI/180;var Re=Math.cos(Y),M=Math.sin(Y),L=function(Z){return Z.toFixed(4)},U=[L(Re),L(M),L(-1*M),L(Re),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,H(k),se(I+G),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([H(W),"0","0",H(G),"0","0","cm"].join(" "))):this.internal.write([H(W),"0","0",H(G),H(k),se(I+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_e.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=n.__addimage__.sHashCode=function(k){var I,W,G=0;if(typeof k=="string")for(W=k.length,I=0;I<W;I++)G=(G<<5)-G+k.charCodeAt(I),G|=0;else if(X(k))for(W=k.byteLength/2,I=0;I<W;I++)G=(G<<5)-G+k[I],G|=0;return G},O=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var I=!0;return k.length===0&&(I=!1),k.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(I=!1),I},N=n.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var I=k.indexOf(",");return I<0?null:k.substring(0,I).trim().endsWith("base64")?k.substring(I+1):null},q=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(k){return q()&&k instanceof ArrayBuffer};var X=n.__addimage__.isArrayBufferView=function(k){return q()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},z=n.__addimage__.binaryStringToUint8Array=function(k){for(var I=k.length,W=new Uint8Array(I),G=0;G<I;G++)W[G]=k.charCodeAt(G);return W},B=n.__addimage__.arrayBufferToBinaryString=function(k){for(var I="",W=X(k)?k:new Uint8Array(k),G=0;G<W.length;G+=8192)I+=String.fromCharCode.apply(null,W.subarray(G,G+8192));return I};n.addImage=function(){var k,I,W,G,_e,Y,ie,H,se;if(typeof arguments[1]=="number"?(I=e,W=arguments[1],G=arguments[2],_e=arguments[3],Y=arguments[4],ie=arguments[5],H=arguments[6],se=arguments[7]):(I=arguments[1],W=arguments[2],G=arguments[3],_e=arguments[4],Y=arguments[5],ie=arguments[6],H=arguments[7],se=arguments[8]),Sn(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var ge=k;k=ge.imageData,I=ge.format||I||e,W=ge.x||W||0,G=ge.y||G||0,_e=ge.w||ge.width||_e,Y=ge.h||ge.height||Y,ie=ge.alias||ie,H=ge.compression||H,se=ge.rotation||ge.angle||se}var Re=this.internal.getFilters();if(H===void 0&&Re.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(W)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=le.call(this,k,I,ie,H);return _.call(this,W,G,_e,Y,M,se),this};var le=function(k,I,W,G){var _e,Y,ie;if(typeof k=="string"&&r(k)===e){k=unescape(k);var H=he(k,!1);(H!==""||(H=n.loadFile(k,!0))!==void 0)&&(k=H)}if(h(k)&&(k=g(k,I)),I=r(k,I),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ie=W)==null||ie.length===0)&&(W=function(se){return typeof se=="string"||X(se)?E(se):X(se.data)?E(se.data):null}(k)),(_e=f.call(this,W))||(q()&&(k instanceof Uint8Array||I==="RGBA"||(Y=k,k=z(k))),_e=this["process"+I.toUpperCase()](k,c.call(this),W,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in n.image_compression?se:w.NONE}(G),Y)),!_e)throw new Error("An unknown error occurred whilst processing the image.");return _e},he=n.__addimage__.convertBase64ToBinaryString=function(k,I){I=typeof I!="boolean"||I;var W,G="";if(typeof k=="string"){var _e;W=(_e=N(k))!==null&&_e!==void 0?_e:k;try{G=yg(W)}catch(Y){if(I)throw O(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};n.getImageProperties=function(k){var I,W,G="";if(h(k)&&(k=g(k)),typeof k=="string"&&r(k)===e&&((G=he(k,!1))===""&&(G=n.loadFile(k)||""),k=G),W=r(k),!d(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!q()||k instanceof Uint8Array||(k=z(k)),!(I=this["process"+W.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=W,I}})(_t.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};_t.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),E=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(w(r.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+f(w(E))+") >>",_.content=o;var O=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+O,r.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var X=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+X+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(t,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(t,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(_t.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(_){var C=0,w=t,E="",O=0;for(C=0;C<_.length;C+=1)w[_.charCodeAt(C)]!==void 0?(O++,typeof(w=w[_.charCodeAt(C)])=="number"&&(E+=String.fromCharCode(w),w=t,O=0),C===_.length-1&&(w=t,E+=_.charAt(C-(O-1)),C-=O-1,O=0)):(w=t,E+=_.charAt(C-O),C-=O,O=0);return E};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(_,C,w){return s(_)?o(_)===!1?-1:!c(_)||!s(C)&&!s(w)||!s(w)&&a(C)||a(_)&&!s(C)||a(_)&&l(C)||a(_)&&a(C)?0:d(_)&&s(C)&&!a(C)&&s(w)&&c(w)?3:a(_)||!s(w)?1:2:-1},f=function(_){var C=0,w=0,E=0,O="",N="",q="",X=(_=_||"").split("\\s+"),z=[];for(C=0;C<X.length;C+=1){for(z.push(""),w=0;w<X[C].length;w+=1)O=X[C][w],N=X[C][w-1],q=X[C][w+1],s(O)?(E=g(O,N,q),z[C]+=E!==-1?String.fromCharCode(e[O.charCodeAt(0)][E]):O):z[C]+=O;z[C]=h(z[C])}return z.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(C)){var E=0;for(w=[],E=0;E<C.length;E+=1)Array.isArray(C[E])?w.push([f(C[E][0]),C[E][1],C[E][2]]):w.push([f(C[E])]);_=w}else _=f(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",y])}(_t.API),_t.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_t.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(_){y=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,f=0,y=0,_=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(O,N){return O.concat(C.splitTextToSize(N,w))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)f<(_=this.getStringUnitWidth(l[E],{font:h})*d)&&(f=_);return f!==0&&(y=l.length),{w:f/=g,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,d,h,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var f,y,_,C,w=[],E=[],O=[],N={},q={},X=[],z=[],B=(g=g||{}).autoSize||!1,le=g.printHeaders!==!1,he=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,k=g.margins||Object.assign({width:this.getPageWidth()},e),I=typeof g.padding=="number"?g.padding:3,W=g.headerBackgroundColor||"#c8c8c8",G=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=le,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=he,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=G,this.setFontSize(he),h==null)E=w=Object.keys(d[0]),O=w.map(function(){return"left"});else if(Array.isArray(h)&&Sn(h[0])==="object")for(w=h.map(function(ge){return ge.name}),E=h.map(function(ge){return ge.prompt||ge.name||""}),O=h.map(function(ge){return ge.align||"left"}),f=0;f<h.length;f+=1)q[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(E=w=h,O=w.map(function(){return"left"}));if(B||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<w.length;f+=1){for(N[C=w[f]]=d.map(function(ge){return ge[C]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(E[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=N[C],this.setFont(void 0,"normal"),_=0;_<y.length;_+=1)X.push(this.getTextDimensions(y[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[C]=Math.max.apply(null,X)+I+I,X=[]}if(le){var _e={};for(f=0;f<w.length;f+=1)_e[w[f]]={},_e[w[f]].text=E[f],_e[w[f]].align=O[f];var Y=a.call(this,_e,q);z=w.map(function(ge){return new o(l,c,q[ge],Y,_e[ge].text,void 0,_e[ge].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var ie=h.reduce(function(ge,Re){return ge[Re.name]=Re.align,ge},{});for(f=0;f<d.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:d[f]},this);var H=a.call(this,d[f],q);for(_=0;_<w.length;_+=1){var se=d[f][w[_]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:_,data:se},this),s.call(this,new o(l,c,q[w[_]],H,se,f+2,ie[w[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/g+d+d},this).reduce(function(f,y){return Math.max(f,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(_t.API);var dN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],N3=uN(hN),fN=[100,200,300,400,500,600,700,800,900],lK=uN(fN);function k3(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return dN[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof N3[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function G8(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var cK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},W8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Y8(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function uK(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},cK,t.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=k3(e[a])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){s=n[o.family];break}if(!(s=s||n[r]))throw new Error("Could not find a font-family for the rule '"+Y8(o)+"' and default family '"+r+"'.");if(s=function(l,c){if(c[l])return c[l];var d=N3[l],h=d<=N3.normal?-1:1,g=G8(c,hN,d,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var d=dN[l],h=0;h<d.length;++h)if(c[d[h]])return c[d[h]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=lK[l],h=G8(c,fN,d,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Y8(o)+"'.");return s}function K8(n){return n.trimLeft()}function dK(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function hK(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var F2,X8,Z8,P3=["times"];(function(n){var e,t,r,i,o,s,a,l,c,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var h=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=M;Object.defineProperty(this,"pdf",{get:function(){return L}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(Se){U=!!Se}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Se){Z=!!Se}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Se){isNaN(Se)||(ae=Se)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Se){isNaN(Se)||(fe=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var $;typeof Se=="number"?$=[Se,Se,Se,Se]:(($=new Array(4))[0]=Se[0],$[1]=Se.length>=2?Se[1]:$[0],$[2]=Se.length>=3?Se[2]:$[0],$[3]=Se.length>=4?Se[3]:$[1]),c.margin=$}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Se){be=Se}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Se){me=Se}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(Se){Fe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof d&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(Se){Le=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var $;$=g(Se),this.ctx.fillStyle=$.style,this.ctx.isFillTransparent=$.a===0,this.ctx.fillOpacity=$.a,this.pdf.setFillColor($.r,$.g,$.b,{a:$.a}),this.pdf.setTextColor($.r,$.g,$.b,{a:$.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var $=g(Se);this.ctx.strokeStyle=$.style,this.ctx.isStrokeTransparent=$.a===0,this.ctx.strokeOpacity=$.a,$.a===0?this.pdf.setDrawColor(255,255,255):($.a,this.pdf.setDrawColor($.r,$.g,$.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var Ke=null;function Ge(Se,$){if(Ke===null){var Pt=function(ot){var je=[];return Object.keys(ot).forEach(function(He){ot[He].forEach(function(Ze){var Ye=null;switch(Ze){case"bold":Ye={family:He,weight:"bold"};break;case"italic":Ye={family:He,style:"italic"};break;case"bolditalic":Ye={family:He,weight:"bold",style:"italic"};break;case"":case"normal":Ye={family:He}}Ye!==null&&(Ye.ref={name:He,style:Ze},je.push(Ye))})}),je}(Se.getFontList());Ke=function(ot){for(var je={},He=0;He<ot.length;++He){var Ze=k3(ot[He]),Ye=Ze.family,ut=Ze.stretch,Mt=Ze.style,Tt=Ze.weight;je[Ye]=je[Ye]||{},je[Ye][ut]=je[Ye][ut]||{},je[Ye][ut][Mt]=je[Ye][ut][Mt]||{},je[Ye][ut][Mt][Tt]=Ze}return je}(Pt.concat($))}return Ke}var mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return mt},set:function(Se){Ke=null,mt=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var $;if(this.ctx.font=Se,($=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Pt=$[1];$[2];var ot=$[3],je=$[4];$[5];var He=$[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Ze==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Ye=function(ht){var Vt,T,ee=[],we=ht.trim();if(we==="")return P3;if(we in W8)return[W8[we]];for(;we!=="";){switch(T=null,Vt=(we=K8(we)).charAt(0)){case'"':case"'":T=dK(we.substring(1),Vt);break;default:T=hK(we)}if(T===null||(ee.push(T[0]),(we=K8(T[1]))!==""&&we.charAt(0)!==","))return P3;we=we.replace(/^,/,"")}return ee}(He);if(this.fontFaces){var ut=uK(Ge(this.pdf,this.fontFaces),Ye.map(function(ht){return{family:ht,stretch:"normal",weight:ot,style:Pt}}));this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var Mt="";(ot==="bold"||parseInt(ot,10)>=700||Pt==="bold")&&(Mt="bold"),Pt==="italic"&&(Mt+="italic"),Mt.length===0&&(Mt="normal");for(var Tt="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jt=0;Jt<Ye.length;Jt++){if(this.pdf.internal.getFont(Ye[Jt],Mt,{noFallback:!0,disableWarning:!0})!==void 0){Tt=Ye[Jt];break}if(Mt==="bolditalic"&&this.pdf.internal.getFont(Ye[Jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=Ye[Jt],Mt="bold";else if(this.pdf.internal.getFont(Ye[Jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=Ye[Jt],Mt="normal";break}}if(Tt===""){for(var hn=0;hn<Ye.length;hn++)if($t[Ye[hn]]){Tt=$t[Ye[hn]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,Mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,Re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,Re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};h.prototype.setLineDash=function(M){this.lineDash=M},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){N.call(this,"fill",!1)},h.prototype.stroke=function(){N.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(M,L){if(isNaN(M)||isNaN(L))throw An.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new s(M,L));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(M,L)},h.prototype.closePath=function(){var M=new s(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&Sn(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){M=new s(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},h.prototype.lineTo=function(M,L){if(isNaN(M)||isNaN(L))throw An.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new s(M,L));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(U.x,U.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},h.prototype.quadraticCurveTo=function(M,L,U,Z){if(isNaN(U)||isNaN(Z)||isNaN(M)||isNaN(L))throw An.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new s(U,Z)),fe=this.ctx.transform.applyToPoint(new s(M,L));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},h.prototype.bezierCurveTo=function(M,L,U,Z,ae,fe){if(isNaN(ae)||isNaN(fe)||isNaN(M)||isNaN(L)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new s(ae,fe)),me=this.ctx.transform.applyToPoint(new s(M,L)),Fe=this.ctx.transform.applyToPoint(new s(U,Z));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Fe.x,y2:Fe.y,x:be.x,y:be.y}),this.ctx.lastPoint=new s(be.x,be.y)},h.prototype.arc=function(M,L,U,Z,ae,fe){if(isNaN(M)||isNaN(L)||isNaN(U)||isNaN(Z)||isNaN(ae))throw An.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new s(M,L));M=be.x,L=be.y;var me=this.ctx.transform.applyToPoint(new s(0,U)),Fe=this.ctx.transform.applyToPoint(new s(0,0));U=Math.sqrt(Math.pow(me.x-Fe.x,2)+Math.pow(me.y-Fe.y,2))}Math.abs(ae-Z)>=2*Math.PI&&(Z=0,ae=2*Math.PI),this.path.push({type:"arc",x:M,y:L,radius:U,startAngle:Z,endAngle:ae,counterclockwise:fe})},h.prototype.arcTo=function(M,L,U,Z,ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(M,L,U,Z){if(isNaN(M)||isNaN(L)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,L),this.lineTo(M+U,L),this.lineTo(M+U,L+Z),this.lineTo(M,L+Z),this.lineTo(M,L),this.lineTo(M+U,L),this.lineTo(M,L)},h.prototype.fillRect=function(M,L,U,Z){if(isNaN(M)||isNaN(L)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,L,U,Z),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},h.prototype.strokeRect=function(M,L,U,Z){if(isNaN(M)||isNaN(L)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,L,U,Z),this.stroke())},h.prototype.clearRect=function(M,L,U,Z){if(isNaN(M)||isNaN(L)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,L,U,Z))},h.prototype.save=function(M){M=typeof M!="boolean"||M;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(L),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var L,U,Z,ae;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))L=0,U=0,Z=0,ae=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(fe!==null)L=parseInt(fe[1]),U=parseInt(fe[2]),Z=parseInt(fe[3]),ae=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)L=parseInt(fe[1]),U=parseInt(fe[2]),Z=parseInt(fe[3]),ae=parseFloat(fe[4]);else{if(ae=1,typeof M=="string"&&M.charAt(0)!=="#"){var be=new iN(M);M=be.ok?be.toHex():"#000000"}M.length===4?(L=M.substring(1,2),L+=L,U=M.substring(2,3),U+=U,Z=M.substring(3,4),Z+=Z):(L=M.substring(1,3),U=M.substring(3,5),Z=M.substring(5,7)),L=parseInt(L,16),U=parseInt(U,16),Z=parseInt(Z,16)}}return{r:L,g:U,b:Z,a:ae,style:M}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(M,L,U,Z){if(isNaN(L)||isNaN(U)||typeof M!="string")throw An.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var ae=H(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;I.call(this,{text:M,x:L,y:U,scale:fe,angle:ae,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(M,L,U,Z){if(isNaN(L)||isNaN(U)||typeof M!="string")throw An.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Z=isNaN(Z)?void 0:Z;var ae=H(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;I.call(this,{text:M,x:L,y:U,scale:fe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(M){if(typeof M!="string")throw An.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,U=this.pdf.internal.scaleFactor,Z=L.internal.getFontSize(),ae=L.getStringUnitWidth(M)*Z/L.internal.scaleFactor,fe=function(be){var me=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new fe({width:ae*=Math.round(96*U/72*1e4)/1e4})},h.prototype.scale=function(M,L){if(isNaN(M)||isNaN(L))throw An.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(M,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.rotate=function(M){if(isNaN(M))throw An.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},h.prototype.translate=function(M,L){if(isNaN(M)||isNaN(L))throw An.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,M,L);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.transform=function(M,L,U,Z,ae,fe){if(isNaN(M)||isNaN(L)||isNaN(U)||isNaN(Z)||isNaN(ae)||isNaN(fe))throw An.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(M,L,U,Z,ae,fe);this.ctx.transform=this.ctx.transform.multiply(be)},h.prototype.setTransform=function(M,L,U,Z,ae,fe){M=isNaN(M)?1:M,L=isNaN(L)?0:L,U=isNaN(U)?0:U,Z=isNaN(Z)?1:Z,ae=isNaN(ae)?0:ae,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(M,L,U,Z,ae,fe)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(M,L,U,Z,ae,fe,be,me,Fe){var Le=this.pdf.getImageProperties(M),Ke=1,Ge=1,mt=1,Se=1;Z!==void 0&&me!==void 0&&(mt=me/Z,Se=Fe/ae,Ke=Le.width/Z*me/Z,Ge=Le.height/ae*Fe/ae),fe===void 0&&(fe=L,be=U,L=0,U=0),Z!==void 0&&me===void 0&&(me=Z,Fe=ae),Z===void 0&&me===void 0&&(me=Le.width,Fe=Le.height);for(var $,Pt=this.ctx.transform.decompose(),ot=H(Pt.rotate.shx),je=new l,He=(je=(je=(je=je.multiply(Pt.translate)).multiply(Pt.skew)).multiply(Pt.scale)).applyToRectangle(new a(fe-L*mt,be-U*Se,Z*Ke,ae*Ge)),Ze=C.call(this,He),Ye=[],ut=0;ut<Ze.length;ut+=1)Ye.indexOf(Ze[ut])===-1&&Ye.push(Ze[ut]);if(O(Ye),this.autoPaging)for(var Mt=Ye[0],Tt=Ye[Ye.length-1],$t=Mt;$t<Tt+1;$t++){this.pdf.setPage($t);var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hn=$t===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=$t===1?0:ht+($t-2)*Vt;if(this.ctx.clip_path.length!==0){var ee=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E($,this.posX+this.margin[3],-T+hn+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=ee}var we=JSON.parse(JSON.stringify(He));we=E([we],this.posX+this.margin[3],-T+hn+this.ctx.prevPageLastElemOffset)[0];var xe=($t>Mt||$t<Tt)&&_.call(this);xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Vt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",we.x,we.y,we.w,we.h,null,null,ot),xe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",He.x,He.y,He.w,He.h,null,null,ot)};var C=function(M,L,U){var Z=[];L=L||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Z.push(Math.floor((M.y+ae)/U)+1);break;case"arc":Z.push(Math.floor((M.y+ae-M.radius)/U)+1),Z.push(Math.floor((M.y+ae+M.radius)/U)+1);break;case"qct":var fe=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Z.push(Math.floor((fe.y+ae)/U)+1),Z.push(Math.floor((fe.y+fe.h+ae)/U)+1);break;case"bct":var be=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Z.push(Math.floor((be.y+ae)/U)+1),Z.push(Math.floor((be.y+be.h+ae)/U)+1);break;case"rect":Z.push(Math.floor((M.y+ae)/U)+1),Z.push(Math.floor((M.y+M.h+ae)/U)+1)}for(var me=0;me<Z.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<Z[me];)w.call(this);return Z},w=function(){var M=this.fillStyle,L=this.strokeStyle,U=this.font,Z=this.lineCap,ae=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=L,this.font=U,this.lineCap=Z,this.lineWidth=ae,this.lineJoin=fe},E=function(M,L,U){for(var Z=0;Z<M.length;Z++)switch(M[Z].type){case"bct":M[Z].x2+=L,M[Z].y2+=U;case"qct":M[Z].x1+=L,M[Z].y1+=U;case"mt":case"lt":case"arc":default:M[Z].x+=L,M[Z].y+=U}return M},O=function(M){return M.sort(function(L,U){return L-U})},N=function(M,L){for(var U,Z,ae=this.fillStyle,fe=this.strokeStyle,be=this.lineCap,me=this.lineWidth,Fe=Math.abs(me*this.ctx.transform.scaleX),Le=this.lineJoin,Ke=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),mt=[],Se=0;Se<Ge.length;Se++)if(Ge[Se].x!==void 0)for(var $=C.call(this,Ge[Se]),Pt=0;Pt<$.length;Pt+=1)mt.indexOf($[Pt])===-1&&mt.push($[Pt]);for(var ot=0;ot<mt.length;ot++)for(;this.pdf.internal.getNumberOfPages()<mt[ot];)w.call(this);if(O(mt),this.autoPaging)for(var je=mt[0],He=mt[mt.length-1],Ze=je;Ze<He+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=ae,this.strokeStyle=fe,this.lineCap=be,this.lineWidth=Fe,this.lineJoin=Le;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=Ze===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=Ze===1?0:Mt+(Ze-2)*Tt;if(this.ctx.clip_path.length!==0){var Jt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(U,this.posX+this.margin[3],-$t+ut+this.ctx.prevPageLastElemOffset),q.call(this,M,!0),this.path=Jt}if(Z=JSON.parse(JSON.stringify(Ke)),this.path=E(Z,this.posX+this.margin[3],-$t+ut+this.ctx.prevPageLastElemOffset),L===!1||Ze===0){var hn=(Ze>je||Ze<He)&&_.call(this);hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Tt,null).clip().discardPath()),q.call(this,M,L),hn&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Fe,q.call(this,M,L),this.lineWidth=me;this.path=Ke},q=function(M,L){if((M!=="stroke"||L||!y.call(this))&&(M==="stroke"||L||!f.call(this))){for(var U,Z,ae=[],fe=this.path,be=0;be<fe.length;be++){var me=fe[be];switch(me.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:me,deltas:[],abs:[]});break;case"lt":var Fe=ae.length;if(fe[be-1]&&!isNaN(fe[be-1].x)&&(U=[me.x-fe[be-1].x,me.y-fe[be-1].y],Fe>0)){for(;Fe>=0;Fe--)if(ae[Fe-1].close!==!0&&ae[Fe-1].begin!==!0){ae[Fe-1].deltas.push(U),ae[Fe-1].abs.push(me);break}}break;case"bct":U=[me.x1-fe[be-1].x,me.y1-fe[be-1].y,me.x2-fe[be-1].x,me.y2-fe[be-1].y,me.x-fe[be-1].x,me.y-fe[be-1].y],ae[ae.length-1].deltas.push(U);break;case"qct":var Le=fe[be-1].x+2/3*(me.x1-fe[be-1].x),Ke=fe[be-1].y+2/3*(me.y1-fe[be-1].y),Ge=me.x+2/3*(me.x1-me.x),mt=me.y+2/3*(me.y1-me.y),Se=me.x,$=me.y;U=[Le-fe[be-1].x,Ke-fe[be-1].y,Ge-fe[be-1].x,mt-fe[be-1].y,Se-fe[be-1].x,$-fe[be-1].y],ae[ae.length-1].deltas.push(U);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(me)}}Z=L?null:M==="stroke"?"stroke":"fill";for(var Pt=!1,ot=0;ot<ae.length;ot++)if(ae[ot].arc)for(var je=ae[ot].abs,He=0;He<je.length;He++){var Ze=je[He];Ze.type==="arc"?B.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,L,!Pt):W.call(this,Ze.x,Ze.y),Pt=!0}else if(ae[ot].close===!0)this.pdf.internal.out("h"),Pt=!1;else if(ae[ot].begin!==!0){var Ye=ae[ot].start.x,ut=ae[ot].start.y;G.call(this,ae[ot].deltas,Ye,ut),Pt=!0}Z&&le.call(this,Z),L&&he.call(this)}},X=function(M){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-U;case"top":return M+L-U;case"hanging":return M+L-2*U;case"middle":return M+L/2-U;case"ideographic":return M;case"alphabetic":default:return M}},z=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(L,U){this.colorStops.push([L,U])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(M,L,U,Z,ae,fe,be,me,Fe){for(var Le=Y.call(this,U,Z,ae,fe),Ke=0;Ke<Le.length;Ke++){var Ge=Le[Ke];Ke===0&&(Fe?k.call(this,Ge.x1+M,Ge.y1+L):W.call(this,Ge.x1+M,Ge.y1+L)),_e.call(this,M,L,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}me?he.call(this):le.call(this,be)},le=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},he=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(M,L){this.pdf.internal.out(t(M)+" "+r(L)+" m")},I=function(M){var L;switch(M.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var U=this.pdf.getTextDimensions(M.text),Z=X.call(this,M.y),ae=z.call(this,Z)-U.h,fe=this.ctx.transform.applyToPoint(new s(M.x,Z)),be=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Fe,Le,Ke,Ge=this.ctx.transform.applyToRectangle(new a(M.x,Z,U.w,U.h)),mt=me.applyToRectangle(new a(M.x,ae,U.w,U.h)),Se=C.call(this,mt),$=[],Pt=0;Pt<Se.length;Pt+=1)$.indexOf(Se[Pt])===-1&&$.push(Se[Pt]);if(O($),this.autoPaging)for(var ot=$[0],je=$[$.length-1],He=ot;He<je+1;He++){this.pdf.setPage(He);var Ze=He===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],Mt=ut-this.margin[0],Tt=this.pdf.internal.pageSize.width-this.margin[1],$t=Tt-this.margin[3],Jt=He===1?0:Ye+(He-2)*Mt;if(this.ctx.clip_path.length!==0){var hn=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Fe,this.posX+this.margin[3],-1*Jt+Ze),q.call(this,"fill",!0),this.path=hn}var ht=E([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-Jt+Ze+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*M.scale),Ke=this.lineWidth,this.lineWidth=Ke*M.scale);var Vt=this.autoPaging!=="text";if(Vt||ht.y+ht.h<=ut){if(Vt||ht.y>=Ze&&ht.x<=Tt){var T=Vt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Tt-ht.x)[0],ee=E([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Jt+Ze+this.ctx.prevPageLastElemOffset)[0],we=Vt&&(He>ot||He<je)&&_.call(this);we&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Mt,null).clip().discardPath()),this.pdf.text(T,ee.x,ee.y,{angle:M.angle,align:L,renderingMode:M.renderingMode}),we&&this.pdf.restoreGraphicsState()}}else ht.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-ht.y);M.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Ke)}else M.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*M.scale),Ke=this.lineWidth,this.lineWidth=Ke*M.scale),this.pdf.text(M.text,fe.x+this.posX,fe.y+this.posY,{angle:M.angle,align:L,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Ke)},W=function(M,L,U,Z){U=U||0,Z=Z||0,this.pdf.internal.out(t(M+U)+" "+r(L+Z)+" l")},G=function(M,L,U){return this.pdf.lines(M,L,U,null,null)},_e=function(M,L,U,Z,ae,fe,be,me){this.pdf.internal.out([e(i(U+M)),e(o(Z+L)),e(i(ae+M)),e(o(fe+L)),e(i(be+M)),e(o(me+L)),"c"].join(" "))},Y=function(M,L,U,Z){for(var ae=2*Math.PI,fe=Math.PI/2;L>U;)L-=ae;var be=Math.abs(U-L);be<ae&&Z&&(be=ae-be);for(var me=[],Fe=Z?-1:1,Le=L;be>1e-5;){var Ke=Le+Fe*Math.min(be,fe);me.push(ie.call(this,M,Le,Ke)),be-=Math.abs(Ke-Le),Le=Ke}return me},ie=function(M,L,U){var Z=(U-L)/2,ae=M*Math.cos(Z),fe=M*Math.sin(Z),be=ae,me=-fe,Fe=be*be+me*me,Le=Fe+be*ae+me*fe,Ke=4/3*(Math.sqrt(2*Fe*Le)-Le)/(be*fe-me*ae),Ge=be-Ke*me,mt=me+Ke*be,Se=Ge,$=-mt,Pt=Z+L,ot=Math.cos(Pt),je=Math.sin(Pt);return{x1:M*Math.cos(L),y1:M*Math.sin(L),x2:Ge*ot-mt*je,y2:Ge*je+mt*ot,x3:Se*ot-$*je,y3:Se*je+$*ot,x4:M*Math.cos(U),y4:M*Math.sin(U)}},H=function(M){return 180*M/Math.PI},se=function(M,L,U,Z,ae,fe){var be=M+.5*(U-M),me=L+.5*(Z-L),Fe=ae+.5*(U-ae),Le=fe+.5*(Z-fe),Ke=Math.min(M,ae,be,Fe),Ge=Math.max(M,ae,be,Fe),mt=Math.min(L,fe,me,Le),Se=Math.max(L,fe,me,Le);return new a(Ke,mt,Ge-Ke,Se-mt)},ge=function(M,L,U,Z,ae,fe,be,me){var Fe,Le,Ke,Ge,mt,Se,$,Pt,ot,je,He,Ze,Ye,ut,Mt=U-M,Tt=Z-L,$t=ae-U,Jt=fe-Z,hn=be-ae,ht=me-fe;for(Le=0;Le<41;Le++)ot=($=(Ke=M+(Fe=Le/40)*Mt)+Fe*((mt=U+Fe*$t)-Ke))+Fe*(mt+Fe*(ae+Fe*hn-mt)-$),je=(Pt=(Ge=L+Fe*Tt)+Fe*((Se=Z+Fe*Jt)-Ge))+Fe*(Se+Fe*(fe+Fe*ht-Se)-Pt),Le==0?(He=ot,Ze=je,Ye=ot,ut=je):(He=Math.min(He,ot),Ze=Math.min(Ze,je),Ye=Math.max(Ye,ot),ut=Math.max(ut,je));return new a(Math.round(He),Math.round(Ze),Math.round(Ye-He),Math.round(ut-Ze))},Re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,L,U=(M=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:L}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(_t.API),function(n){var e=function(o){var s,a,l,c,d,h,g,f,y,_;for(/[^\x00-\xFF]/.test(o),a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(h=(d=((d=((d=((d=(d-(_=d%85))/85)-(y=d%85))/85)-(f=d%85))/85)-(g=d%85))/85)%85,a.push(h+33,g+33,f+33,y+33,_+33)):a.push(122);return function(C,w){for(var E=w;E>0;E--)C.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},t=function(o){var s,a,l,c,d,h=String,g="length",f=255,y="charCodeAt",_="slice",C="replace";for(o[_](-2),o=o[_](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],c=0,d=(o+=s="uuuuu"[_](o[g]%5||5))[g];d>c;c+=5)a=52200625*(o[y](c)-33)+614125*(o[y](c+1)-33)+7225*(o[y](c+2)-33)+85*(o[y](c+3)-33)+(o[y](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(w,E){for(var O=E;O>0;O--)w.pop()}(l,s[g]),h.fromCharCode.apply(h,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=k2(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(_t.API),function(n){n.loadFile=function(e,t,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var h=new XMLHttpRequest,g=0,f=function(y){var _=y.length,C=[],w=String.fromCharCode;for(g=0;g<_;g+=1)C.push(w(255&y.charCodeAt(g)));return C.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,o,s)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(_t.API),function(n){function e(){return(Ct.html2canvas?Promise.resolve(Ct.html2canvas):import("./chunk-SOQBCYLK.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(Ct.DOMPurify?Promise.resolve(Ct.DOMPurify):import("./chunk-47BTRKO7.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=Sn(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(l(g,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var f=c[g],y=f.src.find(function(_){return _.format==="truetype"});y&&l.addFont(y.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,d).then(function(h){return l.updateProgress(1),h})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(c,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,_t.getPageSize=function(s,a,l){if(Sn(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,h=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var f,y=0,_=0;if(g.hasOwnProperty(h))y=g[h][1]/d,_=g[h][0]/d;else try{y=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",_>y&&(f=_,_=y,y=f);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>_&&(f=_,_=y,y=f)}return{width:_,height:y,unit:a,k:d,orientation:s}},n.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(k3):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(_t.API),_t.API.addJS=function(n){return Z8=n,this.internal.events.subscribe("postPutResources",function(){F2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),X8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Z8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F2!==void 0&&X8!==void 0&&this.internal.out("/Names <</JavaScript "+F2+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var h=t.internal.newObject();d.push(h);var g=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<d.length;o++)t.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(_t.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(h){for(var g,f=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,_={width:0,height:0,numcomponents:1},C=4;C<y;C+=2){if(C+=f,e.indexOf(h.charCodeAt(C+1))!==-1){g=256*h.charCodeAt(C+5)+h.charCodeAt(C+6),_={width:256*h.charCodeAt(C+7)+h.charCodeAt(C+8),height:g,numcomponents:h.charCodeAt(C+9)};break}f=256*h.charCodeAt(C+2)+h.charCodeAt(C+3)}return _}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(_t.API);var wh,j2,Q8,J8,eN,fK=function(){var n,e,t;function r(o){var s,a,l,c,d,h,g,f,y,_,C,w,E,O;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),y=(function(){var N,q;for(q=[],N=0;N<4;++N)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*d/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),o=h?.data||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(E=0;0<=_?E<_:E>_;0<=_?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(C=this.read(s)).indexOf(0),f=String.fromCharCode.apply(String,C.slice(0,g)),this.text[f]=String.fromCharCode.apply(String,C.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(h,g,f,y){var _,C,w,E,O,N,q,X,z,B,le,he,k,I,W,G,_e,Y,ie,H,se,ge=Math.ceil((c.width-h)/f),Re=Math.ceil((c.height-g)/y),M=c.width==ge&&c.height==Re;for(I=s*ge,he=M?a:new Uint8Array(I*Re),N=o.length,k=0,C=0;k<Re&&l<N;){switch(o[l++]){case 0:for(E=_e=0;_e<I;E=_e+=1)he[C++]=o[l++];break;case 1:for(E=Y=0;Y<I;E=Y+=1)_=o[l++],O=E<s?0:he[C-s],he[C++]=(_+O)%256;break;case 2:for(E=ie=0;ie<I;E=ie+=1)_=o[l++],w=(E-E%s)/s,W=k&&he[(k-1)*I+w*s+E%s],he[C++]=(W+_)%256;break;case 3:for(E=H=0;H<I;E=H+=1)_=o[l++],w=(E-E%s)/s,O=E<s?0:he[C-s],W=k&&he[(k-1)*I+w*s+E%s],he[C++]=(_+Math.floor((O+W)/2))%256;break;case 4:for(E=se=0;se<I;E=se+=1)_=o[l++],w=(E-E%s)/s,O=E<s?0:he[C-s],k===0?W=G=0:(W=he[(k-1)*I+w*s+E%s],G=w&&he[(k-1)*I+(w-1)*s+E%s]),q=O+W-G,X=Math.abs(q-O),B=Math.abs(q-W),le=Math.abs(q-G),z=X<=B&&X<=le?O:B<=le?W:G,he[C++]=(_+z)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!M){var L=((g+k*y)*c.width+h)*s,U=k*I;for(E=0;E<ge;E+=1){for(var Z=0;Z<s;Z+=1)a[L++]=he[U++];L+=(f-1)*s}}k++}}return o=U8(o),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,c,d,h,g,f;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=h=0,g=a.length;h<g;s=h+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(f=d[o++])!=null?f:255;return c},r.prototype.copyToImageData=function(o,s){var a,l,c,d,h,g,f,y,_,C,w;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),y=(c=o.data||o).length,h=_||s,d=g=0,l===1)for(;d<y;)f=_?4*s[d/4]:g,C=h[f++],c[d++]=C,c[d++]=C,c[d++]=C,c[d++]=a?h[f++]:255,g=f;else for(;d<y;)f=_?4*s[d/4]:g,c[d++]=h[f++],c[d++]=h[f++],c[d++]=h[f++],c[d++]=a?h[f++]:255,g=f},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(Ct)==="[object Window]"){try{e=Ct.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var s;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,c,d,h,g,f;if(this.animation){for(f=[],a=d=0,h=(g=this.animation.frames).length;d<h;a=++d)s=g[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,f.push(s.image=n(l));return f}},r.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,c,d,h,g=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,d=h.numPlays,(s=function(){var f,y;if(f=a++%c,y=l[f],g.renderFrame(o,f),c>1&&a/c<d)return g.animation._timeout=setTimeout(s,y.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();function pK(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,s=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,d=[],h=0,g=null,f=0,y=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];h=n[e++]|n[e++]<<8,g=n[e++],(1&_)==0&&(g=null),f=_>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var C=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,N=n[e++],q=N>>6&1,X=1<<(7&N)+1,z=a,B=l,le=!1;N>>7&&(le=!0,z=e,B=X,e+=3*X);var he=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}d.push({x:C,y:w,width:E,height:O,has_local_palette:le,palette_offset:z,palette_size:B,data_offset:he,data_length:e-he,transparent_index:g,interlaced:!!q,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,W){var G=this.frameInfo(I),_e=G.width*G.height,Y=new Uint8Array(_e);tN(n,G.data_offset,Y,_e);var ie=G.palette_offset,H=G.transparent_index;H===null&&(H=256);var se=G.width,ge=t-se,Re=se,M=4*(G.y*t+G.x),L=4*((G.y+G.height)*t+G.x),U=M,Z=4*ge;G.interlaced===!0&&(Z+=4*t*7);for(var ae=8,fe=0,be=Y.length;fe<be;++fe){var me=Y[fe];if(Re===0&&(Re=se,(U+=Z)>=L&&(Z=4*ge+4*t*(ae-1),U=M+(se+ge)*(ae<<1),ae>>=1)),me===H)U+=4;else{var Fe=n[ie+3*me],Le=n[ie+3*me+1],Ke=n[ie+3*me+2];W[U++]=Ke,W[U++]=Le,W[U++]=Fe,W[U++]=255}--Re}},this.decodeAndBlitFrameRGBA=function(I,W){var G=this.frameInfo(I),_e=G.width*G.height,Y=new Uint8Array(_e);tN(n,G.data_offset,Y,_e);var ie=G.palette_offset,H=G.transparent_index;H===null&&(H=256);var se=G.width,ge=t-se,Re=se,M=4*(G.y*t+G.x),L=4*((G.y+G.height)*t+G.x),U=M,Z=4*ge;G.interlaced===!0&&(Z+=4*t*7);for(var ae=8,fe=0,be=Y.length;fe<be;++fe){var me=Y[fe];if(Re===0&&(Re=se,(U+=Z)>=L&&(Z=4*ge+4*t*(ae-1),U=M+(se+ge)*(ae<<1),ae>>=1)),me===H)U+=4;else{var Fe=n[ie+3*me],Le=n[ie+3*me+1],Ke=n[ie+3*me+2];W[U++]=Fe,W[U++]=Le,W[U++]=Ke,W[U++]=255}--Re}}}function tN(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,d=0,h=0,g=0,f=n[e++],y=new Int32Array(4096),_=null;;){for(;d<16&&f!==0;)h|=n[e++]<<d,d+=8,f===1?f=n[e++]:--f;if(d<l)break;var C=h&c;if(h>>=l,d-=l,C!==o){if(C===s)break;for(var w=C<a?C:_,E=0,O=w;O>o;)O=y[O]>>8,++E;var N=O;if(g+E+(w!==C?1:0)>r)return void An.log("Warning, gif stream longer than expected.");t[g++]=N;var q=g+=E;for(w!==C&&(t[g++]=N),O=w;E--;)O=y[O],t[--q]=255&O,O>>=8;_!==null&&a<4096&&(y[a++]=_<<8|N,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=C}else a=s+1,c=(1<<(l=i+1))-1,_=null}return g!==r&&An.log("Warning, gif stream shorter than expected."),t}function D3(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),g=new Array(65535),f=new Array(64),y=new Array(64),_=[],C=0,w=7,E=new Array(64),O=new Array(64),N=new Array(64),q=new Array(256),X=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(M,L){for(var U=0,Z=0,ae=new Array,fe=1;fe<=16;fe++){for(var be=1;be<=M[fe];be++)ae[L[Z]]=[],ae[L[Z]][0]=U,ae[L[Z]][1]=fe,Z++,U++;U*=2}return ae}function ie(M){for(var L=M[0],U=M[1]-1;U>=0;)L&1<<U&&(C|=1<<w),U--,--w<0&&(C==255?(H(255),H(0)):H(C),w=7,C=0)}function H(M){_.push(M)}function se(M){H(M>>8&255),H(255&M)}function ge(M,L,U,Z,ae){for(var fe,be=ae[0],me=ae[240],Fe=function(je,He){var Ze,Ye,ut,Mt,Tt,$t,Jt,hn,ht,Vt,T=0;for(ht=0;ht<8;++ht){Ze=je[T],Ye=je[T+1],ut=je[T+2],Mt=je[T+3],Tt=je[T+4],$t=je[T+5],Jt=je[T+6];var ee=Ze+(hn=je[T+7]),we=Ze-hn,xe=Ye+Jt,Te=Ye-Jt,qe=ut+$t,lt=ut-$t,st=Mt+Tt,Xt=Mt-Tt,Dt=ee+st,on=ee-st,Fn=xe+qe,sn=xe-qe;je[T]=Dt+Fn,je[T+4]=Dt-Fn;var yt=.707106781*(sn+on);je[T+2]=on+yt,je[T+6]=on-yt;var un=.382683433*((Dt=Xt+lt)-(sn=Te+we)),Jl=.5411961*Dt+un,Br=1.306562965*sn+un,us=.707106781*(Fn=lt+Te),ds=we+us,bt=we-us;je[T+5]=bt+Jl,je[T+3]=bt-Jl,je[T+1]=ds+Br,je[T+7]=ds-Br,T+=8}for(T=0,ht=0;ht<8;++ht){Ze=je[T],Ye=je[T+8],ut=je[T+16],Mt=je[T+24],Tt=je[T+32],$t=je[T+40],Jt=je[T+48];var Po=Ze+(hn=je[T+56]),hs=Ze-hn,fi=Ye+Jt,_r=Ye-Jt,ur=ut+$t,Ni=ut-$t,wu=Mt+Tt,na=Mt-Tt,Do=Po+wu,Oo=Po-wu,Ao=fi+ur,fs=fi-ur;je[T]=Do+Ao,je[T+32]=Do-Ao;var Ki=.707106781*(fs+Oo);je[T+16]=Oo+Ki,je[T+48]=Oo-Ki;var ps=.382683433*((Do=na+Ni)-(fs=_r+hs)),ec=.5411961*Do+ps,Cu=1.306562965*fs+ps,Eu=.707106781*(Ao=Ni+_r),Su=hs+Eu,xu=hs-Eu;je[T+40]=xu+ec,je[T+24]=xu-ec,je[T+8]=Su+Cu,je[T+56]=Su-Cu,T++}for(ht=0;ht<64;++ht)Vt=je[ht]*He[ht],f[ht]=Vt>0?Vt+.5|0:Vt-.5|0;return f}(M,L),Le=0;Le<64;++Le)y[z[Le]]=Fe[Le];var Ke=y[0]-U;U=y[0],Ke==0?ie(Z[0]):(ie(Z[g[fe=32767+Ke]]),ie(h[fe]));for(var Ge=63;Ge>0&&y[Ge]==0;)Ge--;if(Ge==0)return ie(be),U;for(var mt,Se=1;Se<=Ge;){for(var $=Se;y[Se]==0&&Se<=Ge;)++Se;var Pt=Se-$;if(Pt>=16){mt=Pt>>4;for(var ot=1;ot<=mt;++ot)ie(me);Pt&=15}fe=32767+y[Se],ie(ae[(Pt<<4)+g[fe]]),ie(h[fe]),Se++}return Ge!=63&&ie(be),U}function Re(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(L){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ae=s((U[Z]*L+50)/100);ae=Math.min(Math.max(ae,1),255),a[z[Z]]=ae}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var me=s((fe[be]*L+50)/100);me=Math.min(Math.max(me,1),255),l[z[be]]=me}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Ke=0;Ke<8;Ke++)for(var Ge=0;Ge<8;Ge++)c[Le]=1/(a[z[Le]]*Fe[Ke]*Fe[Ge]*8),d[Le]=1/(l[z[Le]]*Fe[Ke]*Fe[Ge]*8),Le++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,L){L&&Re(L),_=new Array,C=0,w=7,se(65496),se(65504),se(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),se(1),se(1),H(0),H(0),function(){se(65499),se(132),H(0);for(var Ye=0;Ye<64;Ye++)H(a[Ye]);H(1);for(var ut=0;ut<64;ut++)H(l[ut])}(),function(Ye,ut){se(65472),se(17),H(8),se(ut),se(Ye),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(M.width,M.height),function(){se(65476),se(418),H(0);for(var Ye=0;Ye<16;Ye++)H(B[Ye+1]);for(var ut=0;ut<=11;ut++)H(le[ut]);H(16);for(var Mt=0;Mt<16;Mt++)H(he[Mt+1]);for(var Tt=0;Tt<=161;Tt++)H(k[Tt]);H(1);for(var $t=0;$t<16;$t++)H(I[$t+1]);for(var Jt=0;Jt<=11;Jt++)H(W[Jt]);H(17);for(var hn=0;hn<16;hn++)H(G[hn+1]);for(var ht=0;ht<=161;ht++)H(_e[ht])}(),se(65498),se(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var U=0,Z=0,ae=0;C=0,w=7,this.encode.displayName="_encode_";for(var fe,be,me,Fe,Le,Ke,Ge,mt,Se,$=M.data,Pt=M.width,ot=M.height,je=4*Pt,He=0;He<ot;){for(fe=0;fe<je;){for(Le=je*He+fe,Ge=-1,mt=0,Se=0;Se<64;Se++)Ke=Le+(mt=Se>>3)*je+(Ge=4*(7&Se)),He+mt>=ot&&(Ke-=je*(He+1+mt-ot)),fe+Ge>=je&&(Ke-=fe+Ge-je+4),be=$[Ke++],me=$[Ke++],Fe=$[Ke++],E[Se]=(X[be]+X[me+256>>0]+X[Fe+512>>0]>>16)-128,O[Se]=(X[be+768>>0]+X[me+1024>>0]+X[Fe+1280>>0]>>16)-128,N[Se]=(X[be+1280>>0]+X[me+1536>>0]+X[Fe+1792>>0]>>16)-128;U=ge(E,c,U,e,r),Z=ge(O,d,Z,t,i),ae=ge(N,d,ae,t,i),fe+=32}He+=8}if(w>=0){var Ze=[];Ze[1]=w+1,Ze[0]=(1<<w+1)-1,ie(Ze)}return se(65497),new Uint8Array(_)},n=n||50,function(){for(var M=String.fromCharCode,L=0;L<256;L++)q[L]=M(L)}(),e=Y(B,le),t=Y(I,W),r=Y(he,k),i=Y(G,_e),function(){for(var M=1,L=2,U=1;U<=15;U++){for(var Z=M;Z<L;Z++)g[32767+Z]=U,h[32767+Z]=[],h[32767+Z][1]=U,h[32767+Z][0]=Z;for(var ae=-(L-1);ae<=-M;ae++)g[32767+ae]=U,h[32767+ae]=[],h[32767+ae][1]=U,h[32767+ae][0]=L-1+ae;M<<=1,L<<=1}}(),function(){for(var M=0;M<256;M++)X[M]=19595*M,X[M+256>>0]=38470*M,X[M+512>>0]=7471*M+32768,X[M+768>>0]=-11059*M,X[M+1024>>0]=-21709*M,X[M+1280>>0]=32768*M+8421375,X[M+1536>>0]=-27439*M,X[M+1792>>0]=-5329*M}(),Re(n)}function as(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nN(n){function e(B){if(!B)throw Error("assert :P")}function t(B,le,he){for(var k=0;4>k;k++)if(B[le+k]!=he.charCodeAt(k))return!0;return!1}function r(B,le,he,k,I){for(var W=0;W<I;W++)B[le+W]=he[k+W]}function i(B,le,he,k){for(var I=0;I<k;I++)B[le+I]=he}function o(B){return new Int32Array(B)}function s(B,le){for(var he=[],k=0;k<B;k++)he.push(new le);return he}function a(B,le){var he=[];return function k(I,W,G){for(var _e=G[W],Y=0;Y<_e&&(I.push(G.length>W+1?[]:new le),!(G.length<W+1));Y++)k(I[Y],W+1,G)}(he,0,B),he}var l=function(){var B=this;function le(u,p){for(var v=1<<p-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function he(u,p,v,b,S){e(!(b%v));do u[p+(b-=v)]=S;while(0<b)}function k(u,p,v,b,S){if(e(2328>=S),512>=S)var P=o(512);else if((P=o(S))==null)return 0;return function(D,A,R,j,te,ve){var ye,ce,Oe=A,Ce=1<<R,ne=o(16),oe=o(16);for(e(te!=0),e(j!=null),e(D!=null),e(0<R),ce=0;ce<te;++ce){if(15<j[ce])return 0;++ne[j[ce]]}if(ne[0]==te)return 0;for(oe[1]=0,ye=1;15>ye;++ye){if(ne[ye]>1<<ye)return 0;oe[ye+1]=oe[ye]+ne[ye]}for(ce=0;ce<te;++ce)ye=j[ce],0<j[ce]&&(ve[oe[ye]++]=ce);if(oe[15]==1)return(j=new I).g=0,j.value=ve[0],he(D,Oe,1,Ce,j),Ce;var Me,Ne=-1,De=Ce-1,Je=0,We=1,vt=1,Xe=1<<R;for(ce=0,ye=1,te=2;ye<=R;++ye,te<<=1){if(We+=vt<<=1,0>(vt-=ne[ye]))return 0;for(;0<ne[ye];--ne[ye])(j=new I).g=ye,j.value=ve[ce++],he(D,Oe+Je,te,Xe,j),Je=le(Je,ye)}for(ye=R+1,te=2;15>=ye;++ye,te<<=1){if(We+=vt<<=1,0>(vt-=ne[ye]))return 0;for(;0<ne[ye];--ne[ye]){if(j=new I,(Je&De)!=Ne){for(Oe+=Xe,Me=1<<(Ne=ye)-R;15>Ne&&!(0>=(Me-=ne[Ne]));)++Ne,Me<<=1;Ce+=Xe=1<<(Me=Ne-R),D[A+(Ne=Je&De)].g=Me+R,D[A+Ne].value=Oe-A-Ne}j.g=ye-R,j.value=ve[ce++],he(D,Oe+(Je>>R),te,Xe,j),Je=le(Je,ye)}}return We!=2*oe[15]-1?0:Ce}(u,p,v,b,S,P)}function I(){this.value=this.g=0}function W(){this.value=this.g=0}function G(){this.G=s(5,I),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ur,W)}function _e(u,p,v,b){e(u!=null),e(p!=null),e(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=p,u.pa=v,u.Jd=p,u.Yc=v+b,u.Zc=4<=b?v+b-4+1:v,fe(u)}function Y(u,p){for(var v=0;0<p--;)v|=me(u,128)<<p;return v}function ie(u,p){var v=Y(u,p);return be(u)?-v:v}function H(u,p,v,b){var S,P=0;for(e(u!=null),e(p!=null),e(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),S=0;S<b;++S)P+=p[v+S]<<8*S;u.Ra=P,u.bb=b,u.oa=p,u.pa=v}function se(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Uu-8>>>0,++u.bb,u.u-=8;U(u)&&(u.h=1,u.u=0)}function ge(u,p){if(e(0<=p),!u.h&&p<=Bu){var v=L(u)&ju[p];return u.u+=p,se(u),v}return u.h=1,u.u=0}function Re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(u){return u.Ra>>>(u.u&Uu-1)>>>0}function U(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Uu}function Z(u,p){u.u=p,u.h=U(u)}function ae(u){u.u>=of&&(e(u.u>=of),se(u))}function fe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function be(u){return Y(u,1)}function me(u,p){var v=u.Ca;0>u.b&&fe(u);var b=u.b,S=v*p>>>8,P=(u.I>>>b>S)+0;for(P?(v-=S,u.I-=S+1<<b>>>0):v=S+1,b=v,S=0;256<=b;)S+=8,b>>=8;return b=7^S+gi[b],u.b-=b,u.Ca=(v<<b)-1,P}function Fe(u,p,v){u[p+0]=v>>24&255,u[p+1]=v>>16&255,u[p+2]=v>>8&255,u[p+3]=v>>0&255}function Le(u,p){return u[p+0]<<0|u[p+1]<<8}function Ke(u,p){return Le(u,p)|u[p+2]<<16}function Ge(u,p){return Le(u,p)|Le(u,p+2)<<16}function mt(u,p){var v=1<<p;return e(u!=null),e(0<p),u.X=o(v),u.X==null?0:(u.Mb=32-p,u.Xa=p,1)}function Se(u,p){e(u!=null),e(p!=null),e(u.Xa==p.Xa),r(p.X,0,u.X,0,1<<p.Xa)}function $(){this.X=[],this.Xa=this.Mb=0}function Pt(u,p,v,b){e(v!=null),e(b!=null);var S=v[0],P=b[0];return S==0&&(S=(u*P+p/2)/p),P==0&&(P=(p*S+u/2)/u),0>=S||0>=P?0:(v[0]=S,b[0]=P,1)}function ot(u,p){return u+(1<<p)-1>>>p}function je(u,p){return((4278255360&u)+(4278255360&p)>>>0&4278255360)+((16711935&u)+(16711935&p)>>>0&16711935)>>>0}function He(u,p){B[p]=function(v,b,S,P,D,A,R){var j;for(j=0;j<D;++j){var te=B[u](A[R+j-1],S,P+j);A[R+j]=je(v[b+j],te)}}}function Ze(){this.ud=this.hd=this.jd=0}function Ye(u,p){return((4278124286&(u^p))>>>1)+(u&p)>>>0}function ut(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Mt(u,p){return ut(u+(u-p+.5>>1))}function Tt(u,p,v){return Math.abs(p-v)-Math.abs(u-v)}function $t(u,p,v,b,S,P,D){for(b=P[D-1],v=0;v<S;++v)P[D+v]=b=je(u[p+v],b)}function Jt(u,p,v,b,S){var P;for(P=0;P<v;++P){var D=u[p+P],A=D>>8&255,R=16711935&(R=(R=16711935&D)+((A<<16)+A));b[S+P]=(4278255360&D)+R>>>0}}function hn(u,p){p.jd=u>>0&255,p.hd=u>>8&255,p.ud=u>>16&255}function ht(u,p,v,b,S,P){var D;for(D=0;D<b;++D){var A=p[v+D],R=A>>>8,j=A,te=255&(te=(te=A>>>16)+((u.jd<<24>>24)*(R<<24>>24)>>>5));j=255&(j=(j=j+((u.hd<<24>>24)*(R<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),S[P+D]=(4278255360&A)+(te<<16)+j}}function Vt(u,p,v,b,S){B[p]=function(P,D,A,R,j,te,ve,ye,ce){for(R=ve;R<ye;++R)for(ve=0;ve<ce;++ve)j[te++]=S(A[b(P[D++])])},B[u]=function(P,D,A,R,j,te,ve){var ye=8>>P.b,ce=P.Ea,Oe=P.K[0],Ce=P.w;if(8>ye)for(P=(1<<P.b)-1,Ce=(1<<ye)-1;D<A;++D){var ne,oe=0;for(ne=0;ne<ce;++ne)ne&P||(oe=b(R[j++])),te[ve++]=S(Oe[oe&Ce]),oe>>=ye}else B["VP8LMapColor"+v](R,j,Oe,Ce,te,ve,D,A,ce)}}function T(u,p,v,b,S){for(v=p+v;p<v;){var P=u[p++];b[S++]=P>>16&255,b[S++]=P>>8&255,b[S++]=P>>0&255}}function ee(u,p,v,b,S){for(v=p+v;p<v;){var P=u[p++];b[S++]=P>>16&255,b[S++]=P>>8&255,b[S++]=P>>0&255,b[S++]=P>>24&255}}function we(u,p,v,b,S){for(v=p+v;p<v;){var P=(D=u[p++])>>16&240|D>>12&15,D=D>>0&240|D>>28&15;b[S++]=P,b[S++]=D}}function xe(u,p,v,b,S){for(v=p+v;p<v;){var P=(D=u[p++])>>16&248|D>>13&7,D=D>>5&224|D>>3&31;b[S++]=P,b[S++]=D}}function Te(u,p,v,b,S){for(v=p+v;p<v;){var P=u[p++];b[S++]=P>>0&255,b[S++]=P>>8&255,b[S++]=P>>16&255}}function qe(u,p,v,b,S,P){if(P==0)for(v=p+v;p<v;)Fe(b,((P=u[p++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),S+=32;else r(b,S,u,p,v)}function lt(u,p){B[p][0]=B[u+"0"],B[p][1]=B[u+"1"],B[p][2]=B[u+"2"],B[p][3]=B[u+"3"],B[p][4]=B[u+"4"],B[p][5]=B[u+"5"],B[p][6]=B[u+"6"],B[p][7]=B[u+"7"],B[p][8]=B[u+"8"],B[p][9]=B[u+"9"],B[p][10]=B[u+"10"],B[p][11]=B[u+"11"],B[p][12]=B[u+"12"],B[p][13]=B[u+"13"],B[p][14]=B[u+"0"],B[p][15]=B[u+"0"]}function st(u){return u==ab||u==lb||u==_m||u==cb}function Xt(){this.eb=[],this.size=this.A=this.fb=0}function Dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function on(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xt,this.f.kb=new Dt,this.sd=null}function Fn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function un(u,p){var v=u.T,b=p.ba.f.RGBA,S=b.eb,P=b.fb+u.ka*b.A,D=to[p.ba.S],A=u.y,R=u.O,j=u.f,te=u.N,ve=u.ea,ye=u.W,ce=p.cc,Oe=p.dc,Ce=p.Mc,ne=p.Nc,oe=u.ka,Me=u.ka+u.T,Ne=u.U,De=Ne+1>>1;for(oe==0?D(A,R,null,null,j,te,ve,ye,j,te,ve,ye,S,P,null,null,Ne):(D(p.ec,p.fc,A,R,ce,Oe,Ce,ne,j,te,ve,ye,S,P-b.A,S,P,Ne),++v);oe+2<Me;oe+=2)ce=j,Oe=te,Ce=ve,ne=ye,te+=u.Rc,ye+=u.Rc,P+=2*b.A,D(A,(R+=2*u.fa)-u.fa,A,R,ce,Oe,Ce,ne,j,te,ve,ye,S,P-b.A,S,P,Ne);return R+=u.fa,u.j+Me<u.o?(r(p.ec,p.fc,A,R,Ne),r(p.cc,p.dc,j,te,De),r(p.Mc,p.Nc,ve,ye,De),v--):1&Me||D(A,R,null,null,j,te,ve,ye,j,te,ve,ye,S,P+b.A,null,null,Ne),v}function Jl(u,p,v){var b=u.F,S=[u.J];if(b!=null){var P=u.U,D=p.ba.S,A=D==ym||D==_m;p=p.ba.f.RGBA;var R=[0],j=u.ka;R[0]=u.T,u.Kb&&(j==0?--R[0]:(--j,S[0]-=u.width),u.j+u.ka+u.T==u.o&&(R[0]=u.o-u.j-j));var te=p.eb;j=p.fb+j*p.A,u=Tn(b,S[0],u.width,P,R,te,j+(A?0:3),p.A),e(v==R),u&&st(D)&&Ji(te,j,A,P,R,p.A)}return 0}function Br(u){var p=u.ma,v=p.ba.S,b=11>v,S=v==mm||v==vm||v==ym||v==sb||v==12||st(v);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!nf(p.Oa,u,S?11:12))return 0;if(S&&st(v)&&ke(),u.da)alert("todo:use_scaling");else{if(b){if(p.Ib=yt,u.Kb){if(v=u.U+1>>1,p.memory=o(u.U+2*v),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+u.U,p.Mc=p.cc,p.Nc=p.dc+v,p.Ib=un,ke()}}else alert("todo:EmitYUV");S&&(p.Jb=Jl,b&&pe())}if(b&&!vx){for(u=0;256>u;++u)Jk[u]=89858*(u-128)+wm>>bm,n7[u]=-22014*(u-128)+wm,t7[u]=-45773*(u-128),e7[u]=113618*(u-128)+wm>>bm;for(u=hf;u<hb;++u)p=76283*(u-16)+wm>>bm,r7[u-hf]=ki(p,255),i7[u-hf]=ki(p+8>>4,15);vx=1}return 1}function us(u){var p=u.ma,v=u.U,b=u.T;return e(!(1&u.ka)),0>=v||0>=b?0:(v=p.Ib(u,p),p.Jb!=null&&p.Jb(u,p,v),p.Dc+=v,1)}function ds(u){u.ma.memory=null}function bt(u,p,v,b){return ge(u,8)!=47?0:(p[0]=ge(u,14)+1,v[0]=ge(u,14)+1,b[0]=ge(u,1),ge(u,3)!=0?0:!u.h)}function Po(u,p){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+ge(p,v)+1}function hs(u,p){return 120<p?p-120:1<=(v=((v=Bk[p-1])>>4)*u+(8-(15&v)))?v:1;var v}function fi(u,p,v){var b=L(v),S=u[p+=255&b].g-8;return 0<S&&(Z(v,v.u+8),b=L(v),p+=u[p].value,p+=b&(1<<S)-1),Z(v,v.u+u[p].g),u[p].value}function _r(u,p,v){return v.g+=u.g,v.value+=u.value<<p>>>0,e(8>=v.g),u.g}function ur(u,p,v){var b=u.xc;return e((p=b==0?0:u.vc[u.md*(v>>b)+(p>>b)])<u.Wb),u.Ya[p]}function Ni(u,p,v,b){var S=u.ab,P=u.c*p,D=u.C;p=D+p;var A=v,R=b;for(b=u.Ta,v=u.Ua;0<S--;){var j=u.gc[S],te=D,ve=p,ye=A,ce=R,Oe=(R=b,A=v,j.Ea);switch(e(te<ve),e(ve<=j.nc),j.hc){case 2:cm(ye,ce,(ve-te)*Oe,R,A);break;case 0:var Ce=te,ne=ve,oe=R,Me=A,Ne=(Xe=j).Ea;Ce==0&&(ib(ye,ce,null,null,1,oe,Me),$t(ye,ce+1,0,0,Ne-1,oe,Me+1),ce+=Ne,Me+=Ne,++Ce);for(var De=1<<Xe.b,Je=De-1,We=ot(Ne,Xe.b),vt=Xe.K,Xe=Xe.w+(Ce>>Xe.b)*We;Ce<ne;){var fn=vt,yn=Xe,cn=1;for(sf(ye,ce,oe,Me-Ne,1,oe,Me);cn<Ne;){var en=(cn&~Je)+De;en>Ne&&(en=Ne),(0,Ja[fn[yn++]>>8&15])(ye,ce+ +cn,oe,Me+cn-Ne,en-cn,oe,Me+cn),cn=en}ce+=Ne,Me+=Ne,++Ce&Je||(Xe+=We)}ve!=j.nc&&r(R,A-Oe,R,A+(ve-te-1)*Oe,Oe);break;case 1:for(Oe=ye,ne=ce,Ne=(ye=j.Ea)-(Me=ye&~(oe=(ce=1<<j.b)-1)),Ce=ot(ye,j.b),De=j.K,j=j.w+(te>>j.b)*Ce;te<ve;){for(Je=De,We=j,vt=new Ze,Xe=ne+Me,fn=ne+ye;ne<Xe;)hn(Je[We++],vt),oc(vt,Oe,ne,ce,R,A),ne+=ce,A+=ce;ne<fn&&(hn(Je[We++],vt),oc(vt,Oe,ne,Ne,R,A),ne+=Ne,A+=Ne),++te&oe||(j+=Ce)}break;case 3:if(ye==R&&ce==A&&0<j.b){for(ne=R,ye=Oe=A+(ve-te)*Oe-(Me=(ve-te)*ot(j.Ea,j.b)),ce=R,oe=A,Ce=[],Me=(Ne=Me)-1;0<=Me;--Me)Ce[Me]=ce[oe+Me];for(Me=Ne-1;0<=Me;--Me)ne[ye+Me]=Ce[Me];Xi(j,te,ve,R,Oe,R,A)}else Xi(j,te,ve,ye,ce,R,A)}A=b,R=v}R!=v&&r(b,v,A,R,P)}function wu(u,p){var v=u.V,b=u.Ba+u.c*u.C,S=p-u.C;if(e(p<=u.l.o),e(16>=S),0<S){var P=u.l,D=u.Ta,A=u.Ua,R=P.width;if(Ni(u,S,v,b),S=A=[A],e((v=u.C)<(b=p)),e(P.v<P.va),b>P.o&&(b=P.o),v<P.j){var j=P.j-v;v=P.j,S[0]+=j*R}if(v>=b?v=0:(S[0]+=4*P.v,P.ka=v-P.j,P.U=P.va-P.v,P.T=b-v,v=1),v){if(A=A[0],11>(v=u.ca).S){var te=v.f.RGBA,ve=(b=v.S,S=P.U,P=P.T,j=te.eb,te.A),ye=P;for(te=te.fb+u.Ma*te.A;0<ye--;){var ce=D,Oe=A,Ce=S,ne=j,oe=te;switch(b){case gm:mi(ce,Oe,Ce,ne,oe);break;case mm:oi(ce,Oe,Ce,ne,oe);break;case ab:oi(ce,Oe,Ce,ne,oe),Ji(ne,oe,0,Ce,1,0);break;case ax:sa(ce,Oe,Ce,ne,oe);break;case vm:qe(ce,Oe,Ce,ne,oe,1);break;case lb:qe(ce,Oe,Ce,ne,oe,1),Ji(ne,oe,0,Ce,1,0);break;case ym:qe(ce,Oe,Ce,ne,oe,0);break;case _m:qe(ce,Oe,Ce,ne,oe,0),Ji(ne,oe,1,Ce,1,0);break;case sb:el(ce,Oe,Ce,ne,oe);break;case cb:el(ce,Oe,Ce,ne,oe),In(ne,oe,Ce,1,0);break;case lx:oa(ce,Oe,Ce,ne,oe);break;default:e(0)}A+=R,te+=ve}u.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=p,e(u.C<=u.i)}function na(u){var p;if(0<u.ua)return 0;for(p=0;p<u.Wb;++p){var v=u.Ya[p].G,b=u.Ya[p].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function Do(u,p,v,b,S,P){if(u.Z!=0){var D=u.qd,A=u.rd;for(e(il[u.Z]!=null);p<v;++p)il[u.Z](D,A,b,S,b,S,P),D=b,A=S,S+=P;u.qd=D,u.rd=A}}function Oo(u,p){var v=u.l.ma,b=v.Z==0||v.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,e(p<=u.l.o),p>b){var S=u.l.width,P=v.ca,D=v.tb+S*b,A=u.V,R=u.Ba+u.c*b,j=u.gc;e(u.ab==1),e(j[0].hc==3),um(j[0],b,p,A,R,P,D),Do(v,b,p,P,D,S)}u.C=u.Ma=p}function Ao(u,p,v,b,S,P,D){var A=u.$/b,R=u.$%b,j=u.m,te=u.s,ve=v+u.$,ye=ve;S=v+b*S;var ce=v+b*P,Oe=280+te.ua,Ce=u.Pb?A:16777216,ne=0<te.ua?te.Wa:null,oe=te.wc,Me=ve<ce?ur(te,R,A):null;e(u.C<P),e(ce<=S);var Ne=!1;e:for(;;){for(;Ne||ve<ce;){var De=0;if(A>=Ce){var Je=ve-v;e((Ce=u).Pb),Ce.wd=Ce.m,Ce.xd=Je,0<Ce.s.ua&&Se(Ce.s.Wa,Ce.s.vb),Ce=A+Vk}if(R&oe||(Me=ur(te,R,A)),e(Me!=null),Me.Qb&&(p[ve]=Me.qb,Ne=!0),!Ne)if(ae(j),Me.jc){De=j,Je=p;var We=ve,vt=Me.pd[L(De)&Ur-1];e(Me.jc),256>vt.g?(Z(De,De.u+vt.g),Je[We]=vt.value,De=0):(Z(De,De.u+vt.g-256),e(256<=vt.value),De=vt.value),De==0&&(Ne=!0)}else De=fi(Me.G[0],Me.H[0],j);if(j.h)break;if(Ne||256>De){if(!Ne)if(Me.nd)p[ve]=(Me.qb|De<<8)>>>0;else{if(ae(j),Ne=fi(Me.G[1],Me.H[1],j),ae(j),Je=fi(Me.G[2],Me.H[2],j),We=fi(Me.G[3],Me.H[3],j),j.h)break;p[ve]=(We<<24|Ne<<16|De<<8|Je)>>>0}if(Ne=!1,++ve,++R>=b&&(R=0,++A,D!=null&&A<=P&&!(A%16)&&D(u,A),ne!=null))for(;ye<ve;)De=p[ye++],ne.X[(506832829*De&4294967295)>>>ne.Mb]=De}else if(280>De){if(De=Po(De-256,j),Je=fi(Me.G[4],Me.H[4],j),ae(j),Je=hs(b,Je=Po(Je,j)),j.h)break;if(ve-v<Je||S-ve<De)break e;for(We=0;We<De;++We)p[ve+We]=p[ve+We-Je];for(ve+=De,R+=De;R>=b;)R-=b,++A,D!=null&&A<=P&&!(A%16)&&D(u,A);if(e(ve<=S),R&oe&&(Me=ur(te,R,A)),ne!=null)for(;ye<ve;)De=p[ye++],ne.X[(506832829*De&4294967295)>>>ne.Mb]=De}else{if(!(De<Oe))break e;for(Ne=De-280,e(ne!=null);ye<ve;)De=p[ye++],ne.X[(506832829*De&4294967295)>>>ne.Mb]=De;De=ve,e(!(Ne>>>(Je=ne).Xa)),p[De]=Je.X[Ne],Ne=!0}Ne||e(j.h==U(j))}if(u.Pb&&j.h&&ve<S)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Se(u.s.vb,u.s.Wa);else{if(j.h)break e;D?.(u,A>P?P:A),u.a=0,u.$=ve-v}return 1}return u.a=3,0}function fs(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var p=u.Wa;p!=null&&(p.X=null),u.vb=null,e(u!=null)}function Ki(){var u=new rb;return u==null?null:(u.a=0,u.xb=dx,lt("Predictor","VP8LPredictors"),lt("Predictor","VP8LPredictors_C"),lt("PredictorAdd","VP8LPredictorsAdd"),lt("PredictorAdd","VP8LPredictorsAdd_C"),cm=Jt,oc=ht,mi=T,oi=ee,el=we,oa=xe,sa=Te,B.VP8LMapColor32b=Vu,B.VP8LMapColor8b=dm,u)}function ps(u,p,v,b,S){var P=1,D=[u],A=[p],R=b.m,j=b.s,te=null,ve=0;e:for(;;){if(v)for(;P&&ge(R,1);){var ye=D,ce=A,Oe=b,Ce=1,ne=Oe.m,oe=Oe.gc[Oe.ab],Me=ge(ne,2);if(Oe.Oc&1<<Me)P=0;else{switch(Oe.Oc|=1<<Me,oe.hc=Me,oe.Ea=ye[0],oe.nc=ce[0],oe.K=[null],++Oe.ab,e(4>=Oe.ab),Me){case 0:case 1:oe.b=ge(ne,3)+2,Ce=ps(ot(oe.Ea,oe.b),ot(oe.nc,oe.b),0,Oe,oe.K),oe.K=oe.K[0];break;case 3:var Ne,De=ge(ne,8)+1,Je=16<De?0:4<De?1:2<De?2:3;if(ye[0]=ot(oe.Ea,Je),oe.b=Je,Ne=Ce=ps(De,1,0,Oe,oe.K)){var We,vt=De,Xe=oe,fn=1<<(8>>Xe.b),yn=o(fn);if(yn==null)Ne=0;else{var cn=Xe.K[0],en=Xe.w;for(yn[0]=Xe.K[0][0],We=1;We<1*vt;++We)yn[We]=je(cn[en+We],yn[We-1]);for(;We<4*fn;++We)yn[We]=0;Xe.K[0]=null,Xe.K[0]=yn,Ne=1}}Ce=Ne;break;case 2:break;default:e(0)}P=Ce}}if(D=D[0],A=A[0],P&&ge(R,1)&&!(P=1<=(ve=ge(R,4))&&11>=ve)){b.a=3;break e}var Dn;if(Dn=P)t:{var En,Bt,hr,vi=b,fr=D,yi=A,_n=ve,Li=v,Fi=vi.m,Ar=vi.s,Vr=[null],ai=1,no=0,ys=Uk[_n];n:for(;;){if(Li&&ge(Fi,1)){var Ir=ge(Fi,3)+2,ua=ot(fr,Ir),uc=ot(yi,Ir),Gu=ua*uc;if(!ps(ua,uc,0,vi,Vr))break n;for(Vr=Vr[0],Ar.xc=Ir,En=0;En<Gu;++En){var ol=Vr[En]>>8&65535;Vr[En]=ol,ol>=ai&&(ai=ol+1)}}if(Fi.h)break n;for(Bt=0;5>Bt;++Bt){var Gn=cx[Bt];!Bt&&0<_n&&(Gn+=1<<_n),no<Gn&&(no=Gn)}var fb=s(ai*ys,I),bx=ai,wx=s(bx,G);if(wx==null)var Em=null;else e(65536>=bx),Em=wx;var ff=o(no);if(Em==null||ff==null||fb==null){vi.a=1;break n}var Sm=fb;for(En=hr=0;En<ai;++En){var Ro=Em[En],Wu=Ro.G,Yu=Ro.H,Cx=0,xm=1,Ex=0;for(Bt=0;5>Bt;++Bt){Gn=cx[Bt],Wu[Bt]=Sm,Yu[Bt]=hr,!Bt&&0<_n&&(Gn+=1<<_n);i:{var Mm,pb=Gn,Pm=vi,pf=ff,a7=Sm,l7=hr,gb=0,sl=Pm.m,c7=ge(sl,1);if(i(pf,0,0,pb),c7){var u7=ge(sl,1)+1,d7=ge(sl,1),Sx=ge(sl,d7==0?1:8);pf[Sx]=1,u7==2&&(pf[Sx=ge(sl,8)]=1);var Dm=1}else{var xx=o(19),Mx=ge(sl,4)+4;if(19<Mx){Pm.a=3;var Om=0;break i}for(Mm=0;Mm<Mx;++Mm)xx[jk[Mm]]=ge(sl,3);var mb=void 0,gf=void 0,Px=Pm,h7=xx,Am=pb,Dx=pf,vb=0,al=Px.m,Ox=8,Ax=s(128,I);r:for(;k(Ax,0,7,h7,19);){if(ge(al,1)){var f7=2+2*ge(al,3);if((mb=2+ge(al,f7))>Am)break r}else mb=Am;for(gf=0;gf<Am&&mb--;){ae(al);var Ix=Ax[0+(127&L(al))];Z(al,al.u+Ix.g);var Ku=Ix.value;if(16>Ku)Dx[gf++]=Ku,Ku!=0&&(Ox=Ku);else{var p7=Ku==16,Tx=Ku-16,g7=Lk[Tx],Nx=ge(al,Rk[Tx])+g7;if(gf+Nx>Am)break r;for(var m7=p7?Ox:0;0<Nx--;)Dx[gf++]=m7}}vb=1;break r}vb||(Px.a=3),Dm=vb}(Dm=Dm&&!sl.h)&&(gb=k(a7,l7,8,pf,pb)),Dm&&gb!=0?Om=gb:(Pm.a=3,Om=0)}if(Om==0)break n;if(xm&&Fk[Bt]==1&&(xm=Sm[hr].g==0),Cx+=Sm[hr].g,hr+=Om,3>=Bt){var mf,yb=ff[0];for(mf=1;mf<Gn;++mf)ff[mf]>yb&&(yb=ff[mf]);Ex+=yb}}if(Ro.nd=xm,Ro.Qb=0,xm&&(Ro.qb=(Wu[3][Yu[3]+0].value<<24|Wu[1][Yu[1]+0].value<<16|Wu[2][Yu[2]+0].value)>>>0,Cx==0&&256>Wu[0][Yu[0]+0].value&&(Ro.Qb=1,Ro.qb+=Wu[0][Yu[0]+0].value<<8)),Ro.jc=!Ro.Qb&&6>Ex,Ro.jc){var Im,da=Ro;for(Im=0;Im<Ur;++Im){var ll=Im,cl=da.pd[ll],Tm=da.G[0][da.H[0]+ll];256<=Tm.value?(cl.g=Tm.g+256,cl.value=Tm.value):(cl.g=0,cl.value=0,ll>>=_r(Tm,8,cl),ll>>=_r(da.G[1][da.H[1]+ll],16,cl),ll>>=_r(da.G[2][da.H[2]+ll],0,cl),_r(da.G[3][da.H[3]+ll],24,cl))}}}Ar.vc=Vr,Ar.Wb=ai,Ar.Ya=Em,Ar.yc=fb,Dn=1;break t}Dn=0}if(!(P=Dn)){b.a=3;break e}if(0<ve){if(j.ua=1<<ve,!mt(j.Wa,ve)){b.a=1,P=0;break e}}else j.ua=0;var _b=b,kx=D,v7=A,bb=_b.s,wb=bb.xc;if(_b.c=kx,_b.i=v7,bb.md=ot(kx,wb),bb.wc=wb==0?-1:(1<<wb)-1,v){b.xb=Yk;break e}if((te=o(D*A))==null){b.a=1,P=0;break e}P=(P=Ao(b,te,0,D,A,A,null))&&!R.h;break e}return P?(S!=null?S[0]=te:(e(te==null),e(v)),b.$=0,v||fs(j)):fs(j),P}function ec(u,p){var v=u.c*u.i,b=v+p+16*p;return e(u.c<=p),u.V=o(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+p,1)}function Cu(u,p){var v=u.C,b=p-v,S=u.V,P=u.Ba+u.c*v;for(e(p<=u.l.o);0<b;){var D=16<b?16:b,A=u.l.ma,R=u.l.width,j=R*D,te=A.ca,ve=A.tb+R*v,ye=u.Ta,ce=u.Ua;Ni(u,D,S,P),nr(ye,ce,te,ve,j),Do(A,v,v+D,te,ve,R),b-=D,S+=D*u.c,v+=D}e(v==p),u.C=u.Ma=p}function Eu(){this.ub=this.yd=this.td=this.Rb=0}function Su(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xu(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Hg(){this.Yb=function(){var u=[];return function p(v,b,S){for(var P=S[b],D=0;D<P&&(v.push(S.length>b+1?[]:0),!(S.length<b+1));D++)p(v[D],b+1,S)}(u,0,[3,11]),u}()}function k_(){this.jb=o(3),this.Wc=a([4,8],Hg),this.Xc=a([4,17],Hg)}function R_(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Mu(){this.ld=this.La=this.dd=this.tc=0}function qg(){this.Na=this.la=0}function L_(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Uh(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function F_(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mu),this.Y=0,this.ya=Array(new Uh),this.aa=0,this.l=new Pu}function $g(){this.y=o(16),this.f=o(8),this.ea=o(8)}function j_(){this.cb=this.a=0,this.sc="",this.m=new Re,this.Od=new Eu,this.Kc=new Su,this.ed=new R_,this.Qa=new xu,this.Ic=this.$c=this.Aa=0,this.D=new F_,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Re),this.ia=0,this.pb=s(4,L_),this.Pa=new k_,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $g),this.Hd=0,this.rb=Array(new qg),this.sb=0,this.wa=Array(new Mu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Uh),this.L=this.aa=0,this.gd=a([4,2],Mu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function B_(){var u=new j_;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,df||(df=Yg)),u}function er(u,p,v){return u.a==0&&(u.a=p,u.sc=v,u.cb=0),0}function Gg(u,p,v){return 3<=v&&u[p+0]==157&&u[p+1]==1&&u[p+2]==42}function Wg(u,p){if(u==null)return 0;if(u.a=0,u.sc="OK",p==null)return er(u,2,"null VP8Io passed to VP8GetHeaders()");var v=p.data,b=p.w,S=p.ha;if(4>S)return er(u,7,"Truncated header.");var P=v[b+0]|v[b+1]<<8|v[b+2]<<16,D=u.Od;if(D.Rb=!(1&P),D.td=P>>1&7,D.yd=P>>4&1,D.ub=P>>5,3<D.td)return er(u,3,"Incorrect keyframe parameters.");if(!D.yd)return er(u,4,"Frame not displayable.");b+=3,S-=3;var A=u.Kc;if(D.Rb){if(7>S)return er(u,7,"cannot parse picture header");if(!Gg(v,b,S))return er(u,3,"Bad code word");A.c=16383&(v[b+4]<<8|v[b+3]),A.Td=v[b+4]>>6,A.i=16383&(v[b+6]<<8|v[b+5]),A.Ud=v[b+6]>>6,b+=7,S-=7,u.za=A.c+15>>4,u.Ub=A.i+15>>4,p.width=A.c,p.height=A.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((P=u.Pa).jb,0,255,P.jb.length),e((P=u.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,i(P.Zb,0,0,P.Zb.length),i(P.Lb,0,0,P.Lb)}if(D.ub>S)return er(u,7,"bad partition length");_e(P=u.m,v,b,D.ub),b+=D.ub,S-=D.ub,D.Rb&&(A.Ld=be(P),A.Kd=be(P)),A=u.Qa;var R,j=u.Pa;if(e(P!=null),e(A!=null),A.Cb=be(P),A.Cb){if(A.Bb=be(P),be(P)){for(A.Fb=be(P),R=0;4>R;++R)A.Zb[R]=be(P)?ie(P,7):0;for(R=0;4>R;++R)A.Lb[R]=be(P)?ie(P,6):0}if(A.Bb)for(R=0;3>R;++R)j.jb[R]=be(P)?Y(P,8):255}else A.Bb=0;if(P.Ka)return er(u,3,"cannot parse segment header");if((A=u.ed).zd=be(P),A.Tb=Y(P,6),A.wb=Y(P,3),A.Pc=be(P),A.Pc&&be(P)){for(j=0;4>j;++j)be(P)&&(A.vd[j]=ie(P,6));for(j=0;4>j;++j)be(P)&&(A.od[j]=ie(P,6))}if(u.L=A.Tb==0?0:A.zd?1:2,P.Ka)return er(u,3,"cannot parse filter header");var te=S;if(S=R=b,b=R+te,A=te,u.Xb=(1<<Y(u.m,2))-1,te<3*(j=u.Xb))v=7;else{for(R+=3*j,A-=3*j,te=0;te<j;++te){var ve=v[S+0]|v[S+1]<<8|v[S+2]<<16;ve>A&&(ve=A),_e(u.Jc[+te],v,R,ve),R+=ve,A-=ve,S+=3}_e(u.Jc[+j],v,R,A),v=R<b?0:5}if(v!=0)return er(u,v,"cannot parse partitions");for(v=Y(R=u.m,7),S=be(R)?ie(R,4):0,b=be(R)?ie(R,4):0,A=be(R)?ie(R,4):0,j=be(R)?ie(R,4):0,R=be(R)?ie(R,4):0,te=u.Qa,ve=0;4>ve;++ve){if(te.Cb){var ye=te.Zb[ve];te.Fb||(ye+=v)}else{if(0<ve){u.pb[ve]=u.pb[0];continue}ye=v}var ce=u.pb[ve];ce.Sc[0]=ub[ki(ye+S,127)],ce.Sc[1]=db[ki(ye+0,127)],ce.Eb[0]=2*ub[ki(ye+b,127)],ce.Eb[1]=101581*db[ki(ye+A,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=ub[ki(ye+j,117)],ce.Qc[1]=db[ki(ye+R,127)],ce.lc=ye+R}if(!D.Rb)return er(u,4,"Not a key frame.");for(be(P),D=u.Pa,v=0;4>v;++v){for(S=0;8>S;++S)for(b=0;3>b;++b)for(A=0;11>A;++A)j=me(P,Gk[v][S][b][A])?Y(P,8):qk[v][S][b][A],D.Wc[v][S].Yb[b][A]=j;for(S=0;17>S;++S)D.Xc[v][S]=D.Wc[v][Wk[S]]}return u.kc=be(P),u.kc&&(u.Bd=Y(P,8)),u.cb=1}function Yg(u,p,v,b,S,P,D){var A=p[S].Yb[v];for(v=0;16>S;++S){if(!me(u,A[v+0]))return S;for(;!me(u,A[v+1]);)if(A=p[++S].Yb[0],v=0,S==16)return 16;var R=p[S+1].Yb;if(me(u,A[v+2])){var j=u,te=0;if(me(j,(ye=A)[(ve=v)+3]))if(me(j,ye[ve+6])){for(A=0,ve=2*(te=me(j,ye[ve+8]))+(ye=me(j,ye[ve+9+te])),te=0,ye=zk[ve];ye[A];++A)te+=te+me(j,ye[A]);te+=3+(8<<ve)}else me(j,ye[ve+7])?(te=7+2*me(j,165),te+=me(j,145)):te=5+me(j,159);else te=me(j,ye[ve+4])?3+me(j,ye[ve+5]):2;A=R[2]}else te=1,A=R[1];R=D+Hk[S],0>(j=u).b&&fe(j);var ve,ye=j.b,ce=(ve=j.Ca>>1)-(j.I>>ye)>>31;--j.b,j.Ca+=ce,j.Ca|=1,j.I-=(ve+1&ce)<<ye,P[R]=((te^ce)-ce)*b[(0<S)+0]}return 16}function Vh(u){var p=u.rb[u.sb-1];p.la=0,p.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function U_(u,p){if(u==null)return 0;if(p==null)return er(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Wg(u,p))return 0;if(e(u.cb),p.ac==null||p.ac(p)){p.ob&&(u.L=0);var v=Cm[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=p.v-v>>4,u.zb=p.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=p.o+15+v>>4,u.Hb=p.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var b=u.ed;for(v=0;4>v;++v){var S;if(u.Qa.Cb){var P=u.Qa.Lb[v];u.Qa.Fb||(P+=b.Tb)}else P=b.Tb;for(S=0;1>=S;++S){var D=u.gd[v][S],A=P;if(b.Pc&&(A+=b.vd[0],S&&(A+=b.od[0])),0<(A=0>A?0:63<A?63:A)){var R=A;0<b.wb&&(R=4<b.wb?R>>2:R>>1)>9-b.wb&&(R=9-b.wb),1>R&&(R=1),D.dd=R,D.tc=2*A+R,D.ld=40<=A?2:15<=A?1:0}else D.tc=0;D.La=S}}}v=0}else er(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=s7);e:{v=u.Ic,b=4*(R=u.za);var j=32*R,te=R+1,ve=0<u.L?R*(0<u.Aa?2:1):0,ye=(u.Aa==2?2:1)*R;if((D=b+832+(S=3*(16*v+Cm[u.L])/2*j)+(P=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=D)v=0;else{if(D>u.Vb){if(u.Vb=0,u.Ec=o(D),u.Fc=0,u.Ec==null){v=er(u,1,"no memory during frame initialization.");break e}u.Vb=D}D=u.Ec,A=u.Fc,u.Ac=D,u.Bc=A,A+=b,u.Gd=s(j,$g),u.Hd=0,u.rb=s(te+1,qg),u.sb=1,u.wa=ve?s(ve,Mu):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=R),e(!0),u.oc=D,u.pc=A,A+=832,u.ya=s(ye,Uh),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=R),u.R=16*R,u.B=8*R,R=(j=Cm[u.L])*u.R,j=j/2*u.B,u.sa=D,u.ta=A+R,u.qa=u.sa,u.ra=u.ta+16*v*u.R+j,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+j,u.$c=0,A+=S,u.mb=P?D:null,u.nb=P?A:null,e(A+P<=u.Fc+u.Vb),Vh(u),i(u.Ac,u.Bc,0,b),v=1}}if(v){if(p.ka=0,p.y=u.sa,p.O=u.ta,p.f=u.qa,p.N=u.ra,p.ea=u.Ha,p.Vd=u.Ia,p.fa=u.R,p.Rc=u.B,p.F=null,p.J=0,!fm){for(v=-255;255>=v;++v)br[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)la[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)uf[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)$u[255+v]=0>v?0:255<v?255:v;fm=1}zu=H_,aa=V_,af=Xg,si=z_,Zi=Zg,tr=Kg,Hu=Wh,hm=rc,lf=nb,sc=Yh,ac=tb,tl=Nu,lc=Kh,qu=sm,cc=om,nl=ms,cf=ia,Qi=eb,ko[0]=gs,ko[1]=q_,ko[2]=Y_,ko[3]=K_,ko[4]=em,ko[5]=Iu,ko[6]=tm,ko[7]=qh,ko[8]=Z_,ko[9]=X_,rl[0]=Qg,rl[1]=G_,rl[2]=ra,rl[3]=Ou,rl[4]=Wr,rl[5]=W_,rl[6]=Jg,ca[0]=Xa,ca[1]=$_,ca[2]=Q_,ca[3]=$h,ca[4]=nc,ca[5]=J_,ca[6]=Gh,v=1}else v=0}v&&(v=function(ce,Oe){for(ce.M=0;ce.M<ce.Va;++ce.M){var Ce,ne=ce.Jc[ce.M&ce.Xb],oe=ce.m,Me=ce;for(Ce=0;Ce<Me.za;++Ce){var Ne=oe,De=Me,Je=De.Ac,We=De.Bc+4*Ce,vt=De.zc,Xe=De.ya[De.aa+Ce];if(De.Qa.Bb?Xe.$b=me(Ne,De.Pa.jb[0])?2+me(Ne,De.Pa.jb[2]):me(Ne,De.Pa.jb[1]):Xe.$b=0,De.kc&&(Xe.Ad=me(Ne,De.Bd)),Xe.Za=!me(Ne,145)+0,Xe.Za){var fn=Xe.Ob,yn=0;for(De=0;4>De;++De){var cn,en=vt[0+De];for(cn=0;4>cn;++cn){en=$k[Je[We+cn]][en];for(var Dn=ux[me(Ne,en[0])];0<Dn;)Dn=ux[2*Dn+me(Ne,en[Dn])];en=-Dn,Je[We+cn]=en}r(fn,yn,Je,We,4),yn+=4,vt[0+De]=en}}else en=me(Ne,156)?me(Ne,128)?1:3:me(Ne,163)?2:0,Xe.Ob[0]=en,i(Je,We,en,4),i(vt,0,en,4);Xe.Dd=me(Ne,142)?me(Ne,114)?me(Ne,183)?1:3:2:0}if(Me.m.Ka)return er(ce,7,"Premature end-of-partition0 encountered.");for(;ce.ja<ce.za;++ce.ja){if(Me=ne,Ne=(oe=ce).rb[oe.sb-1],Je=oe.rb[oe.sb+oe.ja],Ce=oe.ya[oe.aa+oe.ja],We=oe.kc?Ce.Ad:0)Ne.la=Je.la=0,Ce.Za||(Ne.Na=Je.Na=0),Ce.Hc=0,Ce.Gc=0,Ce.ia=0;else{var En,Bt;if(Ne=Je,Je=Me,We=oe.Pa.Xc,vt=oe.ya[oe.aa+oe.ja],Xe=oe.pb[vt.$b],De=vt.ad,fn=0,yn=oe.rb[oe.sb-1],en=cn=0,i(De,fn,0,384),vt.Za)var hr=0,vi=We[3];else{Dn=o(16);var fr=Ne.Na+yn.Na;if(fr=df(Je,We[1],fr,Xe.Eb,0,Dn,0),Ne.Na=yn.Na=(0<fr)+0,1<fr)zu(Dn,0,De,fn);else{var yi=Dn[0]+3>>3;for(Dn=0;256>Dn;Dn+=16)De[fn+Dn]=yi}hr=1,vi=We[0]}var _n=15&Ne.la,Li=15&yn.la;for(Dn=0;4>Dn;++Dn){var Fi=1&Li;for(yi=Bt=0;4>yi;++yi)_n=_n>>1|(Fi=(fr=df(Je,vi,fr=Fi+(1&_n),Xe.Sc,hr,De,fn))>hr)<<7,Bt=Bt<<2|(3<fr?3:1<fr?2:De[fn+0]!=0),fn+=16;_n>>=4,Li=Li>>1|Fi<<7,cn=(cn<<8|Bt)>>>0}for(vi=_n,hr=Li>>4,En=0;4>En;En+=2){for(Bt=0,_n=Ne.la>>4+En,Li=yn.la>>4+En,Dn=0;2>Dn;++Dn){for(Fi=1&Li,yi=0;2>yi;++yi)fr=Fi+(1&_n),_n=_n>>1|(Fi=0<(fr=df(Je,We[2],fr,Xe.Qc,0,De,fn)))<<3,Bt=Bt<<2|(3<fr?3:1<fr?2:De[fn+0]!=0),fn+=16;_n>>=2,Li=Li>>1|Fi<<5}en|=Bt<<4*En,vi|=_n<<4<<En,hr|=(240&Li)<<En}Ne.la=vi,yn.la=hr,vt.Hc=cn,vt.Gc=en,vt.ia=43690&en?0:Xe.ia,We=!(cn|en)}if(0<oe.L&&(oe.wa[oe.Y+oe.ja]=oe.gd[Ce.$b][Ce.Za],oe.wa[oe.Y+oe.ja].La|=!We),Me.Ka)return er(ce,7,"Premature end-of-file encountered.")}if(Vh(ce),oe=Oe,Me=1,Ce=(ne=ce).D,Ne=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(Ce.M=ne.M,Ce.uc=Ne,tf(ne,Ce),Me=1,Ce=(Bt=ne.D).Nb,Ne=(en=Cm[ne.L])*ne.R,Je=en/2*ne.B,Dn=16*Ce*ne.R,yi=8*Ce*ne.B,We=ne.sa,vt=ne.ta-Ne+Dn,Xe=ne.qa,De=ne.ra-Je+yi,fn=ne.Ha,yn=ne.Ia-Je+yi,Li=(_n=Bt.M)==0,cn=_n>=ne.Va-1,ne.Aa==2&&tf(ne,Bt),Bt.uc)for(Fi=(fr=ne).D.M,e(fr.D.uc),Bt=fr.yb;Bt<fr.Hb;++Bt){hr=Bt,vi=Fi;var Ar=(Vr=(Gn=fr).D).Nb;En=Gn.R;var Vr=Vr.wa[Vr.Y+hr],ai=Gn.sa,no=Gn.ta+16*Ar*En+16*hr,ys=Vr.dd,Ir=Vr.tc;if(Ir!=0)if(e(3<=Ir),Gn.L==1)0<hr&&nl(ai,no,En,Ir+4),Vr.La&&Qi(ai,no,En,Ir),0<vi&&cc(ai,no,En,Ir+4),Vr.La&&cf(ai,no,En,Ir);else{var ua=Gn.B,uc=Gn.qa,Gu=Gn.ra+8*Ar*ua+8*hr,ol=Gn.Ha,Gn=Gn.Ia+8*Ar*ua+8*hr;Ar=Vr.ld,0<hr&&(hm(ai,no,En,Ir+4,ys,Ar),sc(uc,Gu,ol,Gn,ua,Ir+4,ys,Ar)),Vr.La&&(tl(ai,no,En,Ir,ys,Ar),qu(uc,Gu,ol,Gn,ua,Ir,ys,Ar)),0<vi&&(Hu(ai,no,En,Ir+4,ys,Ar),lf(uc,Gu,ol,Gn,ua,Ir+4,ys,Ar)),Vr.La&&(ac(ai,no,En,Ir,ys,Ar),lc(uc,Gu,ol,Gn,ua,Ir,ys,Ar))}}if(ne.ia&&alert("todo:DitherRow"),oe.put!=null){if(Bt=16*_n,_n=16*(_n+1),Li?(oe.y=ne.sa,oe.O=ne.ta+Dn,oe.f=ne.qa,oe.N=ne.ra+yi,oe.ea=ne.Ha,oe.W=ne.Ia+yi):(Bt-=en,oe.y=We,oe.O=vt,oe.f=Xe,oe.N=De,oe.ea=fn,oe.W=yn),cn||(_n-=en),_n>oe.o&&(_n=oe.o),oe.F=null,oe.J=null,ne.Fa!=null&&0<ne.Fa.length&&Bt<_n&&(oe.J=Jh(ne,oe,Bt,_n-Bt),oe.F=ne.mb,oe.F==null&&oe.F.length==0)){Me=er(ne,3,"Could not decode alpha data.");break e}Bt<oe.j&&(en=oe.j-Bt,Bt=oe.j,e(!(1&en)),oe.O+=ne.R*en,oe.N+=ne.B*(en>>1),oe.W+=ne.B*(en>>1),oe.F!=null&&(oe.J+=oe.width*en)),Bt<_n&&(oe.O+=oe.v,oe.N+=oe.v>>1,oe.W+=oe.v>>1,oe.F!=null&&(oe.J+=oe.v),oe.ka=Bt-oe.j,oe.U=oe.va-oe.v,oe.T=_n-Bt,Me=oe.put(oe))}Ce+1!=ne.Ic||cn||(r(ne.sa,ne.ta-Ne,We,vt+16*ne.R,Ne),r(ne.qa,ne.ra-Je,Xe,De+8*ne.B,Je),r(ne.Ha,ne.Ia-Je,fn,yn+8*ne.B,Je))}if(!Me)return er(ce,6,"Output aborted.")}return 1}(u,p)),p.bc!=null&&p.bc(p),v&=1}return v?(u.cb=0,v):0}function Io(u,p,v,b,S){S=u[p+v+32*b]+(S>>3),u[p+v+32*b]=-256&S?0>S?0:255:S}function Du(u,p,v,b,S,P){Io(u,p,0,v,b+S),Io(u,p,1,v,b+P),Io(u,p,2,v,b-P),Io(u,p,3,v,b-S)}function pi(u){return(20091*u>>16)+u}function zh(u,p,v,b){var S,P=0,D=o(16);for(S=0;4>S;++S){var A=u[p+0]+u[p+8],R=u[p+0]-u[p+8],j=(35468*u[p+4]>>16)-pi(u[p+12]),te=pi(u[p+4])+(35468*u[p+12]>>16);D[P+0]=A+te,D[P+1]=R+j,D[P+2]=R-j,D[P+3]=A-te,P+=4,p++}for(S=P=0;4>S;++S)A=(u=D[P+0]+4)+D[P+8],R=u-D[P+8],j=(35468*D[P+4]>>16)-pi(D[P+12]),Io(v,b,0,0,A+(te=pi(D[P+4])+(35468*D[P+12]>>16))),Io(v,b,1,0,R+j),Io(v,b,2,0,R-j),Io(v,b,3,0,A-te),P++,b+=32}function Kg(u,p,v,b){var S=u[p+0]+4,P=35468*u[p+4]>>16,D=pi(u[p+4]),A=35468*u[p+1]>>16;Du(v,b,0,S+D,u=pi(u[p+1]),A),Du(v,b,1,S+P,u,A),Du(v,b,2,S-P,u,A),Du(v,b,3,S-D,u,A)}function V_(u,p,v,b,S){zh(u,p,v,b),S&&zh(u,p+16,v,b+4)}function Xg(u,p,v,b){aa(u,p+0,v,b,1),aa(u,p+32,v,b+128,1)}function z_(u,p,v,b){var S;for(u=u[p+0]+4,S=0;4>S;++S)for(p=0;4>p;++p)Io(v,b,p,S,u)}function Zg(u,p,v,b){u[p+0]&&si(u,p+0,v,b),u[p+16]&&si(u,p+16,v,b+4),u[p+32]&&si(u,p+32,v,b+128),u[p+48]&&si(u,p+48,v,b+128+4)}function H_(u,p,v,b){var S,P=o(16);for(S=0;4>S;++S){var D=u[p+0+S]+u[p+12+S],A=u[p+4+S]+u[p+8+S],R=u[p+4+S]-u[p+8+S],j=u[p+0+S]-u[p+12+S];P[0+S]=D+A,P[8+S]=D-A,P[4+S]=j+R,P[12+S]=j-R}for(S=0;4>S;++S)D=(u=P[0+4*S]+3)+P[3+4*S],A=P[1+4*S]+P[2+4*S],R=P[1+4*S]-P[2+4*S],j=u-P[3+4*S],v[b+0]=D+A>>3,v[b+16]=j+R>>3,v[b+32]=D-A>>3,v[b+48]=j-R>>3,b+=64}function Hh(u,p,v){var b,S=p-32,P=Ri,D=255-u[S-1];for(b=0;b<v;++b){var A,R=P,j=D+u[p-1];for(A=0;A<v;++A)u[p+A]=R[j+u[S+A]];p+=32}}function q_(u,p){Hh(u,p,4)}function $_(u,p){Hh(u,p,8)}function G_(u,p){Hh(u,p,16)}function ra(u,p){var v;for(v=0;16>v;++v)r(u,p+32*v,u,p-32,16)}function Ou(u,p){var v;for(v=16;0<v;--v)i(u,p,u[p-1],16),p+=32}function Au(u,p,v){var b;for(b=0;16>b;++b)i(p,v+32*b,u,16)}function Qg(u,p){var v,b=16;for(v=0;16>v;++v)b+=u[p-1+32*v]+u[p+v-32];Au(b>>5,u,p)}function Wr(u,p){var v,b=8;for(v=0;16>v;++v)b+=u[p-1+32*v];Au(b>>4,u,p)}function W_(u,p){var v,b=8;for(v=0;16>v;++v)b+=u[p+v-32];Au(b>>4,u,p)}function Jg(u,p){Au(128,u,p)}function Ot(u,p,v){return u+2*p+v+2>>2}function Y_(u,p){var v,b=p-32;for(b=new Uint8Array([Ot(u[b-1],u[b+0],u[b+1]),Ot(u[b+0],u[b+1],u[b+2]),Ot(u[b+1],u[b+2],u[b+3]),Ot(u[b+2],u[b+3],u[b+4])]),v=0;4>v;++v)r(u,p+32*v,b,0,b.length)}function K_(u,p){var v=u[p-1],b=u[p-1+32],S=u[p-1+64],P=u[p-1+96];Fe(u,p+0,16843009*Ot(u[p-1-32],v,b)),Fe(u,p+32,16843009*Ot(v,b,S)),Fe(u,p+64,16843009*Ot(b,S,P)),Fe(u,p+96,16843009*Ot(S,P,P))}function gs(u,p){var v,b=4;for(v=0;4>v;++v)b+=u[p+v-32]+u[p-1+32*v];for(b>>=3,v=0;4>v;++v)i(u,p+32*v,b,4)}function em(u,p){var v=u[p-1+0],b=u[p-1+32],S=u[p-1+64],P=u[p-1-32],D=u[p+0-32],A=u[p+1-32],R=u[p+2-32],j=u[p+3-32];u[p+0+96]=Ot(b,S,u[p-1+96]),u[p+1+96]=u[p+0+64]=Ot(v,b,S),u[p+2+96]=u[p+1+64]=u[p+0+32]=Ot(P,v,b),u[p+3+96]=u[p+2+64]=u[p+1+32]=u[p+0+0]=Ot(D,P,v),u[p+3+64]=u[p+2+32]=u[p+1+0]=Ot(A,D,P),u[p+3+32]=u[p+2+0]=Ot(R,A,D),u[p+3+0]=Ot(j,R,A)}function tm(u,p){var v=u[p+1-32],b=u[p+2-32],S=u[p+3-32],P=u[p+4-32],D=u[p+5-32],A=u[p+6-32],R=u[p+7-32];u[p+0+0]=Ot(u[p+0-32],v,b),u[p+1+0]=u[p+0+32]=Ot(v,b,S),u[p+2+0]=u[p+1+32]=u[p+0+64]=Ot(b,S,P),u[p+3+0]=u[p+2+32]=u[p+1+64]=u[p+0+96]=Ot(S,P,D),u[p+3+32]=u[p+2+64]=u[p+1+96]=Ot(P,D,A),u[p+3+64]=u[p+2+96]=Ot(D,A,R),u[p+3+96]=Ot(A,R,R)}function Iu(u,p){var v=u[p-1+0],b=u[p-1+32],S=u[p-1+64],P=u[p-1-32],D=u[p+0-32],A=u[p+1-32],R=u[p+2-32],j=u[p+3-32];u[p+0+0]=u[p+1+64]=P+D+1>>1,u[p+1+0]=u[p+2+64]=D+A+1>>1,u[p+2+0]=u[p+3+64]=A+R+1>>1,u[p+3+0]=R+j+1>>1,u[p+0+96]=Ot(S,b,v),u[p+0+64]=Ot(b,v,P),u[p+0+32]=u[p+1+96]=Ot(v,P,D),u[p+1+32]=u[p+2+96]=Ot(P,D,A),u[p+2+32]=u[p+3+96]=Ot(D,A,R),u[p+3+32]=Ot(A,R,j)}function qh(u,p){var v=u[p+0-32],b=u[p+1-32],S=u[p+2-32],P=u[p+3-32],D=u[p+4-32],A=u[p+5-32],R=u[p+6-32],j=u[p+7-32];u[p+0+0]=v+b+1>>1,u[p+1+0]=u[p+0+64]=b+S+1>>1,u[p+2+0]=u[p+1+64]=S+P+1>>1,u[p+3+0]=u[p+2+64]=P+D+1>>1,u[p+0+32]=Ot(v,b,S),u[p+1+32]=u[p+0+96]=Ot(b,S,P),u[p+2+32]=u[p+1+96]=Ot(S,P,D),u[p+3+32]=u[p+2+96]=Ot(P,D,A),u[p+3+64]=Ot(D,A,R),u[p+3+96]=Ot(A,R,j)}function X_(u,p){var v=u[p-1+0],b=u[p-1+32],S=u[p-1+64],P=u[p-1+96];u[p+0+0]=v+b+1>>1,u[p+2+0]=u[p+0+32]=b+S+1>>1,u[p+2+32]=u[p+0+64]=S+P+1>>1,u[p+1+0]=Ot(v,b,S),u[p+3+0]=u[p+1+32]=Ot(b,S,P),u[p+3+32]=u[p+1+64]=Ot(S,P,P),u[p+3+64]=u[p+2+64]=u[p+0+96]=u[p+1+96]=u[p+2+96]=u[p+3+96]=P}function Z_(u,p){var v=u[p-1+0],b=u[p-1+32],S=u[p-1+64],P=u[p-1+96],D=u[p-1-32],A=u[p+0-32],R=u[p+1-32],j=u[p+2-32];u[p+0+0]=u[p+2+32]=v+D+1>>1,u[p+0+32]=u[p+2+64]=b+v+1>>1,u[p+0+64]=u[p+2+96]=S+b+1>>1,u[p+0+96]=P+S+1>>1,u[p+3+0]=Ot(A,R,j),u[p+2+0]=Ot(D,A,R),u[p+1+0]=u[p+3+32]=Ot(v,D,A),u[p+1+32]=u[p+3+64]=Ot(b,v,D),u[p+1+64]=u[p+3+96]=Ot(S,b,v),u[p+1+96]=Ot(P,S,b)}function Q_(u,p){var v;for(v=0;8>v;++v)r(u,p+32*v,u,p-32,8)}function $h(u,p){var v;for(v=0;8>v;++v)i(u,p,u[p-1],8),p+=32}function tc(u,p,v){var b;for(b=0;8>b;++b)i(p,v+32*b,u,8)}function Xa(u,p){var v,b=8;for(v=0;8>v;++v)b+=u[p+v-32]+u[p-1+32*v];tc(b>>4,u,p)}function J_(u,p){var v,b=4;for(v=0;8>v;++v)b+=u[p+v-32];tc(b>>3,u,p)}function nc(u,p){var v,b=4;for(v=0;8>v;++v)b+=u[p-1+32*v];tc(b>>3,u,p)}function Gh(u,p){tc(128,u,p)}function Tu(u,p,v){var b=u[p-v],S=u[p+0],P=3*(S-b)+ob[1020+u[p-2*v]-u[p+v]],D=pm[112+(P+4>>3)];u[p-v]=Ri[255+b+pm[112+(P+3>>3)]],u[p+0]=Ri[255+S-D]}function nm(u,p,v,b){var S=u[p+0],P=u[p+v];return eo[255+u[p-2*v]-u[p-v]]>b||eo[255+P-S]>b}function rm(u,p,v,b){return 4*eo[255+u[p-v]-u[p+0]]+eo[255+u[p-2*v]-u[p+v]]<=b}function im(u,p,v,b,S){var P=u[p-3*v],D=u[p-2*v],A=u[p-v],R=u[p+0],j=u[p+v],te=u[p+2*v],ve=u[p+3*v];return 4*eo[255+A-R]+eo[255+D-j]>b?0:eo[255+u[p-4*v]-P]<=S&&eo[255+P-D]<=S&&eo[255+D-A]<=S&&eo[255+ve-te]<=S&&eo[255+te-j]<=S&&eo[255+j-R]<=S}function om(u,p,v,b){var S=2*b+1;for(b=0;16>b;++b)rm(u,p+b,v,S)&&Tu(u,p+b,v)}function ms(u,p,v,b){var S=2*b+1;for(b=0;16>b;++b)rm(u,p+b*v,1,S)&&Tu(u,p+b*v,1)}function ia(u,p,v,b){var S;for(S=3;0<S;--S)om(u,p+=4*v,v,b)}function eb(u,p,v,b){var S;for(S=3;0<S;--S)ms(u,p+=4,v,b)}function Za(u,p,v,b,S,P,D,A){for(P=2*P+1;0<S--;){if(im(u,p,v,P,D))if(nm(u,p,v,A))Tu(u,p,v);else{var R=u,j=p,te=v,ve=R[j-2*te],ye=R[j-te],ce=R[j+0],Oe=R[j+te],Ce=R[j+2*te],ne=27*(Me=ob[1020+3*(ce-ye)+ob[1020+ve-Oe]])+63>>7,oe=18*Me+63>>7,Me=9*Me+63>>7;R[j-3*te]=Ri[255+R[j-3*te]+Me],R[j-2*te]=Ri[255+ve+oe],R[j-te]=Ri[255+ye+ne],R[j+0]=Ri[255+ce-ne],R[j+te]=Ri[255+Oe-oe],R[j+2*te]=Ri[255+Ce-Me]}p+=b}}function To(u,p,v,b,S,P,D,A){for(P=2*P+1;0<S--;){if(im(u,p,v,P,D))if(nm(u,p,v,A))Tu(u,p,v);else{var R=u,j=p,te=v,ve=R[j-te],ye=R[j+0],ce=R[j+te],Oe=pm[112+((Ce=3*(ye-ve))+4>>3)],Ce=pm[112+(Ce+3>>3)],ne=Oe+1>>1;R[j-2*te]=Ri[255+R[j-2*te]+ne],R[j-te]=Ri[255+ve+Ce],R[j+0]=Ri[255+ye-Oe],R[j+te]=Ri[255+ce-ne]}p+=b}}function Wh(u,p,v,b,S,P){Za(u,p,v,1,16,b,S,P)}function rc(u,p,v,b,S,P){Za(u,p,1,v,16,b,S,P)}function tb(u,p,v,b,S,P){var D;for(D=3;0<D;--D)To(u,p+=4*v,v,1,16,b,S,P)}function Nu(u,p,v,b,S,P){var D;for(D=3;0<D;--D)To(u,p+=4,1,v,16,b,S,P)}function nb(u,p,v,b,S,P,D,A){Za(u,p,S,1,8,P,D,A),Za(v,b,S,1,8,P,D,A)}function Yh(u,p,v,b,S,P,D,A){Za(u,p,1,S,8,P,D,A),Za(v,b,1,S,8,P,D,A)}function Kh(u,p,v,b,S,P,D,A){To(u,p+4*S,S,1,8,P,D,A),To(v,b+4*S,S,1,8,P,D,A)}function sm(u,p,v,b,S,P,D,A){To(u,p+4,1,S,8,P,D,A),To(v,b+4,1,S,8,P,D,A)}function ku(){this.ba=new on,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function am(){this.ua=0,this.Wa=new $,this.vb=new $,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new I}function rb(){this.xb=this.a=0,this.l=new Pu,this.ca=new on,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new am,this.ab=0,this.gc=s(4,Zh),this.Oc=0}function Ru(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ic(u,p,v,b,S,P,D){for(u=u==null?0:u[p+0],p=0;p<D;++p)S[P+p]=u+v[b+p]&255,u=S[P+p]}function Qh(u,p,v,b,S,P,D){var A;if(u==null)ic(null,null,v,b,S,P,D);else for(A=0;A<D;++A)S[P+A]=u[p+A]+v[b+A]&255}function Qa(u,p,v,b,S,P,D){if(u==null)ic(null,null,v,b,S,P,D);else{var A,R=u[p+0],j=R,te=R;for(A=0;A<D;++A)j=te+(R=u[p+A])-j,te=v[b+A]+(-256&j?0>j?0:255:j)&255,j=R,S[P+A]=te}}function Jh(u,p,v,b){var S=p.width,P=p.o;if(e(u!=null&&p!=null),0>v||0>=b||v+b>P)return null;if(!u.Cc){if(u.ga==null){var D;if(u.ga=new Ru,(D=u.ga==null)||(D=p.width*p.o,e(u.Gb.length==0),u.Gb=o(D),u.Uc=0,u.Gb==null?D=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,D=1),D=!D),!D){D=u.ga;var A=u.Fa,R=u.P,j=u.qc,te=u.mb,ve=u.nb,ye=R+1,ce=j-1,Oe=D.l;if(e(A!=null&&te!=null&&p!=null),il[0]=null,il[1]=ic,il[2]=Qh,il[3]=Qa,D.ca=te,D.tb=ve,D.c=p.width,D.i=p.height,e(0<D.c&&0<D.i),1>=j)p=0;else if(D.$a=A[R+0]>>0&3,D.Z=A[R+0]>>2&3,D.Lc=A[R+0]>>4&3,R=A[R+0]>>6&3,0>D.$a||1<D.$a||4<=D.Z||1<D.Lc||R)p=0;else if(Oe.put=us,Oe.ac=Br,Oe.bc=ds,Oe.ma=D,Oe.width=p.width,Oe.height=p.height,Oe.Da=p.Da,Oe.v=p.v,Oe.va=p.va,Oe.j=p.j,Oe.o=p.o,D.$a)e:{e(D.$a==1),p=Ki();t:for(;;){if(p==null){p=0;break e}if(e(D!=null),D.mc=p,p.c=D.c,p.i=D.i,p.l=D.l,p.l.ma=D,p.l.width=D.c,p.l.height=D.i,p.a=0,H(p.m,A,ye,ce),!ps(D.c,D.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&na(p.s)?(D.ic=1,A=p.c*p.i,p.Ta=null,p.Ua=0,p.V=o(A),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(D.ic=0,p=ec(p,D.c)),!p))break t;p=1;break e}D.mc=null,p=0}else p=ce>=D.c*D.i;D=!p}if(D)return null;u.ga.Lc!=1?u.Ga=0:b=P-v}e(u.ga!=null),e(v+b<=P);e:{if(p=(A=u.ga).c,P=A.l.o,A.$a==0){if(ye=u.rc,ce=u.Vc,Oe=u.Fa,R=u.P+1+v*p,j=u.mb,te=u.nb+v*p,e(R<=u.P+u.qc),A.Z!=0)for(e(il[A.Z]!=null),D=0;D<b;++D)il[A.Z](ye,ce,Oe,R,j,te,p),ye=j,ce=te,te+=p,R+=p;else for(D=0;D<b;++D)r(j,te,Oe,R,p),ye=j,ce=te,te+=p,R+=p;u.rc=ye,u.Vc=ce}else{if(e(A.mc!=null),p=v+b,e((D=A.mc)!=null),e(p<=D.i),D.C>=p)p=1;else if(A.ic||pe(),A.ic){A=D.V,ye=D.Ba,ce=D.c;var Ce=D.i,ne=(Oe=1,R=D.$/ce,j=D.$%ce,te=D.m,ve=D.s,D.$),oe=ce*Ce,Me=ce*p,Ne=ve.wc,De=ne<Me?ur(ve,j,R):null;e(ne<=oe),e(p<=Ce),e(na(ve));t:for(;;){for(;!te.h&&ne<Me;){if(j&Ne||(De=ur(ve,j,R)),e(De!=null),ae(te),256>(Ce=fi(De.G[0],De.H[0],te)))A[ye+ne]=Ce,++ne,++j>=ce&&(j=0,++R<=p&&!(R%16)&&Oo(D,R));else{if(!(280>Ce)){Oe=0;break t}Ce=Po(Ce-256,te);var Je,We=fi(De.G[4],De.H[4],te);if(ae(te),!(ne>=(We=hs(ce,We=Po(We,te)))&&oe-ne>=Ce)){Oe=0;break t}for(Je=0;Je<Ce;++Je)A[ye+ne+Je]=A[ye+ne+Je-We];for(ne+=Ce,j+=Ce;j>=ce;)j-=ce,++R<=p&&!(R%16)&&Oo(D,R);ne<Me&&j&Ne&&(De=ur(ve,j,R))}e(te.h==U(te))}Oo(D,R>p?p:R);break t}!Oe||te.h&&ne<oe?(Oe=0,D.a=te.h?5:3):D.$=ne,p=Oe}else p=Ao(D,D.V,D.Ba,D.c,D.i,p,Cu);if(!p){b=0;break e}}v+b>=P&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*S}function m(u,p,v,b,S,P){for(;0<S--;){var D,A=u,R=p+(v?1:0),j=u,te=p+(v?0:3);for(D=0;D<b;++D){var ve=j[te+4*D];ve!=255&&(ve*=32897,A[R+4*D+0]=A[R+4*D+0]*ve>>23,A[R+4*D+1]=A[R+4*D+1]*ve>>23,A[R+4*D+2]=A[R+4*D+2]*ve>>23)}p+=P}}function x(u,p,v,b,S){for(;0<b--;){var P;for(P=0;P<v;++P){var D=u[p+2*P+0],A=15&(j=u[p+2*P+1]),R=4369*A,j=(240&j|j>>4)*R>>16;u[p+2*P+0]=(240&D|D>>4)*R>>16&240|(15&D|D<<4)*R>>16>>4&15,u[p+2*P+1]=240&j|A}p+=S}}function V(u,p,v,b,S,P,D,A){var R,j,te=255;for(j=0;j<S;++j){for(R=0;R<b;++R){var ve=u[p+R];P[D+4*R]=ve,te&=ve}p+=v,D+=A}return te!=255}function Q(u,p,v,b,S){var P;for(P=0;P<S;++P)v[b+P]=u[p+P]>>8}function pe(){Ji=m,In=x,Tn=V,nr=Q}function Ee(u,p,v){B[u]=function(b,S,P,D,A,R,j,te,ve,ye,ce,Oe,Ce,ne,oe,Me,Ne){var De,Je=Ne-1>>1,We=A[R+0]|j[te+0]<<16,vt=ve[ye+0]|ce[Oe+0]<<16;e(b!=null);var Xe=3*We+vt+131074>>2;for(p(b[S+0],255&Xe,Xe>>16,Ce,ne),P!=null&&(Xe=3*vt+We+131074>>2,p(P[D+0],255&Xe,Xe>>16,oe,Me)),De=1;De<=Je;++De){var fn=A[R+De]|j[te+De]<<16,yn=ve[ye+De]|ce[Oe+De]<<16,cn=We+fn+vt+yn+524296,en=cn+2*(fn+vt)>>3;Xe=en+We>>1,We=(cn=cn+2*(We+yn)>>3)+fn>>1,p(b[S+2*De-1],255&Xe,Xe>>16,Ce,ne+(2*De-1)*v),p(b[S+2*De-0],255&We,We>>16,Ce,ne+(2*De-0)*v),P!=null&&(Xe=cn+vt>>1,We=en+yn>>1,p(P[D+2*De-1],255&Xe,Xe>>16,oe,Me+(2*De-1)*v),p(P[D+2*De+0],255&We,We>>16,oe,Me+(2*De+0)*v)),We=fn,vt=yn}1&Ne||(Xe=3*We+vt+131074>>2,p(b[S+Ne-1],255&Xe,Xe>>16,Ce,ne+(Ne-1)*v),P!=null&&(Xe=3*vt+We+131074>>2,p(P[D+Ne-1],255&Xe,Xe>>16,oe,Me+(Ne-1)*v)))}}function ke(){to[gm]=Kk,to[mm]=hx,to[ax]=Xk,to[vm]=fx,to[ym]=px,to[sb]=gx,to[lx]=Zk,to[ab]=hx,to[lb]=fx,to[_m]=px,to[cb]=gx}function Qe(u){return u&~Qk?0>u?0:255:u>>mx}function gt(u,p){return Qe((19077*u>>8)+(26149*p>>8)-14234)}function Lt(u,p,v){return Qe((19077*u>>8)-(6419*p>>8)-(13320*v>>8)+8708)}function Nt(u,p){return Qe((19077*u>>8)+(33050*p>>8)-17685)}function an(u,p,v,b,S){b[S+0]=gt(u,v),b[S+1]=Lt(u,p,v),b[S+2]=Nt(u,p)}function Hn(u,p,v,b,S){b[S+0]=Nt(u,p),b[S+1]=Lt(u,p,v),b[S+2]=gt(u,v)}function $n(u,p,v,b,S){var P=Lt(u,p,v);p=P<<3&224|Nt(u,p)>>3,b[S+0]=248&gt(u,v)|P>>5,b[S+1]=p}function dr(u,p,v,b,S){var P=240&Nt(u,p)|15;b[S+0]=240&gt(u,v)|Lt(u,p,v)>>4,b[S+1]=P}function Yr(u,p,v,b,S){b[S+0]=255,an(u,p,v,b,S+1)}function Or(u,p,v,b,S){Hn(u,p,v,b,S),b[S+3]=255}function No(u,p,v,b,S){an(u,p,v,b,S),b[S+3]=255}function ki(u,p){return 0>u?0:u>p?p:u}function vs(u,p,v){B[u]=function(b,S,P,D,A,R,j,te,ve){for(var ye=te+(-2&ve)*v;te!=ye;)p(b[S+0],P[D+0],A[R+0],j,te),p(b[S+1],P[D+0],A[R+0],j,te+v),S+=2,++D,++R,te+=2*v;1&ve&&p(b[S+0],P[D+0],A[R+0],j,te)}}function lm(u,p,v){return v==0?u==0?p==0?6:5:p==0?4:0:v}function ef(u,p,v,b,S){switch(u>>>30){case 3:aa(p,v,b,S,0);break;case 2:tr(p,v,b,S);break;case 1:si(p,v,b,S)}}function tf(u,p){var v,b,S=p.M,P=p.Nb,D=u.oc,A=u.pc+40,R=u.oc,j=u.pc+584,te=u.oc,ve=u.pc+600;for(v=0;16>v;++v)D[A+32*v-1]=129;for(v=0;8>v;++v)R[j+32*v-1]=129,te[ve+32*v-1]=129;for(0<S?D[A-1-32]=R[j-1-32]=te[ve-1-32]=129:(i(D,A-32-1,127,21),i(R,j-32-1,127,9),i(te,ve-32-1,127,9)),b=0;b<u.za;++b){var ye=p.ya[p.aa+b];if(0<b){for(v=-1;16>v;++v)r(D,A+32*v-4,D,A+32*v+12,4);for(v=-1;8>v;++v)r(R,j+32*v-4,R,j+32*v+4,4),r(te,ve+32*v-4,te,ve+32*v+4,4)}var ce=u.Gd,Oe=u.Hd+b,Ce=ye.ad,ne=ye.Hc;if(0<S&&(r(D,A-32,ce[Oe].y,0,16),r(R,j-32,ce[Oe].f,0,8),r(te,ve-32,ce[Oe].ea,0,8)),ye.Za){var oe=D,Me=A-32+16;for(0<S&&(b>=u.za-1?i(oe,Me,ce[Oe].y[15],4):r(oe,Me,ce[Oe+1].y,0,4)),v=0;4>v;v++)oe[Me+128+v]=oe[Me+256+v]=oe[Me+384+v]=oe[Me+0+v];for(v=0;16>v;++v,ne<<=2)oe=D,Me=A+yx[v],ko[ye.Ob[v]](oe,Me),ef(ne,Ce,16*+v,oe,Me)}else if(oe=lm(b,S,ye.Ob[0]),rl[oe](D,A),ne!=0)for(v=0;16>v;++v,ne<<=2)ef(ne,Ce,16*+v,D,A+yx[v]);for(v=ye.Gc,oe=lm(b,S,ye.Dd),ca[oe](R,j),ca[oe](te,ve),ne=Ce,oe=R,Me=j,255&(ye=v>>0)&&(170&ye?af(ne,256,oe,Me):Zi(ne,256,oe,Me)),ye=te,ne=ve,255&(v>>=8)&&(170&v?af(Ce,320,ye,ne):Zi(Ce,320,ye,ne)),S<u.Ub-1&&(r(ce[Oe].y,0,D,A+480,16),r(ce[Oe].f,0,R,j+224,8),r(ce[Oe].ea,0,te,ve+224,8)),v=8*P*u.B,ce=u.sa,Oe=u.ta+16*b+16*P*u.R,Ce=u.qa,ye=u.ra+8*b+v,ne=u.Ha,oe=u.Ia+8*b+v,v=0;16>v;++v)r(ce,Oe+v*u.R,D,A+32*v,16);for(v=0;8>v;++v)r(Ce,ye+v*u.B,R,j+32*v,8),r(ne,oe+v*u.B,te,ve+32*v,8)}}function Lu(u,p,v,b,S,P,D,A,R){var j=[0],te=[0],ve=0,ye=R!=null?R.kd:0,ce=R??new Xh;if(u==null||12>v)return 7;ce.data=u,ce.w=p,ce.ha=v,p=[p],v=[v],ce.gb=[ce.gb];e:{var Oe=p,Ce=v,ne=ce.gb;if(e(u!=null),e(Ce!=null),e(ne!=null),ne[0]=0,12<=Ce[0]&&!t(u,Oe[0],"RIFF")){if(t(u,Oe[0]+8,"WEBP")){ne=3;break e}var oe=Ge(u,Oe[0]+4);if(12>oe||4294967286<oe){ne=3;break e}if(ye&&oe>Ce[0]-8){ne=7;break e}ne[0]=oe,Oe[0]+=12,Ce[0]-=12}ne=0}if(ne!=0)return ne;for(oe=0<ce.gb[0],v=v[0];;){e:{var Me=u;Ce=p,ne=v;var Ne=j,De=te,Je=Oe=[0];if((Xe=ve=[ve])[0]=0,8>ne[0])ne=7;else{if(!t(Me,Ce[0],"VP8X")){if(Ge(Me,Ce[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var We=Ge(Me,Ce[0]+8),vt=1+Ke(Me,Ce[0]+12);if(2147483648<=vt*(Me=1+Ke(Me,Ce[0]+15))){ne=3;break e}Je!=null&&(Je[0]=We),Ne!=null&&(Ne[0]=vt),De!=null&&(De[0]=Me),Ce[0]+=18,ne[0]-=18,Xe[0]=1}ne=0}}if(ve=ve[0],Oe=Oe[0],ne!=0)return ne;if(Ce=!!(2&Oe),!oe&&ve)return 3;if(P!=null&&(P[0]=!!(16&Oe)),D!=null&&(D[0]=Ce),A!=null&&(A[0]=0),D=j[0],Oe=te[0],ve&&Ce&&R==null){ne=0;break}if(4>v){ne=7;break}if(oe&&ve||!oe&&!ve&&!t(u,p[0],"ALPH")){v=[v],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{We=u,ne=p,oe=v;var Xe=ce.gb;Ne=ce.na,De=ce.P,Je=ce.Sa,vt=22,e(We!=null),e(oe!=null),Me=ne[0];var fn=oe[0];for(e(Ne!=null),e(Je!=null),Ne[0]=null,De[0]=null,Je[0]=0;;){if(ne[0]=Me,oe[0]=fn,8>fn){ne=7;break e}var yn=Ge(We,Me+4);if(4294967286<yn){ne=3;break e}var cn=8+yn+1&-2;if(vt+=cn,0<Xe&&vt>Xe){ne=3;break e}if(!t(We,Me,"VP8 ")||!t(We,Me,"VP8L")){ne=0;break e}if(fn[0]<cn){ne=7;break e}t(We,Me,"ALPH")||(Ne[0]=We,De[0]=Me+8,Je[0]=yn),Me+=cn,fn-=cn}}if(v=v[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],ne!=0)break}v=[v],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(Xe=u,ne=p,oe=v,Ne=ce.gb[0],De=ce.Ja,Je=ce.xa,We=ne[0],Me=!t(Xe,We,"VP8 "),vt=!t(Xe,We,"VP8L"),e(Xe!=null),e(oe!=null),e(De!=null),e(Je!=null),8>oe[0])ne=7;else{if(Me||vt){if(Xe=Ge(Xe,We+4),12<=Ne&&Xe>Ne-12){ne=3;break e}if(ye&&Xe>oe[0]-8){ne=7;break e}De[0]=Xe,ne[0]+=8,oe[0]-=8,Je[0]=vt}else Je[0]=5<=oe[0]&&Xe[We+0]==47&&!(Xe[We+4]>>5),De[0]=oe[0];ne=0}if(v=v[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],p=p[0],ne!=0)break;if(4294967286<ce.Ja)return 3;if(A==null||Ce||(A[0]=ce.xa?2:1),D=[D],Oe=[Oe],ce.xa){if(5>v){ne=7;break}A=D,ye=Oe,Ce=P,u==null||5>v?u=0:5<=v&&u[p+0]==47&&!(u[p+4]>>5)?(oe=[0],Xe=[0],Ne=[0],H(De=new M,u,p,v),bt(De,oe,Xe,Ne)?(A!=null&&(A[0]=oe[0]),ye!=null&&(ye[0]=Xe[0]),Ce!=null&&(Ce[0]=Ne[0]),u=1):u=0):u=0}else{if(10>v){ne=7;break}A=Oe,u==null||10>v||!Gg(u,p+3,v-3)?u=0:(ye=u[p+0]|u[p+1]<<8|u[p+2]<<16,Ce=16383&(u[p+7]<<8|u[p+6]),u=16383&(u[p+9]<<8|u[p+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=ce.Ja||!Ce||!u?u=0:(D&&(D[0]=Ce),A&&(A[0]=u),u=1))}if(!u||(D=D[0],Oe=Oe[0],ve&&(j[0]!=D||te[0]!=Oe)))return 3;R!=null&&(R[0]=ce,R.offset=p-R.w,e(4294967286>p-R.w),e(R.offset==R.ha-v));break}return ne==0||ne==7&&ve&&R==null?(P!=null&&(P[0]|=ce.na!=null&&0<ce.na.length),b!=null&&(b[0]=D),S!=null&&(S[0]=Oe),0):ne}function nf(u,p,v){var b=p.width,S=p.height,P=0,D=0,A=b,R=S;if(p.Da=u!=null&&0<u.Da,p.Da&&(A=u.cd,R=u.bd,P=u.v,D=u.j,11>v||(P&=-2,D&=-2),0>P||0>D||0>=A||0>=R||P+A>b||D+R>S))return 0;if(p.v=P,p.j=D,p.va=P+A,p.o=D+R,p.U=A,p.T=R,p.da=u!=null&&0<u.da,p.da){if(!Pt(A,R,v=[u.ib],P=[u.hb]))return 0;p.ib=v[0],p.hb=P[0]}return p.ob=u!=null&&u.ob,p.Kb=u==null||!u.Sd,p.da&&(p.ob=p.ib<3*b/4&&p.hb<3*S/4,p.Kb=0),1}function rf(u){if(u==null)return 2;if(11>u.S){var p=u.f.RGBA;p.fb+=(u.height-1)*p.A,p.A=-p.A}else p=u.f.kb,u=u.height,p.O+=(u-1)*p.fa,p.fa=-p.fa,p.N+=(u-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(u-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(u-1)*p.lb,p.lb=-p.lb);return 0}function Fu(u,p,v,b){if(b==null||0>=u||0>=p)return 2;if(v!=null){if(v.Da){var S=v.cd,P=v.bd,D=-2&v.v,A=-2&v.j;if(0>D||0>A||0>=S||0>=P||D+S>u||A+P>p)return 2;u=S,p=P}if(v.da){if(!Pt(u,p,S=[v.ib],P=[v.hb]))return 2;u=S[0],p=P[0]}}b.width=u,b.height=p;e:{var R=b.width,j=b.height;if(u=b.S,0>=R||0>=j||!(u>=gm&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){D=P=S=p=0;var te=(A=R*_x[u])*j;if(11>u||(P=(j+1)/2*(p=(R+1)/2),u==12&&(D=(S=R)*j)),(j=o(te+2*P+D))==null){u=1;break e}b.sd=j,11>u?((R=b.f.RGBA).eb=j,R.fb=0,R.A=A,R.size=te):((R=b.f.kb).y=j,R.O=0,R.fa=A,R.Fd=te,R.f=j,R.N=0+te,R.Ab=p,R.Cd=P,R.ea=j,R.W=0+te+P,R.Db=p,R.Ed=P,u==12&&(R.F=j,R.J=0+te+2*P),R.Tc=D,R.lb=S)}if(p=1,S=b.S,P=b.width,D=b.height,S>=gm&&13>S)if(11>S)u=b.f.RGBA,p&=(A=Math.abs(u.A))*(D-1)+P<=u.size,p&=A>=P*_x[S],p&=u.eb!=null;else{u=b.f.kb,A=(P+1)/2,te=(D+1)/2,R=Math.abs(u.fa),j=Math.abs(u.Ab);var ve=Math.abs(u.Db),ye=Math.abs(u.lb),ce=ye*(D-1)+P;p&=R*(D-1)+P<=u.Fd,p&=j*(te-1)+A<=u.Cd,p=(p&=ve*(te-1)+A<=u.Ed)&R>=P&j>=A&ve>=A,p&=u.y!=null,p&=u.f!=null,p&=u.ea!=null,S==12&&(p&=ye>=P,p&=ce<=u.Tc,p&=u.F!=null)}else p=0;u=p?0:2}}return u!=0||v!=null&&v.fd&&(u=rf(b)),u}var Ur=64,ju=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bu=24,Uu=32,of=8,gi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(u){return u},B.Predictor2=function(u,p,v){return p[v+0]},B.Predictor3=function(u,p,v){return p[v+1]},B.Predictor4=function(u,p,v){return p[v-1]},B.Predictor5=function(u,p,v){return Ye(Ye(u,p[v+1]),p[v+0])},B.Predictor6=function(u,p,v){return Ye(u,p[v-1])},B.Predictor7=function(u,p,v){return Ye(u,p[v+0])},B.Predictor8=function(u,p,v){return Ye(p[v-1],p[v+0])},B.Predictor9=function(u,p,v){return Ye(p[v+0],p[v+1])},B.Predictor10=function(u,p,v){return Ye(Ye(u,p[v-1]),Ye(p[v+0],p[v+1]))},B.Predictor11=function(u,p,v){var b=p[v+0];return 0>=Tt(b>>24&255,u>>24&255,(p=p[v-1])>>24&255)+Tt(b>>16&255,u>>16&255,p>>16&255)+Tt(b>>8&255,u>>8&255,p>>8&255)+Tt(255&b,255&u,255&p)?b:u},B.Predictor12=function(u,p,v){var b=p[v+0];return(ut((u>>24&255)+(b>>24&255)-((p=p[v-1])>>24&255))<<24|ut((u>>16&255)+(b>>16&255)-(p>>16&255))<<16|ut((u>>8&255)+(b>>8&255)-(p>>8&255))<<8|ut((255&u)+(255&b)-(255&p)))>>>0},B.Predictor13=function(u,p,v){var b=p[v-1];return(Mt((u=Ye(u,p[v+0]))>>24&255,b>>24&255)<<24|Mt(u>>16&255,b>>16&255)<<16|Mt(u>>8&255,b>>8&255)<<8|Mt(u>>0&255,b>>0&255))>>>0};var ib=B.PredictorAdd0;B.PredictorAdd1=$t,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var sf=B.PredictorAdd2;Vt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var cm,Xi=B.ColorIndexInverseTransform,Vu=B.MapARGB,um=B.VP8LColorIndexInverseTransformAlpha,dm=B.MapAlpha,Ja=B.VP8LPredictorsAdd=[];Ja.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var oc,mi,oi,el,oa,sa,zu,aa,tr,af,si,Zi,Hu,hm,lf,sc,ac,tl,lc,qu,cc,nl,cf,Qi,Ji,In,Tn,nr,br=o(511),la=o(2041),uf=o(225),$u=o(767),fm=0,ob=la,pm=uf,Ri=$u,eo=br,gm=0,mm=1,ax=2,vm=3,ym=4,sb=5,lx=6,ab=7,lb=8,_m=9,cb=10,Rk=[2,3,7],Lk=[3,3,11],cx=[280,256,256,256,40],Fk=[0,1,1,1,0],jk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Uk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vk=8,ub=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],db=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],df=null,zk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hk=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ux=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$k=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gk=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Wk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rl=[],ko=[],ca=[],Yk=1,dx=2,il=[],to=[];Ee("UpsampleRgbLinePair",an,3),Ee("UpsampleBgrLinePair",Hn,3),Ee("UpsampleRgbaLinePair",No,4),Ee("UpsampleBgraLinePair",Or,4),Ee("UpsampleArgbLinePair",Yr,4),Ee("UpsampleRgba4444LinePair",dr,2),Ee("UpsampleRgb565LinePair",$n,2);var Kk=B.UpsampleRgbLinePair,Xk=B.UpsampleBgrLinePair,hx=B.UpsampleRgbaLinePair,fx=B.UpsampleBgraLinePair,px=B.UpsampleArgbLinePair,gx=B.UpsampleRgba4444LinePair,Zk=B.UpsampleRgb565LinePair,bm=16,wm=1<<bm-1,hf=-227,hb=482,mx=6,Qk=(256<<mx)-1,vx=0,Jk=o(256),e7=o(256),t7=o(256),n7=o(256),r7=o(hb-hf),i7=o(hb-hf);vs("YuvToRgbRow",an,3),vs("YuvToBgrRow",Hn,3),vs("YuvToRgbaRow",No,4),vs("YuvToBgraRow",Or,4),vs("YuvToArgbRow",Yr,4),vs("YuvToRgba4444Row",dr,2),vs("YuvToRgb565Row",$n,2);var yx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cm=[0,2,8],o7=[8,7,6,4,4,2,2,2,1,1,1,1],s7=1;this.WebPDecodeRGBA=function(u,p,v,b,S){var P=mm,D=new ku,A=new on;D.ba=A,A.S=P,A.width=[A.width],A.height=[A.height];var R=A.width,j=A.height,te=new Fn;if(te==null||u==null)var ve=2;else e(te!=null),ve=Lu(u,p,v,te.width,te.height,te.Pd,te.Qd,te.format,null);if(ve!=0?R=0:(R!=null&&(R[0]=te.width[0]),j!=null&&(j[0]=te.height[0]),R=1),R){A.width=A.width[0],A.height=A.height[0],b!=null&&(b[0]=A.width),S!=null&&(S[0]=A.height);e:{if(b=new Pu,(S=new Xh).data=u,S.w=p,S.ha=v,S.kd=1,p=[0],e(S!=null),((u=Lu(S.data,S.w,S.ha,null,null,null,p,null,S))==0||u==7)&&p[0]&&(u=4),(p=u)==0){if(e(D!=null),b.data=S.data,b.w=S.w+S.offset,b.ha=S.ha-S.offset,b.put=us,b.ac=Br,b.bc=ds,b.ma=D,S.xa){if((u=Ki())==null){D=1;break e}if(function(ye,ce){var Oe=[0],Ce=[0],ne=[0];t:for(;;){if(ye==null)return 0;if(ce==null)return ye.a=2,0;if(ye.l=ce,ye.a=0,H(ye.m,ce.data,ce.w,ce.ha),!bt(ye.m,Oe,Ce,ne)){ye.a=3;break t}if(ye.xb=dx,ce.width=Oe[0],ce.height=Ce[0],!ps(Oe[0],Ce[0],1,ye,null))break t;return 1}return e(ye.a!=0),0}(u,b)){if(b=(p=Fu(b.width,b.height,D.Oa,D.ba))==0){t:{b=u;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((S=v.ma)!=null),b.xb!=0){if(b.ca=S.ba,b.tb=S.tb,e(b.ca!=null),!nf(S.Oa,v,vm)){b.a=2;break n}if(!ec(b,v.width)||v.da)break n;if((v.da||st(b.ca.S))&&pe(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&pe()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!mt(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Ao(b,b.V,b.Ba,b.c,b.i,v.o,wu))break n;S.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(p=u.a)}else p=u.a}else{if((u=new B_)==null){D=1;break e}if(u.Fa=S.na,u.P=S.P,u.qc=S.Sa,Wg(u,b)){if((p=Fu(b.width,b.height,D.Oa,D.ba))==0){if(u.Aa=0,v=D.Oa,e((S=u)!=null),v!=null){if(0<(R=0>(R=v.Md)?0:100<R?255:255*R/100)){for(j=te=0;4>j;++j)12>(ve=S.pb[j]).lc&&(ve.ia=R*o7[0>ve.lc?0:ve.lc]>>3),te|=ve.ia;te&&(alert("todo:VP8InitRandom"),S.ia=1)}S.Ga=v.Id,100<S.Ga?S.Ga=100:0>S.Ga&&(S.Ga=0)}U_(u,b)||(p=u.a)}}else p=u.a}p==0&&D.Oa!=null&&D.Oa.fd&&(p=rf(D.ba))}D=p}P=D!=0?null:11>P?A.f.RGBA.eb:A.f.kb.y}else P=null;return P};var _x=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(B,le){for(var he="",k=0;k<4;k++)he+=String.fromCharCode(B[le++]);return he}function d(B,le){return(B[le+0]<<0|B[le+1]<<8|B[le+2]<<16)>>>0}function h(B,le){return(B[le+0]<<0|B[le+1]<<8|B[le+2]<<16|B[le+3]<<24)>>>0}new l;var g=[0],f=[0],y=[],_=new l,C=n,w=function(B,le){var he={},k=0,I=!1,W=0,G=0;if(he.frames=[],!function(L,U,Z,ae){for(var fe=0;fe<ae;fe++)if(L[U+fe]!=Z.charCodeAt(fe))return!0;return!1}(B,le,"RIFF",4)){for(h(B,le+=4),le+=8;le<B.length;){var _e=c(B,le),Y=h(B,le+=4);le+=4;var ie=Y+(1&Y);switch(_e){case"VP8 ":case"VP8L":he.frames[k]===void 0&&(he.frames[k]={}),(ge=he.frames[k]).src_off=I?G:le-8,ge.src_size=W+Y+8,k++,I&&(I=!1,W=0,G=0);break;case"VP8X":(ge=he.header={}).feature_flags=B[le];var H=le+4;ge.canvas_width=1+d(B,H),H+=3,ge.canvas_height=1+d(B,H),H+=3;break;case"ALPH":I=!0,W=ie+8,G=le-8;break;case"ANIM":(ge=he.header).bgcolor=h(B,le),H=le+4,ge.loop_count=(Re=B)[(M=H)+0]<<0|Re[M+1]<<8,H+=2;break;case"ANMF":var se,ge;(ge=he.frames[k]={}).offset_x=2*d(B,le),le+=3,ge.offset_y=2*d(B,le),le+=3,ge.width=1+d(B,le),le+=3,ge.height=1+d(B,le),le+=3,ge.duration=d(B,le),le+=3,se=B[le++],ge.dispose=1&se,ge.blend=se>>1&1}_e!="ANMF"&&(le+=ie)}var Re,M;return he}}(C,0);w.response=C,w.rgbaoutput=!0,w.dataurl=!1;var E=w.header?w.header:null,O=w.frames?w.frames:null;if(E){E.loop_counter=E.loop_count,g=[E.canvas_height],f=[E.canvas_width];for(var N=0;N<O.length&&O[N].blend!=0;N++);}var q=O[0],X=_.WebPDecodeRGBA(C,q.src_off,q.src_size,f,g);q.rgba=X,q.imgwidth=f[0],q.imgheight=g[0];for(var z=0;z<f[0]*g[0]*4;z++)y[z]=X[z];return this.width=f,this.height=g,this.data=y,this}(function(n){var e=function(){return typeof k2=="function"},t=function(g,f,y,_){var C=4,w=s;switch(_){case n.image_compression.FAST:C=1,w=o;break;case n.image_compression.MEDIUM:C=6,w=a;break;case n.image_compression.SLOW:C=9,w=l}g=r(g,f,y,w);var E=k2(g,{level:C});return n.__addimage__.arrayBufferToBinaryString(E)},r=function(g,f,y,_){for(var C,w,E,O=g.length/f,N=new Uint8Array(g.length+O),q=d(),X=0;X<O;X+=1){if(E=X*f,C=g.subarray(E,E+f),_)N.set(_(C,y,w),E+X);else{for(var z,B=q.length,le=[];z<B;z+=1)le[z]=q[z](C,y,w);var he=h(le.concat());N.set(le[he],E+X)}w=C}return N},i=function(g){var f=Array.apply([],g);return f.unshift(0),f},o=function(g,f){var y,_=[],C=g.length;_[0]=1;for(var w=0;w<C;w+=1)y=g[w-f]||0,_[w+1]=g[w]-y+256&255;return _},s=function(g,f,y){var _,C=[],w=g.length;C[0]=2;for(var E=0;E<w;E+=1)_=y&&y[E]||0,C[E+1]=g[E]-_+256&255;return C},a=function(g,f,y){var _,C,w=[],E=g.length;w[0]=3;for(var O=0;O<E;O+=1)_=g[O-f]||0,C=y&&y[O]||0,w[O+1]=g[O]+256-(_+C>>>1)&255;return w},l=function(g,f,y){var _,C,w,E,O=[],N=g.length;O[0]=4;for(var q=0;q<N;q+=1)_=g[q-f]||0,C=y&&y[q]||0,w=y&&y[q-f]||0,E=c(_,C,w),O[q+1]=g[q]-E+256&255;return O},c=function(g,f,y){if(g===f&&f===y)return g;var _=Math.abs(f-y),C=Math.abs(g-y),w=Math.abs(g+f-y-y);return _<=C&&_<=w?g:C<=w?f:y},d=function(){return[i,o,s,a,l]},h=function(g){var f=g.map(function(y){return y.reduce(function(_,C){return _+Math.abs(C)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(g,f,y,_){var C,w,E,O,N,q,X,z,B,le,he,k,I,W,G,_e=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(E=new fK(g)).imgData,w=E.bits,C=E.colorSpace,N=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){B=(z=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,he=new Uint8Array(B*E.colors),le=new Uint8Array(B);var ie,H=E.pixelBitlength-E.bits;for(W=0,G=0;W<B;W++){for(I=z[W],ie=0;ie<H;)he[G++]=I>>>ie&255,ie+=E.bits;le[W]=I>>>ie&255}}if(E.bits===16){B=(z=new Uint32Array(E.decodePixels().buffer)).length,he=new Uint8Array(B*(32/E.pixelBitlength)*E.colors),le=new Uint8Array(B*(32/E.pixelBitlength)),k=E.colors>1,W=0,G=0;for(var se=0;W<B;)I=z[W++],he[G++]=I>>>0&255,k&&(he[G++]=I>>>16&255,I=z[W++],he[G++]=I>>>0&255),le[se++]=I>>>16&255;w=8}_!==n.image_compression.NONE&&e()?(g=t(he,E.width*E.colors,E.colors,_),X=t(le,E.width,1,_)):(g=he,X=le,_e=void 0)}if(E.colorType===3&&(C=this.color_spaces.INDEXED,q=E.palette,E.transparency.indexed)){var ge=E.transparency.indexed,Re=0;for(W=0,B=ge.length;W<B;++W)Re+=ge[W];if((Re/=255)===B-1&&ge.indexOf(0)!==-1)O=[ge.indexOf(0)];else if(Re!==B){for(z=E.decodePixels(),le=new Uint8Array(z.length),W=0,B=z.length;W<B;W++)le[W]=ge[z[W]];X=t(le,E.width,1)}}var M=function(L){var U;switch(L){case n.image_compression.FAST:U=11;break;case n.image_compression.MEDIUM:U=13;break;case n.image_compression.SLOW:U=14;break;default:U=12}return U}(_);return _e===this.decode.FLATE_DECODE&&(Y="/Predictor "+M+" "),Y+="/Colors "+N+" /BitsPerComponent "+w+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(X&&this.__addimage__.isArrayBuffer(X)||this.__addimage__.isArrayBufferView(X))&&(X=this.__addimage__.arrayBufferToBinaryString(X)),{alias:y,data:g,index:f,filter:_e,decodeParameters:Y,transparency:O,palette:q,sMask:X,predictor:M,width:E.width,height:E.height,bitsPerComponent:w,colorSpace:C}}}})(_t.API),function(n){n.processGIF89A=function(e,t,r,i){var o=new pK(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new D3(100).encode(c,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A}(_t.API),as.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},as.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){An.log("bit decode error:"+t)}},as.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},as.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},as.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},as.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=n}},as.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,d=i*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=n}},as.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},as.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},as.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var o=new as(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new D3(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(_t.API),nN.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var o=new nN(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new D3(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(_t.API),_t.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c],h=r[c+1],g=r[c+2],f=r[c+3];o[a++]=d,o[a++]=h,o[a++]=g,s[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},_t.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wh=_t.API,j2=wh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=e.doKerning!==!1,g=0,f=n.length,y=0,_=a[0]||l,C=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(g=h&&Sn(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/d:0,C.push((a[r]||_)/l+g)),y=r;return C},Q8=wh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return wh.processArabic&&(n=wh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:j2.apply(this,arguments).reduce(function(o,s){return o+s},0)},J8=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},eN=function(n,e,t){t||(t={});var r,i,o,s,a,l,c,d=[],h=[d],g=t.textIndent||0,f=0,y=0,_=n.split(" "),C=j2.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var w=Array(l).join(" "),E=[];_.map(function(N){(N=N.split(/\s*\n/)).length>1?E=E.concat(N.map(function(q,X){return(X&&q.length?`
`:"")+q})):E.push(N[0])}),_=E,l=Q8.apply(this,[w,t])}for(o=0,s=_.length;o<s;o++){var O=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),O=1),g+f+(y=(i=j2.apply(this,[r,t])).reduce(function(N,q){return N+q},0))>e||O){if(y>e){for(a=J8.apply(this,[r,i,e-(g+f),e]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);y=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(N,q){return N+q},0)}else d=[r];h.push(d),g=y+l,f=C}else d.push(r),g+=f+y,f=C}return c=l?function(N,q){return(q?w:"")+N.join(" ")}:function(N){return N.join(" ")},h.map(c)},wh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(eN.apply(this,[r[a],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(h){return"0x"+parseInt(h,10).toString(16)},s=n.__fontmetrics__.compress=function(h){var g,f,y,_,C=["{"];for(var w in h){if(g=h[w],isNaN(parseInt(w,10))?f="'"+w+"'":(w=parseInt(w,10),f=(f=o(w).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof g=="number")g<0?(y=o(g).slice(3),_="-"):(y=o(g).slice(2),_=""),y=_+y.slice(0,-1)+r[y.slice(-1)];else{if(Sn(g)!=="object")throw new Error("Don't know what to do with value type "+Sn(g)+".");y=s(g)}C.push(f+y)}return C.push("}"),C.join("")},a=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,f,y,_,C={},w=1,E=C,O=[],N="",q="",X=h.length-1,z=1;z<X;z+=1)(_=h[z])=="'"?g?(y=g.join(""),g=void 0):g=[]:g?g.push(_):_=="{"?(O.push([E,y]),E={},y=void 0):_=="}"?((f=O.pop())[0][f[1]]=E,y=void 0,E=f[0]):_=="-"?w=-1:y===void 0?t.hasOwnProperty(_)?(N+=t[_],y=parseInt(N,16)*w,w=1,N=""):N+=_:t.hasOwnProperty(_)?(q+=t[_],E[y]=parseInt(q,16)*w,w=1,y=void 0,q=""):q+=_;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var g=h.font,f=d.Unicode[g.postScriptName];f&&(g.metadata.Unicode={},g.metadata.Unicode.widths=f.widths,g.metadata.Unicode.kerning=f.kerning);var y=c.Unicode[g.postScriptName];y&&(g.metadata.Unicode.encoding=y,g.encoding=y.codePages[0])}])}(_t.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(yg(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(_t),function(n){function e(){return(Ct.canvg?Promise.resolve(Ct.canvg):import("./chunk-KBHBTWUQ.js")).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}_t.API.addSvgAsImage=function(t,r,i,o,s,a,l,c){if(isNaN(r)||isNaN(i))throw An.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw An.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(y){return y.fromString(h,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(g)}).then(function(){f.addImage(d.toDataURL("image/jpeg",1),r,i,o,s,l,c)})}}(),_t.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},_t.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,h=0;function g(y,_){var C,w=!1;for(C=0;C<y.length;C+=1)y[C]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(Sn(n)==="object"){for(i in n)if(o=n[i],g(a,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&g(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,_=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?_.push("/"+y+" /"+t[y].value):_.push("/"+y+" "+t[y].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(_t.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,g=o.length;h<g;++h){if(a=s.metadata.characterToGlyph(o.charCodeAt(h)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(o){var s,a,l,c,d,h,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,g=(a=Object.keys(o).sort(function(f,y){return f-y})).length;h<g;h++)s=a[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",y=0;y<g.length;y++)f+=String.fromCharCode(g[y]);var _=c();d({data:f,addLength1:!0,objectId:_}),l("endobj");var C=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Eh(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Eh(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+Eh(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,g="",f=0;f<h.length;f++)g+=String.fromCharCode(h[f]);var y=c();d({data:g,addLength1:!0,objectId:y}),l("endobj");var _=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var C=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Eh(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Eh(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},h=o.mutex||{},g=h.pdfEscape,f=h.activeFontKey,y=h.fonts,_=f,C="",w=0,E="",O=y[_].encoding;if(y[_].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:h};for(E=a,_=f,Array.isArray(a)&&(E=a[0]),w=0;w<E.length;w+=1)y[_].metadata.hasOwnProperty("cmap")&&(s=y[_].metadata.cmap.unicode.codeMap[E[w].charCodeAt(0)]),s||E[w].charCodeAt(0)<256&&y[_].metadata.hasOwnProperty("Unicode")?C+=E[w]:C+="";var N="";return parseInt(_.slice(1))<14||O==="WinAnsiEncoding"?N=g(C,_).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(N=t(C,y[_])),h.isHex=!0,{text:N,x:l,y:c,options:d,mutex:h}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(_t),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(_t.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,d,h=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,O=0;this.__bidiEngine__={};var N=function(k){var I=k.charCodeAt(),W=I>>8,G=_[W];return G!==void 0?h[256*G+(255&I)]:W===252||W===253?"AL":w.test(W)?"L":W===8?"R":"N"},q=function(k){for(var I,W=0;W<k.length;W++){if((I=N(k.charAt(W)))==="L")return!1;if(I==="R")return!0}return!1},X=function(k,I,W,G){var _e,Y,ie,H,se=I[G];switch(se){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(se="AN");break;case"AL":E=!0,se="R";break;case"WS":se="N";break;case"CS":G<1||G+1>=I.length||(_e=W[G-1])!=="EN"&&_e!=="AN"||(Y=I[G+1])!=="EN"&&Y!=="AN"?se="N":E&&(Y="AN"),se=Y===_e?Y:"N";break;case"ES":se=(_e=G>0?W[G-1]:"B")==="EN"&&G+1<I.length&&I[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&W[G-1]==="EN"){se="EN";break}if(E){se="N";break}for(ie=G+1,H=I.length;ie<H&&I[ie]==="ET";)ie++;se=ie<H&&I[ie]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(H=I.length,ie=G+1;ie<H&&I[ie]==="NSM";)ie++;if(ie<H){var ge=k[G],Re=ge>=1425&&ge<=2303||ge===64286;if(_e=I[ie],Re&&(_e==="R"||_e==="AL")){se="R";break}}}se=G<1||(_e=I[G-1])==="B"?"N":W[G-1];break;case"B":E=!1,i=!0,se=O;break;case"S":o=!0,se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":se="N"}return se},z=function(k,I,W){var G=k.split("");return W&&B(G,W,{hiLevel:O}),G.reverse(),I&&I.reverse(),G.join("")},B=function(k,I,W){var G,_e,Y,ie,H,se=-1,ge=k.length,Re=0,M=[],L=O?f:g,U=[];for(E=!1,i=!1,o=!1,_e=0;_e<ge;_e++)U[_e]=N(k[_e]);for(Y=0;Y<ge;Y++){if(H=Re,M[Y]=X(k,U,M,Y),G=240&(Re=L[H][y[M[Y]]]),Re&=15,I[Y]=ie=L[Re][5],G>0)if(G===16){for(_e=se;_e<Y;_e++)I[_e]=1;se=-1}else se=-1;if(L[Re][6])se===-1&&(se=Y);else if(se>-1){for(_e=se;_e<Y;_e++)I[_e]=ie;se=-1}U[Y]==="B"&&(I[Y]=0),W.hiLevel|=ie}o&&function(Z,ae,fe){for(var be=0;be<fe;be++)if(Z[be]==="S"){ae[be]=O;for(var me=be-1;me>=0&&Z[me]==="WS";me--)ae[me]=O}}(U,I,ge)},le=function(k,I,W,G,_e){if(!(_e.hiLevel<k)){if(k===1&&O===1&&!i)return I.reverse(),void(W&&W.reverse());for(var Y,ie,H,se,ge=I.length,Re=0;Re<ge;){if(G[Re]>=k){for(H=Re+1;H<ge&&G[H]>=k;)H++;for(se=Re,ie=H-1;se<ie;se++,ie--)Y=I[se],I[se]=I[ie],I[ie]=Y,W&&(Y=W[se],W[se]=W[ie],W[ie]=Y);Re=H}Re++}}},he=function(k,I,W){var G=k.split(""),_e={hiLevel:O};return W||(W=[]),B(G,W,_e),function(Y,ie,H){if(H.hiLevel!==0&&d)for(var se,ge=0;ge<Y.length;ge++)ie[ge]===1&&(se=C.indexOf(Y[ge]))>=0&&(Y[ge]=C[se+1])}(G,W,_e),le(2,G,I,W,_e),le(1,G,I,W,_e),G.join("")};return this.__bidiEngine__.doBidiReorder=function(k,I,W){if(function(_e,Y){if(Y)for(var ie=0;ie<_e.length;ie++)Y[ie]=ie;a===void 0&&(a=q(_e)),c===void 0&&(c=q(_e))}(k,I),s||!l||c)if(s&&l&&a^c)O=a?1:0,k=z(k,I,W);else if(!s&&l&&c)O=a?1:0,k=he(k,I,W),k=z(k,I);else if(!s||a||l||c){if(s&&!l&&a^c)k=z(k,I),a?(O=0,k=he(k,I,W)):(O=1,k=he(k,I,W),k=z(k,I));else if(s&&a&&!l&&c)O=1,k=he(k,I,W),k=z(k,I);else if(!s&&!l&&a^c){var G=d;a?(O=1,k=he(k,I,W),O=0,d=!1,k=he(k,I,W),d=G):(O=0,k=he(k,I,W),k=z(k,I),O=1,d=!1,k=he(k,I,W),d=G,k=z(k,I))}}else O=0,k=he(k,I,W);else O=a?1:0,k=he(k,I,W);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,a=k.isInputRtl,c=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Xl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new OK(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new gK(this.contents),this.head=new vK(this),this.name=new CK(this),this.cmap=new pN(this),this.toUnicode={},this.hhea=new yK(this),this.maxp=new EK(this),this.hmtx=new SK(this),this.post=new bK(this),this.os2=new _K(this),this.loca=new DK(this),this.glyf=new xK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var cs,Xl=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),gK=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,s,a,l,c,d,h,g,f,y,_;for(_ in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),s=Math.floor(h/l),d=16*f-h,(i=new Xl).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(s),i.writeShort(d),o=16*f,c=i.pos+o,a=null,y=[],t)for(g=t[_],i.writeString(_),i.writeInt(n(g)),i.writeInt(c),i.writeInt(g.length),y=y.concat(g),_==="head"&&(a=c),c+=g.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=gN.call(t);t.length%4;)t.push(0);for(o=new Xl(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),mK={}.hasOwnProperty,Ks=function(n,e){for(var t in e)mK.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};cs=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var vK=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Xl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),rN=function(){function n(e,t){var r,i,o,s,a,l,c,d,h,g,f,y,_,C,w,E,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),g=f/2,e.pos+=6,o=function(){var N,q;for(q=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)q.push(e.readUInt16());return q}(),e.pos+=2,_=function(){var N,q;for(q=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)q.push(e.readUInt16());return q}(),c=function(){var N,q;for(q=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)q.push(e.readUInt16());return q}(),d=function(){var N,q;for(q=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)q.push(e.readUInt16());return q}(),i=(this.length-e.pos+this.offset)/2,a=function(){var N,q;for(q=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)q.push(e.readUInt16());return q}(),l=w=0,O=o.length;w<O;l=++w)for(C=o[l],r=E=y=_[l];y<=C?E<=C:E>=C;r=y<=C?++E:--E)d[l]===0?s=r+c[l]:(s=a[d[l]/2+(r-y)-(g-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=h}return n.encode=function(e,t){var r,i,o,s,a,l,c,d,h,g,f,y,_,C,w,E,O,N,q,X,z,B,le,he,k,I,W,G,_e,Y,ie,H,se,ge,Re,M,L,U,Z,ae,fe,be,me,Fe,Le,Ke;switch(G=new Xl,s=Object.keys(e).sort(function(Ge,mt){return Ge-mt}),t){case"macroman":for(_=0,C=function(){var Ge=[];for(y=0;y<256;++y)Ge.push(0);return Ge}(),E={0:0},o={},_e=0,se=s.length;_e<se;_e++)E[me=e[i=s[_e]]]==null&&(E[me]=++_),o[i]={old:e[i],new:E[e[i]]},C[i]=E[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(C),{charMap:o,subtable:G.data,maxGlyphID:_+1};case"unicode":for(I=[],h=[],O=0,E={},r={},w=c=null,Y=0,ge=s.length;Y<ge;Y++)E[q=e[i=s[Y]]]==null&&(E[q]=++O),r[i]={old:q,new:E[q]},a=E[q]-i,w!=null&&a===c||(w&&h.push(w),I.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),I.push(65535),he=2*(le=I.length),B=2*Math.pow(Math.log(le)/Math.LN2,2),g=Math.log(B/2)/Math.LN2,z=2*le-B,l=[],X=[],f=[],y=ie=0,Re=I.length;ie<Re;y=++ie){if(k=I[y],d=h[y],k===65535){l.push(0),X.push(0);break}if(k-(W=r[k].new)>=32768)for(l.push(0),X.push(2*(f.length+le-y)),i=H=k;k<=d?H<=d:H>=d;i=k<=d?++H:--H)f.push(r[i].new);else l.push(W-k),X.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*le+2*f.length),G.writeUInt16(0),G.writeUInt16(he),G.writeUInt16(B),G.writeUInt16(g),G.writeUInt16(z),fe=0,M=h.length;fe<M;fe++)i=h[fe],G.writeUInt16(i);for(G.writeUInt16(0),be=0,L=I.length;be<L;be++)i=I[be],G.writeUInt16(i);for(Fe=0,U=l.length;Fe<U;Fe++)a=l[Fe],G.writeUInt16(a);for(Le=0,Z=X.length;Le<Z;Le++)N=X[Le],G.writeUInt16(N);for(Ke=0,ae=f.length;Ke<ae;Ke++)_=f[Ke],G.writeUInt16(_);return{charMap:r,subtable:G.data,maxGlyphID:O+1}}},n}(),pN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new rN(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,o;return r==null&&(r="macroman"),i=rN.encode(t,r),(o=new Xl).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),yK=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),_K=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),bK=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),wK=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},CK=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,o,s,a,l,c,d,h,g,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=h=0,g=i.length;h<g;s=++h)o=i[s],t.pos=o.offset,d=t.readString(o.length),a=new wK(d,o),c[f=o.nameID]==null&&(c[f]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),EK=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),SK=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,o,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)h.push(t.readInt16());return h}(),this.widths=(function(){var d,h,g,f;for(f=[],d=0,h=(g=this.metrics).length;d<h;d++)s=g[d],f.push(s.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),gN=[].slice,xK=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,o,s,a,l,c,d,h,g;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(o=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Xl(r.read(o))).readShort(),d=l.readShort(),g=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=a===-1?new PK(l,d,g,c,h):new MK(l,a,d,g,c,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var o,s,a,l,c;for(a=[],s=[],l=0,c=r.length;l<c;l++)o=t[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),MK=function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),PK=function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Xl(gN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),DK=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,cs),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var d=new Array(4*i.length),h=0;h<i.length;++h)d[4*h+3]=255&i[h],d[4*h+2]=(65280&i[h])>>8,d[4*h+1]=(16711680&i[h])>>16,d[4*h]=(4278190080&i[h])>>24;return d},e}(),OK=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))r=l[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,s,a,l,c,d,h,g,f,y,_,C,w;for(i in r=pN.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},w=r.charMap)f[(l=w[i]).old]=l.new;for(y in g=r.maxGlyphID,s)y in f||(f[y]=g++);return d=function(E){var O,N;for(O in N={},E)N[E[O]]=O;return N}(f),h=Object.keys(d).sort(function(E,O){return E-O}),_=function(){var E,O,N;for(N=[],E=0,O=h.length;E<O;E++)a=h[E],N.push(d[a]);return N}(),o=this.font.glyf.encode(s,_,f),c=this.font.loca.encode(o.offsets,_),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();_t.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)s=t[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e}();var L3=Cb(mN());var Ln={production:!0,developmentMode:!1,supabase:{url:"https://xoctvmxfsnrzaigxkjbc.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvY3R2bXhmc25yemFpZ3hramJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0MTM3MjcsImV4cCI6MjA2ODk4OTcyN30.IGCIv3O-JGty28a6fQ4Be1ZdtEIGJ04D0OEsgDfWYzk"},notifications:{enabled:!1,enableToast:!0,enableConsoleLog:!1,defaultDuration:4e3,maxNotifications:3,animations:!0,position:"top-right",types:{success:{enabled:!0,duration:3e3,showIcon:!0,persistent:!1},error:{enabled:!0,duration:6e3,showIcon:!0,persistent:!1},warning:{enabled:!0,duration:5e3,showIcon:!0,persistent:!1},info:{enabled:!1,duration:4e3,showIcon:!0,persistent:!1}}},auth:{session:{timeout:24*60*60*1e3,refreshTokenBefore:60*60*1e3,rememberSession:!0,autoRefreshToken:!0},supabase:{enabled:!0,provider:"github",redirectTo:"https://psic-abelnavarro.github.io/#/callback",allowAnyAuthenticatedUser:!1,detectSessionInUrl:!0,persistSession:!0},security:{enforceHttps:!0,allowedDomains:["psic-abelnavarro.github.io","abelnavarro.com"],maxLoginAttempts:3,lockoutDuration:30*60*1e3,sessionTimeout:24*60*60*1e3}}};var W2=class n{isDevelopment=!Ln.production;log(e,...t){this.isDevelopment&&console.log(`[CertificateForm] ${e}`,...t)}warn(e,...t){this.isDevelopment&&console.warn(`[CertificateForm] ${e}`,...t)}error(e,...t){console.error(`[CertificateForm] ${e}`,...t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var AK=["stage"];function IK(n,e){if(n&1&&(re(0,"option",99),F(1),de()),n&2){let t=e.$implicit;qt("value",t),Ue(),xn(t)}}function TK(n,e){if(n&1){let t=Sr();re(0,"div",60)(1,"h6"),Ve(2,"i",75),F(3," Texto "),de(),re(4,"div",62),Ve(5,"i",76),F(6," Contenido: "),de(),re(7,"textarea",77),As("ngModelChange",function(i){ft(t);let o=dt(2);return Pa(o.selectedElement.text,i)||(o.selectedElement.text=i),pt(i)}),rt("ngModelChange",function(){ft(t);let i=dt(2);return pt(i.updateSelectedElement())}),de(),re(8,"div",62),Ve(9,"i",78),F(10," Tama\xF1o: "),de(),re(11,"input",79),As("ngModelChange",function(i){ft(t);let o=dt(2);return Pa(o.selectedElement.fontSize,i)||(o.selectedElement.fontSize=i),pt(i)}),rt("ngModelChange",function(){ft(t);let i=dt(2);return pt(i.updateSelectedElement())}),de(),re(12,"div",62),Ve(13,"i",75),F(14," Fuente: "),de(),re(15,"select",80),As("ngModelChange",function(i){ft(t);let o=dt(2);return Pa(o.selectedElement.fontFamily,i)||(o.selectedElement.fontFamily=i),pt(i)}),rt("ngModelChange",function(){ft(t);let i=dt(2);return pt(i.updateSelectedElement())}),re(16,"option",81),F(17,"Arial"),de(),re(18,"option",82),F(19,"Helvetica"),de(),re(20,"option",83),F(21,"Times New Roman"),de(),re(22,"option",84),F(23,"Georgia"),de(),re(24,"option",85),F(25,"Verdana"),de(),re(26,"optgroup",86),Cn(27,IK,2,2,"option",87),de()(),re(28,"div",62),Ve(29,"i",63),F(30," Color: "),de(),re(31,"input",88),As("ngModelChange",function(i){ft(t);let o=dt(2);return Pa(o.selectedElement.fill,i)||(o.selectedElement.fill=i),pt(i)}),rt("ngModelChange",function(){ft(t);let i=dt(2);return pt(i.updateSelectedElement())}),de(),re(32,"div",62),Ve(33,"i",89),F(34," Estilo: "),de(),re(35,"select",90),As("ngModelChange",function(i){ft(t);let o=dt(2);return Pa(o.selectedElement.fontStyle,i)||(o.selectedElement.fontStyle=i),pt(i)}),rt("ngModelChange",function(){ft(t);let i=dt(2);return pt(i.updateSelectedElement())}),re(36,"option",91),F(37,"Normal"),de(),re(38,"option",92),F(39,"Negrita"),de(),re(40,"option",93),F(41,"Cursiva"),de()(),re(42,"div",62),Ve(43,"i",94),F(44," Alineaci\xF3n: "),de(),re(45,"select",95),As("ngModelChange",function(i){ft(t);let o=dt(2);return Pa(o.selectedElement.align,i)||(o.selectedElement.align=i),pt(i)}),rt("ngModelChange",function(){ft(t);let i=dt(2);return pt(i.updateSelectedElement())}),re(46,"option",96),F(47,"Izquierda"),de(),re(48,"option",97),F(49,"Centro"),de(),re(50,"option",98),F(51,"Derecha"),de()()()}if(n&2){let t=dt(2);Ue(7),Os("ngModel",t.selectedElement.text),Ue(4),Os("ngModel",t.selectedElement.fontSize),Ue(4),Os("ngModel",t.selectedElement.fontFamily),Ue(12),qt("ngForOf",t.googleFonts),Ue(4),Os("ngModel",t.selectedElement.fill),Ue(4),Os("ngModel",t.selectedElement.fontStyle),Ue(10),Os("ngModel",t.selectedElement.align)}}function NK(n,e){if(n&1){let t=Sr();re(0,"button",100),rt("click",function(){ft(t);let i=dt(2);return pt(i.removeBackgroundImage())}),Ve(1,"i",41),F(2," Quitar "),de()}}function kK(n,e){if(n&1&&(re(0,"div",60)(1,"h6"),Ve(2,"i",30),F(3," Imagen "),de(),re(4,"div",101)(5,"div",62),Ve(6,"i",67),F(7," Dimensiones: "),de(),re(8,"p",102),F(9),Oa(10,"number"),Oa(11,"number"),de()()()),n&2){let t=dt(2);Ue(9),Ol(" ",Aa(10,2,t.selectedElement==null?null:t.selectedElement.width,"1.0-0")," \xD7 ",Aa(11,5,t.selectedElement==null?null:t.selectedElement.height,"1.0-0"),"px ")}}function RK(n,e){if(n&1){let t=Sr();re(0,"div",105),rt("click",function(){let i=ft(t).$implicit,o=dt(3);return pt(o.selectElement(i))}),re(1,"div",106),Ve(2,"i",107),de(),re(3,"div",108)(4,"span",109),F(5),de(),re(6,"small",110),F(7),Oa(8,"number"),Oa(9,"number"),de()(),re(10,"button",111),rt("click",function(i){let o=ft(t).$implicit,s=dt(3);return pt(s.deleteElement(o.id,i))}),Ve(11,"i",57),de()()}if(n&2){let t=e.$implicit,r=dt(3);xr("selected",(r.selectedElement==null?null:r.selectedElement.id)===t.id),qt("title","Seleccionar "+t.type),Ue(2),xr("fa-font",t.type==="text")("fa-image",t.type==="image"),Ue(3),Lr(" ",t.type==="text"?t.text||"Sin texto":"Imagen"," "),Ue(2),Ol(" ",Aa(8,10,t.x,"1.0-0"),", ",Aa(9,13,t.y,"1.0-0")," ")}}function LK(n,e){if(n&1&&(re(0,"div",103),Cn(1,RK,12,16,"div",104),de()),n&2){let t=dt(2);Ue(),qt("ngForOf",t.elements)}}function FK(n,e){n&1&&(re(0,"div",112),Ve(1,"i",113)(2,"br"),re(3,"span"),F(4,"Sin elementos"),de(),Ve(5,"br"),re(6,"small"),F(7,"Agregue contenido"),de()())}function jK(n,e){if(n&1){let t=Sr();re(0,"div",53)(1,"div",54)(2,"h6"),Ve(3,"i",55),F(4," Propiedades "),de(),re(5,"button",56),rt("click",function(){ft(t);let i=dt();return pt(i.showProperties=!1)}),Ve(6,"i",57),de()(),re(7,"div",58),Cn(8,TK,52,7,"div",59),re(9,"div",60)(10,"h6"),Ve(11,"i",61),F(12," Fondo "),de(),re(13,"div",62),Ve(14,"i",63),F(15," Color: "),de(),re(16,"input",64),As("ngModelChange",function(i){ft(t);let o=dt();return Pa(o.backgroundColor,i)||(o.backgroundColor=i),pt(i)}),rt("change",function(){ft(t);let i=dt();return pt(i.changeBackgroundColor(i.backgroundColor))}),de(),re(17,"div",62),Ve(18,"i",30),F(19," Imagen: "),de(),re(20,"input",65,2),rt("change",function(i){ft(t);let o=dt();return pt(o.onBackgroundImageChange(i))}),de(),Cn(22,NK,3,0,"button",66),de(),Cn(23,kK,12,8,"div",59),re(24,"div",60)(25,"h6"),Ve(26,"i",67),F(27," Lienzo "),de(),re(28,"div",68)(29,"div",69),Ve(30,"i",70),re(31,"span"),F(32),de()(),re(33,"div",69),Ve(34,"i",71),re(35,"span"),F(36),de()(),re(37,"div",69),Ve(38,"i",72),re(39,"span"),F(40),de()()()(),re(41,"div",60)(42,"h6"),Ve(43,"i",73),F(44),de(),Cn(45,LK,2,1,"div",74)(46,FK,8,0,"ng-template",null,3,wC),de()()()}if(n&2){let t=B1(47),r=dt();Ue(8),qt("ngIf",(r.selectedElement==null?null:r.selectedElement.type)==="text"),Ue(8),Os("ngModel",r.backgroundColor),Ue(6),qt("ngIf",r.backgroundImage),Ue(),qt("ngIf",(r.selectedElement==null?null:r.selectedElement.type)==="image"),Ue(9),Ol("",r.canvasWidth," \xD7 ",r.canvasHeight,"px"),Ue(4),xn(r.orientation==="horizontal"?"Horizontal":"Vertical"),Ue(4),Lr("",r.getZoomPercentage(),"%"),Ue(4),Lr(" Elementos (",r.elements.length,") "),Ue(),qt("ngIf",r.elements.length>0)("ngIfElse",t)}}var Y2={width:1123,height:870,gridSize:20,pixelRatio:3,exportQuality:1},vN={min:.2,max:2,step:.1,default:.8},BK=["Open Sans","Roboto","Lato","Montserrat","Oswald","Source Sans Pro","Raleway","PT Sans","Ubuntu","Merriweather","Dancing Script"],UK=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VK=10*1024*1024,yN={enabledAnchors:["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],borderStroke:"#4285f4",borderStrokeWidth:2,anchorStroke:"#4285f4",anchorFill:"#ffffff",anchorSize:8},K2=class n{constructor(e){this.cdr=e}stageRef;stage;layer;gridLayer;transformer;canvasConfig=Y2;zoomConfig=vN;googleFonts=BK;supportedImageTypes=UK;canvasWidth=Y2.width;canvasHeight=Y2.height;showGrid=!0;backgroundColor="#ffffff";backgroundImage=null;orientation="horizontal";zoomLevel=vN.default;selectedElement=null;elements=[];showProperties=!0;showTemplatesMenu=!1;templates=[];imageCache=new Map;isDestroyed=!1;logger=Pe(W2);onDocumentClick(e){e.target.closest(".dropdown")||(this.showTemplatesMenu=!1)}updateCanvasDimensions(){this.orientation==="horizontal"?(this.canvasWidth=this.canvasConfig.width,this.canvasHeight=this.canvasConfig.height):(this.canvasWidth=this.canvasConfig.height,this.canvasHeight=this.canvasConfig.width)}changeOrientation(e){this.orientation!==e&&(this.logger.log("Cambiando orientaci\xF3n de",this.orientation,"a",e),this.orientation=e,this.updateCanvasDimensions(),this.logger.log("Nuevas dimensiones:",this.canvasWidth,"x",this.canvasHeight),this.stage.width(this.canvasWidth*this.zoomLevel),this.stage.height(this.canvasHeight*this.zoomLevel),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.drawGrid(),this.layer.batchDraw(),this.logger.log("Orientaci\xF3n cambiada exitosamente"))}loadGoogleFonts(){typeof L3>"u"||L3.load({google:{families:[...this.googleFonts]},active:()=>{this.cdr.detectChanges()},inactive:()=>{this.logger.warn("No se pudieron cargar las fuentes de Google")}})}initCanvas(){this.updateCanvasDimensions(),this.stage=new Ai.default.Stage({container:this.stageRef.nativeElement,width:this.canvasWidth*this.zoomLevel,height:this.canvasHeight*this.zoomLevel}),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.gridLayer=new Ai.default.Layer,this.stage.add(this.gridLayer),this.layer=new Ai.default.Layer,this.stage.add(this.layer),this.createTransformer(),this.drawGrid(),this.setupEventHandlers()}createTransformer(){this.transformer=new Ai.default.Transformer(Et(Ae({},yN),{enabledAnchors:[...yN.enabledAnchors]})),this.layer.add(this.transformer),this.transformer.moveToTop()}setupEventHandlers(){this.stage.on("click tap",e=>{let t=e.target;(t===this.stage||t.getParent()===this.gridLayer||t.name()==="background-image")&&this.deselectAll()}),this.stage.on("click",e=>{let t=e.target;t.draggable&&t.draggable()&&(e.cancelBubble=!0)})}drawGrid(){if(!this.showGrid){this.gridLayer.destroyChildren(),this.gridLayer.batchDraw();return}this.gridLayer.destroyChildren();let e=Y2.gridSize,t=this.canvasWidth,r=this.canvasHeight;for(let i=0;i<=t/e;i++){let o=new Ai.default.Line({points:[i*e,0,i*e,r],stroke:"#ddd",strokeWidth:.5,listening:!1});this.gridLayer.add(o)}for(let i=0;i<=r/e;i++){let o=new Ai.default.Line({points:[0,i*e,t,i*e],stroke:"#ddd",strokeWidth:.5,listening:!1});this.gridLayer.add(o)}this.gridLayer.batchDraw()}toggleGrid(){this.showGrid=!this.showGrid,this.drawGrid()}changeBackgroundColor(e){this.backgroundColor=e,this.stage.container().style.backgroundColor=e}onBackgroundImageChange(e){let t=e.target.files[0];if(t){this.logger.log("Cambiando imagen de fondo:",t.name);let r=new FileReader;r.onload=i=>{Ai.default.Image.fromURL(i.target.result,o=>{let s=o.image();this.backgroundImage=s,this.setBackgroundImage(s)},o=>{console.error("Error al cargar imagen de fondo:",o);let s=new HTMLImageElement;s.crossOrigin="anonymous",s.onload=()=>{this.backgroundImage=s,this.setBackgroundImage(s)},s.onerror=()=>{console.error("Error al cargar imagen de fondo con fallback"),alert("Error al cargar la imagen de fondo")},s.src=i.target.result})},r.readAsDataURL(t)}e.target.value=""}setBackgroundImage(e){this.logger.log("Estableciendo imagen de fondo"),this.layer.find(".background-image").forEach(r=>r.destroy());let t=new Ai.default.Image({image:e,width:this.canvasWidth,height:this.canvasHeight,listening:!1,name:"background-image"});this.layer.add(t),t.moveToBottom(),this.transformer&&this.transformer.moveToTop(),this.layer.batchDraw(),this.logger.log("Imagen de fondo establecida y canvas redibujado")}removeBackgroundImage(){this.backgroundImage=null,this.layer.find(".background-image").forEach(e=>e.destroy()),this.layer.batchDraw()}selectTool(e){this.deselectAll()}addText(){let e={id:this.generateId(),type:"text",x:100,y:100,text:"Nuevo texto",fontSize:24,fontFamily:"Arial",fill:"#000000",fontStyle:"normal",textDecoration:"",align:"left"};this.elements.push(e),this.createTextElement(e)}createTextElement(e){let t=new Ai.default.Text({id:e.id,x:e.x,y:e.y,text:e.text||"",fontSize:e.fontSize||24,fontFamily:e.fontFamily||"Arial",fill:e.fill||"#000000",fontStyle:e.fontStyle||"normal",textDecoration:e.textDecoration||"",align:e.align||"left",draggable:!0});t.on("click",()=>{this.selectElement(e)}),t.on("transform",()=>{this.updateElementFromNode(t,e)}),t.on("dragend",()=>{this.updateElementFromNode(t,e)}),this.layer.add(t),this.layer.batchDraw()}zoomIn(){this.zoomLevel<this.zoomConfig.max&&(this.zoomLevel=Math.min(this.zoomLevel+this.zoomConfig.step,this.zoomConfig.max),this.updateZoom())}zoomOut(){this.zoomLevel>this.zoomConfig.min&&(this.zoomLevel=Math.max(this.zoomLevel-this.zoomConfig.step,this.zoomConfig.min),this.updateZoom())}zoomReset(){this.zoomLevel=this.zoomConfig.default,this.updateZoom()}zoomFit(){let e=this.stageRef.nativeElement.parentElement;if(e){let t=e.clientWidth-40,r=e.clientHeight-40,i=t/this.canvasWidth,o=r/this.canvasHeight;this.zoomLevel=Math.min(i,o,this.zoomConfig.max),this.updateZoom()}}updateZoom(){this.stage.width(this.canvasWidth*this.zoomLevel),this.stage.height(this.canvasHeight*this.zoomLevel),this.stage.scaleX(this.zoomLevel),this.stage.scaleY(this.zoomLevel),this.stage.batchDraw()}getZoomPercentage(){return Math.round(this.zoomLevel*100)}onZoomSliderChange(e){let t=e.target,r=parseFloat(t.value)/100;this.zoomLevel=Math.max(this.zoomConfig.min,Math.min(r,this.zoomConfig.max)),this.updateZoom()}onZoomWheel(e){e.preventDefault();let t=e.deltaY>0?-this.zoomConfig.step:this.zoomConfig.step,r=this.zoomLevel+t;this.zoomLevel=Math.max(this.zoomConfig.min,Math.min(r,this.zoomConfig.max)),this.updateZoom()}onImageUpload(e){let t=e.target,r=t.files?.[0];if(!r)return;if(!this.supportedImageTypes.includes(r.type)){alert("Tipo de archivo no soportado. Por favor use: JPEG, PNG, GIF o WebP"),t.value="";return}if(r.size>VK){alert("El archivo es demasiado grande. Tama\xF1o m\xE1ximo: 10MB"),t.value="";return}this.logger.log("Archivo seleccionado:",r.name,r.type,r.size);let i=new FileReader;i.onload=o=>{let s=o.target?.result;s&&(this.logger.log("FileReader completado"),Ai.default.Image.fromURL(s,a=>{this.logger.log("Imagen cargada exitosamente con Konva.Image.fromURL");let l=a.image();this.addImage(l,a)},a=>{console.error("Error al cargar imagen con Konva.Image.fromURL:",a),this.loadImageWithFallback(s)}))},i.onerror=o=>{console.error("Error al leer archivo:",o),alert("Error al leer el archivo de imagen")},i.readAsDataURL(r),t.value=""}loadImageWithFallback(e){let t=new HTMLImageElement;t.crossOrigin="anonymous",t.onload=()=>{this.logger.log("Imagen cargada con m\xE9todo fallback"),this.addImage(t)},t.onerror=r=>{console.error("Error al cargar imagen:",r),alert("Error al cargar la imagen. Por favor, intente con otra imagen.")},t.src=e}addImage(e,t){this.logger.log("Agregando imagen al canvas");let r=300,i=300,o=e.width,s=e.height;o>r&&(s=s*r/o,o=r),s>i&&(o=o*i/s,s=i);let a={id:this.generateId(),type:"image",x:50,y:50,width:o,height:s,src:e.src};this.elements.push(a),t?this.createImageElementFromKonva(a,t):this.createImageElement(a,e),setTimeout(()=>{this.selectElement(a)},100)}createImageElementFromKonva(e,t){this.logger.log("Creando elemento imagen desde nodo Konva");let r=t.clone({id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,draggable:!0});r.on("click",()=>{this.selectElement(e)}),r.on("transform",()=>{this.updateElementFromNode(r,e)}),r.on("dragend",()=>{this.updateElementFromNode(r,e)}),this.layer.add(r),this.layer.draw(),this.logger.log("Imagen agregada al layer y dibujada")}createImageElement(e,t){this.logger.log("Creando elemento imagen tradicional");let r=()=>{let i=new Ai.default.Image({id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,image:t,draggable:!0});i.on("click",()=>{this.selectElement(e)}),i.on("transform",()=>{this.updateElementFromNode(i,e)}),i.on("dragend",()=>{this.updateElementFromNode(i,e)}),this.layer.add(i),this.layer.batchDraw(),this.logger.log("Imagen agregada al layer y dibujada")};t.complete&&t.naturalHeight!==0?r():(t.onload=()=>{r()},t.onerror=()=>{console.error("Error al cargar imagen en createImageElement"),alert("Error al procesar la imagen")})}selectElement(e){this.selectedElement=e;let t=this.stage.findOne("#"+e.id);if(!t?.getParent()?.getLayer()){this.logger.warn("Node not found or invalid for element:",e.id),this.deselectAll();return}try{this.ensureTransformerReady(),this.transformer.nodes([]),this.transformer.nodes([t]),this.transformer.moveToTop(),this.layer.batchDraw()}catch(r){console.error("Error applying transformer:",r),this.handleTransformerError(t)}}ensureTransformerReady(){this.transformer?.getParent()||this.recreateTransformer()}handleTransformerError(e){try{this.recreateTransformer(),setTimeout(()=>{try{e?.getParent()&&(this.transformer.nodes([e]),this.transformer.moveToTop(),this.layer.batchDraw())}catch(t){console.error("Error after recreating transformer:",t),this.deselectAll()}},0)}catch(t){console.error("Error in handleTransformerError:",t),this.deselectAll()}}recreateTransformer(){if(this.transformer)try{this.transformer.nodes([]),this.transformer.remove(),this.transformer.destroy()}catch(e){this.logger.warn("Error destroying old transformer:",e)}this.createTransformer(),this.layer.batchDraw()}deselectAll(){this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(e){console.error("Error deselecting elements:",e),this.recreateTransformer()}}updateElementFromNode(e,t){try{if(t.x=e.x(),t.y=e.y(),t.rotation=e.rotation(),t.scaleX=e.scaleX(),t.scaleY=e.scaleY(),t.type==="text"){let r=e;t.width=r.width()*r.scaleX(),t.height=r.height()*r.scaleY()}else if(t.type==="image"){let r=e;t.width=r.width()*r.scaleX(),t.height=r.height()*r.scaleY()}}catch(r){console.error("Error updating element from node:",r)}}updateSelectedElement(){if(!this.selectedElement)return;let e=this.stage.findOne("#"+this.selectedElement.id);if(e){if(this.selectedElement.type==="text"){let t=e;t.text(this.selectedElement.text||""),t.fontSize(this.selectedElement.fontSize||24),t.fontFamily(this.selectedElement.fontFamily||"Arial"),t.fill(this.selectedElement.fill||"#000000"),t.fontStyle(this.selectedElement.fontStyle||"normal"),t.textDecoration(this.selectedElement.textDecoration||""),t.align(this.selectedElement.align||"left")}this.layer.batchDraw()}}deleteSelected(){if(!this.selectedElement)return;this.stage.findOne("#"+this.selectedElement.id)?.destroy(),this.elements=this.elements.filter(t=>t.id!==this.selectedElement.id),this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(t){console.error("Error clearing transformer after delete:",t),this.recreateTransformer()}}deleteElement(e,t){if(t.stopPropagation(),this.stage.findOne("#"+e)?.destroy(),this.elements=this.elements.filter(i=>i.id!==e),this.selectedElement?.id===e){this.selectedElement=null;try{this.transformer?.getParent()&&(this.transformer.nodes([]),this.layer.batchDraw())}catch(i){console.error("Error clearing transformer after element delete:",i),this.recreateTransformer()}}this.layer.batchDraw()}clearCanvas(){this.elements=[],this.selectedElement=null,this.backgroundImage=null,this.layer.destroyChildren(),this.recreateTransformer(),this.layer.batchDraw()}exportToPNG(){this.hideTransformerForExport();let e=this.stage.toDataURL({mimeType:"image/png",quality:this.canvasConfig.exportQuality,pixelRatio:this.canvasConfig.pixelRatio});this.showTransformerAfterExport(),this.downloadFile(e,"certificate.png")}exportToPDF(){this.hideTransformerForExport();let e=this.stage.toDataURL({mimeType:"image/png",quality:this.canvasConfig.exportQuality,pixelRatio:4}),t=new _t({orientation:this.canvasWidth>this.canvasHeight?"landscape":"portrait",unit:"mm",format:"a4",putOnlyUsedFonts:!0,floatPrecision:16}),r=this.canvasWidth>this.canvasHeight?297:210,i=this.canvasWidth>this.canvasHeight?210:297;t.addImage(e,"PNG",0,0,r,i,void 0,"FAST"),t.save("certificate.pdf"),this.showTransformerAfterExport()}hideTransformerForExport(){try{this.transformer?.hide(),this.layer.batchDraw()}catch(e){this.logger.warn("Error hiding transformer for export:",e)}}showTransformerAfterExport(){try{this.transformer?.show(),this.layer.batchDraw()}catch(e){this.logger.warn("Error showing transformer after export:",e)}}downloadFile(e,t){let r=document.createElement("a");r.download=t,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}initializeTemplates(){return ue(this,null,function*(){try{let e=yield fetch("/templates/templates.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let t=yield e.json();this.templates=t.templates||[],this.logger.log("Plantillas cargadas exitosamente:",this.templates.length)}catch(e){console.error("Error cargando plantillas:",e),this.logger.error("Error cargando plantillas desde JSON:",e),this.loadDefaultTemplates()}})}loadDefaultTemplates(){this.templates=[{id:"participacion",name:"Certificado de Participaci\xF3n",description:"Certificado general de participaci\xF3n en eventos",backgroundImage:"/plantilla/plantilla1.jpeg",elements:[{type:"text",x:this.canvasWidth/2,y:200,text:"CERTIFICADO DE PARTICIPACI\xD3N",fontSize:48,fontFamily:"Montserrat",fill:"#2c3e50",fontStyle:"bold",align:"center"}]}],this.logger.warn("Usando plantillas por defecto debido a error en carga")}toggleTemplatesMenu(){this.showTemplatesMenu=!this.showTemplatesMenu}applyTemplate(e){let t=this.templates.find(r=>r.id===e);t&&(this.showTemplatesMenu=!1,this.clearCanvas(),this.loadTemplateBackground(t.backgroundImage),t.elements.forEach(r=>{this.addTemplateElement(r)}),this.layer.batchDraw(),this.cdr.detectChanges())}loadTemplateBackground(e){let t=new Image;t.onload=()=>{this.backgroundImage=t,this.setBackgroundImage(t)},t.onerror=()=>{console.error("Error loading template background:",e)},t.src=e}addTemplateElement(e){let t=this.generateId(),r=Et(Ae({},e),{id:t});this.elements.push(r),e.type==="text"?this.addTextElementToCanvas(r):e.type==="image"&&this.addImageElementToCanvas(r)}addTextElementToCanvas(e){let t=new Ai.default.Text({id:e.id,x:e.x,y:e.y,text:e.text||"",fontSize:e.fontSize||24,fontFamily:e.fontFamily||"Arial",fill:e.fill||"#000000",fontStyle:e.fontStyle||"normal",textDecoration:e.textDecoration||"",align:e.align||"center",draggable:!0});t.offsetX(t.width()/2),t.offsetY(t.height()/2),t.on("click",r=>{r.cancelBubble=!0;try{this.selectElement(e)}catch(i){console.error("Error in text click handler:",i)}}),t.on("transform",()=>{try{this.updateElementFromNode(t,e)}catch(r){console.error("Error in text transform handler:",r)}}),t.on("dragend",()=>{try{this.updateElementFromNode(t,e)}catch(r){console.error("Error in text dragend handler:",r)}}),this.layer.add(t),this.layer.batchDraw()}addImageElementToCanvas(e){if(!e.src)return;let t=new Image,r=()=>{let i=new Ai.default.Image({id:e.id,x:e.x,y:e.y,width:e.width||100,height:e.height||100,image:t,draggable:!0});i.on("click",o=>{o.cancelBubble=!0;try{this.selectElement(e)}catch(s){console.error("Error in image click handler:",s)}}),i.on("transform",()=>{try{this.updateElementFromNode(i,e)}catch(o){console.error("Error in image transform handler:",o)}}),i.on("dragend",()=>{try{this.updateElementFromNode(i,e)}catch(o){console.error("Error in image dragend handler:",o)}}),this.layer.add(i),this.layer.batchDraw()};t.onload=()=>{r()},t.onerror=()=>{console.error("Error loading template image:",e.src)},t.src=e.src}generateId(){return`element_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}ngOnInit(){this.loadGoogleFonts(),this.initializeTemplates(),setTimeout(()=>ue(this,null,function*(){yield this.loadDefaultTemplate()}),500)}loadDefaultTemplate(){return ue(this,null,function*(){this.templates.length===0&&(yield this.initializeTemplates()),this.applyTemplate("potencial-humano-360")})}ngAfterViewInit(){this.initCanvas()}ngOnDestroy(){this.isDestroyed=!0,this.cleanup()}cleanup(){this.stage&&(this.stage.off("click tap"),this.stage.off("click")),this.imageCache.clear(),this.destroyKonvaElements()}destroyKonvaElements(){try{this.transformer?.destroy(),this.layer?.destroy(),this.gridLayer?.destroy(),this.stage?.destroy()}catch(e){this.logger.warn("Error durante la limpieza de elementos Konva:",e)}}static \u0275fac=function(t){return new(t||n)(ct(Is))};static \u0275cmp=wn({type:n,selectors:[["app-certificate-form"]],viewQuery:function(t,r){if(t&1&&bC(AK,5),t&2){let i;F1(i=j1())&&(r.stageRef=i.first)}},hostBindings:function(t,r){t&1&&rt("click",function(o){return r.onDocumentClick(o)},Kw)},decls:97,vars:10,consts:[["imageInput",""],["stage",""],["bgImageInput",""],["noElements",""],[1,"certificate-editor"],[1,"toolbar"],[1,"toolbar-group"],[1,"toolbar-title"],[1,"fas","fa-certificate"],[1,"dropdown"],["type","button","id","templatesDropdown","title","Plantillas","aria-label","Plantillas",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-th-large"],["aria-labelledby","templatesDropdown",1,"dropdown-menu"],[1,"dropdown-header"],[1,"fas","fa-star","text-warning"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"fas","fa-brain","text-success"],[1,"dropdown-divider"],[1,"fas","fa-graduation-cap"],[1,"fas","fa-certificate","text-primary"],[1,"fas","fa-microphone","text-success"],[1,"fas","fa-tools"],[1,"fas","fa-hammer","text-warning"],[1,"fas","fa-graduation-cap","text-info"],[1,"fas","fa-award"],[1,"fas","fa-trophy","text-danger"],["title","Insertar texto","aria-label","Insertar texto",1,"btn","btn-primary",3,"click"],[1,"fas","fa-font",2,"font-weight","bold","font-size","1.1em"],["type","file","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp","aria-label","Seleccionar imagen",2,"display","none",3,"change"],["title","Insertar imagen","aria-label","Insertar imagen",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-image"],["title","Mostrar/ocultar cuadr\xEDcula","aria-label","Cuadr\xEDcula",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-th"],["title","Alejar","aria-label","Alejar",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-search-minus"],[1,"zoom-display-compact"],["title","Acercar","aria-label","Acercar",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-search-plus"],["title","Ajustar al tama\xF1o","aria-label","Ajustar zoom",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-expand-arrows-alt"],["title","Eliminar elemento seleccionado","aria-label","Eliminar elemento",1,"btn","btn-warning",3,"click","disabled"],[1,"fas","fa-trash-alt"],["title","Limpiar todo el lienzo","aria-label","Limpiar todo",1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-eraser"],["title","Exportar como PDF","aria-label","Exportar PDF",1,"btn","btn-success",3,"click"],[1,"fas","fa-file-pdf"],["title","Exportar como imagen PNG","aria-label","Exportar PNG",1,"btn","btn-info",3,"click"],[1,"fas","fa-file-image"],[1,"main-content"],[1,"canvas-container"],[1,"canvas-wrapper"],[1,"konva-stage"],["class","properties-panel",4,"ngIf"],[1,"properties-panel"],[1,"panel-header"],[1,"fas","fa-sliders-h"],["title","Cerrar panel","aria-label","Cerrar panel",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"panel-content"],["class","property-group",4,"ngIf"],[1,"property-group"],[1,"fas","fa-fill-drip"],[1,"form-label"],[1,"fas","fa-palette"],["type","color","title","Color de fondo","aria-label","Color de fondo",1,"form-control","color-picker",3,"ngModelChange","change","ngModel"],["type","file","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp","aria-label","Imagen de fondo",1,"form-control",3,"change"],["class","btn btn-sm btn-outline-danger mt-2","title","Quitar imagen","aria-label","Quitar imagen",3,"click",4,"ngIf"],[1,"fas","fa-info-circle"],[1,"canvas-info"],[1,"info-item"],[1,"fas","fa-arrows-alt"],[1,"fas","fa-compass"],[1,"fas","fa-search"],[1,"fas","fa-layer-group"],["class","elements-list",4,"ngIf","ngIfElse"],[1,"fas","fa-font"],[1,"fas","fa-edit"],["placeholder","Texto...","rows","3","aria-label","Contenido",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"fas","fa-text-height"],["type","number","min","8","max","200","placeholder","24","aria-label","Tama\xF1o",1,"form-control",3,"ngModelChange","ngModel"],["aria-label","Fuente",1,"form-select",3,"ngModelChange","ngModel"],["value","Arial"],["value","Helvetica"],["value","Times New Roman"],["value","Georgia"],["value","Verdana"],["label","Google Fonts"],[3,"value",4,"ngFor","ngForOf"],["type","color","aria-label","Color",1,"form-control","color-picker",3,"ngModelChange","ngModel"],[1,"fas","fa-bold"],["aria-label","Estilo",1,"form-select",3,"ngModelChange","ngModel"],["value","normal"],["value","bold"],["value","italic"],[1,"fas","fa-align-left"],["aria-label","Alineaci\xF3n del texto",1,"form-select",3,"ngModelChange","ngModel"],["value","left"],["value","center"],["value","right"],[3,"value"],["title","Quitar imagen","aria-label","Quitar imagen",1,"btn","btn-sm","btn-outline-danger","mt-2",3,"click"],[1,"image-info"],[1,"text-muted","small"],[1,"elements-list"],["class","element-item",3,"selected","title","click",4,"ngFor","ngForOf"],[1,"element-item",3,"click","title"],[1,"element-icon"],[1,"fas"],[1,"element-content"],[1,"element-name"],[1,"element-details"],["title","Eliminar","aria-label","Eliminar",1,"btn","btn-sm","btn-outline-danger","element-delete",3,"click"],[1,"text-muted","text-center","py-3"],[1,"fas","fa-inbox","fa-2x","mb-2"]],template:function(t,r){if(t&1){let i=Sr();re(0,"div",4)(1,"div",5)(2,"div",6)(3,"h5",7),Ve(4,"i",8),F(5," Editor "),de()(),re(6,"div",6)(7,"div",9)(8,"button",10),rt("click",function(){return ft(i),pt(r.toggleTemplatesMenu())}),Ve(9,"i",11),de(),re(10,"ul",12)(11,"li")(12,"h6",13),Ve(13,"i",14),F(14," Oficial "),de()(),re(15,"li")(16,"a",15),rt("click",function(){return ft(i),pt(r.applyTemplate("potencial-humano-360"))}),Ve(17,"i",16),re(18,"span"),F(19,"Potencial Humano 360"),de()()(),re(20,"li"),Ve(21,"hr",17),de(),re(22,"li")(23,"h6",13),Ve(24,"i",18),F(25," Participaci\xF3n "),de()(),re(26,"li")(27,"a",15),rt("click",function(){return ft(i),pt(r.applyTemplate("participacion"))}),Ve(28,"i",19),re(29,"span"),F(30,"General"),de()()(),re(31,"li")(32,"a",15),rt("click",function(){return ft(i),pt(r.applyTemplate("ponencia"))}),Ve(33,"i",20),re(34,"span"),F(35,"Ponencia"),de()()(),re(36,"li"),Ve(37,"hr",17),de(),re(38,"li")(39,"h6",13),Ve(40,"i",21),F(41," Talleres "),de()(),re(42,"li")(43,"a",15),rt("click",function(){return ft(i),pt(r.applyTemplate("taller"))}),Ve(44,"i",22),re(45,"span"),F(46,"Taller"),de()()(),re(47,"li")(48,"a",15),rt("click",function(){return ft(i),pt(r.applyTemplate("capacitacion"))}),Ve(49,"i",23),re(50,"span"),F(51,"Capacitaci\xF3n"),de()()(),re(52,"li"),Ve(53,"hr",17),de(),re(54,"li")(55,"h6",13),Ve(56,"i",24),F(57," Reconocimientos "),de()(),re(58,"li")(59,"a",15),rt("click",function(){return ft(i),pt(r.applyTemplate("reconocimiento"))}),Ve(60,"i",25),re(61,"span"),F(62,"Reconocimiento"),de()()()()()(),re(63,"div",6)(64,"button",26),rt("click",function(){return ft(i),pt(r.addText())}),Ve(65,"i",27),de(),re(66,"input",28,0),rt("change",function(s){return ft(i),pt(r.onImageUpload(s))}),de(),re(68,"button",29),rt("click",function(){ft(i);let s=B1(67);return pt(s.click())}),Ve(69,"i",30),de()(),re(70,"div",6)(71,"button",31),rt("click",function(){return ft(i),pt(r.toggleGrid())}),Ve(72,"i",32),de(),re(73,"button",33),rt("click",function(){return ft(i),pt(r.zoomOut())}),Ve(74,"i",34),de(),re(75,"span",35),F(76),de(),re(77,"button",36),rt("click",function(){return ft(i),pt(r.zoomIn())}),Ve(78,"i",37),de(),re(79,"button",38),rt("click",function(){return ft(i),pt(r.zoomFit())}),Ve(80,"i",39),de()(),re(81,"div",6)(82,"button",40),rt("click",function(){return ft(i),pt(r.deleteSelected())}),Ve(83,"i",41),de(),re(84,"button",42),rt("click",function(){return ft(i),pt(r.clearCanvas())}),Ve(85,"i",43),de()(),re(86,"div",6)(87,"button",44),rt("click",function(){return ft(i),pt(r.exportToPDF())}),Ve(88,"i",45),de(),re(89,"button",46),rt("click",function(){return ft(i),pt(r.exportToPNG())}),Ve(90,"i",47),de()()(),re(91,"div",48)(92,"div",49)(93,"div",50),Ve(94,"div",51,1),de()(),Cn(96,jK,48,11,"div",52),de()()}t&2&&(Ue(8),fo("aria-expanded",r.showTemplatesMenu),Ue(2),xr("show",r.showTemplatesMenu),Ue(61),xr("active",r.showGrid),Ue(5),Lr("",r.getZoomPercentage(),"%"),Ue(6),qt("disabled",!r.selectedElement),Ue(12),Pd("background-color",r.backgroundColor),Ue(2),qt("ngIf",r.showProperties))},dependencies:[vo,Il,Yo,oI,eI,nI,fy,uS,gy,X6,hS,dS,cS,zC],styles:[".certificate-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:#f8f9fa;outline:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#fff;border-bottom:1px solid #dee2e6;box-shadow:0 2px 4px #0000001a;flex-shrink:0}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin:0;font-size:1.1rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;margin-right:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:200px;font-size:.875rem;border-radius:.375rem;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select.form-select-sm[_ngcontent-%COMP%]{padding:.25rem 1.75rem .25rem .5rem;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;border-radius:.375rem;display:flex;align-items:center;gap:.25rem;transition:all .2s ease-in-out;font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd;color:#fff;box-shadow:0 2px 4px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:300px;max-height:450px;overflow-y:auto;border:1px solid #dee2e6;border-radius:.375rem;box-shadow:0 4px 20px #00000026;z-index:1000}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeInDown .2s ease-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:0;font-size:.75rem;font-weight:700;color:#495057;text-transform:uppercase;letter-spacing:.05em;background-color:#f8f9fa;border-bottom:1px solid #dee2e6;display:flex;align-items:center;gap:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;font-size:.875rem;color:#495057;text-decoration:none;border:none;background:none;width:100%;text-align:left;cursor:pointer;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#f8f9fa;color:#495057;transform:translate(4px)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;width:20px;text-align:center}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-primary[_ngcontent-%COMP%]{color:#0d6efd!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-success[_ngcontent-%COMP%]{color:#198754!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-warning[_ngcontent-%COMP%]{color:#ffc107!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-info[_ngcontent-%COMP%]{color:#0dcaf0!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:0;margin:.25rem 0;overflow:hidden;border-top:1px solid #dee2e6}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border-radius:.375rem;border:1px solid #dee2e6;box-shadow:inset 0 1px 2px #0000000d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]:hover{color:#0d6efd}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:140px;height:6px;background:linear-gradient(to right,#e9ecef,#dee2e6);border-radius:3px;outline:none;appearance:none;-webkit-appearance:none;cursor:pointer;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#dee2e6,#ced4da)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{appearance:none;width:20px;height:20px;background:linear-gradient(145deg,#fff,#f8f9fa);border:2px solid #0d6efd;border-radius:50%;cursor:pointer;transition:all .2s ease-in-out;box-shadow:0 2px 4px #0000001a}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{background:linear-gradient(145deg,#f8f9fa,#e9ecef);transform:scale(1.1);box-shadow:0 4px 8px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:active{transform:scale(.95)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:20px;height:20px;background:linear-gradient(145deg,#fff,#f8f9fa);border:2px solid #0d6efd;border-radius:50%;cursor:pointer;transition:all .2s ease-in-out;box-shadow:0 2px 4px #0000001a}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]::-moz-range-thumb:hover{background:linear-gradient(145deg,#f8f9fa,#e9ecef);transform:scale(1.1);box-shadow:0 4px 8px #0d6efd4d}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#0d6efd;min-width:50px;text-align:center;padding:.25rem;background:#0d6efd1a;border-radius:4px;border:1px solid rgba(13,110,253,.2)}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display-compact[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#0d6efd;min-width:45px;text-align:center;padding:.25rem .5rem;background:#0d6efd14;border-radius:3px;border:1px solid rgba(13,110,253,.15);margin:0 .25rem;display:inline-flex;align-items:center;justify-content:center}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;margin:0;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.4}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.main-content[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden}.canvas-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-start;justify-content:center;background:#e9ecef;padding:0rem 2rem 2rem;overflow:auto}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{background:#fff;box-shadow:0 4px 20px #00000026;border-radius:8px;padding:20px;margin-top:2rem;transform-origin:center center;transition:transform .2s ease}.konva-stage[_ngcontent-%COMP%]{border:2px solid #dee2e6;border-radius:4px;background:#fff;display:block;cursor:crosshair}.konva-stage.text-tool[_ngcontent-%COMP%]{cursor:text}.konva-stage.select-tool[_ngcontent-%COMP%]{cursor:default}.properties-panel[_ngcontent-%COMP%]{width:320px;background:#fff;border-left:1px solid #dee2e6;display:flex;flex-direction:column;box-shadow:-2px 0 10px #0000000d}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #dee2e6;background:linear-gradient(145deg,#fff,#f8f9fa)}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:700;margin:0;font-size:.95rem;display:flex;align-items:center}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;margin-right:.5rem;font-size:1rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{flex:1;padding:1rem;overflow-y:auto}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1rem;background:linear-gradient(145deg,#fff,#f8f9fa);border-radius:.375rem;border:1px solid #e9ecef;box-shadow:0 2px 4px #00000005}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-size:.9rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid #0d6efd;display:flex;align-items:center}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#0d6efd;font-size:1rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#495057;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.025em;display:flex;align-items:center;gap:.25rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d;font-size:.7rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.875rem;border-radius:.375rem;margin-bottom:.75rem;transition:all .2s ease-in-out;border:1px solid #ced4da}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40;transform:translateY(-1px)}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control.color-picker[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select.color-picker[_ngcontent-%COMP%]{height:40px;cursor:pointer}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control.color-picker[_ngcontent-%COMP%]:hover, .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select.color-picker[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;display:flex;align-items:center;justify-content:center;gap:.25rem;transition:all .2s ease-in-out;font-weight:500}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{padding:.35rem .75rem;font-size:.8rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 0;border-bottom:1px solid #f1f3f4}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:.9rem;width:16px;text-align:center}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#495057;font-weight:500}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem;border-radius:.375rem;border-left:4px solid #0dcaf0;margin:0}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto;border:1px solid #e9ecef;border-radius:.375rem;background:#fff}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #f1f3f4;cursor:pointer;transition:all .2s ease-in-out;display:flex;align-items:center;gap:.75rem;position:relative}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translate(2px)}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0d6efd,#0b5ed7);color:#fff;box-shadow:0 2px 4px #0d6efd4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{color:#fffc}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]{color:#fff;border-color:#ffffff4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]:hover{background-color:#fff3;border-color:#fff}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{flex-shrink:0;width:32px;height:32px;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid #dee2e6}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#0d6efd}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]{flex:1;min-width:0}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;margin-bottom:.25rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-weight:400}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]{flex-shrink:0;padding:.25rem .5rem;font-size:.7rem;opacity:0;transition:all .2s ease-in-out;border:1px solid transparent}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]:hover   .element-delete[_ngcontent-%COMP%]{opacity:1}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff3,#ffffff1a);border-color:#ffffff4d}.elements-list[_ngcontent-%COMP%]   .element-item.selected[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.grid-line[_ngcontent-%COMP%]{pointer-events:none}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.w-100[_ngcontent-%COMP%]{width:100%!important}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #0d6efd66}70%{box-shadow:0 0 0 10px #0d6efd00}to{box-shadow:0 0 #0d6efd00}}.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@media (max-width: 1400px){.properties-panel[_ngcontent-%COMP%]{width:300px}}@media (max-width: 1200px){.properties-panel[_ngcontent-%COMP%]{width:280px}.canvas-container[_ngcontent-%COMP%]{padding:1rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 992px){.toolbar[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem;padding:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;margin-bottom:.25rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:180px;font-size:.8rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:.95rem;text-align:center}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{min-width:fit-content;padding:.25rem .5rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:100px}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{min-width:45px;font-size:.75rem}.main-content[_ngcontent-%COMP%]{flex-direction:column}.properties-panel[_ngcontent-%COMP%]{width:100%;max-height:350px;order:-1;box-shadow:0 2px 10px #0000001a}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.75rem}.canvas-container[_ngcontent-%COMP%]{padding:2rem 1rem 1rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{margin-top:1rem}}@media (max-width: 768px){.toolbar[_ngcontent-%COMP%]{padding:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:160px;font-size:.75rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:.9rem}.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{padding:.125rem .25rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-slider[_ngcontent-%COMP%]{width:80px}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{min-width:40px;font-size:.7rem}.toolbar[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.125rem .25rem;font-size:.7rem}.canvas-container[_ngcontent-%COMP%]{padding:1rem .5rem .5rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{padding:10px;margin-top:.5rem}.properties-panel[_ngcontent-%COMP%]{max-height:300px}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:.5rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{padding:.5rem;margin-bottom:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.7rem}.properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]{max-height:150px}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]{padding:.5rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{width:28px;height:28px}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{font-size:.8rem}.elements-list[_ngcontent-%COMP%]   .element-item[_ngcontent-%COMP%]   .element-content[_ngcontent-%COMP%]   .element-details[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 576px){.toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.canvas-container[_ngcontent-%COMP%]{padding:.25rem}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{padding:5px}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:.75rem}.properties-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem}}@media print{.toolbar[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]{display:none!important}.canvas-container[_ngcontent-%COMP%]{padding:0!important;background:#fff!important}.canvas-container[_ngcontent-%COMP%]   .canvas-wrapper[_ngcontent-%COMP%]{box-shadow:none!important;border-radius:0!important;padding:0!important}}"]})};var _N=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var _g=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},X2=class extends _g{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},bg=class extends _g{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},wg=class extends _g{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},F3=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(F3||{});var zK=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},Cg=class{constructor(e,{headers:t={},customFetch:r,region:i=F3.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=_N(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return zK(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region);let c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(a["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(a["Content-Type"]="application/json",d=JSON.stringify(s)));let h=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(_=>{throw new X2(_)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new bg(h);if(!h.ok)throw new wg(h);let f=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield h.json():f==="application/octet-stream"?y=yield h.blob():f==="text/event-stream"?y=h:f==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof wg||i instanceof bg?i.context:void 0}}})}};var TN=Cb(IN(),1),{PostgrestClient:NN,PostgrestQueryBuilder:Jme,PostgrestFilterBuilder:e0e,PostgrestTransformBuilder:t0e,PostgrestBuilder:n0e,PostgrestError:eX}=TN.default;function kN(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var RN=kN();var LN="2.11.15";var FN=`realtime-js/${LN}`,jN="1.0.0";var e_=1e4,BN=1e3,Og=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Og||{}),ii=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(ii||{}),Eo=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Eo||{}),K3=function(n){return n.websocket="websocket",n}(K3||{}),au=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(au||{});var t_=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let l=r.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Ah=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var jn=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(jn||{}),Z3=(n,e,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=tX(s,n,e,i),o),{})},tX=(n,e,t,r)=>{let i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?UN(o,s):X3(s)},UN=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return oX(e,t)}switch(n){case jn.bool:return nX(e);case jn.float4:case jn.float8:case jn.int2:case jn.int4:case jn.int8:case jn.numeric:case jn.oid:return rX(e);case jn.json:case jn.jsonb:return iX(e);case jn.timestamp:return sX(e);case jn.abstime:case jn.date:case jn.daterange:case jn.int4range:case jn.int8range:case jn.money:case jn.reltime:case jn.text:case jn.time:case jn.timestamptz:case jn.timetz:case jn.tsrange:case jn.tstzrange:return X3(e);default:return X3(e)}},X3=n=>n,nX=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},rX=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},iX=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},oX=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>UN(e,a))}return n},sX=n=>typeof n=="string"?n.replace(" ","T"):n,n_=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};var Ih=class{constructor(e,t,r={},i=e_){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Ag=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{let h=o[c];if(h){let g=d.map(C=>C.presence_ref),f=h.map(C=>C.presence_ref),y=d.filter(C=>f.indexOf(C.presence_ref)<0),_=h.filter(C=>g.indexOf(C.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){let h=e[a].map(f=>f.presence_ref),g=d.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...g)}r(a,d,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ya=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Ya||{});var Ig=class n{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ii.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ih(this,Eo.join,this.params,this.timeout),this.rejoinTimer=new Ah(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ii.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ii.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ii.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ii.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Eo.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ag(this),this.broadcastEndpointURL=n_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ii.closed){let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(d=>e?.(Ya.CHANNEL_ERROR,d)),this._onClose(()=>e?.(Ya.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",h=>ue(this,[h],function*({postgres_changes:d}){var g;if(this.socket.setAuth(),d===void 0){e?.(Ya.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,y=(g=f?.length)!==null&&g!==void 0?g:0,_=[];for(let C=0;C<y;C++){let w=f[C],{filter:{event:E,schema:O,table:N,filter:q}}=w,X=d&&d[C];if(X&&X.event===E&&X.schema===O&&X.table===N&&X.filter===q)_.push(Object.assign(Object.assign({},w),{id:X.id}));else{this.unsubscribe(),this.state=ii.errored,e?.(Ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Ya.SUBSCRIBED);return}})).receive("error",d=>{this.state=ii.errored,e?.(Ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return ue(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return ue(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(r){return ue(this,arguments,function*(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ii.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Eo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ih(this,Eo.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,t,r){return ue(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ih(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Eo;if(r&&[a,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,t,r);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,_,C;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(_=f.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(f=>f.callback(g,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var y,_,C,w,E,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let N=f.id,q=(y=f.filter)===null||y===void 0?void 0:y.event;return N&&((_=t.ids)===null||_===void 0?void 0:_.includes(N))&&(q==="*"||q?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let N=(E=(w=f?.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return N==="*"||N===((O=t?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof g=="object"&&"ids"in g){let y=g.data,{schema:_,table:C,commit_timestamp:w,type:E,errors:O}=y;g=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:w,eventType:E,new:{},old:{},errors:O}),this._getPayloadRecords(y))}f.callback(g,r)})}_isClosed(){return this.state===ii.closed}_isJoined(){return this.state===ii.joined}_isJoining(){return this.state===ii.joining}_isLeaving(){return this.state===ii.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Eo.close,{},e)}_onError(e){this._on(Eo.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ii.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Z3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Z3(e.columns,e.old_record)),t}};var VN=()=>{},lX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Tg=class{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=e_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=VN,this.ref=0,this.logger=VN,this.conn=null,this.sendBuffer=[],this.serializer=new t_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${K3.websocket}`,this.httpEndpoint=n_(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ah(()=>ue(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=RN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jN}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(e){return ue(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return ue(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Og.connecting:return au.Connecting;case Og.open:return au.Open;case Og.closing:return au.Closing;default:return au.Closed}}isConnected(){return this.connectionState()===au.Open}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ig(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){let{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return ue(this,null,function*(){let t=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let i={access_token:t,version:FN};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Eo.access_token,{access_token:t})}))})}sendHeartbeat(){return ue(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(BN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Eo.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([lX],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Th=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function yr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var r_=class extends Th{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},lu=class extends Th{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var cX=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},o_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},zN=()=>cX(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),i_=n=>{if(Array.isArray(n))return n.map(t=>i_(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=i_(r)}),e};var cu=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},Q3=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),uX=(n,e,t)=>cu(void 0,void 0,void 0,function*(){let r=yield zN();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{e(new r_(Q3(i),n.status||500))}).catch(i=>{e(new lu(Q3(i),i))}):e(new lu(Q3(n),n))}),dX=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Ng(n,e,t,r,i,o){return cu(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,dX(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>uX(l,a,r))})})}function Nh(n,e,t,r){return cu(this,void 0,void 0,function*(){return Ng(n,"GET",e,t,r)})}function Xs(n,e,t,r,i){return cu(this,void 0,void 0,function*(){return Ng(n,"POST",e,r,i,t)})}function HN(n,e,t,r,i){return cu(this,void 0,void 0,function*(){return Ng(n,"PUT",e,r,i,t)})}function qN(n,e,t,r){return cu(this,void 0,void 0,function*(){return Ng(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function s_(n,e,t,r,i){return cu(this,void 0,void 0,function*(){return Ng(n,"DELETE",e,r,i,t)})}var Ii=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},hX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$N={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},a_=class{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=o_(i)}uploadOrUpdate(e,t,r,i){return Ii(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},$N),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),g=yield h.json();return h.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(o){if(yr(o))return{data:null,error:o};throw o}})}upload(e,t,r){return Ii(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return Ii(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:$N.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);let h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),g=yield h.json();return h.ok?{data:{path:o,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(yr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Ii(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield Xs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Th("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}})}update(e,t,r){return Ii(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Ii(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(yr(i))return{data:null,error:i};throw i}})}copy(e,t,r){return Ii(this,void 0,void 0,function*(){try{return{data:{path:(yield Xs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(yr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return Ii(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Xs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(yr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return Ii(this,void 0,void 0,function*(){try{let i=yield Xs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(yr(i))return{data:null,error:i};throw i}})}download(e,t){return Ii(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Nh(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(yr(a))return{data:null,error:a};throw a}})}info(e){return Ii(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield Nh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:i_(r),error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}})}exists(e){return Ii(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield qN(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(yr(r)&&r instanceof lu){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Ii(this,void 0,void 0,function*(){try{return{data:yield s_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(yr(t))return{data:null,error:t};throw t}})}list(e,t,r){return Ii(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},hX),t),{prefix:e||""});return{data:yield Xs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(yr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};var GN="2.7.1";var WN={"X-Client-Info":`storage-js/${GN}`};var kh=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},l_=class{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},WN),t),this.fetch=o_(r)}listBuckets(){return kh(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(yr(e))return{data:null,error:e};throw e}})}getBucket(e){return kh(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(yr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return kh(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return kh(this,void 0,void 0,function*(){try{return{data:yield HN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return kh(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(yr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return kh(this,void 0,void 0,function*(){try{return{data:yield s_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(yr(t))return{data:null,error:t};throw t}})}};var kg=class extends l_{constructor(e,t={},r){super(e,t,r)}from(e){return new a_(this.url,this.headers,e,this.fetch)}};var YN="2.52.1";var Rg="";typeof Deno<"u"?Rg="deno":typeof document<"u"?Rg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rg="react-native":Rg="node";var fX={"X-Client-Info":`supabase-js-${Rg}/${YN}`},KN={headers:fX},XN={schema:"public"},ZN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QN={};Fx();var pX=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},gX=n=>{let e;return n?e=n:typeof fetch>"u"?e=Rx:e=fetch,(...t)=>e(...t)},mX=()=>typeof Headers>"u"?Lx:Headers,JN=(n,e,t)=>{let r=gX(t),i=mX();return(o,s)=>pX(void 0,void 0,void 0,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var vX=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function ek(n){return n.endsWith("/")?n:n+"/"}function tk(n,e){var t,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:d,global:h}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(t=h?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>vX(this,void 0,void 0,function*(){return""})};return n.accessToken?g.accessToken=n.accessToken:delete g.accessToken,g}var c_="2.71.1";var uu=30*1e3,u_=3,d_=u_*uu,nk="http://localhost:9999",rk="supabase.auth.token";var ik={"X-Client-Info":`gotrue-js/${c_}`};var Lg="X-Supabase-Api-Version",J3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ok=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sk=10*60*1e3;var Fg=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function Rt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var h_=class extends Fg{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function ak(n){return Rt(n)&&n.name==="AuthApiError"}var Rh=class extends Fg{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Zs=class extends Fg{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}},So=class extends Zs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function lk(n){return Rt(n)&&n.name==="AuthSessionMissingError"}var du=class extends Zs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},hu=class extends Zs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},fu=class extends Zs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ck(n){return Rt(n)&&n.name==="AuthImplicitGrantRedirectError"}var jg=class extends Zs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Lh=class extends Zs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function f_(n){return Rt(n)&&n.name==="AuthRetryableFetchError"}var Bg=class extends Zs{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var pu=class extends Zs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var p_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uk=` 	
\r=`.split(""),yX=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<uk.length;e+=1)n[uk[e].charCodeAt(0)]=-2;for(let e=0;e<p_.length;e+=1)n[p_[e].charCodeAt(0)]=e;return n})();function dk(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(p_[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(p_[r]),e.queuedBits-=6}}function hk(n,e,t){let r=yX[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function ex(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{wX(s,r,t)};for(let s=0;s<n.length;s+=1)hk(n.charCodeAt(s),i,o);return e.join("")}function _X(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function bX(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}_X(r,e)}}function wX(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function fk(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)hk(n.charCodeAt(i),t,r);return new Uint8Array(e)}function pk(n){let e=[];return bX(n,t=>e.push(t)),new Uint8Array(e)}function gk(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>dk(i,t,r)),dk(null,t,r),e.join("")}function mk(n){return Math.round(Date.now()/1e3)+n}function vk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var xo=()=>typeof window<"u"&&typeof document<"u",gu={tested:!1,writable:!1},g_=()=>{if(!xo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gu.tested)return gu.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),gu.tested=!0,gu.writable=!0}catch{gu.tested=!0,gu.writable=!1}return gu.writable};function yk(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}var m_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},_k=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",mu=(n,e,t)=>ue(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),Zl=(n,e)=>ue(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Ka=(n,e)=>ue(null,null,function*(){yield n.removeItem(e)}),Ug=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Ug.promiseConstructor=Promise;function v_(n){let e=n.split(".");if(e.length!==3)throw new pu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ok.test(e[r]))throw new pu("JWT not in base64url format");return{header:JSON.parse(ex(e[0])),payload:JSON.parse(ex(e[1])),signature:fk(e[2]),raw:{header:e[0],payload:e[1]}}}function bk(n){return ue(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function wk(n,e){return new Promise((r,i)=>{ue(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function CX(n){return("0"+n.toString(16)).substr(-2)}function EX(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,CX).join("")}function SX(n){return ue(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function xX(n){return ue(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield SX(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function vu(n,e,t=!1){return ue(this,null,function*(){let r=EX(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield mu(n,`${e}-code-verifier`,i);let o=yield xX(r);return[o,r===o?"plain":"s256"]})}var MX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ck(n){let e=n.headers.get(Lg);if(!e||!e.match(MX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ek(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Sk(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var PX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yu(n){if(!PX.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function y_(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tx(n){return JSON.parse(JSON.stringify(n))}var DX=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},_u=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),OX=[502,503,504];function xk(n){return ue(this,null,function*(){var e;if(!_k(n))throw new Lh(_u(n),0);if(OX.includes(n.status))throw new Lh(_u(n),n.status);let t;try{t=yield n.json()}catch(o){throw new Rh(_u(o),o)}let r,i=Ck(n);if(i&&i.getTime()>=J3["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Bg(_u(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new So}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Bg(_u(t),n.status,t.weak_password.reasons);throw new h_(_u(t),n.status||500,r)})}var AX=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Yt(n,e,t,r){return ue(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Lg]||(o[Lg]=J3["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield IX(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function IX(n,e,t,r,i,o){return ue(this,null,function*(){let s=AX(e,r,i,o),a;try{a=yield n(t,Object.assign({},s))}catch(l){throw console.error(l),new Lh(_u(l),0)}if(a.ok||(yield xk(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield xk(l)}})}function Qs(n){var e;let t=null;TX(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=mk(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function nx(n){let e=Qs(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Js(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Mk(n){return{data:n,error:null}}function Pk(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=DX(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Dk(n){return n}function TX(n){return n.access_token&&n.refresh_token&&n.expires_in}var __=["global","local","others"];var NX=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Fh=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=m_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return ue(this,arguments,function*(e,t=__[0]){if(__.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${__.join(", ")}`);try{return yield Yt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return ue(this,arguments,function*(e,t={}){try{return yield Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Js})}catch(i){if(Rt(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return ue(this,null,function*(){try{let{options:t}=e,r=NX(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Pk,redirectTo:t?.redirectTo})}catch(t){if(Rt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return ue(this,null,function*(){try{return yield Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Js})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return ue(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},d=yield Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Dk});if(d.error)throw d.error;let h=yield d.json(),g=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Rt(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return ue(this,null,function*(){yu(e);try{return yield Yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Js})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return ue(this,null,function*(){yu(e);try{return yield Yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Js})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return ue(this,null,function*(){yu(e);try{return yield Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Js})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return ue(this,null,function*(){yu(e.userId);try{let{data:t,error:r}=yield Yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Rt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return ue(this,null,function*(){yu(e.userId),yu(e.id);try{return{data:yield Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}})}};function rx(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Ok(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var bu={debug:!!(globalThis&&g_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Vg=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},b_=class extends Vg{};function ix(n,e,t){return ue(this,null,function*(){bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>ue(null,null,function*(){if(i){bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield t()}finally{bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new b_(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(bu.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}Ok();var kX={url:nk,storageKey:rk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ik,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Ak(n,e,t){return ue(this,null,function*(){return yield t()})}var jh={},ox=(()=>{class n{constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&xo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},kX),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Fh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=m_(o.fetch),this.lock=o.lock||Ak,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:xo()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ix:this.lock=Ak,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:g_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rx(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=rx(this.memoryStorage)),xo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>ue(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=jh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jh[this.storageKey]=Object.assign(Object.assign({},jh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jh[this.storageKey]=Object.assign(Object.assign({},jh[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${c_}) ${new Date().toISOString()}`,...t),this}initialize(){return ue(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=ue(this,null,function*(){return yield this._acquireLock(-1,()=>ue(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return ue(this,null,function*(){var t;try{let r=yk(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),xo()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ck(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>ue(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return Rt(r)?{error:r}:{error:new Rh("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return ue(this,null,function*(){var r,i,o;try{let s=yield Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Qs}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Rt(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return ue(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:h,password:g,options:f}=t,y=null,_=null;this.flowType==="pkce"&&([y,_]=yield vu(this.storage,this.storageKey)),s=yield Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:h,password:g,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:y,code_challenge_method:_},xform:Qs})}else if("phone"in t){let{phone:h,password:g,options:f}=t;s=yield Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Qs})}else throw new hu("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Rt(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return ue(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:nx})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:nx})}else throw new hu("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new du}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return ue(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return ue(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>ue(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return ue(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return ue(this,null,function*(){var r,i,o,s,a,l,c,d,h,g,f,y;let _,C;if("message"in t)_=t.message,C=t.signature;else{let{chain:w,wallet:E,statement:O,options:N}=t,q;if(xo())if(typeof E=="object")q=E;else{let z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))q=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=E}let X=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){let z=yield q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),O?{statement:O}:null)),B;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")B=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)B=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)_=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),C=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${X.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(o=(i=N?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=N?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(h=N?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);let z=yield q.signMessage(new TextEncoder().encode(_),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=z}}try{let{data:w,error:E}=yield Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:gk(C)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qs});if(E)throw E;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new du}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:E})}catch(w){if(Rt(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(t){return ue(this,null,function*(){let r=yield Zl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Qs});if(yield Ka(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new du}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(Rt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return ue(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Qs}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new du}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return ue(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,d=null,h=null;this.flowType==="pkce"&&([d,h]=yield vu(this.storage,this.storageKey));let{error:g}=yield Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){let{phone:l,options:c}=t,{data:d,error:h}=yield Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new hu("You must provide either an email or phone number.")}catch(l){if(Rt(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return ue(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Qs});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,d=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Rt(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return ue(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield vu(this.storage,this.storageKey)),yield Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Mk})}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}reauthenticate(){return ue(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return ue(this,null,function*(){try{return yield this._useSession(t=>ue(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new So;let{error:o}=yield Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return ue(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield Yt(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield Yt(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new hu("You must provide either an email or phone number and a type")}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return ue(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){return this._useSession(r=>ue(this,null,function*(){return r}))}))})}_acquireLock(t,r){return ue(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=ue(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(ue(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>ue(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(ue(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return ue(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return ue(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Zl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<d_:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield Zl(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=y_()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return ue(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return ue(this,null,function*(){try{return t?yield Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Js}):yield this._useSession(r=>ue(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new So}:yield Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Js})}))}catch(r){if(Rt(r))return lk(r)&&(yield this._removeSession(),yield Ka(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return ue(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return ue(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>ue(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new So;let l=s.session,c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=yield vu(this.storage,this.storageKey));let{data:h,error:g}=yield Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Js});if(g)throw g;return l.user=h.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(Rt(o))return{data:{user:null},error:o};throw o}})}setSession(t){return ue(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return ue(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new So;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=v_(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Rt(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return ue(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return ue(this,null,function*(){try{return yield this._useSession(r=>ue(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new So;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return ue(this,null,function*(){try{if(!xo())throw new fu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jg("No code detected.");let{data:O,error:N}=yield this._exchangeCodeForSession(t.code);if(N)throw N;let q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:O.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!s||!l||!a||!d)throw new fu("No session defined in URL");let h=Math.round(Date.now()/1e3),g=parseInt(l),f=h+g;c&&(f=parseInt(c));let y=f-h;y*1e3<=uu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);let _=f-g;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,h);let{data:C,error:w}=yield this._getUser(s);if(w)throw w;let E={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:g,expires_at:f,refresh_token:a,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(i){if(Rt(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return ue(this,null,function*(){let r=yield Zl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return ue(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return ue(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>ue(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(ak(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield Ka(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=vk(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),ue(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return ue(this,null,function*(){return yield this._useSession(r=>ue(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return ue(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield vu(this.storage,this.storageKey,!0));try{return yield Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Rt(a))return{data:null,error:a};throw a}})}getUserIdentities(){return ue(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}linkIdentity(t){return ue(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>ue(this,null,function*(){var a,l,c,d,h;let{data:g,error:f}=s;if(f)throw f;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Yt(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})}));if(o)throw o;return xo()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(Rt(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return ue(this,null,function*(){try{return yield this._useSession(r=>ue(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield Yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return ue(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield wk(o=>ue(this,null,function*(){return o>0&&(yield bk(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qs})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&f_(s)&&Date.now()+a-i<uu})}catch(i){if(this._debug(r,"error",i),Rt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return ue(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),xo()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return ue(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Zl(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Zl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield mu(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:y_()}else if(o&&!o.user&&!o.user){let a=yield Zl(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Ka(this.storage,this.storageKey+"-user"),yield mu(this.storage,this.storageKey,o)):o.user=y_()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<d_;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${d_}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),f_(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return ue(this,null,function*(){var r,i;if(!t)throw new So;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ug;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new So;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),Rt(s)){let a={session:null,error:s};return f_(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return ue(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>ue(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return ue(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield mu(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=tx(o);yield mu(this.storage,this.storageKey,s)}else{let o=tx(r);yield mu(this.storage,this.storageKey,o)}})}_removeSession(){return ue(this,null,function*(){this._debug("#_removeSession()"),yield Ka(this.storage,this.storageKey),yield Ka(this.storage,this.storageKey+"-code-verifier"),yield Ka(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ka(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xo()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return ue(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),uu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>ue(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return ue(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return ue(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return ue(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return ue(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>ue(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>ue(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/uu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${uu}ms, refresh threshold is ${u_} ticks`),o<=u_&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Vg)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return ue(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!xo()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>ue(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return ue(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>ue(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return ue(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield vu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return ue(this,null,function*(){try{return yield this._useSession(r=>ue(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}_enroll(t){return ue(this,null,function*(){try{return yield this._useSession(r=>ue(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=yield Yt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}_verify(t){return ue(this,null,function*(){return this._acquireLock(-1,()=>ue(this,null,function*(){try{return yield this._useSession(r=>ue(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(Rt(r))return{data:null,error:r};throw r}}))})}_challenge(t){return ue(this,null,function*(){return this._acquireLock(-1,()=>ue(this,null,function*(){try{return yield this._useSession(r=>ue(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Rt(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return ue(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return ue(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return ue(this,null,function*(){return this._acquireLock(-1,()=>ue(this,null,function*(){return yield this._useSession(t=>ue(this,null,function*(){var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=v_(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}))})}fetchJwk(i){return ue(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+sk>s)return o;let{data:a,error:l}=yield Yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return ue(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:_,error:C}=yield this.getSession();if(C||!_.session)return{data:null,error:C};o=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:d}}=v_(o);r?.allowExpired||Ek(a.exp);let h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){let{error:_}=yield this.getUser(o);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let g=Sk(s.alg),f=yield crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!(yield crypto.subtle.verify(g,f,l,pk(`${c}.${d}`))))throw new pu("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}}return n.nextInstanceID=0,n})();var RX=ox,sx=RX;var w_=class extends sx{constructor(e){super(e)}};var LX=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},C_=class{constructor(e,t,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=ek(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:XN,realtime:QN,auth:Object.assign(Object.assign({},ZN),{storageKey:c}),global:KN},h=tk(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=JN(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new NN(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Cg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return LX(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Ik=(n,e,t)=>new C_(n,e,t);function FX(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;let n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}FX()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Ql=class n{supabase=null;_user=new Nn(null);_session=new Nn(null);_isLoggedIn=new Nn(!1);_currentUser=new Nn(null);constructor(){if(!Ln.supabase.url||!Ln.supabase.anonKey){console.warn("Supabase no est\xE1 configurado. Verifica environment.supabase");return}this.supabase=Ik(Ln.supabase.url,Ln.supabase.anonKey,{auth:{autoRefreshToken:Ln.auth.session.autoRefreshToken,persistSession:Ln.auth.supabase.persistSession,detectSessionInUrl:Ln.auth.supabase.detectSessionInUrl,flowType:"pkce"},global:{headers:{"x-application-name":"psic-abelnavarro-app","x-client-info":"supabase-js-angular"}}}),this.supabase.auth.onAuthStateChange((e,t)=>{this._session.next(t),this._user.next(t?.user??null),this._isLoggedIn.next(!!t),t?.user?this.setCurrentUser(t.user):this._currentUser.next(null)}),this.getSession()}isConfigured(){return!!(Ln.supabase.url&&Ln.supabase.anonKey)}get user$(){return this._user.asObservable()}get session$(){return this._session.asObservable()}get isLoggedIn$(){return this._isLoggedIn.asObservable()}get currentUser$(){return this._currentUser.asObservable()}get user(){return this._user.value}get session(){return this._session.value}get isLoggedIn(){return this._isLoggedIn.value}get currentUser(){return this._currentUser.value}signInWithGitHub(){return ue(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{data:e,error:t}=yield this.supabase.auth.signInWithOAuth({provider:"github",options:{redirectTo:Ln.auth.supabase.redirectTo}});return{error:t}}catch(e){return{error:e}}})}signOut(){return ue(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{error:e}=yield this.supabase.auth.signOut();return e||(this._user.next(null),this._session.next(null),this._isLoggedIn.next(!1),this._currentUser.next(null)),{error:e}}catch(e){return{error:e}}})}exchangeCodeForSession(e){return ue(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{error:t}=yield this.supabase.auth.exchangeCodeForSession(e);return{error:t}}catch(t){return{error:t}}})}getSession(){return ue(this,null,function*(){if(!this.supabase)return null;try{let{data:{session:e},error:t}=yield this.supabase.auth.getSession();return t?null:(this._session.next(e),this._user.next(e?.user??null),this._isLoggedIn.next(!!e),e?.user&&this.setCurrentUser(e.user),e)}catch{return null}})}refreshSession(){return ue(this,null,function*(){if(!this.supabase)return null;try{let{data:{session:e},error:t}=yield this.supabase.auth.refreshSession();return t?null:(e&&(this._session.next(e),this._user.next(e.user),this._isLoggedIn.next(!0)),e)}catch{return null}})}ensureValidSession(){return ue(this,null,function*(){let e=this._session.value;if(!e)return yield this.getSession();let t=e.expires_at,r=Math.floor(Date.now()/1e3),i=5*60;return t&&t-r<i?yield this.refreshSession():e})}getUserProfile(){return ue(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)return null;let t=new AbortController,r=setTimeout(()=>t.abort(),1e4),i=yield fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"},signal:t.signal});return clearTimeout(r),i.ok?yield i.json():null}catch{return null}})}getUserEmails(){return ue(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)return[];let t=new AbortController,r=setTimeout(()=>t.abort(),1e4),i=yield fetch("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"},signal:t.signal});return clearTimeout(r),i.ok?(yield i.json()).map(s=>s.email):[]}catch{return[]}})}setCurrentUser(e){return ue(this,null,function*(){try{let t=yield this.getUserEmails(),r=e.email||t[0],i=e.user_metadata?.user_name||e.user_metadata?.preferred_username;if(!r){this._currentUser.next(null);return}let{isAuthorized:o,userData:s}=yield this.checkUserInAllowedList(r,i);if(!o||!s){this._currentUser.next(null);return}let a={email:r,role:s.role||"user",permissions:s.permissions||["certificate"],displayName:s.display_name||e.user_metadata?.full_name||e.user_metadata?.name||e.user_metadata?.user_name||r};this._currentUser.next(a)}catch{this._currentUser.next(null)}})}hasPermission(e){return this._currentUser.value?.permissions.includes(e)??!1}hasRole(e){return this._currentUser.value?.role===e}getAuthState(){return{user:this._user.value,session:this._session.value,isLoggedIn:this._isLoggedIn.value,currentUser:this._currentUser.value}}checkUserInAllowedList(e,t){return ue(this,null,function*(){if(!this.supabase||!e&&!t)return{isAuthorized:!1};try{let r=this.supabase.from("allowed_users").select("*").eq("active",!0);e&&t?r=r.or(`email.eq.${e},username.eq.${t}`):e?r=r.eq("email",e):t&&(r=r.eq("username",t));let{data:i,error:o}=yield r,s=!o&&i&&i.length>0;return{isAuthorized:s,userData:s?i[0]:null}}catch{return{isAuthorized:!1}}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var ea=class n{config;constructor(){this.config=Ln}get supabase(){return{url:this.getEnvVar("SUPABASE_URL",this.config.supabase?.url),anonKey:this.getEnvVar("SUPABASE_ANON_KEY",this.config.supabase?.anonKey),enabled:this.config.auth?.supabase?.enabled??!1}}get auth(){return{supabase:this.supabase,redirectUrl:this.getEnvVar("AUTH_REDIRECT_URL",this.config.auth?.supabase?.redirectTo),security:this.config.auth?.security||{}}}get isDevelopment(){return this.config.developmentMode||!this.config.production}get isProduction(){return this.config.production}getEnvVar(e,t){return typeof window<"u"&&window.env?window.env[e]||t||"":t||""}validateConfig(){let e=[];return this.supabase.url||e.push("Supabase URL no configurada"),this.supabase.anonKey||e.push("Supabase anonymous key no configurada"),this.supabase.enabled&&(!this.supabase.url||!this.supabase.anonKey)&&e.push("Supabase habilitado pero mal configurado"),this.isProduction&&this.isDevelopment&&e.push("Configuraci\xF3n inv\xE1lida: no puede ser producci\xF3n y desarrollo"),{isValid:e.length===0,errors:e}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ti=class n{notifications=new Nn([]);get notifications$(){return this.notifications.asObservable()}generateId(){return Math.random().toString(36).substring(2)+Date.now().toString(36)}isNotificationTypeEnabled(e){return!Ln.notifications?.enabled||!Ln.notifications?.enableToast?!1:Ln.notifications?.types?.[e]?.enabled??!0}logToConsole(e){if(Ln.notifications?.enableConsoleLog){let t=this.getConsoleStyle(e.type);console.log(`%c[${e.type.toUpperCase()}] ${e.title}: ${e.message}`,t)}}getConsoleStyle(e){return{success:"color: #10b981; font-weight: bold;",error:"color: #ef4444; font-weight: bold;",warning:"color: #f59e0b; font-weight: bold;",info:"color: #3b82f6; font-weight: bold;"}[e]||""}show(e){let t=this.generateId();if(!this.isNotificationTypeEnabled(e.type))return this.logToConsole(Et(Ae({},e),{id:t})),t;let r=Ln.notifications?.types?.[e.type],i=r?.duration??Ln.notifications?.defaultDuration??5e3,o=Et(Ae({},e),{id:t,duration:e.duration??i,persistent:e.persistent??r?.persistent??!1});this.logToConsole(o);let s=this.notifications.value,a=Ln.notifications?.maxNotifications??5,l=[...s,o];return l.length>a&&(l=l.slice(-a)),this.notifications.next(l),!o.persistent&&o.duration&&setTimeout(()=>{this.remove(t)},o.duration),t}remove(e){let t=this.notifications.value;this.notifications.next(t.filter(r=>r.id!==e))}clear(){this.notifications.next([])}success(e,t,r){return this.show(Ae({type:"success",title:e,message:t},r))}error(e,t,r){return this.show(Ae({type:"error",title:e,message:t,duration:7e3},r))}warning(e,t,r){return this.show(Ae({type:"warning",title:e,message:t},r))}info(e,t,r){return this.show(Ae({type:"info",title:e,message:t},r))}authError(e,t=!1){return this.error("Error de Autenticaci\xF3n",e,{persistent:t,action:t?{label:"Reintentar",callback:()=>window.location.reload()}:void 0})}authSuccess(e){return this.success("Acceso Autorizado",`Bienvenido, ${e}. Has iniciado sesi\xF3n correctamente.`)}authBlocked(e){return this.error("Cuenta Bloqueada",`Demasiados intentos fallidos. Intenta de nuevo en ${e} minutos.`,{persistent:!0,duration:1e4})}isNotificationsEnabled(){return Ln.notifications?.enabled??!0}isToastEnabled(){return Ln.notifications?.enableToast??!0}getNotificationConfig(){return Ln.notifications}isTypeEnabled(e){return this.isNotificationTypeEnabled(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var S_=class n{constructor(e){this.notificationService=e}retryConfig={maxRetries:3,initialDelay:1e3,maxDelay:1e4,backoffMultiplier:2};createAuthError(e,t,r,i){let s={network:{retryable:!0,userMessage:"Error de conexi\xF3n. Verifica tu internet e intenta de nuevo."},auth:{retryable:!1,userMessage:"Error de autenticaci\xF3n. Verifica tus credenciales."},permission:{retryable:!1,userMessage:"No tienes permisos para acceder a este recurso."},configuration:{retryable:!1,userMessage:"Error de configuraci\xF3n. Contacta al administrador."},lockout:{retryable:!0,userMessage:"Cuenta temporalmente bloqueada por seguridad."}}[e];return{type:e,code:t,message:r,details:i,retryable:s.retryable,userMessage:s.userMessage}}handleAuthError(e,t){switch(console.error(`Auth Error [${t}]:`,e),e.type){case"network":this.notificationService.authError(e.userMessage,e.retryable);break;case"auth":this.notificationService.error("Error de Autenticaci\xF3n",e.userMessage);break;case"permission":this.notificationService.warning("Acceso Denegado",e.userMessage);break;case"configuration":this.notificationService.error("Error de Configuraci\xF3n",e.userMessage,{persistent:!0});break;case"lockout":let r=this.calculateLockoutTime(e.details?.lockoutUntil);this.notificationService.authBlocked(r);break;default:this.notificationService.error("Error Desconocido","Ha ocurrido un error inesperado.")}}withRetry(e,t="network",r){return ue(this,null,function*(){let i=Ae(Ae({},this.retryConfig),r),o;for(let s=0;s<=i.maxRetries;s++)try{return yield e()}catch(a){if(o=a,s===i.maxRetries){let c=this.createAuthError(t,"RETRY_EXHAUSTED",`Operaci\xF3n fall\xF3 despu\xE9s de ${i.maxRetries} intentos`,{originalError:a,attempts:s+1});throw this.handleAuthError(c,"withRetry"),c}let l=Math.min(i.initialDelay*Math.pow(i.backoffMultiplier,s),i.maxDelay);console.log(`Intento ${s+1} fall\xF3, reintentando en ${l}ms...`,a),yield this.delay(l)}throw o})}delay(e){return new Promise(t=>setTimeout(t,e))}calculateLockoutTime(e){if(!e)return 0;let t=Math.max(0,e-Date.now());return Math.ceil(t/6e4)}handleSupabaseError(e,t){return e?e.name==="NetworkError"||e.code==="NETWORK_ERROR"?this.createAuthError("network","NETWORK_ERROR","Error de conexi\xF3n con el servidor",e):e.message?.includes("Invalid API key")||e.message?.includes("Invalid URL")?this.createAuthError("configuration","INVALID_CONFIG","Configuraci\xF3n de Supabase inv\xE1lida",e):e.message?.includes("OAuth")||e.error==="access_denied"?this.createAuthError("auth","OAUTH_ERROR","Error en autenticaci\xF3n con GitHub",e):this.createAuthError("auth",e.error||"AUTH_ERROR",e.message||"Error de autenticaci\xF3n",e):this.createAuthError("auth","UNKNOWN","Error desconocido")}static \u0275fac=function(t){return new(t||n)(et(Ti))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var ta=class n{constructor(e){this.configService=e;this.sessionId=this.generateSessionId(),this.initializeMonitoring()}events=[];MAX_EVENTS=1e3;sessionId;generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substring(2)}`}getUserAgent(){try{return navigator?.userAgent||"Unknown"}catch{return"Unknown"}}initializeMonitoring(){this.loadStoredEvents(),setInterval(()=>{this.cleanupOldEvents()},60*60*1e3)}loadStoredEvents(){try{if(typeof localStorage>"u"){this.events=[];return}let e=localStorage.getItem("auth_events");e&&(this.events=JSON.parse(e))}catch(e){console.warn("Error loading stored auth events:",e),this.events=[]}}saveEvents(){try{if(typeof localStorage>"u")return;let e=this.events.slice(-100);localStorage.setItem("auth_events",JSON.stringify(e))}catch(e){console.warn("Error saving auth events:",e)}}cleanupOldEvents(){let e=Date.now()-864e5;this.events=this.events.filter(t=>t.timestamp>e),this.events.length>this.MAX_EVENTS&&(this.events=this.events.slice(-this.MAX_EVENTS)),this.saveEvents()}logAuthEvent(e,t,r){try{let i={type:e,timestamp:Date.now(),userEmail:r,userAgent:this.getUserAgent(),sessionId:this.sessionId,details:t};this.events.push(i),this.saveEvents(),console.log("\u{1F510} Auth Event:",{type:i.type,user:r||"anonymous",timestamp:new Date(i.timestamp).toISOString()}),this.detectSuspiciousActivity(i),this.configService.isProduction&&this.sendToAnalytics(i)}catch(i){console.warn("Error logging auth event:",i)}}detectSuspiciousActivity(e){let t=this.getRecentEvents(3e5),r=t.filter(o=>o.type==="login_failure"&&o.userAgent===e.userAgent);r.length>=3&&this.logAuthEvent("suspicious_activity",{reason:"multiple_login_failures",attempts:r.length,timeWindow:"5_minutes"});let i=new Set(t.map(o=>o.userAgent));i.size>2&&this.logAuthEvent("suspicious_activity",{reason:"multiple_user_agents",userAgents:Array.from(i).length})}sendToAnalytics(e){typeof window<"u"&&window.gtag&&window.gtag("event",e.type,{custom_parameter_1:e.userEmail,custom_parameter_2:e.sessionId})}getSecurityMetrics(){let e=Date.now()-864e5,t=this.events.filter(i=>i.timestamp>e),r=new Set(t.filter(i=>i.userEmail).map(i=>i.userEmail)).size;return{totalLoginAttempts:t.filter(i=>i.type==="login_attempt").length,successfulLogins:t.filter(i=>i.type==="login_success").length,failedLogins:t.filter(i=>i.type==="login_failure").length,accountLockouts:t.filter(i=>i.type==="account_locked").length,accessDenials:t.filter(i=>i.type==="access_denied").length,uniqueUsers:r,suspiciousActivity:t.filter(i=>i.type==="suspicious_activity").length}}getRecentEvents(e=60*60*1e3){let t=Date.now()-e;return this.events.filter(r=>r.timestamp>t)}exportEvents(){return JSON.stringify(this.events,null,2)}clearEvents(){this.events=[],localStorage.removeItem("auth_events"),console.log("\u{1F510} Auth events cleared")}getDetailedStats(){let e=this.getSecurityMetrics(),t=this.getRecentEvents();return{metrics:e,recentActivity:t.slice(-10),sessionInfo:{sessionId:this.sessionId,startTime:new Date().toISOString(),totalEvents:this.events.length},securityAlerts:this.getSecurityAlerts()}}getSecurityAlerts(){let e=[],t=this.getSecurityMetrics();return t.failedLogins>10&&e.push({type:"high_failed_logins",severity:"warning",message:`${t.failedLogins} intentos de login fallidos en las \xFAltimas 24h`}),t.accountLockouts>3&&e.push({type:"multiple_lockouts",severity:"error",message:`${t.accountLockouts} cuentas bloqueadas en las \xFAltimas 24h`}),t.suspiciousActivity>0&&e.push({type:"suspicious_activity",severity:"critical",message:`${t.suspiciousActivity} actividades sospechosas detectadas`}),e}static \u0275fac=function(t){return new(t||n)(et(ea))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mo=class n{constructor(e,t,r,i,o){this.supabaseService=e;this.configService=t;this.notificationService=r;this.errorHandler=i;this.monitoring=o;this.initializeAuth()}_authState=new Nn({isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null,isLocked:!1,loginAttempts:0,lockoutUntil:null});initializeAuth(){let e=this.configService.validateConfig();if(!e.isValid){let t=this.errorHandler.createAuthError("configuration","INVALID_CONFIG","Configuraci\xF3n inv\xE1lida",{errors:e.errors});this.updateAuthState({error:t}),this.errorHandler.handleAuthError(t,"initializeAuth");return}this.supabaseService.isLoggedIn$.subscribe(t=>{this.updateAuthState({isLoggedIn:t}),t&&(this.monitoring.logAuthEvent("login_success",{},this.supabaseService.user?.email),this.clearLoginAttempts())}),this.supabaseService.currentUser$.subscribe(t=>{this.updateAuthState({currentUser:t}),t&&this.notificationService.authSuccess(t.displayName)}),this.supabaseService.user$.subscribe(t=>{this.updateAuthState({user:t})}),this.checkLockoutStatus()}updateAuthState(e){let t=this._authState.value,r=Ae(Ae({},t),e);this._authState.next(r)}checkLockoutStatus(){let e=localStorage.getItem("lockout_until"),t=parseInt(localStorage.getItem("login_attempts")||"0");if(e){let r=parseInt(e);Date.now()<r?this.updateAuthState({isLocked:!0,lockoutUntil:r,loginAttempts:t}):this.clearLockout()}else this.updateAuthState({loginAttempts:t})}clearLockout(){localStorage.removeItem("lockout_until"),localStorage.removeItem("login_attempts"),this.updateAuthState({isLocked:!1,lockoutUntil:null,loginAttempts:0})}clearLoginAttempts(){localStorage.removeItem("login_attempts"),this.updateAuthState({loginAttempts:0})}loginWithGitHub(){return ue(this,null,function*(){let e=this._authState.value;if(this.monitoring.logAuthEvent("login_attempt"),e.isLocked){let r=this.calculateLockoutTime(e.lockoutUntil);this.notificationService.authBlocked(r),this.monitoring.logAuthEvent("access_denied",{reason:"account_locked",timeLeft:r});return}let t=this.configService.auth;if(!t.supabase.enabled){let r=this.errorHandler.createAuthError("configuration","AUTH_DISABLED","Autenticaci\xF3n no habilitada",{config:t});this.updateAuthState({error:r}),this.errorHandler.handleAuthError(r,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{reason:"auth_disabled"});return}this.updateAuthState({isLoading:!0,error:null});try{let r=yield this.errorHandler.withRetry(()=>this.supabaseService.signInWithGitHub(),"network");if(r.error){let i=this.errorHandler.handleSupabaseError(r.error,"loginWithGitHub");this.handleFailedLogin(),this.updateAuthState({error:i,isLoading:!1}),this.errorHandler.handleAuthError(i,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{error:r.error});return}this.updateAuthState({isLoading:!1})}catch(r){let i=this.errorHandler.createAuthError("network","NETWORK_ERROR","Error conectando con GitHub",r);this.handleFailedLogin(),this.updateAuthState({error:i,isLoading:!1}),this.errorHandler.handleAuthError(i,"loginWithGitHub"),this.monitoring.logAuthEvent("login_failure",{error:r.message})}})}logout(){return ue(this,null,function*(){this.updateAuthState({isLoading:!0});try{let e=this.userEmail,{error:t}=yield this.supabaseService.signOut();if(t){let r=this.errorHandler.handleSupabaseError(t,"logout");this.updateAuthState({error:r,isLoading:!1});return}this.updateAuthState({isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null}),this.notificationService.info("Sesi\xF3n Cerrada","Has cerrado sesi\xF3n correctamente"),this.monitoring.logAuthEvent("logout",{},e||void 0)}catch(e){let t=this.errorHandler.createAuthError("auth","LOGOUT_ERROR","Error al cerrar sesi\xF3n",e);this.updateAuthState({error:t,isLoading:!1})}})}handleFailedLogin(e){let t=this._authState.value,r=this.configService.auth.security,i=t.loginAttempts+1;if(localStorage.setItem("login_attempts",i.toString()),i>=r.maxLoginAttempts){let o=Date.now()+r.lockoutDuration;localStorage.setItem("lockout_until",o.toString()),this.updateAuthState({isLocked:!0,lockoutUntil:o,loginAttempts:i});let s=Math.ceil(r.lockoutDuration/6e4);this.notificationService.authBlocked(s),this.monitoring.logAuthEvent("account_locked",{attempts:i,lockoutUntil:o,lockoutMinutes:s},e)}else this.updateAuthState({loginAttempts:i}),this.monitoring.logAuthEvent("login_failure",{attempts:i},e)}calculateLockoutTime(e){if(!e)return 0;let t=Math.max(0,e-Date.now());return Math.ceil(t/6e4)}get authState$(){return this._authState.asObservable()}get isLoggedIn$(){return this._authState.pipe(wt(e=>e.isLoggedIn))}get userEmail$(){return this._authState.pipe(wt(e=>e.user?.email||null))}get currentUser$(){return this._authState.pipe(wt(e=>e.currentUser))}get isLocked$(){return this._authState.pipe(wt(e=>e.isLocked))}get loginAttempts$(){return this._authState.pipe(wt(e=>e.loginAttempts))}get isLoading$(){return this._authState.pipe(wt(e=>e.isLoading))}get error$(){return this._authState.pipe(wt(e=>e.error))}get isLoggedIn(){let e=this._authState.value;return e.isLoggedIn&&e.currentUser!==null}get userEmail(){return this._authState.value.user?.email||null}get currentUser(){return this._authState.value.currentUser}get isAuthorizedUser(){let e=this._authState.value;return e.isLoggedIn&&e.currentUser!==null}get isLocked(){return this._authState.value.isLocked}get loginAttempts(){return this._authState.value.loginAttempts}get isLoading(){return this._authState.value.isLoading}get error(){return this._authState.value.error}hasPermission(e){let t=this._authState.value.currentUser;return t?t.permissions.includes(e):!1}hasRole(e){let t=this._authState.value.currentUser;return t?t.role===e:!1}isAdmin(){return this.hasRole("admin")}canAccessCertificate(){return this.hasPermission("certificate")}canManage(){return this.hasPermission("management")}clearError(){this.updateAuthState({error:null})}getAuthState(){let e=this._authState.value;return{isLoggedIn:e.isLoggedIn,userEmail:e.user?.email||null,currentUser:e.currentUser,loginAttempts:e.loginAttempts,isLocked:e.isLocked,isLoading:e.isLoading,error:e.error,supabaseState:this.supabaseService.getAuthState()}}static \u0275fac=function(t){return new(t||n)(et(Ql),et(ea),et(Ti),et(S_),et(ta))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};function BX(n,e){if(n&1&&(re(0,"div",24),F(1),de()),n&2){let t=dt(2);Ue(),Lr(" Podr\xE1s intentarlo nuevamente en ",t.lockoutTimeLeft," minutos ")}}function UX(n,e){if(n&1&&(re(0,"div",20),Ve(1,"i",21),re(2,"strong"),F(3,"Cuenta temporalmente bloqueada"),de(),re(4,"p",22),F(5,"Demasiados intentos fallidos. Por favor, intenta m\xE1s tarde."),de(),Cn(6,BX,2,1,"div",23),de()),n&2){let t=dt();Ue(6),qt("ngIf",t.lockoutTimeLeft>0)}}function VX(n,e){n&1&&(re(0,"div",25),Ve(1,"i",26),re(2,"strong"),F(3,"Autenticaci\xF3n no disponible"),de(),re(4,"p",22),F(5,"El servicio de autenticaci\xF3n no est\xE1 disponible en este momento."),de()())}function zX(n,e){if(n&1){let t=Sr();re(0,"button",29),rt("click",function(){ft(t);let i=dt(2);return pt(i.clearError())}),Ve(1,"i",30),F(2,"Intentar de nuevo "),de()}}function HX(n,e){if(n&1&&(re(0,"div",20),Ve(1,"i",27),re(2,"strong"),F(3),de(),re(4,"p",22),F(5),de(),Cn(6,zX,3,0,"button",28),de()),n&2){let t=dt();Ue(3),xn(t.error.type==="network"?"Error de Conexi\xF3n":"Error de Autenticaci\xF3n"),Ue(2),xn(t.error.userMessage),Ue(),qt("ngIf",t.error.retryable)}}function qX(n,e){n&1&&(re(0,"div",31),z0(),re(1,"svg",32),Ve(2,"path",33),de(),F(3," Iniciar sesi\xF3n con GitHub "),de())}function $X(n,e){n&1&&(re(0,"div",31),Ve(1,"div",34),F(2," Conectando con GitHub... "),de())}function GX(n,e){n&1&&(re(0,"div",31),Ve(1,"i",21),F(2," Acceso bloqueado "),de())}var P_=class n{constructor(e,t,r,i,o){this.auth=e;this.router=t;this.route=r;this.configService=i;this.notificationService=o}authState={isLoggedIn:!1,user:null,currentUser:null,isLoading:!1,error:null,isLocked:!1,loginAttempts:0,lockoutUntil:null};lockoutTimeLeft=0;lockoutTimerSubscription;authSubscription;ngOnInit(){if(this.route.queryParams.subscribe(e=>{if(e.error){switch(e.error){case"unauthorized":this.notificationService.warning("Acceso Denegado","Tu cuenta no tiene permisos para acceder a esta aplicaci\xF3n.");break;case"callback_failed":this.notificationService.error("Error de Autenticaci\xF3n","Hubo un problema al procesar tu autenticaci\xF3n.");break}this.router.navigate(["/login"],{replaceUrl:!0})}}),this.auth.isLoggedIn&&this.auth.isAuthorizedUser){this.router.navigate(["/certificate"]);return}this.authSubscription=this.auth.authState$.subscribe(e=>{this.authState=e,e.isLoggedIn&&this.auth.isAuthorizedUser&&this.router.navigate(["/certificate"]),e.isLocked&&e.lockoutUntil?this.startLockoutTimer(e.lockoutUntil):!e.isLocked&&this.lockoutTimerSubscription&&(this.lockoutTimerSubscription.unsubscribe(),this.lockoutTimeLeft=0)})}startLockoutTimer(e){this.lockoutTimerSubscription&&this.lockoutTimerSubscription.unsubscribe(),this.lockoutTimerSubscription=Sf(1e3).subscribe(()=>{let t=Date.now(),r=Math.max(0,e-t);this.lockoutTimeLeft=Math.ceil(r/6e4),r<=0&&this.authState.isLocked&&(this.auth.clearLockout(),this.lockoutTimerSubscription&&this.lockoutTimerSubscription.unsubscribe())})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.lockoutTimerSubscription&&this.lockoutTimerSubscription.unsubscribe()}loginWithGitHub(){return ue(this,null,function*(){this.authState.isLocked||(yield this.auth.loginWithGitHub())})}get allowedEmails(){return["Cualquier usuario con cuenta de GitHub"]}get supabaseEnabled(){return this.configService.auth.supabase.enabled}get isLoading(){return this.authState.isLoading}get isLocked(){return this.authState.isLocked}get error(){return this.authState.error}clearError(){this.auth.clearError()}static \u0275fac=function(t){return new(t||n)(ct(Mo),ct($i),ct(Zo),ct(ea),ct(Ti))};static \u0275cmp=wn({type:n,selectors:[["app-login"]],decls:43,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"login-logo"],["src","abel-navarro-logo.svg","alt","Abel Navarro - Psic\xF3logo Organizacional",1,"logo-img"],[1,"login-header"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"login-info"],[1,"info-item"],[1,"icon"],[1,"bi","bi-person-badge"],[1,"bi","bi-shield-lock"],[1,"bi","bi-check-circle"],[1,"login-btn",3,"click","disabled"],["class","btn-content",4,"ngIf"],[1,"security-notice"],[1,"bi","bi-info-circle","me-2"],[1,"login-footer"],["href","/",1,"back-link"],[1,"bi","bi-arrow-left","me-2"],[1,"alert","alert-danger"],[1,"bi","bi-shield-x","me-2"],[1,"mb-0","small"],["class","lockout-timer",4,"ngIf"],[1,"lockout-timer"],[1,"alert","alert-warning"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"bi","bi-exclamation-circle","me-2"],["class","retry-btn",3,"click",4,"ngIf"],[1,"retry-btn",3,"click"],[1,"bi","bi-arrow-clockwise","me-2"],[1,"btn-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"],[1,"spinner"]],template:function(t,r){t&1&&(re(0,"div",0)(1,"div",1)(2,"div",2),Ve(3,"img",3),de(),re(4,"div",4)(5,"h2"),F(6,"Acceso al Sistema"),de(),re(7,"p"),F(8,"Plataforma de certificados y gesti\xF3n"),de()(),Cn(9,UX,7,1,"div",5)(10,VX,6,0,"div",6)(11,HX,7,3,"div",5),re(12,"div",7)(13,"h3"),F(14,"Informaci\xF3n de Acceso"),de(),re(15,"div",8)(16,"span",9),Ve(17,"i",10),de(),re(18,"div")(19,"span"),F(20,"Solo usuarios autorizados pueden acceder al sistema"),de()()(),re(21,"div",8)(22,"span",9),Ve(23,"i",11),de(),re(24,"span"),F(25,"Autenticaci\xF3n segura con GitHub"),de()(),re(26,"div",8)(27,"span",9),Ve(28,"i",12),de(),re(29,"span"),F(30,"Acceso basado en roles y permisos"),de()()(),re(31,"button",13),rt("click",function(){return r.loginWithGitHub()}),Cn(32,qX,4,0,"div",14)(33,$X,3,0,"div",14)(34,GX,3,0,"div",14),de(),re(35,"div",15),Ve(36,"i",16),re(37,"span"),F(38," Este es un sistema privado. El acceso est\xE1 restringido a usuarios autorizados. Si necesitas acceso, contacta al administrador del sistema. "),de()(),re(39,"div",17)(40,"a",18),Ve(41,"i",19),F(42,"Volver a la p\xE1gina principal "),de()()()()),t&2&&(Ue(9),qt("ngIf",r.isLocked),Ue(),qt("ngIf",!r.supabaseEnabled),Ue(),qt("ngIf",r.error&&!r.isLocked),Ue(20),xr("loading",r.isLoading)("locked",r.isLocked),qt("disabled",r.isLoading||r.isLocked||!r.supabaseEnabled),Ue(),qt("ngIf",!r.isLoading&&!r.isLocked),Ue(),qt("ngIf",r.isLoading),Ue(),qt("ngIf",r.isLocked))},dependencies:[vo,Yo],styles:['.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:2rem;background:linear-gradient(135deg,#3a7bd5,#3a6073)}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 12px 40px #00000026;text-align:center;max-width:480px;width:100%;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.login-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#3a7bd5,#3a6073)}.login-logo[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:80px;width:auto}.login-header[_ngcontent-%COMP%]{margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:.5rem;font-size:1.85rem;font-weight:700;animation:_ngcontent-%COMP%_slideDown .5s ease-out}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1.1rem;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.login-info[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.5rem;margin-bottom:2rem;border:1px solid #e2e8f0;box-shadow:0 4px 12px #0000000d;animation:_ngcontent-%COMP%_slideUp .5s ease-out}.login-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#2d3748;font-size:1.15rem;font-weight:600;text-align:left}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;font-size:.95rem;color:#4a5568;text-align:left;transition:all .2s ease}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:hover{transform:translate(5px)}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.25rem;width:32px;height:32px;border-radius:50%;background:#3a7bd51a;display:flex;align-items:center;justify-content:center;color:#3a7bd5}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-weight:600}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,#24292e,#1b1f23);color:#fff;border:none;border-radius:12px;font-size:1.1rem;font-weight:500;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;margin-bottom:1rem;animation:_ngcontent-%COMP%_slideUp .7s ease-out}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 10px 25px #24292e40}.login-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-btn.loading[_ngcontent-%COMP%]{pointer-events:none;background:linear-gradient(135deg,#3a7bd5,#3a6073)}.login-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.login-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.login-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:3px solid rgba(255,255,255,.3);border-top:3px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.security-notice[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#3a7bd50d;border:1px solid rgba(58,123,213,.2);border-radius:8px;color:#4a5568;font-size:.9rem;display:flex;align-items:flex-start;gap:.5rem;line-height:1.5;text-align:left;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.security-notice[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3a7bd5;font-size:1.1rem;margin-top:2px}.login-footer[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid #e2e8f0;animation:_ngcontent-%COMP%_fadeIn 1.2s ease-out}.login-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;color:#3a7bd5;font-size:.95rem;text-decoration:none;transition:all .2s ease}.login-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{color:#2c5282;text-decoration:underline}.retry-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;background:transparent;border:1px solid #c53030;color:#c53030;padding:.4rem .75rem;border-radius:6px;font-size:.85rem;margin-top:.5rem;cursor:pointer;transition:all .2s ease}.retry-btn[_ngcontent-%COMP%]:hover{background:#c530301a}.login-btn.locked[_ngcontent-%COMP%]{background:#a0aec0;cursor:not-allowed}.login-btn.locked[_ngcontent-%COMP%]:hover{background:#a0aec0;transform:none;box-shadow:none}.alert[_ngcontent-%COMP%]{padding:1.2rem;border-radius:10px;margin-bottom:1.5rem;text-align:left;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#fff5f5;border:1px solid #fed7d7;color:#742a2a}.alert.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e53e3e}.alert.alert-danger[_ngcontent-%COMP%]   .lockout-timer[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem;background:#e53e3e1a;border-radius:6px;font-weight:500;text-align:center;font-size:.9rem}.alert.alert-warning[_ngcontent-%COMP%]{background-color:#fffaf0;border:1px solid #feebc8;color:#7b341e}.alert.alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dd6b20}.alert.alert-info[_ngcontent-%COMP%]{background-color:#ebf8ff;border:1px solid #bee3f8;color:#2c5282}.alert.alert-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4299e1}.alert[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.3rem;font-size:1rem}.alert[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{margin:0;font-size:.9rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:1rem;min-height:100vh}.login-card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:15px}.login-logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:60px}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.login-info[_ngcontent-%COMP%]{padding:1rem}}']})};function WX(n,e){if(n&1&&(re(0,"div",27)(1,"div",7),F(2,"\u{1F6A8}"),de(),re(3,"div",8)(4,"div",9),F(5),de(),re(6,"div",10),F(7,"Actividad Sospechosa"),de()()()),n&2){let t=dt(2);Ue(5),xn(t.metrics.suspiciousActivity)}}function YX(n,e){if(n&1&&(re(0,"div",31)(1,"div",32),F(2),de(),re(3,"div",33)(4,"div",34),F(5),de(),re(6,"div",35),F(7),de()()()),n&2){let t=e.$implicit,r=dt(3);Dd("alert-"+t.severity),Ue(2),Lr(" ",r.getAlertIcon(t.severity)," "),Ue(3),xn(t.type.replace("_"," ").toUpperCase()),Ue(2),xn(t.message)}}function KX(n,e){if(n&1&&(re(0,"div",28)(1,"h3"),F(2,"\u{1F6A8} Alertas de Seguridad"),de(),re(3,"div",29),Cn(4,YX,8,5,"div",30),de()()),n&2){let t=dt(2);Ue(4),qt("ngForOf",t.securityAlerts)}}function XX(n,e){if(n&1){let t=Sr();re(0,"button",36),rt("click",function(){let i=ft(t).$implicit,o=dt(2);return pt(o.setEventFilter(i.type))}),F(1),de()}if(n&2){let t=e.$implicit,r=dt(2);xr("active",r.currentFilter===t.type),Ue(),Lr(" ",t.label," ")}}function ZX(n,e){if(n&1&&(re(0,"div",42)(1,"small"),F(2),de()()),n&2){let t=dt().$implicit,r=dt(2);Ue(2),xn(r.formatEventDetails(t.details))}}function QX(n,e){if(n&1&&(re(0,"div",37)(1,"div",38),F(2),Oa(3,"date"),de(),re(4,"div",39),F(5),de(),re(6,"div",40),F(7),de(),Cn(8,ZX,3,1,"div",41),de()),n&2){let t=e.$implicit,r=dt(2);Dd("activity-"+t.type.replace("_","-")),Ue(2),Lr(" ",Aa(3,7,t.timestamp,"HH:mm:ss")," "),Ue(3),Ol(" ",r.getEventIcon(t.type)," ",r.formatEventType(t.type)," "),Ue(2),Lr(" ",t.userEmail||"An\xF3nimo"," "),Ue(),qt("ngIf",t.details)}}function JX(n,e){if(n&1){let t=Sr();re(0,"div",2)(1,"div",3)(2,"h2"),F(3,"\u{1F510} Panel de Administraci\xF3n - Seguridad"),de(),re(4,"div",4),F(5),Oa(6,"date"),de()(),re(7,"div",5)(8,"div",6)(9,"div",7),F(10,"\u2705"),de(),re(11,"div",8)(12,"div",9),F(13),de(),re(14,"div",10),F(15,"Logins Exitosos"),de()()(),re(16,"div",11)(17,"div",7),F(18,"\u26A0\uFE0F"),de(),re(19,"div",8)(20,"div",9),F(21),de(),re(22,"div",10),F(23,"Intentos Fallidos"),de()()(),re(24,"div",12)(25,"div",7),F(26,"\u{1F512}"),de(),re(27,"div",8)(28,"div",9),F(29),de(),re(30,"div",10),F(31,"Cuentas Bloqueadas"),de()()(),re(32,"div",13)(33,"div",7),F(34,"\u{1F465}"),de(),re(35,"div",8)(36,"div",9),F(37),de(),re(38,"div",10),F(39,"Usuarios \xDAnicos"),de()()(),Cn(40,WX,8,1,"div",14),de(),Cn(41,KX,5,1,"div",15),re(42,"div",16)(43,"h3"),F(44,"\u{1F4CA} Actividad Reciente"),de(),re(45,"div",17),Cn(46,XX,2,3,"button",18),de(),re(47,"div",19),Cn(48,QX,9,10,"div",20),de()(),re(49,"div",21)(50,"h3"),F(51,"\u{1F6E0}\uFE0F Controles de Administrador"),de(),re(52,"div",22)(53,"button",23),rt("click",function(){ft(t);let i=dt();return pt(i.clearLoginAttempts())}),F(54," \u{1F504} Limpiar Intentos de Login "),de(),re(55,"button",24),rt("click",function(){ft(t);let i=dt();return pt(i.clearAllEvents())}),F(56," \u{1F5D1}\uFE0F Limpiar Historial de Eventos "),de(),re(57,"button",25),rt("click",function(){ft(t);let i=dt();return pt(i.exportEvents())}),F(58," \u{1F4E5} Exportar Eventos "),de(),re(59,"button",26),rt("click",function(){ft(t);let i=dt();return pt(i.refreshData())}),F(60," \u{1F504} Actualizar Datos "),de()()()()}if(n&2){let t=dt();Ue(5),Lr(" \xDAltima actualizaci\xF3n: ",Aa(6,9,t.lastUpdate,"short")," "),Ue(8),xn(t.metrics.successfulLogins),Ue(8),xn(t.metrics.failedLogins),Ue(8),xn(t.metrics.accountLockouts),Ue(8),xn(t.metrics.uniqueUsers),Ue(3),qt("ngIf",t.metrics.suspiciousActivity>0),Ue(),qt("ngIf",t.securityAlerts.length>0),Ue(5),qt("ngForOf",t.eventFilters),Ue(2),qt("ngForOf",t.filteredEvents)}}function eZ(n,e){n&1&&(re(0,"div",43)(1,"h2"),F(2,"\u{1F6AB} Acceso Denegado"),de(),re(3,"p"),F(4,"Solo los administradores pueden acceder a este panel."),de()())}var D_=class n{constructor(e,t){this.monitoring=e;this.auth=t}metrics={totalLoginAttempts:0,successfulLogins:0,failedLogins:0,accountLockouts:0,accessDenials:0,uniqueUsers:0,suspiciousActivity:0};recentEvents=[];filteredEvents=[];securityAlerts=[];lastUpdate=new Date;currentFilter="all";eventFilters=[{type:"all",label:"Todos"},{type:"login_success",label:"Login Exitoso"},{type:"login_failure",label:"Login Fallido"},{type:"access_denied",label:"Acceso Denegado"},{type:"account_locked",label:"Cuenta Bloqueada"},{type:"suspicious_activity",label:"Actividad Sospechosa"}];refreshSubscription;ngOnInit(){this.isAdmin&&(this.loadData(),this.refreshSubscription=Sf(3e4).subscribe(()=>{this.refreshData()}))}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}get isAdmin(){return this.auth.isAdmin()}loadData(){let e=this.monitoring.getDetailedStats();this.metrics=e.metrics,this.recentEvents=e.recentActivity,this.securityAlerts=e.securityAlerts,this.filterEvents()}refreshData(){this.loadData(),this.lastUpdate=new Date}setEventFilter(e){this.currentFilter=e,this.filterEvents()}filterEvents(){this.currentFilter==="all"?this.filteredEvents=this.recentEvents:this.filteredEvents=this.recentEvents.filter(e=>e.type===this.currentFilter)}getEventIcon(e){return{login_attempt:"\u{1F504}",login_success:"\u2705",login_failure:"\u274C",logout:"\u{1F44B}",access_denied:"\u{1F6AB}",account_locked:"\u{1F512}",suspicious_activity:"\u{1F6A8}"}[e]||"\u{1F4DD}"}getAlertIcon(e){return{info:"\u2139\uFE0F",warning:"\u26A0\uFE0F",error:"\u274C",critical:"\u{1F6A8}"}[e]||"\u2139\uFE0F"}formatEventType(e){return{login_attempt:"Intento de Login",login_success:"Login Exitoso",login_failure:"Login Fallido",logout:"Cierre de Sesi\xF3n",access_denied:"Acceso Denegado",account_locked:"Cuenta Bloqueada",suspicious_activity:"Actividad Sospechosa"}[e]||e}formatEventDetails(e){return e?e.reason?`Raz\xF3n: ${e.reason}`:e.attempts?`Intentos: ${e.attempts}`:JSON.stringify(e):""}clearLoginAttempts(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todos los intentos de login?")&&(localStorage.removeItem("login_attempts"),localStorage.removeItem("lockout_until"),alert("Intentos de login limpiados"),this.refreshData())}clearAllEvents(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todo el historial de eventos?")&&(this.monitoring.clearEvents(),this.refreshData())}exportEvents(){let e=this.monitoring.exportEvents(),t=new Blob([e],{type:"application/json"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=`auth-events-${new Date().toISOString().split("T")[0]}.json`,i.click(),window.URL.revokeObjectURL(r)}static \u0275fac=function(t){return new(t||n)(ct(ta),ct(Mo))};static \u0275cmp=wn({type:n,selectors:[["app-admin-dashboard"]],decls:2,vars:2,consts:[["class","admin-dashboard",4,"ngIf"],["class","access-denied",4,"ngIf"],[1,"admin-dashboard"],[1,"dashboard-header"],[1,"last-update"],[1,"metrics-grid"],[1,"metric-card","success"],[1,"metric-icon"],[1,"metric-content"],[1,"metric-number"],[1,"metric-label"],[1,"metric-card","warning"],[1,"metric-card","danger"],[1,"metric-card","info"],["class","metric-card critical",4,"ngIf"],["class","security-alerts",4,"ngIf"],[1,"recent-activity"],[1,"activity-filters"],["class","filter-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"activity-list"],["class","activity-item",3,"class",4,"ngFor","ngForOf"],[1,"admin-controls"],[1,"control-buttons"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"metric-card","critical"],[1,"security-alerts"],[1,"alert-list"],["class","alert-item",3,"class",4,"ngFor","ngForOf"],[1,"alert-item"],[1,"alert-icon"],[1,"alert-content"],[1,"alert-type"],[1,"alert-message"],[1,"filter-btn",3,"click"],[1,"activity-item"],[1,"activity-time"],[1,"activity-type"],[1,"activity-user"],["class","activity-details",4,"ngIf"],[1,"activity-details"],[1,"access-denied"]],template:function(t,r){t&1&&Cn(0,JX,61,12,"div",0)(1,eZ,5,0,"div",1),t&2&&(qt("ngIf",r.isAdmin),Ue(),qt("ngIf",!r.isAdmin))},dependencies:[vo,Il,Yo,VC],styles:[".admin-dashboard[_ngcontent-%COMP%]{padding:20px;background:#f8f9fa;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.last-update[_ngcontent-%COMP%]{color:#666;font-size:14px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.metric-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;border-left:4px solid}.metric-card.success[_ngcontent-%COMP%]{border-left-color:#10b981}.metric-card.warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.metric-card.danger[_ngcontent-%COMP%]{border-left-color:#ef4444}.metric-card.info[_ngcontent-%COMP%]{border-left-color:#3b82f6}.metric-card.critical[_ngcontent-%COMP%]{border-left-color:#dc2626;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.metric-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:15px}.metric-number[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.metric-label[_ngcontent-%COMP%]{font-size:14px;color:#666}.security-alerts[_ngcontent-%COMP%]{margin-bottom:30px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.alert-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;margin-bottom:10px;border-radius:8px;border:1px solid}.alert-warning[_ngcontent-%COMP%]{background:#fffbeb;border-color:#f59e0b;color:#92400e}.alert-error[_ngcontent-%COMP%]{background:#fef2f2;border-color:#ef4444;color:#991b1b}.alert-critical[_ngcontent-%COMP%]{background:#fef2f2;border-color:#dc2626;color:#7f1d1d;animation:_ngcontent-%COMP%_pulse 2s infinite}.alert-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:15px}.alert-type[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.alert-message[_ngcontent-%COMP%]{font-size:13px;opacity:.9}.recent-activity[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:30px}.activity-filters[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.filter-btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;background:#f8f9fa;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s}.filter-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.filter-btn.active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#3b82f6}.activity-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.activity-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr 150px 1fr;gap:15px;align-items:center;padding:10px;border-bottom:1px solid #eee;font-size:14px}.activity-time[_ngcontent-%COMP%]{font-family:monospace;color:#666;font-size:12px}.activity-type[_ngcontent-%COMP%]{font-weight:500}.activity-user[_ngcontent-%COMP%]{color:#666;font-size:12px}.activity-details[_ngcontent-%COMP%]{color:#888;font-size:11px}.admin-controls[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.control-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;text-decoration:none;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-info[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.access-denied[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}@media (max-width: 768px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.activity-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:5px}.control-buttons[_ngcontent-%COMP%]{flex-direction:column}}"]})};var O_=class n{constructor(e,t,r,i){this.supabaseService=e;this.router=t;this.notificationService=r;this.monitoring=i}loadingMessage="Procesando autenticaci\xF3n...";statusDetail="Verificando credenciales...";progressWidth=10;ngOnInit(){return ue(this,null,function*(){try{this.loadingMessage="Procesando autenticaci\xF3n...",this.statusDetail="Verificando credenciales...",this.progressWidth=10;let e=new URLSearchParams(window.location.search),t=e.get("error"),r=e.get("error_description"),i=e.get("code");if(t)throw this.progressWidth=100,new Error(`OAuth Error: ${t} - ${r||"Error desconocido"}`);if(i){this.loadingMessage="Estableciendo sesi\xF3n",this.statusDetail="Intercambiando credenciales...",this.progressWidth=30;let{error:a}=yield this.supabaseService.exchangeCodeForSession(i);if(a)throw this.progressWidth=100,new Error(`Error en intercambio de c\xF3digo: ${a.message}`);yield new Promise(l=>setTimeout(l,600))}this.loadingMessage="Obteniendo informaci\xF3n",this.statusDetail="Recuperando datos de usuario...",this.progressWidth=50;let o=yield this.supabaseService.getSession();if(o||(this.loadingMessage="Esperando respuesta",this.statusDetail="Verificando estado de autenticaci\xF3n...",yield new Promise(a=>setTimeout(a,1200)),o=yield this.supabaseService.getSession()),!o?.user)throw this.progressWidth=100,new Error("No se pudo obtener la informaci\xF3n del usuario");if(this.loadingMessage="Verificando acceso",this.statusDetail="Comprobando permisos de usuario...",this.progressWidth=70,yield this.checkUserAuthorization(o.user)){this.monitoring.logAuthEvent("login_success",{email:o.user.email,provider:"github",authorized:!0},o.user.email||"unknown"),this.loadingMessage="\xA1Acceso concedido!",this.statusDetail="Redirigiendo al sistema...",this.progressWidth=100;let a=o.user.user_metadata?.full_name||o.user.user_metadata?.name||o.user.email||"Usuario";this.notificationService.authSuccess(a),yield new Promise(l=>setTimeout(l,800)),this.router.navigate(["/certificate"])}else this.loadingMessage="Acceso denegado",this.statusDetail="Tu cuenta no tiene los permisos necesarios",this.progressWidth=100,this.monitoring.logAuthEvent("access_denied",{email:o.user.email,reason:"user_not_in_allowed_list"},o.user.email||"unknown"),yield this.supabaseService.signOut(),yield new Promise(a=>setTimeout(a,1500)),this.notificationService.warning("Acceso Denegado","Tu cuenta no tiene permisos para acceder a esta aplicaci\xF3n."),this.router.navigate(["/login"],{queryParams:{error:"unauthorized"}})}catch(e){this.loadingMessage="Error de autenticaci\xF3n",this.statusDetail="Hubo un problema al procesar tus credenciales",this.progressWidth=100,this.monitoring.logAuthEvent("login_failure",{error:e instanceof Error?e.message:"Unknown error"}),yield new Promise(t=>setTimeout(t,1500)),this.notificationService.error("Error de Autenticaci\xF3n","Hubo un problema al procesar tu autenticaci\xF3n."),this.router.navigate(["/login"],{queryParams:{error:"callback_failed"}})}})}checkUserAuthorization(e){return ue(this,null,function*(){try{let t=yield this.supabaseService.getUserEmails(),r=e.email||t[0],i=e.user_metadata?.user_name||e.user_metadata?.preferred_username;if(!r&&!i)return!1;let{isAuthorized:o}=yield this.supabaseService.checkUserInAllowedList(r,i);return o}catch{return!1}})}static \u0275fac=function(t){return new(t||n)(ct(Ql),ct($i),ct(Ti),ct(ta))};static \u0275cmp=wn({type:n,selectors:[["app-callback"]],decls:11,vars:4,consts:[[1,"callback-container"],[1,"auth-card"],["src","abel-navarro-logo.svg","alt","Abel Navarro - Psic\xF3logo Organizacional",1,"auth-logo"],[1,"status-indicator"],[1,"spinner"],[1,"progress-bar"],[1,"progress"],[1,"status-message"]],template:function(t,r){t&1&&(K(0,"div",0)(1,"div",1),Be(2,"img",2),K(3,"div",3),Be(4,"div",4),K(5,"div",5),Be(6,"div",6),J()(),K(7,"h2"),F(8),J(),K(9,"p",7),F(10),J()()()),t&2&&(Ue(6),Pd("width",r.progressWidth+"%"),Ue(2),xn(r.loadingMessage),Ue(2),xn(r.statusDetail))},styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#3a7bd5,#3a6073);padding:1rem}.auth-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;box-shadow:0 15px 30px #00000026;padding:2rem;width:100%;max-width:500px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.auth-logo[_ngcontent-%COMP%]{width:auto;height:70px;margin-bottom:2rem}.status-indicator[_ngcontent-%COMP%]{margin-bottom:2rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(58,123,213,.2);border-top:5px solid #3a7bd5;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1.5rem}.progress-bar[_ngcontent-%COMP%]{height:8px;background:#3a7bd51a;border-radius:4px;overflow:hidden;margin:0 auto}.progress[_ngcontent-%COMP%]{height:100%;background:linear-gradient(to right,#3a7bd5,#3a6073);border-radius:4px;transition:width .5s ease}h2[_ngcontent-%COMP%]{color:#2d3748;margin:0 0 1rem;font-size:1.5rem;font-weight:600}.status-message[_ngcontent-%COMP%]{color:#718096;margin:0;font-size:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:1.5rem}.auth-logo[_ngcontent-%COMP%]{height:50px}h2[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var zg=class n{constructor(e,t,r,i,o){this.auth=e;this.router=t;this.configService=r;this.notificationService=i;this.monitoring=o}canActivate(e,t){return ue(this,null,function*(){return this.configService.auth.supabase.enabled?window.location.search.includes("code=")&&t.url!=="/callback"?(this.router.navigate(["/callback"]),!1):this.auth.isLocked?(this.notificationService.warning("Acceso Denegado","Tu cuenta est\xE1 temporalmente bloqueada."),this.monitoring.logAuthEvent("access_denied",{reason:"account_locked",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/login"]),!1):this.auth.isLoggedIn?(t.url==="/certificate"||t.url.startsWith("/certificate"))&&!this.auth.canAccessCertificate()?(this.notificationService.warning("Permisos Insuficientes","No tienes permisos para generar certificados."),this.monitoring.logAuthEvent("access_denied",{reason:"insufficient_permissions",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/"]),!1):(t.url==="/admin"||t.url.startsWith("/admin"))&&!this.auth.isAdmin()?(this.notificationService.warning("Acceso Restringido","Solo los administradores pueden acceder a este panel."),this.monitoring.logAuthEvent("access_denied",{reason:"admin_only",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/"]),!1):!0:(this.notificationService.info("Acceso Requerido","Necesitas iniciar sesi\xF3n para acceder a esta p\xE1gina."),this.monitoring.logAuthEvent("access_denied",{reason:"not_authenticated",route:t.url},this.auth.userEmail||void 0),this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1):!0})}static \u0275fac=function(t){return new(t||n)(et(Mo),et($i),et(ea),et(Ti),et(ta))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nk=[{path:"",component:ay},{path:"certificate",component:K2,canActivate:[zg]},{path:"admin",component:D_,canActivate:[zg]},{path:"login",component:P_},{path:"callback",component:O_},{path:"**",redirectTo:""}];var kk={providers:[K5(),SC({eventCoalescing:!0}),T6(),xE(Nk,ME({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"})),eE(),Ql,Mo]};function tZ(n,e){if(n&1){let t=Sr();re(0,"a",39),rt("click",function(){ft(t);let i=dt(2);return pt(i.navigateTo("/certificate"))}),Ve(1,"i",19),re(2,"span"),F(3,"Certificados"),de()()}}function nZ(n,e){if(n&1){let t=Sr();re(0,"a",39),rt("click",function(){ft(t);let i=dt(2);return pt(i.navigateTo("/admin"))}),Ve(1,"i",40),re(2,"span"),F(3,"Administraci\xF3n"),de()()}}function rZ(n,e){if(n&1){let t=Sr();re(0,"div",22)(1,"div",23)(2,"button",24),rt("click",function(){ft(t);let i=dt();return pt(i.toggleUserMenu())}),re(3,"div",25),Ve(4,"i",26),de(),re(5,"div",27)(6,"span",28),F(7),de(),re(8,"span",29),F(9),de()(),Ve(10,"i",30),de(),re(11,"div",31)(12,"div",32)(13,"div",33),Ve(14,"i",34),re(15,"div")(16,"h6"),F(17),de(),re(18,"small"),F(19),de()()()(),Ve(20,"div",35),Cn(21,tZ,4,0,"a",36)(22,nZ,4,0,"a",36),Ve(23,"div",35),re(24,"a",37),rt("click",function(){ft(t);let i=dt();return pt(i.logout())}),Ve(25,"i",38),re(26,"span"),F(27,"Cerrar Sesi\xF3n"),de()()()()()}if(n&2){let t=dt();Ue(),xr("active",t.isUserMenuOpen),Ue(),fo("aria-expanded",t.isUserMenuOpen),Ue(5),xn(t.auth.currentUser.displayName),Ue(2),xn(t.auth.currentUser.role),Ue(),xr("rotated",t.isUserMenuOpen),Ue(),xr("show",t.isUserMenuOpen),Ue(6),xn(t.auth.currentUser.displayName),Ue(2),xn(t.auth.currentUser.role),Ue(2),qt("ngIf",t.auth.canAccessCertificate()),Ue(),qt("ngIf",t.auth.isAdmin())}}var A_=class n{constructor(e,t){this.auth=e;this.router=t}isMenuOpen=!1;isUserMenuOpen=!1;ngOnInit(){document.addEventListener("click",this.handleDocumentClick.bind(this))}ngOnDestroy(){document.removeEventListener("click",this.handleDocumentClick.bind(this))}handleDocumentClick(e){let t=e.target,r=document.getElementById("navbarNav"),i=document.querySelector(".navbar-toggler"),o=document.querySelector(".user-dropdown");if(r&&i&&!i.contains(t)&&!r.contains(t)&&this.closeMobileMenu(),o){let s=!o.contains(t),a=t.closest(".dropdown-item");(s||a)&&this.closeUserMenu()}}toggleMobileMenu(){this.isMenuOpen=!this.isMenuOpen;let e=document.getElementById("navbarNav"),t=document.querySelector(".navbar-toggler");e&&t&&(this.isMenuOpen?(e.classList.add("show"),t.setAttribute("aria-expanded","true")):(e.classList.remove("show"),t.setAttribute("aria-expanded","false")))}closeMobileMenu(){this.isMenuOpen=!1;let e=document.getElementById("navbarNav"),t=document.querySelector(".navbar-toggler");e&&t&&(e.classList.remove("show"),t.setAttribute("aria-expanded","false"))}toggleUserMenu(){this.isUserMenuOpen=!this.isUserMenuOpen}closeUserMenu(){this.isUserMenuOpen=!1}logout(){this.auth.logout(),this.router.navigate(["/"]),this.closeUserMenu()}scrollToSection(e){this.closeMobileMenu(),this.router.navigate(["/"],{fragment:e}).then(()=>{let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})})}navigateTo(e){this.closeMobileMenu(),this.closeUserMenu(),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(ct(Mo),ct($i))};static \u0275cmp=wn({type:n,selectors:[["app-app-header"]],decls:45,vars:6,consts:[[1,"navbar","navbar-expand-lg","professional-navbar","fixed-top"],[1,"container"],["routerLink","/",1,"navbar-brand","professional-brand"],[1,"brand-container"],[1,"brand-logo"],["src","abel-navarro-icon.svg","alt","Abel Navarro Logo",1,"logo-img"],[1,"brand-text"],[1,"brand-name"],[1,"brand-subtitle"],["type","button","aria-label","Toggle navigation",1,"navbar-toggler","professional-toggler",3,"click"],[1,"toggler-lines"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","professional-nav"],[1,"nav-item"],[1,"nav-link","professional-link",3,"click"],[1,"bi","bi-house-door"],[1,"bi","bi-person-badge"],[1,"bi","bi-mortarboard"],[1,"bi","bi-telephone"],[1,"bi","bi-award"],[1,"navbar-actions"],["class","user-section",4,"ngIf"],[1,"user-section"],[1,"user-dropdown"],[1,"user-profile-btn",3,"click"],[1,"user-avatar"],[1,"bi","bi-person-fill"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"bi","bi-chevron-down","dropdown-arrow"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"user-details"],[1,"bi","bi-person-check-fill"],[1,"dropdown-divider"],["class","dropdown-item",3,"click",4,"ngIf"],[1,"dropdown-item","logout-item",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"dropdown-item",3,"click"],[1,"bi","bi-shield-check"]],template:function(t,r){t&1&&(re(0,"nav",0)(1,"div",1)(2,"a",2)(3,"div",3)(4,"div",4),Ve(5,"img",5),de(),re(6,"div",6)(7,"div",7),F(8,"Abel Navarro"),de(),re(9,"div",8),F(10,"Psic\xF3logo Organizacional"),de()()()(),re(11,"button",9),rt("click",function(){return r.toggleMobileMenu()}),re(12,"div",10),Ve(13,"span")(14,"span")(15,"span"),de()(),re(16,"div",11)(17,"ul",12)(18,"li",13)(19,"a",14),rt("click",function(){return r.scrollToSection("banner")}),Ve(20,"i",15),re(21,"span"),F(22,"Inicio"),de()()(),re(23,"li",13)(24,"a",14),rt("click",function(){return r.scrollToSection("about")}),Ve(25,"i",16),re(26,"span"),F(27,"Sobre M\xED"),de()()(),re(28,"li",13)(29,"a",14),rt("click",function(){return r.scrollToSection("workshops")}),Ve(30,"i",17),re(31,"span"),F(32,"Servicios"),de()()(),re(33,"li",13)(34,"a",14),rt("click",function(){return r.scrollToSection("contact")}),Ve(35,"i",18),re(36,"span"),F(37,"Contacto"),de()()(),re(38,"li",13)(39,"a",14),rt("click",function(){return r.navigateTo("/certificate")}),Ve(40,"i",19),re(41,"span"),F(42,"Certificado"),de()()()(),re(43,"div",20),Cn(44,rZ,28,13,"div",21),de()()()()),t&2&&(Ue(11),fo("aria-expanded",r.isMenuOpen),Ue(),xr("active",r.isMenuOpen),Ue(4),xr("show",r.isMenuOpen),Ue(28),qt("ngIf",r.auth.isLoggedIn&&r.auth.currentUser))},dependencies:[vo,Yo,Nv],styles:['.professional-navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid var(--border-color);box-shadow:0 2px 20px #00000014;transition:var(--transition-smooth);z-index:1050;padding:.5rem 0}.professional-navbar.scrolled[_ngcontent-%COMP%]{background:#fffffffa;box-shadow:0 4px 30px #0000001f}.professional-brand[_ngcontent-%COMP%]{text-decoration:none;transition:var(--transition-smooth)}.professional-brand[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.professional-brand[_ngcontent-%COMP%]:hover   .brand-logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{transform:scale(1.1)}.professional-brand[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.professional-brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:var(--transition-smooth)}.professional-brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;transition:var(--transition-smooth)}.professional-brand[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-family:var(--font-secondary);font-size:1.3rem;font-weight:700;color:var(--text-primary);line-height:1.1}.professional-brand[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   .brand-subtitle[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-secondary);font-weight:500;letter-spacing:.5px;text-transform:uppercase}.professional-toggler[_ngcontent-%COMP%]{border:2px solid var(--bs-primary);padding:.5rem;background:rgba(var(--bs-primary-rgb),.1);border-radius:var(--border-radius);transition:var(--transition-smooth)}.professional-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-primary-rgb),.25);outline:none}.professional-toggler[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-primary-rgb),.2);border-color:var(--bs-primary);transform:translateY(-1px)}.professional-toggler[_ngcontent-%COMP%]   .toggler-lines[_ngcontent-%COMP%]{width:22px;height:16px;position:relative;display:flex;flex-direction:column;justify-content:space-between}.professional-toggler[_ngcontent-%COMP%]   .toggler-lines[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;height:2px;background:var(--bs-primary);border-radius:2px;transition:var(--transition-smooth);transform-origin:center}.professional-toggler[_ngcontent-%COMP%]   .toggler-lines[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){width:100%}.professional-toggler[_ngcontent-%COMP%]   .toggler-lines[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){width:85%;margin-left:auto}.professional-toggler[_ngcontent-%COMP%]   .toggler-lines[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){width:70%;margin-left:auto}.professional-toggler[_ngcontent-%COMP%]   .toggler-lines.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(5px,5px);width:100%}.professional-toggler[_ngcontent-%COMP%]   .toggler-lines.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0;transform:translate(20px)}.professional-toggler[_ngcontent-%COMP%]   .toggler-lines.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(5px,-5px);width:100%;margin-left:0}.professional-toggler[_ngcontent-%COMP%]:hover   .toggler-lines[_ngcontent-%COMP%]:not(.active)   span[_ngcontent-%COMP%]{background:var(--bs-primary)}.professional-toggler[_ngcontent-%COMP%]:hover   .toggler-lines[_ngcontent-%COMP%]:not(.active)   span[_ngcontent-%COMP%]:nth-child(1){width:100%}.professional-toggler[_ngcontent-%COMP%]:hover   .toggler-lines[_ngcontent-%COMP%]:not(.active)   span[_ngcontent-%COMP%]:nth-child(2){width:100%;margin-left:0}.professional-toggler[_ngcontent-%COMP%]:hover   .toggler-lines[_ngcontent-%COMP%]:not(.active)   span[_ngcontent-%COMP%]:nth-child(3){width:100%;margin-left:0}.professional-nav[_ngcontent-%COMP%]{gap:.5rem}.professional-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .professional-link[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:500;font-size:.9rem;padding:.6rem .8rem;border-radius:var(--border-radius);transition:var(--transition-smooth);position:relative;display:flex;align-items:center;gap:.4rem;text-decoration:none;cursor:pointer}.professional-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .professional-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;opacity:.7;transition:var(--transition-smooth)}.professional-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .professional-link[_ngcontent-%COMP%]:hover{color:var(--bs-primary);background:rgba(var(--bs-primary-rgb),.1);transform:translateY(-1px)}.professional-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .professional-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{opacity:1;transform:scale(1.05)}.professional-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .professional-link.active[_ngcontent-%COMP%]{color:var(--bs-primary);background:rgba(var(--bs-primary-rgb),.15);font-weight:600}.professional-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .professional-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:50%;transform:translate(-50%);width:4px;height:4px;background:var(--bs-primary);border-radius:50%}.navbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-section[_ngcontent-%COMP%], .user-dropdown[_ngcontent-%COMP%]{position:relative}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .8rem;border:1px solid #e0e4e7;border-radius:25px;background:#fff;color:var(--text-primary);transition:var(--transition-smooth);cursor:pointer;font-size:.85rem;box-shadow:0 2px 8px #0000000f}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]:hover, .user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]:focus{background:#f8f9fa;border-color:var(--bs-primary);transform:translateY(-1px);box-shadow:0 4px 16px #0000001f;outline:none}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #00000014}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:28px;height:28px;background:linear-gradient(135deg,#0d6efd,#0056b3);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.9rem;flex-shrink:0;box-shadow:0 2px 8px #0d6efd40;border:2px solid rgba(255,255,255,.9)}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important;font-weight:700}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;min-width:0}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);line-height:1.1;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.3px;font-weight:500}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);transition:var(--transition-smooth);flex-shrink:0}.user-dropdown[_ngcontent-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;min-width:200px;background:#fff;border:1px solid var(--border-color);border-radius:var(--border-radius-lg);box-shadow:0 8px 30px #0000001f;opacity:0;visibility:hidden;transform:translateY(-10px);transition:var(--transition-smooth);z-index:1000;overflow:hidden}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid var(--border-color);background:rgba(var(--bs-primary-rgb),.03)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--bs-primary)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-size:.9rem;font-weight:600;color:var(--text-primary)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;text-transform:uppercase;letter-spacing:.3px}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:1px;background:var(--border-color);margin:0}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-primary);text-decoration:none;transition:var(--transition-smooth);cursor:pointer;border:none;background:none;width:100%;text-align:left;font-size:.85rem}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary);width:16px;transition:var(--transition-smooth)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-primary-rgb),.08);color:var(--bs-primary)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--bs-primary);transform:translate(2px)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%], .user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--bs-danger)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-danger-rgb),.08);color:var(--bs-danger)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--bs-danger)}@media (max-width: 991.98px){.professional-navbar[_ngcontent-%COMP%]{padding:.25rem 0}.brand-text[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.1rem!important}.brand-text[_ngcontent-%COMP%]   .brand-subtitle[_ngcontent-%COMP%]{font-size:.65rem!important}.navbar-collapse[_ngcontent-%COMP%]{margin-top:1rem;background:#fffffffa;border-radius:var(--border-radius-lg);box-shadow:0 8px 30px #0000001a;border:1px solid var(--border-color);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.navbar-collapse.show[_ngcontent-%COMP%]{animation:slideDown .3s ease-out}.professional-nav[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem;padding:1rem}.professional-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .professional-link[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:var(--border-radius)}.professional-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .professional-link[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-primary-rgb),.1);transform:translate(5px)}.navbar-actions[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid var(--border-color);margin-top:.5rem;justify-content:center}.user-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:fixed;top:auto;right:1rem;left:1rem;min-width:auto;max-width:calc(100vw - 2rem)}}@media (max-width: 576px){.brand-logo[_ngcontent-%COMP%]{width:35px!important;height:35px!important}.user-profile-btn[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:none!important}.user-profile-btn[_ngcontent-%COMP%]{padding:.4rem!important}.user-profile-btn[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:32px!important;height:32px!important;font-size:.9rem!important}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}']})};var I_=class n{scrollToSection(e){let t=document.getElementById(e);if(t){let o=t.offsetTop-80;window.scrollTo({top:o,behavior:"smooth"})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wn({type:n,selectors:[["app-app-footer"]],decls:108,vars:0,consts:[[1,"professional-footer"],[1,"container"],[1,"footer-main"],[1,"row","g-4"],[1,"col-lg-4","col-md-6"],[1,"footer-brand"],[1,"brand-container"],[1,"brand-logo"],["src","abel-navarro-icon.svg","alt","Abel Navarro Logo",1,"logo-img"],[1,"brand-text"],[1,"brand-description"],[1,"contact-info"],[1,"contact-item"],[1,"bi","bi-patch-check-fill"],[1,"bi","bi-building"],[1,"col-lg-2","col-md-6"],[1,"footer-section"],[1,"footer-title"],[1,"footer-links"],["href","#workshops",3,"click"],[1,"col-lg-3","col-md-6"],["href","#about",3,"click"],[1,"contact-methods"],["href","https://wa.me/tu-numero","target","_blank",1,"contact-method","whatsapp"],[1,"bi","bi-whatsapp"],[1,"method-info"],["href","https://facebook.com/tu-pagina","target","_blank",1,"contact-method","facebook"],[1,"bi","bi-facebook"],["href","mailto:tu.email@example.com",1,"contact-method","email"],[1,"bi","bi-envelope-fill"],[1,"footer-bottom"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"copyright"],[1,"footer-meta"],[1,"professional-badges"],[1,"badge","badge-professional"],[1,"bi","bi-shield-check"],[1,"badge","badge-certified"],[1,"bi","bi-award"],[1,"footer-decoration"],[1,"decoration-pattern"]],template:function(t,r){t&1&&(K(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),Be(8,"img",8),J(),K(9,"div",9)(10,"h5"),F(11,"Abel Navarro"),J(),K(12,"p"),F(13,"Psic\xF3logo Organizacional"),J()()(),K(14,"p",10),F(15," Especialista en desarrollo del talento humano y transformaci\xF3n organizacional. Brindo talleres, charlas y programas de capacitaci\xF3n para instituciones y empresas. "),J(),K(16,"div",11)(17,"div",12),Be(18,"i",13),K(19,"span"),F(20,"C.Ps.P. N\xB0 64179"),J()(),K(21,"div",12),Be(22,"i",14),K(23,"span"),F(24,"RUC: 10758489677"),J()()()()(),K(25,"div",15)(26,"div",16)(27,"h6",17),F(28,"Servicios"),J(),K(29,"ul",18)(30,"li")(31,"a",19),po("click",function(){return r.scrollToSection("workshops")}),F(32,"Talleres Institucionales"),J()(),K(33,"li")(34,"a",19),po("click",function(){return r.scrollToSection("workshops")}),F(35,"Capacitaci\xF3n Empresarial"),J()(),K(36,"li")(37,"a",19),po("click",function(){return r.scrollToSection("workshops")}),F(38,"Charlas Especializadas"),J()(),K(39,"li")(40,"a",19),po("click",function(){return r.scrollToSection("workshops")}),F(41,"Consultor\xEDa Organizacional"),J()()()()(),K(42,"div",20)(43,"div",16)(44,"h6",17),F(45,"Especializaciones"),J(),K(46,"ul",18)(47,"li")(48,"a",21),po("click",function(){return r.scrollToSection("about")}),F(49,"Psicolog\xEDa Organizacional"),J()(),K(50,"li")(51,"a",21),po("click",function(){return r.scrollToSection("about")}),F(52,"Liderazgo y Equipos"),J()(),K(53,"li")(54,"a",21),po("click",function(){return r.scrollToSection("about")}),F(55,"Bienestar Laboral"),J()(),K(56,"li")(57,"a",21),po("click",function(){return r.scrollToSection("about")}),F(58,"Habilidades Blandas"),J()(),K(59,"li")(60,"a",21),po("click",function(){return r.scrollToSection("about")}),F(61,"Desarrollo Humano"),J()()()()(),K(62,"div",20)(63,"div",16)(64,"h6",17),F(65,"Contacto"),J(),K(66,"div",22)(67,"a",23),Be(68,"i",24),K(69,"div",25)(70,"span"),F(71,"WhatsApp"),J(),K(72,"small"),F(73,"Consulta r\xE1pida"),J()()(),K(74,"a",26),Be(75,"i",27),K(76,"div",25)(77,"span"),F(78,"Facebook"),J(),K(79,"small"),F(80,"S\xEDgueme"),J()()(),K(81,"a",28),Be(82,"i",29),K(83,"div",25)(84,"span"),F(85,"Email"),J(),K(86,"small"),F(87,"Contacto formal"),J()()()()()()()(),K(88,"div",30)(89,"div",31)(90,"div",32)(91,"div",33)(92,"p"),F(93,"\xA9 2025 "),K(94,"strong"),F(95,"Abel Uriaz Navarro Carrasco"),J(),F(96,". Todos los derechos reservados."),J()()(),K(97,"div",32)(98,"div",34)(99,"div",35)(100,"span",36),Be(101,"i",37),F(102," Psic\xF3logo Colegiado "),J(),K(103,"span",38),Be(104,"i",39),F(105," Especialista Certificado "),J()()()()()()(),K(106,"div",40),Be(107,"div",41),J()())},styles:[`.professional-footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a365d,#2d3748,#4a5568,#2b6cb0,#1a202c);color:var(--bs-white);position:relative;overflow:hidden;margin-top:5rem;border-top:4px solid transparent;border-image:linear-gradient(90deg,var(--bs-primary) 0%,var(--bs-warning) 25%,var(--bs-info) 50%,var(--bs-warning) 75%,var(--bs-primary) 100%) 1;box-shadow:0 -10px 30px #0003,0 -2px 10px #0000001a}.professional-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 80% 20%,rgba(var(--bs-warning-rgb),.12) 0%,transparent 50%),radial-gradient(circle at 20% 80%,rgba(var(--bs-primary-rgb),.15) 0%,transparent 50%),radial-gradient(circle at 50% 50%,rgba(255,255,255,.05) 0%,transparent 60%);z-index:1}.professional-footer[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");z-index:1}.professional-footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.footer-main[_ngcontent-%COMP%]{padding:4rem 0 2rem;border-bottom:1px solid rgba(255,255,255,.15)}.footer-brand[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.footer-brand[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{width:55px;height:55px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border-radius:var(--border-radius-lg);box-shadow:0 8px 25px #0003}.footer-brand[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:45px;height:45px;object-fit:contain;filter:brightness(1.1)}.footer-brand[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:var(--font-secondary);font-size:1.5rem;font-weight:700;color:var(--bs-white);margin:0;line-height:1.2}.footer-brand[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:.9rem;font-weight:500;margin:0;letter-spacing:.5px}.footer-brand[_ngcontent-%COMP%]   .brand-description[_ngcontent-%COMP%]{color:#fffc;line-height:1.6;margin-bottom:1.5rem;font-size:.95rem}.footer-brand[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.footer-brand[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#ffffffe6;font-size:.9rem;font-weight:500}.footer-brand[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--bs-warning);font-size:1.1rem;width:20px;text-align:center}.footer-section[_ngcontent-%COMP%]   .footer-title[_ngcontent-%COMP%]{font-family:var(--font-secondary);font-size:1.1rem;font-weight:700;color:var(--bs-white);margin-bottom:1.5rem;position:relative}.footer-section[_ngcontent-%COMP%]   .footer-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;width:30px;height:2px;background:linear-gradient(90deg,var(--bs-warning),var(--accent-color));border-radius:1px}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.75rem}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;font-size:.9rem;transition:var(--transition-smooth);display:flex;align-items:center;padding:.25rem 0}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:4px;height:4px;background:var(--bs-warning);border-radius:50%;margin-right:.75rem;transition:var(--transition-smooth);opacity:.6}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--bs-white);transform:translate(8px)}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{background:var(--bs-white);opacity:1;transform:scale(1.5)}.contact-methods[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem 1rem;background:#ffffff1a;border-radius:var(--border-radius);text-decoration:none;color:#ffffffe6;transition:var(--transition-smooth);border:1px solid rgba(255,255,255,.15)}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]:hover{background:#ffffff26;transform:translateY(-3px);box-shadow:0 8px 25px #0003;color:var(--bs-white);border-color:#ffffff4d}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;width:35px;height:35px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:var(--transition-smooth)}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]   .method-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:600;font-size:.9rem;line-height:1.2}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]   .method-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.75rem}.contact-methods[_ngcontent-%COMP%]   .contact-method.whatsapp[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{background:#25d366;color:var(--bs-white);transform:scale(1.1)}.contact-methods[_ngcontent-%COMP%]   .contact-method.facebook[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{background:#1877f2;color:var(--bs-white);transform:scale(1.1)}.contact-methods[_ngcontent-%COMP%]   .contact-method.email[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{background:var(--bs-warning);color:var(--bs-dark);transform:scale(1.1)}.footer-bottom[_ngcontent-%COMP%]{padding:2rem 0}.footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fffc;font-size:.9rem}.footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--bs-white);font-weight:600}.footer-bottom[_ngcontent-%COMP%]   .footer-meta[_ngcontent-%COMP%]{text-align:right}.footer-bottom[_ngcontent-%COMP%]   .footer-meta[_ngcontent-%COMP%]   .professional-badges[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;flex-wrap:wrap}.footer-bottom[_ngcontent-%COMP%]   .footer-meta[_ngcontent-%COMP%]   .professional-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#ffffff26;color:var(--bs-white);border:1px solid rgba(255,255,255,.2);padding:.5rem 1rem;border-radius:20px;font-size:.8rem;font-weight:500;display:flex;align-items:center;gap:.5rem;transition:var(--transition-smooth)}.footer-bottom[_ngcontent-%COMP%]   .footer-meta[_ngcontent-%COMP%]   .professional-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px);box-shadow:0 5px 15px #0003}.footer-bottom[_ngcontent-%COMP%]   .footer-meta[_ngcontent-%COMP%]   .professional-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.footer-bottom[_ngcontent-%COMP%]   .footer-meta[_ngcontent-%COMP%]   .professional-badges[_ngcontent-%COMP%]   .badge.badge-professional[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-success-rgb),.8);border-color:var(--bs-success)}.footer-bottom[_ngcontent-%COMP%]   .footer-meta[_ngcontent-%COMP%]   .professional-badges[_ngcontent-%COMP%]   .badge.badge-certified[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-warning-rgb),.8);border-color:var(--bs-warning);color:var(--bs-dark)}.footer-decoration[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0;overflow:hidden}.footer-decoration[_ngcontent-%COMP%]   .decoration-pattern[_ngcontent-%COMP%]{position:absolute;top:15%;right:5%;width:250px;height:250px;background:radial-gradient(circle at 30% 30%,rgba(var(--bs-warning-rgb),.15) 0%,transparent 50%),radial-gradient(circle at 70% 70%,rgba(var(--bs-primary-rgb),.12) 0%,transparent 60%);border-radius:50%;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite}.footer-decoration[_ngcontent-%COMP%]   .decoration-pattern[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:180px;height:180px;background:radial-gradient(circle at 40% 60%,rgba(var(--bs-info-rgb),.1) 0%,transparent 50%),conic-gradient(from 0deg,transparent,rgba(255,255,255,.05),transparent);border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite reverse}.footer-decoration[_ngcontent-%COMP%]   .decoration-pattern[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:100px;height:100px;background:radial-gradient(circle,rgba(var(--bs-success-rgb),.08) 0%,transparent 70%);border-radius:50%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite}.footer-decoration[_ngcontent-%COMP%]:before{content:"";position:absolute;top:60%;left:8%;width:120px;height:120px;background:radial-gradient(circle,rgba(var(--bs-warning-rgb),.08) 0%,transparent 60%),linear-gradient(45deg,transparent 30%,rgba(255,255,255,.02) 50%,transparent 70%);border-radius:50%;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite reverse}.footer-decoration[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:20%;right:15%;width:80px;height:80px;background:radial-gradient(circle,rgba(var(--bs-info-rgb),.06) 0%,transparent 70%);border-radius:50%;animation:_ngcontent-%COMP%_float 9s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@media (max-width: 991.98px){.footer-main[_ngcontent-%COMP%]{padding:3rem 0 1.5rem}.footer-section[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center}.footer-meta[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.footer-meta[_ngcontent-%COMP%]   .professional-badges[_ngcontent-%COMP%]{justify-content:center}.brand-container[_ngcontent-%COMP%]{justify-content:center;text-align:center}.brand-description[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 767.98px){.footer-main[_ngcontent-%COMP%]{padding:2rem 0 1rem}.brand-container[_ngcontent-%COMP%]{justify-content:center;text-align:center}.brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{text-align:center}.brand-description[_ngcontent-%COMP%]{text-align:center;font-size:.9rem}.contact-info[_ngcontent-%COMP%]{align-items:center;justify-content:center}.footer-section[_ngcontent-%COMP%]{text-align:center}.footer-section[_ngcontent-%COMP%]   .footer-title[_ngcontent-%COMP%]{font-size:1rem}.footer-section[_ngcontent-%COMP%]   .footer-title[_ngcontent-%COMP%]:after{left:50%;transform:translate(-50%)}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{font-size:.9rem}.contact-methods[_ngcontent-%COMP%]{align-items:center;flex-direction:column;gap:1rem}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]{width:100%;max-width:250px;justify-content:center}.copyright[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.professional-badges[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.professional-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 575.98px){.professional-footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.footer-main[_ngcontent-%COMP%]{padding:1.5rem 0 1rem}.brand-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.brand-container[_ngcontent-%COMP%]   .brand-icon[_ngcontent-%COMP%]{width:60px;height:60px}.brand-description[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.5}.contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]{font-size:.8rem;gap:.5rem}.footer-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.footer-section[_ngcontent-%COMP%]   .footer-title[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:1rem}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.75rem}.footer-section[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.85rem}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]{padding:.75rem}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]   .method-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.contact-methods[_ngcontent-%COMP%]   .contact-method[_ngcontent-%COMP%]   .method-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}.footer-bottom[_ngcontent-%COMP%]{padding:1rem 0}.footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.5rem}.footer-bottom[_ngcontent-%COMP%]   .professional-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.4rem .8rem}}`]})};function iZ(n,e){if(n&1){let t=Sr();re(0,"button",11),rt("click",function(){ft(t);let i=dt().$implicit,o=dt();return pt(o.executeAction(i))}),F(1),de()}if(n&2){let t=dt().$implicit;Ue(),Lr(" ",t.action.label," ")}}function oZ(n,e){if(n&1){let t=Sr();re(0,"div",2)(1,"div",3),Ve(2,"span",4),de(),re(3,"div",5)(4,"div",6),F(5),de(),re(6,"div",7),F(7),de()(),re(8,"div",8),Cn(9,iZ,2,1,"button",9),re(10,"button",10),rt("click",function(){let i=ft(t).$implicit,o=dt();return pt(o.close(i.id))}),F(11," \xD7 "),de()()()}if(n&2){let t=e.$implicit,r=dt();Dd("notification-"+t.type),qt("@slideIn",void 0),Ue(2),qt("innerHTML",r.getIcon(t.type),Gw),Ue(3),xn(t.title),Ue(2),xn(t.message),Ue(2),qt("ngIf",t.action)}}var T_=class n{constructor(e){this.notificationService=e}notifications=[];subscription;ngOnInit(){this.subscription=this.notificationService.notifications$.subscribe(e=>{this.notifications=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getIcon(e){return{success:"\u2713",error:"\u2715",warning:"\u26A0",info:"\u2139"}[e]||"\u2139"}close(e){this.notificationService.remove(e)}executeAction(e){e.action&&(e.action.callback(),this.close(e.id))}static \u0275fac=function(t){return new(t||n)(ct(Ti))};static \u0275cmp=wn({type:n,selectors:[["app-notifications"]],decls:2,vars:1,consts:[[1,"notifications-container"],["class","notification",3,"class",4,"ngFor","ngForOf"],[1,"notification"],[1,"notification-icon"],[3,"innerHTML"],[1,"notification-content"],[1,"notification-title"],[1,"notification-message"],[1,"notification-actions"],["class","action-btn",3,"click",4,"ngIf"],["aria-label","Cerrar notificaci\xF3n",1,"close-btn",3,"click"],[1,"action-btn",3,"click"]],template:function(t,r){t&1&&(re(0,"div",0),Cn(1,oZ,12,7,"div",1),de()),t&2&&(Ue(),qt("ngForOf",r.notifications))},dependencies:[vo,Il,Yo],styles:[".notifications-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:400px;width:100%}.notification[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:16px;margin-bottom:12px;border-radius:8px;box-shadow:0 4px 12px #00000026;background:#fff;border-left:4px solid;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.notification-success[_ngcontent-%COMP%]{border-left-color:#10b981;background:#f0fdf4}.notification-error[_ngcontent-%COMP%]{border-left-color:#ef4444;background:#fef2f2}.notification-warning[_ngcontent-%COMP%]{border-left-color:#f59e0b;background:#fffbeb}.notification-info[_ngcontent-%COMP%]{border-left-color:#3b82f6;background:#eff6ff}.notification-icon[_ngcontent-%COMP%]{margin-right:12px;font-size:20px;line-height:1}.notification-success[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#10b981}.notification-error[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#ef4444}.notification-warning[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#f59e0b}.notification-info[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#3b82f6}.notification-content[_ngcontent-%COMP%]{flex:1;min-width:0}.notification-title[_ngcontent-%COMP%]{font-weight:600;font-size:14px;margin-bottom:4px;color:#111827}.notification-message[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;line-height:1.4}.notification-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:12px}.action-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:4px 12px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:background-color .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#2563eb}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;line-height:1;cursor:pointer;color:#9ca3af;transition:color .2s;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{color:#6b7280}@media (max-width: 640px){.notifications-container[_ngcontent-%COMP%]{top:10px;right:10px;left:10px;max-width:none}.notification[_ngcontent-%COMP%]{padding:12px}}"],data:{animation:[PE("slideIn",[Lv(":enter",[Ll({transform:"translateX(100%)",opacity:0}),Rv("300ms ease-in",Ll({transform:"translateX(0%)",opacity:1}))]),Lv(":leave",[Rv("300ms ease-out",Ll({transform:"translateX(100%)",opacity:0}))])])]}})};var N_=class n{title=Ss("psic-abelnavarro");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wn({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){t&1&&Ve(0,"app-app-header")(1,"router-outlet")(2,"app-app-footer")(3,"app-notifications")},dependencies:[Ip,A_,I_,T_],encapsulation:2})};ZC(N_,kk).catch(n=>console.error(n));
