import{b as Fe}from"./chunk-Q3GSZX6T.js";import{a as we}from"./chunk-NNXQY67D.js";import{a as Te}from"./chunk-CXKTJJ36.js";import{c as pe,e as ue,f as ve,g as _e,h as L,j as be,m as ge,n as Ce,o as fe,p as he,q as Ee,w as xe,x as ye}from"./chunk-AUZY6O5Y.js";import{a as Se}from"./chunk-IWJALEKK.js";import"./chunk-MPC7SZEK.js";import{a as B}from"./chunk-G3MWZKLR.js";import{b as de,c as me,k as z}from"./chunk-2UJ2GV6T.js";import{h as le,i as se,l as ce}from"./chunk-GBIZ2ZL5.js";import{$a as A,Aa as K,Ab as ee,Bb as w,Cc as re,D as Q,Da as r,Db as M,Fb as T,Gb as l,H as Y,Hb as h,Ib as x,Jb as te,Na as W,Ob as ie,Ra as X,Rb as U,Sb as k,_ as D,ab as $,ac as y,bb as u,cb as v,cc as R,da as _,dc as ne,ea as b,eb as j,fb as I,fc as N,gb as V,gc as O,hb as p,hc as oe,ia as J,ib as i,jb as n,kb as c,ma as S,o as P,rb as f,sb as g,ub as d,vc as ae,zb as Z}from"./chunk-DWRMJDZW.js";import"./chunk-LJ5XHLMQ.js";import{a as H,b as q,h as E}from"./chunk-FK42CRUA.js";var Ie=["confirmModal"],ke=()=>[1,2,3,4,5,6,7,8],G=o=>["/eventos",o],Pe=o=>["/eventos",o,"editar"],Ve=(o,e)=>e.id;function Me(o,e){if(o&1&&(i(0,"span",16),l(1),n()),o&2){let t=d();r(),h(t.totalItems())}}function De(o,e){o&1&&c(0,"span",20)}function Re(o,e){o&1&&c(0,"i",21)}function Oe(o,e){if(o&1&&(i(0,"span",32),l(1),n()),o&2){let t=d();r(),h(t.activeFiltersCount())}}function Ae(o,e){if(o&1){let t=f();i(0,"button",58),g("click",function(){_(t);let s=d();return b(s.clearFilters())}),c(1,"i",59),n()}}function Ne(o,e){if(o&1){let t=f();i(0,"button",80),g("click",function(){_(t),d();let s=w(10);return d().clearSearch(),b(s.focus())}),c(1,"i",81),n()}}function ze(o,e){if(o&1&&(i(0,"option",71),l(1),n()),o&2){let t=e.$implicit;p("value",t.id),r(),h(t.name)}}function Be(o,e){if(o&1&&I(0,ze,2,2,"option",71,Ve),o&2){let t=d(2);V(t.eventTypes())}}function Ge(o,e){if(o&1&&(i(0,"div",37)(1,"form",60)(2,"div",61)(3,"div",62)(4,"label",63),l(5,"Buscar por texto"),n(),i(6,"div",64)(7,"span",65),c(8,"i",66),n(),c(9,"input",67,1),u(11,Ne,2,0,"button",68),n()(),i(12,"div",62)(13,"label",63),l(14,"Estado del evento"),n(),i(15,"select",69)(16,"option",70),l(17,"Todos los estados"),n(),i(18,"option",71),l(19,"Borrador"),n(),i(20,"option",71),l(21,"Publicado"),n(),i(22,"option",71),l(23,"Inscripciones Abiertas"),n(),i(24,"option",71),l(25,"Inscripciones Cerradas"),n(),i(26,"option",71),l(27,"En Curso"),n(),i(28,"option",71),l(29,"Finalizado"),n(),i(30,"option",71),l(31,"Cancelado"),n()()(),i(32,"div",62)(33,"label",63),l(34,"Tipo de evento"),n(),i(35,"select",72)(36,"option",70),l(37,"Todos los tipos"),n(),u(38,Be,2,0),n()(),i(39,"div",73)(40,"label",63),l(41,"Modalidad"),n(),i(42,"select",74)(43,"option",70),l(44,"Todas"),n(),i(45,"option",71),l(46,"Presencial"),n(),i(47,"option",71),l(48,"Virtual"),n(),i(49,"option",71),l(50,"H\xEDbrido"),n()()(),i(51,"div",73)(52,"label",63),l(53,"Fecha desde"),n(),c(54,"input",75),n(),i(55,"div",73)(56,"label",63),l(57,"Fecha hasta"),n(),c(58,"input",76),n(),i(59,"div",73)(60,"label",63),l(61,"Acceso"),n(),i(62,"select",77)(63,"option",70),l(64,"Todos"),n(),i(65,"option",78),l(66,"P\xFAblico"),n(),i(67,"option",79),l(68,"Privado"),n()()()()()()),o&2){let t,a=d();r(),p("formGroup",a.form),r(10),v((t=a.form.get("search"))!=null&&t.value?11:-1),r(7),p("value",a.EventStatus.DRAFT),r(2),p("value",a.EventStatus.PUBLISHED),r(2),p("value",a.EventStatus.REG_OPEN),r(2),p("value",a.EventStatus.REG_CLOSED),r(2),p("value",a.EventStatus.ACTIVE),r(2),p("value",a.EventStatus.COMPLETED),r(2),p("value",a.EventStatus.CANCELLED),r(8),v(a.eventTypes()?38:-1),r(7),p("value",a.LocationType.PRESENCIAL),r(2),p("value",a.LocationType.VIRTUAL),r(2),p("value",a.LocationType.HIBRIDO)}}function $e(o,e){if(o&1&&(i(0,"span",41),l(1),n()),o&2){let t=d();r(),h(t.totalItems())}}function je(o,e){if(o&1&&(i(0,"option",71),l(1),n()),o&2){let t=e.$implicit;p("value",t),r(),h(t)}}function Ue(o,e){o&1&&(i(0,"div",88)(1,"div",89)(2,"div",90)(3,"div",91),c(4,"span",92)(5,"span",93),n()(),i(6,"div",37)(7,"div",94)(8,"div",95),c(9,"span",96)(10,"span",97)(11,"span",98),n()(),i(12,"div",99)(13,"div",100)(14,"div",28),c(15,"span",101)(16,"span",102),n()(),i(17,"div",100)(18,"div",28),c(19,"span",103)(20,"span",98),n()()(),i(21,"div",61)(22,"div",100)(23,"div",28),c(24,"span",104)(25,"span",105),n()(),i(26,"div",100)(27,"div",28),c(28,"span",106)(29,"span",107),n()()()(),i(30,"div",108)(31,"div",109),c(32,"span",110)(33,"span",110)(34,"span",110),n()()()())}function He(o,e){o&1&&(i(0,"div",82),I(1,Ue,35,0,"div",88,j),n()),o&2&&(r(),V(U(0,ke)))}function qe(o,e){o&1&&(i(0,"tr")(1,"td",119),c(2,"span",120),n(),i(3,"td",119)(4,"div",95),c(5,"span",121)(6,"span",97)(7,"span",98),n()(),i(8,"td",122)(9,"div",95),c(10,"span",97)(11,"span",98),n()(),i(12,"td",119),c(13,"span",123),n(),i(14,"td",124),c(15,"span",125),n(),i(16,"td",126),c(17,"span",127),n(),i(18,"td",119)(19,"div",128),c(20,"span",110)(21,"span",110)(22,"span",110),n()()())}function Qe(o,e){o&1&&(i(0,"div",83)(1,"table",111)(2,"thead",112)(3,"tr")(4,"th",113),l(5,"Sel."),n(),i(6,"th",114),l(7,"Evento"),n(),i(8,"th",115),l(9,"Fechas"),n(),i(10,"th",114),l(11,"Estado"),n(),i(12,"th",116),l(13,"Tipo"),n(),i(14,"th",117),l(15,"Modalidad"),n(),i(16,"th",118),l(17,"Acciones"),n()()(),i(18,"tbody"),I(19,qe,23,0,"tr",null,j),n()()()),o&2&&(r(19),V(U(0,ke)))}function Ye(o,e){if(o&1&&(i(0,"div",55),u(1,He,3,1,"div",82)(2,Qe,21,1,"div",83),i(3,"div",84)(4,"div",85)(5,"span",86),l(6,"Cargando..."),n()(),i(7,"span",87),l(8,"Cargando eventos..."),n()()()),o&2){let t=d();r(),v(t.view()==="cards"?1:2)}}function Je(o,e){if(o&1){let t=f();i(0,"div",56)(1,"div",129),c(2,"i",130),n(),i(3,"h5",131),l(4,"Error al cargar eventos"),n(),i(5,"p",132),l(6),n(),i(7,"button",133),g("click",function(){_(t);let s=d();return b(s.load())}),c(8,"i",134),l(9,"Reintentar "),n()()}if(o&2){let t=d();r(6),h(t.errorMessage())}}function Ke(o,e){if(o&1){let t=f();i(0,"h5",136),l(1,"No se encontraron eventos"),n(),i(2,"p",132),l(3,"Intenta ajustar los filtros de b\xFAsqueda"),n(),i(4,"button",133),g("click",function(){_(t);let s=d(2);return b(s.clearFilters())}),c(5,"i",137),l(6,"Limpiar filtros "),n()}}function We(o,e){o&1&&(i(0,"h5",136),l(1,"No hay eventos registrados"),n(),i(2,"p",132),l(3,"Comienza creando el primer evento"),n(),i(4,"a",138),c(5,"i",139),l(6,"Nuevo Evento "),n())}function Xe(o,e){if(o&1&&(i(0,"div",56)(1,"div",132),c(2,"i",135),n(),u(3,Ke,7,0)(4,We,7,0),n()),o&2){let t=d();r(3),v(t.hasActiveFilters()?3:4)}}function Ze(o,e){if(o&1&&(i(0,"p",151),l(1),n()),o&2){let t=d().$implicit;p("title",t.shortDescription),r(),x(" ",t.shortDescription," ")}}function et(o,e){if(o&1&&l(0),o&2){let t=d().$implicit;x(" / ",t.maxParticipants," ")}}function tt(o,e){if(o&1){let t=f();i(0,"button",169),g("click",function(s){_(t);let m=d().$implicit,C=d(3),F=w(2);return s.preventDefault(),s.stopPropagation(),b(C.openConfirm(F,"Publicar evento","\xBFConfirma que desea publicar este evento?","publish",m.id))}),c(1,"i",170),n()}}function it(o,e){if(o&1){let t=f();i(0,"button",171),g("click",function(s){_(t);let m=d().$implicit,C=d(3),F=w(2);return s.preventDefault(),s.stopPropagation(),b(C.openConfirm(F,"Abrir inscripciones","\xBFAbrir inscripciones para este evento?","open",m.id))}),c(1,"i",172),n()}}function nt(o,e){if(o&1){let t=f();i(0,"button",173),g("click",function(s){_(t);let m=d().$implicit,C=d(3),F=w(2);return s.preventDefault(),s.stopPropagation(),b(C.openConfirm(F,"Cerrar inscripciones","\xBFCerrar inscripciones para este evento?","close",m.id))}),c(1,"i",174),n()}}function ot(o,e){if(o&1){let t=f();i(0,"button",175),g("click",function(s){_(t);let m=d().$implicit,C=d(3),F=w(2);return s.preventDefault(),s.stopPropagation(),b(C.openConfirm(F,"Cancelar evento","\xBFEst\xE1 seguro de cancelar este evento?","cancel",m.id))}),c(1,"i",59),n()}}function at(o,e){if(o&1){let t=f();i(0,"div",88)(1,"div",142)(2,"div",143),c(3,"img",144),i(4,"span",145),c(5,"i",146),l(6),n()(),i(7,"div",37)(8,"div",147),c(9,"i",148),i(10,"small",87),l(11),n()(),i(12,"h6",149)(13,"a",150),l(14),n()(),u(15,Ze,2,2,"p",151),i(16,"div",94)(17,"div",147),c(18,"i",152),i(19,"span",153),l(20),n()(),i(21,"div",147),c(22,"i",154),i(23,"span",155),l(24),u(25,et,1,1),n()(),i(26,"div",28),c(27,"i",156),i(28,"span",153),l(29),n()()()(),i(30,"div",157)(31,"div",158)(32,"button",159),g("click",function(s){let m=_(t).$implicit,C=d(3);return s.preventDefault(),s.stopPropagation(),b(C.toggleFeatured(m.id))}),c(33,"i",160),n(),i(34,"a",161),g("click",function(s){return _(t),b(s.stopPropagation())}),c(35,"i",162),n(),i(36,"a",163),g("click",function(s){return _(t),b(s.stopPropagation())}),c(37,"i",164),n(),u(38,tt,2,0,"button",165),u(39,it,2,0,"button",166),u(40,nt,2,0,"button",167),u(41,ot,2,0,"button",168),n()()()()}if(o&2){let t=e.$implicit,a=d(3);r(3),p("alt",ie("Imagen de ",t.title))("src","assets/sinimagen.png",K),r(),T(a.getStateBadgeClass(t.status)),r(),T("bi-"+a.getStateIcon(t.status)),r(),x(" ",a.getStatusLabel(t.status)," "),r(5),te(" ",t.startDate," \u2192 ",t.endDate," "),r(),p("title",t.title),r(),p("routerLink",k(27,G,t.id)),r(),x(" ",t.title," "),r(),v(t.shortDescription?15:-1),r(5),h(t.eventType),r(4),x(" ",t.currentParticipants),r(),v(t.maxParticipants?25:-1),r(4),h(t.location),r(3),T(t.isFeatured?"btn-warning":"btn-outline-warning"),A("aria-pressed",t.isFeatured),r(2),p("routerLink",k(29,G,t.id)),r(2),p("routerLink",k(31,Pe,t.id)),r(2),v(a.canPublish(t)?38:-1),r(),v(a.canOpenReg(t)?39:-1),r(),v(a.canCloseReg(t)?40:-1),r(),v(a.canCancel(t)?41:-1)}}function rt(o,e){if(o&1&&(i(0,"div",140)(1,"div",141),I(2,at,42,33,"div",88,$().trackById,!0),n()()),o&2){let t=d(2);r(2),V(t.events())}}function lt(o,e){if(o&1&&c(0,"i",35),o&2){let t=d(3);T(t.sortSig().direction==="asc"?"bi-arrow-up":"bi-arrow-down")}}function st(o,e){o&1&&c(0,"i",178)}function ct(o,e){if(o&1&&c(0,"i",35),o&2){let t=d(3);T(t.sortSig().direction==="asc"?"bi-arrow-up":"bi-arrow-down")}}function dt(o,e){o&1&&c(0,"i",178)}function mt(o,e){if(o&1&&c(0,"i",35),o&2){let t=d(3);T(t.sortSig().direction==="asc"?"bi-arrow-up":"bi-arrow-down")}}function pt(o,e){o&1&&c(0,"i",178)}function ut(o,e){if(o&1&&(i(0,"small",186),l(1),n()),o&2){let t=d().$implicit;p("title",t.shortDescription),r(),x(" ",t.shortDescription," ")}}function vt(o,e){if(o&1&&(i(0,"small",87),l(1),n()),o&2){let t=d().$implicit;r(),x("/ ",t.maxParticipants)}}function _t(o,e){if(o&1){let t=f();i(0,"button",198),g("click",function(){_(t);let s=d().$implicit,m=d(3),C=w(2);return b(m.openConfirm(C,"Publicar evento","\xBFConfirma que desea publicar este evento?","publish",s.id))}),c(1,"i",170),n()}}function bt(o,e){if(o&1){let t=f();i(0,"button",199),g("click",function(){_(t);let s=d().$implicit,m=d(3),C=w(2);return b(m.openConfirm(C,"Abrir inscripciones","\xBFAbrir inscripciones para este evento?","open",s.id))}),c(1,"i",172),n()}}function gt(o,e){if(o&1){let t=f();i(0,"button",200),g("click",function(){_(t);let s=d().$implicit,m=d(3),C=w(2);return b(m.openConfirm(C,"Cerrar inscripciones","\xBFCerrar inscripciones para este evento?","close",s.id))}),c(1,"i",174),n()}}function Ct(o,e){if(o&1){let t=f();i(0,"button",201),g("click",function(){_(t);let s=d().$implicit,m=d(3),C=w(2);return b(m.openConfirm(C,"Cancelar evento","\xBFEst\xE1 seguro de cancelar este evento?","cancel",s.id))}),c(1,"i",59),n()}}function ft(o,e){if(o&1){let t=f();i(0,"tr")(1,"td",119)(2,"span",182),c(3,"i",146),i(4,"span",183),l(5),n()()(),i(6,"td",119)(7,"div",184)(8,"a",185),l(9),n()(),u(10,ut,2,2,"small",186),n(),i(11,"td",122)(12,"small",187),l(13),n()(),i(14,"td",124)(15,"small",87)(16,"div"),l(17),n(),i(18,"div"),l(19),n()()(),i(20,"td",126)(21,"small",188),l(22),n()(),i(23,"td",124)(24,"span",189),l(25),n(),u(26,vt,2,1,"small",87),n(),i(27,"td",119)(28,"div",190)(29,"button",191),g("click",function(){let s=_(t).$implicit,m=d(3);return b(m.toggleFeatured(s.id))}),c(30,"i",160),n(),i(31,"a",192),c(32,"i",162),n(),i(33,"a",193),c(34,"i",164),n(),u(35,_t,2,0,"button",194),u(36,bt,2,0,"button",195),u(37,gt,2,0,"button",196),u(38,Ct,2,0,"button",197),n()()()}if(o&2){let t=e.$implicit,a=d(3);r(2),T(a.getStateBadgeClass(t.status)),r(),T("bi-"+a.getStateIcon(t.status)),r(2),h(a.getStatusLabel(t.status)),r(2),p("title",t.title),r(),p("routerLink",k(26,G,t.id)),r(),x(" ",t.title," "),r(),v(t.shortDescription?10:-1),r(2),p("title",t.eventType),r(),x(" ",t.eventType," "),r(4),h(t.startDate),r(2),h(t.endDate),r(2),p("title",t.location),r(),x(" ",t.location," "),r(3),h(t.currentParticipants),r(),v(t.maxParticipants?26:-1),r(3),T(t.isFeatured?"btn-warning":"btn-outline-warning"),A("aria-pressed",t.isFeatured),r(2),p("routerLink",k(28,G,t.id)),r(2),p("routerLink",k(30,Pe,t.id)),r(2),v(a.canPublish(t)?35:-1),r(),v(a.canOpenReg(t)?36:-1),r(),v(a.canCloseReg(t)?37:-1),r(),v(a.canCancel(t)?38:-1)}}function ht(o,e){if(o&1){let t=f();i(0,"div",83)(1,"table",111)(2,"thead",112)(3,"tr")(4,"th",114),l(5,"Estado"),n(),i(6,"th",176),g("click",function(){_(t);let s=d(2);return b(s.setSort("title"))}),i(7,"div",27)(8,"span"),l(9,"Evento"),n(),u(10,lt,1,2,"i",177)(11,st,1,0,"i",178),n()(),i(12,"th",115),l(13,"Tipo"),n(),i(14,"th",179),g("click",function(){_(t);let s=d(2);return b(s.setSort("start_date"))}),i(15,"div",27)(16,"span"),l(17,"Fechas"),n(),u(18,ct,1,2,"i",177)(19,dt,1,0,"i",178),n()(),i(20,"th",117),l(21,"Ubicaci\xF3n"),n(),i(22,"th",180),g("click",function(){_(t);let s=d(2);return b(s.setSort("current_participants"))}),i(23,"div",27)(24,"span"),l(25,"Participantes"),n(),u(26,mt,1,2,"i",177)(27,pt,1,0,"i",178),n()(),i(28,"th",181),l(29,"Acciones"),n()()(),i(30,"tbody"),I(31,ft,39,32,"tr",null,$().trackById,!0),n()()()}if(o&2){let t=d(2);r(6),M("text-primary",t.sortSig().field==="title"),r(4),v(t.sortSig().field==="title"?10:11),r(4),M("text-primary",t.sortSig().field==="start_date"),r(4),v(t.sortSig().field==="start_date"?18:19),r(4),M("text-primary",t.sortSig().field==="current_participants"),r(4),v(t.sortSig().field==="current_participants"?26:27),r(5),V(t.events())}}function Et(o,e){if(o&1&&(u(0,rt,4,0,"div",140),u(1,ht,33,9,"div",83)),o&2){let t=d();v(t.view()==="cards"?0:-1),r(),v(t.view()==="table"?1:-1)}}function xt(o,e){if(o&1){let t=f();i(0,"div",57)(1,"app-pagination",202),g("pageChange",function(s){_(t);let m=d();return b(m.goToPage(s))})("pageSizeChange",function(s){_(t);let m=d();return b(m.onPageSizeChange(s))}),n()()}if(o&2){let t=d();r(),p("totalItems",t.totalItems())("pageSize",t.pageSize())("currentPage",t.currentPage())("showPageSizeSelector",!0)("pageSizeOptions",t.pageSizeOptions)("showGoToPage",!0)("showRangeInfo",!0)("showFirstLastButtons",!0)("maxVisiblePages",5)("density","compact")}}var Le=class o{router=D(le);destroyRef=D(J);eventService=D(Fe);staticDataService=D(Se);initialFilters=O();initialPageSize=O();initialViewMode=O();showFiltersInitially=O(!1);eventSelected=N();filtersChanged=N();eventStatusChanged=N();confirmModal=oe("confirmModal");pageSizeOptions=z.pagination.pageSizeOptions;EventStatus=de;LocationType=me;Math=Math;showFilters=S(!1);viewMode=S("cards");currentPage=S(1);pageSize=S(z.pagination.defaultPageSize);sortOptions=S({field:"start_date",direction:"asc"});eventsResource=ne({loader:()=>E(this,null,function*(){try{return yield P(this.eventService.getEvents(this.currentPage(),this.pageSize(),this.buildFilters(),this.sortOptions()))}catch(e){let t=this.processResourceError(e);throw console.error("Events Resource Error:",t),t}}),defaultValue:{items:[],pagination:{currentPage:1,totalItems:0,totalPages:0,itemsPerPage:z.pagination.defaultPageSize,hasNextPage:!1,hasPrevPage:!1}}});processResourceError(e){if(!e)return new Error("Error desconocido en el recurso");let t="Error al cargar los eventos";e.status===0||e.name==="NetworkError"?t="Error de conexi\xF3n. Verifica tu conexi\xF3n a internet.":e.status>=400&&e.status<500?t=e.error?.message||"Error en la solicitud. Verifica los par\xE1metros.":e.status===401||e.status===403?t="No tienes permisos para acceder a esta informaci\xF3n.":e.status>=500&&(t="Error del servidor. Intenta nuevamente en unos momentos.");let a=new Error(t);return a.originalError=e,a.canRetry=e.status!==401&&e.status!==403,a}events=y(()=>this.eventsResource.value()?.items??[]);totalItems=y(()=>this.eventsResource.value()?.pagination.totalItems??0);totalPages=y(()=>Math.ceil(this.totalItems()/this.pageSize()));isLoading=y(()=>this.eventsResource.status()==="loading");resourceError=y(()=>this.eventsResource.error());errorState=y(()=>{let e=this.resourceError();if(!e)return null;let t=e;return{message:e.message||"Error al cargar los eventos",canRetry:t.canRetry??!0,type:this.getErrorType(e),action:t.canRetry!==!1?()=>this.refreshEvents():void 0}});getErrorType(e){return e.status===0||e.name==="NetworkError"?"network":e.status>=400&&e.status<500?"validation":e.status===401||e.status===403?"permission":"unknown"}availableEventTypes=S([]);eventTypesMap=S(null);filtersForm=new _e({search:new L(null),status:new L(""),eventTypeId:new L(""),locationType:new L(""),dateFrom:new L(null),dateTo:new L(null),isPublic:new L("")});formFiltersState=S({search:null,status:"",eventTypeId:"",locationType:"",dateFrom:null,dateTo:null,isPublic:""});confirmAction=S({title:"Confirmar Acci\xF3n",message:"\xBFEst\xE1 seguro?",confirmText:"Confirmar",callback:()=>{}});hasActiveFilters=R(()=>{let e=this.formFiltersState();return!!(e.search?.trim()||e.status||e.eventTypeId&&e.eventTypeId!==""||e.locationType||e.dateFrom||e.dateTo||e.isPublic)});activeFiltersCount=R(()=>{let e=this.formFiltersState(),t=0;return e.search?.trim()&&t++,e.status&&t++,e.eventTypeId&&e.eventTypeId!==""&&t++,e.locationType&&t++,(e.dateFrom||e.dateTo)&&t++,e.isPublic&&t++,t});eventTypesOptions=R(()=>{let e=this.eventTypesMap();return e?Object.entries(e).map(([t,a])=>({id:parseInt(t),name:a.name,description:a.description||""})):[]});paginationInfo=R(()=>{let e=this.totalItems(),t=this.pageSize(),a=this.currentPage(),s=Math.ceil(e/t);return{total:e,size:t,current:a,totalPages:s,hasItems:e>0,hasPagination:s>1,startItem:e>0?(a-1)*t+1:0,endItem:Math.min(a*t,e)}});trackByEventId=(e,t)=>t.id;trackByPageSize=(e,t)=>t;trackByStatusId=(e,t)=>t.id||t;trackByEventTypeId=(e,t)=>t.id;statusBadgeClassCache=new Map;statusIconCache=new Map;statusLabelCache=new Map;eventTypeCache=new Map;cachedStatusOptions=y(()=>[{value:"draft",label:"Borrador"},{value:"published",label:"Publicado"},{value:"reg_open",label:"Inscripciones Abiertas"},{value:"reg_closed",label:"Inscripciones Cerradas"},{value:"active",label:"En Curso"},{value:"completed",label:"Finalizado"},{value:"cancelled",label:"Cancelado"}]);ngOnInit(){this.initializeFromInputs(),this.formFiltersState.set(this.filtersForm.value),this.loadInitialData(),this.setupSubscriptions(),this.loadViewMode()}initializeFromInputs(){let e=this.initialFilters();if(e){let m=this.convertToFormFilters(e);this.filtersForm.patchValue(m),this.formFiltersState.set(this.filtersForm.value)}let t=this.initialPageSize();t&&this.pageSize.set(t);let a=this.initialViewMode();a&&this.viewMode.set(a),this.showFiltersInitially()&&this.showFilters.set(!0)}convertToFormFilters(e){return{search:e.search||null,status:e.status||null,eventTypeId:typeof e.eventTypeId=="number"?e.eventTypeId:e.eventTypeId||"",locationType:e.locationType||null,dateFrom:e.dateFrom||null,dateTo:e.dateTo||null,isPublic:typeof e.isPublic=="boolean"?e.isPublic?"true":"false":e.isPublic||null}}updateFiltersState(e){this.formFiltersState.set(e),this.currentPage.set(1),this.refreshEvents();let t=this.buildFilters();this.filtersChanged.emit(t)}loadInitialData(){this.staticDataService.eventTypes$.pipe(B(this.destroyRef)).subscribe({next:e=>{if(e){this.eventTypesMap.set(e);let t=Object.entries(e).map(([a,s])=>({id:parseInt(a),name:s.name,description:s.description||""}));this.availableEventTypes.set(t)}},error:e=>console.error("Error loading event types:",e)})}setupSubscriptions(){this.filtersForm.valueChanges.pipe(Q(300),Y(),B(this.destroyRef)).subscribe(e=>{this.updateFiltersState(e)})}loadViewMode(){let e=localStorage.getItem("event-view-mode");e&&this.viewMode.set(e)}handleResourceError(e){this.clearCaches(),console.error("Event list resource error:",e)}processError(e){if(!e)return{message:"Error desconocido",canRetry:!0,type:"unknown"};let t="unknown",a="Ha ocurrido un error inesperado",s=!0;return e.status===0||e.name==="NetworkError"?(t="network",a="Error de conexi\xF3n. Verifica tu conexi\xF3n a internet.",s=!0):e.status>=400&&e.status<500?(t="validation",a=e.error?.message||"Error en la solicitud. Verifica los datos enviados.",s=!1):e.status===401||e.status===403?(t="permission",a="No tienes permisos para realizar esta acci\xF3n.",s=!1):e.status>=500&&(t="network",a="Error del servidor. Intenta nuevamente en unos momentos.",s=!0),{message:a,canRetry:s,type:t,action:s?()=>this.refreshEvents():void 0}}ngOnDestroy(){this.clearCaches(),localStorage.setItem("event-view-mode",this.viewMode())}refreshData(){this.refreshEvents()}refreshEvents(){this.eventsResource.reload()}buildFilters(){let e=this.filtersForm.value,t={};if(e.search?.trim()&&(t.query=e.search.trim()),e.status&&e.status!==""&&(t.status=[e.status]),e.eventTypeId!==null&&e.eventTypeId!==void 0&&e.eventTypeId!==""){let a=typeof e.eventTypeId=="string"?parseInt(e.eventTypeId):e.eventTypeId;isNaN(a)||(t.eventTypeId=[a])}return e.locationType&&e.locationType!==""&&(t.locationType=[e.locationType]),e.dateFrom&&(t.dateFrom=e.dateFrom),e.dateTo&&(t.dateTo=e.dateTo),e.isPublic==="true"&&(t.isPublic=!0),e.isPublic==="false"&&(t.isPublic=!1),t}toggleFiltersPanel(){this.showFilters.update(e=>!e)}clearSearch(){this.filtersForm.patchValue({search:""})}clearAllFilters(){this.currentPage.set(1),this.formFiltersState.set({search:null,status:"",eventTypeId:"",locationType:"",dateFrom:null,dateTo:null,isPublic:""}),this.sortOptions.set({field:"start_date",direction:"asc"}),this.filtersForm.reset({search:null,status:"",eventTypeId:"",locationType:"",dateFrom:null,dateTo:null,isPublic:""})}setView(e){this.viewMode.set(e),localStorage.setItem("event-view-mode",e)}setPageSize(e){this.pageSize.set(Number(e)),this.currentPage.set(1),this.refreshEvents()}setSort(e){this.sortOptions().field===e?this.sortOptions.update(a=>q(H({},a),{direction:a.direction==="asc"?"desc":"asc"})):this.sortOptions.set({field:e,direction:"asc"}),this.refreshEvents()}onPageChange(e){this.currentPage.set(e),this.refreshEvents()}onPageSizeChange(e){if(typeof e=="number")this.pageSize.set(e);else{let t=e.target;this.pageSize.set(Number(t.value))}this.currentPage.set(1),this.refreshEvents()}goToPage(e){e>=1&&e<=this.totalPages()&&(this.currentPage.set(e),this.refreshEvents())}getStateBadgeClass(e){if(this.statusBadgeClassCache.has(e))return this.statusBadgeClassCache.get(e);let t;switch(e){case"draft":t="bg-secondary-subtle text-secondary";break;case"published":t="bg-info-subtle text-info";break;case"reg_open":t="bg-success-subtle text-success";break;case"reg_closed":t="bg-warning-subtle text-warning";break;case"active":t="bg-primary-subtle text-primary";break;case"completed":t="bg-success-subtle text-success";break;case"cancelled":t="bg-danger-subtle text-danger";break;default:t="bg-secondary-subtle text-secondary";break}return this.statusBadgeClassCache.set(e,t),t}getStateIcon(e){if(this.statusIconCache.has(e))return this.statusIconCache.get(e);let t;switch(e){case"draft":t="pencil-square";break;case"published":t="eye";break;case"reg_open":t="door-open";break;case"reg_closed":t="door-closed";break;case"active":t="play-circle";break;case"completed":t="check-circle";break;case"cancelled":t="x-circle";break;default:t="circle";break}return this.statusIconCache.set(e,t),t}getStatusLabel(e){if(this.statusLabelCache.has(e))return this.statusLabelCache.get(e);let t;switch(e){case"draft":t="Borrador";break;case"published":t="Publicado";break;case"reg_open":t="Inscripciones Abiertas";break;case"reg_closed":t="Inscripciones Cerradas";break;case"active":t="En Curso";break;case"completed":t="Finalizado";break;case"cancelled":t="Cancelado";break;default:t="Desconocido";break}return this.statusLabelCache.set(e,t),t}getEventTypeName(e){let t=this.eventTypeCache.get(e);if(t)return t.name;let a=this.eventTypesOptions().find(s=>s.id===e);return a?(this.eventTypeCache.set(e,a),a.name):"Tipo desconocido"}getEventTypeById(e){let t=this.eventTypeCache.get(e);if(t)return t;let a=this.eventTypesOptions().find(s=>s.id===e);return a&&this.eventTypeCache.set(e,a),a||null}toggleFeatured(e){this.eventService.toggleFeatured(e).pipe(B(this.destroyRef)).subscribe({next:()=>this.refreshEvents(),error:t=>console.error("Error al destacar evento:",t)})}canEdit(e){return e.status==="draft"||e.status==="published"}canDelete(e){return e.status==="draft"}canDuplicate(e){return!0}canViewDetails(e){return!0}canManageRegistrations(e){return e.status==="reg_open"||e.status==="reg_closed"||e.status==="active"||e.status==="completed"}canPublish=e=>e.status==="draft"||e.status==="published";canOpenReg=e=>e.status==="published";canCloseReg=e=>e.status==="reg_open";canCancel=e=>e.status!=="cancelled"&&e.status!=="completed";formatDate(e){try{return new Date(e).toLocaleDateString("es-PE",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return e}}formatDateTime(e){try{return new Date(e).toLocaleString("es-PE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return e}}formatCurrency(e){try{return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}catch{return`S/${e.toLocaleString()}`}}clearCaches(){this.statusBadgeClassCache.clear(),this.statusIconCache.clear(),this.statusLabelCache.clear(),this.eventTypeCache.clear()}preloadEventTypesCache(){this.eventTypesOptions().forEach(e=>{this.eventTypeCache.set(e.id,e)})}getCacheStats(){return{statusBadgeClass:this.statusBadgeClassCache.size,statusIcon:this.statusIconCache.size,statusLabel:this.statusLabelCache.size,eventType:this.eventTypeCache.size}}confirmPublishEvent(e){this.canPublish(e)&&(this.confirmAction.set({title:"Publicar Evento",message:`\xBFPublicar el evento "${e.title}"?`,confirmText:"S\xED, Publicar",callback:()=>E(this,null,function*(){return yield this.publishEvent(e.id)})}),this.confirmModal()?.show())}confirmOpenRegistrations(e){this.canOpenReg(e)&&(this.confirmAction.set({title:"Abrir Inscripciones",message:`\xBFAbrir inscripciones para "${e.title}"?`,confirmText:"S\xED, Abrir",callback:()=>E(this,null,function*(){return yield this.openRegistrations(e.id)})}),this.confirmModal()?.show())}confirmCloseRegistrations(e){this.canCloseReg(e)&&(this.confirmAction.set({title:"Cerrar Inscripciones",message:`\xBFCerrar inscripciones para "${e.title}"?`,confirmText:"S\xED, Cerrar",callback:()=>E(this,null,function*(){return yield this.closeRegistrations(e.id)})}),this.confirmModal()?.show())}confirmCancelEvent(e){this.canCancel(e)&&(this.confirmAction.set({title:"Cancelar Evento",message:`\xBFCancelar el evento "${e.title}"? Esta acci\xF3n no se puede deshacer.`,confirmText:"S\xED, Cancelar",callback:()=>E(this,null,function*(){return yield this.cancelEvent(e.id)})}),this.confirmModal()?.show())}publishEvent(e){return E(this,null,function*(){try{yield P(this.eventService.publishEvent(e)),this.refreshEvents(),this.eventStatusChanged.emit({eventId:e,success:!0})}catch(t){console.error("Error publishing event:",t),this.eventStatusChanged.emit({eventId:e,success:!1})}})}openRegistrations(e){return E(this,null,function*(){try{yield P(this.eventService.openRegistrations(e)),this.refreshEvents(),this.eventStatusChanged.emit({eventId:e,success:!0})}catch(t){console.error("Error opening registrations:",t),this.eventStatusChanged.emit({eventId:e,success:!1})}})}closeRegistrations(e){return E(this,null,function*(){try{yield P(this.eventService.closeRegistrations(e)),this.refreshEvents(),this.eventStatusChanged.emit({eventId:e,success:!0})}catch(t){console.error("Error closing registrations:",t),this.eventStatusChanged.emit({eventId:e,success:!1})}})}cancelEvent(e){return E(this,null,function*(){try{yield P(this.eventService.changeEventStatus(e,"cancelled")),this.refreshEvents(),this.eventStatusChanged.emit({eventId:e,success:!0})}catch(t){console.error("Error cancelling event:",t),this.eventStatusChanged.emit({eventId:e,success:!1})}})}confirmTitle=y(()=>this.confirmAction().title);confirmMessage=y(()=>this.confirmAction().message);form=this.filtersForm;view=this.viewMode;eventTypes=this.eventTypesOptions;errorMessage=y(()=>this.errorState()?.message||null);sortSig=this.sortOptions;trackById=this.trackByEventId;clearFilters=this.clearAllFilters;load=this.refreshEvents;openConfirm=(e,t,a,s,m)=>{let C=this.events().find(F=>F.id===m);if(C)switch(s){case"publish":this.confirmPublishEvent(C);break;case"open":this.confirmOpenRegistrations(C);break;case"close":this.confirmCloseRegistrations(C);break;case"cancel":this.confirmCancelEvent(C);break}};onConfirmAccepted(){return E(this,null,function*(){yield this.confirmAction().callback()})}onConfirmCancelled(){}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=W({type:o,selectors:[["app-event-list"]],viewQuery:function(t,a){t&1&&Z(a.confirmModal,Ie,5),t&2&&ee()},inputs:{initialFilters:[1,"initialFilters"],initialPageSize:[1,"initialPageSize"],initialViewMode:[1,"initialViewMode"],showFiltersInitially:[1,"showFiltersInitially"]},outputs:{eventSelected:"eventSelected",filtersChanged:"filtersChanged",eventStatusChanged:"eventStatusChanged"},decls:76,vars:25,consts:[["confirmModal",""],["searchInput",""],[1,"container-fluid","py-3"],[3,"accepted","cancelled","title","message","confirmText"],["aria-label","breadcrumb",1,"mb-3"],[1,"breadcrumb","mb-0","small"],[1,"breadcrumb-item"],["routerLink","/",1,"text-decoration-none","link-primary"],[1,"bi","bi-house-door","me-1"],[1,"d-none","d-sm-inline"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","flex-column","flex-md-row","align-items-start","align-items-md-center","justify-content-between","gap-3","mb-4"],[1,"order-1","order-md-0"],[1,"h6","mb-1","fw-normal","d-flex","align-items-center"],[1,"bi","bi-calendar-event","me-2","text-primary"],[1,"small"],[1,"badge","text-bg-primary","ms-2","small"],[1,"text-muted","small","mb-0"],[1,"d-flex","flex-wrap","gap-2","order-0","order-md-1"],["type","button","title","Actualizar datos",1,"btn","btn-outline-secondary","btn-sm","d-flex","align-items-center",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"bi","bi-arrow-clockwise","me-1"],[1,"d-none","d-sm-inline","small"],["routerLink","/eventos/crear","title","Crear nuevo evento",1,"btn","btn-primary","btn-sm","d-flex","align-items-center"],[1,"bi","bi-plus-circle","me-1"],[1,"card","border-0","shadow-sm","mb-4"],[1,"card-header","bg-light","border-bottom","py-2"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","align-items-center","gap-1"],[1,"bi","bi-funnel","text-primary"],[1,"mb-0","fw-normal","small"],[1,"badge","text-bg-primary","rounded-pill","small"],["role","group",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-outline-secondary","border-0","btn-sm",3,"click","title"],[1,"bi"],["type","button","title","Limpiar todos los filtros",1,"btn","btn-outline-danger","border-0","btn-sm"],[1,"card-body","py-3"],[1,"card","border-0","shadow-sm"],[1,"d-flex","align-items-center","gap-2","flex-grow-1","overflow-hidden"],[1,"bi","bi-list-ul","text-primary"],[1,"badge","text-bg-info","small"],[1,"d-flex","align-items-center","gap-1","ms-auto","me-2"],[1,"form-label","mb-0","text-muted","small","d-none","d-md-inline"],[1,"form-select","form-select-sm","small",2,"width","auto","min-width","60px",3,"change","value"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["role","group","aria-label","Modo de vista",1,"btn-group","btn-group-sm","flex-shrink-0"],["type","radio","name","viewMode","id","cardsView","autocomplete","off",1,"btn-check",3,"change","checked"],["for","cardsView","title","Vista tarjetas",1,"btn","btn-outline-primary","btn-sm","px-2"],[1,"bi","bi-grid-3x3-gap"],[1,"d-none","d-xl-inline","ms-1","small"],["type","radio","name","viewMode","id","tableView","autocomplete","off",1,"btn-check",3,"change","checked"],["for","tableView","title","Vista tabla",1,"btn","btn-outline-primary","btn-sm","px-2"],[1,"bi","bi-table"],[1,"card-body","p-0"],[1,"p-3"],[1,"text-center","py-5"],[1,"card-footer","bg-light","border-top","py-2"],["type","button","title","Limpiar todos los filtros",1,"btn","btn-outline-danger","border-0","btn-sm",3,"click"],[1,"bi","bi-x-circle"],["role","search","aria-label","Filtros de eventos",3,"formGroup"],[1,"row","g-2"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],[1,"form-label","fw-normal","small","mb-1"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-light","border-end-0"],[1,"bi","bi-search","text-muted"],["type","search","placeholder","Buscar eventos, t\xEDtulo, descripci\xF3n...","formControlName","search",1,"form-control","border-start-0","bg-light","form-control-sm"],["type","button","title","Limpiar b\xFAsqueda",1,"btn","btn-outline-secondary","border-start-0","btn-sm"],["formControlName","status","aria-label","Estado",1,"form-select","bg-light","form-select-sm"],["value",""],[3,"value"],["formControlName","eventTypeId","aria-label","Tipo",1,"form-select","bg-light","form-select-sm"],[1,"col-12","col-md-6","col-lg-3","col-xl-2"],["formControlName","locationType","aria-label","Modalidad",1,"form-select","bg-light","form-select-sm"],["type","date","formControlName","dateFrom","aria-label","Fecha desde",1,"form-control","bg-light","form-control-sm"],["type","date","formControlName","dateTo","aria-label","Fecha hasta",1,"form-control","bg-light","form-control-sm"],["formControlName","isPublic","aria-label","Acceso",1,"form-select","bg-light","form-select-sm"],["value","true"],["value","false"],["type","button","title","Limpiar b\xFAsqueda",1,"btn","btn-outline-secondary","border-start-0","btn-sm",3,"click"],[1,"bi","bi-x"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5","g-3"],[1,"table-responsive"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary","me-2",2,"width","1.25rem","height","1.25rem"],[1,"visually-hidden"],[1,"text-muted"],[1,"col"],[1,"card","h-100","border-0","shadow-sm"],[1,"card-header","bg-light","py-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"placeholder","col-3","bg-secondary","rounded",2,"height","18px"],[1,"placeholder","col-4","bg-primary","rounded-pill",2,"height","20px"],[1,"mb-3"],[1,"placeholder-glow"],[1,"placeholder","col-10","mb-2","fw-bold",2,"height","20px"],[1,"placeholder","col-8","mb-1"],[1,"placeholder","col-6"],[1,"row","g-2","mb-3"],[1,"col-6"],[1,"placeholder","bg-primary","rounded-circle",2,"width","16px","height","16px"],[1,"placeholder","col-8"],[1,"placeholder","bg-success","rounded-circle",2,"width","16px","height","16px"],[1,"placeholder","bg-info","rounded-circle",2,"width","16px","height","16px"],[1,"placeholder","col-7"],[1,"placeholder","bg-warning","rounded-circle",2,"width","16px","height","16px"],[1,"placeholder","col-5"],[1,"card-footer","bg-transparent","py-2"],[1,"d-flex","gap-2","justify-content-end"],[1,"placeholder","bg-secondary","rounded",2,"width","32px","height","28px"],[1,"table","table-hover","mb-0"],[1,"table-light"],["scope","col",1,"border-0",2,"width","40px"],["scope","col",1,"fw-semibold","border-0"],["scope","col",1,"fw-semibold","border-0","d-none","d-md-table-cell"],["scope","col",1,"fw-semibold","border-0","d-none","d-lg-table-cell"],["scope","col",1,"fw-semibold","border-0","d-none","d-xl-table-cell"],["scope","col",1,"fw-semibold","border-0",2,"width","120px"],[1,"border-0"],[1,"placeholder","bg-secondary","rounded",2,"width","16px","height","16px"],[1,"placeholder","col-10","mb-1","fw-bold"],[1,"border-0","d-none","d-md-table-cell"],[1,"placeholder","bg-primary","rounded-pill",2,"width","90px","height","22px"],[1,"border-0","d-none","d-lg-table-cell"],[1,"placeholder","bg-info","rounded-pill",2,"width","80px","height","20px"],[1,"border-0","d-none","d-xl-table-cell"],[1,"placeholder","bg-success","rounded-pill",2,"width","70px","height","18px"],[1,"d-flex","gap-1"],[1,"text-danger","mb-4"],[1,"bi","bi-exclamation-triangle","display-1","opacity-25"],[1,"text-danger","mb-2"],[1,"text-muted","mb-4"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-arrow-clockwise","me-2"],[1,"bi","bi-calendar-x","display-1","opacity-25"],[1,"text-muted","mb-2"],[1,"bi","bi-funnel","me-2"],["routerLink","/eventos/crear",1,"btn","btn-primary"],[1,"bi","bi-plus-circle","me-2"],[1,"p-3","p-md-4"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5","row-cols-xxl-6","g-3"],[1,"card","h-100","border-0","shadow-sm","position-relative"],[1,"position-relative"],[1,"card-img-top",2,"height","180px","object-fit","cover",3,"src","alt"],[1,"badge","position-absolute","top-0","start-0","m-2"],[1,"bi","me-1"],[1,"d-flex","align-items-center","gap-2","mb-2"],[1,"bi","bi-calendar-date","text-primary","small"],[1,"card-title","mb-2","lh-base","fw-semibold","text-truncate",3,"title"],[1,"text-decoration-none","text-dark","stretched-link",3,"routerLink"],[1,"card-text","text-muted","small","mb-3","lh-sm","text-truncate",3,"title"],[1,"bi","bi-tag","text-muted","small"],[1,"text-muted","small","text-truncate"],[1,"bi","bi-people","text-success","small"],[1,"text-success","small","fw-medium"],[1,"bi","bi-geo-alt","text-muted","small"],[1,"card-footer","bg-transparent","border-top","py-2"],[1,"d-flex","gap-1","justify-content-end"],["type","button","title","Destacar evento",1,"btn","btn-sm","position-relative",2,"z-index","10",3,"click"],[1,"bi","bi-star-fill"],["title","Ver detalles",1,"btn","btn-outline-info","btn-sm","position-relative",2,"z-index","10",3,"click","routerLink"],[1,"bi","bi-eye"],["title","Editar evento",1,"btn","btn-outline-primary","btn-sm","position-relative",2,"z-index","10",3,"click","routerLink"],[1,"bi","bi-pencil"],["title","Publicar evento",1,"btn","btn-outline-success","btn-sm","position-relative",2,"z-index","10"],["title","Abrir inscripciones",1,"btn","btn-outline-info","btn-sm","position-relative",2,"z-index","10"],["title","Cerrar inscripciones",1,"btn","btn-outline-warning","btn-sm","position-relative",2,"z-index","10"],["title","Cancelar evento",1,"btn","btn-outline-danger","btn-sm","position-relative",2,"z-index","10"],["title","Publicar evento",1,"btn","btn-outline-success","btn-sm","position-relative",2,"z-index","10",3,"click"],[1,"bi","bi-megaphone"],["title","Abrir inscripciones",1,"btn","btn-outline-info","btn-sm","position-relative",2,"z-index","10",3,"click"],[1,"bi","bi-door-open"],["title","Cerrar inscripciones",1,"btn","btn-outline-warning","btn-sm","position-relative",2,"z-index","10",3,"click"],[1,"bi","bi-door-closed"],["title","Cancelar evento",1,"btn","btn-outline-danger","btn-sm","position-relative",2,"z-index","10",3,"click"],["scope","col","title","Ordenar por t\xEDtulo",1,"fw-semibold","border-0","cursor-pointer","user-select-none",3,"click"],[1,"bi",3,"class"],[1,"bi","bi-arrow-down-up","opacity-50"],["scope","col","title","Ordenar por fecha",1,"fw-semibold","border-0","cursor-pointer","user-select-none","d-none","d-lg-table-cell",3,"click"],["scope","col","title","Ordenar por participantes",1,"fw-semibold","border-0","cursor-pointer","user-select-none","d-none","d-lg-table-cell",3,"click"],["scope","col",1,"fw-semibold","border-0",2,"width","140px"],[1,"badge","rounded-pill"],[1,"d-none","d-lg-inline"],[1,"fw-medium","text-truncate",2,"max-width","200px",3,"title"],[1,"text-decoration-none","text-dark",3,"routerLink"],[1,"text-muted","text-truncate","d-block",2,"max-width","200px",3,"title"],[1,"text-truncate",2,"max-width","100px",3,"title"],[1,"text-truncate",2,"max-width","120px",3,"title"],[1,"fw-medium"],[1,"btn-group","btn-group-sm"],["type","button","title","Destacar evento",1,"btn","btn-sm",3,"click"],["title","Ver detalles",1,"btn","btn-outline-info","btn-sm",3,"routerLink"],["title","Editar evento",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],["title","Publicar evento",1,"btn","btn-outline-success","btn-sm"],["title","Abrir inscripciones",1,"btn","btn-outline-info","btn-sm"],["title","Cerrar inscripciones",1,"btn","btn-outline-warning","btn-sm"],["title","Cancelar evento",1,"btn","btn-outline-danger","btn-sm"],["title","Publicar evento",1,"btn","btn-outline-success","btn-sm",3,"click"],["title","Abrir inscripciones",1,"btn","btn-outline-info","btn-sm",3,"click"],["title","Cerrar inscripciones",1,"btn","btn-outline-warning","btn-sm",3,"click"],["title","Cancelar evento",1,"btn","btn-outline-danger","btn-sm",3,"click"],["containerClass","justify-content-between align-items-center",1,"mb-0",3,"pageChange","pageSizeChange","totalItems","pageSize","currentPage","showPageSizeSelector","pageSizeOptions","showGoToPage","showRangeInfo","showFirstLastButtons","maxVisiblePages","density"]],template:function(t,a){if(t&1){let s=f();i(0,"div",2)(1,"app-confirm-modal",3,0),g("accepted",function(){return _(s),b(a.onConfirmAccepted())})("cancelled",function(){return _(s),b(a.onConfirmCancelled())}),n(),i(3,"nav",4)(4,"ol",5)(5,"li",6)(6,"a",7),c(7,"i",8),i(8,"span",9),l(9,"Inicio"),n()()(),i(10,"li",10),l(11,"Eventos"),n()()(),i(12,"div",11)(13,"div",12)(14,"h1",13),c(15,"i",14),i(16,"span",15),l(17,"Gesti\xF3n de Eventos"),n(),u(18,Me,2,1,"span",16),n(),i(19,"p",17),l(20,"Administra eventos acad\xE9micos y corporativos"),n()(),i(21,"div",18)(22,"button",19),g("click",function(){return _(s),b(a.load())}),u(23,De,1,0,"span",20)(24,Re,1,0,"i",21),i(25,"span",22),l(26,"Actualizar"),n()(),i(27,"a",23),c(28,"i",24),i(29,"span",15),l(30,"Nuevo"),n()()()(),i(31,"div",25)(32,"div",26)(33,"div",27)(34,"div",28)(35,"div",29),c(36,"i",30),i(37,"h6",31),l(38,"Filtros"),n()(),u(39,Oe,2,1,"span",32),n(),i(40,"div",33)(41,"button",34),g("click",function(){return _(s),b(a.toggleFiltersPanel())}),c(42,"i",35),n(),u(43,Ae,2,0,"button",36),n()()(),u(44,Ge,69,13,"div",37),n(),i(45,"div",38)(46,"div",26)(47,"div",27)(48,"div",39)(49,"div",29),c(50,"i",40),i(51,"h6",31),l(52,"Eventos"),n()(),u(53,$e,2,1,"span",41),i(54,"div",42)(55,"label",43),l(56,"Mostrar:"),n(),i(57,"select",44),g("change",function(C){return _(s),b(a.onPageSizeChange(C))}),X(58,je,2,2,"option",45),n()()(),i(59,"div",46)(60,"input",47),g("change",function(){return _(s),b(a.setView("cards"))}),n(),i(61,"label",48),c(62,"i",49),i(63,"span",50),l(64,"Tarjetas"),n()(),i(65,"input",51),g("change",function(){return _(s),b(a.setView("table"))}),n(),i(66,"label",52),c(67,"i",53),i(68,"span",50),l(69,"Tabla"),n()()()()(),i(70,"div",54),u(71,Ye,9,1,"div",55)(72,Je,10,1,"div",56)(73,Xe,5,1,"div",56)(74,Et,2,2),n(),u(75,xt,2,10,"div",57),n()()}t&2&&(r(),p("title",a.confirmTitle())("message",a.confirmMessage())("confirmText","Confirmar"),r(17),v(a.totalItems()>0?18:-1),r(4),p("disabled",a.isLoading()),r(),v(a.isLoading()?23:24),r(8),M("border-primary",a.hasActiveFilters()),r(8),v(a.hasActiveFilters()?39:-1),r(2),p("title",a.showFilters()?"Ocultar filtros":"Mostrar filtros"),A("aria-expanded",a.showFilters()),r(),M("bi-chevron-up",a.showFilters())("bi-chevron-down",!a.showFilters()),r(),v(a.hasActiveFilters()?43:-1),r(),v(a.showFilters()?44:-1),r(9),v(a.totalItems()>0?53:-1),r(4),p("value",a.pageSize()),r(),p("ngForOf",a.pageSizeOptions)("ngForTrackBy",a.trackByPageSize),r(2),p("checked",a.view()==="cards"),r(5),p("checked",a.view()==="table"),r(6),v(a.isLoading()?71:a.errorMessage()?72:a.events().length===0?73:74),r(4),v(a.totalPages()>1?75:-1))},dependencies:[re,ae,ce,se,ye,be,he,Ee,pe,fe,ue,ve,ge,Ce,xe,Te,we],encapsulation:2,changeDetection:0})};export{Le as EventListComponent};
