import{a as hn}from"./chunk-FK6H3RFT.js";import{b as E3,c as x3,f as kN,g as S3}from"./chunk-X5YLR3NI.js";import{a as Ce,b as Xe,c as $y,e as Ke,g as C3,h as ON,i as ie}from"./chunk-ODN5LVDJ.js";var Lt=Ke(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr._registerNode=Tr.Konva=Tr.glob=void 0;var rB=Math.PI/180;function iB(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}Tr.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{};Tr.Konva={_global:Tr.glob,version:"9.3.22",isBrowser:iB(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return Tr.Konva.angleDeg?n*rB:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Tr.Konva.DD.isDragging},isTransforming(){var n;return(n=Tr.Konva.Transformer)===null||n===void 0?void 0:n.isTransforming()},isDragReady(){return!!Tr.Konva.DD.node},releaseCanvasOnDestroy:!0,document:Tr.glob.document,_injectGlobal(n){Tr.glob.Konva=n}};var oB=n=>{Tr.Konva[n.prototype.getClassName()]=n};Tr._registerNode=oB;Tr.Konva._injectGlobal(Tr.Konva)});var Pn=Ke(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.Util=En.Transform=void 0;var EC=Lt(),DC=class n{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){let t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.m[0]*t+this.m[2]*r,o=this.m[1]*t+this.m[3]*r,s=this.m[0]*-r+this.m[2]*t,a=this.m[1]*-r+this.m[3]*t;return this.m[0]=i,this.m[1]=o,this.m[2]=s,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){let r=this.m[0]+this.m[2]*t,i=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=s,this}multiply(e){let t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}invert(){let e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}getMatrix(){return this.m}decompose(){let e=this.m[0],t=this.m[1],r=this.m[2],i=this.m[3],o=this.m[4],s=this.m[5],a=e*i-t*r,l={x:o,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||t!=0){let c=Math.sqrt(e*e+t*t);l.rotation=t>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+t*i)/a,l.skewY=0}else if(r!=0||i!=0){let c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+t*i)/a}return l.rotation=En.Util._getRotation(l.rotation),l}};En.Transform=DC;var sB="[object Array]",aB="[object Number]",lB="[object String]",cB="[object Boolean]",uB=Math.PI/180,dB=180/Math.PI,xC="#",hB="",fB="0",pB="Konva warning: ",fA="Konva error: ",gB="rgb(",SC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},mB=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,av=[],vB=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,60)};En.Util={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===sB},_isNumber(n){return Object.prototype.toString.call(n)===aB&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===lB},_isBoolean(n){return Object.prototype.toString.call(n)===cB},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;let e=n[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){av.push(n),av.length===1&&vB(function(){let e=av;av=[],e.forEach(function(t){t()})})},createCanvasElement(){let n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,e){let t=En.Util.createImageElement();t.onload=function(){e(t)},t.src=n},_rgbToHex(n,e,t){return((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)},_hexToRgb(n){n=n.replace(xC,hB);let e=parseInt(n,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let n=(Math.random()*16777215<<0).toString(16);for(;n.length<6;)n=fB+n;return xC+n},getRGB(n){let e;return n in SC?(e=SC[n],{r:e[0],g:e[1],b:e[2]}):n[0]===xC?this._hexToRgb(n.substring(1)):n.substr(0,4)===gB?(e=mB.exec(n.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",En.Util._namedColorToRBA(n)||En.Util._hex3ColorToRGBA(n)||En.Util._hex4ColorToRGBA(n)||En.Util._hex6ColorToRGBA(n)||En.Util._hex8ColorToRGBA(n)||En.Util._rgbColorToRGBA(n)||En.Util._rgbaColorToRGBA(n)||En.Util._hslColorToRGBA(n)},_namedColorToRBA(n){let e=SC[n.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];let e=n.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];let e=n.split(/ *, */).map((t,r)=>t.slice(-1)==="%"?r===3?parseInt(t)/100:parseInt(t)/100*255:Number(t));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(n){if(n[0]==="#"&&n.length===9)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:parseInt(n.slice(7,9),16)/255}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex4ColorToRGBA(n){if(n[0]==="#"&&n.length===5)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:parseInt(n[4]+n[4],16)/255}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){let[e,...t]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),r=Number(t[0])/360,i=Number(t[1])/100,o=Number(t[2])/100,s,a,l;if(i===0)return l=o*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o<.5?s=o*(1+i):s=o+i-o*i;let c=2*o-s,d=[0,0,0];for(let f=0;f<3;f++)a=r+1/3*-(f-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(s-c)*6*a:2*a<1?l=s:3*a<2?l=c+(s-c)*(2/3-a)*6:l=c,d[f]=l*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(n,e){return!(e.x>n.x+n.width||e.x+e.width<n.x||e.y>n.y+n.height||e.y+e.height<n.y)},cloneObject(n){let e={};for(let t in n)this._isPlainObject(n[t])?e[t]=this.cloneObject(n[t]):this._isArray(n[t])?e[t]=this.cloneArray(n[t]):e[t]=n[t];return e},cloneArray(n){return n.slice(0)},degToRad(n){return n*uB},radToDeg(n){return n*dB},_degToRad(n){return En.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),En.Util.degToRad(n)},_radToDeg(n){return En.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),En.Util.radToDeg(n)},_getRotation(n){return EC.Konva.angleDeg?En.Util.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(fA+n)},error(n){console.error(fA+n)},warn(n){EC.Konva.showWarnings&&console.warn(pB+n)},each(n,e){for(let t in n)e(t,n[t])},_inRange(n,e,t){return e<=n&&n<t},_getProjectionToSegment(n,e,t,r,i,o){let s,a,l,c=(n-t)*(n-t)+(e-r)*(e-r);if(c==0)s=n,a=e,l=(i-t)*(i-t)+(o-r)*(o-r);else{let d=((i-n)*(t-n)+(o-e)*(r-e))/c;d<0?(s=n,a=e,l=(n-i)*(n-i)+(e-o)*(e-o)):d>1?(s=t,a=r,l=(t-i)*(t-i)+(r-o)*(r-o)):(s=n+d*(t-n),a=e+d*(r-e),l=(s-i)*(s-i)+(a-o)*(a-o))}return[s,a,l]},_getProjectionToLine(n,e,t){let r=En.Util.cloneObject(n),i=Number.MAX_VALUE;return e.forEach(function(o,s){if(!t&&s===e.length-1)return;let a=e[(s+1)%e.length],l=En.Util._getProjectionToSegment(o.x,o.y,a.x,a.y,n.x,n.y),c=l[0],d=l[1],f=l[2];f<i&&(r.x=c,r.y=d,i=f)}),r},_prepareArrayForTween(n,e,t){let r=[],i=[];if(n.length>e.length){let s=e;e=n,n=s}for(let s=0;s<n.length;s+=2)r.push({x:n[s],y:n[s+1]});for(let s=0;s<e.length;s+=2)i.push({x:e[s],y:e[s+1]});let o=[];return i.forEach(function(s){let a=En.Util._getProjectionToLine(s,r,t);o.push(a.x),o.push(a.y)}),o},_prepareToStringify(n){let e;n.visitedByCircularReferenceRemoval=!0;for(let t in n)if(n.hasOwnProperty(t)&&n[t]&&typeof n[t]=="object"){if(e=Object.getOwnPropertyDescriptor(n,t),n[t].visitedByCircularReferenceRemoval||En.Util._isElement(n[t]))if(e.configurable)delete n[t];else return null;else if(En.Util._prepareToStringify(n[t])===null)if(e.configurable)delete n[t];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,e){for(let t in e)n[t]=e[t];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){EC.Konva.releaseCanvasOnDestroy&&n.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(n,e,t,r){let i=0,o=0,s=0,a=0;typeof r=="number"?i=o=s=a=Math.min(r,e/2,t/2):(i=Math.min(r[0]||0,e/2,t/2),o=Math.min(r[1]||0,e/2,t/2),a=Math.min(r[2]||0,e/2,t/2),s=Math.min(r[3]||0,e/2,t/2)),n.moveTo(i,0),n.lineTo(e-o,0),n.arc(e-o,o,o,Math.PI*3/2,0,!1),n.lineTo(e,t-a),n.arc(e-a,t-a,a,0,Math.PI/2,!1),n.lineTo(s,t),n.arc(s,t-s,s,Math.PI/2,Math.PI,!1),n.lineTo(0,i),n.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}}});var MC=Ke(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.HitContext=pl.SceneContext=pl.Context=void 0;var mA=Pn(),yB=Lt();function bB(n){let e=[],t=n.length,r=mA.Util;for(let i=0;i<t;i++){let o=n[i];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),e.push(o)}return e}var pA=",",_B="(",wB=")",CB="([",EB="])",xB=";",SB="()",DB="=",gA=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],IB=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],AB=100,kd=class{constructor(e){this.canvas=e,yB.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let r=this.traceArr,i=r.length,o="",s,a,l,c;for(s=0;s<i;s++)a=r[s],l=a.method,l?(c=a.args,o+=l,e?o+=SB:mA.Util._isArray(c[0])?o+=CB+c.join(pA)+EB:(t&&(c=c.map(d=>typeof d=="number"?Math.floor(d):d)),o+=_B+c.join(pA)+wB)):(o+=a.property,e||(o+=DB+a.val)),o+=xB;return o}clearTrace(){this.traceArr=[]}_trace(e){let t=this.traceArr,r;t.push(e),r=t.length,r>=AB&&t.shift()}reset(){let e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){let t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){let t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){let t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){let t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,i,o,s){this._context.arc(e,t,r,i,o,s)}arcTo(e,t,r,i,o){this._context.arcTo(e,t,r,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,i,o,s){this._context.bezierCurveTo(e,t,r,i,o,s)}clearRect(e,t,r,i){this._context.clearRect(e,t,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){let r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,i){return this._context.createLinearGradient(e,t,r,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,i,o,s){return this._context.createRadialGradient(e,t,r,i,o,s)}drawImage(e,t,r,i,o,s,a,l,c){let d=arguments,f=this._context;d.length===3?f.drawImage(e,t,r):d.length===5?f.drawImage(e,t,r,i,o):d.length===9&&f.drawImage(e,t,r,i,o,s,a,l,c)}ellipse(e,t,r,i,o,s,a,l){this._context.ellipse(e,t,r,i,o,s,a,l)}isPointInPath(e,t,r,i){return r?this._context.isPointInPath(r,e,t,i):this._context.isPointInPath(e,t,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,i){this._context.fillRect(e,t,r,i)}strokeRect(e,t,r,i){this._context.strokeRect(e,t,r,i)}fillText(e,t,r,i){i?this._context.fillText(e,t,r,i):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,i){return this._context.getImageData(e,t,r,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,i){this._context.rect(e,t,r,i)}roundRect(e,t,r,i,o){this._context.roundRect(e,t,r,i,o)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,i){this._context.quadraticCurveTo(e,t,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,i,o,s){this._context.setTransform(e,t,r,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,i){this._context.strokeText(e,t,r,i)}transform(e,t,r,i,o,s){this._context.transform(e,t,r,i,o,s)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e=this,t=gA.length,r=this.setAttr,i,o,s=function(a){let l=e[a],c;e[a]=function(){return o=bB(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:o}),c}};for(i=0;i<t;i++)s(gA[i]);e.setAttr=function(){r.apply(e,arguments);let a=arguments[0],l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){let t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}};pl.Context=kd;IB.forEach(function(n){Object.defineProperty(kd.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});var IC=class extends kd{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){let t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){let t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){let t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){let t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}let i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}let o=e.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(e);return}let s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,r.x,r.y);if(i){for(let s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){let t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,i;let o=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),d=l.x*c,f=l.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(f))),this.setAttr("shadowOffsetX",a.x*d),this.setAttr("shadowOffsetY",a.y*f)}};pl.SceneContext=IC;var AC=class extends kd{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let t=e.getStrokeScaleEnabled();if(!t){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);let r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}};pl.HitContext=AC});var up=Ke(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.HitCanvas=gl.SceneCanvas=gl.Canvas=void 0;var cv=Pn(),vA=MC(),yA=Lt(),lv;function MB(){if(lv)return lv;let n=cv.Util.createCanvasElement(),e=n.getContext("2d");return lv=function(){let t=yA.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}(),cv.Util.releaseCanvas(n),lv}var cp=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;let r=(e||{}).pixelRatio||yA.Konva.pixelRatio||MB();this.pixelRatio=r,this._canvas=cv.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){let t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";let t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(i){return cv.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};gl.Canvas=cp;var TC=class extends cp{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new vA.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};gl.SceneCanvas=TC;var NC=class extends cp{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new vA.HitContext(this),this.setSize(e.width,e.height)}};gl.HitCanvas=NC});var uv=Ke(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.DD=void 0;var dp=Lt(),TB=Pn();br.DD={get isDragging(){let n=!1;return br.DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return br.DD._dragElements.forEach(e=>{n=e.node}),n},_dragElements:new Map,_drag(n){let e=[];br.DD._dragElements.forEach((t,r)=>{let{node:i}=t,o=i.getStage();o.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=TB.Util._getFirstPointerId(n));let s=o._changedPointerPositions.find(a=>a.id===t.pointerId);if(s){if(t.dragStatus!=="dragging"){let a=i.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<a||(i.startDrag({evt:n}),!i.isDragging()))return}i._setDragPosition(n,t),e.push(i)}}),e.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){let e=[];br.DD._dragElements.forEach(t=>{let{node:r}=t,i=r.getStage();if(n&&i.setPointersPositions(n),!i._changedPointerPositions.find(a=>a.id===t.pointerId))return;(t.dragStatus==="dragging"||t.dragStatus==="stopped")&&(br.DD.justDragged=!0,dp.Konva._mouseListenClick=!1,dp.Konva._touchListenClick=!1,dp.Konva._pointerListenClick=!1,t.dragStatus="stopped");let s=t.node.getLayer()||t.node instanceof dp.Konva.Stage&&t.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(t=>{t.draw()})},_endDragAfter(n){br.DD._dragElements.forEach((e,t)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:n},!0),e.dragStatus!=="dragging"&&br.DD._dragElements.delete(t)})}};dp.Konva.isBrowser&&(window.addEventListener("mouseup",br.DD._endDragBefore,!0),window.addEventListener("touchend",br.DD._endDragBefore,!0),window.addEventListener("touchcancel",br.DD._endDragBefore,!0),window.addEventListener("mousemove",br.DD._drag),window.addEventListener("touchmove",br.DD._drag),window.addEventListener("mouseup",br.DD._endDragAfter,!1),window.addEventListener("touchend",br.DD._endDragAfter,!1),window.addEventListener("touchcancel",br.DD._endDragAfter,!1))});var Ht=Ke(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.RGBComponent=NB;Ri.alphaComponent=PB;Ri.getNumberValidator=OB;Ri.getNumberOrArrayOfNumbersValidator=kB;Ri.getNumberOrAutoValidator=RB;Ri.getStringValidator=LB;Ri.getStringOrGradientValidator=FB;Ri.getFunctionValidator=jB;Ri.getNumberArrayValidator=BB;Ri.getBooleanValidator=VB;Ri.getComponentValidator=UB;var ha=Lt(),Vn=Pn();function fa(n){return Vn.Util._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||Vn.Util._isBoolean(n)?n:Object.prototype.toString.call(n)}function NB(n){return n>255?255:n<0?0:Math.round(n)}function PB(n){return n>1?1:n<1e-4?1e-4:n}function OB(){if(ha.Konva.isUnminified)return function(n,e){return Vn.Util._isNumber(n)||Vn.Util.warn(fa(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}}function kB(n){if(ha.Konva.isUnminified)return function(e,t){let r=Vn.Util._isNumber(e),i=Vn.Util._isArray(e)&&e.length==n;return!r&&!i&&Vn.Util.warn(fa(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}}function RB(){if(ha.Konva.isUnminified)return function(n,e){return Vn.Util._isNumber(n)||n==="auto"||Vn.Util.warn(fa(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}}function LB(){if(ha.Konva.isUnminified)return function(n,e){return Vn.Util._isString(n)||Vn.Util.warn(fa(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}}function FB(){if(ha.Konva.isUnminified)return function(n,e){let t=Vn.Util._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||Vn.Util.warn(fa(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}}function jB(){if(ha.Konva.isUnminified)return function(n,e){return Vn.Util._isFunction(n)||Vn.Util.warn(fa(n)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),n}}function BB(){if(ha.Konva.isUnminified)return function(n,e){let t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&n instanceof t||(Vn.Util._isArray(n)?n.forEach(function(r){Vn.Util._isNumber(r)||Vn.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Vn.Util.warn(fa(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),n}}function VB(){if(ha.Konva.isUnminified)return function(n,e){return n===!0||n===!1||Vn.Util.warn(fa(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}}function UB(n){if(ha.Konva.isUnminified)return function(e,t){return e==null||Vn.Util.isObject(e)||Vn.Util.warn(fa(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}}});var Bt=Ke(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.Factory=void 0;var Li=Pn(),HB=Ht(),hp="get",fp="set";Bo.Factory={addGetterSetter(n,e,t,r,i){Bo.Factory.addGetter(n,e,t),Bo.Factory.addSetter(n,e,r,i),Bo.Factory.addOverloadedGetterSetter(n,e)},addGetter(n,e,t){let r=hp+Li.Util._capitalize(e);n.prototype[r]=n.prototype[r]||function(){let i=this.attrs[e];return i===void 0?t:i}},addSetter(n,e,t,r){let i=fp+Li.Util._capitalize(e);n.prototype[i]||Bo.Factory.overWriteSetter(n,e,t,r)},overWriteSetter(n,e,t,r){let i=fp+Li.Util._capitalize(e);n.prototype[i]=function(o){return t&&o!==void 0&&o!==null&&(o=t.call(this,o,e)),this._setAttr(e,o),r&&r.call(this),this}},addComponentsGetterSetter(n,e,t,r,i){let o=t.length,s=Li.Util._capitalize,a=hp+s(e),l=fp+s(e);n.prototype[a]=function(){let d={};for(let f=0;f<o;f++){let m=t[f];d[m]=this.getAttr(e+s(m))}return d};let c=(0,HB.getComponentValidator)(t);n.prototype[l]=function(d){let f=this.attrs[e];r&&(d=r.call(this,d,e)),c&&c.call(this,d,e);for(let m in d)d.hasOwnProperty(m)&&this._setAttr(e+s(m),d[m]);return d||t.forEach(m=>{this._setAttr(e+s(m),void 0)}),this._fireChangeEvent(e,f,d),i&&i.call(this),this},Bo.Factory.addOverloadedGetterSetter(n,e)},addOverloadedGetterSetter(n,e){let t=Li.Util._capitalize(e),r=fp+t,i=hp+t;n.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(n,e,t,r){Li.Util.error("Adding deprecated "+e);let i=hp+Li.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[i]=function(){Li.Util.error(o);let s=this.attrs[e];return s===void 0?t:s},Bo.Factory.addSetter(n,e,r,function(){Li.Util.error(o)}),Bo.Factory.addOverloadedGetterSetter(n,e)},backCompat(n,e){Li.Util.each(e,function(t,r){let i=n.prototype[r],o=hp+Li.Util._capitalize(t),s=fp+Li.Util._capitalize(t);function a(){i.apply(this,arguments),Li.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}n.prototype[t]=a,n.prototype[o]=a,n.prototype[s]=a})},afterSetFilter(){this._filterUpToDate=!1}}});var Un=Ke(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.Node=void 0;var Rd=up(),no=uv(),pp=Bt(),ml=Lt(),$t=Pn(),Jn=Ht(),hv="absoluteOpacity",dv="allEventListeners",pa="absoluteTransform",bA="absoluteScale",Sc="canvas",zB="Change",qB="children",GB="konva",PC="listening",$B="mouseenter",WB="mouseleave",YB="pointerenter",KB="pointerleave",XB="touchenter",JB="touchleave",_A="set",wA="Shape",fv=" ",CA="stage",vl="transform",ZB="Stage",OC="visible",QB=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(fv),eV=1,wt=class n{constructor(e){this._id=eV++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===vl||e===pa)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){let r=this._cache.get(e);return(r===void 0||(e===vl||e===pa)&&r.dirty===!0)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){let i=t.map(o=>o+"Change.konva").join(fv);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Sc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===pa&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Sc)){let{scene:e,filter:t,hit:r,buffer:i}=this._cache.get(Sc);$t.Util.releaseCanvas(e,t,r,i),this._cache.delete(Sc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){let t=e||{},r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(t.width||r.width),o=Math.ceil(t.height||r.height),s=t.pixelRatio,a=t.x===void 0?Math.floor(r.x):t.x,l=t.y===void 0?Math.floor(r.y):t.y,c=t.offset||0,d=t.drawBorder||!1,f=t.hitCanvasPixelRatio||1;if(!i||!o){$t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}let m=Math.abs(Math.round(r.x)-a)>.5?1:0,p=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+m,o+=c*2+p,a-=c,l-=c;let y=new Rd.SceneCanvas({pixelRatio:s,width:i,height:o}),_=new Rd.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),C=new Rd.HitCanvas({pixelRatio:f,width:i,height:o}),w=y.getContext(),S=C.getContext(),O=new Rd.SceneCanvas({width:y.width/y.pixelRatio+Math.abs(a),height:y.height/y.pixelRatio+Math.abs(l),pixelRatio:y.pixelRatio}),k=O.getContext();return C.isCache=!0,y.isCache=!0,this._cache.delete(Sc),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),w.save(),S.save(),k.save(),w.translate(-a,-l),S.translate(-a,-l),k.translate(-a,-l),O.x=a,O.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(hv),this._clearSelfAndDescendantCache(bA),this.drawScene(y,this,O),this.drawHit(C,this),this._isUnderCache=!1,w.restore(),S.restore(),d&&(w.save(),w.beginPath(),w.rect(0,0,i,o),w.closePath(),w.setAttr("strokeStyle","red"),w.setAttr("lineWidth",5),w.stroke(),w.restore()),this._cache.set(Sc,{scene:y,filter:_,hit:C,buffer:O,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Sc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){let r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,o=1/0,s=-1/0,a=-1/0,l=this.getAbsoluteTransform(t);return r.forEach(function(c){let d=l.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let t=this._getCanvasCache();e.translate(t.x,t.y);let r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){let t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),t=this._getCanvasCache(),r=t.scene,i=t.filter,o=i.getContext(),s,a,l,c;if(e){if(!this._filterUpToDate){let d=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){$t.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),o.putImageData(a,0,0)}}catch(f){$t.Util.error("Unable to apply filter. "+f.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,t){if(this._cache&&this._cache.delete(dv),arguments.length===3)return this._delegate.apply(this,arguments);let r=e.split(fv);for(let i=0;i<r.length;i++){let s=r[i].split("."),a=s[0],l=s[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:t})}return this}off(e,t){let r=(e||"").split(fv),i=r.length,o,s,a,l,c,d;if(this._cache&&this._cache.delete(dv),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=r[o],l=a.split("."),c=l[0],d=l[1],c)this.eventListeners[c]&&this._off(c,d,t);else for(s in this.eventListeners)this._off(s,d,t);return this}dispatchEvent(e){let t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){let i=this;this.on(e,function(o){let s=o.target.findAncestors(t,!0,i);for(let a=0;a<s.length;a++)o=$t.Util.cloneObject(o),o.currentTarget=s[a],r.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),no.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(pa),this._clearSelfAndDescendantCache(hv),this._clearSelfAndDescendantCache(bA),this._clearSelfAndDescendantCache(CA),this._clearSelfAndDescendantCache(OC),this._clearSelfAndDescendantCache(PC)}_remove(){this._clearCaches();let e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){let t="get"+$t.Util._capitalize(e);return $t.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,r;if(!e)return this;for(t in e)t!==qB&&(r=_A+$t.Util._capitalize(t),$t.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(PC,this._isListening)}_isListening(e){if(!this.listening())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(OC,this._isVisible)}_isVisible(e){if(!this.visible())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);let r=this.getLayer(),i=!1;no.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});let o=!t&&!ml.Konva.hitOnDragEnabled&&(i||ml.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),t=this,r=0,i,o,s,a;function l(d){for(i=[],o=d.length,s=0;s<o;s++)a=d[s],r++,a.nodeType!==wA&&(i=i.concat(a.getChildren().slice())),a._id===t._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&l(i)}let c=this.getStage();return t.nodeType!==ZB&&c&&l(c.getChildren()),r}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(vl),this._clearSelfAndDescendantCache(pa)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){let e=this.getStage();if(!e)return null;let t=e.getPointerPosition();if(!t)return null;let r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);let i=this.getAbsoluteTransform(e).getMatrix(),o=new $t.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){let s=this._clearTransform(),{x:t,y:r}=s,i=$y(s,["x","y"]);this.attrs.x=t,this.attrs.y=r,this._clearCache(vl);let o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(vl),this._clearSelfAndDescendantCache(pa),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){let e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,r=e.y,i=this.x(),o=this.y();return t!==void 0&&(i+=t),r!==void 0&&(o+=r),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,t){let r=[],i=this.getParent(),o,s;if(!(t&&t._id===this._id)){for(r.unshift(this);i&&(!t||i._id!==t._id);)r.unshift(i),i=i.parent;for(o=r.length,s=0;s<o;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return $t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return $t.Util.warn("Node has no parent. moveUp function is ignored."),!1;let e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return $t.Util.warn("Node has no parent. moveDown function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return $t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return $t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&$t.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");let t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(hv,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),t,r,i,o,s,a={attrs:{},className:this.getClassName()};for(t in e)r=e[t],s=$t.Util.isObject(r)&&!$t.Util._isPlainObject(r)&&!$t.Util._isArray(r),!s&&(i=typeof this[t]=="function"&&this[t],delete e[t],o=i?i.call(this):null,e[t]=r,o!==r&&(a.attrs[t]=r));return $t.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){let i=[];t&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===r)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let t=e.replace(/ /g,"").split(","),r=t.length,i,o;for(i=0;i<r;i++)if(o=t[i],$t.Util.isValidSelector(o)||($t.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),$t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),$t.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){let e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(CA,this._getStage)}_getStage(){let e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(pa,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new $t.Transform,this._eachAncestorReverse(function(r){let i=r.transformsEnabled();i==="all"?t.multiply(r.getTransform()):i==="position"&&t.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),t;{t=this._cache.get(pa)||new $t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();let r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){let i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(i-s,o-a)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();let i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(vl,this._getTransform)}_getTransform(){var e,t;let r=this._cache.get(vl)||new $t.Transform;r.reset();let i=this.x(),o=this.y(),s=ml.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,f=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(i!==0||o!==0)&&r.translate(i,o),s!==0&&r.rotate(s),(c!==0||d!==0)&&r.skew(c,d),(a!==1||l!==1)&&r.scale(a,l),(f!==0||m!==0)&&r.translate(-1*f,-1*m),r.dirty=!1,r}clone(e){let t=$t.Util.cloneObject(this.attrs),r,i,o,s,a;for(r in e)t[r]=e[r];let l=new this.constructor(t);for(r in this.eventListeners)for(i=this.eventListeners[r],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(GB)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};let t=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(t.x),o=e.y!==void 0?e.y:Math.floor(t.y),s=e.pixelRatio||1,a=new Rd.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:s}),l=a.getContext(),c=new Rd.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};let t=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,$t.Util._urlToImage(this.toDataURL(e),function(o){t(o),i?.(o)})}catch(i){r(i)}})}toBlob(e){return new Promise((t,r)=>{try{let i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{t(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ml.Konva.dragDistance}_off(e,t,r){let i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||t==="konva")&&(!t||s===t)&&(!r||r===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,t,r){this._fire(e+zB,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){let t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;let t=this.name();return t?(t||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){let t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){let r=this[_A+$t.Util._capitalize(e)];return $t.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(ml.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){let r=this.attrs[e];r===t&&!$t.Util.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,t,r){t&&this.nodeType===wA&&(t.target=this);let i=[$B,WB,YB,KB,XB,JB];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,t);let s=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,i;let o=(t=this._cache.get(dv))!==null&&t!==void 0?t:{},s=o?.[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){let l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];s.push(...l),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(dv,o)}return s}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;let r=this._getProtoListeners(e);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,t);let i=this.eventListeners[e];if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){let t=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;let o=r._getPointerById(t)||r._changedPointerPositions[0]||i;no.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){no.DD._dragElements.has(this._id)||this._createDragElement(e);let r=no.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){let r=this.getStage()._getPointerById(t.pointerId);if(!r)return;let i={x:r.x-t.offset.x,y:r.y-t.offset.y},o=this.dragBoundFunc();if(o!==void 0){let s=o.call(this,i,e);s?i=s:$t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){let t=no.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),no.DD._endDragBefore(e),no.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=no.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||ml.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;no.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;let t=no.DD._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",i=t&&t.dragStatus==="ready";r?this.stopDrag():i&&no.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let t=this.getStage();if(!t)return!1;let r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return $t.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return $t.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let r=n.prototype.getClassName.call(e),i=e.children,o,s,a;t&&(e.attrs.container=t),ml.Konva[r]||($t.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");let l=ml.Konva[r];if(o=new l(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(n._createNode(i[a]));return o}};pv.Node=wt;wt.prototype.nodeType="Node";wt.prototype._attrsAffectingSize=[];wt.prototype.eventListeners={};wt.prototype.on.call(wt.prototype,QB,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(vl),this._clearSelfAndDescendantCache(pa)});wt.prototype.on.call(wt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(OC)});wt.prototype.on.call(wt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(PC)});wt.prototype.on.call(wt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(hv)});var yn=pp.Factory.addGetterSetter;yn(wt,"zIndex");yn(wt,"absolutePosition");yn(wt,"position");yn(wt,"x",0,(0,Jn.getNumberValidator)());yn(wt,"y",0,(0,Jn.getNumberValidator)());yn(wt,"globalCompositeOperation","source-over",(0,Jn.getStringValidator)());yn(wt,"opacity",1,(0,Jn.getNumberValidator)());yn(wt,"name","",(0,Jn.getStringValidator)());yn(wt,"id","",(0,Jn.getStringValidator)());yn(wt,"rotation",0,(0,Jn.getNumberValidator)());pp.Factory.addComponentsGetterSetter(wt,"scale",["x","y"]);yn(wt,"scaleX",1,(0,Jn.getNumberValidator)());yn(wt,"scaleY",1,(0,Jn.getNumberValidator)());pp.Factory.addComponentsGetterSetter(wt,"skew",["x","y"]);yn(wt,"skewX",0,(0,Jn.getNumberValidator)());yn(wt,"skewY",0,(0,Jn.getNumberValidator)());pp.Factory.addComponentsGetterSetter(wt,"offset",["x","y"]);yn(wt,"offsetX",0,(0,Jn.getNumberValidator)());yn(wt,"offsetY",0,(0,Jn.getNumberValidator)());yn(wt,"dragDistance",void 0,(0,Jn.getNumberValidator)());yn(wt,"width",0,(0,Jn.getNumberValidator)());yn(wt,"height",0,(0,Jn.getNumberValidator)());yn(wt,"listening",!0,(0,Jn.getBooleanValidator)());yn(wt,"preventDefault",!0,(0,Jn.getBooleanValidator)());yn(wt,"filters",void 0,function(n){return this._filterUpToDate=!1,n});yn(wt,"visible",!0,(0,Jn.getBooleanValidator)());yn(wt,"transformsEnabled","all",(0,Jn.getStringValidator)());yn(wt,"size");yn(wt,"dragBoundFunc");yn(wt,"draggable",!1,(0,Jn.getBooleanValidator)());pp.Factory.backCompat(wt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})});var gp=Ke(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.Container=void 0;var Ld=Bt(),kC=Un(),gv=Ht(),ga=class extends kC.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){let t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}let t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){let t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){let r=[];return this._descendants(i=>{let o=i._isMatch(e);return o&&r.push(i),!!(o&&t)}),r}_descendants(e){let t=!1,r=this.getChildren();for(let i of r){if(t=e(i),t)return!0;if(i.hasChildren()&&(t=i._descendants(e),t))return!0}return!1}toObject(){let e=kC.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){let t=kC.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){let t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=o&&o.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();let d=this.getAbsoluteTransform(t).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,t,r);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;let r=this.getLayer(),i=e||r&&r.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache();if(s&&s.hit){o.save();let l=this.getAbsoluteTransform(t).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,r,i){var o;let s=t&&t.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),d=typeof a=="number"&&typeof l=="number"||c,f=r===this;if(d){s.save();let p=this.getAbsoluteTransform(r),y=p.getMatrix();s.transform(y[0],y[1],y[2],y[3],y[4],y[5]),s.beginPath();let _;if(c)_=c.call(this,s,this);else{let C=this.clipX(),w=this.clipY();s.rect(C||0,w||0,a,l)}s.clip.apply(s,_),y=p.copy().invert().getMatrix(),s.transform(y[0],y[1],y[2],y[3],y[4],y[5])}let m=!f&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(p){p[e](t,r,i)}),m&&s.restore(),d&&s.restore()}getClientRect(e={}){var t;let r=e.skipTransform,i=e.relativeTo,o,s,a,l,c={x:1/0,y:1/0,width:0,height:0},d=this;(t=this.children)===null||t===void 0||t.forEach(function(p){if(!p.visible())return;let y=p.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(o===void 0?(o=y.x,s=y.y,a=y.x+y.width,l=y.y+y.height):(o=Math.min(o,y.x),s=Math.min(s,y.y),a=Math.max(a,y.x+y.width),l=Math.max(l,y.y+y.height)))});let f=this.find("Shape"),m=!1;for(let p=0;p<f.length;p++)if(f[p]._isVisible(this)){m=!0;break}return m&&o!==void 0?c={x:o,y:s,width:a-o,height:l-s}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}};mv.Container=ga;Ld.Factory.addComponentsGetterSetter(ga,"clip",["x","y","width","height"]);Ld.Factory.addGetterSetter(ga,"clipX",void 0,(0,gv.getNumberValidator)());Ld.Factory.addGetterSetter(ga,"clipY",void 0,(0,gv.getNumberValidator)());Ld.Factory.addGetterSetter(ga,"clipWidth",void 0,(0,gv.getNumberValidator)());Ld.Factory.addGetterSetter(ga,"clipHeight",void 0,(0,gv.getNumberValidator)());Ld.Factory.addGetterSetter(ga,"clipFunc")});var LC=Ke(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.getCapturedShape=nV;Dc.createEvent=RC;Dc.hasPointerCapture=rV;Dc.setPointerCapture=iV;Dc.releaseCapture=xA;var tV=Lt(),mp=new Map,EA=tV.Konva._global.PointerEvent!==void 0;function nV(n){return mp.get(n)}function RC(n){return{evt:n,pointerId:n.pointerId}}function rV(n,e){return mp.get(n)===e}function iV(n,e){xA(n),e.getStage()&&(mp.set(n,e),EA&&e._fire("gotpointercapture",RC(new PointerEvent("gotpointercapture"))))}function xA(n,e){let t=mp.get(n);if(!t)return;let r=t.getStage();r&&r.content,mp.delete(n),EA&&t._fire("lostpointercapture",RC(new PointerEvent("lostpointercapture")))}});var jA=Ke(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.Stage=Es.stages=void 0;var Cs=Pn(),oV=Bt(),SA=gp(),Zn=Lt(),FC=up(),jC=uv(),sV=Lt(),ma=LC(),aV="Stage",lV="string",DA="px",cV="mouseout",AA="mouseleave",MA="mouseover",TA="mouseenter",NA="mousemove",PA="mousedown",OA="mouseup",vp="pointermove",yp="pointerdown",jd="pointerup",bp="pointercancel",uV="lostpointercapture",vv="pointerout",_p="pointerleave",yv="pointerover",bv="pointerenter",VC="contextmenu",kA="touchstart",RA="touchend",LA="touchmove",FA="touchcancel",UC="wheel",dV=5,hV=[[TA,"_pointerenter"],[PA,"_pointerdown"],[NA,"_pointermove"],[OA,"_pointerup"],[AA,"_pointerleave"],[kA,"_pointerdown"],[LA,"_pointermove"],[RA,"_pointerup"],[FA,"_pointercancel"],[MA,"_pointerover"],[UC,"_wheel"],[VC,"_contextmenu"],[yp,"_pointerdown"],[vp,"_pointermove"],[jd,"_pointerup"],[bp,"_pointercancel"],[_p,"_pointerleave"],[uV,"_lostpointercapture"]],BC={mouse:{[vv]:cV,[_p]:AA,[yv]:MA,[bv]:TA,[vp]:NA,[yp]:PA,[jd]:OA,[bp]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[vv]:"touchout",[_p]:"touchleave",[yv]:"touchover",[bv]:"touchenter",[vp]:LA,[yp]:kA,[jd]:RA,[bp]:FA,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[vv]:vv,[_p]:_p,[yv]:yv,[bv]:bv,[vp]:vp,[yp]:yp,[jd]:jd,[bp]:bp,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},wp=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",Fd=n=>{let e=wp(n);if(e==="pointer")return Zn.Konva.pointerEventsEnabled&&BC.pointer;if(e==="touch")return BC.touch;if(e==="mouse")return BC.mouse};function IA(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&Cs.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}var fV="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";Es.stages=[];var Bd=class extends SA.Container{constructor(e){super(IA(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Es.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{IA(this.attrs)}),this._checkVisibility()}_validateAdd(e){let t=e.getType()==="Layer",r=e.getType()==="FastLayer";t||r||Cs.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===lV){let t;if(e.charAt(0)==="."){let r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?t=e:t=e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let e=this.children,t=e.length;for(let r=0;r<t;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),SA.Container.prototype.clone.call(this,e)}destroy(){super.destroy();let e=this.content;e&&Cs.Util._isInDocument(e)&&this.container().removeChild(e);let t=Es.stages.indexOf(this);return t>-1&&Es.stages.splice(t,1),Cs.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Cs.Util.warn(fV),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();let t=new FC.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=t.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(o){if(!o.isVisible())return;let s=o._toKonvaCanvas(e);r.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}),t}getIntersection(e){if(!e)return null;let t=this.children,r=t.length,i=r-1;for(let o=i;o>=0;o--){let s=t[o].getIntersection(e);if(s)return s}return null}_resizeDOM(){let e=this.width(),t=this.height();this.content&&(this.content.style.width=e+DA,this.content.style.height=t+DA),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(r=>{r.setSize({width:e,height:t}),r.draw()})}add(e,...t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);let r=this.children.length;return r>dV&&Cs.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Zn.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return ma.hasPointerCapture(e,this)}setPointerCapture(e){ma.setPointerCapture(e,this)}releaseCapture(e){ma.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){Zn.Konva.isBrowser&&hV.forEach(([e,t])=>{this.content.addEventListener(e,r=>{this[t](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let t=Fd(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let t=Fd(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){let t=Fd(e.type),r=wp(e.type);if(!t)return;this.setPointersPositions(e);let i=this._getTargetShape(r),o=!(Zn.Konva.isDragging()||Zn.Konva.isTransforming())||Zn.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(t.pointerout,{evt:e}),i._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):o&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){let t=Fd(e.type),r=wp(e.type);if(!t)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(o=>{let s=this.getIntersection(o);if(jC.DD.justDragged=!1,Zn.Konva["_"+r+"ListenClick"]=!0,!s||!s.isListening()){this[r+"ClickStartShape"]=void 0;return}Zn.Konva.capturePointerEventsEnabled&&s.setPointerCapture(o.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(t.pointerdown,{evt:e,pointerId:o.id}),i=!0;let a=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){let t=Fd(e.type),r=wp(e.type);if(!t||(Zn.Konva.isDragging()&&jC.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!(Zn.Konva.isDragging()||Zn.Konva.isTransforming())||Zn.Konva.hitOnDragEnabled)))return;let o={},s=!1,a=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{let c=ma.getCapturedShape(l.id)||this.getIntersection(l),d=l.id,f={evt:e,pointerId:d},m=a!==c;if(m&&a&&(a._fireAndBubble(t.pointerout,Ce({},f),c),a._fireAndBubble(t.pointerleave,Ce({},f),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(s=!0,m&&(c._fireAndBubble(t.pointerover,Ce({},f),a),c._fireAndBubble(t.pointerenter,Ce({},f),a),this[r+"targetShape"]=c),c._fireAndBubble(t.pointermove,Ce({},f))):a&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),s||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let t=Fd(e.type),r=wp(e.type);if(!t)return;this.setPointersPositions(e);let i=this[r+"ClickStartShape"],o=this[r+"ClickEndShape"],s={},a=!1;this._changedPointerPositions.forEach(l=>{let c=ma.getCapturedShape(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),s[c._id])return;s[c._id]=!0}let d=l.id,f={evt:e,pointerId:d},m=!1;Zn.Konva["_"+r+"InDblClickWindow"]?(m=!0,clearTimeout(this[r+"DblTimeout"])):jC.DD.justDragged||(Zn.Konva["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Zn.Konva["_"+r+"InDblClickWindow"]=!1},Zn.Konva.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(t.pointerup,Ce({},f)),Zn.Konva["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(t.pointerclick,Ce({},f)),m&&o&&o===c&&c._fireAndBubble(t.pointerdblclick,Ce({},f)))):(this[r+"ClickEndShape"]=null,Zn.Konva["_"+r+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),m&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),a||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Zn.Konva["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(VC,{evt:e}):this._fire(VC,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);let t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(UC,{evt:e}):this._fire(UC,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let t=ma.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(jd,ma.createEvent(e)),ma.releaseCapture(e.pointerId)}_lostpointercapture(e){ma.releaseCapture(e.pointerId)}setPointersPositions(e){let t=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})})):(r=(e.clientX-t.left)/t.scaleX,i=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:Cs.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:Cs.Util._getFirstPointerId(e)}])}_setPointerPosition(e){Cs.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};let e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new FC.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new FC.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!Zn.Konva.isBrowser)return;let e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return Cs.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Es.Stage=Bd;Bd.prototype.nodeType=aV;(0,sV._registerNode)(Bd);oV.Factory.addGetterSetter(Bd,"container");Zn.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{Es.stages.forEach(n=>{n.batchDraw()})})});var _r=Ke(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.Shape=va.shapes=void 0;var pV=Lt(),xs=Pn(),Qe=Bt(),BA=Un(),lr=Ht(),gV=Lt(),HC=LC(),VA="hasShadow",UA="shadowRGBA",HA="patternImage",zA="linearGradient",qA="radialGradient",_v;function zC(){return _v||(_v=xs.Util.createCanvasElement().getContext("2d"),_v)}va.shapes={};function mV(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function vV(n){n.stroke()}function yV(n){let e=this.attrs.fillRule;e?n.fill(e):n.fill()}function bV(n){n.stroke()}function _V(){this._clearCache(VA)}function wV(){this._clearCache(UA)}function CV(){this._clearCache(HA)}function EV(){this._clearCache(zA)}function xV(){this._clearCache(qA)}var Re=class extends BA.Node{constructor(e){super(e);let t;for(;t=xs.Util.getRandomColor(),!(t&&!(t in va.shapes)););this.colorKey=t,va.shapes[t]=this}getContext(){return xs.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return xs.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(VA,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(HA,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){let t=zC().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){let r=new xs.Transform;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(pV.Konva.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let i=r.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);t.setTransform(o)}return t}}_getLinearGradient(){return this._getCache(zA,this.__getLinearGradient)}__getLinearGradient(){let e=this.fillLinearGradientColorStops();if(e){let t=zC(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(r.x,r.y,i.x,i.y);for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}_getRadialGradient(){return this._getCache(qA,this.__getRadialGradient)}__getRadialGradient(){let e=this.fillRadialGradientColorStops();if(e){let t=zC(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}getShadowRGBA(){return this._getCache(UA,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;let e=xs.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){let t=this.getStage();if(!t)return!1;let r=t.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return BA.Node.prototype.destroy.call(this),delete va.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!((t=this.attrs.perfectDrawEnabled)!==null&&t!==void 0?t:!0))return!1;let i=e||this.hasFill(),o=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&o&&s)return!0;let a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&o&&a&&l)}setStrokeHitEnabled(e){xs.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){let e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,r=this.getParent();for(;r;){if(r.isCached()){t=!0;break}r=r.getParent()}let i=e.skipTransform,o=e.relativeTo||t&&this.getStage()||void 0,s=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=s.width+l,d=s.height+l,f=!e.skipShadow&&this.hasShadow(),m=f?this.shadowOffsetX():0,p=f?this.shadowOffsetY():0,y=c+Math.abs(m),_=d+Math.abs(p),C=f&&this.shadowBlur()||0,w=y+C*2,S=_+C*2,O={width:w,height:S,x:-(l/2+C)+Math.min(m,0)+s.x,y:-(l/2+C)+Math.min(p,0)+s.y};return i?O:this._transformedRect(O,o)}drawScene(e,t,r){let i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),d,f=!1,m=t===this;if(!this.isVisible()&&!m)return this;if(a){s.save();let p=this.getAbsoluteTransform(t).getMatrix();return s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!f){d=this.getStage();let p=r||d.bufferCanvas,y=p.getContext();y.clear(),y.save(),y._applyLineJoin(this);let _=this.getAbsoluteTransform(t).getMatrix();y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.call(this,y,this),y.restore();let C=p.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(p._canvas,p.x||0,p.y||0,p.width/C,p.height/C)}else{if(s._applyLineJoin(this),!m){let p=this.getAbsoluteTransform(t).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,t,r=!1){if(!this.shouldDrawHit(t,r))return this;let i=this.getLayer(),o=e||i.hitCanvas,s=o&&o.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||xs.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();let f=this.getAbsoluteTransform(t).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),s._applyLineJoin(this),!(this===t)){let f=this.getAbsoluteTransform(t).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){let t=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=t.hit,o=i.getContext(),s=i.getWidth(),a=i.getHeight();o.clear(),o.drawImage(r._canvas,0,0,s,a);try{let l=o.getImageData(0,0,s,a),c=l.data,d=c.length,f=xs.Util._hexToRgb(this.colorKey);for(let m=0;m<d;m+=4)c[m+3]>e?(c[m]=f.r,c[m+1]=f.g,c[m+2]=f.b,c[m+3]=255):c[m+3]=0;o.putImageData(l,0,0)}catch(l){xs.Util.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return HC.hasPointerCapture(e,this)}setPointerCapture(e){HC.setPointerCapture(e,this)}releaseCapture(e){HC.releaseCapture(e,this)}};va.Shape=Re;Re.prototype._fillFunc=mV;Re.prototype._strokeFunc=vV;Re.prototype._fillFuncHit=yV;Re.prototype._strokeFuncHit=bV;Re.prototype._centroid=!1;Re.prototype.nodeType="Shape";(0,gV._registerNode)(Re);Re.prototype.eventListeners={};Re.prototype.on.call(Re.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_V);Re.prototype.on.call(Re.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",wV);Re.prototype.on.call(Re.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",CV);Re.prototype.on.call(Re.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",EV);Re.prototype.on.call(Re.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",xV);Qe.Factory.addGetterSetter(Re,"stroke",void 0,(0,lr.getStringOrGradientValidator)());Qe.Factory.addGetterSetter(Re,"strokeWidth",2,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"fillAfterStrokeEnabled",!1);Qe.Factory.addGetterSetter(Re,"hitStrokeWidth","auto",(0,lr.getNumberOrAutoValidator)());Qe.Factory.addGetterSetter(Re,"strokeHitEnabled",!0,(0,lr.getBooleanValidator)());Qe.Factory.addGetterSetter(Re,"perfectDrawEnabled",!0,(0,lr.getBooleanValidator)());Qe.Factory.addGetterSetter(Re,"shadowForStrokeEnabled",!0,(0,lr.getBooleanValidator)());Qe.Factory.addGetterSetter(Re,"lineJoin");Qe.Factory.addGetterSetter(Re,"lineCap");Qe.Factory.addGetterSetter(Re,"sceneFunc");Qe.Factory.addGetterSetter(Re,"hitFunc");Qe.Factory.addGetterSetter(Re,"dash");Qe.Factory.addGetterSetter(Re,"dashOffset",0,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"shadowColor",void 0,(0,lr.getStringValidator)());Qe.Factory.addGetterSetter(Re,"shadowBlur",0,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"shadowOpacity",1,(0,lr.getNumberValidator)());Qe.Factory.addComponentsGetterSetter(Re,"shadowOffset",["x","y"]);Qe.Factory.addGetterSetter(Re,"shadowOffsetX",0,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"shadowOffsetY",0,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"fillPatternImage");Qe.Factory.addGetterSetter(Re,"fill",void 0,(0,lr.getStringOrGradientValidator)());Qe.Factory.addGetterSetter(Re,"fillPatternX",0,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"fillPatternY",0,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"fillLinearGradientColorStops");Qe.Factory.addGetterSetter(Re,"strokeLinearGradientColorStops");Qe.Factory.addGetterSetter(Re,"fillRadialGradientStartRadius",0);Qe.Factory.addGetterSetter(Re,"fillRadialGradientEndRadius",0);Qe.Factory.addGetterSetter(Re,"fillRadialGradientColorStops");Qe.Factory.addGetterSetter(Re,"fillPatternRepeat","repeat");Qe.Factory.addGetterSetter(Re,"fillEnabled",!0);Qe.Factory.addGetterSetter(Re,"strokeEnabled",!0);Qe.Factory.addGetterSetter(Re,"shadowEnabled",!0);Qe.Factory.addGetterSetter(Re,"dashEnabled",!0);Qe.Factory.addGetterSetter(Re,"strokeScaleEnabled",!0);Qe.Factory.addGetterSetter(Re,"fillPriority","color");Qe.Factory.addComponentsGetterSetter(Re,"fillPatternOffset",["x","y"]);Qe.Factory.addGetterSetter(Re,"fillPatternOffsetX",0,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"fillPatternOffsetY",0,(0,lr.getNumberValidator)());Qe.Factory.addComponentsGetterSetter(Re,"fillPatternScale",["x","y"]);Qe.Factory.addGetterSetter(Re,"fillPatternScaleX",1,(0,lr.getNumberValidator)());Qe.Factory.addGetterSetter(Re,"fillPatternScaleY",1,(0,lr.getNumberValidator)());Qe.Factory.addComponentsGetterSetter(Re,"fillLinearGradientStartPoint",["x","y"]);Qe.Factory.addComponentsGetterSetter(Re,"strokeLinearGradientStartPoint",["x","y"]);Qe.Factory.addGetterSetter(Re,"fillLinearGradientStartPointX",0);Qe.Factory.addGetterSetter(Re,"strokeLinearGradientStartPointX",0);Qe.Factory.addGetterSetter(Re,"fillLinearGradientStartPointY",0);Qe.Factory.addGetterSetter(Re,"strokeLinearGradientStartPointY",0);Qe.Factory.addComponentsGetterSetter(Re,"fillLinearGradientEndPoint",["x","y"]);Qe.Factory.addComponentsGetterSetter(Re,"strokeLinearGradientEndPoint",["x","y"]);Qe.Factory.addGetterSetter(Re,"fillLinearGradientEndPointX",0);Qe.Factory.addGetterSetter(Re,"strokeLinearGradientEndPointX",0);Qe.Factory.addGetterSetter(Re,"fillLinearGradientEndPointY",0);Qe.Factory.addGetterSetter(Re,"strokeLinearGradientEndPointY",0);Qe.Factory.addComponentsGetterSetter(Re,"fillRadialGradientStartPoint",["x","y"]);Qe.Factory.addGetterSetter(Re,"fillRadialGradientStartPointX",0);Qe.Factory.addGetterSetter(Re,"fillRadialGradientStartPointY",0);Qe.Factory.addComponentsGetterSetter(Re,"fillRadialGradientEndPoint",["x","y"]);Qe.Factory.addGetterSetter(Re,"fillRadialGradientEndPointX",0);Qe.Factory.addGetterSetter(Re,"fillRadialGradientEndPointY",0);Qe.Factory.addGetterSetter(Re,"fillPatternRotation",0);Qe.Factory.addGetterSetter(Re,"fillRule",void 0,(0,lr.getStringValidator)());Qe.Factory.backCompat(Re,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})});var $C=Ke(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.Layer=void 0;var ya=Pn(),qC=gp(),Vd=Un(),GC=Bt(),GA=up(),SV=Ht(),DV=_r(),IV=Lt(),AV="#",MV="beforeDraw",TV="draw",$A=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],NV=$A.length,yl=class extends qC.Container{constructor(e){super(e),this.canvas=new GA.SceneCanvas,this.hitCanvas=new GA.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);let t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Vd.Node.prototype.moveToTop.call(this);let e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Vd.Node.prototype.moveUp.call(this))return!1;let t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Vd.Node.prototype.moveDown.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Vd.Node.prototype.moveToBottom.call(this)){let e=this.getStage();if(e){let t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){let e=this.getNativeCanvasElement();return Vd.Node.prototype.remove.call(this),e&&e.parentNode&&ya.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&ya.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Vd.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ya.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ya.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ya.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,r=!1;for(;;){for(let i=0;i<NV;i++){let o=$A[i],s=this._getIntersection({x:e.x+o.x*t,y:e.y+o.y*t}),a=s.shape;if(a)return a;if(r=!!s.antialiased,!s.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){let t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=r[3];if(i===255){let o=ya.Util._rgbToHex(r[0],r[1],r[2]),s=DV.shapes[AV+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,t,r){let i=this.getLayer(),o=e||i&&i.getCanvas();return this._fire(MV,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),qC.Container.prototype.drawScene.call(this,o,t,r),this._fire(TV,{node:this}),this}drawHit(e,t){let r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),qC.Container.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){ya.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return ya.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;let e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return ya.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};wv.Layer=yl;yl.prototype.nodeType="Layer";(0,IV._registerNode)(yl);GC.Factory.addGetterSetter(yl,"imageSmoothingEnabled",!0);GC.Factory.addGetterSetter(yl,"clearBeforeDraw",!0);GC.Factory.addGetterSetter(yl,"hitGraphEnabled",!0,(0,SV.getBooleanValidator)())});var WA=Ke(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.FastLayer=void 0;var PV=Pn(),OV=$C(),kV=Lt(),Cp=class extends OV.Layer{constructor(e){super(e),this.listening(!1),PV.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};Cv.FastLayer=Cp;Cp.prototype.nodeType="FastLayer";(0,kV._registerNode)(Cp)});var xv=Ke(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.Group=void 0;var RV=Pn(),LV=gp(),FV=Lt(),Ep=class extends LV.Container{_validateAdd(e){let t=e.getType();t!=="Group"&&t!=="Shape"&&RV.Util.throw("You may only add groups and shapes to groups.")}};Ev.Group=Ep;Ep.prototype.nodeType="Group";(0,FV._registerNode)(Ep)});var Dv=Ke(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.Animation=void 0;var WC=Lt(),YA=Pn(),YC=function(){return WC.glob.performance&&WC.glob.performance.now?function(){return WC.glob.performance.now()}:function(){return new Date().getTime()}}(),Ud=class n{constructor(e,t){this.id=n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:YC(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){let t=this.layers,r=t.length;for(let i=0;i<r;i++)if(t[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){let t=n.animations,r=t.length;for(let i=0;i<r;i++)if(t[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=YC(),n._addAnimation(this),this}stop(){return n._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){let t=e.id,r=this.animations,i=r.length;for(let o=0;o<i;o++)if(r[o].id===t){this.animations.splice(o,1);break}}static _runFrames(){let e={},t=this.animations;for(let r=0;r<t.length;r++){let i=t[r],o=i.layers,s=i.func;i._updateFrameObject(YC());let a=o.length,l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){let d=o[c];d._id!==void 0&&(e[d._id]=d)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){let e=n;e.animations.length?(e._runFrames(),YA.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,YA.Util.requestAnimFrame(this._animationLoop))}};Sv.Animation=Ud;Ud.animations=[];Ud.animIdCounter=0;Ud.animRunning=!1});var ZA=Ke(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.Easings=Ss.Tween=void 0;var ba=Pn(),jV=Dv(),BV=Un(),VV=Lt(),UV={node:1,duration:1,easing:1,onFinish:1,yoyo:1},HV=1,KA=2,XA=3,JA=["fill","stroke","shadowColor"],zV=0,KC=class{constructor(e,t,r,i,o,s,a){this.prop=e,this.propFunc=t,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}fire(e){let t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=KA,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=XA,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){let e=this.getTimer()-this._startTime;this.state===KA?this.setTime(e):this.state===XA&&this.setTime(this.duration-e)}pause(){this.state=HV,this.fire("onPause")}getTimer(){return new Date().getTime()}},Hd=class n{constructor(e){let t=this,r=e.node,i=r._id,o=e.easing||Ss.Easings.Linear,s=!!e.yoyo,a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=zV++;let c=r.getLayer()||(r instanceof VV.Konva.Stage?r.getLayers():null);c||ba.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new jV.Animation(function(){t.tween.onEnterFrame()},c),this.tween=new KC(l,function(d){t._tweenFunc(d)},o,0,1,a*1e3,s),this._addListeners(),n.attrs[i]||(n.attrs[i]={}),n.attrs[i][this._id]||(n.attrs[i][this._id]={}),n.tweens[i]||(n.tweens[i]={});for(l in e)UV[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){let r=this.node,i=r._id,o,s,a,l,c,d=n.tweens[i][e];d&&delete n.attrs[i][d][e];let f=r.getAttr(e);if(ba.Util._isArray(t))if(o=[],s=Math.max(t.length,f.length),e==="points"&&t.length!==f.length&&(t.length>f.length?(l=f,f=ba.Util._prepareArrayForTween(f,t,r.closed())):(a=t,t=ba.Util._prepareArrayForTween(t,f,r.closed()))),e.indexOf("fill")===0)for(let m=0;m<s;m++)if(m%2===0)o.push(t[m]-f[m]);else{let p=ba.Util.colorToRGBA(f[m]);c=ba.Util.colorToRGBA(t[m]),f[m]=p,o.push({r:c.r-p.r,g:c.g-p.g,b:c.b-p.b,a:c.a-p.a})}else for(let m=0;m<s;m++)o.push(t[m]-f[m]);else JA.indexOf(e)!==-1?(f=ba.Util.colorToRGBA(f),c=ba.Util.colorToRGBA(t),o={r:c.r-f.r,g:c.g-f.g,b:c.b-f.b,a:c.a-f.a}):o=t-f;n.attrs[i][this._id][e]={start:f,diff:o,end:t,trueEnd:a,trueStart:l},n.tweens[i][e]=this._id}_tweenFunc(e){let t=this.node,r=n.attrs[t._id][this._id],i,o,s,a,l,c,d,f;for(i in r){if(o=r[i],s=o.start,a=o.diff,f=o.end,ba.Util._isArray(s))if(l=[],d=Math.max(s.length,f.length),i.indexOf("fill")===0)for(c=0;c<d;c++)c%2===0?l.push((s[c]||0)+a[c]*e):l.push("rgba("+Math.round(s[c].r+a[c].r*e)+","+Math.round(s[c].g+a[c].g*e)+","+Math.round(s[c].b+a[c].b*e)+","+(s[c].a+a[c].a*e)+")");else for(c=0;c<d;c++)l.push((s[c]||0)+a[c]*e);else JA.indexOf(i)!==-1?l="rgba("+Math.round(s.r+a.r*e)+","+Math.round(s.g+a.g*e)+","+Math.round(s.b+a.b*e)+","+(s.a+a.a*e)+")":l=s+a*e;t.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{let e=this.node,t=n.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let e=this.node._id,t=this._id,r=n.tweens[e];this.pause(),this.anim&&this.anim.stop();for(let i in r)delete n.tweens[e][i];delete n.attrs[e][t],n.tweens[e]&&(Object.keys(n.tweens[e]).length===0&&delete n.tweens[e],Object.keys(n.attrs[e]).length===0&&delete n.attrs[e])}};Ss.Tween=Hd;Hd.attrs={};Hd.tweens={};BV.Node.prototype.to=function(n){let e=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),e&&e()},new Hd(n).play()};Ss.Easings={BackEaseIn(n,e,t,r){return t*(n/=r)*n*((1.70158+1)*n-1.70158)+e},BackEaseOut(n,e,t,r){return t*((n=n/r-1)*n*((1.70158+1)*n+1.70158)+1)+e},BackEaseInOut(n,e,t,r){let i=1.70158;return(n/=r/2)<1?t/2*(n*n*(((i*=1.525)+1)*n-i))+e:t/2*((n-=2)*n*(((i*=1.525)+1)*n+i)+2)+e},ElasticEaseIn(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),-(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e)},ElasticEaseOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r)===1?e+t:(o||(o=r*.3),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),i*Math.pow(2,-10*n)*Math.sin((n*r-s)*(2*Math.PI)/o)+t+e)},ElasticEaseInOut(n,e,t,r,i,o){let s=0;return n===0?e:(n/=r/2)===2?e+t:(o||(o=r*(.3*1.5)),!i||i<Math.abs(t)?(i=t,s=o/4):s=o/(2*Math.PI)*Math.asin(t/i),n<1?-.5*(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(n-=1))*Math.sin((n*r-s)*(2*Math.PI)/o)*.5+t+e)},BounceEaseOut(n,e,t,r){return(n/=r)<1/2.75?t*(7.5625*n*n)+e:n<2/2.75?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},BounceEaseIn(n,e,t,r){return t-Ss.Easings.BounceEaseOut(r-n,0,t,r)+e},BounceEaseInOut(n,e,t,r){return n<r/2?Ss.Easings.BounceEaseIn(n*2,0,t,r)*.5+e:Ss.Easings.BounceEaseOut(n*2-r,0,t,r)*.5+t*.5+e},EaseIn(n,e,t,r){return t*(n/=r)*n+e},EaseOut(n,e,t,r){return-t*(n/=r)*(n-2)+e},EaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},StrongEaseIn(n,e,t,r){return t*(n/=r)*n*n*n*n+e},StrongEaseOut(n,e,t,r){return t*((n=n/r-1)*n*n*n*n+1)+e},StrongEaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},Linear(n,e,t,r){return t*n/r+e}}});var n8=Ke(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.Konva=void 0;var qV=Lt(),XC=Pn(),GV=Un(),$V=gp(),QA=jA(),WV=$C(),YV=WA(),KV=xv(),XV=uv(),e8=_r(),JV=Dv(),t8=ZA(),ZV=MC(),QV=up();zd.Konva=XC.Util._assign(qV.Konva,{Util:XC.Util,Transform:XC.Transform,Node:GV.Node,Container:$V.Container,Stage:QA.Stage,stages:QA.stages,Layer:WV.Layer,FastLayer:YV.FastLayer,Group:KV.Group,DD:XV.DD,Shape:e8.Shape,shapes:e8.shapes,Animation:JV.Animation,Tween:t8.Tween,Easings:t8.Easings,Context:ZV.Context,Canvas:QV.Canvas});zd.default=zd.Konva});var i8=Ke(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.Arc=void 0;var Iv=Bt(),eU=_r(),r8=Lt(),Av=Ht(),tU=Lt(),Vo=class extends eU.Shape{_sceneFunc(e){let t=r8.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),i=r8.Konva.getAngle(r?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=o*(o>0?e:t),d=s*(s>0?t:e),f=a*(a>0?e:t),m=l*(l>0?t:e);return{x:c,y:r?-1*m:f,width:d-c,height:m-f}}};Mv.Arc=Vo;Vo.prototype._centroid=!0;Vo.prototype.className="Arc";Vo.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,tU._registerNode)(Vo);Iv.Factory.addGetterSetter(Vo,"innerRadius",0,(0,Av.getNumberValidator)());Iv.Factory.addGetterSetter(Vo,"outerRadius",0,(0,Av.getNumberValidator)());Iv.Factory.addGetterSetter(Vo,"angle",0,(0,Av.getNumberValidator)());Iv.Factory.addGetterSetter(Vo,"clockwise",!1,(0,Av.getBooleanValidator)())});var ZC=Ke(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.Line=void 0;var Tv=Bt(),nU=Lt(),rU=_r(),s8=Ht();function JC(n,e,t,r,i,o,s){let a=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-t,2)+Math.pow(o-r,2)),c=s*a/(a+l),d=s*l/(a+l),f=t-c*(i-n),m=r-c*(o-e),p=t+d*(i-n),y=r+d*(o-e);return[f,m,p,y]}function o8(n,e){let t=n.length,r=[];for(let i=2;i<t-2;i+=2){let o=JC(n[i-2],n[i-1],n[i],n[i+1],n[i+2],n[i+3],e);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(n[i]),r.push(n[i+1]),r.push(o[2]),r.push(o[3]))}return r}var Ds=class extends rU.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let t=this.points(),r=t.length,i=this.tension(),o=this.closed(),s=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(t[0],t[1]),i!==0&&r>4){let l=this.getTensionPoints(),c=l.length;for(a=o?0:4,o||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);o||e.quadraticCurveTo(l[c-2],l[c-1],t[r-2],t[r-1])}else if(s)for(a=2;a<r;)e.bezierCurveTo(t[a++],t[a++],t[a++],t[a++],t[a++],t[a++]);else for(a=2;a<r;a+=2)e.lineTo(t[a],t[a+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o8(this.points(),this.tension())}_getTensionPointsClosed(){let e=this.points(),t=e.length,r=this.tension(),i=JC(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),o=JC(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),s=o8(e,r);return[i[2],i[3]].concat(s).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);return{x:t,y:i,width:r-t,height:o-i}}};Nv.Line=Ds;Ds.prototype.className="Line";Ds.prototype._attrsAffectingSize=["points","bezier","tension"];(0,nU._registerNode)(Ds);Tv.Factory.addGetterSetter(Ds,"closed",!1);Tv.Factory.addGetterSetter(Ds,"bezier",!1);Tv.Factory.addGetterSetter(Ds,"tension",0,(0,s8.getNumberValidator)());Tv.Factory.addGetterSetter(Ds,"points",[],(0,s8.getNumberArrayValidator)())});var a8=Ke(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.t2length=Lr.getQuadraticArcLength=Lr.getCubicArcLength=Lr.binomialCoefficients=Lr.cValues=Lr.tValues=void 0;Lr.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];Lr.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];Lr.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];var iU=(n,e,t)=>{let r,i,s=t/2;r=0;for(let a=0;a<20;a++)i=s*Lr.tValues[20][a]+s,r+=Lr.cValues[20][a]*sU(n,e,i);return s*r};Lr.getCubicArcLength=iU;var oU=(n,e,t)=>{t===void 0&&(t=1);let r=n[0]-2*n[1]+n[2],i=e[0]-2*e[1]+e[2],o=2*n[1]-2*n[0],s=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*o+i*s),c=o*o+s*s;if(a===0)return t*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(e[2]-e[0],2));let d=l/(2*a),f=c/a,m=t+d,p=f-d*d,y=m*m+p>0?Math.sqrt(m*m+p):0,_=d*d+p>0?Math.sqrt(d*d+p):0,C=d+Math.sqrt(d*d+p)!==0?p*Math.log(Math.abs((m+y)/(d+_))):0;return Math.sqrt(a)/2*(m*y-d*_+C)};Lr.getQuadraticArcLength=oU;function sU(n,e,t){let r=QC(1,t,n),i=QC(1,t,e),o=r*r+i*i;return Math.sqrt(o)}var QC=(n,e,t)=>{let r=t.length-1,i,o;if(r===0)return 0;if(n===0){o=0;for(let s=0;s<=r;s++)o+=Lr.binomialCoefficients[r][s]*Math.pow(1-e,r-s)*Math.pow(e,s)*t[s];return o}else{i=new Array(r);for(let s=0;s<r;s++)i[s]=r*(t[s+1]-t[s]);return QC(n-1,e,i)}},aU=(n,e,t)=>{let r=1,i=n/e,o=(n-t(i))/e,s=0;for(;r>.001;){let a=t(i+o),l=Math.abs(n-a)/e;if(l<r)r=l,i+=o;else{let c=t(i-o),d=Math.abs(n-c)/e;d<r?(r=d,i-=o):o/=2}if(s++,s>500)break}return i};Lr.t2length=aU});var Ov=Ke(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.Path=void 0;var lU=Bt(),cU=Lt(),uU=_r(),qd=a8(),Ic=class n extends uU.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=n.parsePathData(this.data()),this.pathLength=n.getPathLength(this.dataArray)}_sceneFunc(e){let t=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<t.length;i++){let o=t[i].command,s=t[i].points;switch(o){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":let a=s[0],l=s[1],c=s[2],d=s[3],f=s[4],m=s[5],p=s[6],y=s[7],_=c>d?c:d,C=c>d?1:c/d,w=c>d?d/c:1;e.translate(a,l),e.rotate(p),e.scale(C,w),e.arc(0,0,_,f,f+m,1-y),e.scale(1/C,1/w),e.rotate(-p),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){let c=l.points[4],d=l.points[5],f=l.points[4]+d,m=Math.PI/180;if(Math.abs(c-f)<m&&(m=Math.abs(c-f)),d<0)for(let p=c-m;p>f;p-=m){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(y.x,y.y)}else for(let p=c+m;p<f;p+=m){let y=n.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(y.x,y.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){let d=n.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let t=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],isNaN(s)||(t=Math.min(t,s),r=Math.max(r,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:t,y:i,width:r-t,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return n.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}static getPathLength(e){let t=0;for(let r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let r,i=0,o=t.length;if(!o)return null;for(;i<o&&e>t[i].pathLength;)e-=t[i].pathLength,++i;if(i===o)return r=t[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return t[i].command==="M"?(r=t[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:t[i].start.x,y:t[i].start.y};let s=t[i],a=s.points;switch(s.command){case"L":return n.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return n.getPointOnCubicBezier((0,qd.t2length)(e,n.getPathLength(t),_=>(0,qd.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return n.getPointOnQuadraticBezier((0,qd.t2length)(e,n.getPathLength(t),_=>(0,qd.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],_)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":let l=a[0],c=a[1],d=a[2],f=a[3],m=a[5],p=a[6],y=a[4];return y+=m*e/s.pathLength,n.getPointOnEllipticalArc(l,c,d,f,y,p)}return null}static getPointOnLine(e,t,r,i,o,s,a){s=s??t,a=a??r;let l=this.getLineLength(t,r,i,o);if(l<1e-10)return{x:t,y:r};if(i===t)return{x:s,y:a+(o>r?e:-e)};let c=(o-r)/(i-t),d=Math.sqrt(e*e/(1+c*c))*(i<t?-1:1),f=c*d;if(Math.abs(a-r-c*(s-t))<1e-10)return{x:s+d,y:a+f};let m=((s-t)*(i-t)+(a-r)*(o-r))/(l*l),p=t+m*(i-t),y=r+m*(o-r),_=this.getLineLength(s,a,p,y),C=Math.sqrt(e*e-_*_),w=Math.sqrt(C*C/(1+c*c))*(i<t?-1:1),S=c*w;return{x:p+w,y:y+S}}static getPointOnCubicBezier(e,t,r,i,o,s,a,l,c){function d(C){return C*C*C}function f(C){return 3*C*C*(1-C)}function m(C){return 3*C*(1-C)*(1-C)}function p(C){return(1-C)*(1-C)*(1-C)}let y=l*d(e)+s*f(e)+i*m(e)+t*p(e),_=c*d(e)+a*f(e)+o*m(e)+r*p(e);return{x:y,y:_}}static getPointOnQuadraticBezier(e,t,r,i,o,s,a){function l(p){return p*p}function c(p){return 2*p*(1-p)}function d(p){return(1-p)*(1-p)}let f=s*l(e)+i*c(e)+t*d(e),m=a*l(e)+o*c(e)+r*d(e);return{x:f,y:m}}static getPointOnEllipticalArc(e,t,r,i,o,s){let a=Math.cos(s),l=Math.sin(s),c={x:r*Math.cos(o),y:i*Math.sin(o)};return{x:e+(c.x*a-c.y*l),y:t+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let f=0;f<r.length;f++)t=t.replace(new RegExp(r[f],"g"),"|"+r[f]);let i=t.split("|"),o=[],s=[],a=0,l=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,d;for(let f=1;f<i.length;f++){let m=i[f],p=m.charAt(0);for(m=m.slice(1),s.length=0;d=c.exec(m);)s.push(d[0]);let y=[];for(let _=0,C=s.length;_<C;_++){if(s[_]==="00"){y.push(0,0);continue}let w=parseFloat(s[_]);isNaN(w)?y.push(0):y.push(w)}for(;y.length>0&&!isNaN(y[0]);){let _="",C=[],w=a,S=l,O,k,z,Z,H,j,ne,se,T,N;switch(p){case"l":a+=y.shift(),l+=y.shift(),_="L",C.push(a,l);break;case"L":a=y.shift(),l=y.shift(),C.push(a,l);break;case"m":let q=y.shift(),U=y.shift();if(a+=q,l+=U,_="M",o.length>2&&o[o.length-1].command==="z"){for(let de=o.length-2;de>=0;de--)if(o[de].command==="M"){a=o[de].points[0]+q,l=o[de].points[1]+U;break}}C.push(a,l),p="l";break;case"M":a=y.shift(),l=y.shift(),_="M",C.push(a,l),p="L";break;case"h":a+=y.shift(),_="L",C.push(a,l);break;case"H":a=y.shift(),_="L",C.push(a,l);break;case"v":l+=y.shift(),_="L",C.push(a,l);break;case"V":l=y.shift(),_="L",C.push(a,l);break;case"C":C.push(y.shift(),y.shift(),y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"c":C.push(a+y.shift(),l+y.shift(),a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"S":k=a,z=l,O=o[o.length-1],O.command==="C"&&(k=a+(a-O.points[2]),z=l+(l-O.points[3])),C.push(k,z,y.shift(),y.shift()),a=y.shift(),l=y.shift(),_="C",C.push(a,l);break;case"s":k=a,z=l,O=o[o.length-1],O.command==="C"&&(k=a+(a-O.points[2]),z=l+(l-O.points[3])),C.push(k,z,a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="C",C.push(a,l);break;case"Q":C.push(y.shift(),y.shift()),a=y.shift(),l=y.shift(),C.push(a,l);break;case"q":C.push(a+y.shift(),l+y.shift()),a+=y.shift(),l+=y.shift(),_="Q",C.push(a,l);break;case"T":k=a,z=l,O=o[o.length-1],O.command==="Q"&&(k=a+(a-O.points[0]),z=l+(l-O.points[1])),a=y.shift(),l=y.shift(),_="Q",C.push(k,z,a,l);break;case"t":k=a,z=l,O=o[o.length-1],O.command==="Q"&&(k=a+(a-O.points[0]),z=l+(l-O.points[1])),a+=y.shift(),l+=y.shift(),_="Q",C.push(k,z,a,l);break;case"A":Z=y.shift(),H=y.shift(),j=y.shift(),ne=y.shift(),se=y.shift(),T=a,N=l,a=y.shift(),l=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(T,N,a,l,ne,se,Z,H,j);break;case"a":Z=y.shift(),H=y.shift(),j=y.shift(),ne=y.shift(),se=y.shift(),T=a,N=l,a+=y.shift(),l+=y.shift(),_="A",C=this.convertEndpointToCenterParameterization(T,N,a,l,ne,se,Z,H,j);break}o.push({command:_||p,points:C,start:{x:w,y:S},pathLength:this.calcLength(w,S,_||p,C)})}(p==="z"||p==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,r,i){let o,s,a,l,c=n;switch(r){case"L":return c.getLineLength(e,t,i[0],i[1]);case"C":return(0,qd.getCubicArcLength)([e,i[0],i[2],i[4]],[t,i[1],i[3],i[5]],1);case"Q":return(0,qd.getQuadraticArcLength)([e,i[0],i[2]],[t,i[1],i[3]],1);case"A":o=0;let d=i[4],f=i[5],m=i[4]+f,p=Math.PI/180;if(Math.abs(d-m)<p&&(p=Math.abs(d-m)),s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),f<0)for(l=d-p;l>m;l-=p)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(l=d+p;l<m;l+=p)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,t,r,i,o,s,a,l,c){let d=c*(Math.PI/180),f=Math.cos(d)*(e-r)/2+Math.sin(d)*(t-i)/2,m=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(t-i)/2,p=f*f/(a*a)+m*m/(l*l);p>1&&(a*=Math.sqrt(p),l*=Math.sqrt(p));let y=Math.sqrt((a*a*(l*l)-a*a*(m*m)-l*l*(f*f))/(a*a*(m*m)+l*l*(f*f)));o===s&&(y*=-1),isNaN(y)&&(y=0);let _=y*a*m/l,C=y*-l*f/a,w=(e+r)/2+Math.cos(d)*_-Math.sin(d)*C,S=(t+i)/2+Math.sin(d)*_+Math.cos(d)*C,O=function(se){return Math.sqrt(se[0]*se[0]+se[1]*se[1])},k=function(se,T){return(se[0]*T[0]+se[1]*T[1])/(O(se)*O(T))},z=function(se,T){return(se[0]*T[1]<se[1]*T[0]?-1:1)*Math.acos(k(se,T))},Z=z([1,0],[(f-_)/a,(m-C)/l]),H=[(f-_)/a,(m-C)/l],j=[(-1*f-_)/a,(-1*m-C)/l],ne=z(H,j);return k(H,j)<=-1&&(ne=Math.PI),k(H,j)>=1&&(ne=0),s===0&&ne>0&&(ne=ne-2*Math.PI),s===1&&ne<0&&(ne=ne+2*Math.PI),[w,S,a,l,Z,ne,d,s]}};Pv.Path=Ic;Ic.prototype.className="Path";Ic.prototype._attrsAffectingSize=["data"];(0,cU._registerNode)(Ic);lU.Factory.addGetterSetter(Ic,"data")});var u8=Ke(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.Arrow=void 0;var kv=Bt(),dU=ZC(),c8=Ht(),hU=Lt(),l8=Ov(),_a=class extends dU.Line{_sceneFunc(e){super._sceneFunc(e);let t=Math.PI*2,r=this.points(),i=r,o=this.tension()!==0&&r.length>4;o&&(i=this.getTensionPoints());let s=this.pointerLength(),a=r.length,l,c;if(o){let m=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],p=l8.Path.calcLength(i[i.length-4],i[i.length-3],"C",m),y=l8.Path.getPointOnQuadraticBezier(Math.min(1,1-s/p),m[0],m[1],m[2],m[3],m[4],m[5]);l=r[a-2]-y.x,c=r[a-1]-y.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];let d=(Math.atan2(c,l)+t)%t,f=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,f/2),e.lineTo(-s,-f/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+t)%t),e.moveTo(0,0),e.lineTo(-s,f/2),e.lineTo(-s,-f/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){let t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+t*2}}};Rv.Arrow=_a;_a.prototype.className="Arrow";(0,hU._registerNode)(_a);kv.Factory.addGetterSetter(_a,"pointerLength",10,(0,c8.getNumberValidator)());kv.Factory.addGetterSetter(_a,"pointerWidth",10,(0,c8.getNumberValidator)());kv.Factory.addGetterSetter(_a,"pointerAtBeginning",!1);kv.Factory.addGetterSetter(_a,"pointerAtEnding",!0)});var d8=Ke(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.Circle=void 0;var fU=Bt(),pU=_r(),gU=Ht(),mU=Lt(),bl=class extends pU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Lv.Circle=bl;bl.prototype._centroid=!0;bl.prototype.className="Circle";bl.prototype._attrsAffectingSize=["radius"];(0,mU._registerNode)(bl);fU.Factory.addGetterSetter(bl,"radius",0,(0,gU.getNumberValidator)())});var f8=Ke(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.Ellipse=void 0;var eE=Bt(),vU=_r(),h8=Ht(),yU=Lt(),Is=class extends vU.Shape{_sceneFunc(e){let t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};Fv.Ellipse=Is;Is.prototype.className="Ellipse";Is.prototype._centroid=!0;Is.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,yU._registerNode)(Is);eE.Factory.addComponentsGetterSetter(Is,"radius",["x","y"]);eE.Factory.addGetterSetter(Is,"radiusX",0,(0,h8.getNumberValidator)());eE.Factory.addGetterSetter(Is,"radiusY",0,(0,h8.getNumberValidator)())});var p8=Ke(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.Image=void 0;var tE=Pn(),Ac=Bt(),bU=_r(),_U=Lt(),xp=Ht(),ro=class n extends bU.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",t=>{this._removeImageLoad(t.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){let e=!!this.cornerRadius(),t=this.hasShadow();return e&&t?!0:super._useBufferCanvas(!0)}_sceneFunc(e){let t=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image,s;if(o){let a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?s=[o,this.cropX(),this.cropY(),a,l,0,0,t,r]:s=[o,0,0,t,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?tE.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){let t=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?tE.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){let i=tE.Util.createImageElement();i.onload=function(){let o=new n({image:i});t(o)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};jv.Image=ro;ro.prototype.className="Image";(0,_U._registerNode)(ro);Ac.Factory.addGetterSetter(ro,"cornerRadius",0,(0,xp.getNumberOrArrayOfNumbersValidator)(4));Ac.Factory.addGetterSetter(ro,"image");Ac.Factory.addComponentsGetterSetter(ro,"crop",["x","y","width","height"]);Ac.Factory.addGetterSetter(ro,"cropX",0,(0,xp.getNumberValidator)());Ac.Factory.addGetterSetter(ro,"cropY",0,(0,xp.getNumberValidator)());Ac.Factory.addGetterSetter(ro,"cropWidth",0,(0,xp.getNumberValidator)());Ac.Factory.addGetterSetter(ro,"cropHeight",0,(0,xp.getNumberValidator)())});var v8=Ke(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.Tag=Gd.Label=void 0;var Bv=Bt(),wU=_r(),CU=xv(),sE=Ht(),g8=Lt(),m8=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],EU="Change.konva",xU="none",nE="up",rE="right",iE="down",oE="left",SU=m8.length,Sp=class extends CU.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t=this,r,i=function(){t._sync()};for(r=0;r<SU;r++)e.on(m8[r]+EU,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),t=this.getTag(),r,i,o,s,a,l,c;if(e&&t){switch(r=e.width(),i=e.height(),o=t.pointerDirection(),s=t.pointerWidth(),c=t.pointerHeight(),a=0,l=0,o){case nE:a=r/2,l=-1*c;break;case rE:a=r+s,l=i/2;break;case iE:a=r/2,l=i+c;break;case oE:a=-1*s,l=i/2;break}t.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}};Gd.Label=Sp;Sp.prototype.className="Label";(0,g8._registerNode)(Sp);var wa=class extends wU.Shape{_sceneFunc(e){let t=this.width(),r=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius(),l=0,c=0,d=0,f=0;typeof a=="number"?l=c=d=f=Math.min(a,t/2,r/2):(l=Math.min(a[0]||0,t/2,r/2),c=Math.min(a[1]||0,t/2,r/2),f=Math.min(a[2]||0,t/2,r/2),d=Math.min(a[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(l,0),i===nE&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*s),e.lineTo((t+o)/2,0)),e.lineTo(t-c,0),e.arc(t-c,c,c,Math.PI*3/2,0,!1),i===rE&&(e.lineTo(t,(r-s)/2),e.lineTo(t+o,r/2),e.lineTo(t,(r+s)/2)),e.lineTo(t,r-f),e.arc(t-f,r-f,f,0,Math.PI/2,!1),i===iE&&(e.lineTo((t+o)/2,r),e.lineTo(t/2,r+s),e.lineTo((t-o)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),i===oE&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*o,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,r=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===nE?(t-=i,a+=i):o===iE?a+=i:o===oE?(e-=r*1.5,s+=r):o===rE&&(s+=r*1.5),{x:e,y:t,width:s,height:a}}};Gd.Tag=wa;wa.prototype.className="Tag";(0,g8._registerNode)(wa);Bv.Factory.addGetterSetter(wa,"pointerDirection",xU);Bv.Factory.addGetterSetter(wa,"pointerWidth",0,(0,sE.getNumberValidator)());Bv.Factory.addGetterSetter(wa,"pointerHeight",0,(0,sE.getNumberValidator)());Bv.Factory.addGetterSetter(wa,"cornerRadius",0,(0,sE.getNumberOrArrayOfNumbersValidator)(4))});var aE=Ke(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.Rect=void 0;var DU=Bt(),IU=_r(),AU=Lt(),MU=Pn(),TU=Ht(),$d=class extends IU.Shape{_sceneFunc(e){let t=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),t?MU.Util.drawRoundedRectPath(e,r,i,t):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Vv.Rect=$d;$d.prototype.className="Rect";(0,AU._registerNode)($d);DU.Factory.addGetterSetter($d,"cornerRadius",0,(0,TU.getNumberOrArrayOfNumbersValidator)(4))});var _8=Ke(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.RegularPolygon=void 0;var y8=Bt(),NU=_r(),b8=Ht(),PU=Lt(),Ca=class extends NU.Shape{_sceneFunc(e){let t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:t*Math.sin(i*2*Math.PI/e),y:-1*t*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){let e=this._getPoints(),t=e[0].x,r=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{t=Math.min(t,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:t,y:i,width:r-t,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Uv.RegularPolygon=Ca;Ca.prototype.className="RegularPolygon";Ca.prototype._centroid=!0;Ca.prototype._attrsAffectingSize=["radius"];(0,PU._registerNode)(Ca);y8.Factory.addGetterSetter(Ca,"radius",0,(0,b8.getNumberValidator)());y8.Factory.addGetterSetter(Ca,"sides",0,(0,b8.getNumberValidator)())});var x8=Ke(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.Ring=void 0;var C8=Bt(),OU=_r(),E8=Ht(),kU=Lt(),w8=Math.PI*2,Ea=class extends OU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,w8,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),w8,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Hv.Ring=Ea;Ea.prototype.className="Ring";Ea.prototype._centroid=!0;Ea.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,kU._registerNode)(Ea);C8.Factory.addGetterSetter(Ea,"innerRadius",0,(0,E8.getNumberValidator)());C8.Factory.addGetterSetter(Ea,"outerRadius",0,(0,E8.getNumberValidator)())});var D8=Ke(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.Sprite=void 0;var Mc=Bt(),RU=_r(),LU=Dv(),S8=Ht(),FU=Lt(),io=class extends RU.Shape{constructor(e){super(e),this._updated=!0,this.anim=new LU.Animation(()=>{let t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+0],l=o[i+1],c=o[i+2],d=o[i+3],f=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,d),e.closePath(),e.fillStrokeShape(this)),f)if(s){let m=s[t],p=r*2;e.drawImage(f,a,l,c,d,m[p+0],m[p+1],c,d)}else e.drawImage(f,a,l,c,d,0,0,c,d)}_hitFunc(e){let t=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[t],s=this.frameOffsets(),a=o[i+2],l=o[i+3];if(e.beginPath(),s){let c=s[t],d=r*2;e.rect(c[d+0],c[d+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){let e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;let e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){let e=this.frameIndex(),t=this.animation(),r=this.animations(),i=r[t],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}};zv.Sprite=io;io.prototype.className="Sprite";(0,FU._registerNode)(io);Mc.Factory.addGetterSetter(io,"animation");Mc.Factory.addGetterSetter(io,"animations");Mc.Factory.addGetterSetter(io,"frameOffsets");Mc.Factory.addGetterSetter(io,"image");Mc.Factory.addGetterSetter(io,"frameIndex",0,(0,S8.getNumberValidator)());Mc.Factory.addGetterSetter(io,"frameRate",17,(0,S8.getNumberValidator)());Mc.Factory.backCompat(io,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})});var I8=Ke(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.Star=void 0;var lE=Bt(),jU=_r(),cE=Ht(),BU=Lt(),As=class extends jU.Shape{_sceneFunc(e){let t=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let o=1;o<i*2;o++){let s=o%2===0?r:t,a=s*Math.sin(o*Math.PI/i),l=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};qv.Star=As;As.prototype.className="Star";As.prototype._centroid=!0;As.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,BU._registerNode)(As);lE.Factory.addGetterSetter(As,"numPoints",5,(0,cE.getNumberValidator)());lE.Factory.addGetterSetter(As,"innerRadius",0,(0,cE.getNumberValidator)());lE.Factory.addGetterSetter(As,"outerRadius",0,(0,cE.getNumberValidator)())});var pE=Ke(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.Text=void 0;Ip.stringToArray=Tc;var fE=Pn(),Yr=Bt(),VU=_r(),uE=Lt(),_l=Ht(),UU=Lt();function Tc(n){return[...n].reduce((e,t,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(t)){let o=i[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(t+o),i[r+1]=""):e.push(t)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(t+(i[r+1]||""))?e.push(t+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}var Wd="auto",HU="center",P8="inherit",Dp="justify",zU="Change.konva",qU="2d",A8="-",O8="left",GU="text",$U="Text",WU="top",YU="bottom",M8="middle",k8="normal",KU="px ",Gv=" ",XU="right",T8="rtl",JU="word",ZU="char",N8="none",dE="\u2026",R8=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],QU=R8.length;function eH(n){return n.split(",").map(e=>{e=e.trim();let t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}var $v;function hE(){return $v||($v=fE.Util.createCanvasElement().getContext(qU),$v)}function tH(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function nH(n){n.setAttr("miterLimit",2),n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function rH(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}var In=class extends VU.Shape{constructor(e){super(rH(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<QU;t++)this.on(R8[t]+zU,this._setTextData);this._setTextData()}_sceneFunc(e){let t=this.textArr,r=t.length;if(!this.text())return;let i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),l=this.direction(),c=0,d=this.align(),f=this.getWidth(),m=this.letterSpacing(),p=this.fill(),y=this.textDecoration(),_=y.indexOf("underline")!==-1,C=y.indexOf("line-through")!==-1,w;l=l===P8?e.direction:l;let S=s/2,O=M8;if(uE.Konva._fixTextRendering){let k=this.measureSize("M");O="alphabetic",S=(k.fontBoundingBoxAscent-k.fontBoundingBoxDescent)/2+s/2}for(l===T8&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",O),e.setAttr("textAlign",O8),a===M8?c=(this.getHeight()-r*s-i*2)/2:a===YU&&(c=this.getHeight()-r*s-i*2),e.translate(i,c+i),w=0;w<r;w++){let k=0,z=0,Z=t[w],H=Z.text,j=Z.width,ne=Z.lastInParagraph;if(e.save(),d===XU?k+=f-j-i*2:d===HU&&(k+=(f-j-i*2)/2),_){e.save(),e.beginPath();let se=uE.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),T=k,N=S+z+se;e.moveTo(T,N);let q=d===Dp&&!ne?f-i*2:j;e.lineTo(T+Math.round(q),N),e.lineWidth=o/15;let U=this._getLinearGradient();e.strokeStyle=U||p,e.stroke(),e.restore()}if(C){e.save(),e.beginPath();let se=uE.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(k,S+z+se);let T=d===Dp&&!ne?f-i*2:j;e.lineTo(k+Math.round(T),S+z+se),e.lineWidth=o/15;let N=this._getLinearGradient();e.strokeStyle=N||p,e.stroke(),e.restore()}if(l!==T8&&(m!==0||d===Dp)){let se=H.split(" ").length-1,T=Tc(H);for(let N=0;N<T.length;N++){let q=T[N];q===" "&&!ne&&d===Dp&&(k+=(f-i*2-j)/se),this._partialTextX=k,this._partialTextY=S+z,this._partialText=q,e.fillStrokeShape(this),k+=this.measureSize(q).width+m}}else m!==0&&e.setAttr("letterSpacing",`${m}px`),this._partialTextX=k,this._partialTextY=S+z,this._partialText=H,e.fillStrokeShape(this);e.restore(),r>1&&(S+=s)}}_hitFunc(e){let t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){let t=fE.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(GU,t),this}getWidth(){return this.attrs.width===Wd||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Wd||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return fE.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r,i,o,s,a,l,c,d,f,m;let p=hE(),y=this.fontSize(),_;p.save(),p.font=this._getContextFont(),_=p.measureText(e),p.restore();let C=y/100;return{actualBoundingBoxAscent:(t=_.actualBoundingBoxAscent)!==null&&t!==void 0?t:71.58203125*C,actualBoundingBoxDescent:(r=_.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=_.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*C,actualBoundingBoxRight:(o=_.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*C,alphabeticBaseline:(s=_.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(a=_.emHeightAscent)!==null&&a!==void 0?a:100*C,emHeightDescent:(l=_.emHeightDescent)!==null&&l!==void 0?l:-20*C,fontBoundingBoxAscent:(c=_.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*C,fontBoundingBoxDescent:(d=_.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*C,hangingBaseline:(f=_.hangingBaseline)!==null&&f!==void 0?f:72.80000305175781*C,ideographicBaseline:(m=_.ideographicBaseline)!==null&&m!==void 0?m:-21*C,width:_.width,height:y}}_getContextFont(){return this.fontStyle()+Gv+this.fontVariant()+Gv+(this.fontSize()+KU)+eH(this.fontFamily())}_addTextLine(e){this.align()===Dp&&(e=e.trim());let r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){let t=this.letterSpacing(),r=e.length;return hE().measureText(e).width+t*r}_setTextData(){let e=this.text().split(`
`),t=+this.fontSize(),r=0,i=this.lineHeight()*t,o=this.attrs.width,s=this.attrs.height,a=o!==Wd&&o!==void 0,l=s!==Wd&&s!==void 0,c=this.padding(),d=o-c*2,f=s-c*2,m=0,p=this.wrap(),y=p!==N8,_=p!==ZU&&y,C=this.ellipsis();this.textArr=[],hE().font=this._getContextFont();let w=C?this._getTextWidth(dE):0;for(let S=0,O=e.length;S<O;++S){let k=e[S],z=this._getTextWidth(k);if(a&&z>d)for(;k.length>0;){let Z=0,H=Tc(k).length,j="",ne=0;for(;Z<H;){let se=Z+H>>>1,T=Tc(k),N=T.slice(0,se+1).join(""),q=this._getTextWidth(N);(C&&l&&m+i>f?q+w:q)<=d?(Z=se+1,j=N,ne=q):H=se}if(j){if(_){let N=Tc(k),q=Tc(j),U=N[q.length],de=U===Gv||U===A8,ce;if(de&&ne<=d)ce=q.length;else{let ve=q.lastIndexOf(Gv),J=q.lastIndexOf(A8);ce=Math.max(ve,J)+1}ce>0&&(Z=ce,j=N.slice(0,Z).join(""),ne=this._getTextWidth(j))}if(j=j.trimRight(),this._addTextLine(j),r=Math.max(r,ne),m+=i,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(k=Tc(k).slice(Z).join("").trimLeft(),k.length>0&&(z=this._getTextWidth(k),z<=d)){this._addTextLine(k),m+=i,r=Math.max(r,z);break}}else break}else this._addTextLine(k),m+=i,r=Math.max(r,z),this._shouldHandleEllipsis(m)&&S<O-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+i>f)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){let t=+this.fontSize(),r=this.lineHeight()*t,i=this.attrs.height,o=i!==Wd&&i!==void 0,s=this.padding(),a=i-s*2;return!(this.wrap()!==N8)||o&&e+r>a}_tryToAddEllipsisToLastLine(){let e=this.attrs.width,t=e!==Wd&&e!==void 0,r=this.padding(),i=e-r*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!o||(t&&(this._getTextWidth(s.text+dE)<i||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+dE))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){let e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}};Ip.Text=In;In.prototype._fillFunc=tH;In.prototype._strokeFunc=nH;In.prototype.className=$U;In.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,UU._registerNode)(In);Yr.Factory.overWriteSetter(In,"width",(0,_l.getNumberOrAutoValidator)());Yr.Factory.overWriteSetter(In,"height",(0,_l.getNumberOrAutoValidator)());Yr.Factory.addGetterSetter(In,"direction",P8);Yr.Factory.addGetterSetter(In,"fontFamily","Arial");Yr.Factory.addGetterSetter(In,"fontSize",12,(0,_l.getNumberValidator)());Yr.Factory.addGetterSetter(In,"fontStyle",k8);Yr.Factory.addGetterSetter(In,"fontVariant",k8);Yr.Factory.addGetterSetter(In,"padding",0,(0,_l.getNumberValidator)());Yr.Factory.addGetterSetter(In,"align",O8);Yr.Factory.addGetterSetter(In,"verticalAlign",WU);Yr.Factory.addGetterSetter(In,"lineHeight",1,(0,_l.getNumberValidator)());Yr.Factory.addGetterSetter(In,"wrap",JU);Yr.Factory.addGetterSetter(In,"ellipsis",!1,(0,_l.getBooleanValidator)());Yr.Factory.addGetterSetter(In,"letterSpacing",0,(0,_l.getNumberValidator)());Yr.Factory.addGetterSetter(In,"text","",(0,_l.getStringValidator)());Yr.Factory.addGetterSetter(In,"textDecoration","")});var V8=Ke(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.TextPath=void 0;var gE=Pn(),Uo=Bt(),iH=_r(),Ap=Ov(),mE=pE(),L8=Ht(),oH=Lt(),sH="",F8="normal";function j8(n){n.fillText(this.partialText,0,0)}function B8(n){n.strokeText(this.partialText,0,0)}var Qn=class extends iH.Shape{constructor(e){super(e),this.dummyCanvas=gE.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ap.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let t=this.pathLength;return e-1>t?null:Ap.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Ap.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();let t=this.textDecoration(),r=this.fill(),i=this.fontSize(),o=this.glyphInfo;t==="underline"&&e.beginPath();for(let s=0;s<o.length;s++){e.save();let a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),t==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();let t=this.glyphInfo;if(t.length>=1){let r=t[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<t.length;r++){let i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return gE.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return mE.Text.prototype.setText.call(this,e)}_getContextFont(){return mE.Text.prototype._getContextFont.call(this)}_getTextSize(e){let r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();let i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;let r=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0),a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));let l=(0,mE.stringToArray)(this.text()),c=a;for(let d=0;d<l.length;d++){let f=this._getPointAtLength(c);if(!f)return;let m=this._getTextSize(l[d]).width+r;if(l[d]===" "&&i==="justify"){let S=this.text().split(" ").length-1;m+=(this.pathLength-s)/S}let p=this._getPointAtLength(c+m);if(!p)return;let y=Ap.Path.getLineLength(f.x,f.y,p.x,p.y),_=0;if(o)try{_=o(l[d-1],l[d])*this.fontSize()}catch{_=0}f.x+=_,p.x+=_,this.textWidth+=_;let C=Ap.Path.getPointOnLine(_+y/2,f.x,f.y,p.x,p.y),w=Math.atan2(p.y-f.y,p.x-f.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:l[d],rotation:w,p0:f,p1:p}),c+=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};let e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let t=e[0]||0,r=e[0]||0,i=e[1]||0,o=e[1]||0,s,a;for(let c=0;c<e.length/2;c++)s=e[c*2],a=e[c*2+1],t=Math.min(t,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);let l=this.fontSize();return{x:t-l/2,y:i-l/2,width:r-t+l,height:o-i+l}}destroy(){return gE.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};Wv.TextPath=Qn;Qn.prototype._fillFunc=j8;Qn.prototype._strokeFunc=B8;Qn.prototype._fillFuncHit=j8;Qn.prototype._strokeFuncHit=B8;Qn.prototype.className="TextPath";Qn.prototype._attrsAffectingSize=["text","fontSize","data"];(0,oH._registerNode)(Qn);Uo.Factory.addGetterSetter(Qn,"data");Uo.Factory.addGetterSetter(Qn,"fontFamily","Arial");Uo.Factory.addGetterSetter(Qn,"fontSize",12,(0,L8.getNumberValidator)());Uo.Factory.addGetterSetter(Qn,"fontStyle",F8);Uo.Factory.addGetterSetter(Qn,"align","left");Uo.Factory.addGetterSetter(Qn,"letterSpacing",0,(0,L8.getNumberValidator)());Uo.Factory.addGetterSetter(Qn,"textBaseline","middle");Uo.Factory.addGetterSetter(Qn,"fontVariant",F8);Uo.Factory.addGetterSetter(Qn,"text",sH);Uo.Factory.addGetterSetter(Qn,"textDecoration","");Uo.Factory.addGetterSetter(Qn,"kerningFunc",void 0)});var W8=Ke(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.Transformer=void 0;var pn=Pn(),nn=Bt(),U8=Un(),aH=_r(),lH=aE(),H8=xv(),Ho=Lt(),wl=Ht(),cH=Lt(),G8="tr-konva",uH=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(n=>n+`.${G8}`).join(" "),z8="nodesRect",dH=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],hH={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},fH="ontouchstart"in Ho.Konva._global;function pH(n,e,t){if(n==="rotater")return t;e+=pn.Util.degToRad(hH[n]||0);let r=(pn.Util.radToDeg(e)%360+360)%360;return pn.Util._inRange(r,315+22.5,360)||pn.Util._inRange(r,0,22.5)?"ns-resize":pn.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":pn.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":pn.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":pn.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":pn.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":pn.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":pn.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(pn.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var Yv=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],q8=1e8;function gH(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function $8(n,e,t){let r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),i=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return Xe(Ce({},n),{rotation:n.rotation+e,x:r,y:i})}function mH(n,e){let t=gH(n);return $8(n,e,t)}function vH(n,e,t){let r=e;for(let i=0;i<n.length;i++){let o=Ho.Konva.getAngle(n[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<t&&(r=o)}return r}var vE=0,zt=class extends H8.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(uH,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return pn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return G8+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let t=e.filter(i=>i.isAncestorOf(this)?(pn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{let o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){let s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o)}i.on(dH.map(s=>s+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;let i=e.getAbsolutePosition(),o=i.x-t.x,s=i.y-t.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;let l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+o,y:l.y+s}),a.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(z8),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(z8,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){let i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),a=i.x*o.x-e.offsetX()*o.x,l=i.y*o.y-e.offsetY()*o.y,c=(Ho.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+a*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*o.x,height:i.height*o.y,rotation:c};return $8(d,-Ho.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-q8,y:-q8,width:0,height:0,rotation:0};let t=[];this.nodes().map(c=>{let d=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),f=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],m=c.getAbsoluteTransform();f.forEach(function(p){let y=m.point(p);t.push(y)})});let r=new pn.Transform;r.rotate(-Ho.Konva.getAngle(this.rotation()));let i=1/0,o=1/0,s=-1/0,a=-1/0;t.forEach(function(c){let d=r.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),r.invert();let l=r.point({x:i,y:o});return{x:l.x,y:l.y,width:s-i,height:a-o,rotation:Ho.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Yv.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){let t=new lH.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:fH?10:"auto"}),r=this;t.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),t.on("dragstart",i=>{t.stopDrag(),i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),t.on("mouseenter",()=>{let i=Ho.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=pH(e,i,o);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){let e=new aH.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,r){let i=r.getParent(),o=i.padding();t.beginPath(),t.rect(-o,-o,r.width()+o*2,r.height()+o*2),t.moveTo(r.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&t.lineTo(r.width()/2,-i.rotateAnchorOffset()*pn.Util._sign(r.height())-o),t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(!this.shouldOverdrawWholeArea())return;let i=this.padding();t.beginPath(),t.rect(-i,-i,r.width()+i*2,r.height()+i*2),t.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];let t=this._getNodeRect(),r=t.width,i=t.height,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(r/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;let s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},vE++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let t,r,i,o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);let a=s.getPointerPosition(),l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),o.setAbsolutePosition(l);let d=o.getAbsolutePosition();if(c.x===d.x&&c.y===d.y)return;if(this._movingAnchorName==="rotater"){let S=this._getNodeRect();t=o.x()-S.width/2,r=-o.y()+S.height/2;let O=Math.atan2(-r,t)+Math.PI/2;S.height<0&&(O-=Math.PI);let z=Ho.Konva.getAngle(this.rotation())+O,Z=Ho.Konva.getAngle(this.rotationSnapTolerance()),j=vH(this.rotationSnaps(),z,Z)-S.rotation,ne=mH(S,j);this._fitNodesInto(ne,e);return}let f=this.shiftBehavior(),m;f==="inverted"?m=this.keepRatio()&&!e.shiftKey:f==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){let S=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(S.x-o.x(),2)+Math.pow(S.y-o.y(),2));let O=this.findOne(".top-left").x()>S.x?-1:1,k=this.findOne(".top-left").y()>S.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".top-left").x(S.x-t),this.findOne(".top-left").y(S.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(m){let S=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-S.x,2)+Math.pow(S.y-o.y(),2));let O=this.findOne(".top-right").x()<S.x?-1:1,k=this.findOne(".top-right").y()>S.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".top-right").x(S.x+t),this.findOne(".top-right").y(S.y-r)}var y=o.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(m){let S=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(S.x-o.x(),2)+Math.pow(o.y()-S.y,2));let O=S.x<o.x()?-1:1,k=o.y()<S.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,o.x(S.x-t),o.y(S.y+r)}y=o.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(m){let S=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-S.x,2)+Math.pow(o.y()-S.y,2));let O=this.findOne(".bottom-right").x()<S.x?-1:1,k=this.findOne(".bottom-right").y()<S.y?-1:1;t=i*this.cos*O,r=i*this.sin*k,this.findOne(".bottom-right").x(S.x+t),this.findOne(".bottom-right").y(S.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||e.altKey,p){let S=this.findOne(".top-left"),O=this.findOne(".bottom-right"),k=S.x(),z=S.y(),Z=this.getWidth()-O.x(),H=this.getHeight()-O.y();O.move({x:-k,y:-z}),S.move({x:Z,y:H})}let _=this.findOne(".top-left").getAbsolutePosition();t=_.x,r=_.y;let C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:C,height:w,rotation:Ho.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));let r=this.getNode();vE--,this._fire("transformend",{evt:e,target:r}),(t=this.getLayer())===null||t===void 0||t.batchDraw(),r&&this._nodes.forEach(i=>{var o;i._fire("transformend",{evt:e,target:i}),(o=i.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){let r=this._getNodeRect(),i=1;if(pn.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(pn.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}let o=new pn.Transform;if(o.rotate(Ho.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let m=o.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let m=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let m=o.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let m=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){let m=this.boundBoxFunc()(r,e);m?e=m:pn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let s=1e7,a=new pn.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/s,r.height/s);let l=new pn.Transform,c=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,d));let f=l.multiply(a.invert());this._nodes.forEach(m=>{var p;let y=m.getParent().getAbsoluteTransform(),_=m.getTransform().copy();_.translate(m.offsetX(),m.offsetY());let C=new pn.Transform;C.multiply(y.copy().invert()).multiply(f).multiply(y).multiply(_);let w=C.decompose();m.setAttrs(w),(p=m.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(pn.Util._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:t,target:m}),m._fire("transform",{evt:t,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;let t=this._getNodeRect();this.rotation(pn.Util._getRotation(t.rotation));let r=t.width,i=t.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(f=>{f.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*pn.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let d=this.anchorStyleFunc();d&&c.forEach(f=>{d(f)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();let e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),H8.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return U8.Node.prototype.toObject.call(this)}clone(e){return U8.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Kv.Transformer=zt;zt.isTransforming=()=>vE>0;function yH(n){return n instanceof Array||pn.Util.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){Yv.indexOf(e)===-1&&pn.Util.warn("Unknown anchor name: "+e+". Available names are: "+Yv.join(", "))}),n||[]}zt.prototype.className="Transformer";(0,cH._registerNode)(zt);nn.Factory.addGetterSetter(zt,"enabledAnchors",Yv,yH);nn.Factory.addGetterSetter(zt,"flipEnabled",!0,(0,wl.getBooleanValidator)());nn.Factory.addGetterSetter(zt,"resizeEnabled",!0);nn.Factory.addGetterSetter(zt,"anchorSize",10,(0,wl.getNumberValidator)());nn.Factory.addGetterSetter(zt,"rotateEnabled",!0);nn.Factory.addGetterSetter(zt,"rotateLineVisible",!0);nn.Factory.addGetterSetter(zt,"rotationSnaps",[]);nn.Factory.addGetterSetter(zt,"rotateAnchorOffset",50,(0,wl.getNumberValidator)());nn.Factory.addGetterSetter(zt,"rotateAnchorCursor","crosshair");nn.Factory.addGetterSetter(zt,"rotationSnapTolerance",5,(0,wl.getNumberValidator)());nn.Factory.addGetterSetter(zt,"borderEnabled",!0);nn.Factory.addGetterSetter(zt,"anchorStroke","rgb(0, 161, 255)");nn.Factory.addGetterSetter(zt,"anchorStrokeWidth",1,(0,wl.getNumberValidator)());nn.Factory.addGetterSetter(zt,"anchorFill","white");nn.Factory.addGetterSetter(zt,"anchorCornerRadius",0,(0,wl.getNumberValidator)());nn.Factory.addGetterSetter(zt,"borderStroke","rgb(0, 161, 255)");nn.Factory.addGetterSetter(zt,"borderStrokeWidth",1,(0,wl.getNumberValidator)());nn.Factory.addGetterSetter(zt,"borderDash");nn.Factory.addGetterSetter(zt,"keepRatio",!0);nn.Factory.addGetterSetter(zt,"shiftBehavior","default");nn.Factory.addGetterSetter(zt,"centeredScaling",!1);nn.Factory.addGetterSetter(zt,"ignoreStroke",!1);nn.Factory.addGetterSetter(zt,"padding",0,(0,wl.getNumberValidator)());nn.Factory.addGetterSetter(zt,"nodes");nn.Factory.addGetterSetter(zt,"node");nn.Factory.addGetterSetter(zt,"boundBoxFunc");nn.Factory.addGetterSetter(zt,"anchorDragBoundFunc");nn.Factory.addGetterSetter(zt,"anchorStyleFunc");nn.Factory.addGetterSetter(zt,"shouldOverdrawWholeArea",!1);nn.Factory.addGetterSetter(zt,"useSingleNodeRotation",!0);nn.Factory.backCompat(zt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})});var K8=Ke(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.Wedge=void 0;var Xv=Bt(),bH=_r(),_H=Lt(),Y8=Ht(),wH=Lt(),zo=class extends bH.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,_H.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Jv.Wedge=zo;zo.prototype.className="Wedge";zo.prototype._centroid=!0;zo.prototype._attrsAffectingSize=["radius"];(0,wH._registerNode)(zo);Xv.Factory.addGetterSetter(zo,"radius",0,(0,Y8.getNumberValidator)());Xv.Factory.addGetterSetter(zo,"angle",0,(0,Y8.getNumberValidator)());Xv.Factory.addGetterSetter(zo,"clockwise",!1);Xv.Factory.backCompat(zo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})});var Z8=Ke(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.Blur=void 0;var X8=Bt(),CH=Un(),EH=Ht();function J8(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var xH=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],SH=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function DH(n,e){let t=n.data,r=n.width,i=n.height,o,s,a,l,c,d,f,m,p,y,_,C,w,S,O,k,z,Z,H,j,ne=e+e+1,se=r-1,T=i-1,N=e+1,q=N*(N+1)/2,U=new J8,de=xH[e],ce=SH[e],ve=null,J=U,he=null,ge=null;for(let ke=1;ke<ne;ke++)J=J.next=new J8,ke===N&&(ve=J);J.next=U,a=s=0;for(let ke=0;ke<i;ke++){C=w=S=O=l=c=d=f=0,m=N*(k=t[s]),p=N*(z=t[s+1]),y=N*(Z=t[s+2]),_=N*(H=t[s+3]),l+=q*k,c+=q*z,d+=q*Z,f+=q*H,J=U;for(let I=0;I<N;I++)J.r=k,J.g=z,J.b=Z,J.a=H,J=J.next;for(let I=1;I<N;I++)o=s+((se<I?se:I)<<2),l+=(J.r=k=t[o])*(j=N-I),c+=(J.g=z=t[o+1])*j,d+=(J.b=Z=t[o+2])*j,f+=(J.a=H=t[o+3])*j,C+=k,w+=z,S+=Z,O+=H,J=J.next;he=U,ge=ve;for(let I=0;I<r;I++)t[s+3]=H=f*de>>ce,H!==0?(H=255/H,t[s]=(l*de>>ce)*H,t[s+1]=(c*de>>ce)*H,t[s+2]=(d*de>>ce)*H):t[s]=t[s+1]=t[s+2]=0,l-=m,c-=p,d-=y,f-=_,m-=he.r,p-=he.g,y-=he.b,_-=he.a,o=a+((o=I+e+1)<se?o:se)<<2,C+=he.r=t[o],w+=he.g=t[o+1],S+=he.b=t[o+2],O+=he.a=t[o+3],l+=C,c+=w,d+=S,f+=O,he=he.next,m+=k=ge.r,p+=z=ge.g,y+=Z=ge.b,_+=H=ge.a,C-=k,w-=z,S-=Z,O-=H,ge=ge.next,s+=4;a+=r}for(let ke=0;ke<r;ke++){w=S=O=C=c=d=f=l=0,s=ke<<2,m=N*(k=t[s]),p=N*(z=t[s+1]),y=N*(Z=t[s+2]),_=N*(H=t[s+3]),l+=q*k,c+=q*z,d+=q*Z,f+=q*H,J=U;for(let L=0;L<N;L++)J.r=k,J.g=z,J.b=Z,J.a=H,J=J.next;let I=r;for(let L=1;L<=e;L++)s=I+ke<<2,l+=(J.r=k=t[s])*(j=N-L),c+=(J.g=z=t[s+1])*j,d+=(J.b=Z=t[s+2])*j,f+=(J.a=H=t[s+3])*j,C+=k,w+=z,S+=Z,O+=H,J=J.next,L<T&&(I+=r);s=ke,he=U,ge=ve;for(let L=0;L<i;L++)o=s<<2,t[o+3]=H=f*de>>ce,H>0?(H=255/H,t[o]=(l*de>>ce)*H,t[o+1]=(c*de>>ce)*H,t[o+2]=(d*de>>ce)*H):t[o]=t[o+1]=t[o+2]=0,l-=m,c-=p,d-=y,f-=_,m-=he.r,p-=he.g,y-=he.b,_-=he.a,o=ke+((o=L+N)<T?o:T)*r<<2,l+=C+=he.r=t[o],c+=w+=he.g=t[o+1],d+=S+=he.b=t[o+2],f+=O+=he.a=t[o+3],he=he.next,m+=k=ge.r,p+=z=ge.g,y+=Z=ge.b,_+=H=ge.a,C-=k,w-=z,S-=Z,O-=H,ge=ge.next,s+=r}}var IH=function(e){let t=Math.round(this.blurRadius());t>0&&DH(e,t)};Zv.Blur=IH;X8.Factory.addGetterSetter(CH.Node,"blurRadius",0,(0,EH.getNumberValidator)(),X8.Factory.afterSetFilter)});var eM=Ke(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.Brighten=void 0;var Q8=Bt(),AH=Un(),MH=Ht(),TH=function(n){let e=this.brightness()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=4)t[i]+=e,t[i+1]+=e,t[i+2]+=e};Qv.Brighten=TH;Q8.Factory.addGetterSetter(AH.Node,"brightness",0,(0,MH.getNumberValidator)(),Q8.Factory.afterSetFilter)});var nM=Ke(e2=>{"use strict";Object.defineProperty(e2,"__esModule",{value:!0});e2.Contrast=void 0;var tM=Bt(),NH=Un(),PH=Ht(),OH=function(n){let e=Math.pow((this.contrast()+100)/100,2),t=n.data,r=t.length,i=150,o=150,s=150;for(let a=0;a<r;a+=4)i=t[a],o=t[a+1],s=t[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,t[a]=i,t[a+1]=o,t[a+2]=s};e2.Contrast=OH;tM.Factory.addGetterSetter(NH.Node,"contrast",0,(0,PH.getNumberValidator)(),tM.Factory.afterSetFilter)});var iM=Ke(n2=>{"use strict";Object.defineProperty(n2,"__esModule",{value:!0});n2.Emboss=void 0;var Cl=Bt(),t2=Un(),kH=Pn(),rM=Ht(),RH=function(n){let e=this.embossStrength()*10,t=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),o=n.data,s=n.width,a=n.height,l=s*4,c=0,d=0,f=a;switch(r){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:kH.Util.error("Unknown emboss direction: "+r)}do{let m=(f-1)*l,p=c;f+p<1&&(p=0),f+p>a&&(p=0);let y=(f-1+p)*s*4,_=s;do{let C=m+(_-1)*4,w=d;_+w<1&&(w=0),_+w>s&&(w=0);let S=y+(_-1+w)*4,O=o[C]-o[S],k=o[C+1]-o[S+1],z=o[C+2]-o[S+2],Z=O,H=Z>0?Z:-Z,j=k>0?k:-k,ne=z>0?z:-z;if(j>H&&(Z=k),ne>H&&(Z=z),Z*=e,i){let se=o[C]+Z,T=o[C+1]+Z,N=o[C+2]+Z;o[C]=se>255?255:se<0?0:se,o[C+1]=T>255?255:T<0?0:T,o[C+2]=N>255?255:N<0?0:N}else{let se=t-Z;se<0?se=0:se>255&&(se=255),o[C]=o[C+1]=o[C+2]=se}}while(--_)}while(--f)};n2.Emboss=RH;Cl.Factory.addGetterSetter(t2.Node,"embossStrength",.5,(0,rM.getNumberValidator)(),Cl.Factory.afterSetFilter);Cl.Factory.addGetterSetter(t2.Node,"embossWhiteLevel",.5,(0,rM.getNumberValidator)(),Cl.Factory.afterSetFilter);Cl.Factory.addGetterSetter(t2.Node,"embossDirection","top-left",void 0,Cl.Factory.afterSetFilter);Cl.Factory.addGetterSetter(t2.Node,"embossBlend",!1,void 0,Cl.Factory.afterSetFilter)});var sM=Ke(r2=>{"use strict";Object.defineProperty(r2,"__esModule",{value:!0});r2.Enhance=void 0;var oM=Bt(),LH=Un(),FH=Ht();function yE(n,e,t,r,i){let o=t-e,s=i-r;if(o===0)return r+s/2;if(s===0)return r;let a=(n-e)/o;return a=s*a+r,a}var jH=function(n){let e=n.data,t=e.length,r=e[0],i=r,o,s=e[1],a=s,l,c=e[2],d=c,f,m=this.enhance();if(m===0)return;for(let O=0;O<t;O+=4)o=e[O+0],o<r?r=o:o>i&&(i=o),l=e[O+1],l<s?s=l:l>a&&(a=l),f=e[O+2],f<c?c=f:f>d&&(d=f);i===r&&(i=255,r=0),a===s&&(a=255,s=0),d===c&&(d=255,c=0);let p,y,_,C,w,S;if(m>0)p=i+m*(255-i),y=r-m*(r-0),_=a+m*(255-a),C=s-m*(s-0),w=d+m*(255-d),S=c-m*(c-0);else{let O=(i+r)*.5;p=i+m*(i-O),y=r+m*(r-O);let k=(a+s)*.5;_=a+m*(a-k),C=s+m*(s-k);let z=(d+c)*.5;w=d+m*(d-z),S=c+m*(c-z)}for(let O=0;O<t;O+=4)e[O+0]=yE(e[O+0],r,i,y,p),e[O+1]=yE(e[O+1],s,a,C,_),e[O+2]=yE(e[O+2],c,d,S,w)};r2.Enhance=jH;oM.Factory.addGetterSetter(LH.Node,"enhance",0,(0,FH.getNumberValidator)(),oM.Factory.afterSetFilter)});var aM=Ke(i2=>{"use strict";Object.defineProperty(i2,"__esModule",{value:!0});i2.Grayscale=void 0;var BH=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};i2.Grayscale=BH});var lM=Ke(o2=>{"use strict";Object.defineProperty(o2,"__esModule",{value:!0});o2.HSL=void 0;var Yd=Bt(),bE=Un(),_E=Ht();Yd.Factory.addGetterSetter(bE.Node,"hue",0,(0,_E.getNumberValidator)(),Yd.Factory.afterSetFilter);Yd.Factory.addGetterSetter(bE.Node,"saturation",0,(0,_E.getNumberValidator)(),Yd.Factory.afterSetFilter);Yd.Factory.addGetterSetter(bE.Node,"luminance",0,(0,_E.getNumberValidator)(),Yd.Factory.afterSetFilter);var VH=function(n){let e=n.data,t=e.length,r=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a=r*i*Math.cos(o*Math.PI/180),l=r*i*Math.sin(o*Math.PI/180),c=.299*r+.701*a+.167*l,d=.587*r-.587*a+.33*l,f=.114*r-.114*a-.497*l,m=.299*r-.299*a-.328*l,p=.587*r+.413*a+.035*l,y=.114*r-.114*a+.293*l,_=.299*r-.3*a+1.25*l,C=.587*r-.586*a-1.05*l,w=.114*r+.886*a-.2*l,S,O,k,z;for(let Z=0;Z<t;Z+=4)S=e[Z+0],O=e[Z+1],k=e[Z+2],z=e[Z+3],e[Z+0]=c*S+d*O+f*k+s,e[Z+1]=m*S+p*O+y*k+s,e[Z+2]=_*S+C*O+w*k+s,e[Z+3]=z};o2.HSL=VH});var cM=Ke(s2=>{"use strict";Object.defineProperty(s2,"__esModule",{value:!0});s2.HSV=void 0;var Kd=Bt(),wE=Un(),CE=Ht(),UH=function(n){let e=n.data,t=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=r*i*Math.cos(o*Math.PI/180),a=r*i*Math.sin(o*Math.PI/180),l=.299*r+.701*s+.167*a,c=.587*r-.587*s+.33*a,d=.114*r-.114*s-.497*a,f=.299*r-.299*s-.328*a,m=.587*r+.413*s+.035*a,p=.114*r-.114*s+.293*a,y=.299*r-.3*s+1.25*a,_=.587*r-.586*s-1.05*a,C=.114*r+.886*s-.2*a;for(let w=0;w<t;w+=4){let S=e[w+0],O=e[w+1],k=e[w+2],z=e[w+3];e[w+0]=l*S+c*O+d*k,e[w+1]=f*S+m*O+p*k,e[w+2]=y*S+_*O+C*k,e[w+3]=z}};s2.HSV=UH;Kd.Factory.addGetterSetter(wE.Node,"hue",0,(0,CE.getNumberValidator)(),Kd.Factory.afterSetFilter);Kd.Factory.addGetterSetter(wE.Node,"saturation",0,(0,CE.getNumberValidator)(),Kd.Factory.afterSetFilter);Kd.Factory.addGetterSetter(wE.Node,"value",0,(0,CE.getNumberValidator)(),Kd.Factory.afterSetFilter)});var uM=Ke(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});a2.Invert=void 0;var HH=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};a2.Invert=HH});var pM=Ke(c2=>{"use strict";Object.defineProperty(c2,"__esModule",{value:!0});c2.Kaleidoscope=void 0;var l2=Bt(),hM=Un(),dM=Pn(),fM=Ht(),zH=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,f=s-l,m=Math.sqrt(d*d+f*f);c=m>c?m:c;let p=s,y=o,_=360/y*Math.PI/180;for(let C=0;C<y;C+=1){let w=Math.sin(C*_),S=Math.cos(C*_);for(let O=0;O<p;O+=1){d=Math.floor(a+c*O/p*S),f=Math.floor(l+c*O/p*w);let k=(f*o+d)*4,z=r[k+0],Z=r[k+1],H=r[k+2],j=r[k+3];k=(C+O*o)*4,i[k+0]=z,i[k+1]=Z,i[k+2]=H,i[k+3]=j}}},qH=function(n,e,t){let r=n.data,i=e.data,o=n.width,s=n.height,a=t.polarCenterX||o/2,l=t.polarCenterY||s/2,c=Math.sqrt(a*a+l*l),d=o-a,f=s-l,m=Math.sqrt(d*d+f*f);c=m>c?m:c;let p=s,y=o,_=t.polarRotation||0,C,w;for(d=0;d<o;d+=1)for(f=0;f<s;f+=1){let S=d-a,O=f-l,k=Math.sqrt(S*S+O*O)*p/c,z=(Math.atan2(O,S)*180/Math.PI+360+_)%360;z=z*y/360,C=Math.floor(z),w=Math.floor(k);let Z=(w*o+C)*4,H=r[Z+0],j=r[Z+1],ne=r[Z+2],se=r[Z+3];Z=(f*o+d)*4,i[Z+0]=H,i[Z+1]=j,i[Z+2]=ne,i[Z+3]=se}},GH=function(n){let e=n.width,t=n.height,r,i,o,s,a,l,c,d,f,m,p=Math.round(this.kaleidoscopePower()),y=Math.round(this.kaleidoscopeAngle()),_=Math.floor(e*(y%360)/360);if(p<1)return;let C=dM.Util.createCanvasElement();C.width=e,C.height=t;let w=C.getContext("2d").getImageData(0,0,e,t);dM.Util.releaseCanvas(C),zH(n,w,{polarCenterX:e/2,polarCenterY:t/2});let S=e/Math.pow(2,p);for(;S<=8;)S=S*2,p-=1;S=Math.ceil(S);let O=S,k=0,z=O,Z=1;for(_+S>e&&(k=O,z=0,Z=-1),i=0;i<t;i+=1)for(r=k;r!==z;r+=Z)o=Math.round(r+_)%e,f=(e*i+o)*4,a=w.data[f+0],l=w.data[f+1],c=w.data[f+2],d=w.data[f+3],m=(e*i+r)*4,w.data[m+0]=a,w.data[m+1]=l,w.data[m+2]=c,w.data[m+3]=d;for(i=0;i<t;i+=1)for(O=Math.floor(S),s=0;s<p;s+=1){for(r=0;r<O+1;r+=1)f=(e*i+r)*4,a=w.data[f+0],l=w.data[f+1],c=w.data[f+2],d=w.data[f+3],m=(e*i+O*2-r-1)*4,w.data[m+0]=a,w.data[m+1]=l,w.data[m+2]=c,w.data[m+3]=d;O*=2}qH(w,n,{polarRotation:0})};c2.Kaleidoscope=GH;l2.Factory.addGetterSetter(hM.Node,"kaleidoscopePower",2,(0,fM.getNumberValidator)(),l2.Factory.afterSetFilter);l2.Factory.addGetterSetter(hM.Node,"kaleidoscopeAngle",0,(0,fM.getNumberValidator)(),l2.Factory.afterSetFilter)});var mM=Ke(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});d2.Mask=void 0;var gM=Bt(),$H=Un(),WH=Ht();function u2(n,e,t){let r=(t*n.width+e)*4,i=[];return i.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),i}function Mp(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}function YH(n){let e=[0,0,0];for(let t=0;t<n.length;t++)e[0]+=n[t][0],e[1]+=n[t][1],e[2]+=n[t][2];return e[0]/=n.length,e[1]/=n.length,e[2]/=n.length,e}function KH(n,e){let t=u2(n,0,0),r=u2(n,n.width-1,0),i=u2(n,0,n.height-1),o=u2(n,n.width-1,n.height-1),s=e||10;if(Mp(t,r)<s&&Mp(r,o)<s&&Mp(o,i)<s&&Mp(i,t)<s){let a=YH([r,t,o,i]),l=[];for(let c=0;c<n.width*n.height;c++){let d=Mp(a,[n.data[c*4],n.data[c*4+1],n.data[c*4+2]]);l[c]=d<s?0:255}return l}}function XH(n,e){for(let t=0;t<n.width*n.height;t++)n.data[4*t+3]=e[t]}function JH(n,e,t){let r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let f=0;f<i;f++)for(let m=0;m<i;m++){let p=a+f-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[f*i+m];d+=n[_]*C}}s[c]=d===255*8?255:0}return s}function ZH(n,e,t){let r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let f=0;f<i;f++)for(let m=0;m<i;m++){let p=a+f-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[f*i+m];d+=n[_]*C}}s[c]=d>=255*4?255:0}return s}function QH(n,e,t){let r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<t;a++)for(let l=0;l<e;l++){let c=a*e+l,d=0;for(let f=0;f<i;f++)for(let m=0;m<i;m++){let p=a+f-o,y=l+m-o;if(p>=0&&p<t&&y>=0&&y<e){let _=p*e+y,C=r[f*i+m];d+=n[_]*C}}s[c]=d}return s}var ez=function(n){let e=this.threshold(),t=KH(n,e);return t&&(t=JH(t,n.width,n.height),t=ZH(t,n.width,n.height),t=QH(t,n.width,n.height),XH(n,t)),n};d2.Mask=ez;gM.Factory.addGetterSetter($H.Node,"threshold",0,(0,WH.getNumberValidator)(),gM.Factory.afterSetFilter)});var yM=Ke(h2=>{"use strict";Object.defineProperty(h2,"__esModule",{value:!0});h2.Noise=void 0;var vM=Bt(),tz=Un(),nz=Ht(),rz=function(n){let e=this.noise()*255,t=n.data,r=t.length,i=e/2;for(let o=0;o<r;o+=4)t[o+0]+=i-2*i*Math.random(),t[o+1]+=i-2*i*Math.random(),t[o+2]+=i-2*i*Math.random()};h2.Noise=rz;vM.Factory.addGetterSetter(tz.Node,"noise",.2,(0,nz.getNumberValidator)(),vM.Factory.afterSetFilter)});var _M=Ke(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});f2.Pixelate=void 0;var bM=Bt(),iz=Pn(),oz=Un(),sz=Ht(),az=function(n){let e=Math.ceil(this.pixelSize()),t=n.width,r=n.height,i=Math.ceil(t/e),o=Math.ceil(r/e),s=n.data;if(e<=0){iz.Util.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<o;l+=1){let c=0,d=0,f=0,m=0,p=a*e,y=p+e,_=l*e,C=_+e,w=0;for(let S=p;S<y;S+=1)if(!(S>=t))for(let O=_;O<C;O+=1){if(O>=r)continue;let k=(t*O+S)*4;c+=s[k+0],d+=s[k+1],f+=s[k+2],m+=s[k+3],w+=1}c=c/w,d=d/w,f=f/w,m=m/w;for(let S=p;S<y;S+=1)if(!(S>=t))for(let O=_;O<C;O+=1){if(O>=r)continue;let k=(t*O+S)*4;s[k+0]=c,s[k+1]=d,s[k+2]=f,s[k+3]=m}}};f2.Pixelate=az;bM.Factory.addGetterSetter(oz.Node,"pixelSize",8,(0,sz.getNumberValidator)(),bM.Factory.afterSetFilter)});var CM=Ke(p2=>{"use strict";Object.defineProperty(p2,"__esModule",{value:!0});p2.Posterize=void 0;var wM=Bt(),lz=Un(),cz=Ht(),uz=function(n){let e=Math.round(this.levels()*254)+1,t=n.data,r=t.length,i=255/e;for(let o=0;o<r;o+=1)t[o]=Math.floor(t[o]/i)*i};p2.Posterize=uz;wM.Factory.addGetterSetter(lz.Node,"levels",.5,(0,cz.getNumberValidator)(),wM.Factory.afterSetFilter)});var EM=Ke(m2=>{"use strict";Object.defineProperty(m2,"__esModule",{value:!0});m2.RGB=void 0;var g2=Bt(),EE=Un(),dz=Ht(),hz=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue();for(let s=0;s<t;s+=4){let a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=a*r,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]}};m2.RGB=hz;g2.Factory.addGetterSetter(EE.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});g2.Factory.addGetterSetter(EE.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});g2.Factory.addGetterSetter(EE.Node,"blue",0,dz.RGBComponent,g2.Factory.afterSetFilter)});var xM=Ke(y2=>{"use strict";Object.defineProperty(y2,"__esModule",{value:!0});y2.RGBA=void 0;var Tp=Bt(),v2=Un(),fz=Ht(),pz=function(n){let e=n.data,t=e.length,r=this.red(),i=this.green(),o=this.blue(),s=this.alpha();for(let a=0;a<t;a+=4){let l=1-s;e[a]=r*s+e[a]*l,e[a+1]=i*s+e[a+1]*l,e[a+2]=o*s+e[a+2]*l}};y2.RGBA=pz;Tp.Factory.addGetterSetter(v2.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});Tp.Factory.addGetterSetter(v2.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});Tp.Factory.addGetterSetter(v2.Node,"blue",0,fz.RGBComponent,Tp.Factory.afterSetFilter);Tp.Factory.addGetterSetter(v2.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n})});var SM=Ke(b2=>{"use strict";Object.defineProperty(b2,"__esModule",{value:!0});b2.Sepia=void 0;var gz=function(n){let e=n.data,t=e.length;for(let r=0;r<t;r+=4){let i=e[r+0],o=e[r+1],s=e[r+2];e[r+0]=Math.min(255,i*.393+o*.769+s*.189),e[r+1]=Math.min(255,i*.349+o*.686+s*.168),e[r+2]=Math.min(255,i*.272+o*.534+s*.131)}};b2.Sepia=gz});var DM=Ke(_2=>{"use strict";Object.defineProperty(_2,"__esModule",{value:!0});_2.Solarize=void 0;var mz=function(n){let e=n.data,t=n.width,r=n.height,i=t*4,o=r;do{let s=(o-1)*i,a=t;do{let l=s+(a-1)*4,c=e[l],d=e[l+1],f=e[l+2];c>127&&(c=255-c),d>127&&(d=255-d),f>127&&(f=255-f),e[l]=c,e[l+1]=d,e[l+2]=f}while(--a)}while(--o)};_2.Solarize=mz});var AM=Ke(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});w2.Threshold=void 0;var IM=Bt(),vz=Un(),yz=Ht(),bz=function(n){let e=this.threshold()*255,t=n.data,r=t.length;for(let i=0;i<r;i+=1)t[i]=t[i]<e?0:255};w2.Threshold=bz;IM.Factory.addGetterSetter(vz.Node,"threshold",.5,(0,yz.getNumberValidator)(),IM.Factory.afterSetFilter)});var NM=Ke(C2=>{"use strict";Object.defineProperty(C2,"__esModule",{value:!0});C2.Konva=void 0;var MM=n8(),_z=i8(),wz=u8(),Cz=d8(),Ez=f8(),xz=p8(),TM=v8(),Sz=ZC(),Dz=Ov(),Iz=aE(),Az=_8(),Mz=x8(),Tz=D8(),Nz=I8(),Pz=pE(),Oz=V8(),kz=W8(),Rz=K8(),Lz=Z8(),Fz=eM(),jz=nM(),Bz=iM(),Vz=sM(),Uz=aM(),Hz=lM(),zz=cM(),qz=uM(),Gz=pM(),$z=mM(),Wz=yM(),Yz=_M(),Kz=CM(),Xz=EM(),Jz=xM(),Zz=SM(),Qz=DM(),eq=AM();C2.Konva=MM.Konva.Util._assign(MM.Konva,{Arc:_z.Arc,Arrow:wz.Arrow,Circle:Cz.Circle,Ellipse:Ez.Ellipse,Image:xz.Image,Label:TM.Label,Tag:TM.Tag,Line:Sz.Line,Path:Dz.Path,Rect:Iz.Rect,RegularPolygon:Az.RegularPolygon,Ring:Mz.Ring,Sprite:Tz.Sprite,Star:Nz.Star,Text:Pz.Text,TextPath:Oz.TextPath,Transformer:kz.Transformer,Wedge:Rz.Wedge,Filters:{Blur:Lz.Blur,Brighten:Fz.Brighten,Contrast:jz.Contrast,Emboss:Bz.Emboss,Enhance:Vz.Enhance,Grayscale:Uz.Grayscale,HSL:Hz.HSL,HSV:zz.HSV,Invert:qz.Invert,Kaleidoscope:Gz.Kaleidoscope,Mask:$z.Mask,Noise:Wz.Noise,Pixelate:Yz.Pixelate,Posterize:Kz.Posterize,RGB:Xz.RGB,RGBA:Jz.RGBA,Sepia:Zz.Sepia,Solarize:Qz.Solarize,Threshold:eq.Threshold}})});var kM=Ke((PM,OM)=>{"use strict";Object.defineProperty(PM,"__esModule",{value:!0});var tq=NM();OM.exports=tq.Konva});var IE=Ke(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});var SE=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};DE.default=SE});var ME=Ke(Rp=>{"use strict";var LM=Rp&&Rp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Rp,"__esModule",{value:!0});var sq=LM((S3(),ON(kN))),aq=LM(IE()),AE=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=sq.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>ie(this,null,function*(){var s,a,l;let c=null,d=null,f=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let w=yield o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(f=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(d=[],c=null,m=200,p="OK")}catch{o.status===404&&_===""?(m=204,p="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,p="OK"),c&&this.shouldThrowOnError)throw new aq.default(c)}return{error:c,data:d,count:f,status:m,statusText:p}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};Rp.default=AE});var NE=Ke(Lp=>{"use strict";var lq=Lp&&Lp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Lp,"__esModule",{value:!0});var cq=lq(ME()),TE=class extends cq.default{select(e){let t=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lp.default=TE});var S2=Ke(Fp=>{"use strict";var uq=Fp&&Fp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fp,"__esModule",{value:!0});var dq=uq(NE()),PE=class extends dq.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Fp.default=PE});var kE=Ke(Bp=>{"use strict";var hq=Bp&&Bp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bp,"__esModule",{value:!0});var jp=hq(S2()),OE=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new jp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new jp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){let c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new jp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new jp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new jp.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bp.default=OE});var FM=Ke(D2=>{"use strict";Object.defineProperty(D2,"__esModule",{value:!0});D2.version=void 0;D2.version="0.0.0-automated"});var jM=Ke(I2=>{"use strict";Object.defineProperty(I2,"__esModule",{value:!0});I2.DEFAULT_HEADERS=void 0;var fq=FM();I2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fq.version}`}});var VM=Ke(Vp=>{"use strict";var BM=Vp&&Vp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vp,"__esModule",{value:!0});var pq=BM(kE()),gq=BM(S2()),mq=jM(),RE=class n{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},mq.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new pq.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${e}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new gq.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Vp.default=RE});var WM=Ke(Fr=>{"use strict";var Xd=Fr&&Fr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.PostgrestError=Fr.PostgrestBuilder=Fr.PostgrestTransformBuilder=Fr.PostgrestFilterBuilder=Fr.PostgrestQueryBuilder=Fr.PostgrestClient=void 0;var UM=Xd(VM());Fr.PostgrestClient=UM.default;var HM=Xd(kE());Fr.PostgrestQueryBuilder=HM.default;var zM=Xd(S2());Fr.PostgrestFilterBuilder=zM.default;var qM=Xd(NE());Fr.PostgrestTransformBuilder=qM.default;var GM=Xd(ME());Fr.PostgrestBuilder=GM.default;var $M=Xd(IE());Fr.PostgrestError=$M.default;Fr.default={PostgrestClient:UM.default,PostgrestQueryBuilder:HM.default,PostgrestFilterBuilder:zM.default,PostgrestTransformBuilder:qM.default,PostgrestBuilder:GM.default,PostgrestError:$M.default}});var Wy;function Gg(){return Wy}function es(n){let e=Wy;return Wy=n,e}var D3=Symbol("NotFound");function _u(n){return n===D3||n?.name==="\u0275NotFound"}function Xg(n,e){return Object.is(n,e)}var hr=null,$g=!1,Yy=1,RN=null,Ur=Symbol("SIGNAL");function mt(n){let e=hr;return hr=n,e}function Jg(){return hr}var Ua={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wu(n){if($g)throw new Error("");if(hr===null)return;hr.consumerOnSignalRead(n);let e=hr.nextProducerIndex++;if(em(hr),e<hr.producerNode.length&&hr.producerNode[e]!==n&&jh(hr)){let t=hr.producerNode[e];Qg(t,hr.producerIndexOfThis[e])}hr.producerNode[e]!==n&&(hr.producerNode[e]=n,hr.producerIndexOfThis[e]=jh(hr)?A3(n,hr,e):0),hr.producerLastReadVersion[e]=n.version}function I3(){Yy++}function Zg(n){if(!(jh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Yy)){if(!n.producerMustRecompute(n)&&!Cu(n)){Kg(n);return}n.producerRecomputeValue(n),Kg(n)}}function Ky(n){if(n.liveConsumerNode===void 0)return;let e=$g;$g=!0;try{for(let t of n.liveConsumerNode)t.dirty||LN(t)}finally{$g=e}}function Xy(){return hr?.consumerAllowSignalWrites!==!1}function LN(n){n.dirty=!0,Ky(n),n.consumerMarkedDirty?.(n)}function Kg(n){n.dirty=!1,n.lastCleanEpoch=Yy}function Ha(n){return n&&(n.nextProducerIndex=0),mt(n)}function Fl(n,e){if(mt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(jh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Qg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Cu(n){em(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Zg(t),r!==t.version))return!0}return!1}function Eu(n){if(em(n),jh(n))for(let e=0;e<n.producerNode.length;e++)Qg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function A3(n,e,t){if(M3(n),n.liveConsumerNode.length===0&&T3(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=A3(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Qg(n,e){if(M3(n),n.liveConsumerNode.length===1&&T3(n))for(let r=0;r<n.producerNode.length;r++)Qg(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];em(i),i.producerIndexOfThis[r]=e}}function jh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function em(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function M3(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function T3(n){return n.producerNode!==void 0}function tm(n){RN?.(n)}function nm(n,e){let t=Object.create(FN);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Zg(t),wu(t),t.value===Fh)throw t.error;return t.value};return r[Ur]=t,tm(t),r}var Wg=Symbol("UNSET"),Yg=Symbol("COMPUTING"),Fh=Symbol("ERRORED"),FN=Xe(Ce({},Ua),{value:Wg,dirty:!0,error:null,equal:Xg,kind:"computed",producerMustRecompute(n){return n.value===Wg||n.value===Yg},producerRecomputeValue(n){if(n.value===Yg)throw new Error("");let e=n.value;n.value=Yg;let t=Ha(n),r,i=!1;try{r=n.computation(),mt(null),i=e!==Wg&&e!==Fh&&r!==Fh&&n.equal(e,r)}catch(o){r=Fh,n.error=o}finally{Fl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function jN(){throw new Error}var N3=jN;function P3(n){N3(n)}function Jy(n){N3=n}var BN=null;function Zy(n,e){let t=Object.create(rm);t.value=n,e!==void 0&&(t.equal=e);let r=()=>O3(t);return r[Ur]=t,tm(t),[r,s=>xu(t,s),s=>Qy(t,s)]}function O3(n){return wu(n),n.value}function xu(n,e){Xy()||P3(n),n.equal(n.value,e)||(n.value=e,VN(n))}function Qy(n,e){Xy()||P3(n),xu(n,e(n.value))}var rm=Xe(Ce({},Ua),{equal:Xg,value:void 0,kind:"signal"});function VN(n){n.version++,I3(),Ky(n),BN?.(n)}function Mt(n){return typeof n=="function"}function Su(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var im=Su(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Bh(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ir=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Mt(r))try{r()}catch(o){e=o instanceof im?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{k3(o)}catch(s){e=e??[],s instanceof im?e=[...e,...s.errors]:e.push(s)}}if(e)throw new im(e)}}add(e){var t;if(e&&e!==this)if(this.closed)k3(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Bh(t,e)}remove(e){let{_finalizers:t}=this;t&&Bh(t,e),e instanceof n&&e._removeParent(this)}};ir.EMPTY=(()=>{let n=new ir;return n.closed=!0,n})();var eb=ir.EMPTY;function om(n){return n instanceof ir||n&&"closed"in n&&Mt(n.remove)&&Mt(n.add)&&Mt(n.unsubscribe)}function k3(n){Mt(n)?n():n.unsubscribe()}var wo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Du={setTimeout(n,e,...t){let{delegate:r}=Du;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Du;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function sm(n){Du.setTimeout(()=>{let{onUnhandledError:e}=wo;if(e)e(n);else throw n})}function Vh(){}var R3=tb("C",void 0,void 0);function L3(n){return tb("E",void 0,n)}function F3(n){return tb("N",n,void 0)}function tb(n,e,t){return{kind:n,value:e,error:t}}var jl=null;function Iu(n){if(wo.useDeprecatedSynchronousErrorHandling){let e=!jl;if(e&&(jl={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=jl;if(jl=null,t)throw r}}else n()}function j3(n){wo.useDeprecatedSynchronousErrorHandling&&jl&&(jl.errorThrown=!0,jl.error=n)}var Bl=class extends ir{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,om(e)&&e.add(this)):this.destination=zN}static create(e,t,r){return new Au(e,t,r)}next(e){this.isStopped?rb(F3(e),this):this._next(e)}error(e){this.isStopped?rb(L3(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rb(R3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UN=Function.prototype.bind;function nb(n,e){return UN.call(n,e)}var ib=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){am(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){am(r)}else am(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){am(t)}}},Au=class extends Bl{constructor(e,t,r){super();let i;if(Mt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&wo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&nb(e.next,o),error:e.error&&nb(e.error,o),complete:e.complete&&nb(e.complete,o)}):i=e}this.destination=new ib(i)}};function am(n){wo.useDeprecatedSynchronousErrorHandling?j3(n):sm(n)}function HN(n){throw n}function rb(n,e){let{onStoppedNotification:t}=wo;t&&Du.setTimeout(()=>t(n,e))}var zN={closed:!0,next:Vh,error:HN,complete:Vh};var Mu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Di(n){return n}function ob(...n){return sb(n)}function sb(n){return n.length===0?Di:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ut=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=GN(t)?t:new Au(t,r,i);return Iu(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=B3(r),new r((i,o)=>{let s=new Au({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Mu](){return this}pipe(...t){return sb(t)(this)}toPromise(t){return t=B3(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function B3(n){var e;return(e=n??wo.Promise)!==null&&e!==void 0?e:Promise}function qN(n){return n&&Mt(n.next)&&Mt(n.error)&&Mt(n.complete)}function GN(n){return n&&n instanceof Bl||qN(n)&&om(n)}function ab(n){return Mt(n?.lift)}function Yt(n){return e=>{if(ab(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gt(n,e,t,r,i){return new lb(n,e,t,r,i)}var lb=class extends Bl{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Tu(){return Yt((n,e)=>{let t=null;n._refCount++;let r=Gt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Nu=class extends Ut{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ab(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ir;let t=this.getSubject();e.add(this.source.subscribe(Gt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ir.EMPTY)}return e}refCount(){return Tu()(this)}};var V3=Su(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Gn=(()=>{class n extends Ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new lm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new V3}next(t){Iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?eb:(this.currentObservers=null,o.push(t),new ir(()=>{this.currentObservers=null,Bh(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ut;return t.source=this,t}}return n.create=(e,t)=>new lm(e,t),n})(),lm=class extends Gn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:eb}};var fn=class extends Gn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fi=new Ut(n=>n.complete());function U3(n){return n&&Mt(n.schedule)}function H3(n){return n[n.length-1]}function cm(n){return Mt(H3(n))?n.pop():void 0}function za(n){return U3(H3(n))?n.pop():void 0}function q3(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function z3(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vl(n){return this instanceof Vl?(this.v=n,this):new Vl(n)}function G3(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(y){return Promise.resolve(y).then(p,f)}}function a(p,y){r[p]&&(i[p]=function(_){return new Promise(function(C,w){o.push([p,_,C,w])>1||l(p,_)})},y&&(i[p]=y(i[p])))}function l(p,y){try{c(r[p](y))}catch(_){m(o[0][3],_)}}function c(p){p.value instanceof Vl?Promise.resolve(p.value.v).then(d,f):m(o[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function m(p,y){p(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function $3(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof z3=="function"?z3(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var um=n=>n&&typeof n.length=="number"&&typeof n!="function";function dm(n){return Mt(n?.then)}function hm(n){return Mt(n[Mu])}function fm(n){return Symbol.asyncIterator&&Mt(n?.[Symbol.asyncIterator])}function pm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $N(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gm=$N();function mm(n){return Mt(n?.[gm])}function vm(n){return G3(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Vl(t.read());if(i)return yield Vl(void 0);yield yield Vl(r)}}finally{t.releaseLock()}})}function ym(n){return Mt(n?.getReader)}function or(n){if(n instanceof Ut)return n;if(n!=null){if(hm(n))return WN(n);if(um(n))return YN(n);if(dm(n))return KN(n);if(fm(n))return W3(n);if(mm(n))return XN(n);if(ym(n))return JN(n)}throw pm(n)}function WN(n){return new Ut(e=>{let t=n[Mu]();if(Mt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YN(n){return new Ut(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function KN(n){return new Ut(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,sm)})}function XN(n){return new Ut(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function W3(n){return new Ut(e=>{ZN(n,e).catch(t=>e.error(t))})}function JN(n){return W3(vm(n))}function ZN(n,e){var t,r,i,o;return q3(this,void 0,void 0,function*(){try{for(t=$3(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function pi(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function bm(n,e=0){return Yt((t,r)=>{t.subscribe(Gt(r,i=>pi(r,n,()=>r.next(i),e),()=>pi(r,n,()=>r.complete(),e),i=>pi(r,n,()=>r.error(i),e)))})}function _m(n,e=0){return Yt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Y3(n,e){return or(n).pipe(_m(e),bm(e))}function K3(n,e){return or(n).pipe(_m(e),bm(e))}function X3(n,e){return new Ut(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function J3(n,e){return new Ut(t=>{let r;return pi(t,e,()=>{r=n[gm](),pi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Mt(r?.return)&&r.return()})}function wm(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ut(t=>{pi(t,e,()=>{let r=n[Symbol.asyncIterator]();pi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Z3(n,e){return wm(vm(n),e)}function Q3(n,e){if(n!=null){if(hm(n))return Y3(n,e);if(um(n))return X3(n,e);if(dm(n))return K3(n,e);if(fm(n))return wm(n,e);if(mm(n))return J3(n,e);if(ym(n))return Z3(n,e)}throw pm(n)}function Mn(n,e){return e?Q3(n,e):or(n)}function ht(...n){let e=za(n);return Mn(n,e)}function Pu(n,e){let t=Mt(n)?n:()=>n,r=i=>i.error(t());return new Ut(e?i=>e.schedule(r,0,i):r)}function cb(n){return!!n&&(n instanceof Ut||Mt(n.lift)&&Mt(n.subscribe))}var qs=Su(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ot(n,e){return Yt((t,r)=>{let i=0;t.subscribe(Gt(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:QN}=Array;function eP(n,e){return QN(e)?n(...e):n(e)}function Cm(n){return Ot(e=>eP(n,e))}var{isArray:tP}=Array,{getPrototypeOf:nP,prototype:rP,keys:iP}=Object;function Em(n){if(n.length===1){let e=n[0];if(tP(e))return{args:e,keys:null};if(oP(e)){let t=iP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function oP(n){return n&&typeof n=="object"&&nP(n)===rP}function xm(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Sm(...n){let e=za(n),t=cm(n),{args:r,keys:i}=Em(n);if(r.length===0)return Mn([],e);let o=new Ut(sP(r,e,i?s=>xm(i,s):Di));return t?o.pipe(Cm(t)):o}function sP(n,e,t=Di){return r=>{ex(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)ex(e,()=>{let c=Mn(n[l],e),d=!1;c.subscribe(Gt(r,f=>{o[l]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ex(n,e,t){n?pi(t,n,e):e()}function tx(n,e,t,r,i,o,s,a){let l=[],c=0,d=0,f=!1,m=()=>{f&&!l.length&&!c&&e.complete()},p=_=>c<r?y(_):l.push(_),y=_=>{o&&e.next(_),c++;let C=!1;or(t(_,d++)).subscribe(Gt(e,w=>{i?.(w),o?p(w):e.next(w)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let w=l.shift();s?pi(e,s,()=>y(w)):y(w)}m()}catch(w){e.error(w)}}))};return n.subscribe(Gt(e,p,()=>{f=!0,m()})),()=>{a?.()}}function sr(n,e,t=1/0){return Mt(e)?sr((r,i)=>Ot((o,s)=>e(r,o,i,s))(or(n(r,i))),t):(typeof e=="number"&&(t=e),Yt((r,i)=>tx(r,i,n,t)))}function Ou(n=1/0){return sr(Di,n)}function nx(){return Ou(1)}function ku(...n){return nx()(Mn(n,za(n)))}function Uh(n){return new Ut(e=>{or(n()).subscribe(e)})}function ub(...n){let e=cm(n),{args:t,keys:r}=Em(n),i=new Ut(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let f=!1;or(t[d]).subscribe(Gt(o,m=>{f||(f=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?xm(r,a):a),o.complete())}))}});return e?i.pipe(Cm(e)):i}function Qr(n,e){return Yt((t,r)=>{let i=0;t.subscribe(Gt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Gs(n){return Yt((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Gt(t,void 0,void 0,s=>{o=or(n(s,Gs(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function rx(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Gt(s,d=>{let f=c++;l=a?n(l,d,f):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function $s(n,e){return Mt(e)?sr(n,e,1):sr(n,1)}function qa(n){return Yt((e,t)=>{let r=!1;e.subscribe(Gt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ws(n){return n<=0?()=>fi:Yt((e,t)=>{let r=0;e.subscribe(Gt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Dm(n=aP){return Yt((e,t)=>{let r=!1;e.subscribe(Gt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function aP(){return new qs}function Ul(n){return Yt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ys(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qr((i,o)=>n(i,o,r)):Di,Ws(1),t?qa(e):Dm(()=>new qs))}function Ru(n){return n<=0?()=>fi:Yt((e,t)=>{let r=[];e.subscribe(Gt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function db(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qr((i,o)=>n(i,o,r)):Di,Ru(1),t?qa(e):Dm(()=>new qs))}function hb(n,e){return Yt(rx(n,e,arguments.length>=2,!0))}function fb(...n){let e=za(n);return Yt((t,r)=>{(e?ku(n,t,e):ku(n,t)).subscribe(r)})}function gi(n,e){return Yt((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Gt(r,l=>{i?.unsubscribe();let c=0,d=o++;or(n(l,d)).subscribe(i=Gt(r,f=>r.next(e?e(l,f,d,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Im(n){return Yt((e,t)=>{or(n).subscribe(Gt(t,()=>t.complete(),Vh)),!t.closed&&e.subscribe(t)})}function xr(n,e,t){let r=Mt(n)||e||t?{next:n,error:e,complete:t}:n;return r?Yt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Gt(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Di}function ix(n){let e=mt(null);try{return n()}finally{mt(e)}}var Pm="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$e=class extends Error{code;constructor(e,t){super(Js(e,t)),this.code=e}};function lP(n){return`NG0${Math.abs(n)}`}function Js(n,e){return`${lP(n)}${e?": "+e:""}`}var Wh=globalThis;function sn(n){for(let e in n)if(n[e]===sn)return e;throw Error("")}function ax(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Xs(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Xs).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function xb(n,e){return n?e?`${n} ${e}`:n:e||""}var cP=sn({__forward_ref__:sn});function mi(n){return n.__forward_ref__=mi,n.toString=function(){return Xs(this())},n}function kr(n){return Sb(n)?n():n}function Sb(n){return typeof n=="function"&&n.hasOwnProperty(cP)&&n.__forward_ref__===mi}function lx(n,e){n==null&&Db(e,n,null,"!=")}function Db(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function Ye(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $i(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yh(n){return uP(n,Om)}function Ib(n){return Yh(n)!==null}function uP(n,e){return n.hasOwnProperty(e)&&n[e]||null}function dP(n){let e=n?.[Om]??null;return e||null}function gb(n){return n&&n.hasOwnProperty(Mm)?n[Mm]:null}var Om=sn({\u0275prov:sn}),Mm=sn({\u0275inj:sn}),Je=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Ye({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ab(n){return n&&!!n.\u0275providers}var Mb=sn({\u0275cmp:sn}),Tb=sn({\u0275dir:sn}),Nb=sn({\u0275pipe:sn}),Pb=sn({\u0275mod:sn}),qh=sn({\u0275fac:sn}),Wl=sn({__NG_ELEMENT_ID__:sn}),ox=sn({__NG_ENV_ID__:sn});function Kh(n){return typeof n=="string"?n:n==null?"":String(n)}function Tm(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Kh(n)}var Ob=sn({ngErrorCode:sn}),cx=sn({ngErrorMessage:sn}),zh=sn({ngTokenPath:sn});function kb(n,e){return ux("",-200,e)}function km(n,e){throw new $e(-201,!1)}function hP(n,e){n[zh]??=[];let t=n[zh],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(lx(e.provide,"Token with multi: true should have a provide property"),r=Tm(e.provide)):r=Tm(e),t[0]!==r&&n[zh].unshift(r)}function fP(n,e){let t=n[zh],r=n[Ob],i=n[cx]||n.message;return n.message=gP(i,r,t,e),n}function ux(n,e,t){let r=new $e(e,n);return r[Ob]=e,r[cx]=n,t&&(r[zh]=t),r}function pP(n){return n[Ob]}function gP(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Js(e,`${n}${o}${i}`)}var mb;function dx(){return mb}function Ii(n){let e=mb;return mb=n,e}function Rb(n,e,t){let r=Yh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;km(n,"Injector")}var mP={},Hl=mP,vP="__NG_DI_FLAG__",vb=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=zl(t)||0;try{return this.injector.get(e,r&8?null:Hl,r)}catch(i){if(_u(i))return i;throw i}}};function yP(n,e=0){let t=Gg();if(t===void 0)throw new $e(-203,!1);if(t===null)return Rb(n,void 0,e);{let r=bP(e),i=t.retrieve(n,r);if(_u(i)){if(r.optional)return null;throw i}return i}}function nt(n,e=0){return(dx()||yP)(kr(n),e)}function xe(n,e){return nt(n,zl(e))}function zl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bP(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function yb(n){let e=[];for(let t=0;t<n.length;t++){let r=kr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $e(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=_P(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(nt(i,o))}else e.push(nt(r))}return e}function _P(n){return n[vP]}function ql(n,e){let t=n.hasOwnProperty(qh);return t?n[qh]:null}function hx(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function fx(n){return n.flat(Number.POSITIVE_INFINITY)}function Rm(n,e){n.forEach(t=>Array.isArray(t)?Rm(t,e):e(t))}function Lb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function px(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function gx(n,e,t){let r=Fu(n,e);return r>=0?n[r|1]=t:(r=~r,px(n,r,e,t)),r}function Lm(n,e){let t=Fu(n,e);if(t>=0)return n[t|1]}function Fu(n,e){return wP(n,e,1)}function wP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var $a={},Ai=[],Zs=new Je(""),Fb=new Je("",-1),jb=new Je(""),Gh=class{get(e,t=Hl){if(t===Hl){let i=ux("",-201);throw i.name="\u0275NotFound",i}return t}};function Bb(n){return n[Pb]||null}function Wa(n){return n[Mb]||null}function Vb(n){return n[Tb]||null}function mx(n){return n[Nb]||null}function Qs(n){return{\u0275providers:n}}function vx(n){return Qs([{provide:Zs,multi:!0,useValue:n}])}function yx(...n){return{\u0275providers:Ub(!0,n),\u0275fromNgModule:!0}}function Ub(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Rm(e,s=>{let a=s;Nm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&bx(i,o),t}function bx(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Hb(i,o=>{e(o,r)})}}function Nm(n,e,t,r){if(n=kr(n),!n)return!1;let i=null,o=gb(n),s=!o&&Wa(n);if(!o&&!s){let l=n.ngModule;if(o=gb(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Nm(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Rm(o.imports,d=>{Nm(d,e,t,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&bx(c,e)}if(!a){let c=ql(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ai},i),e({provide:jb,useValue:i,multi:!0},i),e({provide:Zs,useValue:()=>nt(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;Hb(l,d=>{e(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Hb(n,e){for(let t of n)Ab(t)&&(t=t.\u0275providers),Array.isArray(t)?Hb(t,e):e(t)}var CP=sn({provide:String,useValue:sn});function _x(n){return n!==null&&typeof n=="object"&&CP in n}function EP(n){return!!(n&&n.useExisting)}function xP(n){return!!(n&&n.useFactory)}function Gl(n){return typeof n=="function"}function wx(n){return!!n.useClass}var Jh=new Je(""),Am={},sx={},pb;function Zh(){return pb===void 0&&(pb=new Gh),pb}var ar=class{},$l=class extends ar{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,_b(e,s=>this.processProvider(s)),this.records.set(Fb,Lu(void 0,this)),i.has("environment")&&this.records.set(ar,Lu(void 0,this));let o=this.records.get(Jh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jb,Ai,{self:!0}))}retrieve(e,t){let r=zl(t)||0;try{return this.get(e,Hl,r)}catch(i){if(_u(i))return i;throw i}}destroy(){Hh(this),this._destroyed=!0;let e=mt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),mt(e)}}onDestroy(e){return Hh(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Hh(this);let t=es(this),r=Ii(void 0),i;try{return e()}finally{es(t),Ii(r)}}get(e,t=Hl,r){if(Hh(this),e.hasOwnProperty(ox))return e[ox](this);let i=zl(r),o,s=es(this),a=Ii(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let d=MP(e)&&Yh(e);d&&this.injectableDefInScope(d)?c=Lu(bb(e),Am):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?Zh():this.parent;return t=i&8&&t===Hl?null:t,l.get(e,t)}catch(l){let c=pP(l);throw c===-200||c===-201?new $e(c,null):l}finally{Ii(a),es(s)}}resolveInjectorInitializers(){let e=mt(null),t=es(this),r=Ii(void 0),i;try{let o=this.get(Zs,Ai,{self:!0});for(let s of o)s()}finally{es(t),Ii(r),mt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Xs(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=kr(e);let t=Gl(e)?e:kr(e&&e.provide),r=DP(e);if(!Gl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Lu(void 0,Am,!0),i.factory=()=>yb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=mt(null);try{if(t.value===sx)throw kb(Xs(e));return t.value===Am&&(t.value=sx,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&AP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{mt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=kr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function bb(n){let e=Yh(n),t=e!==null?e.factory:ql(n);if(t!==null)return t;if(n instanceof Je)throw new $e(204,!1);if(n instanceof Function)return SP(n);throw new $e(204,!1)}function SP(n){if(n.length>0)throw new $e(204,!1);let t=dP(n);return t!==null?()=>t.factory(n):()=>new n}function DP(n){if(_x(n))return Lu(void 0,n.useValue);{let e=zb(n);return Lu(e,Am)}}function zb(n,e,t){let r;if(Gl(n)){let i=kr(n);return ql(i)||bb(i)}else if(_x(n))r=()=>kr(n.useValue);else if(xP(n))r=()=>n.useFactory(...yb(n.deps||[]));else if(EP(n))r=(i,o)=>nt(kr(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=kr(n&&(n.useClass||n.provide));if(IP(n))r=()=>new i(...yb(n.deps));else return ql(i)||bb(i)}return r}function Hh(n){if(n.destroyed)throw new $e(205,!1)}function Lu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function IP(n){return!!n.deps}function AP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function MP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function _b(n,e){for(let t of n)Array.isArray(t)?_b(t,e):t&&Ab(t)?_b(t.\u0275providers,e):e(t)}function Rr(n,e){let t;n instanceof $l?(Hh(n),t=n):t=new vb(n);let r,i=es(t),o=Ii(void 0);try{return e()}finally{es(i),Ii(o)}}function Cx(){return dx()!==void 0||Gg()!=null}var Eo=0,ut=1,vt=2,fr=3,Wi=4,Yi=5,ju=6,Bu=7,$n=8,Yl=9,ts=10,Tn=11,Vu=12,qb=13,Kl=14,Mi=15,Ya=16,Xl=17,ns=18,Qh=19,Gb=20,Ks=21,Fm=22,ea=23,Ti=24,Jl=25,Sr=26,Ex=1,$b=6,Ka=7,ef=8,Zl=9,Dr=10;function rs(n){return Array.isArray(n)&&typeof n[Ex]=="object"}function xo(n){return Array.isArray(n)&&n[Ex]===!0}function Wb(n){return(n.flags&4)!==0}function Xa(n){return n.componentOffset>-1}function tf(n){return(n.flags&1)===1}function is(n){return!!n.template}function Uu(n){return(n[vt]&512)!==0}function Ql(n){return(n[vt]&256)===256}var Yb="svg",xx="math";function Ki(n){for(;Array.isArray(n);)n=n[Eo];return n}function Kb(n,e){return Ki(e[n])}function So(n,e){return Ki(e[n.index])}function nf(n,e){return n.data[e]}function Xi(n,e){let t=e[n];return rs(t)?t:t[Eo]}function Sx(n){return(n[vt]&4)===4}function jm(n){return(n[vt]&128)===128}function Dx(n){return xo(n[fr])}function Ji(n,e){return e==null?null:n[e]}function Xb(n){n[Xl]=0}function Jb(n){n[vt]&1024||(n[vt]|=1024,jm(n)&&Ja(n))}function Ix(n,e){for(;n>0;)e=e[Kl],n--;return e}function rf(n){return!!(n[vt]&9216||n[Ti]?.dirty)}function Bm(n){n[ts].changeDetectionScheduler?.notify(8),n[vt]&64&&(n[vt]|=1024),rf(n)&&Ja(n)}function Ja(n){n[ts].changeDetectionScheduler?.notify(0);let e=Ga(n);for(;e!==null&&!(e[vt]&8192||(e[vt]|=8192,!jm(e)));)e=Ga(e)}function Zb(n,e){if(Ql(n))throw new $e(911,!1);n[Ks]===null&&(n[Ks]=[]),n[Ks].push(e)}function Ax(n,e){if(n[Ks]===null)return;let t=n[Ks].indexOf(e);t!==-1&&n[Ks].splice(t,1)}function Ga(n){let e=n[fr];return xo(e)?e[fr]:e}function Qb(n){return n[Bu]??=[]}function e5(n){return n.cleanup??=[]}function Mx(n,e,t,r){let i=Qb(e);i.push(t),n.firstCreatePass&&e5(n).push(r,i.length-1)}var Rt={lFrame:zx(null),bindingsEnabled:!0,skipHydrationRootTNode:null},of=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(of||{}),TP=0,wb=!1;function Tx(){return Rt.lFrame.elementDepthCount}function Nx(){Rt.lFrame.elementDepthCount++}function t5(){Rt.lFrame.elementDepthCount--}function n5(){return Rt.bindingsEnabled}function Px(){return Rt.skipHydrationRootTNode!==null}function r5(n){return Rt.skipHydrationRootTNode===n}function i5(){Rt.skipHydrationRootTNode=null}function kt(){return Rt.lFrame.lView}function pr(){return Rt.lFrame.tView}function yt(n){return Rt.lFrame.contextLView=n,n[$n]}function bt(n){return Rt.lFrame.contextLView=null,n}function Ir(){let n=o5();for(;n!==null&&n.type===64;)n=n.parent;return n}function o5(){return Rt.lFrame.currentTNode}function Ox(){let n=Rt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Hu(n,e){let t=Rt.lFrame;t.currentTNode=n,t.isParent=e}function s5(){return Rt.lFrame.isParent}function kx(){Rt.lFrame.isParent=!1}function a5(n){Db("Must never be called in production mode"),TP=n}function l5(){return wb}function zu(n){let e=wb;return wb=n,e}function Rx(){let n=Rt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Lx(n){return Rt.lFrame.bindingIndex=n}function ec(){return Rt.lFrame.bindingIndex++}function Fx(n){let e=Rt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function jx(){return Rt.lFrame.inI18n}function Bx(n,e){let t=Rt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Vm(e)}function Vx(){return Rt.lFrame.currentDirectiveIndex}function Vm(n){Rt.lFrame.currentDirectiveIndex=n}function Ux(n){let e=Rt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function c5(){return Rt.lFrame.currentQueryIndex}function Um(n){Rt.lFrame.currentQueryIndex=n}function NP(n){let e=n[ut];return e.type===2?e.declTNode:e.type===1?n[Yi]:null}function u5(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=NP(o),i===null||(o=o[Kl],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Rt.lFrame=Hx();return r.currentTNode=e,r.lView=n,!0}function Hm(n){let e=Hx(),t=n[ut];Rt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Hx(){let n=Rt.lFrame,e=n===null?null:n.child;return e===null?zx(n):e}function zx(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function qx(){let n=Rt.lFrame;return Rt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var d5=qx;function zm(){let n=qx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Gx(n){return(Rt.lFrame.contextLView=Ix(n,Rt.lFrame.contextLView))[$n]}function Za(){return Rt.lFrame.selectedIndex}function Qa(n){Rt.lFrame.selectedIndex=n}function qm(){let n=Rt.lFrame;return nf(n.tView,n.selectedIndex)}function Gm(){Rt.lFrame.currentNamespace=Yb}function $x(){return Rt.lFrame.currentNamespace}var Wx=!0;function $m(){return Wx}function Wm(n){Wx=n}function Cb(n,e=null,t=null,r){let i=h5(n,e,t,r);return i.resolveInjectorInitializers(),i}function h5(n,e=null,t=null,r,i=new Set){let o=[t||Ai,yx(n)];return r=r||(typeof n=="object"?void 0:Xs(n)),new $l(o,e||Zh(),r||null,i)}var ei=class n{static THROW_IF_NOT_FOUND=Hl;static NULL=new Gh;static create(e,t){if(Array.isArray(e))return Cb({name:""},t,e,"");{let r=e.name??"";return Cb({name:r},e.parent,e.providers,r)}}static \u0275prov=Ye({token:n,providedIn:"any",factory:()=>nt(Fb)});static __NG_ELEMENT_ID__=-1},Fn=new Je(""),vi=(()=>{class n{static __NG_ELEMENT_ID__=PP;static __NG_ENV_ID__=t=>t}return n})(),$h=class extends vi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ql(this._lView)}onDestroy(e){let t=this._lView;return Zb(t,e),()=>Ax(t,e)}};function PP(){return new $h(kt())}var Gi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ti=new Je("",{providedIn:"root",factory:()=>{let n=xe(ar),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Gi),e.handleError(t))}}}),Yx={provide:Zs,useValue:()=>void xe(Gi),multi:!0},OP=new Je("",{providedIn:"root",factory:()=>{let n=xe(Fn).defaultView;if(!n)return;let e=xe(ti),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),xe(vi).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function f5(){return Qs([vx(()=>void xe(OP))])}function p5(n){return typeof n=="function"&&n[Ur]!==void 0}function Jt(n,e){let[t,r,i]=Zy(n,e?.equal),o=t,s=o[Ur];return o.set=r,o.update=i,o.asReadonly=g5.bind(o),o}function g5(){let n=this[Ur];if(n.readonlyFn===void 0){let e=()=>this();e[Ur]=n,n.readonlyFn=e}return n.readonlyFn}function m5(n){return p5(n)&&typeof n.set=="function"}var Co=class{},sf=new Je("",{providedIn:"root",factory:()=>!1});var v5=new Je(""),y5=new Je("");var qu=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=kP}return n})();function kP(){return new qu(kt(),Ir())}var os=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new fn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ut(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Ye({token:n,providedIn:"root",factory:()=>new n})}return n})(),af=(()=>{class n{internalPendingTasks=xe(os);scheduler=xe(Co);errorHandler=xe(ti);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=Ye({token:n,providedIn:"root",factory:()=>new n})}return n})();function tc(...n){}var lf=(()=>{class n{static \u0275prov=Ye({token:n,providedIn:"root",factory:()=>new Eb})}return n})(),Eb=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function vf(n){return{toString:n}.toString()}function HP(n){return typeof n=="function"}var e0=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function SS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Zi=(()=>{let n=()=>DS;return n.ngInherit=!0,n})();function DS(n){return n.type.prototype.ngOnChanges&&(n.setInput=qP),zP}function zP(){let n=AS(this),e=n?.current;if(e){let t=n.previous;if(t===$a)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function qP(n,e,t,r,i){let o=this.declaredInputs[r],s=AS(n)||GP(n,{previous:$a,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new e0(c&&c.currentValue,t,l===$a),SS(n,e,i,t)}var IS="__ngSimpleChanges__";function AS(n){return n[IS]||null}function GP(n,e){return n[IS]=e}var Kx=[];var cn=function(n,e=null,t){for(let r=0;r<Kx.length;r++){let i=Kx[r];i(n,e,t)}};function $P(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=DS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function MS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Xm(n,e,t){TS(n,e,3,t)}function Jm(n,e,t,r){(n[vt]&3)===t&&TS(n,e,t,r)}function b5(n,e){let t=n[vt];(t&3)===e&&(t&=16383,t+=1,n[vt]=t)}function TS(n,e,t,r){let i=r!==void 0?n[Xl]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Xl]+=65536),(a<o||o==-1)&&(WP(n,t,e,l),n[Xl]=(n[Xl]&4294901760)+l+2),l++}function Xx(n,e){cn(4,n,e);let t=mt(null);try{e.call(n)}finally{mt(t),cn(5,n,e)}}function WP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[vt]>>14<n[Xl]>>16&&(n[vt]&3)===e&&(n[vt]+=16384,Xx(a,o)):Xx(a,o)}var $u=-1,rc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function YP(n){return(n.flags&8)!==0}function KP(n){return(n.flags&16)!==0}function XP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];JP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function NS(n){return n===3||n===4||n===6}function JP(n){return n.charCodeAt(0)===64}function Wu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Jx(n,t,i,null,e[++r]):Jx(n,t,i,null,null))}}return n}function Jx(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function PS(n){return n!==$u}function t0(n){return n&32767}function ZP(n){return n>>16}function n0(n,e){let t=ZP(n),r=e;for(;t>0;)r=r[Kl],t--;return r}var T5=!0;function Zx(n){let e=T5;return T5=n,e}var QP=256,OS=QP-1,kS=5,eO=0,ss={};function tO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Wl)&&(r=t[Wl]),r==null&&(r=t[Wl]=eO++);let i=r&OS,o=1<<i;e.data[n+(i>>kS)]|=o}function r0(n,e){let t=RS(n,e);if(t!==-1)return t;let r=e[ut];r.firstCreatePass&&(n.injectorIndex=e.length,_5(r.data,n),_5(e,null),_5(r.blueprint,null));let i=s_(n,e),o=n.injectorIndex;if(PS(i)){let s=t0(i),a=n0(i,e),l=a[ut].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function _5(n,e){n.push(0,0,0,0,0,0,0,0,e)}function RS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function s_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=VS(i),r===null)return $u;if(t++,i=i[Kl],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return $u}function N5(n,e,t){tO(n,e,t)}function nO(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(NS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function LS(n,e,t){if(t&8||n!==void 0)return n;km(e,"NodeInjector")}function FS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Yl],o=Ii(void 0);try{return i?i.get(e,r,t&8):Rb(e,r,t&8)}finally{Ii(o)}}return LS(r,e,t)}function jS(n,e,t,r=0,i){if(n!==null){if(e[vt]&2048&&!(r&2)){let s=sO(n,e,t,r,ss);if(s!==ss)return s}let o=BS(n,e,t,r,ss);if(o!==ss)return o}return FS(e,t,r,i)}function BS(n,e,t,r,i){let o=iO(t);if(typeof o=="function"){if(!u5(e,n,r))return r&1?LS(i,t,r):FS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))km(t);else return s}finally{d5()}}else if(typeof o=="number"){let s=null,a=RS(n,e),l=$u,c=r&1?e[Mi][Yi]:null;for((a===-1||r&4)&&(l=a===-1?s_(n,e):e[a+8],l===$u||!eS(r,!1)?a=-1:(s=e[ut],a=t0(l),e=n0(l,e)));a!==-1;){let d=e[ut];if(Qx(o,a,d.data)){let f=rO(a,e,t,s,r,c);if(f!==ss)return f}l=e[a+8],l!==$u&&eS(r,e[ut].data[a+8]===c)&&Qx(o,a,e)?(s=d,a=t0(l),e=n0(l,e)):a=-1}}return i}function rO(n,e,t,r,i,o){let s=e[ut],a=s.data[n+8],l=r==null?Xa(a)&&T5:r!=s&&(a.type&3)!==0,c=i&1&&o===a,d=Zm(a,s,t,l,c);return d!==null?df(e,s,d,a,i):ss}function Zm(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,d=o>>20,f=r?a:a+d,m=i?a+d:c;for(let p=f;p<m;p++){let y=s[p];if(p<l&&t===y||p>=l&&y.type===t)return p}if(i){let p=s[l];if(p&&is(p)&&p.type===t)return l}return null}function df(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof rc){let a=o;if(a.resolving){let p=Tm(s[t]);throw kb(p)}let l=Zx(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],d,f=a.injectImpl?Ii(a.injectImpl):null,m=u5(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&$P(t,s[t],e)}finally{f!==null&&Ii(f),Zx(l),a.resolving=!1,d5()}}return o}function iO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Wl)?n[Wl]:void 0;return typeof e=="number"?e>=0?e&OS:oO:e}function Qx(n,e,t){let r=1<<n;return!!(t[e+(n>>kS)]&r)}function eS(n,e){return!(n&2)&&!(n&1&&e)}var nc=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return jS(this._tNode,this._lView,e,zl(r),t)}};function oO(){return new nc(Ir(),kt())}function Io(n){return vf(()=>{let e=n.prototype.constructor,t=e[qh]||P5(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[qh]||P5(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function P5(n){return Sb(n)?()=>{let e=P5(kr(n));return e&&e()}:ql(n)}function sO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[vt]&2048&&!Uu(s);){let a=BS(o,s,t,r|2,ss);if(a!==ss)return a;let l=o.parent;if(!l){let c=s[Gb];if(c){let d=c.get(t,ss,r);if(d!==ss)return d}l=VS(s),s=s[Kl]}o=l}return i}function VS(n){let e=n[ut],t=e.type;return t===2?e.declTNode:t===1?n[Yi]:null}function yf(n){return nO(Ir(),n)}function aO(){return Ju(Ir(),kt())}function Ju(n,e){return new ni(So(n,e))}var ni=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=aO}return n})();function lO(n){return n instanceof ni?n.nativeElement:n}function cO(){return this._results[Symbol.iterator]()}var i0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Gn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=fx(e);(this._changesDetected=!hx(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=cO};function US(n){return(n.flags&128)===128}var a_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(a_||{}),HS=new Map,uO=0;function dO(){return uO++}function hO(n){HS.set(n[Qh],n)}function O5(n){HS.delete(n[Qh])}var tS="__ngContext__";function Yu(n,e){rs(e)?(n[tS]=e[Qh],hO(e)):n[tS]=e}function zS(n){return GS(n[Vu])}function qS(n){return GS(n[Wi])}function GS(n){for(;n!==null&&!xo(n);)n=n[Wi];return n}var k5;function l_(n){k5=n}function $S(){if(k5!==void 0)return k5;if(typeof document<"u")return document;throw new $e(210,!1)}var w0=new Je("",{providedIn:"root",factory:()=>fO}),fO="ng",C0=new Je(""),Zu=new Je("",{providedIn:"platform",factory:()=>"unknown"});var E0=new Je("",{providedIn:"root",factory:()=>$S().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pO="h",gO="b";var WS="r";var YS="di";var KS=!1,XS=new Je("",{providedIn:"root",factory:()=>KS});var mO=(n,e,t,r)=>{};function vO(n,e,t,r){mO(n,e,t,r)}function c_(n){return(n.flags&32)===32}var yO=()=>null;function JS(n,e,t=!1){return yO(n,e,t)}function ZS(n,e){let t=n.contentQueries;if(t!==null){let r=mt(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Um(o),a.contentQueries(2,e[s],s)}}}finally{mt(r)}}}function R5(n,e,t){Um(0);let r=mt(null);try{e(n,t)}finally{mt(r)}}function QS(n,e,t){if(Wb(e)){let r=mt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{mt(r)}}}var ta=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ta||{});var Ym;function bO(){if(Ym===void 0&&(Ym=null,Wh.trustedTypes))try{Ym=Wh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ym}function nS(n){return bO()?.createScriptURL(n)||n}var o0=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pm})`}};function bf(n){return n instanceof o0?n.changingThisBreaksApplicationSecurity:n}function u_(n,e){let t=e4(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Pm})`)}return t===e}function e4(n){return n instanceof o0&&n.getTypeName()||null}var _O=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function t4(n){return n=String(n),n.match(_O)?n:"unsafe:"+n}var x0=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(x0||{});function Qu(n){let e=r4();return e?e.sanitize(x0.URL,n)||"":u_(n,"URL")?bf(n):t4(Kh(n))}function n4(n){let e=r4();if(e)return nS(e.sanitize(x0.RESOURCE_URL,n)||"");if(u_(n,"ResourceURL"))return nS(bf(n));throw new $e(904,!1)}function wO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?n4:Qu}function d_(n,e,t){return wO(e,t)(n)}function r4(){let n=kt();return n&&n[ts].sanitizer}function i4(n){return n instanceof Function?n():n}function CO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var o4="ng-template";function EO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(h_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function h_(n){return n.type===4&&n.value!==o4}function xO(n,e,t){let r=n.type===4&&!t?o4:n.value;return e===r}function SO(n,e,t){let r=4,i=n.attrs,o=i!==null?AO(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Do(r)&&!Do(l))return!1;if(s&&Do(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!xO(n,l,t)||l===""&&e.length===1){if(Do(r))return!1;s=!0}}else if(r&8){if(i===null||!EO(n,i,l,t)){if(Do(r))return!1;s=!0}}else{let c=e[++a],d=DO(l,i,h_(n),t);if(d===-1){if(Do(r))return!1;s=!0;continue}if(c!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&c!==f){if(Do(r))return!1;s=!0}}}}return Do(r)||s}function Do(n){return(n&1)===0}function DO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return MO(e,n)}function IO(n,e,t=!1){for(let r=0;r<e.length;r++)if(SO(n,e[r],t))return!0;return!1}function AO(n){for(let e=0;e<n.length;e++){let t=n[e];if(NS(t))return e}return n.length}function MO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function rS(n,e){return n?":not("+e.trim()+")":e}function TO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Do(s)&&(e+=rS(o,i),i=""),r=s,o=o||!Do(r);t++}return i!==""&&(e+=rS(o,i)),e}function NO(n){return n.map(TO).join(",")}function PO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Do(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var ls={};function OO(n,e){return n.createText(e)}function kO(n,e,t){n.setValue(e,t)}function s4(n,e,t){return n.createElement(e,t)}function s0(n,e,t,r,i){n.insertBefore(e,t,r,i)}function a4(n,e,t){n.appendChild(e,t)}function iS(n,e,t,r,i){r!==null?s0(n,e,t,r,i):a4(n,e,t)}function l4(n,e,t){n.removeChild(null,e,t)}function RO(n,e,t){n.setAttribute(e,"style",t)}function LO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function c4(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&XP(n,e,r),i!==null&&LO(n,e,i),o!==null&&RO(n,e,o)}function f_(n,e,t,r,i,o,s,a,l,c,d){let f=Sr+r,m=f+i,p=FO(f,m),y=typeof c=="function"?c():c;return p[ut]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function FO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ls);return t}function jO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=f_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function p_(n,e,t,r,i,o,s,a,l,c,d){let f=e.blueprint.slice();return f[Eo]=i,f[vt]=r|4|128|8|64|1024,(c!==null||n&&n[vt]&2048)&&(f[vt]|=2048),Xb(f),f[fr]=f[Kl]=n,f[$n]=t,f[ts]=s||n&&n[ts],f[Tn]=a||n&&n[Tn],f[Yl]=l||n&&n[Yl]||null,f[Yi]=o,f[Qh]=dO(),f[ju]=d,f[Gb]=c,f[Mi]=e.type==2?n[Mi]:f,f}function BO(n,e,t){let r=So(e,n),i=jO(t),o=n[ts].rendererFactory,s=g_(n,p_(n,i,null,u4(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function u4(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function d4(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function g_(n,e){return n[Vu]?n[qb][Wi]=e:n[Vu]=e,n[qb]=e,e}function Te(n=1){h4(pr(),kt(),Za()+n,!1)}function h4(n,e,t,r){if(!r)if((e[vt]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Xm(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Jm(e,o,0,t)}Qa(t)}var S0=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(S0||{});function L5(n,e,t,r){let i=mt(null);try{let[o,s,a]=n.inputs[t],l=null;(s&S0.SignalBased)!==0&&(l=e[o][Ur]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):SS(e,l,o,r)}finally{mt(i)}}var as=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(as||{}),VO;function m_(n,e){return VO(n,e)}function Gu(n,e,t,r,i){if(r!=null){let o,s=!1;xo(r)?o=r:rs(r)&&(s=!0,r=r[Eo]);let a=Ki(r);n===0&&t!==null?i==null?a4(e,t,a):s0(e,t,a,i||null,!0):n===1&&t!==null?s0(e,t,a,i||null,!0):n===2?l4(e,a,s):n===3&&e.destroyNode(a),o!=null&&ZO(e,n,o,t,i)}}function UO(n,e){f4(n,e),e[Eo]=null,e[Yi]=null}function HO(n,e,t,r,i,o){r[Eo]=i,r[Yi]=e,I0(n,r,t,1,i,o)}function f4(n,e){e[ts].changeDetectionScheduler?.notify(9),I0(n,e,e[Tn],2,null,null)}function zO(n){let e=n[Vu];if(!e)return w5(n[ut],n);for(;e;){let t=null;if(rs(e))t=e[Vu];else{let r=e[Dr];r&&(t=r)}if(!t){for(;e&&!e[Wi]&&e!==n;)rs(e)&&w5(e[ut],e),e=e[fr];e===null&&(e=n),rs(e)&&w5(e[ut],e),t=e&&e[Wi]}e=t}}function v_(n,e){let t=n[Zl],r=t.indexOf(e);t.splice(r,1)}function D0(n,e){if(Ql(e))return;let t=e[Tn];t.destroyNode&&I0(n,e,t,3,null,null),zO(e)}function w5(n,e){if(Ql(e))return;let t=mt(null);try{e[vt]&=-129,e[vt]|=256,e[Ti]&&Eu(e[Ti]),GO(n,e),qO(n,e),e[ut].type===1&&e[Tn].destroy();let r=e[Ya];if(r!==null&&xo(e[fr])){r!==e[fr]&&v_(r,e);let i=e[ns];i!==null&&i.detachView(n)}O5(e)}finally{mt(t)}}function qO(n,e){let t=n.cleanup,r=e[Bu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Bu]=null);let i=e[Ks];if(i!==null){e[Ks]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ea];if(o!==null){e[ea]=null;for(let s of o)s.destroy()}}function GO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof rc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];cn(4,a,l);try{l.call(a)}finally{cn(5,a,l)}}else{cn(4,i,o);try{o.call(i)}finally{cn(5,i,o)}}}}}function $O(n,e,t){return WO(n,e.parent,t)}function WO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Eo];if(Xa(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ta.None||i===ta.Emulated)return null}return So(r,t)}function YO(n,e,t){return XO(n,e,t)}function KO(n,e,t){return n.type&40?So(n,t):null}var XO=KO,oS;function y_(n,e,t,r){let i=$O(n,r,e),o=e[Tn],s=r.parent||e[Yi],a=YO(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)iS(o,i,t[l],a,!1);else iS(o,i,t,a,!1);oS!==void 0&&oS(o,r,e,t,i)}function cf(n,e){if(e!==null){let t=e.type;if(t&3)return So(e,n);if(t&4)return F5(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return cf(n,r);{let i=n[e.index];return xo(i)?F5(-1,i):Ki(i)}}else{if(t&128)return cf(n,e.next);if(t&32)return m_(e,n)()||Ki(n[e.index]);{let r=p4(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ga(n[Mi]);return cf(i,r)}else return cf(n,e.next)}}}return null}function p4(n,e){if(e!==null){let r=n[Mi][Yi],i=e.projection;return r.projection[i]}return null}function F5(n,e){let t=Dr+n+1;if(t<e.length){let r=e[t],i=r[ut].firstChild;if(i!==null)return cf(r,i)}return e[Ka]}function b_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Yu(Ki(a),r),t.flags|=2),!c_(t))if(l&8)b_(n,e,t.child,r,i,o,!1),Gu(e,n,i,a,o);else if(l&32){let c=m_(t,r),d;for(;d=c();)Gu(e,n,i,d,o);Gu(e,n,i,a,o)}else l&16?JO(n,e,r,t,i,o):Gu(e,n,i,a,o);t=s?t.projectionNext:t.next}}function I0(n,e,t,r,i,o){b_(t,r,n.firstChild,e,i,o,!1)}function JO(n,e,t,r,i,o){let s=t[Mi],l=s[Yi].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Gu(e,n,i,d,o)}else{let c=l,d=s[fr];US(r)&&(c.flags|=128),b_(n,e,c,d,i,o,!0)}}function ZO(n,e,t,r,i){let o=t[Ka],s=Ki(t);o!==s&&Gu(e,n,r,o,i);for(let a=Dr;a<t.length;a++){let l=t[a];I0(l[ut],l,n,e,r,o)}}function QO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:as.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=as.Important),n.setStyle(t,r,i,o))}}function g4(n,e,t,r,i){let o=Za(),s=r&2;try{Qa(-1),s&&e.length>Sr&&h4(n,e,Sr,!1),cn(s?2:0,i,t),t(r,i)}finally{Qa(o),cn(s?3:1,i,t)}}function __(n,e,t){s7(n,e,t),(t.flags&64)===64&&a7(n,e,t)}function A0(n,e,t=So){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function e7(n,e,t,r){let o=r.get(XS,KS)||t===ta.ShadowDom,s=n.selectRootElement(e,o);return t7(s),s}function t7(n){n7(n)}var n7=()=>null;function r7(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function m4(n,e,t,r,i,o){let s=e[ut];if(w_(n,s,e,t,r)){Xa(n)&&o7(e,n.index);return}n.type&3&&(t=r7(t)),i7(n,e,t,r,i,o)}function i7(n,e,t,r,i,o){if(n.type&3){let s=So(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function o7(n,e){let t=Xi(e,n);t[vt]&16||(t[vt]|=64)}function s7(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Xa(t)&&BO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||r0(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=df(e,n,s,t);if(Yu(l,e),o!==null&&d7(e,s-r,l,a,t,o),is(a)){let c=Xi(t.index,e);c[$n]=df(e,n,s,t)}}}function a7(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Vx();try{Qa(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];Vm(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&l7(l,c)}}finally{Qa(-1),Vm(s)}}function l7(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function v4(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];IO(e,o.selectors,!1)&&(r??=[],is(o)?r.unshift(o):r.push(o))}return r}function c7(n,e,t,r,i,o){let s=So(n,e);u7(e[Tn],s,o,n.value,t,r,i)}function u7(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Kh(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function d7(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];L5(r,t,l,c)}}function y4(n,e,t,r,i){let o=Sr+t,s=e[ut],a=i(s,e,n,r,t);e[o]=a,Hu(n,!0);let l=n.type===2;return l?(c4(e[Tn],a,n),(Tx()===0||tf(n))&&Yu(a,e),Nx()):Yu(a,e),$m()&&(!l||!c_(n))&&y_(s,e,a,n),n}function b4(n){let e=n;return s5()?kx():(e=e.parent,Hu(e,!1)),e}function h7(n,e){let t=n[Yl];if(!t)return;t.get(ti,null)?.(e)}function w_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],f=e.data[c];L5(f,t[c],d,i),a=!0}if(o)for(let l of o){let c=t[l],d=e.data[l];L5(d,c,r,i),a=!0}return a}function f7(n,e){let t=Xi(e,n),r=t[ut];p7(r,t);let i=t[Eo];i!==null&&t[ju]===null&&(t[ju]=JS(i,t[Yl])),cn(18),C_(r,t,t[$n]),cn(19,t[$n])}function p7(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function C_(n,e,t){Hm(e);try{let r=n.viewQuery;r!==null&&R5(1,r,t);let i=n.template;i!==null&&g4(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ns]?.finishViewCreation(n),n.staticContentQueries&&ZS(n,e),n.staticViewQueries&&R5(2,n.viewQuery,t);let o=n.components;o!==null&&g7(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[vt]&=-5,zm()}}function g7(n,e){for(let t=0;t<e.length;t++)f7(n,e[t])}function M0(n,e,t,r){let i=mt(null);try{let o=e.tView,a=n[vt]&4096?4096:16,l=p_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[Ya]=c;let d=n[ns];return d!==null&&(l[ns]=d.createEmbeddedView(o)),C_(o,l,t),l}finally{mt(i)}}function hf(n,e){return!e||e.firstChild===null||US(n)}var sS=!1,m7=new Je("");function ff(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ki(o)),xo(o)&&_4(o,r);let s=t.type;if(s&8)ff(n,e,t.child,r);else if(s&32){let a=m_(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=p4(e,t);if(Array.isArray(a))r.push(...a);else{let l=Ga(e[Mi]);ff(l[ut],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function _4(n,e){for(let t=Dr;t<n.length;t++){let r=n[t],i=r[ut].firstChild;i!==null&&ff(r[ut],r,i,e)}n[Ka]!==n[Eo]&&e.push(n[Ka])}function w4(n){if(n[Jl]!==null){for(let e of n[Jl])e.impl.addSequence(e);n[Jl].length=0}}var C4=[];function v7(n){return n[Ti]??y7(n)}function y7(n){let e=C4.pop()??Object.create(_7);return e.lView=n,e}function b7(n){n.lView[Ti]!==n&&(n.lView=null,C4.push(n))}var _7=Xe(Ce({},Ua),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ja(n.lView)},consumerOnSignalRead(){this.lView[Ti]=this}});function w7(n){let e=n[Ti]??Object.create(C7);return e.lView=n,e}var C7=Xe(Ce({},Ua),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ga(n.lView);for(;e&&!E4(e[ut]);)e=Ga(e);e&&Jb(e)},consumerOnSignalRead(){this.lView[Ti]=this}});function E4(n){return n.type!==2}function x4(n){if(n[ea]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ea])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[vt]&8192)}}var E7=100;function E_(n,e=0){let r=n[ts].rendererFactory,i=!1;i||r.begin?.();try{x7(n,e)}finally{i||r.end?.()}}function x7(n,e){let t=l5();try{zu(!0),j5(n,e);let r=0;for(;rf(n);){if(r===E7)throw new $e(103,!1);r++,j5(n,1)}}finally{zu(t)}}function S4(n,e){a5(e?of.Exhaustive:of.OnlyDirtyViews);try{E_(n)}finally{a5(of.Off)}}function S7(n,e,t,r){if(Ql(e))return;let i=e[vt],o=!1,s=!1;Hm(e);let a=!0,l=null,c=null;o||(E4(n)?(c=v7(e),l=Ha(c)):Jg()===null?(a=!1,c=w7(e),l=Ha(c)):e[Ti]&&(Eu(e[Ti]),e[Ti]=null));try{Xb(e),Lx(n.bindingStartIndex),t!==null&&g4(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let p=n.preOrderCheckHooks;p!==null&&Xm(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Jm(e,p,0,null),b5(e,0)}if(s||D7(e),x4(e),D4(e,0),n.contentQueries!==null&&ZS(n,e),!o)if(d){let p=n.contentCheckHooks;p!==null&&Xm(e,p)}else{let p=n.contentHooks;p!==null&&Jm(e,p,1),b5(e,1)}A7(n,e);let f=n.components;f!==null&&A4(e,f,0);let m=n.viewQuery;if(m!==null&&R5(2,m,r),!o)if(d){let p=n.viewCheckHooks;p!==null&&Xm(e,p)}else{let p=n.viewHooks;p!==null&&Jm(e,p,2),b5(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Fm]){for(let p of e[Fm])p();e[Fm]=null}o||(w4(e),e[vt]&=-73)}catch(d){throw o||Ja(e),d}finally{c!==null&&(Fl(c,l),a&&b7(c)),zm()}}function D4(n,e){for(let t=zS(n);t!==null;t=qS(t))for(let r=Dr;r<t.length;r++){let i=t[r];I4(i,e)}}function D7(n){for(let e=zS(n);e!==null;e=qS(e)){if(!(e[vt]&2))continue;let t=e[Zl];for(let r=0;r<t.length;r++){let i=t[r];Jb(i)}}}function I7(n,e,t){cn(18);let r=Xi(e,n);I4(r,t),cn(19,r[$n])}function I4(n,e){jm(n)&&j5(n,e)}function j5(n,e){let r=n[ut],i=n[vt],o=n[Ti],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Cu(o)),s||=!1,o&&(o.dirty=!1),n[vt]&=-9217,s)S7(r,n,r.template,n[$n]);else if(i&8192){let a=mt(null);try{x4(n),D4(n,1);let l=r.components;l!==null&&A4(n,l,1),w4(n)}finally{mt(a)}}}function A4(n,e,t){for(let r=0;r<e.length;r++)I7(n,e[r],t)}function A7(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Qa(~i);else{let o=i,s=t[++r],a=t[++r];Bx(s,o);let l=e[o];cn(24,l),a(2,l),cn(25,l)}}}finally{Qa(-1)}}function x_(n,e){let t=l5()?64:1088;for(n[ts].changeDetectionScheduler?.notify(e);n;){n[vt]|=t;let r=Ga(n);if(Uu(n)&&!r)return n;n=r}return null}function M4(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function T4(n,e){let t=Dr+e;if(t<n.length)return n[t]}function T0(n,e,t,r=!0){let i=e[ut];if(M7(i,e,n,t),r){let s=F5(t,n),a=e[Tn],l=a.parentNode(n[Ka]);l!==null&&HO(i,n[Yi],a,e,l,s)}let o=e[ju];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function N4(n,e){let t=pf(n,e);return t!==void 0&&D0(t[ut],t),t}function pf(n,e){if(n.length<=Dr)return;let t=Dr+e,r=n[t];if(r){let i=r[Ya];i!==null&&i!==n&&v_(i,r),e>0&&(n[t-1][Wi]=r[Wi]);let o=Xh(n,Dr+e);UO(r[ut],r);let s=o[ns];s!==null&&s.detachView(o[ut]),r[fr]=null,r[Wi]=null,r[vt]&=-129}return r}function M7(n,e,t,r){let i=Dr+r,o=t.length;r>0&&(t[i-1][Wi]=e),r<o-Dr?(e[Wi]=t[i],Lb(t,Dr+r,e)):(t.push(e),e[Wi]=null),e[fr]=t;let s=e[Ya];s!==null&&t!==s&&P4(s,e);let a=e[ns];a!==null&&a.insertView(n),Bm(e),e[vt]|=128}function P4(n,e){let t=n[Zl],r=e[fr];if(rs(r))n[vt]|=2;else{let i=r[fr][Mi];e[Mi]!==i&&(n[vt]|=2)}t===null?n[Zl]=[e]:t.push(e)}var el=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ut];return ff(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[$n]}set context(e){this._lView[$n]=e}get destroyed(){return Ql(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[fr];if(xo(e)){let t=e[ef],r=t?t.indexOf(this):-1;r>-1&&(pf(e,r),Xh(t,r))}this._attachedToViewContainer=!1}D0(this._lView[ut],this._lView)}onDestroy(e){Zb(this._lView,e)}markForCheck(){x_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[vt]&=-129}reattach(){Bm(this._lView),this._lView[vt]|=128}detectChanges(){this._lView[vt]|=1024,E_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Yl].get(m7,sS)}catch{this.exhaustive=sS}}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Uu(this._lView),t=this._lView[Ya];t!==null&&!e&&v_(t,this._lView),f4(this._lView[ut],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=e;let t=Uu(this._lView),r=this._lView[Ya];r!==null&&!t&&P4(r,this._lView),Bm(this._lView)}};var ic=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=T7;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=M0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new el(o)}}return n})();function T7(){return S_(Ir(),kt())}function S_(n,e){return n.type&4?new ic(e,n,Ju(n,e)):null}function _f(n,e,t,r,i){let o=n.data[e];if(o===null)o=N7(n,e,t,r,i),jx()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Ox();o.injectorIndex=s===null?-1:s.injectorIndex}return Hu(o,!0),o}function N7(n,e,t,r,i){let o=o5(),s=s5(),a=s?o:o&&o.parent,l=n.data[e]=O7(n,a,t,e,r,i);return P7(n,l,o,s),l}function P7(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function O7(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Px()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var QZ=new RegExp(`^(\\d+)*(${gO}|${pO})*(.*)`);function k7(n){let e=n[$b]??[],r=n[fr][Tn],i=[];for(let o of e)o.data[YS]!==void 0?i.push(o):R7(o,r);n[$b]=i}function R7(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[WS];for(;t<i;){let o=r.nextSibling;l4(e,r,!1),r=o,t++}}}var L7=()=>null,F7=()=>null;function B5(n,e){return L7(n,e)}function O4(n,e,t){return F7(n,e,t)}var k4=class{},N0=class{},V5=class{resolveComponentFactory(e){throw new $e(917,!1)}},wf=class{static NULL=new V5},oc=class{},Ao=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>j7()}return n})();function j7(){let n=kt(),e=Ir(),t=Xi(e.index,n);return(rs(t)?t:n)[Tn]}var R4=(()=>{class n{static \u0275prov=Ye({token:n,providedIn:"root",factory:()=>null})}return n})();var Qm={},U5=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Qm,r);return i!==Qm||t===Qm?i:this.parentInjector.get(e,t,r)}};function a0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=xb(i,a);else if(o==2){let l=a,c=e[++s];r=xb(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function rt(n,e=0){let t=kt();if(t===null)return nt(n,e);let r=Ir();return jS(r,t,kr(n),e)}function D_(){let n="invalid";throw new Error(n)}function L4(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}U7(n,e,t,a,o,l,c)}o!==null&&r!==null&&B7(t,r,o)}function B7(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $e(-301,!1);r.push(e[i],o)}}function V7(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function U7(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let p=r[m];!l&&is(p)&&(l=!0,V7(n,t,m)),N5(r0(t,e),n,p.type)}W7(t,n.data.length,a);for(let m=0;m<a;m++){let p=r[m];p.providersResolver&&p.providersResolver(p)}let c=!1,d=!1,f=d4(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let p=r[m];if(t.mergedAttrs=Wu(t.mergedAttrs,p.hostAttrs),z7(n,t,e,f,p),$7(f,p,i),s!==null&&s.has(p)){let[_,C]=s.get(p);t.directiveToIndex.set(p.type,[f,_+t.directiveStart,C+t.directiveStart])}else(o===null||!o.has(p))&&t.directiveToIndex.set(p.type,f);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let y=p.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}H7(n,t,o)}function H7(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))aS(0,e,i,r),aS(1,e,i,r),cS(e,r,!1);else{let o=t.get(i);lS(0,e,o,r),lS(1,e,o,r),cS(e,r,!0)}}}function aS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),F4(e,o)}}function lS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),F4(e,s)}}function F4(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function cS(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||h_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function z7(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ql(i.type,!0)),s=new rc(o,is(i),rt,null);n.blueprint[r]=s,t[r]=s,q7(n,e,r,d4(n,t,i.hostVars,ls),i)}function q7(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;G7(s)!=a&&s.push(a),s.push(t,r,o)}}function G7(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function $7(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;is(e)&&(t[""]=n)}}function W7(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function j4(n,e,t,r,i,o,s,a){let l=e[ut],c=l.consts,d=Ji(c,s),f=_f(l,n,t,r,d);return o&&L4(l,e,f,Ji(c,a),i),f.mergedAttrs=Wu(f.mergedAttrs,f.attrs),f.attrs!==null&&a0(f,f.attrs,!1),f.mergedAttrs!==null&&a0(f,f.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,f),f}function B4(n,e){MS(n,e),Wb(e)&&n.queries.elementEnd(e)}function Y7(n,e,t,r,i,o){let s=e.consts,a=Ji(s,i),l=_f(e,n,t,r,a);if(l.mergedAttrs=Wu(l.mergedAttrs,l.attrs),o!=null){let c=Ji(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&a0(l,l.attrs,!1),l.mergedAttrs!==null&&a0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function K7(n,e,t){return n[e]=t}function X7(n,e){return n[e]}function lc(n,e,t){if(t===ls)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function C5(n,e,t){return function r(i){let o=Xa(n)?Xi(n.index,e):e;x_(o,5);let s=e[$n],a=uS(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=uS(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function uS(n,e,t,r){let i=mt(null);try{return cn(6,e,t),t(r)!==!1}catch(o){return h7(n,o),!1}finally{cn(7,e,t),mt(i)}}function J7(n,e,t,r,i,o,s,a){let l=tf(n),c=!1,d=null;if(!r&&l&&(d=Z7(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let f=So(n,t),m=r?r(f):f;vO(t,m,o,a);let p=i.listen(m,o,a),y=r?_=>r(Ki(_[n.index])):n.index;V4(y,e,t,o,a,p,!1)}return c}function Z7(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Bu],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function V4(n,e,t,r,i,o,s){let a=e.firstCreatePass?e5(e):null,l=Qb(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function dS(n,e,t,r,i,o){let s=e[t],a=e[ut],c=a.data[t].outputs[r],f=s[c].subscribe(o);V4(n.index,a,e,i,o,f,!0)}var H5=Symbol("BINDING");var l0=class extends wf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Wa(e);return new Ku(t,this.ngModule)}};function Q7(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&S0.SignalBased)!==0};return i&&(o.transform=i),o})}function ek(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function tk(n,e,t){let r=e instanceof ar?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new U5(t,r):t}function nk(n){let e=n.get(oc,null);if(e===null)throw new $e(407,!1);let t=n.get(R4,null),r=n.get(Co,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function rk(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return s4(e,t,t==="svg"?Yb:t==="math"?xx:null)}var Ku=class extends N0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Q7(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ek(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=NO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){cn(22);let a=mt(null);try{let l=this.componentDef,c=ik(r,l,s,o),d=tk(l,i||this.ngModule,e),f=nk(d),m=f.rendererFactory.createRenderer(null,l),p=r?e7(m,r,l.encapsulation,d):rk(l,m),y=s?.some(hS)||o?.some(w=>typeof w!="function"&&w.bindings.some(hS)),_=p_(null,c,null,512|u4(l),null,null,f,m,d,null,JS(p,d,!0));_[Sr]=p,Hm(_);let C=null;try{let w=j4(Sr,_,2,"#host",()=>c.directiveRegistry,!0,0);p&&(c4(m,p,w),Yu(p,_)),__(c,_,w),QS(c,w,_),B4(c,w),t!==void 0&&sk(w,this.ngContentSelectors,t),C=Xi(w.index,_),_[$n]=C[$n],C_(c,_,null)}catch(w){throw C!==null&&O5(C),O5(_),w}finally{cn(23),zm()}return new c0(this.componentType,_,!!y)}finally{mt(a)}}};function ik(n,e,t,r){let i=n?["ng-version","20.1.3"]:PO(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[H5].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let m of f.bindings){a+=m[H5].requiredVars;let p=d+1;m.create&&(m.targetIdx=p,(o??=[]).push(m)),m.update&&(m.targetIdx=p,(s??=[]).push(m))}}let l=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,m=Vb(f);l.push(m)}return f_(0,null,ok(o,s),1,a,l,null,null,null,[i],null)}function ok(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function hS(n){let e=n[H5].kind;return e==="input"||e==="twoWay"}var c0=class extends k4{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=nf(t[ut],Sr),this.location=Ju(this._tNode,t),this.instance=Xi(this._tNode.index,t)[$n],this.hostView=this.changeDetectorRef=new el(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=w_(r,i[ut],i,e,t);this.previousInputValues.set(e,t);let s=Xi(r.index,i);x_(s,1)}get injector(){return new nc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var tl=(()=>{class n{static __NG_ELEMENT_ID__=ak}return n})();function ak(){let n=Ir();return H4(n,kt())}var lk=tl,U4=class extends lk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ju(this._hostTNode,this._hostLView)}get injector(){return new nc(this._hostTNode,this._hostLView)}get parentInjector(){let e=s_(this._hostTNode,this._hostLView);if(PS(e)){let t=n0(e,this._hostLView),r=t0(e),i=t[ut].data[r+8];return new nc(i,t)}else return new nc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=fS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Dr}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=B5(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,hf(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!HP(e),c;if(l)c=t;else{let C=t||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let d=l?e:new Ku(Wa(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let w=(l?f:this.parentInjector).get(ar,null);w&&(o=w)}let m=Wa(d.componentType??{}),p=B5(this._lContainer,m?.id??null),y=p?.firstChild??null,_=d.create(f,i,y,o,s,a);return this.insertImpl(_.hostView,c,hf(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Dx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[fr],c=new U4(l,l[Yi],l[fr]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return T0(s,i,o,r),e.attachToViewContainerRef(),Lb(E5(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=fS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=pf(this._lContainer,t);r&&(Xh(E5(this._lContainer),t),D0(r[ut],r))}detach(e){let t=this._adjustIndex(e,-1),r=pf(this._lContainer,t);return r&&Xh(E5(this._lContainer),t)!=null?new el(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function fS(n){return n[ef]}function E5(n){return n[ef]||(n[ef]=[])}function H4(n,e){let t,r=e[n.index];return xo(r)?t=r:(t=M4(r,e,null,n),e[n.index]=t,g_(e,t)),uk(t,e,n,r),new U4(t,n,e)}function ck(n,e){let t=n[Tn],r=t.createComment(""),i=So(e,n),o=t.parentNode(i);return s0(t,o,r,t.nextSibling(i),!1),r}var uk=fk,dk=()=>!1;function hk(n,e,t){return dk(n,e,t)}function fk(n,e,t,r){if(n[Ka])return;let i;t.type&8?i=Ki(r):i=ck(e,t),n[Ka]=i}var z5=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},q5=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)I_(e,t).matches!==null&&this.queries[t].setDirty()}},u0=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=wk(e):this.predicate=e}},G5=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$5=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,pk(t,o)),this.matchTNodeWithReadOption(e,t,Zm(t,e,o,!1,!1))}else r===ic?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zm(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ni||i===tl||i===ic&&t.type&4)this.addMatch(t.index,-2);else{let o=Zm(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function pk(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function gk(n,e){return n.type&11?Ju(n,e):n.type&4?S_(n,e):null}function mk(n,e,t,r){return t===-1?gk(e,n):t===-2?vk(n,e,r):df(n,n[ut],t,e)}function vk(n,e,t){if(t===ni)return Ju(e,n);if(t===ic)return S_(e,n);if(t===tl)return H4(e,n)}function z4(n,e,t,r){let i=e[ns].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(mk(e,d,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function W5(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=z4(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let f=Dr;f<d.length;f++){let m=d[f];m[Ya]===m[fr]&&W5(m[ut],m,c,r)}if(d[Zl]!==null){let f=d[Zl];for(let m=0;m<f.length;m++){let p=f[m];W5(p[ut],p,c,r)}}}}}return r}function yk(n,e){return n[ns].queries[e].queryList}function q4(n,e,t){let r=new i0((t&4)===4);return Mx(n,e,r,r.destroy),(e[ns]??=new q5).queries.push(new z5(r))-1}function bk(n,e,t){let r=pr();return r.firstCreatePass&&(G4(r,new u0(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),q4(r,kt(),e)}function _k(n,e,t,r){let i=pr();if(i.firstCreatePass){let o=Ir();G4(i,new u0(e,t,r),o.index),Ck(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return q4(i,kt(),t)}function wk(n){return n.split(",").map(e=>e.trim())}function G4(n,e,t){n.queries===null&&(n.queries=new G5),n.queries.track(new $5(e,t))}function Ck(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function I_(n,e){return n.queries.getByIndex(e)}function Ek(n,e){let t=n[ut],r=I_(t,e);return r.crossesNgTemplate?W5(t,n,e,[]):z4(t,n,r,e)}var pS=new Set;function cs(n){pS.has(n)||(pS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var sc=class{},P0=class{};var d0=class extends sc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new l0(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Bb(e);this._bootstrapComponents=i4(o.bootstrap),this._r3Injector=h5(e,t,[{provide:sc,useValue:this},{provide:wf,useValue:this.componentFactoryResolver},...r],Xs(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},h0=class extends P0{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new d0(this.moduleType,e,[])}};var gf=class extends sc{injector;componentFactoryResolver=new l0(this);instance=null;constructor(e){super();let t=new $l([...e.providers,{provide:sc,useValue:this},{provide:wf,useValue:this.componentFactoryResolver}],e.parent||Zh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cf(n,e,t=null){return new gf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var xk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ub(!1,t.type),i=r.length>0?Cf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ye({token:n,providedIn:"environment",factory:()=>new n(nt(ar))})}return n})();function xn(n){return vf(()=>{let e=$4(n),t=Xe(Ce({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===a_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(xk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ta.Emulated,styles:n.styles||Ai,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&cs("NgStandalone"),W4(t);let r=n.dependencies;return t.directiveDefs=gS(r,Sk),t.pipeDefs=gS(r,mx),t.id=Ak(t),t})}function Sk(n){return Wa(n)||Vb(n)}function Mo(n){return vf(()=>({type:n.type,bootstrap:n.bootstrap||Ai,declarations:n.declarations||Ai,imports:n.imports||Ai,exports:n.exports||Ai,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Dk(n,e){if(n==null)return $a;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=S0.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function Ik(n){if(n==null)return $a;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Cn(n){return vf(()=>{let e=$4(n);return W4(e),e})}function $4(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||$a,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ai,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Dk(n.inputs,e),outputs:Ik(n.outputs),debugInfo:null}}function W4(n){n.features?.forEach(e=>e(n))}function gS(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Ak(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Mk(n){return Object.getPrototypeOf(n.prototype).constructor}function ri(n){let e=Mk(n.type),t=!0,r=[n];for(;e;){let i;if(is(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $e(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=x5(n.inputs),s.declaredInputs=x5(n.declaredInputs),s.outputs=x5(n.outputs);let a=i.hostBindings;a&&kk(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Pk(n,l),c&&Ok(n,c),Tk(n,i),ax(n.outputs,i.outputs),is(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ri&&(t=!1)}}e=Object.getPrototypeOf(e)}Nk(r)}function Tk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Nk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wu(i.hostAttrs,t=Wu(t,i.hostAttrs))}}function x5(n){return n===$a?{}:n===Ai?[]:n}function Pk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Ok(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function kk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Y4(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Wu(n.mergedAttrs,n.attrs);let d=n.tView=f_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Hu(n,!1);let l=Lk(t,e,n,r);$m()&&y_(t,e,l,n),Yu(l,e);let c=M4(l,e,l,n);e[r+Sr]=c,g_(e,c),hk(c,n,e)}function Rk(n,e,t,r,i,o,s,a,l,c,d){let f=t+Sr,m;return e.firstCreatePass?(m=_f(e,f,4,s||null,a||null),n5()&&L4(e,n,m,Ji(e.consts,c),v4),MS(e,m)):m=e.data[f],Y4(m,n,e,t,r,i,o,l),tf(m)&&__(e,n,m),c!=null&&A0(n,m,d),m}function f0(n,e,t,r,i,o,s,a,l,c,d){let f=t+Sr,m;if(e.firstCreatePass){if(m=_f(e,f,4,s||null,a||null),c!=null){let p=Ji(e.consts,c);m.localNames=[];for(let y=0;y<p.length;y+=2)m.localNames.push(p[y],-1)}}else m=e.data[f];return Y4(m,n,e,t,r,i,o,l),c!=null&&A0(n,m,d),m}function Ni(n,e,t,r,i,o,s,a){let l=kt(),c=pr(),d=Ji(c.consts,o);return Rk(l,c,n,e,t,r,i,d,void 0,s,a),Ni}var Lk=Fk;function Fk(n,e,t,r){return Wm(!0),e[Tn].createComment("")}var O0=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(O0||{}),cc=new Je(""),K4=!1,Y5=class extends Gn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Cx()&&(this.destroyRef=xe(vi,{optional:!0})??void 0,this.pendingTasks=xe(os,{optional:!0})??void 0)}emit(e){let t=mt(null);try{super.next(e)}finally{mt(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ir&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},wn=Y5;function X4(n){let e,t;function r(){n=tc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function mS(n){return queueMicrotask(()=>n()),()=>{n=tc}}var A_="isAngularZone",p0=A_+"_ID",jk=0,jn=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wn(!1);onMicrotaskEmpty=new wn(!1);onStable=new wn(!1);onError=new wn(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=K4}=e;if(typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Uk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(A_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $e(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Bk,tc,tc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Bk={};function M_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Vk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){X4(()=>{n.callbackScheduled=!1,K5(n),n.isCheckStableRunning=!0,M_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),K5(n)}function Uk(n){let e=()=>{Vk(n)},t=jk++;n._inner=n._inner.fork({name:"angular",properties:{[A_]:!0,[p0]:t,[p0+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Hk(l))return r.invokeTask(o,s,a,l);try{return vS(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),yS(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return vS(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!zk(l)&&e(),yS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,K5(n),M_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function K5(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function vS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yS(n){n._nesting--,M_(n)}var g0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wn;onMicrotaskEmpty=new wn;onStable=new wn;onError=new wn;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Hk(n){return J4(n,"__ignore_ng_zone__")}function zk(n){return J4(n,"__scheduler_tick__")}function J4(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var T_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ye({token:n,providedIn:"root",factory:()=>new n})}return n})(),Z4=[0,1,2,3],Q4=(()=>{class n{ngZone=xe(jn);scheduler=xe(Co);errorHandler=xe(Gi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){xe(cc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&cn(16),this.executing=!0;for(let r of Z4)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&cn(17)}register(t){let{view:r}=t;r!==void 0?((r[Jl]??=[]).push(t),Ja(r),r[vt]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(O0.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Ye({token:n,providedIn:"root",factory:()=>new n})}return n})(),m0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Jl];e&&(this.view[Jl]=e.filter(t=>t!==this))}};function k0(n,e){let t=e?.injector??xe(ei);return cs("NgAfterNextRender"),Gk(n,t,e,!0)}function qk(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Gk(n,e,t,r){let i=e.get(T_);i.impl??=e.get(Q4);let o=e.get(cc,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(vi):null,a=e.get(qu,null,{optional:!0}),l=new m0(i.impl,qk(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var N_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var P_=new Je("");function nl(n){return!!n&&typeof n.then=="function"}function O_(n){return!!n&&typeof n.subscribe=="function"}var eD=new Je("");var k_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=xe(eD,{optional:!0})??[];injector=xe(ei);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Rr(this.injector,i);if(nl(o))t.push(o);else if(O_(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R0=new Je("");function tD(){Jy(()=>{let n="";throw new $e(600,n)})}function nD(n){return n.isBoundToModule}var $k=10;var na=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=xe(ti);afterRenderManager=xe(T_);zonelessEnabled=xe(sf);rootEffectScheduler=xe(lf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Gn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=xe(os);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ot(t=>!t))}constructor(){xe(cc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=xe(ar);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ei.NULL){return this._injector.get(jn).run(()=>{cn(10);let s=t instanceof N0;if(!this._injector.get(k_).done){let y="";throw new $e(405,y)}let l;s?l=t:l=this._injector.get(wf).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=nD(l)?void 0:this._injector.get(sc),d=r||l.selector,f=l.create(i,[],d,c),m=f.location.nativeElement,p=f.injector.get(P_,null);return p?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),uf(this.components,f),p?.unregisterApplication(m)}),this._loadComponent(f),cn(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){cn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(O0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $e(101,!1);let t=mt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,mt(t),this.afterTick.next(),cn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(oc,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<$k;)cn(14),this.synchronizeOnce(),cn(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!rf(i))continue;let o=r&&!this.zonelessEnabled?0:1;E_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>rf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;uf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(R0,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>uf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $e(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function uc(n,e,t,r){let i=kt(),o=ec();if(lc(i,o,e)){let s=pr(),a=qm();c7(a,i,n,e,t,r)}return uc}var X5=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function S5(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Wk(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),d=e[o],f=S5(o,c,o,d,t);if(f!==0){f<0&&n.updateValue(o,d),o++;continue}let m=n.at(s),p=e[l],y=S5(s,m,l,p,t);if(y!==0){y<0&&n.updateValue(s,p),s--,l--;continue}let _=t(o,c),C=t(s,m),w=t(o,d);if(Object.is(w,C)){let S=t(l,p);Object.is(S,_)?(n.swap(o,s),n.updateValue(s,p),l--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(r??=new v0,i??=_S(n,o,s,t),J5(n,r,o,w))n.updateValue(o,d),o++,s++;else if(i.has(w))r.set(_,n.detach(o)),s--;else{let S=n.create(o,e[o]);n.attach(o,S),o++,s++}}for(;o<=l;)bS(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=n.at(o),f=c.value,m=S5(o,d,o,f,t);if(m!==0)m<0&&n.updateValue(o,f),o++,c=l.next();else{r??=new v0,i??=_S(n,o,s,t);let p=t(o,f);if(J5(n,r,o,p))n.updateValue(o,f),o++,s++,c=l.next();else if(!i.has(p))n.attach(o,n.create(o,f)),o++,s++,c=l.next();else{let y=t(o,d);r.set(y,n.detach(o)),s--}}}for(;!c.done;)bS(n,r,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function J5(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function bS(n,e,t,r,i){if(J5(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function _S(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var v0=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function gr(n,e,t,r,i,o,s,a){cs("NgControlFlow");let l=kt(),c=pr(),d=Ji(c.consts,o);return f0(l,c,n,e,t,r,i,d,256,s,a),R_}function R_(n,e,t,r,i,o,s,a){cs("NgControlFlow");let l=kt(),c=pr(),d=Ji(c.consts,o);return f0(l,c,n,e,t,r,i,d,512,s,a),R_}function mr(n,e){cs("NgControlFlow");let t=kt(),r=ec(),i=t[r]!==ls?t[r]:-1,o=i!==-1?y0(t,Sr+i):void 0,s=0;if(lc(t,r,n)){let a=mt(null);try{if(o!==void 0&&N4(o,s),n!==-1){let l=Sr+n,c=y0(t,l),d=t_(t[ut],l),f=O4(c,d,t),m=M0(t,d,e,{dehydratedView:f});T0(c,m,s,hf(d,f))}}finally{mt(a)}}else if(o!==void 0){let a=T4(o,s);a!==void 0&&(a[$n]=e)}}var Z5=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Dr}};function L_(n,e){return e}var Q5=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function ra(n,e,t,r,i,o,s,a,l,c,d,f,m){cs("NgControlFlow");let p=kt(),y=pr(),_=l!==void 0,C=kt(),w=a?s.bind(C[Mi][$n]):s,S=new Q5(_,w);C[Sr+n]=S,f0(p,y,n+1,e,t,r,i,Ji(y.consts,o),256),_&&f0(p,y,n+2,l,c,d,f,Ji(y.consts,m),512)}var e_=class extends X5{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Dr}at(e){return this.getLView(e)[$n].$implicit}attach(e,t){let r=t[ju];this.needsIndexUpdate||=e!==this.length,T0(this.lContainer,t,e,hf(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Yk(this.lContainer,e)}create(e,t){let r=B5(this.lContainer,this.templateTNode.tView.ssrId),i=M0(this.hostLView,this.templateTNode,new Z5(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){D0(e[ut],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[$n].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$n].$index=e}getLView(e){return Kk(this.lContainer,e)}};function ia(n){let e=mt(null),t=Za();try{let r=kt(),i=r[ut],o=r[t],s=t+1,a=y0(r,s);if(o.liveCollection===void 0){let c=t_(i,s);o.liveCollection=new e_(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(Wk(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=ec(),d=l.length===0;if(lc(r,c,d)){let f=t+2,m=y0(r,f);if(d){let p=t_(i,f),y=O4(m,p,r),_=M0(r,p,void 0,{dehydratedView:y});T0(m,_,0,hf(p,y))}else i.firstUpdatePass&&k7(m),N4(m,0)}}}finally{mt(e)}}function y0(n,e){return n[e]}function Yk(n,e){return pf(n,e)}function Kk(n,e){return T4(n,e)}function t_(n,e){return nf(n,e)}function pt(n,e,t){let r=kt(),i=ec();if(lc(r,i,e)){let o=pr(),s=qm();m4(s,r,n,e,r[Tn],t)}return pt}function wS(n,e,t,r,i){w_(e,n,t,i?"class":"style",r)}function re(n,e,t,r){let i=kt(),o=i[ut],s=n+Sr,a=o.firstCreatePass?j4(s,i,2,e,v4,n5(),t,r):o.data[s];if(y4(a,i,n,e,rD),tf(a)){let l=i[ut];__(l,i,a),QS(l,a,i)}return r!=null&&A0(i,a),re}function Q(){let n=pr(),e=Ir(),t=b4(e);return n.firstCreatePass&&B4(n,t),r5(t)&&i5(),t5(),t.classesWithoutHost!=null&&YP(t)&&wS(n,t,kt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&KP(t)&&wS(n,t,kt(),t.stylesWithoutHost,!1),Q}function Me(n,e,t,r){return re(n,e,t,r),Q(),Me}function be(n,e,t,r){let i=kt(),o=i[ut],s=n+Sr,a=o.firstCreatePass?Y7(s,o,2,e,t,r):o.data[s];return y4(a,i,n,e,rD),r!=null&&A0(i,a),be}function we(){let n=Ir(),e=b4(n);return r5(e)&&i5(),t5(),we}function tt(n,e,t,r){return be(n,e,t,r),we(),tt}var rD=(n,e,t,r,i)=>(Wm(!0),s4(e[Tn],r,$x()));function vr(){return kt()}var Ef="en-US";var Xk=Ef;function iD(n){typeof n=="string"&&(Xk=n.toLowerCase().replace(/_/g,"-"))}function We(n,e,t){let r=kt(),i=pr(),o=Ir();return oD(i,r,r[Tn],o,n,e,t),We}function oD(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=C5(r,e,o),J7(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let m=d[f],p=d[f+1];l??=C5(r,e,o),dS(r,e,m,p,i,l)}if(c&&c.length)for(let f of c)l??=C5(r,e,o),dS(r,e,f,i,i,l)}}function st(n=1){return Gx(n)}function F_(n,e,t,r){_k(n,e,t,r)}function ed(n,e,t){bk(n,e,t)}function rl(n){let e=kt(),t=pr(),r=c5();Um(r+1);let i=I_(t,r);if(n.dirty&&Sx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Ek(e,r);n.reset(o,lO),n.notifyOnChanges()}return!0}return!1}function il(){return yk(kt(),c5())}function Km(n,e){return n<<17|e<<2}function ac(n){return n>>17&32767}function Jk(n){return(n&2)==2}function Zk(n,e){return n&131071|e<<17}function n_(n){return n|2}function Xu(n){return(n&131068)>>2}function D5(n,e){return n&-131069|e<<2}function Qk(n){return(n&1)===1}function r_(n){return n|1}function eR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ac(s),l=Xu(s);n[r]=t;let c=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Fu(f,d)>0)&&(c=!0)}else d=t;if(i)if(l!==0){let m=ac(n[a+1]);n[r+1]=Km(m,a),m!==0&&(n[m+1]=D5(n[m+1],r)),n[a+1]=Zk(n[a+1],r)}else n[r+1]=Km(a,0),a!==0&&(n[a+1]=D5(n[a+1],r)),a=r;else n[r+1]=Km(l,0),a===0?a=r:n[l+1]=D5(n[l+1],r),l=r;c&&(n[r+1]=n_(n[r+1])),CS(n,d,r,!0),CS(n,d,r,!1),tR(e,d,n,r,o),s=Km(a,l),o?e.classBindings=s:e.styleBindings=s}function tR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Fu(o,e)>=0&&(t[r+1]=r_(t[r+1]))}function CS(n,e,t,r){let i=n[t+1],o=e===null,s=r?ac(i):Xu(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];nR(l,e)&&(a=!0,n[s+1]=r?r_(c):n_(c)),s=r?ac(c):Xu(c)}a&&(n[t+1]=r?n_(i):r_(i))}function nR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Fu(n,e)>=0:!1}function ii(n,e,t){return sD(n,e,t,!1),ii}function Ar(n,e){return sD(n,e,null,!0),Ar}function sD(n,e,t,r){let i=kt(),o=pr(),s=Fx(2);if(o.firstUpdatePass&&iR(o,n,s,r),e!==ls&&lc(i,s,e)){let a=o.data[Za()];cR(o,a,i,i[Tn],n,i[s+1]=uR(e,t),r,s)}}function rR(n,e){return e>=n.expandoStartIndex}function iR(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Za()],s=rR(n,t);dR(o,r)&&e===null&&!s&&(e=!1),e=oR(i,o,e,r),eR(i,o,e,t,s,r)}}function oR(n,e,t,r){let i=Ux(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=I5(null,n,e,t,r),t=mf(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=I5(i,n,e,t,r),o===null){let l=sR(n,e,r);l!==void 0&&Array.isArray(l)&&(l=I5(null,n,e,l[1],r),l=mf(l,e.attrs,r),aR(n,e,r,l))}else o=lR(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function sR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Xu(r)!==0)return n[ac(r)]}function aR(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ac(i)]=r}function lR(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=mf(r,s,t)}return mf(r,e.attrs,t)}function I5(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=mf(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function mf(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),gx(n,s,t?!0:e[++o]))}return n===void 0?null:n}function cR(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=Qk(c)?ES(l,e,t,i,Xu(c),s):void 0;if(!b0(d)){b0(o)||Jk(c)&&(o=ES(l,null,t,i,a,s));let f=Kb(Za(),t);QO(r,s,f,i,o)}}function ES(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),d=c?l[1]:l,f=d===null,m=t[i+1];m===ls&&(m=f?Ai:void 0);let p=f?Lm(m,r):d===r?m:void 0;if(c&&!b0(p)&&(p=Lm(l,r)),b0(p)&&(a=p,s))return a;let y=n[i+1];i=s?ac(y):Xu(y)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Lm(l,r))}return a}function b0(n){return n!==void 0}function uR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Xs(bf(n)))),n}function dR(n,e){return(n.flags&(e?8:16))!==0}function G(n,e=""){let t=kt(),r=pr(),i=n+Sr,o=r.firstCreatePass?_f(r,i,1,e,null):r.data[i],s=hR(r,t,o,e,n);t[i]=s,$m()&&y_(r,t,s,o),Hu(o,!1)}var hR=(n,e,t,r,i)=>(Wm(!0),OO(e[Tn],r));function aD(n,e,t,r=""){return lc(n,ec(),t)?e+Kh(t)+r:ls}function oa(n){return Hr("",n),oa}function Hr(n,e,t){let r=kt(),i=aD(r,n,e,t);return i!==ls&&fR(r,Za(),i),Hr}function fR(n,e,t){let r=Kb(e,n);kO(n[Tn],r,t)}function L0(n,e,t){m5(e)&&(e=e());let r=kt(),i=ec();if(lc(r,i,e)){let o=pr(),s=qm();m4(s,r,n,e,r[Tn],t)}return L0}function j_(n,e){let t=m5(n);return t&&n.set(e),t}function F0(n,e){let t=kt(),r=pr(),i=Ir();return oD(r,t,t[Tn],i,n,e),F0}function us(n,e,t=""){return aD(kt(),n,e,t)}function pR(n,e,t){let r=pr();if(r.firstCreatePass){let i=is(n);i_(t,r.data,r.blueprint,i,!0),i_(e,r.data,r.blueprint,i,!1)}}function i_(n,e,t,r,i){if(n=kr(n),Array.isArray(n))for(let o=0;o<n.length;o++)i_(n[o],e,t,r,i);else{let o=pr(),s=kt(),a=Ir(),l=Gl(n)?n:kr(n.provide),c=zb(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Gl(n)||!n.multi){let p=new rc(c,i,rt,null),y=M5(l,e,i?d:d+m,f);y===-1?(N5(r0(a,s),o,l),A5(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[y]=p,s[y]=p)}else{let p=M5(l,e,d+m,f),y=M5(l,e,d,d+m),_=p>=0&&t[p],C=y>=0&&t[y];if(i&&!C||!i&&!_){N5(r0(a,s),o,l);let w=vR(i?mR:gR,t.length,i,r,c,n);!i&&C&&(t[y].providerFactory=w),A5(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)}else{let w=lD(t[i?y:p],c,!i&&r);A5(o,n,p>-1?p:y,w)}!i&&r&&C&&t[y].componentProviders++}}}function A5(n,e,t,r){let i=Gl(e),o=wx(e);if(i||o){let l=(o?kr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function lD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function M5(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function gR(n,e,t,r,i){return o_(this.multi,[])}function mR(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=df(r,r[ut],this.providerFactory.index,i);s=l.slice(0,a),o_(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],o_(o,s);return s}function o_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function vR(n,e,t,r,i,o){let s=new rc(n,t,rt,null);return s.multi=[],s.index=e,s.componentProviders=0,lD(s,i,r&&!t),s}function To(n,e=[]){return t=>{t.providersResolver=(r,i)=>pR(r,i?i(n):n,e)}}function B_(n,e,t){let r=Rx()+n,i=kt();return i[r]===ls?K7(i,r,t?e.call(t):e()):X7(i,r)}var _0=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},V_=(()=>{class n{compileModuleSync(t){return new h0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Bb(t),o=i4(i.declarations).reduce((s,a)=>{let l=Wa(a);return l&&s.push(new Ku(l)),s},[]);return new _0(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yR=(()=>{class n{zone=xe(jn);changeDetectionScheduler=xe(Co);applicationRef=xe(na);applicationErrorHandler=xe(ti);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cD=new Je("",{factory:()=>!1});function U_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new jn(Xe(Ce({},z_()),{scheduleInRootZone:t})),[{provide:jn,useFactory:n},{provide:Zs,multi:!0,useFactory:()=>{let r=xe(yR,{optional:!0});return()=>r.initialize()}},{provide:Zs,multi:!0,useFactory:()=>{let r=xe(bR);return()=>{r.initialize()}}},e===!0?{provide:v5,useValue:!0}:[],{provide:y5,useValue:t??K4},{provide:ti,useFactory:()=>{let r=xe(jn),i=xe(ar),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Gi),o.handleError(s))})}}}]}function H_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=U_({ngZoneFactory:()=>{let i=z_(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&cs("NgZone_CoalesceEvent"),new jn(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Qs([{provide:cD,useValue:!0},{provide:sf,useValue:!1},r])}function z_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var bR=(()=>{class n{subscription=new ir;initialized=!1;zone=xe(jn);pendingTasks=xe(os);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{jn.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{jn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uD=(()=>{class n{applicationErrorHandler=xe(ti);appRef=xe(na);taskService=xe(os);ngZone=xe(jn);zonelessEnabled=xe(sf);tracing=xe(cc,{optional:!0});disableScheduling=xe(v5,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ir;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(p0):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(xe(y5,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof g0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?mS:X4;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(p0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _R(){return typeof $localize<"u"&&$localize.locale||Ef}var j0=new Je("",{providedIn:"root",factory:()=>xe(j0,{optional:!0,skipSelf:!0})||_R()});function Qi(n){return ix(n)}function ds(n,e){return nm(n,e?.equal)}var q_=class{[Ur];constructor(e){this[Ur]=e}destroy(){this[Ur].destroy()}};function G_(n,e){let t=e?.injector??xe(ei),r=e?.manualCleanup!==!0?t.get(vi):null,i,o=t.get(qu,null,{optional:!0}),s=t.get(Co);return o!==null?(i=ER(o.view,s,n),r instanceof $h&&r._lView===o.view&&(r=null)):i=xR(n,t.get(lf),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new q_(i)}var dD=Xe(Ce({},Ua),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:tc,run(){if(this.dirty=!1,this.hasRun&&!Cu(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=Ha(this),t=zu(!1);try{this.maybeCleanup(),this.fn(n)}finally{zu(t),Fl(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let n=mt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],mt(n)}}}),wR=Xe(Ce({},dD),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Eu(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),CR=Xe(Ce({},dD),{consumerMarkedDirty(){this.view[vt]|=8192,Ja(this.view),this.notifier.notify(13)},destroy(){Eu(this),this.onDestroyFn(),this.maybeCleanup(),this.view[ea]?.delete(this)}});function ER(n,e,t){let r=Object.create(CR);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[ea]??=new Set,n[ea].add(r),r.consumerMarkedDirty(r),r}function xR(n,e,t){let r=Object.create(wR);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var pD=Symbol("InputSignalNode#UNSET"),VR=Xe(Ce({},rm),{transformFn:void 0,applyValueToInputSignal(n,e){xu(n,e)}});function gD(n,e){let t=Object.create(VR);t.value=n,t.transformFn=e?.transform;function r(){if(wu(t),t.value===pD){let i=null;throw new $e(-950,i)}return t.value}return r[Ur]=t,r}var V0=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>yf(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},UR=new Je("");UR.__NG_ELEMENT_ID__=n=>{let e=Ir();if(e===null)throw new $e(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new $e(204,!1)};function hD(n,e){return gD(n,e)}function HR(n){return gD(pD,n)}var mD=(hD.required=HR,hD);var $_=new Je(""),zR=new Je("");function xf(n){return!n.moduleRef}function qR(n){let e=xf(n)?n.r3Injector:n.moduleRef.injector,t=e.get(jn);return t.run(()=>{xf(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ti),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),xf(n)){let o=()=>e.destroy(),s=n.platformInjector.get($_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get($_);s.add(o),n.moduleRef.onDestroy(()=>{uf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return $R(r,t,()=>{let o=e.get(os),s=o.add(),a=e.get(k_);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(j0,Ef);if(iD(l||Ef),!e.get(zR,!0))return xf(n)?e.get(na):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(xf(n)){let d=e.get(na);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return GR?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var GR;function $R(n,e,t){try{let r=t();return nl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var B0=null;function WR(n=[],e){return ei.create({name:e,providers:[{provide:Jh,useValue:"platform"},{provide:$_,useValue:new Set([()=>B0=null])},...n]})}function YR(n=[]){if(B0)return B0;let e=WR(n);return B0=e,tD(),KR(e),e}function KR(n){let e=n.get(C0,null);Rr(n,()=>{e?.forEach(t=>t())})}var sa=(()=>{class n{static __NG_ELEMENT_ID__=XR}return n})();function XR(n){return JR(Ir(),kt(),(n&16)===16)}function JR(n,e,t){if(Xa(n)&&!t){let r=Xi(n.index,e);return new el(r,r)}else if(n.type&175){let r=e[Mi];return new el(r,e)}return null}function vD(n){cn(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=YR(r),o=[U_({}),{provide:Co,useExisting:uD},Yx,...t||[]],s=new gf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return qR({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{cn(9)}}function dc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var _D=null;function eo(){return _D}function W_(n){_D??=n}var Sf=class{},Df=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:()=>xe(wD),providedIn:"platform"})}return n})();var wD=(()=>{class n extends Df{_location;_history;_doc=xe(Fn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eo().getBaseHref(this._doc)}onPopState(t){let r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function U0(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function yD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Po(n){return n&&n[0]!=="?"?`?${n}`:n}var hs=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:()=>xe(Y_),providedIn:"root"})}return n})(),H0=new Je(""),Y_=(()=>{class n extends hs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??xe(Fn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return U0(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Po(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Po(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Po(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(nt(Df),nt(H0,8))};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hc=(()=>{class n{_subject=new Gn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=e9(yD(bD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Po(r))}normalize(t){return n.stripTrailingSlash(QR(this._basePath,bD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Po(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Po(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Po;static joinWithSlash=U0;static stripTrailingSlash=yD;static \u0275fac=function(r){return new(r||n)(nt(hs))};static \u0275prov=Ye({token:n,factory:()=>ZR(),providedIn:"root"})}return n})();function ZR(){return new hc(nt(hs))}function QR(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function bD(n){return n.replace(/\/index.html$/,"")}function e9(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var K_=(()=>{class n extends hs{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=U0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Po(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Po(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(nt(Df),nt(H0,8))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})();var aa=(()=>{class n{_viewContainer;_context=new z0;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){CD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){CD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(rt(tl),rt(ic))};static \u0275dir=Cn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),z0=class{$implicit=null;ngIf=null};function CD(n,e){if(n&&!n.createEmbeddedView)throw new $e(2020,!1)}var fs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mo({type:n});static \u0275inj=$i({})}return n})();function If(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var fc=class{};var ED="browser";var xD=(()=>{class n{static \u0275prov=Ye({token:n,providedIn:"root",factory:()=>new X_(xe(Fn),window)})}return n})(),X_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(Xe(Ce({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=i9(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Js(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Xe(Ce({},t),{left:i-s[0],top:o-s[1]}))}};function i9(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var G0=new Je(""),tw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $e(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(nt(G0),nt(jn))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})(),Mf=class{_doc;constructor(e){this._doc=e}manager},J_="ng-app-id";function SD(n){for(let e of n)e.remove()}function DD(n,e){let t=e.createElement("style");return t.textContent=n,t}function o9(n,e,t,r){let i=n.head?.querySelectorAll(`style[${J_}="${e}"],link[${J_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(J_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Q_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var nw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,o9(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,DD);r?.forEach(i=>this.addUsage(i,this.external,Q_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(SD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])SD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,DD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Q_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(nt(Fn),nt(w0),nt(E0,8),nt(Zu))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})(),Z_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rw=/%COMP%/g;var AD="%COMP%",s9=`_nghost-${AD}`,a9=`_ngcontent-${AD}`,l9=!0,c9=new Je("",{providedIn:"root",factory:()=>l9});function u9(n){return a9.replace(rw,n)}function d9(n){return s9.replace(rw,n)}function MD(n,e){return e.map(t=>t.replace(rw,n))}var iw=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Tf(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof q0?i.applyToHost(t):i instanceof Nf&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case ta.Emulated:o=new q0(l,c,r,this.appId,d,s,a,f,m);break;case ta.ShadowDom:return new ew(l,c,t,r,s,a,this.nonce,f,m);default:o=new Nf(l,c,r,d,s,a,f,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(nt(tw),nt(nw),nt(w0),nt(c9),nt(Fn),nt(Zu),nt(jn),nt(E0),nt(cc,8))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})(),Tf=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Z_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ID(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ID(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $e(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Z_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Z_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(as.DashCase|as.Important)?e.style.setProperty(t,r,i&as.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&as.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=eo().getGlobalEventTarget(this.doc,e),!e))throw new $e(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function ID(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ew=class extends Tf{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=MD(i.id,d);for(let m of d){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=m,this.shadowRoot.appendChild(p)}let f=i.getExternalStyles?.();if(f)for(let m of f){let p=Q_(m,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nf=class extends Tf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?MD(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},q0=class extends Nf{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let d=i+"-"+r.id;super(e,t,r,o,s,a,l,c,d),this.contentAttr=u9(d),this.hostAttr=d9(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var $0=class n extends Sf{supportsDOMEvents=!0;static makeCurrent(){W_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=h9();return t==null?null:f9(t)}resetBaseElement(){Pf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return If(document.cookie,e)}},Pf=null;function h9(){return Pf=Pf||document.head.querySelector("base"),Pf?Pf.getAttribute("href"):null}function f9(n){return new URL(n,document.baseURI).pathname}var p9=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})(),ND=(()=>{class n extends Mf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(nt(Fn))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})(),TD=["alt","control","meta","shift"],g9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},PD=(()=>{class n extends Mf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eo().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),TD.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=g9[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TD.forEach(s=>{if(s!==i){let a=m9[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(nt(Fn))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})();function ow(n,e){let t=Ce({rootComponent:n},v9(e));return vD(t)}function v9(n){return{appProviders:[...C9,...n?.providers??[]],platformProviders:w9}}function y9(){$0.makeCurrent()}function b9(){return new Gi}function _9(){return l_(document),document}var w9=[{provide:Zu,useValue:ED},{provide:C0,useValue:y9,multi:!0},{provide:Fn,useFactory:_9}];var C9=[{provide:Jh,useValue:"root"},{provide:Gi,useFactory:b9},{provide:G0,useClass:ND,multi:!0,deps:[Fn]},{provide:G0,useClass:PD,multi:!0,deps:[Fn]},iw,nw,tw,{provide:oc,useExisting:iw},{provide:fc,useClass:p9},[]];var nd=class{},Rf=class{},pc=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Y0=class{encodeKey(e){return OD(e)}encodeValue(e){return OD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function E9(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var x9=/%(\d[a-f0-9])/gi,S9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OD(n){return encodeURIComponent(n).replace(x9,(e,t)=>S9[t]??e)}function W0(n){return`${n}`}var ol=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Y0,e.fromString){if(e.fromObject)throw new $e(2805,!1);this.map=E9(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(W0):[W0(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(W0(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(W0(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var K0=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function D9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RD(n){return typeof Blob<"u"&&n instanceof Blob}function LD(n){return typeof FormData<"u"&&n instanceof FormData}function I9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var FD="Content-Type",jD="Accept",BD="X-Request-URL",VD="text/plain",UD="application/json",A9=`${UD}, ${VD}, */*`,Of=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(D9(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new pc,this.context??=new K0,!this.params)this.params=new ol,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kD(this.body)||RD(this.body)||LD(this.body)||I9(this.body)?this.body:this.body instanceof ol?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||LD(this.body)?null:RD(this.body)?this.body.type||null:kD(this.body)?null:typeof this.body=="string"?VD:this.body instanceof ol?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?UD:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,f=e.transferCache??this.transferCache,m=e.timeout??this.timeout,p=e.body!==void 0?e.body:this.body,y=e.withCredentials??this.withCredentials,_=e.reportProgress??this.reportProgress,C=e.headers||this.headers,w=e.params||this.params,S=e.context??this.context;return e.setHeaders!==void 0&&(C=Object.keys(e.setHeaders).reduce((O,k)=>O.set(k,e.setHeaders[k]),C)),e.setParams&&(w=Object.keys(e.setParams).reduce((O,k)=>O.set(k,e.setParams[k]),w)),new n(t,r,p,{params:w,headers:C,context:S,reportProgress:_,responseType:i,withCredentials:y,transferCache:f,keepalive:o,cache:a,priority:s,timeout:m,mode:l,redirect:c,credentials:d})}},td=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(td||{}),rd=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new pc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},X0=class n extends rd{constructor(e={}){super(e)}type=td.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},J0=class n extends rd{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=td.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},kf=class extends rd{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},M9=200,T9=204;function sw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect}}var N9=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Of)o=t;else{let l;i.headers instanceof pc?l=i.headers:l=new pc(i.headers);let c;i.params&&(i.params instanceof ol?c=i.params:c=new ol({fromObject:i.params})),o=new Of(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=ht(o).pipe($s(l=>this.handler.handle(l)));if(t instanceof Of||i.observe==="events")return s;let a=s.pipe(Qr(l=>l instanceof J0));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ot(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new $e(2806,!1);return l.body}));case"blob":return a.pipe(Ot(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new $e(2807,!1);return l.body}));case"text":return a.pipe(Ot(l=>{if(l.body!==null&&typeof l.body!="string")throw new $e(2808,!1);return l.body}));case"json":default:return a.pipe(Ot(l=>l.body))}case"response":return a;default:throw new $e(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ol().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,sw(i,r))}post(t,r,i={}){return this.request("POST",t,sw(i,r))}put(t,r,i={}){return this.request("PUT",t,sw(i,r))}static \u0275fac=function(r){return new(r||n)(nt(nd))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})();var P9=new Je("");function O9(n,e){return e(n)}function k9(n,e,t){return(r,i)=>Rr(t,()=>e(r,o=>n(o,i)))}var HD=new Je(""),R9=new Je(""),zD=new Je("",{providedIn:"root",factory:()=>!0});var Z0=(()=>{class n extends nd{backend;injector;chain=null;pendingTasks=xe(af);contributeToStability=xe(zD);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(HD),...this.injector.get(R9,[])]));this.chain=r.reduceRight((i,o)=>k9(i,o,this.injector),O9)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ul(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(nt(Rf),nt(ar))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})();var L9=/^\)\]\}',?\n/,F9=RegExp(`^${BD}:`,"m");function j9(n){return"responseURL"in n&&n.responseURL?n.responseURL:F9.test(n.getAllResponseHeaders())?n.getResponseHeader(BD):null}var aw=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $e(-2800,!1);let r=this.xhrFactory;return ht(null).pipe(gi(()=>new Ut(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,w)=>s.setRequestHeader(C,w.join(","))),t.headers.has(jD)||s.setRequestHeader(jD,A9),!t.headers.has(FD)){let C=t.detectContentTypeHeader();C!==null&&s.setRequestHeader(FD,C)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let C=t.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let C=s.statusText||"OK",w=new pc(s.getAllResponseHeaders()),S=j9(s)||t.url;return l=new X0({headers:w,status:s.status,statusText:C,url:S}),l},d=()=>{let{headers:C,status:w,statusText:S,url:O}=c(),k=null;w!==T9&&(k=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=k?M9:0);let z=w>=200&&w<300;if(t.responseType==="json"&&typeof k=="string"){let Z=k;k=k.replace(L9,"");try{k=k!==""?JSON.parse(k):null}catch(H){k=Z,z&&(z=!1,k={error:H,text:k})}}z?(o.next(new J0({body:k,headers:C,status:w,statusText:S,url:O||void 0})),o.complete()):o.error(new kf({error:k,headers:C,status:w,statusText:S,url:O||void 0}))},f=C=>{let{url:w}=c(),S=new kf({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(S)},m=f;t.timeout&&(m=C=>{let{url:w}=c(),S=new kf({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:w||void 0});o.error(S)});let p=!1,y=C=>{p||(o.next(c()),p=!0);let w={type:td.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),t.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},_=C=>{let w={type:td.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",m),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:td.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(nt(fc))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})(),qD=new Je(""),B9="XSRF-TOKEN",V9=new Je("",{providedIn:"root",factory:()=>B9}),U9="X-XSRF-TOKEN",H9=new Je("",{providedIn:"root",factory:()=>U9}),Lf=class{},z9=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=If(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(nt(Fn),nt(V9))};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})();function q9(n,e){let t=n.url.toLowerCase();if(!xe(qD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=xe(Lf).getToken(),i=xe(H9);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function lw(...n){let e=[N9,aw,Z0,{provide:nd,useExisting:Z0},{provide:Rf,useFactory:()=>xe(P9,{optional:!0})??xe(aw)},{provide:HD,useValue:q9,multi:!0},{provide:qD,useValue:!0},{provide:Lf,useClass:z9}];for(let t of n)e.push(...t.\u0275providers);return Qs(e)}var GD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(nt(Fn))};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nt="primary",Kf=Symbol("RouteTitle"),fw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function vc(n){return new fw(n)}function QD(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ps(n[t],e[t]))return!1;return!0}function ps(n,e){let t=n?pw(n):void 0,r=e?pw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!e6(n[i],e[i]))return!1;return!0}function pw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function e6(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function t6(n){return n.length>0?n[n.length-1]:null}function ca(n){return cb(n)?n:nl(n)?Mn(Promise.resolve(n)):ht(n)}var W9={exact:r6,subset:i6},n6={exact:Y9,subset:K9,ignored:()=>!0};function $D(n,e,t){return W9[t.paths](n.root,e.root,t.matrixParams)&&n6[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Y9(n,e){return ps(n,e)}function r6(n,e,t){if(!gc(n.segments,e.segments)||!t1(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!r6(n.children[r],e.children[r],t))return!1;return!0}function K9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>e6(n[t],e[t]))}function i6(n,e,t){return o6(n,e,e.segments,t)}function o6(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!gc(i,t)||e.hasChildren()||!t1(i,t,r))}else if(n.segments.length===t.length){if(!gc(n.segments,t)||!t1(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!i6(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!gc(n.segments,i)||!t1(n.segments,i,r)||!n.children[Nt]?!1:o6(n.children[Nt],e,o,r)}}function t1(n,e,t){return e.every((r,i)=>n6[t](n[i].parameters,r.parameters))}var ms=class{root;queryParams;fragment;_queryParamMap;constructor(e=new en([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vc(this.queryParams),this._queryParamMap}toString(){return Z9.serialize(this)}},en=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return n1(this)}},sl=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=vc(this.parameters),this._parameterMap}toString(){return a6(this)}};function X9(n,e){return gc(n,e)&&n.every((t,r)=>ps(t.parameters,e[r].parameters))}function gc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function J9(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Nt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Nt&&(t=t.concat(e(i,r)))}),t}var gd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:()=>new yc,providedIn:"root"})}return n})(),yc=class{parse(e){let t=new mw(e);return new ms(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ff(e.root,!0)}`,r=tL(e.queryParams),i=typeof e.fragment=="string"?`#${Q9(e.fragment)}`:"";return`${t}${r}${i}`}},Z9=new yc;function n1(n){return n.segments.map(e=>a6(e)).join("/")}function Ff(n,e){if(!n.hasChildren())return n1(n);if(e){let t=n.children[Nt]?Ff(n.children[Nt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Nt&&r.push(`${i}:${Ff(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=J9(n,(r,i)=>i===Nt?[Ff(n.children[Nt],!1)]:[`${i}:${Ff(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Nt]!=null?`${n1(n)}/${t[0]}`:`${n1(n)}/(${t.join("//")})`}}function s6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q0(n){return s6(n).replace(/%3B/gi,";")}function Q9(n){return encodeURI(n)}function gw(n){return s6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function r1(n){return decodeURIComponent(n)}function WD(n){return r1(n.replace(/\+/g,"%20"))}function a6(n){return`${gw(n.path)}${eL(n.parameters)}`}function eL(n){return Object.entries(n).map(([e,t])=>`;${gw(e)}=${gw(t)}`).join("")}function tL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Q0(t)}=${Q0(i)}`).join("&"):`${Q0(t)}=${Q0(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var nL=/^[^\/()?;#]+/;function cw(n){let e=n.match(nL);return e?e[0]:""}var rL=/^[^\/()?;=#]+/;function iL(n){let e=n.match(rL);return e?e[0]:""}var oL=/^[^=?&#]+/;function sL(n){let e=n.match(oL);return e?e[0]:""}var aL=/^[^&#]+/;function lL(n){let e=n.match(aL);return e?e[0]:""}var mw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Nt]=new en(e,t)),r}parseSegment(){let e=cw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $e(4009,!1);return this.capture(e),new sl(r1(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=iL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=cw(this.remaining);i&&(r=i,this.capture(r))}e[r1(t)]=r1(r)}parseQueryParam(e){let t=sL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=lL(this.remaining);s&&(r=s,this.capture(r))}let i=WD(t),o=WD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $e(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Nt);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Nt]:new en([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $e(4011,!1)}};function l6(n){return n.segments.length>0?new en([],{[Nt]:n}):n}function c6(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=c6(i);if(r===Nt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new en(n.segments,e);return cL(t)}function cL(n){if(n.numberOfChildren===1&&n.children[Nt]){let e=n.children[Nt];return new en(n.segments.concat(e.segments),e.children)}return n}function al(n){return n instanceof ms}function u6(n,e,t=null,r=null){let i=d6(n);return h6(i,e,t,r)}function d6(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new en(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=l6(r);return e??i}function h6(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return uw(i,i,i,t,r);let o=uL(e);if(o.toRoot())return uw(i,i,new en([],{}),t,r);let s=dL(o,i,n),a=s.processChildren?Bf(s.segmentGroup,s.index,o.commands):p6(s.segmentGroup,s.index,o.commands);return uw(i,s.segmentGroup,a,t,r)}function i1(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Uf(n){return typeof n=="object"&&n!=null&&n.outlets}function uw(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===e?s=t:s=f6(n,e,t);let a=l6(c6(s));return new ms(a,o,i)}function f6(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=f6(o,e,t)}),new en(n.segments,r)}var o1=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&i1(r[0]))throw new $e(4003,!1);let i=r.find(Uf);if(i&&i!==t6(r))throw new $e(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new o1(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new o1(t,e,r)}var sd=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function dL(n,e,t){if(n.isAbsolute)return new sd(e,!0,0);if(!t)return new sd(e,!1,NaN);if(t.parent===null)return new sd(t,!0,0);let r=i1(n.commands[0])?0:1,i=t.segments.length-1+r;return hL(t,i,n.numberOfDoubleDots)}function hL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $e(4005,!1);i=r.segments.length}return new sd(r,!1,i-o)}function fL(n){return Uf(n[0])?n[0].outlets:{[Nt]:n}}function p6(n,e,t){if(n??=new en([],{}),n.segments.length===0&&n.hasChildren())return Bf(n,e,t);let r=pL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new en(n.segments.slice(0,r.pathIndex),{});return o.children[Nt]=new en(n.segments.slice(r.pathIndex),n.children),Bf(o,0,i)}else return r.match&&i.length===0?new en(n.segments,{}):r.match&&!n.hasChildren()?vw(n,e,t):r.match?Bf(n,0,i):vw(n,e,t)}function Bf(n,e,t){if(t.length===0)return new en(n.segments,{});{let r=fL(t),i={};if(Object.keys(r).some(o=>o!==Nt)&&n.children[Nt]&&n.numberOfChildren===1&&n.children[Nt].segments.length===0){let o=Bf(n.children[Nt],e,t);return new en(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=p6(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new en(n.segments,i)}}function pL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Uf(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!KD(l,c,s))return o;r+=2}else{if(!KD(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Uf(o)){let l=gL(o.outlets);return new en(r,l)}if(i===0&&i1(t[0])){let l=n.segments[e];r.push(new sl(l.path,YD(t[0]))),i++;continue}let s=Uf(o)?o.outlets[Nt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&i1(a)?(r.push(new sl(s,YD(a))),i+=2):(r.push(new sl(s,{})),i++)}return new en(r,{})}function gL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=vw(new en([],{}),0,r))}),e}function YD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function KD(n,e,t){return n==t.path&&ps(e,t.parameters)}var ad="imperative",yr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(yr||{}),Oi=class{id;url;constructor(e,t){this.id=e,this.url=t}},ll=class extends Oi{type=yr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},to=class extends Oi{urlAfterRedirects;type=yr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},oi=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(oi||{}),cd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(cd||{}),gs=class extends Oi{reason;code;type=yr.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vs=class extends Oi{reason;code;type=yr.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ud=class extends Oi{error;target;type=yr.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hf=class extends Oi{urlAfterRedirects;state;type=yr.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s1=class extends Oi{urlAfterRedirects;state;type=yr.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a1=class extends Oi{urlAfterRedirects;state;shouldActivate;type=yr.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},l1=class extends Oi{urlAfterRedirects;state;type=yr.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c1=class extends Oi{urlAfterRedirects;state;type=yr.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},u1=class{route;type=yr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},d1=class{route;type=yr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},h1=class{snapshot;type=yr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f1=class{snapshot;type=yr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},p1=class{snapshot;type=yr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},g1=class{snapshot;type=yr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dd=class{routerEvent;position;anchor;type=yr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},zf=class{},hd=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function mL(n){return!(n instanceof zf)&&!(n instanceof hd)}function vL(n,e){return n.providers&&!n._injector&&(n._injector=Cf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Oo(n){return n.outlet||Nt}function yL(n,e){let t=n.filter(r=>Oo(r)===e);return t.push(...n.filter(r=>Oo(r)!==e)),t}function md(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var m1=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return md(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new vd(this.rootInjector)}},vd=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new m1(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(nt(ar))};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),v1=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=yw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=yw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=bw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bw(e,this._root).map(t=>t.value)}};function yw(n,e){if(n===e.value)return e;for(let t of e.children){let r=yw(n,t);if(r)return r}return null}function bw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=bw(n,t);if(r.length)return r.unshift(e),r}return[]}var Pi=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function od(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var qf=class extends v1{snapshot;constructor(e,t){super(e),this.snapshot=t,Iw(this,e)}toString(){return this.snapshot.toString()}};function g6(n){let e=bL(n),t=new fn([new sl("",{})]),r=new fn({}),i=new fn({}),o=new fn({}),s=new fn(""),a=new la(t,r,o,s,i,Nt,n,e.root);return a.snapshot=e.root,new qf(new Pi(a,[]),e)}function bL(n){let e={},t={},r={},i="",o=new mc([],e,r,i,t,Nt,n,null,{});return new Gf("",new Pi(o,[]))}var la=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ot(c=>c[Kf]))??ht(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ot(e=>vc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ot(e=>vc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function y1(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Ce(Ce({},e.params),n.params),data:Ce(Ce({},e.data),n.data),resolve:Ce(Ce(Ce(Ce({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Ce({},n.params),data:Ce({},n.data),resolve:Ce(Ce({},n.data),n._resolvedData??{})},i&&v6(i)&&(r.resolve[Kf]=i.title),r}var mc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Kf]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Gf=class extends v1{url;constructor(e,t){super(t),this.url=e,Iw(this,t)}toString(){return m6(this._root)}};function Iw(n,e){e.value._routerState=n,e.children.forEach(t=>Iw(n,t))}function m6(n){let e=n.children.length>0?` { ${n.children.map(m6).join(", ")} } `:"";return`${n.value}${e}`}function dw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ps(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ps(e.params,t.params)||n.paramsSubject.next(t.params),$9(e.url,t.url)||n.urlSubject.next(t.url),ps(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _w(n,e){let t=ps(n.params,e.params)&&X9(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_w(n.parent,e.parent))}function v6(n){return typeof n.title=="string"||n.title===null}var y6=new Je(""),Xf=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Nt;activateEvents=new wn;deactivateEvents=new wn;attachEvents=new wn;detachEvents=new wn;routerOutletData=mD(void 0);parentContexts=xe(vd);location=xe(tl);changeDetector=xe(sa);inputBinder=xe(C1,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $e(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $e(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $e(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $e(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ww(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Cn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zi]})}return n})(),ww=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===la?this.route:e===vd?this.childContexts:e===y6?this.outletData:this.parent.get(e,t)}},C1=new Je("");var Aw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=xn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Me(0,"router-outlet")},dependencies:[Xf],encapsulation:2})}return n})();function Mw(n){let e=n.children&&n.children.map(Mw),t=e?Xe(Ce({},n),{children:e}):Ce({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nt&&(t.component=Aw),t}function _L(n,e,t){let r=$f(n,e._root,t?t._root:void 0);return new qf(r,e)}function $f(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=wL(n,e,t);return new Pi(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$f(n,a)),s}}let r=CL(e.value),i=e.children.map(o=>$f(n,o));return new Pi(r,i)}}function wL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $f(n,r,i);return $f(n,r)})}function CL(n){return new la(new fn(n.url),new fn(n.params),new fn(n.queryParams),new fn(n.fragment),new fn(n.data),n.outlet,n.component,n)}var fd=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},b6="ngNavigationCancelingError";function b1(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=al(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_6(!1,oi.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _6(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[b6]=!0,t.cancellationCode=e,t}function EL(n){return w6(n)&&al(n.url)}function w6(n){return!!n&&n[b6]}var xL=(n,e,t,r)=>Ot(i=>(new Cw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Cw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=od(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=od(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=od(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=od(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new g1(o.value.snapshot))}),e.children.length&&this.forwardEvent(new f1(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(dw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},_1=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ld=class{component;route;constructor(e,t){this.component=e,this.route=t}};function SL(n,e,t){let r=n._root,i=e?e._root:null;return jf(r,i,t,[r.value])}function DL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function yd(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ib(n)?n:e.get(n):r}function jf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=od(e);return n.children.forEach(s=>{IL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vf(a,t.getContext(s),i)),i}function IL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=AL(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _1(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?jf(n,e,a?a.children:null,r,i):jf(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ld(a.outlet.component,s))}else s&&Vf(e,a,i),i.canActivateChecks.push(new _1(r)),o.component?jf(n,null,a?a.children:null,r,i):jf(n,null,t,r,i);return i}function AL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!gc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!gc(n.url,e.url)||!ps(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_w(n,e)||!ps(n.queryParams,e.queryParams);case"paramsChange":default:return!_w(n,e)}}function Vf(n,e,t){let r=od(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Vf(s,e.children.getContext(o),t):Vf(s,null,t):Vf(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ld(e.outlet.component,i)):t.canDeactivateChecks.push(new ld(null,i)):t.canDeactivateChecks.push(new ld(null,i))}function Jf(n){return typeof n=="function"}function ML(n){return typeof n=="boolean"}function TL(n){return n&&Jf(n.canLoad)}function NL(n){return n&&Jf(n.canActivate)}function PL(n){return n&&Jf(n.canActivateChild)}function OL(n){return n&&Jf(n.canDeactivate)}function kL(n){return n&&Jf(n.canMatch)}function C6(n){return n instanceof qs||n?.name==="EmptyError"}var e1=Symbol("INITIAL_VALUE");function pd(){return gi(n=>Sm(n.map(e=>e.pipe(Ws(1),fb(e1)))).pipe(Ot(e=>{for(let t of e)if(t!==!0){if(t===e1)return e1;if(t===!1||RL(t))return t}return!0}),Qr(e=>e!==e1),Ws(1)))}function RL(n){return al(n)||n instanceof fd}function LL(n,e){return sr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ht(Xe(Ce({},t),{guardsResult:!0})):FL(s,r,i,n).pipe(sr(a=>a&&ML(a)?jL(r,o,n,e):ht(a)),Ot(a=>Xe(Ce({},t),{guardsResult:a})))})}function FL(n,e,t,r){return Mn(n).pipe(sr(i=>zL(i.component,i.route,t,e,r)),Ys(i=>i!==!0,!0))}function jL(n,e,t,r){return Mn(e).pipe($s(i=>ku(VL(i.route.parent,r),BL(i.route,r),HL(n,i.path,t),UL(n,i.route,t))),Ys(i=>i!==!0,!0))}function BL(n,e){return n!==null&&e&&e(new p1(n)),ht(!0)}function VL(n,e){return n!==null&&e&&e(new h1(n)),ht(!0)}function UL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ht(!0);let i=r.map(o=>Uh(()=>{let s=md(e)??t,a=yd(o,s),l=NL(a)?a.canActivate(e,n):Rr(s,()=>a(e,n));return ca(l).pipe(Ys())}));return ht(i).pipe(pd())}function HL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>DL(s)).filter(s=>s!==null).map(s=>Uh(()=>{let a=s.guards.map(l=>{let c=md(s.node)??t,d=yd(l,c),f=PL(d)?d.canActivateChild(r,n):Rr(c,()=>d(r,n));return ca(f).pipe(Ys())});return ht(a).pipe(pd())}));return ht(o).pipe(pd())}function zL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ht(!0);let s=o.map(a=>{let l=md(e)??i,c=yd(a,l),d=OL(c)?c.canDeactivate(n,e,t,r):Rr(l,()=>c(n,e,t,r));return ca(d).pipe(Ys())});return ht(s).pipe(pd())}function qL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ht(!0);let o=i.map(s=>{let a=yd(s,n),l=TL(a)?a.canLoad(e,t):Rr(n,()=>a(e,t));return ca(l)});return ht(o).pipe(pd(),E6(r))}function E6(n){return ob(xr(e=>{if(typeof e!="boolean")throw b1(n,e)}),Ot(e=>e===!0))}function GL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ht(!0);let o=i.map(s=>{let a=yd(s,n),l=kL(a)?a.canMatch(e,t):Rr(n,()=>a(e,t));return ca(l)});return ht(o).pipe(pd(),E6(r))}var Wf=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Yf=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function id(n){return Pu(new Wf(n))}function $L(n){return Pu(new $e(4e3,!1))}function WL(n){return Pu(_6(!1,oi.GuardRejected))}var Ew=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ht(r);if(i.numberOfChildren>1||!i.children[Nt])return $L(`${e.redirectTo}`);i=i.children[Nt]}}applyRedirectCommands(e,t,r,i,o){return YL(t,i,o).pipe(Ot(s=>{if(s instanceof ms)throw new Yf(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Yf(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ms(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new en(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $e(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function YL(n,e,t){if(typeof n=="string")return ht(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:d,title:f}=e;return ca(Rr(t,()=>r({params:c,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:f})))}var xw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KL(n,e,t,r,i){let o=x6(n,e,t);return o.matched?(r=vL(e,r),GL(r,e,t,i).pipe(Ot(s=>s===!0?o:Ce({},xw)))):ht(o)}function x6(n,e,t){if(e.path==="**")return XL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Ce({},xw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||QD)(t,n,e);if(!i)return Ce({},xw);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Ce(Ce({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XL(n){return{matched:!0,parameters:n.length>0?t6(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function XD(n,e,t,r){return t.length>0&&QL(n,t,r)?{segmentGroup:new en(e,ZL(r,new en(t,n.children))),slicedSegments:[]}:t.length===0&&eF(n,t,r)?{segmentGroup:new en(n.segments,JL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new en(n.segments,n.children),slicedSegments:t}}function JL(n,e,t,r){let i={};for(let o of t)if(E1(n,e,o)&&!r[Oo(o)]){let s=new en([],{});i[Oo(o)]=s}return Ce(Ce({},r),i)}function ZL(n,e){let t={};t[Nt]=e;for(let r of n)if(r.path===""&&Oo(r)!==Nt){let i=new en([],{});t[Oo(r)]=i}return t}function QL(n,e,t){return t.some(r=>E1(n,e,r)&&Oo(r)!==Nt)}function eF(n,e,t){return t.some(r=>E1(n,e,r))}function E1(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function tF(n,e,t){return e.length===0&&!n.children[t]}var Sw=class{};function nF(n,e,t,r,i,o,s="emptyOnly"){return new Dw(n,e,t,r,i,s,o).recognize()}var rF=31,Dw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ew(this.urlSerializer,this.urlTree)}noMatchError(e){return new $e(4002,`'${e.segmentGroup}'`)}recognize(){let e=XD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ot(({children:t,rootSnapshot:r})=>{let i=new Pi(r,t),o=new Gf("",i),s=u6(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new mc([],Object.freeze({}),Object.freeze(Ce({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Nt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Nt,t).pipe(Ot(r=>({children:r,rootSnapshot:t})),Gs(r=>{if(r instanceof Yf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Wf?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Ot(s=>s instanceof Pi?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Mn(o).pipe($s(s=>{let a=r.children[s],l=yL(t,s);return this.processSegmentGroup(e,l,a,s,i)}),hb((s,a)=>(s.push(...a),s)),qa(null),db(),sr(s=>{if(s===null)return id(r);let a=S6(s);return iF(a),ht(a)}))}processSegment(e,t,r,i,o,s,a){return Mn(t).pipe($s(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Gs(c=>{if(c instanceof Wf)return ht(null);throw c}))),Ys(l=>!!l),Gs(l=>{if(C6(l))return tF(r,i,o)?ht(new Sw):id(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Oo(r)!==s&&(s===Nt||!E1(i,o,r))?id(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):id(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=x6(t,i,o);if(!l)return id(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rF&&(this.allowRedirects=!1));let p=new mc(o,c,Object.freeze(Ce({},this.urlTree.queryParams)),this.urlTree.fragment,JD(i),Oo(i),i.component??i._loadedComponent??null,i,ZD(i)),y=y1(p,a,this.paramsInheritanceStrategy);return p.params=Object.freeze(y.params),p.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,p,e).pipe(gi(C=>this.applyRedirects.lineralizeSegments(i,C)),sr(C=>this.processSegment(e,r,t,C.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=KL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(gi(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(gi(({routes:c})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:p}=l,y=new mc(m,f,Object.freeze(Ce({},this.urlTree.queryParams)),this.urlTree.fragment,JD(r),Oo(r),r.component??r._loadedComponent??null,r,ZD(r)),_=y1(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:w}=XD(t,m,p,c);if(w.length===0&&C.hasChildren())return this.processChildren(d,c,C,y).pipe(Ot(O=>new Pi(y,O)));if(c.length===0&&w.length===0)return ht(new Pi(y,[]));let S=Oo(r)===o;return this.processSegment(d,c,C,w,S?Nt:o,!0,y).pipe(Ot(O=>new Pi(y,O instanceof Pi?[O]:[])))}))):id(t)))}getChildConfig(e,t,r){return t.children?ht({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ht({routes:t._loadedRoutes,injector:t._loadedInjector}):qL(e,t,r,this.urlSerializer).pipe(sr(i=>i?this.configLoader.loadChildren(e,t).pipe(xr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):WL(t))):ht({routes:[],injector:e})}};function iF(n){n.sort((e,t)=>e.value.outlet===Nt?-1:t.value.outlet===Nt?1:e.value.outlet.localeCompare(t.value.outlet))}function oF(n){let e=n.value.routeConfig;return e&&e.path===""}function S6(n){let e=[],t=new Set;for(let r of n){if(!oF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=S6(r.children);e.push(new Pi(r.value,i))}return e.filter(r=>!t.has(r))}function JD(n){return n.data||{}}function ZD(n){return n.resolve||{}}function sF(n,e,t,r,i,o){return sr(s=>nF(n,e,t,r,s.extractedUrl,i,o).pipe(Ot(({state:a,tree:l})=>Xe(Ce({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function aF(n,e){return sr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ht(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of D6(l))s.add(c);let a=0;return Mn(s).pipe($s(l=>o.has(l)?lF(l,r,n,e):(l.data=y1(l,l.parent,n).resolve,ht(void 0))),xr(()=>a++),Ru(1),sr(l=>a===s.size?ht(t):fi))})}function D6(n){let e=n.children.map(t=>D6(t)).flat();return[n,...e]}function lF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!v6(i)&&(o[Kf]=i.title),Uh(()=>(n.data=y1(n,n.parent,t).resolve,cF(o,n,e,r).pipe(Ot(s=>(n._resolvedData=s,n.data=Ce(Ce({},n.data),s),null)))))}function cF(n,e,t,r){let i=pw(n);if(i.length===0)return ht({});let o={};return Mn(i).pipe(sr(s=>uF(n[s],e,t,r).pipe(Ys(),xr(a=>{if(a instanceof fd)throw b1(new yc,a);o[s]=a}))),Ru(1),Ot(()=>o),Gs(s=>C6(s)?fi:Pu(s)))}function uF(n,e,t,r){let i=md(e)??r,o=yd(n,i),s=o.resolve?o.resolve(e,t):Rr(i,()=>o(e,t));return ca(s)}function hw(n){return gi(e=>{let t=n(e);return t?Mn(t).pipe(Ot(()=>e)):ht(e)})}var Tw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Nt);return r}getResolvedTitleForRoute(t){return t.data[Kf]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:()=>xe(I6),providedIn:"root"})}return n})(),I6=(()=>{class n extends Tw{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(nt(GD))};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bd=new Je("",{providedIn:"root",factory:()=>({})}),Zf=new Je(""),A6=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=xe(V_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ht(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ca(Rr(t,()=>r.loadComponent())).pipe(Ot(T6),xr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ul(()=>{this.componentLoaders.delete(r)})),o=new Nu(i,()=>new Gn).pipe(Tu());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=M6(r,this.compiler,t,this.onLoadEndListener).pipe(Ul(()=>{this.childrenLoaders.delete(r)})),s=new Nu(o,()=>new Gn).pipe(Tu());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M6(n,e,t,r){return ca(Rr(t,()=>n.loadChildren())).pipe(Ot(T6),sr(i=>i instanceof P0||Array.isArray(i)?ht(i):Mn(e.compileModuleAsync(i))),Ot(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Zf,[],{optional:!0,self:!0}).flat()),{routes:s.map(Mw),injector:o}}))}function dF(n){return n&&typeof n=="object"&&"default"in n}function T6(n){return dF(n)?n.default:n}var x1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:()=>xe(hF),providedIn:"root"})}return n})(),hF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N6=new Je("");var P6=new Je(""),Nw=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Gn;transitionAbortWithErrorSubject=new Gn;configLoader=xe(A6);environmentInjector=xe(ar);destroyRef=xe(vi);urlSerializer=xe(gd);rootContexts=xe(vd);location=xe(hc);inputBindingEnabled=xe(C1,{optional:!0})!==null;titleStrategy=xe(Tw);options=xe(bd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=xe(x1);createViewTransition=xe(N6,{optional:!0});navigationErrorHandler=xe(P6,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ht(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new u1(i)),r=i=>this.events.next(new d1(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Xe(Ce({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new fn(null),this.transitions.pipe(Qr(r=>r!==null),gi(r=>{let i=!1;return ht(r).pipe(gi(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",oi.SupersededByNewNavigation),fi;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Xe(Ce({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new vs(o.id,this.urlSerializer.serialize(o.rawUrl),l,cd.IgnoredSameUrlNavigation)),o.resolve(!1),fi}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ht(o).pipe(gi(l=>(this.events.next(new ll(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?fi:Promise.resolve(l))),sF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),xr(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Xe(Ce({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new Hf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:f,extras:m}=o,p=new ll(l,this.urlSerializer.serialize(c),d,f);this.events.next(p);let y=g6(this.rootComponentType).snapshot;return this.currentTransition=r=Xe(Ce({},o),{targetSnapshot:y,urlAfterRedirects:c,extras:Xe(Ce({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,ht(r)}else{let l="";return this.events.next(new vs(o.id,this.urlSerializer.serialize(o.extractedUrl),l,cd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),fi}}),xr(o=>{let s=new s1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Ot(o=>(this.currentTransition=r=Xe(Ce({},o),{guards:SL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),LL(this.environmentInjector,o=>this.events.next(o)),xr(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw b1(this.urlSerializer,o.guardsResult);let s=new a1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Qr(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",oi.GuardRejected),!1)),hw(o=>{if(o.guards.canActivateChecks.length!==0)return ht(o).pipe(xr(s=>{let a=new l1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),gi(s=>{let a=!1;return ht(s).pipe(aF(this.paramsInheritanceStrategy,this.environmentInjector),xr({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",oi.NoDataFromResolver)}}))}),xr(s=>{let a=new c1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),hw(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=md(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(xr(d=>{a.component=d}),Ot(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return Sm(s(o.targetSnapshot.root)).pipe(qa(null),Ws(1))}),hw(()=>this.afterPreactivation()),gi(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Mn(a).pipe(Ot(()=>r)):ht(r)}),Ot(o=>{let s=_L(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Xe(Ce({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),xr(()=>{this.events.next(new zf)}),xL(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ws(1),Im(new Ut(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Qr(()=>!i&&!r.targetRouterState),xr(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",oi.Aborted)}))),xr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new to(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Im(this.transitionAbortWithErrorSubject.pipe(xr(o=>{throw o}))),Ul(()=>{i||this.cancelNavigationTransition(r,"",oi.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gs(o=>{if(this.destroyed)return r.resolve(!1),fi;if(i=!0,w6(o))this.events.next(new gs(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),EL(o)?this.events.next(new hd(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ud(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Rr(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof fd){let{message:l,cancellationCode:c}=b1(this.urlSerializer,a);this.events.next(new gs(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new hd(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return fi}))}))}cancelNavigationTransition(t,r,i){let o=new gs(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fF(n){return n!==ad}var O6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:()=>xe(pF),providedIn:"root"})}return n})(),w1=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},pF=(()=>{class n extends w1{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k6=(()=>{class n{urlSerializer=xe(gd);options=xe(bd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=xe(hc);urlHandlingStrategy=xe(x1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ms;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof ms?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=g6(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:()=>xe(gF),providedIn:"root"})}return n})(),gF=(()=>{class n extends k6{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ll?this.updateStateMemento():t instanceof vs?this.commitTransition(r):t instanceof Hf?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zf?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof gs&&t.code!==oi.SupersededByNewNavigation&&t.code!==oi.Redirect?this.restoreHistory(r):t instanceof ud?this.restoreHistory(r,!0):t instanceof to&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=Ce(Ce({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=Ce(Ce({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pw(n,e){n.events.pipe(Qr(t=>t instanceof to||t instanceof gs||t instanceof ud||t instanceof vs),Ot(t=>t instanceof to||t instanceof vs?0:(t instanceof gs?t.code===oi.Redirect||t.code===oi.SupersededByNewNavigation:!1)?2:1),Qr(t=>t!==2),Ws(1)).subscribe(()=>{e()})}var mF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=xe(N_);stateManager=xe(k6);options=xe(bd,{optional:!0})||{};pendingTasks=xe(os);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=xe(Nw);urlSerializer=xe(gd);location=xe(hc);urlHandlingStrategy=xe(x1);injector=xe(ar);_events=new Gn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=xe(O6);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=xe(Zf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!xe(C1,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ir;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof gs&&r.code!==oi.Redirect&&r.code!==oi.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof to)this.navigated=!0;else if(r instanceof hd){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Ce({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fF(i.source)},s);this.scheduleNavigation(a,ad,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ad,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Ce({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(ti)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Mw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=Ce(Ce({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=d6(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return h6(f,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=al(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ad,null,r)}navigate(t,r={skipLocationChange:!1}){return yF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Ce({},mF):r===!1?i=Ce({},vF):i=r,al(t))return $D(this.currentUrlTree,t,i);let o=this.parseUrl(t);return $D(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,m)=>{a=f,l=m});let d=this.pendingTasks.add();return Pw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $e(4008,!1)}var _d=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Jt(null);get href(){return Qi(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Gn;applicationErrorHandler=xe(ti);options=xe(bd,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(xe(new V0("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof to&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(al(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:al(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(rt(yi),rt(la),yf("tabindex"),rt(Ao),rt(ni),rt(hs))};static \u0275dir=Cn({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&We("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&uc("href",i.reactiveHref(),d_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",dc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",dc],replaceUrl:[2,"replaceUrl","replaceUrl",dc],routerLink:"routerLink"},features:[Zi]})}return n})(),Ow=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new wn;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof to&&this.update()})}ngAfterContentInit(){ht(this.links.changes,ht(null)).pipe(Ou()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Mn(t).pipe(Ou()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=bF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(rt(yi),rt(ni),rt(Ao),rt(sa),rt(_d,8))};static \u0275dir=Cn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&F_(o,_d,5),r&2){let s;rl(s=il())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Zi]})}return n})();function bF(n){return!!n.paths}var R6=new Je(""),_F=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ad;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ll?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof to?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof vs&&t.code===cd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>ie(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new dd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){D_()};static \u0275prov=Ye({token:n,factory:n.\u0275fac})}return n})();function kw(n,...e){return Qs([{provide:Zf,multi:!0,useValue:n},[],{provide:la,useFactory:wF,deps:[yi]},{provide:R0,multi:!0,useFactory:CF},e.map(t=>t.\u0275providers)])}function wF(n){return n.routerState.root}function L6(n,e){return{\u0275kind:n,\u0275providers:e}}function Rw(n={}){return L6(4,[{provide:R6,useFactory:()=>{let t=xe(xD),r=xe(jn),i=xe(Nw),o=xe(gd);return new _F(o,i,t,r,n)}}])}function CF(){let n=xe(ei);return e=>{let t=n.get(na);if(e!==t.components[0])return;let r=n.get(yi),i=n.get(EF);n.get(xF)===1&&r.initialNavigation(),n.get(SF,null,{optional:!0})?.setUpPreloading(),n.get(R6,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EF=new Je("",{factory:()=>new Gn}),xF=new Je("",{providedIn:"root",factory:()=>1});var SF=new Je("");function Lw(){return L6(6,[{provide:hs,useClass:K_}])}var D1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-banner"]],decls:53,vars:0,consts:[["id","banner",1,"hero-banner","bg-gradient","position-relative","overflow-hidden"],[1,"container-fluid","px-0"],[1,"row","g-0","align-items-center","min-vh-75"],[1,"col-lg-6","order-lg-1","order-2"],[1,"hero-content","px-4","px-lg-5","py-5"],[1,"hero-badge","mb-3"],[1,"badge","bg-white","text-primary","px-3","py-2","rounded-pill","fs-6","fw-semibold"],[1,"bi","bi-award-fill","me-2"],[1,"display-4","fw-bold","text-white","mb-4","animate-fade-in"],[1,"lead","text-white-50","mb-4","fs-5"],[1,"hero-features","mb-4"],[1,"row","g-3"],[1,"col-auto"],[1,"feature-item","d-flex","align-items-center","text-white-50"],[1,"bi","bi-people-fill","me-2","text-warning"],[1,"bi","bi-mortarboard-fill","me-2","text-warning"],[1,"bi","bi-graph-up-arrow","me-2","text-warning"],[1,"hero-cta"],["href","#contact",1,"btn","btn-warning","btn-lg","px-4","py-3","me-3","shadow-sm"],[1,"bi","bi-telephone-fill","me-2"],["href","#about",1,"btn","btn-outline-light","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-person-circle","me-2"],[1,"col-lg-6","order-lg-2","order-1"],[1,"hero-image-container","position-relative"],[1,"hero-image-wrapper","p-4"],[1,"professional-image-placeholder","bg-white","rounded-4","shadow-lg","p-5","text-center"],[1,"bi","bi-person-circle","display-1","text-primary","mb-3"],[1,"text-muted"],[1,"text-muted","small","mb-0"],[1,"position-absolute","top-0","start-0","w-100","h-100"],[1,"floating-shape","shape-1"],[1,"floating-shape","shape-2"],[1,"floating-shape","shape-3"],[1,"scroll-indicator","position-absolute","bottom-0","start-50","translate-middle-x","mb-4"],[1,"scroll-arrow","animate-bounce"],[1,"bi","bi-chevron-down","text-white","fs-4"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),tt(7,"i",7),G(8,"Psic\xF3logo Certificado "),we()(),be(9,"h1",8),G(10," Abel Uriaz Navarro Carrasco "),we(),be(11,"p",9),G(12," Especialista en desarrollo del talento humano y transformaci\xF3n organizacional "),we(),be(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),tt(17,"i",14),be(18,"small"),G(19,"Capacitaci\xF3n Empresarial"),we()()(),be(20,"div",12)(21,"div",13),tt(22,"i",15),be(23,"small"),G(24,"Talleres Especializados"),we()()(),be(25,"div",12)(26,"div",13),tt(27,"i",16),be(28,"small"),G(29,"Desarrollo Organizacional"),we()()()()(),be(30,"div",17)(31,"a",18),tt(32,"i",19),G(33,"Contactar Ahora "),we(),be(34,"a",20),tt(35,"i",21),G(36,"Conocer M\xE1s "),we()()()(),be(37,"div",22)(38,"div",23)(39,"div",24)(40,"div",25),tt(41,"i",26),be(42,"h5",27),G(43,"Foto Profesional"),we(),be(44,"p",28),G(45,"Imagen del profesional"),we()()(),be(46,"div",29),tt(47,"div",30)(48,"div",31)(49,"div",32),we()()()()(),be(50,"div",33)(51,"div",34),tt(52,"i",35),we()()())},styles:['.hero-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;position:relative;overflow:hidden}.hero-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#667eeacc,#764ba2e6);z-index:1}.hero-banner[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{position:relative;z-index:2}.min-vh-75[_ngcontent-%COMP%]{min-height:75vh}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:3}.hero-content[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .2s both}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .4s both;text-shadow:0 2px 4px rgba(0,0,0,.3)}.hero-content[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .6s both}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .8s both}.hero-content[_ngcontent-%COMP%]   .hero-cta[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1s both}.hero-image-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInRight 1s ease-out .5s both}.professional-image-placeholder[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.professional-image-placeholder[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 20px 40px #00000026!important}.floating-shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.floating-shape.shape-1[_ngcontent-%COMP%]{width:80px;height:80px;top:20%;right:20%;animation-delay:0s}.floating-shape.shape-2[_ngcontent-%COMP%]{width:120px;height:120px;bottom:30%;right:10%;animation-delay:2s}.floating-shape.shape-3[_ngcontent-%COMP%]{width:60px;height:60px;top:60%;right:30%;animation-delay:4s}.scroll-indicator[_ngcontent-%COMP%]{z-index:3}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]:hover{transform:translateY(5px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.animate-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s infinite}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out both}@media (max-width: 991.98px){.hero-banner[_ngcontent-%COMP%]{min-height:auto}.hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem!important}.hero-banner[_ngcontent-%COMP%]   .hero-image-container[_ngcontent-%COMP%]{padding:2rem 1rem}.floating-shape[_ngcontent-%COMP%]{display:none}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-bottom:0}}@media (max-width: 575.98px){.hero-content[_ngcontent-%COMP%]{padding:2rem 1rem!important}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem!important}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}.hero-content[_ngcontent-%COMP%]   .hero-features[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}']})};var I1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-workshops-promo"]],decls:118,vars:0,consts:[["id","workshops",1,"workshops-section","py-5","bg-light","position-relative"],[1,"container"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-mortarboard-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"lead","text-muted"],[1,"row","g-4","mb-5"],[1,"col-lg-4","col-md-6"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover"],[1,"service-icon","mb-4"],[1,"icon-wrapper","bg-primary","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-building","text-primary","fs-1"],[1,"fw-bold","text-dark","mb-3"],[1,"text-muted","mb-4"],[1,"list-unstyled","text-muted","small"],[1,"mb-2"],[1,"bi","bi-check-circle-fill","text-success","me-2"],[1,"service-card","h-100","bg-white","rounded-4","shadow-sm","p-4","border-0","transition-hover","featured"],[1,"featured-badge"],[1,"badge","bg-warning","text-dark","small"],[1,"icon-wrapper","bg-warning","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-briefcase-fill","text-warning","fs-1"],[1,"icon-wrapper","bg-success","bg-opacity-10","rounded-3","p-3","d-inline-block"],[1,"bi","bi-mic-fill","text-success","fs-1"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"benefits-container","bg-white","rounded-4","shadow-sm","p-4","p-lg-5"],[1,"row","align-items-center"],[1,"col-lg-6","mb-4","mb-lg-0"],[1,"col-lg-6"],[1,"row","g-3"],[1,"col-6"],[1,"benefit-item","text-center","p-3"],[1,"benefit-icon","bg-primary","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-target","text-primary","fs-5"],[1,"fw-semibold","text-dark","mb-1"],[1,"text-muted"],[1,"benefit-icon","bg-success","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-people-fill","text-success","fs-5"],[1,"benefit-icon","bg-warning","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-award-fill","text-warning","fs-5"],[1,"benefit-icon","bg-info","bg-opacity-10","rounded-circle","p-3","mx-auto","mb-2","d-inline-flex","align-items-center","justify-content-center",2,"width","60px","height","60px"],[1,"bi","bi-headset","text-info","fs-5"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-mortarboard-fill","text-primary",2,"font-size","15rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),tt(6,"i",6),G(7,"Programas Profesionales "),we()(),be(8,"h2",7),G(9,"Talleres y Programas de Capacitaci\xF3n"),we(),be(10,"p",8),G(11," Soluciones integrales de capacitaci\xF3n dise\xF1adas para potenciar el talento humano y fortalecer las competencias organizacionales de tu empresa. "),we()()(),be(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),tt(17,"i",14),we()(),be(18,"h4",15),G(19,"Talleres Institucionales"),we(),be(20,"p",16),G(21," Programas especializados para instituciones p\xFAblicas y privadas, enfocados en el desarrollo organizacional y mejora de procesos. "),we(),be(22,"ul",17)(23,"li",18),tt(24,"i",19),G(25,"Liderazgo y gesti\xF3n de equipos"),we(),be(26,"li",18),tt(27,"i",19),G(28,"Comunicaci\xF3n efectiva"),we(),be(29,"li",18),tt(30,"i",19),G(31,"Resoluci\xF3n de conflictos"),we()()()(),be(32,"div",10)(33,"div",20)(34,"div",21)(35,"span",22),G(36,"M\xE1s Solicitado"),we()(),be(37,"div",12)(38,"div",23),tt(39,"i",24),we()(),be(40,"h4",15),G(41,"Capacitaci\xF3n Empresarial"),we(),be(42,"p",16),G(43," Programas personalizados para empresas que buscan optimizar el rendimiento y bienestar de sus colaboradores. "),we(),be(44,"ul",17)(45,"li",18),tt(46,"i",19),G(47,"Habilidades blandas"),we(),be(48,"li",18),tt(49,"i",19),G(50,"Bienestar laboral"),we(),be(51,"li",18),tt(52,"i",19),G(53,"Productividad y motivaci\xF3n"),we()()()(),be(54,"div",10)(55,"div",11)(56,"div",12)(57,"div",25),tt(58,"i",26),we()(),be(59,"h4",15),G(60,"Charlas Especializadas"),we(),be(61,"p",16),G(62," Conferencias y charlas magistrales sobre temas espec\xEDficos del desarrollo humano y organizacional. "),we(),be(63,"ul",17)(64,"li",18),tt(65,"i",19),G(66,"Psicolog\xEDa organizacional"),we(),be(67,"li",18),tt(68,"i",19),G(69,"Gesti\xF3n del cambio"),we(),be(70,"li",18),tt(71,"i",19),G(72,"Inteligencia emocional"),we()()()()(),be(73,"div",27)(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",31)(78,"h3",15),G(79,"\xBFPor qu\xE9 elegir nuestros programas?"),we(),be(80,"p",16),G(81," Cada programa est\xE1 dise\xF1ado con metodolog\xEDas probadas y adaptadas a las necesidades espec\xEDficas de tu organizaci\xF3n. "),we()(),be(82,"div",32)(83,"div",33)(84,"div",34)(85,"div",35)(86,"div",36),tt(87,"i",37),we(),be(88,"h6",38),G(89,"Enfoque Pr\xE1ctico"),we(),be(90,"small",39),G(91,"Metodolog\xEDa aplicada"),we()()(),be(92,"div",34)(93,"div",35)(94,"div",40),tt(95,"i",41),we(),be(96,"h6",38),G(97,"Grupos Reducidos"),we(),be(98,"small",39),G(99,"Atenci\xF3n personalizada"),we()()(),be(100,"div",34)(101,"div",35)(102,"div",42),tt(103,"i",43),we(),be(104,"h6",38),G(105,"Certificaci\xF3n"),we(),be(106,"small",39),G(107,"Reconocimiento oficial"),we()()(),be(108,"div",34)(109,"div",35)(110,"div",44),tt(111,"i",45),we(),be(112,"h6",38),G(113,"Seguimiento"),we(),be(114,"small",39),G(115,"Apoyo continuo"),we()()()()()()()()()(),be(116,"div",46),tt(117,"i",47),we()())},styles:[".workshops-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.section-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out both}.service-card[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 40px #0000001a!important;border-color:#0000001a}.service-card.featured[_ngcontent-%COMP%]{border:2px solid #ffc107;position:relative}.service-card.featured[_ngcontent-%COMP%]   .featured-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:20px;z-index:10}.service-card.featured[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #ffc10733!important}.service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1)}.transition-hover[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.benefits-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.05)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{transition:transform .3s ease}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.benefits-container[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{transition:transform .3s ease}.service-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}.service-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.service-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.service-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 991.98px){.workshops-section[_ngcontent-%COMP%]   .benefits-container[_ngcontent-%COMP%]{margin-top:2rem}.workshops-section[_ngcontent-%COMP%]   .benefits-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 767.98px){.service-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.benefits-container[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{margin-bottom:1rem}}.service-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .bi-check-circle-fill[_ngcontent-%COMP%]{font-size:.9rem}@media (max-width: 1199.98px){.workshops-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10rem!important}}@media (max-width: 767.98px){.workshops-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}"]})};var A1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-about-me"]],decls:122,vars:0,consts:[["id","about",1,"about-section","py-5","bg-white","position-relative"],[1,"container"],[1,"row","align-items-center","g-5"],[1,"col-lg-5","order-lg-1","order-2"],[1,"about-image-container","position-relative"],[1,"professional-image","bg-light","rounded-4","shadow-lg","p-4","text-center"],[1,"bi","bi-person-circle","display-1","text-primary","mb-3"],[1,"text-muted"],[1,"credential-badge","credential-1","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"d-flex","align-items-center"],[1,"credential-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-primary"],[1,"mb-0","fw-semibold","small"],[1,"credential-badge","credential-2","position-absolute","bg-white","rounded-3","shadow","p-3"],[1,"credential-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-building","text-success"],[1,"col-lg-7","order-lg-2","order-1"],[1,"about-content"],[1,"section-badge","mb-3"],[1,"badge","bg-primary","bg-opacity-10","text-primary","px-3","py-2","rounded-pill"],[1,"bi","bi-person-badge-fill","me-2"],[1,"display-5","fw-bold","text-dark","mb-4"],[1,"about-intro","mb-4"],[1,"lead","text-muted"],[1,"text-primary"],[1,"about-description","mb-4"],[1,"text-muted","mb-3"],[1,"expertise-areas","mb-4"],[1,"fw-bold","text-dark","mb-3"],[1,"row","g-3"],[1,"col-md-6"],[1,"expertise-item","d-flex","align-items-center","p-3","bg-light","rounded-3"],[1,"expertise-icon","bg-primary","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-brain","text-primary"],[1,"mb-1","fw-semibold"],[1,"expertise-icon","bg-warning","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-people-fill","text-warning"],[1,"expertise-icon","bg-success","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-heart-pulse-fill","text-success"],[1,"expertise-icon","bg-info","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-lightbulb-fill","text-info"],[1,"professional-stats"],[1,"row","g-4"],[1,"col-4"],[1,"stat-item","text-center"],[1,"stat-number","display-6","fw-bold","text-primary"],[1,"stat-label","small","text-muted"],[1,"stat-number","display-6","fw-bold","text-success"],[1,"stat-number","display-6","fw-bold","text-warning"],[1,"position-absolute","top-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-person-workspace","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),tt(6,"i",6),be(7,"h6",7),G(8,"Abel Uriaz Navarro Carrasco"),we(),be(9,"small",7),G(10,"Psic\xF3logo Organizacional"),we()(),be(11,"div",8)(12,"div",9)(13,"div",10),tt(14,"i",11),we(),be(15,"div")(16,"h6",12),G(17,"Colegiatura"),we(),be(18,"small",7),G(19,"C.Ps.P. N\xB0 64179"),we()()()(),be(20,"div",13)(21,"div",9)(22,"div",14),tt(23,"i",15),we(),be(24,"div")(25,"h6",12),G(26,"RUC"),we(),be(27,"small",7),G(28,"10758489677"),we()()()()()(),be(29,"div",16)(30,"div",17)(31,"div",18)(32,"span",19),tt(33,"i",20),G(34,"Conoce al Profesional "),we()(),be(35,"h2",21),G(36,"Sobre m\xED"),we(),be(37,"div",22)(38,"p",23),G(39," Soy "),be(40,"strong",24),G(41,"Abel Uriaz Navarro Carrasco"),we(),G(42,", psic\xF3logo de profesi\xF3n con especializaci\xF3n en el desarrollo del talento humano y transformaci\xF3n organizacional. "),we()(),be(43,"div",25)(44,"p",26),G(45," Me dedico a brindar "),be(46,"strong"),G(47,"talleres, charlas y programas de capacitaci\xF3n"),we(),G(48," dirigidos a instituciones y empresas, con el objetivo de fortalecer competencias personales, grupales y organizacionales que generen un impacto positivo duradero. "),we(),be(49,"p",7),G(50," Mi enfoque integra conocimientos especializados en "),be(51,"strong"),G(52,"psicolog\xEDa organizacional, habilidades blandas, bienestar laboral y liderazgo"),we(),G(53,", aplicados de manera din\xE1mica y efectiva para potenciar el rendimiento de los equipos de trabajo. "),we()(),be(54,"div",27)(55,"h5",28),G(56,"\xC1reas de Especializaci\xF3n"),we(),be(57,"div",29)(58,"div",30)(59,"div",31)(60,"div",32),tt(61,"i",33),we(),be(62,"div")(63,"h6",34),G(64,"Psicolog\xEDa Organizacional"),we(),be(65,"small",7),G(66,"Comportamiento y clima laboral"),we()()()(),be(67,"div",30)(68,"div",31)(69,"div",35),tt(70,"i",36),we(),be(71,"div")(72,"h6",34),G(73,"Liderazgo y Equipos"),we(),be(74,"small",7),G(75,"Gesti\xF3n y desarrollo"),we()()()(),be(76,"div",30)(77,"div",31)(78,"div",37),tt(79,"i",38),we(),be(80,"div")(81,"h6",34),G(82,"Bienestar Laboral"),we(),be(83,"small",7),G(84,"Salud mental y productividad"),we()()()(),be(85,"div",30)(86,"div",31)(87,"div",39),tt(88,"i",40),we(),be(89,"div")(90,"h6",34),G(91,"Habilidades Blandas"),we(),be(92,"small",7),G(93,"Comunicaci\xF3n y empat\xEDa"),we()()()()()(),be(94,"div",41)(95,"div",42)(96,"div",43)(97,"div",44)(98,"div",45),G(99,"5+"),we(),be(100,"div",46),G(101,"A\xF1os de"),tt(102,"br"),G(103,"Experiencia"),we()()(),be(104,"div",43)(105,"div",44)(106,"div",47),G(107,"50+"),we(),be(108,"div",46),G(109,"Empresas"),tt(110,"br"),G(111,"Capacitadas"),we()()(),be(112,"div",43)(113,"div",44)(114,"div",48),G(115,"1000+"),we(),be(116,"div",46),G(117,"Profesionales"),tt(118,"br"),G(119,"Formados"),we()()()()()()()()(),be(120,"div",49),tt(121,"i",50),we()())},styles:[".about-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.about-image-container[_ngcontent-%COMP%]{position:relative}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #0000001a!important}.credential-badge[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(0,0,0,.05);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.credential-badge[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #00000026!important}.credential-badge.credential-1[_ngcontent-%COMP%]{top:10%;right:-15%;animation:_ngcontent-%COMP%_fadeInRight .8s ease-out .5s both}.credential-badge.credential-2[_ngcontent-%COMP%]{bottom:20%;left:-15%;animation:_ngcontent-%COMP%_fadeInLeft .8s ease-out .7s both}.about-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .3s both}.about-content[_ngcontent-%COMP%]   .section-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .1s both}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .3s both}.about-content[_ngcontent-%COMP%]   .about-intro[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .5s both}.about-content[_ngcontent-%COMP%]   .about-description[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .7s both}.about-content[_ngcontent-%COMP%]   .expertise-areas[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .9s both}.about-content[_ngcontent-%COMP%]   .professional-stats[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1.1s both}.expertise-item[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid transparent}.expertise-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background-color:#fff!important;border-color:#0000001a;box-shadow:0 8px 25px #0000001a}.expertise-item[_ngcontent-%COMP%]:hover   .expertise-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.expertise-icon[_ngcontent-%COMP%]{transition:transform .3s ease;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.stat-item[_ngcontent-%COMP%]{transition:transform .3s ease}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-item[_ngcontent-%COMP%]:hover   .stat-number[_ngcontent-%COMP%]{transform:scale(1.1)}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{transition:transform .3s ease}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@media (max-width: 991.98px){.about-image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.about-image-container[_ngcontent-%COMP%]   .professional-image[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.about-image-container[_ngcontent-%COMP%]   .credential-badge[_ngcontent-%COMP%]{position:static!important;display:inline-block;margin:1rem .5rem 0;transform:none!important}.about-content[_ngcontent-%COMP%]{text-align:center}.about-content[_ngcontent-%COMP%]   .expertise-areas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767.98px){.professional-stats[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}.professional-stats[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2.5rem!important}.expertise-item[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center;flex-direction:column}.expertise-item[_ngcontent-%COMP%]   .expertise-icon[_ngcontent-%COMP%]{margin-bottom:.5rem!important;margin-right:0!important}.credential-badge[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:.5rem auto!important}}@media (max-width: 1199.98px){.about-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8rem!important}}@media (max-width: 767.98px){.about-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}"]})};var M1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-contact-info"]],decls:98,vars:0,consts:[["id","contact",1,"contact-section","py-5","bg-dark","text-white","position-relative","overflow-hidden"],[1,"container"],[1,"row","justify-content-center","mb-5"],[1,"col-lg-8","text-center"],[1,"section-badge","mb-3"],[1,"badge","bg-warning","text-dark","px-3","py-2","rounded-pill"],[1,"bi","bi-telephone-fill","me-2"],[1,"display-5","fw-bold","mb-4"],[1,"lead","text-white-50"],[1,"row","g-4","justify-content-center"],[1,"col-lg-4","col-md-6"],[1,"contact-card","h-100","bg-white","bg-opacity-10","rounded-4","p-4","text-center","backdrop-blur"],[1,"contact-icon","mb-4"],[1,"icon-wrapper","bg-success","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-whatsapp","text-white","fs-2"],[1,"fw-bold","mb-3"],[1,"text-white-50","mb-4"],["href","https://wa.me/tu-numero","target","_blank",1,"btn","btn-success","btn-lg","w-100","shadow-sm"],[1,"bi","bi-whatsapp","me-2"],[1,"icon-wrapper","bg-primary","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-facebook","text-white","fs-2"],["href","https://facebook.com/tu-pagina","target","_blank",1,"btn","btn-primary","btn-lg","w-100","shadow-sm"],[1,"bi","bi-facebook","me-2"],[1,"icon-wrapper","bg-warning","rounded-circle","p-4","mx-auto","d-inline-flex","align-items-center","justify-content-center",2,"width","80px","height","80px"],[1,"bi","bi-envelope-fill","text-white","fs-2"],["href","mailto:tu.email@example.com",1,"btn","btn-warning","btn-lg","w-100","shadow-sm","text-dark"],[1,"bi","bi-envelope-fill","me-2"],[1,"row","justify-content-center","mt-5"],[1,"col-lg-10"],[1,"additional-info","bg-white","bg-opacity-5","rounded-4","p-4","p-lg-5","backdrop-blur"],[1,"row","align-items-center"],[1,"col-lg-8","mb-4","mb-lg-0"],[1,"text-white-50","mb-0"],[1,"col-lg-4","text-center"],[1,"cta-buttons"],["href","https://wa.me/tu-numero?text=Hola,%20me%20interesa%20una%20cotizaci\xF3n%20para%20capacitaci\xF3n","target","_blank",1,"btn","btn-outline-warning","btn-lg","px-4","py-3","shadow-sm"],[1,"bi","bi-calculator","me-2"],[1,"credentials-footer"],[1,"row","g-4","justify-content-center","align-items-center"],[1,"col-auto"],[1,"credential-item","d-flex","align-items-center"],[1,"credential-icon","bg-white","bg-opacity-10","rounded-circle","p-2","me-3"],[1,"bi","bi-patch-check-fill","text-warning"],[1,"text-start"],[1,"mb-0","fw-semibold"],[1,"text-white-50"],[1,"bi","bi-building","text-warning"],[1,"bi","bi-award-fill","text-warning"],[1,"position-absolute","top-0","end-0","opacity-25",2,"z-index","0"],[1,"bi","bi-telephone-fill","text-warning",2,"font-size","15rem"],[1,"position-absolute","bottom-0","start-0","opacity-25",2,"z-index","0"],[1,"bi","bi-chat-dots-fill","text-primary",2,"font-size","12rem"]],template:function(t,r){t&1&&(be(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),tt(6,"i",6),G(7,"Contacto Profesional "),we()(),be(8,"h2",7),G(9,"\xBFListo para transformar tu organizaci\xF3n?"),we(),be(10,"p",8),G(11," Conecta conmigo para dise\xF1ar un programa de capacitaci\xF3n personalizado que impulse el crecimiento de tu equipo y organizaci\xF3n. "),we()()(),be(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),tt(17,"i",14),we()(),be(18,"h4",15),G(19,"WhatsApp"),we(),be(20,"p",16),G(21," Conecta directamente conmigo para una consulta r\xE1pida y personalizada. "),we(),be(22,"a",17),tt(23,"i",18),G(24,"+51 9XX XXX XXX "),we()()(),be(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",19),tt(29,"i",20),we()(),be(30,"h4",15),G(31,"Facebook"),we(),be(32,"p",16),G(33," S\xEDgueme en redes sociales para contenido profesional y actualizaciones. "),we(),be(34,"a",21),tt(35,"i",22),G(36,"Seguir en Facebook "),we()()(),be(37,"div",10)(38,"div",11)(39,"div",12)(40,"div",23),tt(41,"i",24),we()(),be(42,"h4",15),G(43,"Email"),we(),be(44,"p",16),G(45," Env\xEDame un correo detallado con tus necesidades de capacitaci\xF3n. "),we(),be(46,"a",25),tt(47,"i",26),G(48,"Enviar Email "),we()()()(),be(49,"div",27)(50,"div",28)(51,"div",29)(52,"div",30)(53,"div",31)(54,"h4",15),G(55,"\xBFNecesitas una cotizaci\xF3n personalizada?"),we(),be(56,"p",32),G(57," Cu\xE9ntame sobre tu organizaci\xF3n, objetivos y necesidades espec\xEDficas. Dise\xF1ar\xE9 una propuesta de capacitaci\xF3n adaptada a tu presupuesto y cronograma. "),we()(),be(58,"div",33)(59,"div",34)(60,"a",35),tt(61,"i",36),G(62,"Solicitar Cotizaci\xF3n "),we()()()()()()(),be(63,"div",27)(64,"div",3)(65,"div",37)(66,"div",38)(67,"div",39)(68,"div",40)(69,"div",41),tt(70,"i",42),we(),be(71,"div",43)(72,"h6",44),G(73,"Colegiatura"),we(),be(74,"small",45),G(75,"C.Ps.P. N\xB0 64179"),we()()()(),be(76,"div",39)(77,"div",40)(78,"div",41),tt(79,"i",46),we(),be(80,"div",43)(81,"h6",44),G(82,"RUC"),we(),be(83,"small",45),G(84,"10758489677"),we()()()(),be(85,"div",39)(86,"div",40)(87,"div",41),tt(88,"i",47),we(),be(89,"div",43)(90,"h6",44),G(91,"Especialista"),we(),be(92,"small",45),G(93,"Desarrollo Humano"),we()()()()()()()()(),be(94,"div",48),tt(95,"i",49),we(),be(96,"div",50),tt(97,"i",51),we()())},styles:['.contact-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3c72,#2a5298);position:relative}.contact-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#1e3c72e6,#2a5298cc);z-index:1}.contact-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.backdrop-blur[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.contact-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.1)}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);background-color:#ffffff26!important;box-shadow:0 20px 40px #0000004d;border-color:#fff3}.contact-card[_ngcontent-%COMP%]:hover   .contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1)}.contact-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:all .3s ease;box-shadow:0 8px 25px #0003}.additional-info[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1)}.additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:all .3s ease}.additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #ffc1074d}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{transition:transform .3s ease}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover   .credential-icon[_ngcontent-%COMP%]{transform:scale(1.1);background-color:#fff3!important}.credentials-footer[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{transition:all .3s ease;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.contact-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}.contact-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.contact-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.contact-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.5s}.additional-info[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .7s both}.credentials-footer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .9s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn.btn-success[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #19875466}.btn.btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #0d6efd66}.btn.btn-warning[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffc10766}.btn.btn-outline-warning[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffc1074d}@media (max-width: 991.98px){.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{text-align:center}.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center}.contact-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]{margin-top:2rem}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:center;text-align:center}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.contact-section[_ngcontent-%COMP%]   .credentials-footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767.98px){.contact-card[_ngcontent-%COMP%]{margin-bottom:2rem}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.contact-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.75rem 1rem}.additional-info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.credentials-footer[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .credential-icon[_ngcontent-%COMP%]{margin-right:1rem!important}}@media (max-width: 1199.98px){.contact-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10rem!important}}@media (max-width: 767.98px){.contact-section[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{display:none}}']})};var T1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-landing-page"]],decls:5,vars:0,consts:[[1,"landing-page"]],template:function(t,r){t&1&&(re(0,"div",0),Me(1,"app-banner")(2,"app-workshops-promo")(3,"app-about-me")(4,"app-contact-info"),Q())},dependencies:[D1,I1,A1,M1],styles:[".landing-page[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{position:relative}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa80}@media (prefers-reduced-motion: no-preference){.landing-page[_ngcontent-%COMP%]{scroll-behavior:smooth}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);transition:all .6s cubic-bezier(.4,0,.2,1)}}.landing-page[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{z-index:1}.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] + section[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 991.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}}@media (max-width: 767.98px){.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding-top:2rem!important;padding-bottom:2rem!important}}@media print{.landing-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}}"]})};var $6=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(rt(Ao),rt(ni))};static \u0275dir=Cn({type:n})}return n})(),V1=(()=>{class n extends $6{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Cn({type:n,features:[ri]})}return n})(),xd=new Je("");var DF={provide:xd,useExisting:mi(()=>U1),multi:!0};function IF(){let n=eo()?eo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var AF=new Je(""),U1=(()=>{class n extends $6{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!IF())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(rt(Ao),rt(ni),rt(AF,8))};static \u0275dir=Cn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&We("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[To([DF]),ri]})}return n})();function zw(n){return n==null||qw(n)===0}function qw(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ip=new Je(""),Gw=new Je(""),MF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,si=class{static min(e){return W6(e)}static max(e){return Y6(e)}static required(e){return TF(e)}static requiredTrue(e){return NF(e)}static email(e){return PF(e)}static minLength(e){return OF(e)}static maxLength(e){return kF(e)}static pattern(e){return RF(e)}static nullValidator(e){return P1()}static compose(e){return eI(e)}static composeAsync(e){return nI(e)}};function W6(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Y6(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function TF(n){return zw(n.value)?{required:!0}:null}function NF(n){return n.value===!0?null:{required:!0}}function PF(n){return zw(n.value)||MF.test(n.value)?null:{email:!0}}function OF(n){return e=>{let t=e.value?.length??qw(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function kF(n){return e=>{let t=e.value?.length??qw(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function RF(n){if(!n)return P1;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(zw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function P1(n){return null}function K6(n){return n!=null}function X6(n){return nl(n)?Mn(n):n}function J6(n){let e={};return n.forEach(t=>{e=t!=null?Ce(Ce({},e),t):e}),Object.keys(e).length===0?null:e}function Z6(n,e){return e.map(t=>t(n))}function LF(n){return!n.validate}function Q6(n){return n.map(e=>LF(e)?e:t=>e.validate(t))}function eI(n){if(!n)return null;let e=n.filter(K6);return e.length==0?null:function(t){return J6(Z6(t,e))}}function tI(n){return n!=null?eI(Q6(n)):null}function nI(n){if(!n)return null;let e=n.filter(K6);return e.length==0?null:function(t){let r=Z6(t,e).map(X6);return ub(r).pipe(Ot(J6))}}function rI(n){return n!=null?nI(Q6(n)):null}function F6(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iI(n){return n._rawValidators}function oI(n){return n._rawAsyncValidators}function Fw(n){return n?Array.isArray(n)?n:[n]:[]}function O1(n,e){return Array.isArray(n)?n.includes(e):n===e}function j6(n,e){let t=Fw(e);return Fw(n).forEach(i=>{O1(t,i)||t.push(i)}),t}function B6(n,e){return Fw(e).filter(t=>!O1(n,t))}var k1=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},bc=class extends k1{name;get formDirective(){return null}get path(){return null}},_c=class extends k1{_parent=null;name=null;valueAccessor=null},R1=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},FF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Tce=Xe(Ce({},FF),{"[class.ng-submitted]":"isSubmitted"}),sI=(()=>{class n extends R1{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(rt(_c,2))};static \u0275dir=Cn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ar("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ri]})}return n})(),aI=(()=>{class n extends R1{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(rt(bc,10))};static \u0275dir=Cn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ar("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ri]})}return n})();var Qf="VALID",N1="INVALID",wd="PENDING",ep="DISABLED",cl=class{},L1=class extends cl{value;source;constructor(e,t){super(),this.value=e,this.source=t}},tp=class extends cl{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},np=class extends cl{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Cd=class extends cl{status;source;constructor(e,t){super(),this.status=e,this.source=t}},jw=class extends cl{source;constructor(e){super(),this.source=e}},Bw=class extends cl{source;constructor(e){super(),this.source=e}};function $w(n){return(H1(n)?n.validators:n)||null}function jF(n){return Array.isArray(n)?tI(n):n||null}function Ww(n,e){return(H1(e)?e.asyncValidators:n)||null}function BF(n){return Array.isArray(n)?rI(n):n||null}function H1(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function lI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $e(1e3,"");if(!r[t])throw new $e(1001,"")}function cI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $e(1002,"")})}var Ed=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qi(this.statusReactive)}set status(e){Qi(()=>this.statusReactive.set(e))}_status=ds(()=>this.statusReactive());statusReactive=Jt(void 0);get valid(){return this.status===Qf}get invalid(){return this.status===N1}get pending(){return this.status==wd}get disabled(){return this.status===ep}get enabled(){return this.status!==ep}errors;get pristine(){return Qi(this.pristineReactive)}set pristine(e){Qi(()=>this.pristineReactive.set(e))}_pristine=ds(()=>this.pristineReactive());pristineReactive=Jt(!0);get dirty(){return!this.pristine}get touched(){return Qi(this.touchedReactive)}set touched(e){Qi(()=>this.touchedReactive.set(e))}_touched=ds(()=>this.touchedReactive());touchedReactive=Jt(!1);get untouched(){return!this.touched}_events=new Gn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(j6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(j6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(B6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(B6(e,this._rawAsyncValidators))}hasValidator(e){return O1(this._rawValidators,e)}hasAsyncValidator(e){return O1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Xe(Ce({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new np(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new np(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Xe(Ce({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new tp(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new tp(!0,r))}markAsPending(e={}){this.status=wd;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Xe(Ce({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ep,this.errors=null,this._forEachChild(i=>{i.disable(Xe(Ce({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new L1(this.value,r)),this._events.next(new Cd(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Xe(Ce({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qf,this._forEachChild(r=>{r.enable(Xe(Ce({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Xe(Ce({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qf||this.status===wd)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new L1(this.value,t)),this._events.next(new Cd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Xe(Ce({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ep:Qf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=wd,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=X6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cd(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new wn,this.statusChanges=new wn}_calculateStatus(){return this._allControlsDisabled()?ep:this.errors?N1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wd)?wd:this._anyControlsHaveStatus(N1)?N1:Qf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new tp(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new np(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){H1(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=BF(this._rawAsyncValidators)}},F1=class extends Ed{constructor(e,t,r){super($w(t),Ww(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){cI(this,!0,e),Object.keys(e).forEach(r=>{lI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vw=class extends F1{};var z1=new Je("",{providedIn:"root",factory:()=>q1}),q1="always";function uI(n,e){return[...e.path,n]}function Uw(n,e,t=q1){Yw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),UF(n,e),zF(n,e),HF(n,e),VF(n,e)}function V6(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),B1(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function j1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function VF(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Yw(n,e){let t=iI(n);e.validator!==null?n.setValidators(F6(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=oI(n);e.asyncValidator!==null?n.setAsyncValidators(F6(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();j1(e._rawValidators,i),j1(e._rawAsyncValidators,i)}function B1(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=iI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=oI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return j1(e._rawValidators,r),j1(e._rawAsyncValidators,r),t}function UF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&dI(n,e)})}function HF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&dI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function dI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zF(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function qF(n,e){n==null,Yw(n,e)}function GF(n,e){return B1(n,e)}function hI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function $F(n){return Object.getPrototypeOf(n.constructor)===V1}function WF(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fI(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===U1?t=o:$F(o)?r=o:i=o}),i||r||t||null}function YF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function U6(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function H6(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var rp=class extends Ed{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super($w(t),Ww(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),H1(t)&&(t.nonNullable||t.initialValueIsDefault)&&(H6(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){U6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){U6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){H6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var KF=n=>n instanceof rp;var XF={provide:_c,useExisting:mi(()=>Kw)},z6=Promise.resolve(),Kw=(()=>{class n extends _c{_changeDetectorRef;callSetDisabledState;control=new rp;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new wn;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),hI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Uw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){z6.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&dc(r);z6.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?uI(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(rt(bc,9),rt(ip,10),rt(Gw,10),rt(xd,10),rt(sa,8),rt(z1,8))};static \u0275dir=Cn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[To([XF]),ri,Zi]})}return n})();var pI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Cn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),JF={provide:xd,useExisting:mi(()=>Xw),multi:!0},Xw=(()=>{class n extends V1{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Cn({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&We("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[To([JF]),ri]})}return n})();var gI=new Je("");var ZF={provide:bc,useExisting:mi(()=>Jw)},Jw=(()=>{class n extends bc{callSetDisabledState;get submitted(){return Qi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ds(()=>this._submittedReactive());_submittedReactive=Jt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new wn;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(B1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Uw(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){V6(t.control||null,t,!1),YF(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),WF(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new jw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Bw(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(V6(r||null,t),KF(i)&&(Uw(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);qF(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&GF(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yw(this.form,this),this._oldForm&&B1(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(rt(ip,10),rt(Gw,10),rt(z1,8))};static \u0275dir=Cn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&We("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[To([ZF]),ri,Zi]})}return n})();var QF={provide:_c,useExisting:mi(()=>Zw)},Zw=(()=>{class n extends _c{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new wn;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),hI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return uI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(rt(bc,13),rt(ip,10),rt(Gw,10),rt(xd,10),rt(gI,8))};static \u0275dir=Cn({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[To([QF]),ri,Zi]})}return n})();var ej={provide:xd,useExisting:mi(()=>G1),multi:!0};function mI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function tj(n){return n.split(":")[0]}var G1=(()=>{class n extends V1{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=xe(na).injector;appRefDestroyRef=this.appRefInjector.get(vi);destroyRef=xe(vi);cdr=xe(sa);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,k0({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=mI(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=tj(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Cn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&We("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[To([ej]),ri]})}return n})(),vI=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(mI(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(rt(ni),rt(Ao),rt(G1,9))};static \u0275dir=Cn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),nj={provide:xd,useExisting:mi(()=>yI),multi:!0};function q6(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function rj(n){return n.split(":")[0]}var yI=(()=>{class n extends V1{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=rj(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Cn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&We("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[To([nj]),ri]})}return n})(),bI=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(q6(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(q6(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(rt(ni),rt(Ao),rt(yI,9))};static \u0275dir=Cn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function _I(n){return typeof n=="number"?n:parseFloat(n)}var wI=(()=>{class n{_validator=P1;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):P1,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Cn({type:n,features:[Zi]})}return n})(),ij={provide:ip,useExisting:mi(()=>Qw),multi:!0},Qw=(()=>{class n extends wI{max;inputName="max";normalizeInput=t=>_I(t);createValidator=t=>Y6(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Cn({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&uc("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[To([ij]),ri]})}return n})(),oj={provide:ip,useExisting:mi(()=>eC),multi:!0},eC=(()=>{class n extends wI{min;inputName="min";normalizeInput=t=>_I(t);createValidator=t=>W6(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Cn({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&uc("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[To([oj]),ri]})}return n})();var CI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mo({type:n});static \u0275inj=$i({})}return n})(),Hw=class extends Ed{constructor(e,t,r){super($w(t),Ww(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){cI(this,!1,e),e.forEach((r,i)=>{lI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function G6(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var EI=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return G6(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new F1(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Vw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(G6(r)?o=r:(o.validators=r,o.asyncValidators=i),new rp(t,Xe(Ce({},o),{nonNullable:!0}))):new rp(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Hw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof rp)return t;if(t instanceof Ed)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:z1,useValue:t.callSetDisabledState??q1}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mo({type:n});static \u0275inj=$i({imports:[CI]})}return n})(),xI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:z1,useValue:t.callSetDisabledState??q1}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mo({type:n});static \u0275inj=$i({imports:[CI]})}return n})();var Wn={production:!0,developmentMode:!1,supabase:{url:"https://xoctvmxfsnrzaigxkjbc.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvY3R2bXhmc25yemFpZ3hramJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0MTM3MjcsImV4cCI6MjA2ODk4OTcyN30.IGCIv3O-JGty28a6fQ4Be1ZdtEIGJ04D0OEsgDfWYzk"},auth:{authorizedUsers:[{email:"jonavcar@gmail.com",role:"admin",permissions:["certificate","management"],displayName:"Abel Navarro (Admin)"},{email:"abelnavarro.psi@gmail.com",role:"admin",permissions:["certificate","management"],displayName:"Abel Navarro (Principal)"},{email:"asistente@abelnavarro.com",role:"assistant",permissions:["certificate"],displayName:"Asistente"}],session:{timeout:288e5,refreshTokenBefore:18e5,rememberSession:!0},supabase:{enabled:!0,provider:"github",redirectTo:"https://psic-abelnavarro.github.io/#/certificate"},security:{enforceHttps:!0,allowedDomains:["psic-abelnavarro.github.io","abelnavarro.com"],maxLoginAttempts:3,lockoutDuration:18e5}}};var zr=Uint8Array,ki=Uint16Array,lC=Int32Array,W1=new zr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Y1=new zr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iC=new zr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AI=function(n,e){for(var t=new ki(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new lC(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},MI=AI(W1,2),TI=MI.b,oC=MI.r;TI[28]=258,oC[258]=28;var NI=AI(Y1,0),aj=NI.b,SI=NI.r,sC=new ki(32768);for(tn=0;tn<32768;++tn)ua=(tn&43690)>>1|(tn&21845)<<1,ua=(ua&52428)>>2|(ua&13107)<<2,ua=(ua&61680)>>4|(ua&3855)<<4,sC[tn]=((ua&65280)>>8|(ua&255)<<8)>>1;var ua,tn,ys=function(n,e,t){for(var r=n.length,i=0,o=new ki(e);i<r;++i)n[i]&&++o[n[i]-1];var s=new ki(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new ki(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],d=e-n[i],f=s[n[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)a[sC[f]>>l]=c}else for(a=new ki(r),i=0;i<r;++i)n[i]&&(a[i]=sC[s[n[i]-1]++]>>15-n[i]);return a},ul=new zr(288);for(tn=0;tn<144;++tn)ul[tn]=8;var tn;for(tn=144;tn<256;++tn)ul[tn]=9;var tn;for(tn=256;tn<280;++tn)ul[tn]=7;var tn;for(tn=280;tn<288;++tn)ul[tn]=8;var tn,ap=new zr(32);for(tn=0;tn<32;++tn)ap[tn]=5;var tn,lj=ys(ul,9,0),cj=ys(ul,9,1),uj=ys(ap,5,0),dj=ys(ap,5,1),tC=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ko=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},nC=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},cC=function(n){return(n+7)/8|0},PI=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new zr(n.subarray(e,t))};var hj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ro=function(n,e,t){var r=new Error(e||hj[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Ro),!t)throw r;return r},fj=function(n,e,t,r){var i=n.length,o=r?r.length:0;if(!i||e.f&&!e.l)return t||new zr(0);var s=!t,a=s||e.i!=2,l=e.i;s&&(t=new zr(i*3));var c=function(Pe){var Ue=t.length;if(Pe>Ue){var je=new zr(Math.max(Ue*2,Pe));je.set(t),t=je}},d=e.f||0,f=e.p||0,m=e.b||0,p=e.l,y=e.d,_=e.m,C=e.n,w=i*8;do{if(!p){d=ko(n,f,1);var S=ko(n,f+1,3);if(f+=3,S)if(S==1)p=cj,y=dj,_=9,C=5;else if(S==2){var Z=ko(n,f,31)+257,H=ko(n,f+10,15)+4,j=Z+ko(n,f+5,31)+1;f+=14;for(var ne=new zr(j),se=new zr(19),T=0;T<H;++T)se[iC[T]]=ko(n,f+T*3,7);f+=H*3;for(var N=tC(se),q=(1<<N)-1,U=ys(se,N,1),T=0;T<j;){var de=U[ko(n,f,q)];f+=de&15;var O=de>>4;if(O<16)ne[T++]=O;else{var ce=0,ve=0;for(O==16?(ve=3+ko(n,f,3),f+=2,ce=ne[T-1]):O==17?(ve=3+ko(n,f,7),f+=3):O==18&&(ve=11+ko(n,f,127),f+=7);ve--;)ne[T++]=ce}}var J=ne.subarray(0,Z),he=ne.subarray(Z);_=tC(J),C=tC(he),p=ys(J,_,1),y=ys(he,C,1)}else Ro(1);else{var O=cC(f)+4,k=n[O-4]|n[O-3]<<8,z=O+k;if(z>i){l&&Ro(0);break}a&&c(m+k),t.set(n.subarray(O,z),m),e.b=m+=k,e.p=f=z*8,e.f=d;continue}if(f>w){l&&Ro(0);break}}a&&c(m+131072);for(var ge=(1<<_)-1,ke=(1<<C)-1,I=f;;I=f){var ce=p[nC(n,f)&ge],L=ce>>4;if(f+=ce&15,f>w){l&&Ro(0);break}if(ce||Ro(2),L<256)t[m++]=L;else if(L==256){I=f,p=null;break}else{var B=L-254;if(L>264){var T=L-257,W=W1[T];B=ko(n,f,(1<<W)-1)+TI[T],f+=W}var te=y[nC(n,f)&ke],ue=te>>4;te||Ro(3),f+=te&15;var he=aj[ue];if(ue>3){var W=Y1[ue];he+=nC(n,f)&(1<<W)-1,f+=W}if(f>w){l&&Ro(0);break}a&&c(m+131072);var fe=m+B;if(m<he){var pe=o-he,Oe=Math.min(he,fe);for(pe+m<0&&Ro(3);m<Oe;++m)t[m]=r[pe+m]}for(;m<fe;++m)t[m]=t[m-he]}}e.l=p,e.p=I,e.b=m,e.f=d,p&&(d=1,e.m=_,e.d=y,e.n=C)}while(!d);return m!=t.length&&s?PI(t,0,m):t.subarray(0,m)},da=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},op=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},rC=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:kI,l:0};if(i==1){var s=new zr(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(z,Z){return z.f-Z.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,d=1,f=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=t[t[c].f<t[f].f?c++:f++],l=t[c!=d&&t[c].f<t[f].f?c++:f++],t[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=o[0].s,r=1;r<i;++r)o[r].s>m&&(m=o[r].s);var p=new ki(m+1),y=aC(t[d-1],p,0);if(y>e){var r=0,_=0,C=y-e,w=1<<C;for(o.sort(function(Z,H){return p[H.s]-p[Z.s]||Z.f-H.f});r<i;++r){var S=o[r].s;if(p[S]>e)_+=w-(1<<y-p[S]),p[S]=e;else break}for(_>>=C;_>0;){var O=o[r].s;p[O]<e?_-=1<<e-p[O]++-1:++r}for(;r>=0&&_;--r){var k=o[r].s;p[k]==e&&(--p[k],++_)}y=e}return{t:new zr(p),l:y}},aC=function(n,e,t){return n.s==-1?Math.max(aC(n.l,e,t+1),aC(n.r,e,t+1)):e[n.s]=t},DI=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ki(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},sp=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},OI=function(n,e,t){var r=t.length,i=cC(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},II=function(n,e,t,r,i,o,s,a,l,c,d){da(e,d++,t),++i[256];for(var f=rC(i,15),m=f.t,p=f.l,y=rC(o,15),_=y.t,C=y.l,w=DI(m),S=w.c,O=w.n,k=DI(_),z=k.c,Z=k.n,H=new ki(19),j=0;j<S.length;++j)++H[S[j]&31];for(var j=0;j<z.length;++j)++H[z[j]&31];for(var ne=rC(H,7),se=ne.t,T=ne.l,N=19;N>4&&!se[iC[N-1]];--N);var q=c+5<<3,U=sp(i,ul)+sp(o,ap)+s,de=sp(i,m)+sp(o,_)+s+14+3*N+sp(H,se)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&q<=U&&q<=de)return OI(e,d,n.subarray(l,l+c));var ce,ve,J,he;if(da(e,d,1+(de<U)),d+=2,de<U){ce=ys(m,p,0),ve=m,J=ys(_,C,0),he=_;var ge=ys(se,T,0);da(e,d,O-257),da(e,d+5,Z-1),da(e,d+10,N-4),d+=14;for(var j=0;j<N;++j)da(e,d+3*j,se[iC[j]]);d+=3*N;for(var ke=[S,z],I=0;I<2;++I)for(var L=ke[I],j=0;j<L.length;++j){var B=L[j]&31;da(e,d,ge[B]),d+=se[B],B>15&&(da(e,d,L[j]>>5&127),d+=L[j]>>12)}}else ce=lj,ve=ul,J=uj,he=ap;for(var j=0;j<a;++j){var W=r[j];if(W>255){var B=W>>18&31;op(e,d,ce[B+257]),d+=ve[B+257],B>7&&(da(e,d,W>>23&31),d+=W1[B]);var te=W&31;op(e,d,J[te]),d+=he[te],te>3&&(op(e,d,W>>5&8191),d+=Y1[te])}else op(e,d,ce[W]),d+=ve[W]}return op(e,d,ce[256]),d+ve[256]},pj=new lC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kI=new zr(0),gj=function(n,e,t,r,i,o){var s=o.z||n.length,a=new zr(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,d=(o.r||0)&7;if(e){d&&(l[0]=o.r>>3);for(var f=pj[e-1],m=f>>13,p=f&8191,y=(1<<t)-1,_=o.p||new ki(32768),C=o.h||new ki(y+1),w=Math.ceil(t/3),S=2*w,O=function(dt){return(n[dt]^n[dt+1]<<w^n[dt+2]<<S)&y},k=new lC(25e3),z=new ki(288),Z=new ki(32),H=0,j=0,ne=o.i||0,se=0,T=o.w||0,N=0;ne+2<s;++ne){var q=O(ne),U=ne&32767,de=C[q];if(_[U]=de,C[q]=U,T<=ne){var ce=s-ne;if((H>7e3||se>24576)&&(ce>423||!c)){d=II(n,l,0,k,z,Z,j,se,N,ne-N,d),se=H=j=0,N=ne;for(var ve=0;ve<286;++ve)z[ve]=0;for(var ve=0;ve<30;++ve)Z[ve]=0}var J=2,he=0,ge=p,ke=U-de&32767;if(ce>2&&q==O(ne-ke))for(var I=Math.min(m,ce)-1,L=Math.min(32767,ne),B=Math.min(258,ce);ke<=L&&--ge&&U!=de;){if(n[ne+J]==n[ne+J-ke]){for(var W=0;W<B&&n[ne+W]==n[ne+W-ke];++W);if(W>J){if(J=W,he=ke,W>I)break;for(var te=Math.min(ke,W-2),ue=0,ve=0;ve<te;++ve){var fe=ne-ke+ve&32767,pe=_[fe],Oe=fe-pe&32767;Oe>ue&&(ue=Oe,de=fe)}}}U=de,de=_[U],ke+=U-de&32767}if(he){k[se++]=268435456|oC[J]<<18|SI[he];var Pe=oC[J]&31,Ue=SI[he]&31;j+=W1[Pe]+Y1[Ue],++z[257+Pe],++Z[Ue],T=ne+J,++H}else k[se++]=n[ne],++z[n[ne]]}}for(ne=Math.max(ne,T);ne<s;++ne)k[se++]=n[ne],++z[n[ne]];d=II(n,l,c,k,z,Z,j,se,N,ne-N,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=C,o.p=_,o.i=ne,o.w=T)}else{for(var ne=o.w||0;ne<s+c;ne+=65535){var je=ne+65535;je>=s&&(l[d/8|0]=c,je=s),d=OI(l,d+1,n.subarray(ne,je))}o.i=s}return PI(a,0,r+cC(d)+i)};var RI=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},mj=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new zr(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return gj(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var LI=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var vj=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=RI();i.p(e.dictionary),LI(n,2,i.d())}},yj=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ro(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Ro(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function K1(n,e){e||(e={});var t=RI();t.p(n);var r=mj(n,e,e.dictionary?6:2,4);return vj(r,e),LI(r,r.length-4,t.d()),r}function FI(n,e){return fj(n.subarray(yj(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var bj=typeof TextDecoder<"u"&&new TextDecoder,_j=0;try{bj.decode(kI,{stream:!0}),_j=1}catch{}var ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function uC(){ft.console&&typeof ft.console.log=="function"&&ft.console.log.apply(ft.console,arguments)}var vn={log:uC,warn:function(n){ft.console&&(typeof ft.console.warn=="function"?ft.console.warn.apply(ft.console,arguments):uC.call(null,arguments))},error:function(n){ft.console&&(typeof ft.console.error=="function"?ft.console.error.apply(ft.console,arguments):uC(n))}};function dC(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){wc(r.response,e,t)},r.onerror=function(){vn.error("could not download file")},r.send()}function jI(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function X1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var lp,mC,wc=ft.saveAs||((typeof window>"u"?"undefined":hn(window))!=="object"||window!==ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=ft.URL||ft.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?jI(i.href)?dC(n,e,t):X1(i,i.target="_blank"):X1(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){X1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(jI(n))dC(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){X1(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:hn(o)!=="object"&&(vn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return dC(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(ft.HTMLElement)||ft.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":hn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(n)}else{var l=ft.URL||ft.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function tA(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,s=i.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function hC(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=qr(t,r,i,o,e[0],7,-680876936),o=qr(o,t,r,i,e[1],12,-389564586),i=qr(i,o,t,r,e[2],17,606105819),r=qr(r,i,o,t,e[3],22,-1044525330),t=qr(t,r,i,o,e[4],7,-176418897),o=qr(o,t,r,i,e[5],12,1200080426),i=qr(i,o,t,r,e[6],17,-1473231341),r=qr(r,i,o,t,e[7],22,-45705983),t=qr(t,r,i,o,e[8],7,1770035416),o=qr(o,t,r,i,e[9],12,-1958414417),i=qr(i,o,t,r,e[10],17,-42063),r=qr(r,i,o,t,e[11],22,-1990404162),t=qr(t,r,i,o,e[12],7,1804603682),o=qr(o,t,r,i,e[13],12,-40341101),i=qr(i,o,t,r,e[14],17,-1502002290),t=Gr(t,r=qr(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Gr(o,t,r,i,e[6],9,-1069501632),i=Gr(i,o,t,r,e[11],14,643717713),r=Gr(r,i,o,t,e[0],20,-373897302),t=Gr(t,r,i,o,e[5],5,-701558691),o=Gr(o,t,r,i,e[10],9,38016083),i=Gr(i,o,t,r,e[15],14,-660478335),r=Gr(r,i,o,t,e[4],20,-405537848),t=Gr(t,r,i,o,e[9],5,568446438),o=Gr(o,t,r,i,e[14],9,-1019803690),i=Gr(i,o,t,r,e[3],14,-187363961),r=Gr(r,i,o,t,e[8],20,1163531501),t=Gr(t,r,i,o,e[13],5,-1444681467),o=Gr(o,t,r,i,e[2],9,-51403784),i=Gr(i,o,t,r,e[7],14,1735328473),t=$r(t,r=Gr(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=$r(o,t,r,i,e[8],11,-2022574463),i=$r(i,o,t,r,e[11],16,1839030562),r=$r(r,i,o,t,e[14],23,-35309556),t=$r(t,r,i,o,e[1],4,-1530992060),o=$r(o,t,r,i,e[4],11,1272893353),i=$r(i,o,t,r,e[7],16,-155497632),r=$r(r,i,o,t,e[10],23,-1094730640),t=$r(t,r,i,o,e[13],4,681279174),o=$r(o,t,r,i,e[0],11,-358537222),i=$r(i,o,t,r,e[3],16,-722521979),r=$r(r,i,o,t,e[6],23,76029189),t=$r(t,r,i,o,e[9],4,-640364487),o=$r(o,t,r,i,e[12],11,-421815835),i=$r(i,o,t,r,e[15],16,530742520),t=Wr(t,r=$r(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Wr(o,t,r,i,e[7],10,1126891415),i=Wr(i,o,t,r,e[14],15,-1416354905),r=Wr(r,i,o,t,e[5],21,-57434055),t=Wr(t,r,i,o,e[12],6,1700485571),o=Wr(o,t,r,i,e[3],10,-1894986606),i=Wr(i,o,t,r,e[10],15,-1051523),r=Wr(r,i,o,t,e[1],21,-2054922799),t=Wr(t,r,i,o,e[8],6,1873313359),o=Wr(o,t,r,i,e[15],10,-30611744),i=Wr(i,o,t,r,e[6],15,-1560198380),r=Wr(r,i,o,t,e[13],21,1309151649),t=Wr(t,r,i,o,e[4],6,-145523070),o=Wr(o,t,r,i,e[11],10,-1120210379),i=Wr(i,o,t,r,e[2],15,718787259),r=Wr(r,i,o,t,e[9],21,-343485551),n[0]=hl(t,n[0]),n[1]=hl(r,n[1]),n[2]=hl(i,n[2]),n[3]=hl(o,n[3])}function sv(n,e,t,r,i,o){return e=hl(hl(e,n),hl(r,o)),hl(e<<i|e>>>32-i,t)}function qr(n,e,t,r,i,o,s){return sv(e&t|~e&r,n,e,i,o,s)}function Gr(n,e,t,r,i,o,s){return sv(e&r|t&~r,n,e,i,o,s)}function $r(n,e,t,r,i,o,s){return sv(e^t^r,n,e,i,o,s)}function Wr(n,e,t,r,i,o,s){return sv(t^(e|~r),n,e,i,o,s)}function nA(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)hC(r,wj(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(hC(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,hC(r,i),r}function wj(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}lp=ft.atob.bind(ft),mC=ft.btoa.bind(ft);var BI="0123456789abcdef".split("");function Cj(n){for(var e="",t=0;t<4;t++)e+=BI[n>>8*t+4&15]+BI[n>>8*t&15];return e}function Ej(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function vC(n){return nA(n).map(Ej).join("")}var xj=function(n){for(var e=0;e<n.length;e++)n[e]=Cj(n[e]);return n.join("")}(nA("hello"))!="5d41402abc4b2a76b9719d911017c592";function hl(n,e){if(xj){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function yC(n,e){var t,r,i,o;if(n!==t){for(var s=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}t=n,r=a}else a=r;var f=e.length,m=0,p=0,y="";for(l=0;l<f;l++)p=(p+(d=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=d,s=a[(a[m]+a[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}var VI={print:4,modify:8,copy:16,"annot-forms":32};function Id(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(VI.perm!==void 0)throw new Error("Invalid permission: "+a);i+=VI[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=vC(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=yC(this.encryptionKey,this.padding)}function Ad(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function UI(n){if(hn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){ft.console&&vn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function iv(n){if(!(this instanceof iv))return new iv(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function rA(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Cc(n,e,t,r,i){if(!(this instanceof Cc))return new Cc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,rA.call(this,r,i)}function Md(n,e,t,r,i){if(!(this instanceof Md))return new Md(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,rA.call(this,r,i)}function lt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;hn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=UI;var y="1.3",_=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(g){y=g};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return C};var w=p.__private__.getPageFormat=function(g){return C[g]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},O=S.COMPAT;function k(){this.saveGraphicsState(),V(new ct(ze,0,0,-ze,0,Ma()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),c="n",O=S.ADVANCED}function z(){this.restoreGraphicsState(),c="S",O=S.COMPAT}var Z=p.__private__.combineFontStyleAndFontWeight=function(g,x){if(g=="bold"&&x=="normal"||g=="bold"&&x==400||g=="normal"&&x=="italic"||g=="bold"&&x=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return x&&(g=x==400||x==="normal"?g==="italic"?"italic":"normal":x!=700&&x!=="bold"||g!=="normal"?(x==700?"bold":x)+""+g:"bold"),g};p.advancedAPI=function(g){var x=O===S.COMPAT;return x&&k.call(this),typeof g!="function"||(g(this),x&&z.call(this)),this},p.compatAPI=function(g){var x=O===S.ADVANCED;return x&&z.call(this),typeof g!="function"||(g(this),x&&k.call(this)),this},p.isAdvancedAPI=function(){return O===S.ADVANCED};var H,j=function(g){if(O!==S.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ne=p.roundToPrecision=p.__private__.roundToPrecision=function(g,x){var F=e||x;if(isNaN(g)||isNaN(F))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(F).replace(/0+$/,"")};H=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(g,16)};var se=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return ne(g,2)},T=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return ne(g,3)},N=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return O===S.COMPAT?g*ze:O===S.ADVANCED?g:void 0},q=function(g){return O===S.COMPAT?Ma()-g:O===S.ADVANCED?g:void 0},U=function(g){return N(q(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var de,ce="00000000000000000000000000000000",ve=p.__private__.getFileId=function(){return ce},J=p.__private__.setFileId=function(g){return ce=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Br=new Id(d.userPermissions,d.userPassword,d.ownerPassword,ce)),ce};p.setFileId=function(g){return J(g),this},p.getFileId=function(){return ve()};var he=p.__private__.convertDateToPDFDate=function(g){var x=g.getTimezoneOffset(),F=x<0?"+":"-",$=Math.floor(Math.abs(x/60)),oe=Math.abs(x%60),ye=[F,B($),"'",B(oe),"'"].join("");return["D:",g.getFullYear(),B(g.getMonth()+1),B(g.getDate()),B(g.getHours()),B(g.getMinutes()),B(g.getSeconds()),ye].join("")},ge=p.__private__.convertPDFDateToDate=function(g){var x=parseInt(g.substr(2,4),10),F=parseInt(g.substr(6,2),10)-1,$=parseInt(g.substr(8,2),10),oe=parseInt(g.substr(10,2),10),ye=parseInt(g.substr(12,2),10),Ae=parseInt(g.substr(14,2),10);return new Date(x,F,$,oe,ye,Ae,0)},ke=p.__private__.setCreationDate=function(g){var x;if(g===void 0&&(g=new Date),g instanceof Date)x=he(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");x=g}return de=x},I=p.__private__.getCreationDate=function(g){var x=de;return g==="jsDate"&&(x=ge(de)),x};p.setCreationDate=function(g){return ke(g),this},p.getCreationDate=function(g){return I(g)};var L,B=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},W=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},te=0,ue=[],fe=[],pe=0,Oe=[],Pe=[],Ue=!1,je=fe,dt=function(){te=0,pe=0,fe=[],ue=[],Oe=[],ks=er(),fo=er()};p.__private__.setCustomOutputDestination=function(g){Ue=!0,je=g};var _e=function(g){Ue||(je=g)};p.__private__.resetCustomOutputDestination=function(){Ue=!1,je=fe};var V=p.__private__.out=function(g){return g=g.toString(),pe+=g.length+1,je.push(g),je},It=p.__private__.write=function(g){return V(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},et=p.__private__.getArrayBuffer=function(g){for(var x=g.length,F=new ArrayBuffer(x),$=new Uint8Array(F);x--;)$[x]=g.charCodeAt(x);return F},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ne};var Le=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Le=O===S.ADVANCED?g/ze:g,this};var He,Ve=p.__private__.getFontSize=p.getFontSize=function(){return O===S.COMPAT?Le:Le*ze},it=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return it=g,this},p.__private__.getR2L=p.getR2L=function(){return it};var Ct,Pt=p.__private__.setZoomMode=function(g){var x=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))He=g;else if(isNaN(g)){if(x.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');He=g}else He=parseInt(g,10)};p.__private__.getZoomMode=function(){return He};var jt,Kt=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ct=g};p.__private__.getPageMode=function(){return Ct};var un=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');jt=g};p.__private__.getLayoutMode=function(){return jt},p.__private__.setDisplayMode=p.setDisplayMode=function(g,x,F){return Pt(g),un(x),Kt(F),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(gt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[g]},p.__private__.getDocumentProperties=function(){return gt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var x in gt)gt.hasOwnProperty(x)&&g[x]&&(gt[x]=g[x]);return this},p.__private__.setDocumentProperty=function(g,x){if(Object.keys(gt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[g]=x};var Vt,ze,jr,Zt,co,gn={},Dn={},qo=[],rn={},xl={},On={},uo={},Os=null,kn=0,Et=[],on=new UI(p),Sl=n.hotfixes||[],Nr={},Go={},$o=[],ct=function g(x,F,$,oe,ye,Ae){if(!(this instanceof g))return new g(x,F,$,oe,ye,Ae);isNaN(x)&&(x=1),isNaN(F)&&(F=0),isNaN($)&&($=0),isNaN(oe)&&(oe=1),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=0),this._matrix=[x,F,$,oe,ye,Ae]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(g)},ct.prototype.multiply=function(g){var x=g.sx*this.sx+g.shy*this.shx,F=g.sx*this.shy+g.shy*this.sy,$=g.shx*this.sx+g.sy*this.shx,oe=g.shx*this.shy+g.sy*this.sy,ye=g.tx*this.sx+g.ty*this.shx+this.tx,Ae=g.tx*this.shy+g.ty*this.sy+this.ty;return new ct(x,F,$,oe,ye,Ae)},ct.prototype.decompose=function(){var g=this.sx,x=this.shy,F=this.shx,$=this.sy,oe=this.tx,ye=this.ty,Ae=Math.sqrt(g*g+x*x),qe=(g/=Ae)*F+(x/=Ae)*$;F-=g*qe,$-=x*qe;var ot=Math.sqrt(F*F+$*$);return qe/=ot,g*($/=ot)<x*(F/=ot)&&(g=-g,x=-x,qe=-qe,Ae=-Ae),{scale:new ct(Ae,0,0,ot,0,0),translate:new ct(1,0,0,1,oe,ye),rotate:new ct(g,x,-x,g,0,0),skew:new ct(1,0,qe,1,0,0)}},ct.prototype.toString=function(g){return this.join(" ")},ct.prototype.inversed=function(){var g=this.sx,x=this.shy,F=this.shx,$=this.sy,oe=this.tx,ye=this.ty,Ae=1/(g*$-x*F),qe=$*Ae,ot=-x*Ae,At=-F*Ae,xt=g*Ae;return new ct(qe,ot,At,xt,-qe*oe-At*ye,-ot*oe-xt*ye)},ct.prototype.applyToPoint=function(g){var x=g.x*this.sx+g.y*this.shx+this.tx,F=g.x*this.shy+g.y*this.sy+this.ty;return new iu(x,F)},ct.prototype.applyToRectangle=function(g){var x=this.applyToPoint(g),F=this.applyToPoint(new iu(g.x+g.w,g.y+g.h));return new vh(x.x,x.y,F.x-x.x,F.y-x.y)},ct.prototype.clone=function(){var g=this.sx,x=this.shy,F=this.shx,$=this.sy,oe=this.tx,ye=this.ty;return new ct(g,x,F,$,oe,ye)},p.Matrix=ct;var ho=p.matrixMult=function(g,x){return x.multiply(g)},Wo=new ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Wo;var ai=function(g,x){if(!xl[g]){var F=(x instanceof Cc?"Sh":"P")+(Object.keys(rn).length+1).toString(10);x.id=F,xl[g]=F,rn[F]=x,on.publish("addPattern",x)}};p.ShadingPattern=Cc,p.TilingPattern=Md,p.addShadingPattern=function(g,x){return j("addShadingPattern()"),ai(g,x),this},p.beginTilingPattern=function(g){j("beginTilingPattern()"),bg(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,x){j("endTilingPattern()"),x.stream=Pe[L].join(`
`),ai(g,x),on.publish("endTilingPattern",x),$o.pop().restore()};var ur=p.__private__.newObject=function(){var g=er();return wi(g,!0),g},er=p.__private__.newObjectDeferred=function(){return te++,ue[te]=function(){return pe},te},wi=function(g,x){return x=typeof x=="boolean"&&x,ue[g]=pe,x&&V(g+" 0 obj"),g},Gc=p.__private__.newAdditionalObject=function(){var g={objId:er(),content:""};return Oe.push(g),g},ks=er(),fo=er(),po=p.__private__.decodeColorString=function(g){var x=g.split(" ");if(x.length!==2||x[1]!=="g"&&x[1]!=="G")x.length===5&&(x[4]==="k"||x[4]==="K")&&(x=[(1-x[0])*(1-x[3]),(1-x[1])*(1-x[3]),(1-x[2])*(1-x[3]),"r"]);else{var F=parseFloat(x[0]);x=[F,F,F,"r"]}for(var $="#",oe=0;oe<3;oe++)$+=("0"+Math.floor(255*parseFloat(x[oe])).toString(16)).slice(-2);return $},go=p.__private__.encodeColorString=function(g){var x;typeof g=="string"&&(g={ch1:g});var F=g.ch1,$=g.ch2,oe=g.ch3,ye=g.ch4,Ae=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof F=="string"&&F.charAt(0)!=="#"){var qe=new tA(F);if(qe.ok)F=qe.toHex();else if(!/^\d*\.?\d*$/.test(F))throw new Error('Invalid color "'+F+'" passed to jsPDF.encodeColorString.')}if(typeof F=="string"&&/^#[0-9A-Fa-f]{3}$/.test(F)&&(F="#"+F[1]+F[1]+F[2]+F[2]+F[3]+F[3]),typeof F=="string"&&/^#[0-9A-Fa-f]{6}$/.test(F)){var ot=parseInt(F.substr(1),16);F=ot>>16&255,$=ot>>8&255,oe=255&ot}if($===void 0||ye===void 0&&F===$&&$===oe)if(typeof F=="string")x=F+" "+Ae[0];else switch(g.precision){case 2:x=se(F/255)+" "+Ae[0];break;case 3:default:x=T(F/255)+" "+Ae[0]}else if(ye===void 0||hn(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return x=["1.","1.","1.",Ae[1]].join(" ");if(typeof F=="string")x=[F,$,oe,Ae[1]].join(" ");else switch(g.precision){case 2:x=[se(F/255),se($/255),se(oe/255),Ae[1]].join(" ");break;default:case 3:x=[T(F/255),T($/255),T(oe/255),Ae[1]].join(" ")}}else if(typeof F=="string")x=[F,$,oe,ye,Ae[2]].join(" ");else switch(g.precision){case 2:x=[se(F),se($),se(oe),se(ye),Ae[2]].join(" ");break;case 3:default:x=[T(F),T($),T(oe),T(ye),Ae[2]].join(" ")}return x},Yo=p.__private__.getFilters=function(){return s},Fi=p.__private__.putStream=function(g){var x=(g=g||{}).data||"",F=g.filters||Yo(),$=g.alreadyAppliedFilters||[],oe=g.addLength1||!1,ye=x.length,Ae=g.objectId,qe=function(Vr){return Vr};if(d!==null&&Ae===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=Br.encryptor(Ae,0));var ot={};F===!0&&(F=["FlateEncode"]);var At=g.additionalKeyValues||[],xt=(ot=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(x,F):{data:x,reverseChain:[]}).reverseChain+(Array.isArray($)?$.join(" "):$.toString());if(ot.data.length!==0&&(At.push({key:"Length",value:ot.data.length}),oe===!0&&At.push({key:"Length1",value:ye})),xt.length!=0)if(xt.split("/").length-1==1)At.push({key:"Filter",value:xt});else{At.push({key:"Filter",value:"["+xt+"]"});for(var Wt=0;Wt<At.length;Wt+=1)if(At[Wt].key==="DecodeParms"){for(var An=[],Rn=0;Rn<ot.reverseChain.split("/").length-1;Rn+=1)An.push("null");An.push(At[Wt].value),At[Wt].value="["+An.join(" ")+"]"}}V("<<");for(var tr=0;tr<At.length;tr++)V("/"+At[tr].key+" "+At[tr].value);V(">>"),ot.data.length!==0&&(V("stream"),V(qe(ot.data)),V("endstream"))},Ko=p.__private__.putPage=function(g){var x=g.number,F=g.data,$=g.objId,oe=g.contentsObjId;wi($,!0),V("<</Type /Page"),V("/Parent "+g.rootDictionaryObjId+" 0 R"),V("/Resources "+g.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(H(g.mediaBox.bottomLeftX))+" "+parseFloat(H(g.mediaBox.bottomLeftY))+" "+H(g.mediaBox.topRightX)+" "+H(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&V("/CropBox ["+H(g.cropBox.bottomLeftX)+" "+H(g.cropBox.bottomLeftY)+" "+H(g.cropBox.topRightX)+" "+H(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&V("/BleedBox ["+H(g.bleedBox.bottomLeftX)+" "+H(g.bleedBox.bottomLeftY)+" "+H(g.bleedBox.topRightX)+" "+H(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&V("/TrimBox ["+H(g.trimBox.bottomLeftX)+" "+H(g.trimBox.bottomLeftY)+" "+H(g.trimBox.topRightX)+" "+H(g.trimBox.topRightY)+"]"),g.artBox!==null&&V("/ArtBox ["+H(g.artBox.bottomLeftX)+" "+H(g.artBox.bottomLeftY)+" "+H(g.artBox.topRightX)+" "+H(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&V("/UserUnit "+g.userUnit),on.publish("putPage",{objId:$,pageContext:Et[x],pageNumber:x,page:F}),V("/Contents "+oe+" 0 R"),V(">>"),V("endobj");var ye=F.join(`
`);return O===S.ADVANCED&&(ye+=`
Q`),wi(oe,!0),Fi({data:ye,filters:Yo(),objectId:oe}),V("endobj"),$},Dl=p.__private__.putPages=function(){var g,x,F=[];for(g=1;g<=kn;g++)Et[g].objId=er(),Et[g].contentsObjId=er();for(g=1;g<=kn;g++)F.push(Ko({number:g,data:Pe[g],objId:Et[g].objId,contentsObjId:Et[g].contentsObjId,mediaBox:Et[g].mediaBox,cropBox:Et[g].cropBox,bleedBox:Et[g].bleedBox,trimBox:Et[g].trimBox,artBox:Et[g].artBox,userUnit:Et[g].userUnit,rootDictionaryObjId:ks,resourceDictionaryObjId:fo}));wi(ks,!0),V("<</Type /Pages");var $="/Kids [";for(x=0;x<kn;x++)$+=F[x]+" 0 R ";V($+"]"),V("/Count "+kn),V(">>"),V("endobj"),on.publish("postPutPages")},$c=function(g){on.publish("putFont",{font:g,out:V,newObject:ur,putStream:Fi}),g.isAlreadyPutted!==!0&&(g.objectNumber=ur(),V("<<"),V("/Type /Font"),V("/BaseFont /"+Ad(g.postScriptName)),V("/Subtype /Type1"),typeof g.encoding=="string"&&V("/Encoding /"+g.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},Wc=function(){for(var g in gn)gn.hasOwnProperty(g)&&(f===!1||f===!0&&m.hasOwnProperty(g))&&$c(gn[g])},Yc=function(g){g.objectNumber=ur();var x=[];x.push({key:"Type",value:"/XObject"}),x.push({key:"Subtype",value:"/Form"}),x.push({key:"BBox",value:"["+[H(g.x),H(g.y),H(g.x+g.width),H(g.y+g.height)].join(" ")+"]"}),x.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var F=g.pages[1].join(`
`);Fi({data:F,additionalKeyValues:x,objectId:g.objectNumber}),V("endobj")},Kc=function(){for(var g in Nr)Nr.hasOwnProperty(g)&&Yc(Nr[g])},tg=function(g,x){var F,$=[],oe=1/(x-1);for(F=0;F<1;F+=oe)$.push(F);if($.push(1),g[0].offset!=0){var ye={offset:0,color:g[0].color};g.unshift(ye)}if(g[g.length-1].offset!=1){var Ae={offset:1,color:g[g.length-1].color};g.push(Ae)}for(var qe="",ot=0,At=0;At<$.length;At++){for(F=$[At];F>g[ot+1].offset;)ot++;var xt=g[ot].offset,Wt=(F-xt)/(g[ot+1].offset-xt),An=g[ot].color,Rn=g[ot+1].color;qe+=W(Math.round((1-Wt)*An[0]+Wt*Rn[0]).toString(16))+W(Math.round((1-Wt)*An[1]+Wt*Rn[1]).toString(16))+W(Math.round((1-Wt)*An[2]+Wt*Rn[2]).toString(16))}return qe.trim()},iy=function(g,x){x||(x=21);var F=ur(),$=tg(g.colors,x),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+x+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fi({data:$,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:F}),V("endobj"),g.objectNumber=ur(),V("<< /ShadingType "+g.type),V("/ColorSpace /DeviceRGB");var ye="/Coords ["+H(parseFloat(g.coords[0]))+" "+H(parseFloat(g.coords[1]))+" ";g.type===2?ye+=H(parseFloat(g.coords[2]))+" "+H(parseFloat(g.coords[3])):ye+=H(parseFloat(g.coords[2]))+" "+H(parseFloat(g.coords[3]))+" "+H(parseFloat(g.coords[4]))+" "+H(parseFloat(g.coords[5])),V(ye+="]"),g.matrix&&V("/Matrix ["+g.matrix.toString()+"]"),V("/Function "+F+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},oy=function(g,x){var F=er(),$=ur();x.push({resourcesOid:F,objectOid:$}),g.objectNumber=$;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+g.boundingBox.map(H).join(" ")+"]"}),oe.push({key:"XStep",value:H(g.xStep)}),oe.push({key:"YStep",value:H(g.yStep)}),oe.push({key:"Resources",value:F+" 0 R"}),g.matrix&&oe.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Fi({data:g.stream,additionalKeyValues:oe,objectId:g.objectNumber}),V("endobj")},Xc=function(g){var x;for(x in rn)rn.hasOwnProperty(x)&&(rn[x]instanceof Cc?iy(rn[x]):rn[x]instanceof Md&&oy(rn[x],g))},ng=function(g){for(var x in g.objectNumber=ur(),V("<<"),g)switch(x){case"opacity":V("/ca "+se(g[x]));break;case"stroke-opacity":V("/CA "+se(g[x]))}V(">>"),V("endobj")},sy=function(){var g;for(g in On)On.hasOwnProperty(g)&&ng(On[g])},ah=function(){for(var g in V("/XObject <<"),Nr)Nr.hasOwnProperty(g)&&Nr[g].objectNumber>=0&&V("/"+g+" "+Nr[g].objectNumber+" 0 R");on.publish("putXobjectDict"),V(">>")},ay=function(){Br.oid=ur(),V("<<"),V("/Filter /Standard"),V("/V "+Br.v),V("/R "+Br.r),V("/U <"+Br.toHexString(Br.U)+">"),V("/O <"+Br.toHexString(Br.O)+">"),V("/P "+Br.P),V(">>"),V("endobj")},rg=function(){for(var g in V("/Font <<"),gn)gn.hasOwnProperty(g)&&(f===!1||f===!0&&m.hasOwnProperty(g))&&V("/"+g+" "+gn[g].objectNumber+" 0 R");V(">>")},ly=function(){if(Object.keys(rn).length>0){for(var g in V("/Shading <<"),rn)rn.hasOwnProperty(g)&&rn[g]instanceof Cc&&rn[g].objectNumber>=0&&V("/"+g+" "+rn[g].objectNumber+" 0 R");on.publish("putShadingPatternDict"),V(">>")}},Jc=function(g){if(Object.keys(rn).length>0){for(var x in V("/Pattern <<"),rn)rn.hasOwnProperty(x)&&rn[x]instanceof p.TilingPattern&&rn[x].objectNumber>=0&&rn[x].objectNumber<g&&V("/"+x+" "+rn[x].objectNumber+" 0 R");on.publish("putTilingPatternDict"),V(">>")}},cy=function(){if(Object.keys(On).length>0){var g;for(g in V("/ExtGState <<"),On)On.hasOwnProperty(g)&&On[g].objectNumber>=0&&V("/"+g+" "+On[g].objectNumber+" 0 R");on.publish("putGStateDict"),V(">>")}},Hn=function(g){wi(g.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rg(),ly(),Jc(g.objectOid),cy(),ah(),V(">>"),V("endobj")},ig=function(){var g=[];Wc(),sy(),Kc(),Xc(g),on.publish("putResources"),g.forEach(Hn),Hn({resourcesOid:fo,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources")},og=function(){on.publish("putAdditionalObjects");for(var g=0;g<Oe.length;g++){var x=Oe[g];wi(x.objId,!0),V(x.content),V("endobj")}on.publish("postPutAdditionalObjects")},sg=function(g){Dn[g.fontName]=Dn[g.fontName]||{},Dn[g.fontName][g.fontStyle]=g.id},lh=function(g,x,F,$,oe){var ye={id:"F"+(Object.keys(gn).length+1).toString(10),postScriptName:g,fontName:x,fontStyle:F,encoding:$,isStandardFont:oe||!1,metadata:{}};return on.publish("addFont",{font:ye,instance:this}),gn[ye.id]=ye,sg(ye),ye.id},uy=function(g){for(var x=0,F=Ne.length;x<F;x++){var $=lh.call(this,g[x][0],g[x][1],g[x][2],Ne[x][3],!0);f===!1&&(m[$]=!0);var oe=g[x][0].split("-");sg({id:$,fontName:oe[0],fontStyle:oe[1]||""})}on.publish("addFonts",{fonts:gn,dictionary:Dn})},mo=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch($){var x=$.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var F="Error in function "+x.split(`
`)[0].split("<")[0]+": "+$.message;if(!ft.console)throw new Error(F);ft.console.error(F,$),ft.alert&&alert(F)}},g.foo.bar=g,g.foo},Zc=function(g,x){var F,$,oe,ye,Ae,qe,ot,At,xt;if(oe=(x=x||{}).sourceEncoding||"Unicode",Ae=x.outputEncoding,(x.autoencode||Ae)&&gn[Vt].metadata&&gn[Vt].metadata[oe]&&gn[Vt].metadata[oe].encoding&&(ye=gn[Vt].metadata[oe].encoding,!Ae&&gn[Vt].encoding&&(Ae=gn[Vt].encoding),!Ae&&ye.codePages&&(Ae=ye.codePages[0]),typeof Ae=="string"&&(Ae=ye[Ae]),Ae)){for(ot=!1,qe=[],F=0,$=g.length;F<$;F++)(At=Ae[g.charCodeAt(F)])?qe.push(String.fromCharCode(At)):qe.push(g[F]),qe[F].charCodeAt(0)>>8&&(ot=!0);g=qe.join("")}for(F=g.length;ot===void 0&&F!==0;)g.charCodeAt(F-1)>>8&&(ot=!0),F--;if(!ot)return g;for(qe=x.noBOM?[]:[254,255],F=0,$=g.length;F<$;F++){if((xt=(At=g.charCodeAt(F))>>8)>>8)throw new Error("Character at position "+F+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(xt),qe.push(At-(xt<<8))}return String.fromCharCode.apply(void 0,qe)},li=p.__private__.pdfEscape=p.pdfEscape=function(g,x){return Zc(g,x).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ch=p.__private__.beginPage=function(g){Pe[++kn]=[],Et[kn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},lg(kn),_e(Pe[L])},ag=function(g,x){var F,$,oe;switch(t=x||t,typeof g=="string"&&(F=w(g.toLowerCase()),Array.isArray(F)&&($=F[0],oe=F[1])),Array.isArray(g)&&($=g[0]*ze,oe=g[1]*ze),isNaN($)&&($=i[0],oe=i[1]),($>14400||oe>14400)&&(vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$=Math.min(14400,$),oe=Math.min(14400,oe)),i=[$,oe],t.substr(0,1)){case"l":oe>$&&(i=[oe,$]);break;case"p":$>oe&&(i=[oe,$])}ch(i),pg(fh),V(vo),gh!==0&&V(gh+" J"),mh!==0&&V(mh+" j"),on.publish("addPage",{pageNumber:kn})},dy=function(g){g>0&&g<=kn&&(Pe.splice(g,1),Et.splice(g,1),kn--,L>kn&&(L=kn),this.setPage(L))},lg=function(g){g>0&&g<=kn&&(L=g)},hy=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},cg=function(g,x,F){var $,oe=void 0;return F=F||{},g=g!==void 0?g:gn[Vt].fontName,x=x!==void 0?x:gn[Vt].fontStyle,$=g.toLowerCase(),Dn[$]!==void 0&&Dn[$][x]!==void 0?oe=Dn[$][x]:Dn[g]!==void 0&&Dn[g][x]!==void 0?oe=Dn[g][x]:F.disableWarning===!1&&vn.warn("Unable to look up font label for font '"+g+"', '"+x+"'. Refer to getFontList() for available fonts."),oe||F.noFallback||(oe=Dn.times[x])==null&&(oe=Dn.times.normal),oe},fy=p.__private__.putInfo=function(){var g=ur(),x=function($){return $};for(var F in d!==null&&(x=Br.encryptor(g,0)),V("<<"),V("/Producer ("+li(x("jsPDF "+lt.version))+")"),gt)gt.hasOwnProperty(F)&&gt[F]&&V("/"+F.substr(0,1).toUpperCase()+F.substr(1)+" ("+li(x(gt[F]))+")");V("/CreationDate ("+li(x(de))+")"),V(">>"),V("endobj")},uh=p.__private__.putCatalog=function(g){var x=(g=g||{}).rootDictionaryObjId||ks;switch(ur(),V("<<"),V("/Type /Catalog"),V("/Pages "+x+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var F=""+He;F.substr(F.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&V("/OpenAction [3 0 R /XYZ null null "+se(He)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}Ct&&V("/PageMode /"+Ct),on.publish("putCatalog"),V(">>"),V("endobj")},py=p.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(te+1)),V("/Root "+te+" 0 R"),V("/Info "+(te-1)+" 0 R"),d!==null&&V("/Encrypt "+Br.oid+" 0 R"),V("/ID [ <"+ce+"> <"+ce+"> ]"),V(">>")},gy=p.__private__.putHeader=function(){V("%PDF-"+y),V("%\xBA\xDF\xAC\xE0")},my=p.__private__.putXRef=function(){var g="0000000000";V("xref"),V("0 "+(te+1)),V("0000000000 65535 f ");for(var x=1;x<=te;x++)typeof ue[x]=="function"?V((g+ue[x]()).slice(-10)+" 00000 n "):ue[x]!==void 0?V((g+ue[x]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Rs=p.__private__.buildDocument=function(){dt(),_e(fe),on.publish("buildDocument"),gy(),Dl(),og(),ig(),d!==null&&ay(),fy(),uh();var g=pe;return my(),py(),V("startxref"),V(""+g),V("%%EOF"),_e(Pe[L]),fe.join(`
`)},Qc=p.__private__.getBlob=function(g){return new Blob([et(g)],{type:"application/pdf"})},eu=p.output=p.__private__.output=mo(function(g,x){switch(typeof(x=x||{})=="string"?x={filename:x}:x.filename=x.filename||"generated.pdf",g){case void 0:return Rs();case"save":p.save(x.filename);break;case"arraybuffer":return et(Rs());case"blob":return Qc(Rs());case"bloburi":case"bloburl":if(ft.URL!==void 0&&typeof ft.URL.createObjectURL=="function")return ft.URL&&ft.URL.createObjectURL(Qc(Rs()))||void 0;vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var F="",$=Rs();try{F=mC($)}catch{F=mC(unescape(encodeURIComponent($)))}return"data:application/pdf;filename="+x.filename+";base64,"+F;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ft)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';x.pdfObjectUrl&&(oe=x.pdfObjectUrl,ye="");var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(x)+");<\/script></body></html>",qe=ft.open();return qe!==null&&qe.document.write(Ae),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ft)==="[object Window]"){var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(x.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+x.filename+'" width="500px" height="400px" /></body></html>',At=ft.open();if(At!==null){At.document.write(ot);var xt=this;At.document.documentElement.querySelector("#pdfViewer").onload=function(){At.document.title=x.filename,At.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xt.output("bloburl"))}}return At}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",x)+'"></iframe></body></html>',An=ft.open();if(An!==null&&(An.document.write(Wt),An.document.title=x.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return ft.document.location.href=this.output("datauristring",x);default:return null}}),ug=function(g){return Array.isArray(Sl)===!0&&Sl.indexOf(g)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=ug("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var Br=null;ke(),J();var vy=function(g){return d!==null?Br.encryptor(g,0):function(x){return x}},dg=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[g].objId,pageNumber:g,pageContext:Et[g]}},_t=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var x in Et)if(Et[x].objId===g)break;return dg(x)},yy=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Et[L].objId,pageNumber:L,pageContext:Et[L]}};p.addPage=function(){return ag.apply(this,arguments),this},p.setPage=function(){return lg.apply(this,arguments),_e.call(this,Pe[L]),this},p.insertPage=function(g){return this.addPage(),this.movePage(L,g),this},p.movePage=function(g,x){var F,$;if(g>x){F=Pe[g],$=Et[g];for(var oe=g;oe>x;oe--)Pe[oe]=Pe[oe-1],Et[oe]=Et[oe-1];Pe[x]=F,Et[x]=$,this.setPage(x)}else if(g<x){F=Pe[g],$=Et[g];for(var ye=g;ye<x;ye++)Pe[ye]=Pe[ye+1],Et[ye]=Et[ye+1];Pe[x]=F,Et[x]=$,this.setPage(x)}return this},p.deletePage=function(){return dy.apply(this,arguments),this},p.__private__.text=p.text=function(g,x,F,$,oe){var ye,Ae,qe,ot,At,xt,Wt,An,Rn,tr=($=$||{}).scope||this;if(typeof g=="number"&&typeof x=="number"&&(typeof F=="string"||Array.isArray(F))){var Vr=F;F=x,x=g,g=Vr}if(arguments[3]instanceof ct?(j("The transform parameter of text() with a Matrix value"),Rn=oe):(qe=arguments[4],ot=arguments[5],hn(Wt=arguments[3])==="object"&&Wt!==null||(typeof qe=="string"&&(ot=qe,qe=null),typeof Wt=="string"&&(ot=Wt,Wt=null),typeof Wt=="number"&&(qe=Wt,Wt=null),$={flags:Wt,angle:qe,align:ot})),isNaN(x)||isNaN(F)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return tr;var wr="",yo=!1,Ci=typeof $.lineHeightFactor=="number"?$.lineHeightFactor:Al,Zo=tr.internal.scaleFactor;function _g(bn){return bn=bn.split("	").join(Array($.TabLen||9).join(" ")),li(bn,Wt)}function wh(bn){for(var _n,qn=bn.concat(),dr=[],Vs=qn.length;Vs--;)typeof(_n=qn.shift())=="string"?dr.push(_n):Array.isArray(bn)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?dr.push(_n[0]):dr.push([_n[0],_n[1],_n[2]]);return dr}function Ch(bn,_n){var qn;if(typeof bn=="string")qn=_n(bn)[0];else if(Array.isArray(bn)){for(var dr,Vs,Th=bn.concat(),gu=[],Sg=Th.length;Sg--;)typeof(dr=Th.shift())=="string"?gu.push(_n(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(Vs=_n(dr[0],dr[1],dr[2]),gu.push([Vs[0],Vs[1],Vs[2]]));qn=gu}return qn}var su=!1,Eh=!0;if(typeof g=="string")su=!0;else if(Array.isArray(g)){var xh=g.concat();Ae=[];for(var au,Pr=xh.length;Pr--;)(typeof(au=xh.shift())!="string"||Array.isArray(au)&&typeof au[0]!="string")&&(Eh=!1);su=Eh}if(su===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var lu=Le/tr.internal.scaleFactor,cu=lu*(Ci-1);switch($.baseline){case"bottom":F-=cu;break;case"top":F+=lu-cu;break;case"hanging":F+=lu-2*cu;break;case"middle":F+=lu/2-cu}if((xt=$.maxWidth||0)>0&&(typeof g=="string"?g=tr.splitTextToSize(g,xt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(bn,_n){return bn.concat(tr.splitTextToSize(_n,xt))},[]))),ye={text:g,x,y:F,options:$,mutex:{pdfEscape:li,activeFontKey:Vt,fonts:gn,activeFontSize:Le}},on.publish("preProcessText",ye),g=ye.text,qe=($=ye.options).angle,!(Rn instanceof ct)&&qe&&typeof qe=="number"){qe*=Math.PI/180,$.rotationDirection===0&&(qe=-qe),O===S.ADVANCED&&(qe=-qe);var uu=Math.cos(qe),Sh=Math.sin(qe);Rn=new ct(uu,Sh,-Sh,uu,0,0)}else qe&&qe instanceof ct&&(Rn=qe);O!==S.ADVANCED||Rn||(Rn=Wo),(At=$.charSpace||ru)!==void 0&&(wr+=H(N(At))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=$.horizontalScale)!==void 0&&(wr+=H(100*An)+` Tz
`),$.lang;var ci=-1,Ay=$.renderingMode!==void 0?$.renderingMode:$.stroke,Dh=tr.internal.getCurrentPageInfo().pageContext;switch(Ay){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var wg=Dh.usedRenderingMode!==void 0?Dh.usedRenderingMode:-1;ci!==-1?wr+=ci+` Tr
`:wg!==-1&&(wr+=`0 Tr
`),ci!==-1&&(Dh.usedRenderingMode=ci),ot=$.align||"left";var ji,du=Le*Ci,Cg=tr.internal.pageSize.getWidth(),Eg=gn[Vt];At=$.charSpace||ru,xt=$.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},$.flags);var Ta=[],Nl=function(bn){return tr.getStringUnitWidth(bn,{font:Eg,charSpace:At,fontSize:Le,doKerning:!1})*Le/Zo};if(Object.prototype.toString.call(g)==="[object Array]"){var ui;Ae=wh(g),ot!=="left"&&(ji=Ae.map(Nl));var Xr,Na=0;if(ot==="right"){x-=ji[0],g=[],Pr=Ae.length;for(var Fs=0;Fs<Pr;Fs++)Fs===0?(Xr=Jo(x),ui=Ls(F)):(Xr=N(Na-ji[Fs]),ui=-du),g.push([Ae[Fs],Xr,ui]),Na=ji[Fs]}else if(ot==="center"){x-=ji[0]/2,g=[],Pr=Ae.length;for(var js=0;js<Pr;js++)js===0?(Xr=Jo(x),ui=Ls(F)):(Xr=N((Na-ji[js])/2),ui=-du),g.push([Ae[js],Xr,ui]),Na=ji[js]}else if(ot==="left"){g=[],Pr=Ae.length;for(var hu=0;hu<Pr;hu++)g.push(Ae[hu])}else if(ot==="justify"&&Eg.encoding==="Identity-H"){g=[],Pr=Ae.length,xt=xt!==0?xt:Cg;for(var Bs=0,zn=0;zn<Pr;zn++)if(ui=zn===0?Ls(F):-du,Xr=zn===0?Jo(x):Bs,zn<Pr-1){var Ih=N((xt-ji[zn])/(Ae[zn].split(" ").length-1)),Jr=Ae[zn].split(" ");g.push([Jr[0]+" ",Xr,ui]),Bs=0;for(var Bi=1;Bi<Jr.length;Bi++){var fu=(Nl(Jr[Bi-1]+" "+Jr[Bi])-Nl(Jr[Bi]))*Zo+Ih;Bi==Jr.length-1?g.push([Jr[Bi],fu,0]):g.push([Jr[Bi]+" ",fu,0]),Bs-=fu}}else g.push([Ae[zn],Xr,ui]);g.push(["",Bs,0])}else{if(ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Pr=Ae.length,xt=xt!==0?xt:Cg,zn=0;zn<Pr;zn++)ui=zn===0?Ls(F):-du,Xr=zn===0?Jo(x):0,zn<Pr-1?Ta.push(H(N((xt-ji[zn])/(Ae[zn].split(" ").length-1)))):Ta.push(0),g.push([Ae[zn],Xr,ui])}}var xg=typeof $.R2L=="boolean"?$.R2L:it;xg===!0&&(g=Ch(g,function(bn,_n,qn){return[bn.split("").reverse().join(""),_n,qn]})),ye={text:g,x,y:F,options:$,mutex:{pdfEscape:li,activeFontKey:Vt,fonts:gn,activeFontSize:Le}},on.publish("postProcessText",ye),g=ye.text,yo=ye.mutex.isHex||!1;var Ah=gn[Vt].encoding;Ah!=="WinAnsiEncoding"&&Ah!=="StandardEncoding"||(g=Ch(g,function(bn,_n,qn){return[_g(bn),_n,qn]})),Ae=wh(g),g=[];for(var Pl,Ol,Pa,kl=0,pu=1,Rl=Array.isArray(Ae[0])?pu:kl,Oa="",Mh=function(bn,_n,qn){var dr="";return qn instanceof ct?(qn=typeof $.angle=="number"?ho(qn,new ct(1,0,0,1,bn,_n)):ho(new ct(1,0,0,1,bn,_n),qn),O===S.ADVANCED&&(qn=ho(new ct(1,0,0,-1,0,0),qn)),dr=qn.join(" ")+` Tm
`):dr=H(bn)+" "+H(_n)+` Td
`,dr},Vi=0;Vi<Ae.length;Vi++){switch(Oa="",Rl){case pu:Pa=(yo?"<":"(")+Ae[Vi][0]+(yo?">":")"),Pl=parseFloat(Ae[Vi][1]),Ol=parseFloat(Ae[Vi][2]);break;case kl:Pa=(yo?"<":"(")+Ae[Vi]+(yo?">":")"),Pl=Jo(x),Ol=Ls(F)}Ta!==void 0&&Ta[Vi]!==void 0&&(Oa=Ta[Vi]+` Tw
`),Vi===0?g.push(Oa+Mh(Pl,Ol,Rn)+Pa):Rl===kl?g.push(Oa+Pa):Rl===pu&&g.push(Oa+Mh(Pl,Ol,Rn)+Pa)}g=Rl===kl?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Ui=`BT
/`;return Ui+=Vt+" "+Le+` Tf
`,Ui+=H(Le*Ci)+` TL
`,Ui+=Ml+`
`,Ui+=wr,Ui+=g,V(Ui+="ET"),m[Vt]=!0,tr};var by=p.__private__.clip=p.clip=function(g){return V(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return by("evenodd")},p.__private__.discardPath=p.discardPath=function(){return V("n"),this};var Xo=p.__private__.isValidStyle=function(g){var x=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(x=!0),x};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Xo(g)&&(c=g),this};var hg=p.__private__.getStyle=p.getStyle=function(g){var x=c;switch(g){case"D":case"S":x="S";break;case"F":x="f";break;case"FD":case"DF":x="B";break;case"f":case"f*":case"B":case"B*":x=g}return x},fg=p.close=function(){return V("h"),this};p.stroke=function(){return V("S"),this},p.fill=function(g){return tu("f",g),this},p.fillEvenOdd=function(g){return tu("f*",g),this},p.fillStroke=function(g){return tu("B",g),this},p.fillStrokeEvenOdd=function(g){return tu("B*",g),this};var tu=function(g,x){hn(x)==="object"?wy(x,g):V(g)},dh=function(g){g===null||O===S.ADVANCED&&g===void 0||(g=hg(g),V(g))};function _y(g,x,F,$,oe){var ye=new Md(x||this.boundingBox,F||this.xStep,$||this.yStep,this.gState,oe||this.matrix);ye.stream=this.stream;var Ae=g+"$$"+this.cloneIndex+++"$$";return ai(Ae,ye),ye}var wy=function(g,x){var F=xl[g.key],$=rn[F];if($ instanceof Cc)V("q"),V(Cy(x)),$.gState&&p.setGState($.gState),V(g.matrix.toString()+" cm"),V("/"+F+" sh"),V("Q");else if($ instanceof Md){var oe=new ct(1,0,0,-1,0,Ma());g.matrix&&(oe=oe.multiply(g.matrix||Wo),F=_y.call($,g.key,g.boundingBox,g.xStep,g.yStep,oe).id),V("q"),V("/Pattern cs"),V("/"+F+" scn"),$.gState&&p.setGState($.gState),V(x),V("Q")}},Cy=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},hh=p.moveTo=function(g,x){return V(H(N(g))+" "+H(U(x))+" m"),this},Il=p.lineTo=function(g,x){return V(H(N(g))+" "+H(U(x))+" l"),this},Ia=p.curveTo=function(g,x,F,$,oe,ye){return V([H(N(g)),H(U(x)),H(N(F)),H(U($)),H(N(oe)),H(U(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,x,F,$,oe){if(isNaN(g)||isNaN(x)||isNaN(F)||isNaN($)||!Xo(oe))throw new Error("Invalid arguments passed to jsPDF.line");return O===S.COMPAT?this.lines([[F-g,$-x]],g,x,[1,1],oe||"S"):this.lines([[F-g,$-x]],g,x,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,x,F,$,oe,ye){var Ae,qe,ot,At,xt,Wt,An,Rn,tr,Vr,wr,yo;if(typeof g=="number"&&(yo=F,F=x,x=g,g=yo),$=$||[1,1],ye=ye||!1,isNaN(x)||isNaN(F)||!Array.isArray(g)||!Array.isArray($)||!Xo(oe)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hh(x,F),Ae=$[0],qe=$[1],At=g.length,Vr=x,wr=F,ot=0;ot<At;ot++)(xt=g[ot]).length===2?(Vr=xt[0]*Ae+Vr,wr=xt[1]*qe+wr,Il(Vr,wr)):(Wt=xt[0]*Ae+Vr,An=xt[1]*qe+wr,Rn=xt[2]*Ae+Vr,tr=xt[3]*qe+wr,Vr=xt[4]*Ae+Vr,wr=xt[5]*qe+wr,Ia(Wt,An,Rn,tr,Vr,wr));return ye&&fg(),dh(oe),this},p.path=function(g){for(var x=0;x<g.length;x++){var F=g[x],$=F.c;switch(F.op){case"m":hh($[0],$[1]);break;case"l":Il($[0],$[1]);break;case"c":Ia.apply(this,$);break;case"h":fg()}}return this},p.__private__.rect=p.rect=function(g,x,F,$,oe){if(isNaN(g)||isNaN(x)||isNaN(F)||isNaN($)||!Xo(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return O===S.COMPAT&&($=-$),V([H(N(g)),H(U(x)),H(N(F)),H(N($)),"re"].join(" ")),dh(oe),this},p.__private__.triangle=p.triangle=function(g,x,F,$,oe,ye,Ae){if(isNaN(g)||isNaN(x)||isNaN(F)||isNaN($)||isNaN(oe)||isNaN(ye)||!Xo(Ae))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[F-g,$-x],[oe-F,ye-$],[g-oe,x-ye]],g,x,[1,1],Ae,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,x,F,$,oe,ye,Ae){if(isNaN(g)||isNaN(x)||isNaN(F)||isNaN($)||isNaN(oe)||isNaN(ye)||!Xo(Ae))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*F),ye=Math.min(ye,.5*$),this.lines([[F-2*oe,0],[oe*qe,0,oe,ye-ye*qe,oe,ye],[0,$-2*ye],[0,ye*qe,-oe*qe,ye,-oe,ye],[2*oe-F,0],[-oe*qe,0,-oe,-ye*qe,-oe,-ye],[0,2*ye-$],[0,-ye*qe,oe*qe,-ye,oe,-ye]],g+oe,x,[1,1],Ae,!0),this},p.__private__.ellipse=p.ellipse=function(g,x,F,$,oe){if(isNaN(g)||isNaN(x)||isNaN(F)||isNaN($)||!Xo(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*F,Ae=4/3*(Math.SQRT2-1)*$;return hh(g+F,x),Ia(g+F,x-Ae,g+ye,x-$,g,x-$),Ia(g-ye,x-$,g-F,x-Ae,g-F,x),Ia(g-F,x+Ae,g-ye,x+$,g,x+$),Ia(g+ye,x+$,g+F,x+Ae,g+F,x),dh(oe),this},p.__private__.circle=p.circle=function(g,x,F,$){if(isNaN(g)||isNaN(x)||isNaN(F)||!Xo($))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,x,F,F,$)},p.setFont=function(g,x,F){return F&&(x=Z(x,F)),Vt=cg(g,x,{disableWarning:!1}),this};var Ey=p.__private__.getFont=p.getFont=function(){return gn[cg.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,x,F={};for(g in Dn)if(Dn.hasOwnProperty(g))for(x in F[g]=[],Dn[g])Dn[g].hasOwnProperty(x)&&F[g].push(x);return F},p.addFont=function(g,x,F,$,oe){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(F=Z(F,$)),oe=oe||"Identity-H",lh.call(this,g,x,F,oe)};var Al,fh=n.lineWidth||.200025,nu=p.__private__.getLineWidth=p.getLineWidth=function(){return fh},pg=p.__private__.setLineWidth=p.setLineWidth=function(g){return fh=g,V(H(N(g))+" w"),this};p.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(g,x){if(g=g||[],x=x||0,isNaN(x)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(F){return H(N(F))}).join(" "),x=H(N(x)),V("["+g+"] "+x+" d"),this};var gg=p.__private__.getLineHeight=p.getLineHeight=function(){return Le*Al};p.__private__.getLineHeight=p.getLineHeight=function(){return Le*Al};var mg=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Al=g),this},vg=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Al};mg(n.lineHeight);var Jo=p.__private__.getHorizontalCoordinate=function(g){return N(g)},Ls=p.__private__.getVerticalCoordinate=function(g){return O===S.ADVANCED?g:Et[L].mediaBox.topRightY-Et[L].mediaBox.bottomLeftY-N(g)},xy=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return H(Jo(g))},Aa=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return H(Ls(g))},vo=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return po(vo)},p.__private__.setStrokeColor=p.setDrawColor=function(g,x,F,$){return vo=go({ch1:g,ch2:x,ch3:F,ch4:$,pdfColorType:"draw",precision:2}),V(vo),this};var ph=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return po(ph)},p.__private__.setFillColor=p.setFillColor=function(g,x,F,$){return ph=go({ch1:g,ch2:x,ch3:F,ch4:$,pdfColorType:"fill",precision:2}),V(ph),this};var Ml=n.textColor||"0 g",Sy=p.__private__.getTextColor=p.getTextColor=function(){return po(Ml)};p.__private__.setTextColor=p.setTextColor=function(g,x,F,$){return Ml=go({ch1:g,ch2:x,ch3:F,ch4:$,pdfColorType:"text",precision:3}),this};var ru=n.charSpace,Dy=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ru||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ru=g,this};var gh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var x=p.CapJoinStyles[g];if(x===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gh=x,V(x+" J"),this};var mh=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var x=p.CapJoinStyles[g];if(x===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mh=x,V(x+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(H(N(g))+" M"),this},p.GState=iv,p.setGState=function(g){(g=typeof g=="string"?On[uo[g]]:yg(null,g)).equals(Os)||(V("/"+g.id+" gs"),Os=g)};var yg=function(g,x){if(!g||!uo[g]){var F=!1;for(var $ in On)if(On.hasOwnProperty($)&&On[$].equals(x)){F=!0;break}if(F)x=On[$];else{var oe="GS"+(Object.keys(On).length+1).toString(10);On[oe]=x,x.id=oe}return g&&(uo[g]=x.id),on.publish("addGState",x),x}};p.addGState=function(g,x){return yg(g,x),this},p.saveGraphicsState=function(){return V("q"),qo.push({key:Vt,size:Le,color:Ml}),this},p.restoreGraphicsState=function(){V("Q");var g=qo.pop();return Vt=g.key,Le=g.size,Ml=g.color,Os=null,this},p.setCurrentTransformationMatrix=function(g){return V(g.toString()+" cm"),this},p.comment=function(g){return V("#"+g),this};var iu=function(g,x){var F=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return F},set:function(ye){isNaN(ye)||(F=parseFloat(ye))}});var $=x||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $},set:function(ye){isNaN(ye)||($=parseFloat(ye))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(ye){oe=ye.toString()}}),this},vh=function(g,x,F,$){iu.call(this,g,x),this.type="rect";var oe=F||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ae){isNaN(Ae)||(oe=parseFloat(Ae))}});var ye=$||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ae){isNaN(Ae)||(ye=parseFloat(Ae))}}),this},yh=function(){this.page=kn,this.currentPage=L,this.pages=Pe.slice(0),this.pagesContext=Et.slice(0),this.x=jr,this.y=Zt,this.matrix=co,this.width=Tl(L),this.height=Ma(L),this.outputDestination=je,this.id="",this.objectNumber=-1};yh.prototype.restore=function(){kn=this.page,L=this.currentPage,Et=this.pagesContext,Pe=this.pages,jr=this.x,Zt=this.y,co=this.matrix,bh(L,this.width),_h(L,this.height),je=this.outputDestination};var bg=function(g,x,F,$,oe){$o.push(new yh),kn=L=0,Pe=[],jr=g,Zt=x,co=oe,ch([F,$])},Iy=function(g){if(Go[g])$o.pop().restore();else{var x=new yh,F="Xo"+(Object.keys(Nr).length+1).toString(10);x.id=F,Go[g]=F,Nr[F]=x,on.publish("addFormObject",x),$o.pop().restore()}};for(var ou in p.beginFormObject=function(g,x,F,$,oe){return bg(g,x,F,$,oe),this},p.endFormObject=function(g){return Iy(g),this},p.doFormObject=function(g,x){var F=Nr[Go[g]];return V("q"),V(x.toString()+" cm"),V("/"+F.id+" Do"),V("Q"),this},p.getFormObject=function(g){var x=Nr[Go[g]];return{x:x.x,y:x.y,width:x.width,height:x.height,matrix:x.matrix}},p.save=function(g,x){return g=g||"generated.pdf",(x=x||{}).returnPromise=x.returnPromise||!1,x.returnPromise===!1?(wc(Qc(Rs()),g),typeof wc.unload=="function"&&ft.setTimeout&&setTimeout(wc.unload,911),this):new Promise(function(F,$){try{var oe=wc(Qc(Rs()),g);typeof wc.unload=="function"&&ft.setTimeout&&setTimeout(wc.unload,911),F(oe)}catch(ye){$(ye.message)}})},lt.API)lt.API.hasOwnProperty(ou)&&(ou==="events"&&lt.API.events.length?function(g,x){var F,$,oe;for(oe=x.length-1;oe!==-1;oe--)F=x[oe][0],$=x[oe][1],g.subscribe.apply(g,[F].concat(typeof $=="function"?[$]:$))}(on,lt.API.events):p[ou]=lt.API[ou]);var Tl=p.getPageWidth=function(g){return(Et[g=g||L].mediaBox.topRightX-Et[g].mediaBox.bottomLeftX)/ze},bh=p.setPageWidth=function(g,x){Et[g].mediaBox.topRightX=x*ze+Et[g].mediaBox.bottomLeftX},Ma=p.getPageHeight=function(g){return(Et[g=g||L].mediaBox.topRightY-Et[g].mediaBox.bottomLeftY)/ze},_h=p.setPageHeight=function(g,x){Et[g].mediaBox.topRightY=x*ze+Et[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:li,getStyle:hg,getFont:Ey,getFontSize:Ve,getCharSpace:Dy,getTextColor:Sy,getLineHeight:gg,getLineHeightFactor:vg,getLineWidth:nu,write:It,getHorizontalCoordinate:Jo,getVerticalCoordinate:Ls,getCoordinateString:xy,getVerticalCoordinateString:Aa,collections:{},newObject:ur,newAdditionalObject:Gc,newObjectDeferred:er,newObjectDeferredBegin:wi,getFilters:Yo,putStream:Fi,events:on,scaleFactor:ze,pageSize:{getWidth:function(){return Tl(L)},setWidth:function(g){bh(L,g)},getHeight:function(){return Ma(L)},setHeight:function(g){_h(L,g)}},encryptionOptions:d,encryption:Br,getEncryptor:vy,output:eu,getNumberOfPages:hy,pages:Pe,out:V,f2:se,f3:T,getPageInfo:dg,getPageInfoByObjId:_t,getCurrentPageInfo:yy,getPDFVersion:_,Point:iu,Rectangle:vh,Matrix:ct,hasHotfix:ug},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Tl(L)},set:function(g){bh(L,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ma(L)},set:function(g){_h(L,g)},enumerable:!0,configurable:!0}),uy.call(p,Ne),Vt="F1",ag(i,t),on.publish("initialized"),p}Id.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Id.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Id.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Id.prototype.processOwnerPassword=function(n,e){return yC(vC(e).substr(0,5),n)},Id.prototype.encryptor=function(n,e){var t=vC(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return yC(t,r)}},iv.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||hn(n)!==hn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},lt.API={events:[]},lt.version="3.0.1";var Bn=lt.API,CC=1,xc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(n){return n.toFixed(2)},dl=function(n){return n.toFixed(5)};Bn.__acroform__={};var bi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},HI=function(n){return n*CC},bs=function(n){var e=new oA,t=Ze.internal.getHeight(n)||0,r=Ze.internal.getWidth(n)||0;return e.BBox=[0,0,Number(St(r)),Number(St(t))],e},Sj=Bn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},Dj=Bn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},Ij=Bn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Yn=Bn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ij(n,e-1)},Kn=Bn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Sj(n,e-1)},Xn=Bn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Dj(n,e-1)},Aj=Bn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},Mj=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=bC(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+St(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=bs(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},bC=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var o=t,s=Ze.internal.getHeight(n)||0;s=s<0?-s:s;var a=Ze.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(T,N,q){if(T+1<i.length){var U=N+" "+i[T+1][0];return J1(U,n,q).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,d,f=J1("3",n,o).height,m=n.multiline?s-o:(s-f)/2,p=m+=2,y=0,_=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+J1(e,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var w="",S=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var k=!1;if(i[O].length!==1&&C!==i[O].length-1){if((f+2)*(S+2)+2>s)continue e;w+=i[O][C],k=!0,_=O,O--}else{w=(w+=i[O][C]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var z=parseInt(O),Z=l(z,w,o),H=O>=i.length-1;if(Z&&!H){w+=" ",C=0;continue}if(Z||H){if(H)_=z;else if(n.multiline&&(f+2)*(S+2)+2>s)continue e}else{if(!n.multiline||(f+2)*(S+2)+2>s)continue e;_=z}}for(var j="",ne=y;ne<=_;ne++){var se=i[ne];if(n.multiline){if(ne===_){j+=se[C]+" ",C=(C+1)%se.length;continue}if(ne===y){j+=se[se.length-1]+" ";continue}}j+=se[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,d=J1(j,n,o).width,n.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}e+=St(c)+" "+St(p)+` Td
`,e+="("+xc(j)+`) Tj
`,e+=-St(c)+` 0 Td
`,p=-(o+2),d=0,y=k?_:_+1,S++,w=""}break}return r.text=e,r.fontSize=o,r},J1=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Tj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Nj=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Pj=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),hn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},Oj=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Fo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Tj)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CC=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new sA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&Nj(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Aj(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ze.createDefaultAppearanceStream(a),hn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=Mj(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var f="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(i,a)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,a)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&Pj(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},iA=Bn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),hn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+xc(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fC=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+xc(r(n))+")"},_s=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_s.prototype.toString=function(){return this.objId+" 0 R"},_s.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},_s.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:iA(i,this.objId,this.scope)}):i instanceof _s?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var oA=function(){_s.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};bi(oA,_s);var sA=function(){_s.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+xc(t(n))+")"}},set:function(t){n=t}})};bi(sA,_s);var Fo=function n(){_s.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(w){w?this.F=Kn(e,3):this.F=Xn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof ov)return;o="FieldObject"+n.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+xc(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/CC:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ov||this instanceof Ec))return fC(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Mr?m:fC(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Mr?w:w.substr(0,1)==="("?Sd(w.substr(1,w.length-2)):Sd(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr?Sd(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Mr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Mr?p:fC(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Mr?w:w.substr(0,1)==="("?Sd(w.substr(1,w.length-2)):Sd(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr?Sd(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Mr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(w){w?this.Ff=Kn(this.Ff,1):this.Ff=Xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(w){w?this.Ff=Kn(this.Ff,2):this.Ff=Xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(w){w?this.Ff=Kn(this.Ff,3):this.Ff=Xn(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');C=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(C){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};bi(Fo,_s);var Td=function(){Fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return iA(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(t){t?this.Ff=Kn(this.Ff,18):this.Ff=Xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Kn(this.Ff,19):this.Ff=Xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(t){t?(this.Ff=Kn(this.Ff,20),e.sort()):this.Ff=Xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(t){t?this.Ff=Kn(this.Ff,22):this.Ff=Xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(t){t?this.Ff=Kn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(t){t?this.Ff=Kn(this.Ff,27):this.Ff=Xn(this.Ff,27)}}),this.hasAppearanceStream=!1};bi(Td,Fo);var Nd=function(){Td.call(this),this.fontName="helvetica",this.combo=!1};bi(Nd,Td);var Pd=function(){Nd.call(this),this.combo=!0};bi(Pd,Nd);var ev=function(){Pd.call(this),this.edit=!0};bi(ev,Pd);var Mr=function(){Fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(t){t?this.Ff=Kn(this.Ff,15):this.Ff=Xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(t){t?this.Ff=Kn(this.Ff,16):this.Ff=Xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(t){t?this.Ff=Kn(this.Ff,17):this.Ff=Xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(t){t?this.Ff=Kn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+xc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){hn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};bi(Mr,Fo);var tv=function(){Mr.call(this),this.pushButton=!0};bi(tv,Mr);var Od=function(){Mr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};bi(Od,Mr);var ov=function(){var n,e;Fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+xc(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){hn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bi(ov,Fo),Od.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Od.prototype.createOption=function(n){var e=new ov;return e.Parent=this,e.optionName=n,this.Kids.push(e),kj.call(this.scope,e),e};var nv=function(){Mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};bi(nv,Mr);var Ec=function(){Fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Kn(this.Ff,13):this.Ff=Xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Kn(this.Ff,21):this.Ff=Xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Kn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Kn(this.Ff,24):this.Ff=Xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Kn(this.Ff,25):this.Ff=Xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Kn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bi(Ec,Fo);var rv=function(){Ec.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(n){n?this.Ff=Kn(this.Ff,14):this.Ff=Xn(this.Ff,14)}}),this.password=!0};bi(rv,Ec);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=bs(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=bC(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+St(Ze.internal.getWidth(n))+" "+St(Ze.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+St(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=bs(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=Ze.internal.getHeight(n),s=Ze.internal.getWidth(n),a=bC(n,n.caption);return i.push("1 g"),i.push("0 0 "+St(s)+" "+St(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(s-1)+" "+St(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+St(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=bs(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Ze.internal.getWidth(n))+" "+St(Ze.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ze.RadioButton.Circle.YesNormal,e.D[n]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=bs(n);e.scope=n.scope;var t=[],r=Ze.internal.getWidth(n)<=Ze.internal.getHeight(n)?Ze.internal.getWidth(n)/4:Ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+dl(Ze.internal.getWidth(n)/2)+" "+dl(Ze.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=bs(n);e.scope=n.scope;var t=[],r=Ze.internal.getWidth(n)<=Ze.internal.getHeight(n)?Ze.internal.getWidth(n)/4:Ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ze.internal.Bezier_C).toFixed(5)),s=Number((r*Ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dl(Ze.internal.getWidth(n)/2)+" "+dl(Ze.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+dl(Ze.internal.getWidth(n)/2)+" "+dl(Ze.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=bs(n);e.scope=n.scope;var t=[],r=Ze.internal.getWidth(n)<=Ze.internal.getHeight(n)?Ze.internal.getWidth(n)/4:Ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dl(Ze.internal.getWidth(n)/2)+" "+dl(Ze.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ze.RadioButton.Cross.YesNormal,e.D[n]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=bs(n);e.scope=n.scope;var t=[],r=Ze.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+St(Ze.internal.getWidth(n)-2)+" "+St(Ze.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),t.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),t.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),t.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=bs(n);e.scope=n.scope;var t=Ze.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Ze.internal.getWidth(n))+" "+St(Ze.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+St(Ze.internal.getWidth(n)-2)+" "+St(Ze.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(St(t.x1.x)+" "+St(t.x1.y)+" m"),r.push(St(t.x2.x)+" "+St(t.x2.y)+" l"),r.push(St(t.x4.x)+" "+St(t.x4.y)+" m"),r.push(St(t.x3.x)+" "+St(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=bs(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Ze.internal.getWidth(n))+" "+St(Ze.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ze.internal.getWidth(n),t=Ze.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ze.internal.getWidth=function(n){var e=0;return hn(n)==="object"&&(e=HI(n.Rect[2])),e},Ze.internal.getHeight=function(n){var e=0;return hn(n)==="object"&&(e=HI(n.Rect[3])),e};var kj=Bn.addField=function(n){if(Oj(this,n),!(n instanceof Fo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=Td,Bn.AcroFormListBox=Nd,Bn.AcroFormComboBox=Pd,Bn.AcroFormEditBox=ev,Bn.AcroFormButton=Mr,Bn.AcroFormPushButton=tv,Bn.AcroFormRadioButton=Od,Bn.AcroFormCheckBox=nv,Bn.AcroFormTextField=Ec,Bn.AcroFormPasswordField=rv,Bn.AcroFormAppearance=Ze,Bn.AcroForm={ChoiceField:Td,ListBox:Nd,ComboBox:Pd,EditBox:ev,Button:Mr,PushButton:tv,RadioButton:Od,CheckBox:nv,TextField:Ec,PasswordField:rv,Appearance:Ze},lt.AcroForm={ChoiceField:Td,ListBox:Nd,ComboBox:Pd,EditBox:ev,Button:Mr,PushButton:tv,RadioButton:Od,CheckBox:nv,TextField:Ec,PasswordField:rv,Appearance:Ze};var Fce=lt.AcroForm;function aA(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(T,N){var q,U,de,ce,ve,J=e;if((N=N||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Z(T))for(ve in t)for(de=t[ve],q=0;q<de.length;q+=1){for(ce=!0,U=0;U<de[q].length;U+=1)if(de[q][U]!==void 0&&de[q][U]!==T[U]){ce=!1;break}if(ce===!0){J=ve;break}}else for(ve in t)for(de=t[ve],q=0;q<de.length;q+=1){for(ce=!0,U=0;U<de[q].length;U+=1)if(de[q][U]!==void 0&&de[q][U]!==T.charCodeAt(U)){ce=!1;break}if(ce===!0){J=ve;break}}return J===e&&N!==e&&(J=N),J},i=function T(N){for(var q=this.internal.write,U=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:N.width}),ce.push({key:"Height",value:N.height}),N.colorSpace===C.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===C.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var ve="",J=0,he=N.transparency.length;J<he;J++)ve+=N.transparency[J]+" "+N.transparency[J]+" ";ce.push({key:"Mask",value:"["+ve+"]"})}N.sMask!==void 0&&ce.push({key:"SMask",value:N.objectId+1+" 0 R"});var ge=N.filter!==void 0?["/"+N.filter]:void 0;if(U({data:N.data,additionalKeyValues:ce,alreadyAppliedFilters:ge,objectId:N.objectId}),q("endobj"),"sMask"in N&&N.sMask!==void 0){var ke="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,I={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:ke,data:N.sMask};"filter"in N&&(I.filter=N.filter),T.call(this,I)}if(N.colorSpace===C.INDEXED){var L=this.internal.newObject();U({data:j(new Uint8Array(N.palette)),objectId:L}),q("endobj")}},o=function(){var T=this.internal.collections.addImage_images;for(var N in T)i.call(this,T[N])},s=function(){var T,N=this.internal.collections.addImage_images,q=this.internal.write;for(var U in N)q("/I"+(T=N[U]).index,T.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var T=this.internal.collections.addImage_images;return a.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(T){return typeof n["process"+T.toUpperCase()]=="function"},f=function(T){return hn(T)==="object"&&T.nodeType===1},m=function(T,N){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var q=""+T.getAttribute("src");if(q.indexOf("data:image/")===0)return lp(unescape(q).split("base64,").pop());var U=n.loadFile(q,!0);if(U!==void 0)return U}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var de;switch(N){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return lp(T.toDataURL(de,1).split("base64,").pop())}},p=function(T){var N=this.internal.collections.addImage_images;if(N){for(var q in N)if(T===N[q].alias)return N[q]}},y=function(T,N,q){return T||N||(T=-96,N=-96),T<0&&(T=-1*q.width*72/T/this.internal.scaleFactor),N<0&&(N=-1*q.height*72/N/this.internal.scaleFactor),T===0&&(T=N*q.width/q.height),N===0&&(N=T*q.height/q.width),[T,N]},_=function(T,N,q,U,de,ce){var ve=y.call(this,q,U,de),J=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,ge=l.call(this);if(q=ve[0],U=ve[1],ge[de.index]=de,ce){ce*=Math.PI/180;var ke=Math.cos(ce),I=Math.sin(ce),L=function(W){return W.toFixed(4)},B=[L(ke),L(I),L(-1*I),L(ke),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,J(T),he(N+U),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([J(q),"0","0",J(U),"0","0","cm"].join(" "))):this.internal.write([J(q),"0","0",J(U),J(T),he(N+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=n.__addimage__.sHashCode=function(T){var N,q,U=0;if(typeof T=="string")for(q=T.length,N=0;N<q;N++)U=(U<<5)-U+T.charCodeAt(N),U|=0;else if(Z(T))for(q=T.byteLength/2,N=0;N<q;N++)U=(U<<5)-U+T[N],U|=0;return U},O=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var N=!0;return T.length===0&&(N=!1),T.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(N=!1),N},k=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var N=T.indexOf(",");return N<0?null:T.substring(0,N).trim().endsWith("base64")?T.substring(N+1):null},z=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(T){return z()&&T instanceof ArrayBuffer};var Z=n.__addimage__.isArrayBufferView=function(T){return z()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},H=n.__addimage__.binaryStringToUint8Array=function(T){for(var N=T.length,q=new Uint8Array(N),U=0;U<N;U++)q[U]=T.charCodeAt(U);return q},j=n.__addimage__.arrayBufferToBinaryString=function(T){for(var N="",q=Z(T)?T:new Uint8Array(T),U=0;U<q.length;U+=8192)N+=String.fromCharCode.apply(null,q.subarray(U,U+8192));return N};n.addImage=function(){var T,N,q,U,de,ce,ve,J,he;if(typeof arguments[1]=="number"?(N=e,q=arguments[1],U=arguments[2],de=arguments[3],ce=arguments[4],ve=arguments[5],J=arguments[6],he=arguments[7]):(N=arguments[1],q=arguments[2],U=arguments[3],de=arguments[4],ce=arguments[5],ve=arguments[6],J=arguments[7],he=arguments[8]),hn(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var ge=T;T=ge.imageData,N=ge.format||N||e,q=ge.x||q||0,U=ge.y||U||0,de=ge.w||ge.width||de,ce=ge.h||ge.height||ce,ve=ge.alias||ve,J=ge.compression||J,he=ge.rotation||ge.angle||he}var ke=this.internal.getFilters();if(J===void 0&&ke.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(q)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var I=ne.call(this,T,N,ve,J);return _.call(this,q,U,de,ce,I,he),this};var ne=function(T,N,q,U){var de,ce,ve;if(typeof T=="string"&&r(T)===e){T=unescape(T);var J=se(T,!1);(J!==""||(J=n.loadFile(T,!0))!==void 0)&&(T=J)}if(f(T)&&(T=m(T,N)),N=r(T,N),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ve=q)==null||ve.length===0)&&(q=function(he){return typeof he=="string"||Z(he)?S(he):Z(he.data)?S(he.data):null}(T)),(de=p.call(this,q))||(z()&&(T instanceof Uint8Array||N==="RGBA"||(ce=T,T=H(T))),de=this["process"+N.toUpperCase()](T,c.call(this),q,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in n.image_compression?he:w.NONE}(U),ce)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},se=n.__addimage__.convertBase64ToBinaryString=function(T,N){N=typeof N!="boolean"||N;var q,U="";if(typeof T=="string"){var de;q=(de=k(T))!==null&&de!==void 0?de:T;try{U=lp(q)}catch(ce){if(N)throw O(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};n.getImageProperties=function(T){var N,q,U="";if(f(T)&&(T=m(T)),typeof T=="string"&&r(T)===e&&((U=se(T,!1))===""&&(U=n.loadFile(T)||""),T=U),q=r(T),!d(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(!z()||T instanceof Uint8Array||(T=H(T)),!(N=this["process"+q.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=q,N}})(lt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};lt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),S=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(w(S))+") >>",_.content=o;var O=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+O,r.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Z=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Z+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(t,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(t,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(lt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(_){var C=0,w=t,S="",O=0;for(C=0;C<_.length;C+=1)w[_.charCodeAt(C)]!==void 0?(O++,typeof(w=w[_.charCodeAt(C)])=="number"&&(S+=String.fromCharCode(w),w=t,O=0),C===_.length-1&&(w=t,S+=_.charAt(C-(O-1)),C-=O-1,O=0)):(w=t,S+=_.charAt(C-O),C-=O,O=0);return S};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var m=n.__arabicParser__.getCorrectForm=function(_,C,w){return s(_)?o(_)===!1?-1:!c(_)||!s(C)&&!s(w)||!s(w)&&a(C)||a(_)&&!s(C)||a(_)&&l(C)||a(_)&&a(C)?0:d(_)&&s(C)&&!a(C)&&s(w)&&c(w)?3:a(_)||!s(w)?1:2:-1},p=function(_){var C=0,w=0,S=0,O="",k="",z="",Z=(_=_||"").split("\\s+"),H=[];for(C=0;C<Z.length;C+=1){for(H.push(""),w=0;w<Z[C].length;w+=1)O=Z[C][w],k=Z[C][w-1],z=Z[C][w+1],s(O)?(S=m(O,k,z),H[C]+=S!==-1?String.fromCharCode(e[O.charCodeAt(0)][S]):O):H[C]+=O;H[C]=f(H[C])}return H.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(C)){var S=0;for(w=[],S=0;S<C.length;S+=1)Array.isArray(C[S])?w.push([p(C[S][0]),C[S][1],C[S][2]]):w.push([p(C[S])]);_=w}else _=p(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",y])}(lt.API),lt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(lt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(_){y=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,_=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(O,k){return O.concat(C.splitTextToSize(k,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)p<(_=this.getStringUnitWidth(l[S],{font:f})*d)&&(p=_);return p!==0&&(y=l.length),{w:p/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,d,f,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,y,_,C,w=[],S=[],O=[],k={},z={},Z=[],H=[],j=(m=m||{}).autoSize||!1,ne=m.printHeaders!==!1,se=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,T=m.margins||Object.assign({width:this.getPageWidth()},e),N=typeof m.padding=="number"?m.padding:3,q=m.headerBackgroundColor||"#c8c8c8",U=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=ne,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=U,this.setFontSize(se),f==null)S=w=Object.keys(d[0]),O=w.map(function(){return"left"});else if(Array.isArray(f)&&hn(f[0])==="object")for(w=f.map(function(ge){return ge.name}),S=f.map(function(ge){return ge.prompt||ge.name||""}),O=f.map(function(ge){return ge.align||"left"}),p=0;p<f.length;p+=1)z[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(S=w=f,O=w.map(function(){return"left"}));if(j||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(k[C=w[p]]=d.map(function(ge){return ge[C]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(S[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[C],this.setFont(void 0,"normal"),_=0;_<y.length;_+=1)Z.push(this.getTextDimensions(y[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[C]=Math.max.apply(null,Z)+N+N,Z=[]}if(ne){var de={};for(p=0;p<w.length;p+=1)de[w[p]]={},de[w[p]].text=S[p],de[w[p]].align=O[p];var ce=a.call(this,de,z);H=w.map(function(ge){return new o(l,c,z[ge],ce,de[ge].text,void 0,de[ge].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ve=f.reduce(function(ge,ke){return ge[ke.name]=ke.align,ge},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var J=a.call(this,d[p],z);for(_=0;_<w.length;_+=1){var he=d[p][w[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:_,data:he},this),s.call(this,new o(l,c,z[w[_]],J,he,p+2,ve[w[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}}(lt.API);var lA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_C=aA(cA),uA=[100,200,300,400,500,600,700,800,900],Rj=aA(uA);function wC(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return lA[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof _C[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function zI(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Lj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},qI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function GI(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Fj(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Lj,t.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=wC(e[a])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){s=n[o.family];break}if(!(s=s||n[r]))throw new Error("Could not find a font-family for the rule '"+GI(o)+"' and default family '"+r+"'.");if(s=function(l,c){if(c[l])return c[l];var d=_C[l],f=d<=_C.normal?-1:1,m=zI(c,cA,d,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var d=lA[l],f=0;f<d.length;++f)if(c[d[f]])return c[d[f]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=Rj[l],f=zI(c,uA,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+GI(o)+"'.");return s}function $I(n){return n.trimLeft()}function jj(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Bj(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Z1,WI,YI,pC=["times"];(function(n){var e,t,r,i,o,s,a,l,c,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=I;Object.defineProperty(this,"pdf",{get:function(){return L}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(_e){B=!!_e}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(_e){W=!!_e}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(_e){isNaN(_e)||(te=_e)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(_e){isNaN(_e)||(ue=_e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(_e){var V;typeof _e=="number"?V=[_e,_e,_e,_e]:((V=new Array(4))[0]=_e[0],V[1]=_e.length>=2?_e[1]:V[0],V[2]=_e.length>=3?_e[2]:V[0],V[3]=_e.length>=4?_e[3]:V[1]),c.margin=V}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(_e){fe=_e}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(_e){pe=_e}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(_e){Oe=_e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(_e){_e instanceof d&&(c=_e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(_e){c.path=_e}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(_e){Pe=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var V;V=m(_e),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var V=m(_e);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Ue=null;function je(_e,V){if(Ue===null){var It=function(et){var Ne=[];return Object.keys(et).forEach(function(Le){et[Le].forEach(function(He){var Ve=null;switch(He){case"bold":Ve={family:Le,weight:"bold"};break;case"italic":Ve={family:Le,style:"italic"};break;case"bolditalic":Ve={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:Le}}Ve!==null&&(Ve.ref={name:Le,style:He},Ne.push(Ve))})}),Ne}(_e.getFontList());Ue=function(et){for(var Ne={},Le=0;Le<et.length;++Le){var He=wC(et[Le]),Ve=He.family,it=He.stretch,Ct=He.style,Pt=He.weight;Ne[Ve]=Ne[Ve]||{},Ne[Ve][it]=Ne[Ve][it]||{},Ne[Ve][it][Ct]=Ne[Ve][it][Ct]||{},Ne[Ve][it][Ct][Pt]=He}return Ne}(It.concat(V))}return Ue}var dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(_e){Ue=null,dt=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var V;if(this.ctx.font=_e,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var It=V[1];V[2];var et=V[3],Ne=V[4];V[5];var Le=V[6],He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(He==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Ve=function(gt){var Vt,ze,jr=[],Zt=gt.trim();if(Zt==="")return pC;if(Zt in qI)return[qI[Zt]];for(;Zt!=="";){switch(ze=null,Vt=(Zt=$I(Zt)).charAt(0)){case'"':case"'":ze=jj(Zt.substring(1),Vt);break;default:ze=Bj(Zt)}if(ze===null||(jr.push(ze[0]),(Zt=$I(ze[1]))!==""&&Zt.charAt(0)!==","))return pC;Zt=Zt.replace(/^,/,"")}return jr}(Le);if(this.fontFaces){var it=Fj(je(this.pdf,this.fontFaces),Ve.map(function(gt){return{family:gt,stretch:"normal",weight:et,style:It}}));this.pdf.setFont(it.ref.name,it.ref.style)}else{var Ct="";(et==="bold"||parseInt(et,10)>=700||It==="bold")&&(Ct="bold"),It==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Pt="",jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Kt=0;Kt<Ve.length;Kt++){if(this.pdf.internal.getFont(Ve[Kt],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Pt=Ve[Kt];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(Ve[Kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=Ve[Kt],Ct="bold";else if(this.pdf.internal.getFont(Ve[Kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=Ve[Kt],Ct="normal";break}}if(Pt===""){for(var un=0;un<Ve.length;un++)if(jt[Ve[un]]){Pt=jt[Ve[un]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,ke.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,ke.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,L){if(isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(I,L));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(I,L)},f.prototype.closePath=function(){var I=new s(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&hn(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){I=new s(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},f.prototype.lineTo=function(I,L){if(isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(I,L));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,L,B,W){if(isNaN(B)||isNaN(W)||isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new s(B,W)),ue=this.ctx.transform.applyToPoint(new s(I,L));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},f.prototype.bezierCurveTo=function(I,L,B,W,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(I)||isNaN(L)||isNaN(B)||isNaN(W))throw vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(te,ue)),pe=this.ctx.transform.applyToPoint(new s(I,L)),Oe=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Oe.x,y2:Oe.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},f.prototype.arc=function(I,L,B,W,te,ue){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN(W)||isNaN(te))throw vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s(I,L));I=fe.x,L=fe.y;var pe=this.ctx.transform.applyToPoint(new s(0,B)),Oe=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(pe.x-Oe.x,2)+Math.pow(pe.y-Oe.y,2))}Math.abs(te-W)>=2*Math.PI&&(W=0,te=2*Math.PI),this.path.push({type:"arc",x:I,y:L,radius:B,startAngle:W,endAngle:te,counterclockwise:ue})},f.prototype.arcTo=function(I,L,B,W,te){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,L,B,W){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN(W))throw vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,L),this.lineTo(I+B,L),this.lineTo(I+B,L+W),this.lineTo(I,L+W),this.lineTo(I,L),this.lineTo(I+B,L),this.lineTo(I,L)},f.prototype.fillRect=function(I,L,B,W){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN(W))throw vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,L,B,W),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},f.prototype.strokeRect=function(I,L,B,W){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN(W))throw vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(I,L,B,W),this.stroke())},f.prototype.clearRect=function(I,L,B,W){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN(W))throw vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,L,B,W))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(L),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var L,B,W,te;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))L=0,B=0,W=0,te=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ue!==null)L=parseInt(ue[1]),B=parseInt(ue[2]),W=parseInt(ue[3]),te=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)L=parseInt(ue[1]),B=parseInt(ue[2]),W=parseInt(ue[3]),te=parseFloat(ue[4]);else{if(te=1,typeof I=="string"&&I.charAt(0)!=="#"){var fe=new tA(I);I=fe.ok?fe.toHex():"#000000"}I.length===4?(L=I.substring(1,2),L+=L,B=I.substring(2,3),B+=B,W=I.substring(3,4),W+=W):(L=I.substring(1,3),B=I.substring(3,5),W=I.substring(5,7)),L=parseInt(L,16),B=parseInt(B,16),W=parseInt(W,16)}}return{r:L,g:B,b:W,a:te,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,L,B,W){if(isNaN(L)||isNaN(B)||typeof I!="string")throw vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!p.call(this)){var te=J(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;N.call(this,{text:I,x:L,y:B,scale:ue,angle:te,align:this.textAlign,maxWidth:W})}},f.prototype.strokeText=function(I,L,B,W){if(isNaN(L)||isNaN(B)||typeof I!="string")throw vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){W=isNaN(W)?void 0:W;var te=J(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;N.call(this,{text:I,x:L,y:B,scale:ue,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:W})}},f.prototype.measureText=function(I){if(typeof I!="string")throw vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,B=this.pdf.internal.scaleFactor,W=L.internal.getFontSize(),te=L.getStringUnitWidth(I)*W/L.internal.scaleFactor,ue=function(fe){var pe=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new ue({width:te*=Math.round(96*B/72*1e4)/1e4})},f.prototype.scale=function(I,L){if(isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new l(I,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.rotate=function(I){if(isNaN(I))throw vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},f.prototype.translate=function(I,L){if(isNaN(I)||isNaN(L))throw vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new l(1,0,0,1,I,L);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.transform=function(I,L,B,W,te,ue){if(isNaN(I)||isNaN(L)||isNaN(B)||isNaN(W)||isNaN(te)||isNaN(ue))throw vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(I,L,B,W,te,ue);this.ctx.transform=this.ctx.transform.multiply(fe)},f.prototype.setTransform=function(I,L,B,W,te,ue){I=isNaN(I)?1:I,L=isNaN(L)?0:L,B=isNaN(B)?0:B,W=isNaN(W)?1:W,te=isNaN(te)?0:te,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(I,L,B,W,te,ue)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,L,B,W,te,ue,fe,pe,Oe){var Pe=this.pdf.getImageProperties(I),Ue=1,je=1,dt=1,_e=1;W!==void 0&&pe!==void 0&&(dt=pe/W,_e=Oe/te,Ue=Pe.width/W*pe/W,je=Pe.height/te*Oe/te),ue===void 0&&(ue=L,fe=B,L=0,B=0),W!==void 0&&pe===void 0&&(pe=W,Oe=te),W===void 0&&pe===void 0&&(pe=Pe.width,Oe=Pe.height);for(var V,It=this.ctx.transform.decompose(),et=J(It.rotate.shx),Ne=new l,Le=(Ne=(Ne=(Ne=Ne.multiply(It.translate)).multiply(It.skew)).multiply(It.scale)).applyToRectangle(new a(ue-L*dt,fe-B*_e,W*Ue,te*je)),He=C.call(this,Le),Ve=[],it=0;it<He.length;it+=1)Ve.indexOf(He[it])===-1&&Ve.push(He[it]);if(O(Ve),this.autoPaging)for(var Ct=Ve[0],Pt=Ve[Ve.length-1],jt=Ct;jt<Pt+1;jt++){this.pdf.setPage(jt);var Kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],un=jt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=jt===1?0:gt+(jt-2)*Vt;if(this.ctx.clip_path.length!==0){var jr=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(V,this.posX+this.margin[3],-ze+un+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=jr}var Zt=JSON.parse(JSON.stringify(Le));Zt=S([Zt],this.posX+this.margin[3],-ze+un+this.ctx.prevPageLastElemOffset)[0];var co=(jt>Ct||jt<Pt)&&_.call(this);co&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Vt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,et),co&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,et)};var C=function(I,L,B){var W=[];L=L||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":W.push(Math.floor((I.y+te)/B)+1);break;case"arc":W.push(Math.floor((I.y+te-I.radius)/B)+1),W.push(Math.floor((I.y+te+I.radius)/B)+1);break;case"qct":var ue=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);W.push(Math.floor((ue.y+te)/B)+1),W.push(Math.floor((ue.y+ue.h+te)/B)+1);break;case"bct":var fe=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);W.push(Math.floor((fe.y+te)/B)+1),W.push(Math.floor((fe.y+fe.h+te)/B)+1);break;case"rect":W.push(Math.floor((I.y+te)/B)+1),W.push(Math.floor((I.y+I.h+te)/B)+1)}for(var pe=0;pe<W.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<W[pe];)w.call(this);return W},w=function(){var I=this.fillStyle,L=this.strokeStyle,B=this.font,W=this.lineCap,te=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=L,this.font=B,this.lineCap=W,this.lineWidth=te,this.lineJoin=ue},S=function(I,L,B){for(var W=0;W<I.length;W++)switch(I[W].type){case"bct":I[W].x2+=L,I[W].y2+=B;case"qct":I[W].x1+=L,I[W].y1+=B;case"mt":case"lt":case"arc":default:I[W].x+=L,I[W].y+=B}return I},O=function(I){return I.sort(function(L,B){return L-B})},k=function(I,L){for(var B,W,te=this.fillStyle,ue=this.strokeStyle,fe=this.lineCap,pe=this.lineWidth,Oe=Math.abs(pe*this.ctx.transform.scaleX),Pe=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),dt=[],_e=0;_e<je.length;_e++)if(je[_e].x!==void 0)for(var V=C.call(this,je[_e]),It=0;It<V.length;It+=1)dt.indexOf(V[It])===-1&&dt.push(V[It]);for(var et=0;et<dt.length;et++)for(;this.pdf.internal.getNumberOfPages()<dt[et];)w.call(this);if(O(dt),this.autoPaging)for(var Ne=dt[0],Le=dt[dt.length-1],He=Ne;He<Le+1;He++){this.pdf.setPage(He),this.fillStyle=te,this.strokeStyle=ue,this.lineCap=fe,this.lineWidth=Oe,this.lineJoin=Pe;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=He===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=He===1?0:Ct+(He-2)*Pt;if(this.ctx.clip_path.length!==0){var Kt=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(B,this.posX+this.margin[3],-jt+it+this.ctx.prevPageLastElemOffset),z.call(this,I,!0),this.path=Kt}if(W=JSON.parse(JSON.stringify(Ue)),this.path=S(W,this.posX+this.margin[3],-jt+it+this.ctx.prevPageLastElemOffset),L===!1||He===0){var un=(He>Ne||He<Le)&&_.call(this);un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Pt,null).clip().discardPath()),z.call(this,I,L),un&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Oe,z.call(this,I,L),this.lineWidth=pe;this.path=Ue},z=function(I,L){if((I!=="stroke"||L||!y.call(this))&&(I==="stroke"||L||!p.call(this))){for(var B,W,te=[],ue=this.path,fe=0;fe<ue.length;fe++){var pe=ue[fe];switch(pe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:pe,deltas:[],abs:[]});break;case"lt":var Oe=te.length;if(ue[fe-1]&&!isNaN(ue[fe-1].x)&&(B=[pe.x-ue[fe-1].x,pe.y-ue[fe-1].y],Oe>0)){for(;Oe>=0;Oe--)if(te[Oe-1].close!==!0&&te[Oe-1].begin!==!0){te[Oe-1].deltas.push(B),te[Oe-1].abs.push(pe);break}}break;case"bct":B=[pe.x1-ue[fe-1].x,pe.y1-ue[fe-1].y,pe.x2-ue[fe-1].x,pe.y2-ue[fe-1].y,pe.x-ue[fe-1].x,pe.y-ue[fe-1].y],te[te.length-1].deltas.push(B);break;case"qct":var Pe=ue[fe-1].x+2/3*(pe.x1-ue[fe-1].x),Ue=ue[fe-1].y+2/3*(pe.y1-ue[fe-1].y),je=pe.x+2/3*(pe.x1-pe.x),dt=pe.y+2/3*(pe.y1-pe.y),_e=pe.x,V=pe.y;B=[Pe-ue[fe-1].x,Ue-ue[fe-1].y,je-ue[fe-1].x,dt-ue[fe-1].y,_e-ue[fe-1].x,V-ue[fe-1].y],te[te.length-1].deltas.push(B);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(pe)}}W=L?null:I==="stroke"?"stroke":"fill";for(var It=!1,et=0;et<te.length;et++)if(te[et].arc)for(var Ne=te[et].abs,Le=0;Le<Ne.length;Le++){var He=Ne[Le];He.type==="arc"?j.call(this,He.x,He.y,He.radius,He.startAngle,He.endAngle,He.counterclockwise,void 0,L,!It):q.call(this,He.x,He.y),It=!0}else if(te[et].close===!0)this.pdf.internal.out("h"),It=!1;else if(te[et].begin!==!0){var Ve=te[et].start.x,it=te[et].start.y;U.call(this,te[et].deltas,Ve,it),It=!0}W&&ne.call(this,W),L&&se.call(this)}},Z=function(I){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-B;case"top":return I+L-B;case"hanging":return I+L-2*B;case"middle":return I+L/2-B;case"ideographic":return I;case"alphabetic":default:return I}},H=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(L,B){this.colorStops.push([L,B])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(I,L,B,W,te,ue,fe,pe,Oe){for(var Pe=ce.call(this,B,W,te,ue),Ue=0;Ue<Pe.length;Ue++){var je=Pe[Ue];Ue===0&&(Oe?T.call(this,je.x1+I,je.y1+L):q.call(this,je.x1+I,je.y1+L)),de.call(this,I,L,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}pe?se.call(this):ne.call(this,fe)},ne=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(I,L){this.pdf.internal.out(t(I)+" "+r(L)+" m")},N=function(I){var L;switch(I.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var B=this.pdf.getTextDimensions(I.text),W=Z.call(this,I.y),te=H.call(this,W)-B.h,ue=this.ctx.transform.applyToPoint(new s(I.x,W)),fe=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var Oe,Pe,Ue,je=this.ctx.transform.applyToRectangle(new a(I.x,W,B.w,B.h)),dt=pe.applyToRectangle(new a(I.x,te,B.w,B.h)),_e=C.call(this,dt),V=[],It=0;It<_e.length;It+=1)V.indexOf(_e[It])===-1&&V.push(_e[It]);if(O(V),this.autoPaging)for(var et=V[0],Ne=V[V.length-1],Le=et;Le<Ne+1;Le++){this.pdf.setPage(Le);var He=Le===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],Ct=it-this.margin[0],Pt=this.pdf.internal.pageSize.width-this.margin[1],jt=Pt-this.margin[3],Kt=Le===1?0:Ve+(Le-2)*Ct;if(this.ctx.clip_path.length!==0){var un=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Oe,this.posX+this.margin[3],-1*Kt+He),z.call(this,"fill",!0),this.path=un}var gt=S([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-Kt+He+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*I.scale),Ue=this.lineWidth,this.lineWidth=Ue*I.scale);var Vt=this.autoPaging!=="text";if(Vt||gt.y+gt.h<=it){if(Vt||gt.y>=He&&gt.x<=Pt){var ze=Vt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Pt-gt.x)[0],jr=S([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Kt+He+this.ctx.prevPageLastElemOffset)[0],Zt=Vt&&(Le>et||Le<Ne)&&_.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Ct,null).clip().discardPath()),this.pdf.text(ze,jr.x,jr.y,{angle:I.angle,align:L,renderingMode:I.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else gt.y<it&&(this.ctx.prevPageLastElemOffset+=it-gt.y);I.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Ue)}else I.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*I.scale),Ue=this.lineWidth,this.lineWidth=Ue*I.scale),this.pdf.text(I.text,ue.x+this.posX,ue.y+this.posY,{angle:I.angle,align:L,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Ue)},q=function(I,L,B,W){B=B||0,W=W||0,this.pdf.internal.out(t(I+B)+" "+r(L+W)+" l")},U=function(I,L,B){return this.pdf.lines(I,L,B,null,null)},de=function(I,L,B,W,te,ue,fe,pe){this.pdf.internal.out([e(i(B+I)),e(o(W+L)),e(i(te+I)),e(o(ue+L)),e(i(fe+I)),e(o(pe+L)),"c"].join(" "))},ce=function(I,L,B,W){for(var te=2*Math.PI,ue=Math.PI/2;L>B;)L-=te;var fe=Math.abs(B-L);fe<te&&W&&(fe=te-fe);for(var pe=[],Oe=W?-1:1,Pe=L;fe>1e-5;){var Ue=Pe+Oe*Math.min(fe,ue);pe.push(ve.call(this,I,Pe,Ue)),fe-=Math.abs(Ue-Pe),Pe=Ue}return pe},ve=function(I,L,B){var W=(B-L)/2,te=I*Math.cos(W),ue=I*Math.sin(W),fe=te,pe=-ue,Oe=fe*fe+pe*pe,Pe=Oe+fe*te+pe*ue,Ue=4/3*(Math.sqrt(2*Oe*Pe)-Pe)/(fe*ue-pe*te),je=fe-Ue*pe,dt=pe+Ue*fe,_e=je,V=-dt,It=W+L,et=Math.cos(It),Ne=Math.sin(It);return{x1:I*Math.cos(L),y1:I*Math.sin(L),x2:je*et-dt*Ne,y2:je*Ne+dt*et,x3:_e*et-V*Ne,y3:_e*Ne+V*et,x4:I*Math.cos(B),y4:I*Math.sin(B)}},J=function(I){return 180*I/Math.PI},he=function(I,L,B,W,te,ue){var fe=I+.5*(B-I),pe=L+.5*(W-L),Oe=te+.5*(B-te),Pe=ue+.5*(W-ue),Ue=Math.min(I,te,fe,Oe),je=Math.max(I,te,fe,Oe),dt=Math.min(L,ue,pe,Pe),_e=Math.max(L,ue,pe,Pe);return new a(Ue,dt,je-Ue,_e-dt)},ge=function(I,L,B,W,te,ue,fe,pe){var Oe,Pe,Ue,je,dt,_e,V,It,et,Ne,Le,He,Ve,it,Ct=B-I,Pt=W-L,jt=te-B,Kt=ue-W,un=fe-te,gt=pe-ue;for(Pe=0;Pe<41;Pe++)et=(V=(Ue=I+(Oe=Pe/40)*Ct)+Oe*((dt=B+Oe*jt)-Ue))+Oe*(dt+Oe*(te+Oe*un-dt)-V),Ne=(It=(je=L+Oe*Pt)+Oe*((_e=W+Oe*Kt)-je))+Oe*(_e+Oe*(ue+Oe*gt-_e)-It),Pe==0?(Le=et,He=Ne,Ve=et,it=Ne):(Le=Math.min(Le,et),He=Math.min(He,Ne),Ve=Math.max(Ve,et),it=Math.max(it,Ne));return new a(Math.round(Le),Math.round(He),Math.round(Ve-Le),Math.round(it-He))},ke=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,L,B=(I=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:L}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(lt.API),function(n){var e=function(o){var s,a,l,c,d,f,m,p,y,_;for(/[^\x00-\xFF]/.test(o),a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(_=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)%85,a.push(f+33,m+33,p+33,y+33,_+33)):a.push(122);return function(C,w){for(var S=w;S>0;S--)C.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},t=function(o){var s,a,l,c,d,f=String,m="length",p=255,y="charCodeAt",_="slice",C="replace";for(o[_](-2),o=o[_](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],c=0,d=(o+=s="uuuuu"[_](o[m]%5||5))[m];d>c;c+=5)a=52200625*(o[y](c)-33)+614125*(o[y](c+1)-33)+7225*(o[y](c+2)-33)+85*(o[y](c+3)-33)+(o[y](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,S){for(var O=S;O>0;O--)w.pop()}(l,s[m]),f.fromCharCode.apply(f,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=K1(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(lt.API),function(n){n.loadFile=function(e,t,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var f=new XMLHttpRequest,m=0,p=function(y){var _=y.length,C=[],w=String.fromCharCode;for(m=0;m<_;m+=1)C.push(w(255&y.charCodeAt(m)));return C.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,o,s)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(lt.API),function(n){function e(){return(ft.html2canvas?Promise.resolve(ft.html2canvas):import("./chunk-SOQBCYLK.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(ft.DOMPurify?Promise.resolve(ft.DOMPurify):import("./chunk-47BTRKO7.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=hn(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var p=c[m],y=p.src.find(function(_){return _.format==="truetype"});y&&l.addFont(y.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,d).then(function(f){return l.updateProgress(1),f})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(c,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,lt.getPageSize=function(s,a,l){if(hn(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var p,y=0,_=0;if(m.hasOwnProperty(f))y=m[f][1]/d,_=m[f][0]/d;else try{y=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",_>y&&(p=_,_=y,y=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>_&&(p=_,_=y,y=p)}return{width:_,height:y,unit:a,k:d,orientation:s}},n.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(wC):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(lt.API),lt.API.addJS=function(n){return YI=n,this.internal.events.subscribe("postPutResources",function(){Z1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Z1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+YI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Z1!==void 0&&WI!==void 0&&this.internal.out("/Names <</JavaScript "+Z1+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var f=t.internal.newObject();d.push(f);var m=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<d.length;o++)t.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(lt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,_={width:0,height:0,numcomponents:1},C=4;C<y;C+=2){if(C+=p,e.indexOf(f.charCodeAt(C+1))!==-1){m=256*f.charCodeAt(C+5)+f.charCodeAt(C+6),_={width:256*f.charCodeAt(C+7)+f.charCodeAt(C+8),height:m,numcomponents:f.charCodeAt(C+9)};break}p=256*f.charCodeAt(C+2)+f.charCodeAt(C+3)}return _}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(lt.API);var Dd,Q1,KI,XI,JI,Vj=function(){var n,e,t;function r(o){var s,a,l,c,d,f,m,p,y,_,C,w,S,O;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),y=(function(){var k,z;for(z=[],k=0;k<4;++k)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*d/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),o=f?.data||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(S=0;0<=_?S<_:S>_;0<=_?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":m=(C=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,C.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,C.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(f,m,p,y){var _,C,w,S,O,k,z,Z,H,j,ne,se,T,N,q,U,de,ce,ve,J,he,ge=Math.ceil((c.width-f)/p),ke=Math.ceil((c.height-m)/y),I=c.width==ge&&c.height==ke;for(N=s*ge,se=I?a:new Uint8Array(N*ke),k=o.length,T=0,C=0;T<ke&&l<k;){switch(o[l++]){case 0:for(S=de=0;de<N;S=de+=1)se[C++]=o[l++];break;case 1:for(S=ce=0;ce<N;S=ce+=1)_=o[l++],O=S<s?0:se[C-s],se[C++]=(_+O)%256;break;case 2:for(S=ve=0;ve<N;S=ve+=1)_=o[l++],w=(S-S%s)/s,q=T&&se[(T-1)*N+w*s+S%s],se[C++]=(q+_)%256;break;case 3:for(S=J=0;J<N;S=J+=1)_=o[l++],w=(S-S%s)/s,O=S<s?0:se[C-s],q=T&&se[(T-1)*N+w*s+S%s],se[C++]=(_+Math.floor((O+q)/2))%256;break;case 4:for(S=he=0;he<N;S=he+=1)_=o[l++],w=(S-S%s)/s,O=S<s?0:se[C-s],T===0?q=U=0:(q=se[(T-1)*N+w*s+S%s],U=w&&se[(T-1)*N+(w-1)*s+S%s]),z=O+q-U,Z=Math.abs(z-O),j=Math.abs(z-q),ne=Math.abs(z-U),H=Z<=j&&Z<=ne?O:j<=ne?q:U,se[C++]=(_+H)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!I){var L=((m+T*y)*c.width+f)*s,B=T*N;for(S=0;S<ge;S+=1){for(var W=0;W<s;W+=1)a[L++]=se[B++];L+=(p-1)*s}}T++}}return o=FI(o),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,c,d,f,m,p;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=f=0,m=a.length;f<m;s=f+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(p=d[o++])!=null?p:255;return c},r.prototype.copyToImageData=function(o,s){var a,l,c,d,f,m,p,y,_,C,w;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),y=(c=o.data||o).length,f=_||s,d=m=0,l===1)for(;d<y;)p=_?4*s[d/4]:m,C=f[p++],c[d++]=C,c[d++]=C,c[d++]=C,c[d++]=a?f[p++]:255,m=p;else for(;d<y;)p=_?4*s[d/4]:m,c[d++]=f[p++],c[d++]=f[p++],c[d++]=f[p++],c[d++]=a?f[p++]:255,m=p},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(ft)==="[object Window]"){try{e=ft.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var s;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,c,d,f,m,p;if(this.animation){for(p=[],a=d=0,f=(m=this.animation.frames).length;d<f;a=++d)s=m[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=n(l));return p}},r.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,c,d,f,m=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,d=f.numPlays,(s=function(){var p,y;if(p=a++%c,y=l[p],m.renderFrame(o,p),c>1&&a/c<d)return m.animation._timeout=setTimeout(s,y.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();function Uj(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,s=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,d=[],f=0,m=null,p=0,y=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];f=n[e++]|n[e++]<<8,m=n[e++],(1&_)==0&&(m=null),p=_>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var C=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,k=n[e++],z=k>>6&1,Z=1<<(7&k)+1,H=a,j=l,ne=!1;k>>7&&(ne=!0,H=e,j=Z,e+=3*Z);var se=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}d.push({x:C,y:w,width:S,height:O,has_local_palette:ne,palette_offset:H,palette_size:j,data_offset:se,data_length:e-se,transparent_index:m,interlaced:!!z,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(N){if(N<0||N>=d.length)throw new Error("Frame index out of range.");return d[N]},this.decodeAndBlitFrameBGRA=function(N,q){var U=this.frameInfo(N),de=U.width*U.height,ce=new Uint8Array(de);ZI(n,U.data_offset,ce,de);var ve=U.palette_offset,J=U.transparent_index;J===null&&(J=256);var he=U.width,ge=t-he,ke=he,I=4*(U.y*t+U.x),L=4*((U.y+U.height)*t+U.x),B=I,W=4*ge;U.interlaced===!0&&(W+=4*t*7);for(var te=8,ue=0,fe=ce.length;ue<fe;++ue){var pe=ce[ue];if(ke===0&&(ke=he,(B+=W)>=L&&(W=4*ge+4*t*(te-1),B=I+(he+ge)*(te<<1),te>>=1)),pe===J)B+=4;else{var Oe=n[ve+3*pe],Pe=n[ve+3*pe+1],Ue=n[ve+3*pe+2];q[B++]=Ue,q[B++]=Pe,q[B++]=Oe,q[B++]=255}--ke}},this.decodeAndBlitFrameRGBA=function(N,q){var U=this.frameInfo(N),de=U.width*U.height,ce=new Uint8Array(de);ZI(n,U.data_offset,ce,de);var ve=U.palette_offset,J=U.transparent_index;J===null&&(J=256);var he=U.width,ge=t-he,ke=he,I=4*(U.y*t+U.x),L=4*((U.y+U.height)*t+U.x),B=I,W=4*ge;U.interlaced===!0&&(W+=4*t*7);for(var te=8,ue=0,fe=ce.length;ue<fe;++ue){var pe=ce[ue];if(ke===0&&(ke=he,(B+=W)>=L&&(W=4*ge+4*t*(te-1),B=I+(he+ge)*(te<<1),te>>=1)),pe===J)B+=4;else{var Oe=n[ve+3*pe],Pe=n[ve+3*pe+1],Ue=n[ve+3*pe+2];q[B++]=Oe,q[B++]=Pe,q[B++]=Ue,q[B++]=255}--ke}}}function ZI(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,d=0,f=0,m=0,p=n[e++],y=new Int32Array(4096),_=null;;){for(;d<16&&p!==0;)f|=n[e++]<<d,d+=8,p===1?p=n[e++]:--p;if(d<l)break;var C=f&c;if(f>>=l,d-=l,C!==o){if(C===s)break;for(var w=C<a?C:_,S=0,O=w;O>o;)O=y[O]>>8,++S;var k=O;if(m+S+(w!==C?1:0)>r)return void vn.log("Warning, gif stream longer than expected.");t[m++]=k;var z=m+=S;for(w!==C&&(t[m++]=k),O=w;S--;)O=y[O],t[--z]=255&O,O>>=8;_!==null&&a<4096&&(y[a++]=_<<8|k,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=C}else a=s+1,c=(1<<(l=i+1))-1,_=null}return m!==r&&vn.log("Warning, gif stream shorter than expected."),t}function gC(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),y=new Array(64),_=[],C=0,w=7,S=new Array(64),O=new Array(64),k=new Array(64),z=new Array(256),Z=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(I,L){for(var B=0,W=0,te=new Array,ue=1;ue<=16;ue++){for(var fe=1;fe<=I[ue];fe++)te[L[W]]=[],te[L[W]][0]=B,te[L[W]][1]=ue,W++,B++;B*=2}return te}function ve(I){for(var L=I[0],B=I[1]-1;B>=0;)L&1<<B&&(C|=1<<w),B--,--w<0&&(C==255?(J(255),J(0)):J(C),w=7,C=0)}function J(I){_.push(I)}function he(I){J(I>>8&255),J(255&I)}function ge(I,L,B,W,te){for(var ue,fe=te[0],pe=te[240],Oe=function(Ne,Le){var He,Ve,it,Ct,Pt,jt,Kt,un,gt,Vt,ze=0;for(gt=0;gt<8;++gt){He=Ne[ze],Ve=Ne[ze+1],it=Ne[ze+2],Ct=Ne[ze+3],Pt=Ne[ze+4],jt=Ne[ze+5],Kt=Ne[ze+6];var jr=He+(un=Ne[ze+7]),Zt=He-un,co=Ve+Kt,gn=Ve-Kt,Dn=it+jt,qo=it-jt,rn=Ct+Pt,xl=Ct-Pt,On=jr+rn,uo=jr-rn,Os=co+Dn,kn=co-Dn;Ne[ze]=On+Os,Ne[ze+4]=On-Os;var Et=.707106781*(kn+uo);Ne[ze+2]=uo+Et,Ne[ze+6]=uo-Et;var on=.382683433*((On=xl+qo)-(kn=gn+Zt)),Sl=.5411961*On+on,Nr=1.306562965*kn+on,Go=.707106781*(Os=qo+gn),$o=Zt+Go,ct=Zt-Go;Ne[ze+5]=ct+Sl,Ne[ze+3]=ct-Sl,Ne[ze+1]=$o+Nr,Ne[ze+7]=$o-Nr,ze+=8}for(ze=0,gt=0;gt<8;++gt){He=Ne[ze],Ve=Ne[ze+8],it=Ne[ze+16],Ct=Ne[ze+24],Pt=Ne[ze+32],jt=Ne[ze+40],Kt=Ne[ze+48];var ho=He+(un=Ne[ze+56]),Wo=He-un,ai=Ve+Kt,ur=Ve-Kt,er=it+jt,wi=it-jt,Gc=Ct+Pt,ks=Ct-Pt,fo=ho+Gc,po=ho-Gc,go=ai+er,Yo=ai-er;Ne[ze]=fo+go,Ne[ze+32]=fo-go;var Fi=.707106781*(Yo+po);Ne[ze+16]=po+Fi,Ne[ze+48]=po-Fi;var Ko=.382683433*((fo=ks+wi)-(Yo=ur+Wo)),Dl=.5411961*fo+Ko,$c=1.306562965*Yo+Ko,Wc=.707106781*(go=wi+ur),Yc=Wo+Wc,Kc=Wo-Wc;Ne[ze+40]=Kc+Dl,Ne[ze+24]=Kc-Dl,Ne[ze+8]=Yc+$c,Ne[ze+56]=Yc-$c,ze++}for(gt=0;gt<64;++gt)Vt=Ne[gt]*Le[gt],p[gt]=Vt>0?Vt+.5|0:Vt-.5|0;return p}(I,L),Pe=0;Pe<64;++Pe)y[H[Pe]]=Oe[Pe];var Ue=y[0]-B;B=y[0],Ue==0?ve(W[0]):(ve(W[m[ue=32767+Ue]]),ve(f[ue]));for(var je=63;je>0&&y[je]==0;)je--;if(je==0)return ve(fe),B;for(var dt,_e=1;_e<=je;){for(var V=_e;y[_e]==0&&_e<=je;)++_e;var It=_e-V;if(It>=16){dt=It>>4;for(var et=1;et<=dt;++et)ve(pe);It&=15}ue=32767+y[_e],ve(te[(It<<4)+m[ue]]),ve(f[ue]),_e++}return je!=63&&ve(fe),B}function ke(I){I=Math.min(Math.max(I,1),100),o!=I&&(function(L){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var te=s((B[W]*L+50)/100);te=Math.min(Math.max(te,1),255),a[H[W]]=te}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var pe=s((ue[fe]*L+50)/100);pe=Math.min(Math.max(pe,1),255),l[H[fe]]=pe}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Ue=0;Ue<8;Ue++)for(var je=0;je<8;je++)c[Pe]=1/(a[H[Pe]]*Oe[Ue]*Oe[je]*8),d[Pe]=1/(l[H[Pe]]*Oe[Ue]*Oe[je]*8),Pe++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),o=I)}this.encode=function(I,L){L&&ke(L),_=new Array,C=0,w=7,he(65496),he(65504),he(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),he(1),he(1),J(0),J(0),function(){he(65499),he(132),J(0);for(var Ve=0;Ve<64;Ve++)J(a[Ve]);J(1);for(var it=0;it<64;it++)J(l[it])}(),function(Ve,it){he(65472),he(17),J(8),he(it),he(Ve),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(I.width,I.height),function(){he(65476),he(418),J(0);for(var Ve=0;Ve<16;Ve++)J(j[Ve+1]);for(var it=0;it<=11;it++)J(ne[it]);J(16);for(var Ct=0;Ct<16;Ct++)J(se[Ct+1]);for(var Pt=0;Pt<=161;Pt++)J(T[Pt]);J(1);for(var jt=0;jt<16;jt++)J(N[jt+1]);for(var Kt=0;Kt<=11;Kt++)J(q[Kt]);J(17);for(var un=0;un<16;un++)J(U[un+1]);for(var gt=0;gt<=161;gt++)J(de[gt])}(),he(65498),he(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var B=0,W=0,te=0;C=0,w=7,this.encode.displayName="_encode_";for(var ue,fe,pe,Oe,Pe,Ue,je,dt,_e,V=I.data,It=I.width,et=I.height,Ne=4*It,Le=0;Le<et;){for(ue=0;ue<Ne;){for(Pe=Ne*Le+ue,je=-1,dt=0,_e=0;_e<64;_e++)Ue=Pe+(dt=_e>>3)*Ne+(je=4*(7&_e)),Le+dt>=et&&(Ue-=Ne*(Le+1+dt-et)),ue+je>=Ne&&(Ue-=ue+je-Ne+4),fe=V[Ue++],pe=V[Ue++],Oe=V[Ue++],S[_e]=(Z[fe]+Z[pe+256>>0]+Z[Oe+512>>0]>>16)-128,O[_e]=(Z[fe+768>>0]+Z[pe+1024>>0]+Z[Oe+1280>>0]>>16)-128,k[_e]=(Z[fe+1280>>0]+Z[pe+1536>>0]+Z[Oe+1792>>0]>>16)-128;B=ge(S,c,B,e,r),W=ge(O,d,W,t,i),te=ge(k,d,te,t,i),ue+=32}Le+=8}if(w>=0){var He=[];He[1]=w+1,He[0]=(1<<w+1)-1,ve(He)}return he(65497),new Uint8Array(_)},n=n||50,function(){for(var I=String.fromCharCode,L=0;L<256;L++)z[L]=I(L)}(),e=ce(j,ne),t=ce(N,q),r=ce(se,T),i=ce(U,de),function(){for(var I=1,L=2,B=1;B<=15;B++){for(var W=I;W<L;W++)m[32767+W]=B,f[32767+W]=[],f[32767+W][1]=B,f[32767+W][0]=W;for(var te=-(L-1);te<=-I;te++)m[32767+te]=B,f[32767+te]=[],f[32767+te][1]=B,f[32767+te][0]=L-1+te;I<<=1,L<<=1}}(),function(){for(var I=0;I<256;I++)Z[I]=19595*I,Z[I+256>>0]=38470*I,Z[I+512>>0]=7471*I+32768,Z[I+768>>0]=-11059*I,Z[I+1024>>0]=-21709*I,Z[I+1280>>0]=32768*I+8421375,Z[I+1536>>0]=-27439*I,Z[I+1792>>0]=-5329*I}(),ke(n)}function Lo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QI(n){function e(j){if(!j)throw Error("assert :P")}function t(j,ne,se){for(var T=0;4>T;T++)if(j[ne+T]!=se.charCodeAt(T))return!0;return!1}function r(j,ne,se,T,N){for(var q=0;q<N;q++)j[ne+q]=se[T+q]}function i(j,ne,se,T){for(var N=0;N<T;N++)j[ne+N]=se}function o(j){return new Int32Array(j)}function s(j,ne){for(var se=[],T=0;T<j;T++)se.push(new ne);return se}function a(j,ne){var se=[];return function T(N,q,U){for(var de=U[q],ce=0;ce<de&&(N.push(U.length>q+1?[]:new ne),!(U.length<q+1));ce++)T(N[ce],q+1,U)}(se,0,j),se}var l=function(){var j=this;function ne(u,h){for(var v=1<<h-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function se(u,h,v,b,E){e(!(b%v));do u[h+(b-=v)]=E;while(0<b)}function T(u,h,v,b,E){if(e(2328>=E),512>=E)var D=o(512);else if((D=o(E))==null)return 0;return function(A,M,P,R,Y,ae){var le,ee,De=M,me=1<<P,K=o(16),X=o(16);for(e(Y!=0),e(R!=null),e(A!=null),e(0<P),ee=0;ee<Y;++ee){if(15<R[ee])return 0;++K[R[ee]]}if(K[0]==Y)return 0;for(X[1]=0,le=1;15>le;++le){if(K[le]>1<<le)return 0;X[le+1]=X[le]+K[le]}for(ee=0;ee<Y;++ee)le=R[ee],0<R[ee]&&(ae[X[le]++]=ee);if(X[15]==1)return(R=new N).g=0,R.value=ae[0],se(A,De,1,me,R),me;var Ee,Ie=-1,Se=me-1,Ge=0,Fe=1,at=1,Be=1<<P;for(ee=0,le=1,Y=2;le<=P;++le,Y<<=1){if(Fe+=at<<=1,0>(at-=K[le]))return 0;for(;0<K[le];--K[le])(R=new N).g=le,R.value=ae[ee++],se(A,De+Ge,Y,Be,R),Ge=ne(Ge,le)}for(le=P+1,Y=2;15>=le;++le,Y<<=1){if(Fe+=at<<=1,0>(at-=K[le]))return 0;for(;0<K[le];--K[le]){if(R=new N,(Ge&Se)!=Ie){for(De+=Be,Ee=1<<(Ie=le)-P;15>Ie&&!(0>=(Ee-=K[Ie]));)++Ie,Ee<<=1;me+=Be=1<<(Ee=Ie-P),A[M+(Ie=Ge&Se)].g=Ee+P,A[M+Ie].value=De-M-Ie}R.g=le-P,R.value=ae[ee++],se(A,De+(Ge>>P),Y,Be,R),Ge=ne(Ge,le)}}return Fe!=2*X[15]-1?0:me}(u,h,v,b,E,D)}function N(){this.value=this.g=0}function q(){this.value=this.g=0}function U(){this.G=s(5,N),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Pr,q)}function de(u,h,v,b){e(u!=null),e(h!=null),e(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=v,u.Jd=h,u.Yc=v+b,u.Zc=4<=b?v+b-4+1:v,ue(u)}function ce(u,h){for(var v=0;0<h--;)v|=pe(u,128)<<h;return v}function ve(u,h){var v=ce(u,h);return fe(u)?-v:v}function J(u,h,v,b){var E,D=0;for(e(u!=null),e(h!=null),e(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),E=0;E<b;++E)D+=h[v+E]<<8*E;u.Ra=D,u.bb=b,u.oa=h,u.pa=v}function he(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<uu-8>>>0,++u.bb,u.u-=8;B(u)&&(u.h=1,u.u=0)}function ge(u,h){if(e(0<=h),!u.h&&h<=cu){var v=L(u)&lu[h];return u.u+=h,he(u),v}return u.h=1,u.u=0}function ke(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(u){return u.Ra>>>(u.u&uu-1)>>>0}function B(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>uu}function W(u,h){u.u=h,u.h=B(u)}function te(u){u.u>=Sh&&(e(u.u>=Sh),he(u))}function ue(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function fe(u){return ce(u,1)}function pe(u,h){var v=u.Ca;0>u.b&&ue(u);var b=u.b,E=v*h>>>8,D=(u.I>>>b>E)+0;for(D?(v-=E,u.I-=E+1<<b>>>0):v=E+1,b=v,E=0;256<=b;)E+=8,b>>=8;return b=7^E+ci[b],u.b-=b,u.Ca=(v<<b)-1,D}function Oe(u,h,v){u[h+0]=v>>24&255,u[h+1]=v>>16&255,u[h+2]=v>>8&255,u[h+3]=v>>0&255}function Pe(u,h){return u[h+0]<<0|u[h+1]<<8}function Ue(u,h){return Pe(u,h)|u[h+2]<<16}function je(u,h){return Pe(u,h)|Pe(u,h+2)<<16}function dt(u,h){var v=1<<h;return e(u!=null),e(0<h),u.X=o(v),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function _e(u,h){e(u!=null),e(h!=null),e(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function V(){this.X=[],this.Xa=this.Mb=0}function It(u,h,v,b){e(v!=null),e(b!=null);var E=v[0],D=b[0];return E==0&&(E=(u*D+h/2)/h),D==0&&(D=(h*E+u/2)/u),0>=E||0>=D?0:(v[0]=E,b[0]=D,1)}function et(u,h){return u+(1<<h)-1>>>h}function Ne(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Le(u,h){j[h]=function(v,b,E,D,A,M,P){var R;for(R=0;R<A;++R){var Y=j[u](M[P+R-1],E,D+R);M[P+R]=Ne(v[b+R],Y)}}}function He(){this.ud=this.hd=this.jd=0}function Ve(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function it(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Ct(u,h){return it(u+(u-h+.5>>1))}function Pt(u,h,v){return Math.abs(h-v)-Math.abs(u-v)}function jt(u,h,v,b,E,D,A){for(b=D[A-1],v=0;v<E;++v)D[A+v]=b=Ne(u[h+v],b)}function Kt(u,h,v,b,E){var D;for(D=0;D<v;++D){var A=u[h+D],M=A>>8&255,P=16711935&(P=(P=16711935&A)+((M<<16)+M));b[E+D]=(4278255360&A)+P>>>0}}function un(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function gt(u,h,v,b,E,D){var A;for(A=0;A<b;++A){var M=h[v+A],P=M>>>8,R=M,Y=255&(Y=(Y=M>>>16)+((u.jd<<24>>24)*(P<<24>>24)>>>5));R=255&(R=(R=R+((u.hd<<24>>24)*(P<<24>>24)>>>5))+((u.ud<<24>>24)*(Y<<24>>24)>>>5)),E[D+A]=(4278255360&M)+(Y<<16)+R}}function Vt(u,h,v,b,E){j[h]=function(D,A,M,P,R,Y,ae,le,ee){for(P=ae;P<le;++P)for(ae=0;ae<ee;++ae)R[Y++]=E(M[b(D[A++])])},j[u]=function(D,A,M,P,R,Y,ae){var le=8>>D.b,ee=D.Ea,De=D.K[0],me=D.w;if(8>le)for(D=(1<<D.b)-1,me=(1<<le)-1;A<M;++A){var K,X=0;for(K=0;K<ee;++K)K&D||(X=b(P[R++])),Y[ae++]=E(De[X&me]),X>>=le}else j["VP8LMapColor"+v](P,R,De,me,Y,ae,A,M,ee)}}function ze(u,h,v,b,E){for(v=h+v;h<v;){var D=u[h++];b[E++]=D>>16&255,b[E++]=D>>8&255,b[E++]=D>>0&255}}function jr(u,h,v,b,E){for(v=h+v;h<v;){var D=u[h++];b[E++]=D>>16&255,b[E++]=D>>8&255,b[E++]=D>>0&255,b[E++]=D>>24&255}}function Zt(u,h,v,b,E){for(v=h+v;h<v;){var D=(A=u[h++])>>16&240|A>>12&15,A=A>>0&240|A>>28&15;b[E++]=D,b[E++]=A}}function co(u,h,v,b,E){for(v=h+v;h<v;){var D=(A=u[h++])>>16&248|A>>13&7,A=A>>5&224|A>>3&31;b[E++]=D,b[E++]=A}}function gn(u,h,v,b,E){for(v=h+v;h<v;){var D=u[h++];b[E++]=D>>0&255,b[E++]=D>>8&255,b[E++]=D>>16&255}}function Dn(u,h,v,b,E,D){if(D==0)for(v=h+v;h<v;)Oe(b,((D=u[h++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),E+=32;else r(b,E,u,h,v)}function qo(u,h){j[h][0]=j[u+"0"],j[h][1]=j[u+"1"],j[h][2]=j[u+"2"],j[h][3]=j[u+"3"],j[h][4]=j[u+"4"],j[h][5]=j[u+"5"],j[h][6]=j[u+"6"],j[h][7]=j[u+"7"],j[h][8]=j[u+"8"],j[h][9]=j[u+"9"],j[h][10]=j[u+"10"],j[h][11]=j[u+"11"],j[h][12]=j[u+"12"],j[h][13]=j[u+"13"],j[h][14]=j[u+"0"],j[h][15]=j[u+"0"]}function rn(u){return u==Ny||u==Py||u==Ng||u==Oy}function xl(){this.eb=[],this.size=this.A=this.fb=0}function On(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function uo(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xl,this.f.kb=new On,this.sd=null}function Os(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Et(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function on(u,h){var v=u.T,b=h.ba.f.RGBA,E=b.eb,D=b.fb+u.ka*b.A,A=zi[h.ba.S],M=u.y,P=u.O,R=u.f,Y=u.N,ae=u.ea,le=u.W,ee=h.cc,De=h.dc,me=h.Mc,K=h.Nc,X=u.ka,Ee=u.ka+u.T,Ie=u.U,Se=Ie+1>>1;for(X==0?A(M,P,null,null,R,Y,ae,le,R,Y,ae,le,E,D,null,null,Ie):(A(h.ec,h.fc,M,P,ee,De,me,K,R,Y,ae,le,E,D-b.A,E,D,Ie),++v);X+2<Ee;X+=2)ee=R,De=Y,me=ae,K=le,Y+=u.Rc,le+=u.Rc,D+=2*b.A,A(M,(P+=2*u.fa)-u.fa,M,P,ee,De,me,K,R,Y,ae,le,E,D-b.A,E,D,Ie);return P+=u.fa,u.j+Ee<u.o?(r(h.ec,h.fc,M,P,Ie),r(h.cc,h.dc,R,Y,Se),r(h.Mc,h.Nc,ae,le,Se),v--):1&Ee||A(M,P,null,null,R,Y,ae,le,R,Y,ae,le,E,D+b.A,null,null,Ie),v}function Sl(u,h,v){var b=u.F,E=[u.J];if(b!=null){var D=u.U,A=h.ba.S,M=A==Tg||A==Ng;h=h.ba.f.RGBA;var P=[0],R=u.ka;P[0]=u.T,u.Kb&&(R==0?--P[0]:(--R,E[0]-=u.width),u.j+u.ka+u.T==u.o&&(P[0]=u.o-u.j-R));var Y=h.eb;R=h.fb+R*h.A,u=_n(b,E[0],u.width,D,P,Y,R+(M?0:3),h.A),e(v==P),u&&rn(A)&&Ui(Y,R,M,D,P,h.A)}return 0}function Nr(u){var h=u.ma,v=h.ba.S,b=11>v,E=v==Ag||v==Mg||v==Tg||v==Ty||v==12||rn(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Eh(h.Oa,u,E?11:12))return 0;if(E&&rn(v)&&Ae(),u.da)alert("todo:use_scaling");else{if(b){if(h.Ib=Et,u.Kb){if(v=u.U+1>>1,h.memory=o(u.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=on,Ae()}}else alert("todo:EmitYUV");E&&(h.Jb=Sl,b&&oe())}if(b&&!i3){for(u=0;256>u;++u)pN[u]=89858*(u-128)+Og>>Pg,vN[u]=-22014*(u-128)+Og,mN[u]=-45773*(u-128),gN[u]=113618*(u-128)+Og>>Pg;for(u=Ph;u<Ly;++u)h=76283*(u-16)+Og>>Pg,yN[u-Ph]=Ci(h,255),bN[u-Ph]=Ci(h+8>>4,15);i3=1}return 1}function Go(u){var h=u.ma,v=u.U,b=u.T;return e(!(1&u.ka)),0>=v||0>=b?0:(v=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,v),h.Dc+=v,1)}function $o(u){u.ma.memory=null}function ct(u,h,v,b){return ge(u,8)!=47?0:(h[0]=ge(u,14)+1,v[0]=ge(u,14)+1,b[0]=ge(u,1),ge(u,3)!=0?0:!u.h)}function ho(u,h){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+ge(h,v)+1}function Wo(u,h){return 120<h?h-120:1<=(v=((v=eN[h-1])>>4)*u+(8-(15&v)))?v:1;var v}function ai(u,h,v){var b=L(v),E=u[h+=255&b].g-8;return 0<E&&(W(v,v.u+8),b=L(v),h+=u[h].value,h+=b&(1<<E)-1),W(v,v.u+u[h].g),u[h].value}function ur(u,h,v){return v.g+=u.g,v.value+=u.value<<h>>>0,e(8>=v.g),u.g}function er(u,h,v){var b=u.xc;return e((h=b==0?0:u.vc[u.md*(v>>b)+(h>>b)])<u.Wb),u.Ya[h]}function wi(u,h,v,b){var E=u.ab,D=u.c*h,A=u.C;h=A+h;var M=v,P=b;for(b=u.Ta,v=u.Ua;0<E--;){var R=u.gc[E],Y=A,ae=h,le=M,ee=P,De=(P=b,M=v,R.Ea);switch(e(Y<ae),e(ae<=R.nc),R.hc){case 2:wg(le,ee,(ae-Y)*De,P,M);break;case 0:var me=Y,K=ae,X=P,Ee=M,Ie=(Be=R).Ea;me==0&&(Ay(le,ee,null,null,1,X,Ee),jt(le,ee+1,0,0,Ie-1,X,Ee+1),ee+=Ie,Ee+=Ie,++me);for(var Se=1<<Be.b,Ge=Se-1,Fe=et(Ie,Be.b),at=Be.K,Be=Be.w+(me>>Be.b)*Fe;me<K;){var Qt=at,an=Be,Xt=1;for(Dh(le,ee,X,Ee-Ie,1,X,Ee);Xt<Ie;){var qt=(Xt&~Ge)+Se;qt>Ie&&(qt=Ie),(0,Ta[Qt[an++]>>8&15])(le,ee+ +Xt,X,Ee+Xt-Ie,qt-Xt,X,Ee+Xt),Xt=qt}ee+=Ie,Ee+=Ie,++me&Ge||(Be+=Fe)}ae!=R.nc&&r(P,M-De,P,M+(ae-Y-1)*De,De);break;case 1:for(De=le,K=ee,Ie=(le=R.Ea)-(Ee=le&~(X=(ee=1<<R.b)-1)),me=et(le,R.b),Se=R.K,R=R.w+(Y>>R.b)*me;Y<ae;){for(Ge=Se,Fe=R,at=new He,Be=K+Ee,Qt=K+le;K<Be;)un(Ge[Fe++],at),Nl(at,De,K,ee,P,M),K+=ee,M+=ee;K<Qt&&(un(Ge[Fe++],at),Nl(at,De,K,Ie,P,M),K+=Ie,M+=Ie),++Y&X||(R+=me)}break;case 3:if(le==P&&ee==M&&0<R.b){for(K=P,le=De=M+(ae-Y)*De-(Ee=(ae-Y)*et(R.Ea,R.b)),ee=P,X=M,me=[],Ee=(Ie=Ee)-1;0<=Ee;--Ee)me[Ee]=ee[X+Ee];for(Ee=Ie-1;0<=Ee;--Ee)K[le+Ee]=me[Ee];ji(R,Y,ae,P,De,P,M)}else ji(R,Y,ae,le,ee,P,M)}M=b,P=v}P!=v&&r(b,v,M,P,D)}function Gc(u,h){var v=u.V,b=u.Ba+u.c*u.C,E=h-u.C;if(e(h<=u.l.o),e(16>=E),0<E){var D=u.l,A=u.Ta,M=u.Ua,P=D.width;if(wi(u,E,v,b),E=M=[M],e((v=u.C)<(b=h)),e(D.v<D.va),b>D.o&&(b=D.o),v<D.j){var R=D.j-v;v=D.j,E[0]+=R*P}if(v>=b?v=0:(E[0]+=4*D.v,D.ka=v-D.j,D.U=D.va-D.v,D.T=b-v,v=1),v){if(M=M[0],11>(v=u.ca).S){var Y=v.f.RGBA,ae=(b=v.S,E=D.U,D=D.T,R=Y.eb,Y.A),le=D;for(Y=Y.fb+u.Ma*Y.A;0<le--;){var ee=A,De=M,me=E,K=R,X=Y;switch(b){case Ig:ui(ee,De,me,K,X);break;case Ag:Xr(ee,De,me,K,X);break;case Ny:Xr(ee,De,me,K,X),Ui(K,X,0,me,1,0);break;case YE:js(ee,De,me,K,X);break;case Mg:Dn(ee,De,me,K,X,1);break;case Py:Dn(ee,De,me,K,X,1),Ui(K,X,0,me,1,0);break;case Tg:Dn(ee,De,me,K,X,0);break;case Ng:Dn(ee,De,me,K,X,0),Ui(K,X,1,me,1,0);break;case Ty:Na(ee,De,me,K,X);break;case Oy:Na(ee,De,me,K,X),bn(K,X,me,1,0);break;case KE:Fs(ee,De,me,K,X);break;default:e(0)}M+=P,Y+=ae}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=h,e(u.C<=u.i)}function ks(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var v=u.Ya[h].G,b=u.Ya[h].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function fo(u,h,v,b,E,D){if(u.Z!=0){var A=u.qd,M=u.rd;for(e(Ra[u.Z]!=null);h<v;++h)Ra[u.Z](A,M,b,E,b,E,D),A=b,M=E,E+=D;u.qd=A,u.rd=M}}function po(u,h){var v=u.l.ma,b=v.Z==0||v.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,e(h<=u.l.o),h>b){var E=u.l.width,D=v.ca,A=v.tb+E*b,M=u.V,P=u.Ba+u.c*b,R=u.gc;e(u.ab==1),e(R[0].hc==3),Cg(R[0],b,h,M,P,D,A),fo(v,b,h,D,A,E)}u.C=u.Ma=h}function go(u,h,v,b,E,D,A){var M=u.$/b,P=u.$%b,R=u.m,Y=u.s,ae=v+u.$,le=ae;E=v+b*E;var ee=v+b*D,De=280+Y.ua,me=u.Pb?M:16777216,K=0<Y.ua?Y.Wa:null,X=Y.wc,Ee=ae<ee?er(Y,P,M):null;e(u.C<D),e(ee<=E);var Ie=!1;e:for(;;){for(;Ie||ae<ee;){var Se=0;if(M>=me){var Ge=ae-v;e((me=u).Pb),me.wd=me.m,me.xd=Ge,0<me.s.ua&&_e(me.s.Wa,me.s.vb),me=M+nN}if(P&X||(Ee=er(Y,P,M)),e(Ee!=null),Ee.Qb&&(h[ae]=Ee.qb,Ie=!0),!Ie)if(te(R),Ee.jc){Se=R,Ge=h;var Fe=ae,at=Ee.pd[L(Se)&Pr-1];e(Ee.jc),256>at.g?(W(Se,Se.u+at.g),Ge[Fe]=at.value,Se=0):(W(Se,Se.u+at.g-256),e(256<=at.value),Se=at.value),Se==0&&(Ie=!0)}else Se=ai(Ee.G[0],Ee.H[0],R);if(R.h)break;if(Ie||256>Se){if(!Ie)if(Ee.nd)h[ae]=(Ee.qb|Se<<8)>>>0;else{if(te(R),Ie=ai(Ee.G[1],Ee.H[1],R),te(R),Ge=ai(Ee.G[2],Ee.H[2],R),Fe=ai(Ee.G[3],Ee.H[3],R),R.h)break;h[ae]=(Fe<<24|Ie<<16|Se<<8|Ge)>>>0}if(Ie=!1,++ae,++P>=b&&(P=0,++M,A!=null&&M<=D&&!(M%16)&&A(u,M),K!=null))for(;le<ae;)Se=h[le++],K.X[(506832829*Se&4294967295)>>>K.Mb]=Se}else if(280>Se){if(Se=ho(Se-256,R),Ge=ai(Ee.G[4],Ee.H[4],R),te(R),Ge=Wo(b,Ge=ho(Ge,R)),R.h)break;if(ae-v<Ge||E-ae<Se)break e;for(Fe=0;Fe<Se;++Fe)h[ae+Fe]=h[ae+Fe-Ge];for(ae+=Se,P+=Se;P>=b;)P-=b,++M,A!=null&&M<=D&&!(M%16)&&A(u,M);if(e(ae<=E),P&X&&(Ee=er(Y,P,M)),K!=null)for(;le<ae;)Se=h[le++],K.X[(506832829*Se&4294967295)>>>K.Mb]=Se}else{if(!(Se<De))break e;for(Ie=Se-280,e(K!=null);le<ae;)Se=h[le++],K.X[(506832829*Se&4294967295)>>>K.Mb]=Se;Se=ae,e(!(Ie>>>(Ge=K).Xa)),h[Se]=Ge.X[Ie],Ie=!0}Ie||e(R.h==B(R))}if(u.Pb&&R.h&&ae<E)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&_e(u.s.vb,u.s.Wa);else{if(R.h)break e;A?.(u,M>D?D:M),u.a=0,u.$=ae-v}return 1}return u.a=3,0}function Yo(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,e(u!=null)}function Fi(){var u=new Iy;return u==null?null:(u.a=0,u.xb=ZE,qo("Predictor","VP8LPredictors"),qo("Predictor","VP8LPredictors_C"),qo("PredictorAdd","VP8LPredictorsAdd"),qo("PredictorAdd","VP8LPredictorsAdd_C"),wg=Kt,Nl=gt,ui=ze,Xr=jr,Na=Zt,Fs=co,js=gn,j.VP8LMapColor32b=du,j.VP8LMapColor8b=Eg,u)}function Ko(u,h,v,b,E){var D=1,A=[u],M=[h],P=b.m,R=b.s,Y=null,ae=0;e:for(;;){if(v)for(;D&&ge(P,1);){var le=A,ee=M,De=b,me=1,K=De.m,X=De.gc[De.ab],Ee=ge(K,2);if(De.Oc&1<<Ee)D=0;else{switch(De.Oc|=1<<Ee,X.hc=Ee,X.Ea=le[0],X.nc=ee[0],X.K=[null],++De.ab,e(4>=De.ab),Ee){case 0:case 1:X.b=ge(K,3)+2,me=Ko(et(X.Ea,X.b),et(X.nc,X.b),0,De,X.K),X.K=X.K[0];break;case 3:var Ie,Se=ge(K,8)+1,Ge=16<Se?0:4<Se?1:2<Se?2:3;if(le[0]=et(X.Ea,Ge),X.b=Ge,Ie=me=Ko(Se,1,0,De,X.K)){var Fe,at=Se,Be=X,Qt=1<<(8>>Be.b),an=o(Qt);if(an==null)Ie=0;else{var Xt=Be.K[0],qt=Be.w;for(an[0]=Be.K[0][0],Fe=1;Fe<1*at;++Fe)an[Fe]=Ne(Xt[qt+Fe],an[Fe-1]);for(;Fe<4*Qt;++Fe)an[Fe]=0;Be.K[0]=null,Be.K[0]=an,Ie=1}}me=Ie;break;case 2:break;default:e(0)}D=me}}if(A=A[0],M=M[0],D&&ge(P,1)&&!(D=1<=(ae=ge(P,4))&&11>=ae)){b.a=3;break e}var mn;if(mn=D)t:{var dn,Tt,nr,di=b,rr=A,hi=M,ln=ae,xi=v,Si=di.m,Cr=di.s,Or=[null],Zr=1,qi=0,Qo=tN[ln];n:for(;;){if(xi&&ge(Si,1)){var Er=ge(Si,3)+2,Hs=et(rr,Er),Ll=et(hi,Er),mu=Hs*Ll;if(!Ko(Hs,Ll,0,di,Or))break n;for(Or=Or[0],Cr.xc=Er,dn=0;dn<mu;++dn){var La=Or[dn]>>8&65535;Or[dn]=La,La>=Zr&&(Zr=La+1)}}if(Si.h)break n;for(Tt=0;5>Tt;++Tt){var Ln=XE[Tt];!Tt&&0<ln&&(Ln+=1<<ln),qi<Ln&&(qi=Ln)}var Fy=s(Zr*Qo,N),a3=Zr,l3=s(a3,U);if(l3==null)var Rg=null;else e(65536>=a3),Rg=l3;var Oh=o(qi);if(Rg==null||Oh==null||Fy==null){di.a=1;break n}var Lg=Fy;for(dn=nr=0;dn<Zr;++dn){var _o=Rg[dn],vu=_o.G,yu=_o.H,c3=0,Fg=1,u3=0;for(Tt=0;5>Tt;++Tt){Ln=XE[Tt],vu[Tt]=Lg,yu[Tt]=nr,!Tt&&0<ln&&(Ln+=1<<ln);i:{var jg,jy=Ln,Bg=di,kh=Oh,CN=Lg,EN=nr,By=0,Fa=Bg.m,xN=ge(Fa,1);if(i(kh,0,0,jy),xN){var SN=ge(Fa,1)+1,DN=ge(Fa,1),d3=ge(Fa,DN==0?1:8);kh[d3]=1,SN==2&&(kh[d3=ge(Fa,8)]=1);var Vg=1}else{var h3=o(19),f3=ge(Fa,4)+4;if(19<f3){Bg.a=3;var Ug=0;break i}for(jg=0;jg<f3;++jg)h3[QT[jg]]=ge(Fa,3);var Vy=void 0,Rh=void 0,p3=Bg,IN=h3,Hg=jy,g3=kh,Uy=0,ja=p3.m,m3=8,v3=s(128,N);r:for(;T(v3,0,7,IN,19);){if(ge(ja,1)){var AN=2+2*ge(ja,3);if((Vy=2+ge(ja,AN))>Hg)break r}else Vy=Hg;for(Rh=0;Rh<Hg&&Vy--;){te(ja);var y3=v3[0+(127&L(ja))];W(ja,ja.u+y3.g);var bu=y3.value;if(16>bu)g3[Rh++]=bu,bu!=0&&(m3=bu);else{var MN=bu==16,b3=bu-16,TN=JT[b3],_3=ge(ja,XT[b3])+TN;if(Rh+_3>Hg)break r;for(var NN=MN?m3:0;0<_3--;)g3[Rh++]=NN}}Uy=1;break r}Uy||(p3.a=3),Vg=Uy}(Vg=Vg&&!Fa.h)&&(By=T(CN,EN,8,kh,jy)),Vg&&By!=0?Ug=By:(Bg.a=3,Ug=0)}if(Ug==0)break n;if(Fg&&ZT[Tt]==1&&(Fg=Lg[nr].g==0),c3+=Lg[nr].g,nr+=Ug,3>=Tt){var Lh,Hy=Oh[0];for(Lh=1;Lh<Ln;++Lh)Oh[Lh]>Hy&&(Hy=Oh[Lh]);u3+=Hy}}if(_o.nd=Fg,_o.Qb=0,Fg&&(_o.qb=(vu[3][yu[3]+0].value<<24|vu[1][yu[1]+0].value<<16|vu[2][yu[2]+0].value)>>>0,c3==0&&256>vu[0][yu[0]+0].value&&(_o.Qb=1,_o.qb+=vu[0][yu[0]+0].value<<8)),_o.jc=!_o.Qb&&6>u3,_o.jc){var zg,zs=_o;for(zg=0;zg<Pr;++zg){var Ba=zg,Va=zs.pd[Ba],qg=zs.G[0][zs.H[0]+Ba];256<=qg.value?(Va.g=qg.g+256,Va.value=qg.value):(Va.g=0,Va.value=0,Ba>>=ur(qg,8,Va),Ba>>=ur(zs.G[1][zs.H[1]+Ba],16,Va),Ba>>=ur(zs.G[2][zs.H[2]+Ba],0,Va),ur(zs.G[3][zs.H[3]+Ba],24,Va))}}}Cr.vc=Or,Cr.Wb=Zr,Cr.Ya=Rg,Cr.yc=Fy,mn=1;break t}mn=0}if(!(D=mn)){b.a=3;break e}if(0<ae){if(R.ua=1<<ae,!dt(R.Wa,ae)){b.a=1,D=0;break e}}else R.ua=0;var zy=b,w3=A,PN=M,qy=zy.s,Gy=qy.xc;if(zy.c=w3,zy.i=PN,qy.md=et(w3,Gy),qy.wc=Gy==0?-1:(1<<Gy)-1,v){b.xb=cN;break e}if((Y=o(A*M))==null){b.a=1,D=0;break e}D=(D=go(b,Y,0,A,M,M,null))&&!P.h;break e}return D?(E!=null?E[0]=Y:(e(Y==null),e(v)),b.$=0,v||Yo(R)):Yo(R),D}function Dl(u,h){var v=u.c*u.i,b=v+h+16*h;return e(u.c<=h),u.V=o(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+h,1)}function $c(u,h){var v=u.C,b=h-v,E=u.V,D=u.Ba+u.c*v;for(e(h<=u.l.o);0<b;){var A=16<b?16:b,M=u.l.ma,P=u.l.width,R=P*A,Y=M.ca,ae=M.tb+P*v,le=u.Ta,ee=u.Ua;wi(u,A,E,D),qn(le,ee,Y,ae,R),fo(M,v,v+A,Y,ae,P),b-=A,E+=A*u.c,v+=A}e(v==h),u.C=u.Ma=h}function Wc(){this.ub=this.yd=this.td=this.Rb=0}function Yc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Kc(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function tg(){this.Yb=function(){var u=[];return function h(v,b,E){for(var D=E[b],A=0;A<D&&(v.push(E.length>b+1?[]:0),!(E.length<b+1));A++)h(v[A],b+1,E)}(u,0,[3,11]),u}()}function iy(){this.jb=o(3),this.Wc=a([4,8],tg),this.Xc=a([4,17],tg)}function oy(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Xc(){this.ld=this.La=this.dd=this.tc=0}function ng(){this.Na=this.la=0}function sy(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ah(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ay(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xc),this.Y=0,this.ya=Array(new ah),this.aa=0,this.l=new Jc}function rg(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ly(){this.cb=this.a=0,this.sc="",this.m=new ke,this.Od=new Wc,this.Kc=new Yc,this.ed=new oy,this.Qa=new Kc,this.Ic=this.$c=this.Aa=0,this.D=new ay,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ke),this.ia=0,this.pb=s(4,sy),this.Pa=new iy,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rg),this.Hd=0,this.rb=Array(new ng),this.sb=0,this.wa=Array(new Xc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ah),this.L=this.aa=0,this.gd=a([4,2],Xc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Jc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cy(){var u=new ly;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Nh||(Nh=sg)),u}function Hn(u,h,v){return u.a==0&&(u.a=h,u.sc=v,u.cb=0),0}function ig(u,h,v){return 3<=v&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function og(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return Hn(u,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,b=h.w,E=h.ha;if(4>E)return Hn(u,7,"Truncated header.");var D=v[b+0]|v[b+1]<<8|v[b+2]<<16,A=u.Od;if(A.Rb=!(1&D),A.td=D>>1&7,A.yd=D>>4&1,A.ub=D>>5,3<A.td)return Hn(u,3,"Incorrect keyframe parameters.");if(!A.yd)return Hn(u,4,"Frame not displayable.");b+=3,E-=3;var M=u.Kc;if(A.Rb){if(7>E)return Hn(u,7,"cannot parse picture header");if(!ig(v,b,E))return Hn(u,3,"Bad code word");M.c=16383&(v[b+4]<<8|v[b+3]),M.Td=v[b+4]>>6,M.i=16383&(v[b+6]<<8|v[b+5]),M.Ud=v[b+6]>>6,b+=7,E-=7,u.za=M.c+15>>4,u.Ub=M.i+15>>4,h.width=M.c,h.height=M.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((D=u.Pa).jb,0,255,D.jb.length),e((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(A.ub>E)return Hn(u,7,"bad partition length");de(D=u.m,v,b,A.ub),b+=A.ub,E-=A.ub,A.Rb&&(M.Ld=fe(D),M.Kd=fe(D)),M=u.Qa;var P,R=u.Pa;if(e(D!=null),e(M!=null),M.Cb=fe(D),M.Cb){if(M.Bb=fe(D),fe(D)){for(M.Fb=fe(D),P=0;4>P;++P)M.Zb[P]=fe(D)?ve(D,7):0;for(P=0;4>P;++P)M.Lb[P]=fe(D)?ve(D,6):0}if(M.Bb)for(P=0;3>P;++P)R.jb[P]=fe(D)?ce(D,8):255}else M.Bb=0;if(D.Ka)return Hn(u,3,"cannot parse segment header");if((M=u.ed).zd=fe(D),M.Tb=ce(D,6),M.wb=ce(D,3),M.Pc=fe(D),M.Pc&&fe(D)){for(R=0;4>R;++R)fe(D)&&(M.vd[R]=ve(D,6));for(R=0;4>R;++R)fe(D)&&(M.od[R]=ve(D,6))}if(u.L=M.Tb==0?0:M.zd?1:2,D.Ka)return Hn(u,3,"cannot parse filter header");var Y=E;if(E=P=b,b=P+Y,M=Y,u.Xb=(1<<ce(u.m,2))-1,Y<3*(R=u.Xb))v=7;else{for(P+=3*R,M-=3*R,Y=0;Y<R;++Y){var ae=v[E+0]|v[E+1]<<8|v[E+2]<<16;ae>M&&(ae=M),de(u.Jc[+Y],v,P,ae),P+=ae,M-=ae,E+=3}de(u.Jc[+R],v,P,M),v=P<b?0:5}if(v!=0)return Hn(u,v,"cannot parse partitions");for(v=ce(P=u.m,7),E=fe(P)?ve(P,4):0,b=fe(P)?ve(P,4):0,M=fe(P)?ve(P,4):0,R=fe(P)?ve(P,4):0,P=fe(P)?ve(P,4):0,Y=u.Qa,ae=0;4>ae;++ae){if(Y.Cb){var le=Y.Zb[ae];Y.Fb||(le+=v)}else{if(0<ae){u.pb[ae]=u.pb[0];continue}le=v}var ee=u.pb[ae];ee.Sc[0]=ky[Ci(le+E,127)],ee.Sc[1]=Ry[Ci(le+0,127)],ee.Eb[0]=2*ky[Ci(le+b,127)],ee.Eb[1]=101581*Ry[Ci(le+M,127)]>>16,8>ee.Eb[1]&&(ee.Eb[1]=8),ee.Qc[0]=ky[Ci(le+R,117)],ee.Qc[1]=Ry[Ci(le+P,127)],ee.lc=le+P}if(!A.Rb)return Hn(u,4,"Not a key frame.");for(fe(D),A=u.Pa,v=0;4>v;++v){for(E=0;8>E;++E)for(b=0;3>b;++b)for(M=0;11>M;++M)R=pe(D,aN[v][E][b][M])?ce(D,8):oN[v][E][b][M],A.Wc[v][E].Yb[b][M]=R;for(E=0;17>E;++E)A.Xc[v][E]=A.Wc[v][lN[E]]}return u.kc=fe(D),u.kc&&(u.Bd=ce(D,8)),u.cb=1}function sg(u,h,v,b,E,D,A){var M=h[E].Yb[v];for(v=0;16>E;++E){if(!pe(u,M[v+0]))return E;for(;!pe(u,M[v+1]);)if(M=h[++E].Yb[0],v=0,E==16)return 16;var P=h[E+1].Yb;if(pe(u,M[v+2])){var R=u,Y=0;if(pe(R,(le=M)[(ae=v)+3]))if(pe(R,le[ae+6])){for(M=0,ae=2*(Y=pe(R,le[ae+8]))+(le=pe(R,le[ae+9+Y])),Y=0,le=rN[ae];le[M];++M)Y+=Y+pe(R,le[M]);Y+=3+(8<<ae)}else pe(R,le[ae+7])?(Y=7+2*pe(R,165),Y+=pe(R,145)):Y=5+pe(R,159);else Y=pe(R,le[ae+4])?3+pe(R,le[ae+5]):2;M=P[2]}else Y=1,M=P[1];P=A+iN[E],0>(R=u).b&&ue(R);var ae,le=R.b,ee=(ae=R.Ca>>1)-(R.I>>le)>>31;--R.b,R.Ca+=ee,R.Ca|=1,R.I-=(ae+1&ee)<<le,D[P]=((Y^ee)-ee)*b[(0<E)+0]}return 16}function lh(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function uy(u,h){if(u==null)return 0;if(h==null)return Hn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!og(u,h))return 0;if(e(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var v=kg[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-v>>4,u.zb=h.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+v>>4,u.Hb=h.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var b=u.ed;for(v=0;4>v;++v){var E;if(u.Qa.Cb){var D=u.Qa.Lb[v];u.Qa.Fb||(D+=b.Tb)}else D=b.Tb;for(E=0;1>=E;++E){var A=u.gd[v][E],M=D;if(b.Pc&&(M+=b.vd[0],E&&(M+=b.od[0])),0<(M=0>M?0:63<M?63:M)){var P=M;0<b.wb&&(P=4<b.wb?P>>2:P>>1)>9-b.wb&&(P=9-b.wb),1>P&&(P=1),A.dd=P,A.tc=2*M+P,A.ld=40<=M?2:15<=M?1:0}else A.tc=0;A.La=E}}}v=0}else Hn(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=wN);e:{v=u.Ic,b=4*(P=u.za);var R=32*P,Y=P+1,ae=0<u.L?P*(0<u.Aa?2:1):0,le=(u.Aa==2?2:1)*P;if((A=b+832+(E=3*(16*v+kg[u.L])/2*R)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=A)v=0;else{if(A>u.Vb){if(u.Vb=0,u.Ec=o(A),u.Fc=0,u.Ec==null){v=Hn(u,1,"no memory during frame initialization.");break e}u.Vb=A}A=u.Ec,M=u.Fc,u.Ac=A,u.Bc=M,M+=b,u.Gd=s(R,rg),u.Hd=0,u.rb=s(Y+1,ng),u.sb=1,u.wa=ae?s(ae,Xc):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=P),e(!0),u.oc=A,u.pc=M,M+=832,u.ya=s(le,ah),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=P),u.R=16*P,u.B=8*P,P=(R=kg[u.L])*u.R,R=R/2*u.B,u.sa=A,u.ta=M+P,u.qa=u.sa,u.ra=u.ta+16*v*u.R+R,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+R,u.$c=0,M+=E,u.mb=D?A:null,u.nb=D?M:null,e(M+D<=u.Fc+u.Vb),lh(u),i(u.Ac,u.Bc,0,b),v=1}}if(v){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!Sg){for(v=-255;255>=v;++v)dr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)Vs[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Th[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)gu[255+v]=0>v?0:255<v?255:v;Sg=1}hu=fy,Bs=dy,Ih=lg,Jr=hy,Bi=cg,zn=ag,fu=ph,xg=Ml,Ah=Dy,Pl=gh,Ol=Sy,Pa=ru,kl=mh,pu=yg,Rl=vg,Oa=Jo,Mh=Ls,Vi=xy,bo[0]=Xo,bo[1]=py,bo[2]=yy,bo[3]=by,bo[4]=hg,bo[5]=tu,bo[6]=fg,bo[7]=dh,bo[8]=wy,bo[9]=_y,ka[0]=ug,ka[1]=my,ka[2]=Rs,ka[3]=Qc,ka[4]=Br,ka[5]=vy,ka[6]=dg,Us[0]=Ia,Us[1]=gy,Us[2]=Cy,Us[3]=hh,Us[4]=Al,Us[5]=Ey,Us[6]=fh,v=1}else v=0}v&&(v=function(ee,De){for(ee.M=0;ee.M<ee.Va;++ee.M){var me,K=ee.Jc[ee.M&ee.Xb],X=ee.m,Ee=ee;for(me=0;me<Ee.za;++me){var Ie=X,Se=Ee,Ge=Se.Ac,Fe=Se.Bc+4*me,at=Se.zc,Be=Se.ya[Se.aa+me];if(Se.Qa.Bb?Be.$b=pe(Ie,Se.Pa.jb[0])?2+pe(Ie,Se.Pa.jb[2]):pe(Ie,Se.Pa.jb[1]):Be.$b=0,Se.kc&&(Be.Ad=pe(Ie,Se.Bd)),Be.Za=!pe(Ie,145)+0,Be.Za){var Qt=Be.Ob,an=0;for(Se=0;4>Se;++Se){var Xt,qt=at[0+Se];for(Xt=0;4>Xt;++Xt){qt=sN[Ge[Fe+Xt]][qt];for(var mn=JE[pe(Ie,qt[0])];0<mn;)mn=JE[2*mn+pe(Ie,qt[mn])];qt=-mn,Ge[Fe+Xt]=qt}r(Qt,an,Ge,Fe,4),an+=4,at[0+Se]=qt}}else qt=pe(Ie,156)?pe(Ie,128)?1:3:pe(Ie,163)?2:0,Be.Ob[0]=qt,i(Ge,Fe,qt,4),i(at,0,qt,4);Be.Dd=pe(Ie,142)?pe(Ie,114)?pe(Ie,183)?1:3:2:0}if(Ee.m.Ka)return Hn(ee,7,"Premature end-of-partition0 encountered.");for(;ee.ja<ee.za;++ee.ja){if(Ee=K,Ie=(X=ee).rb[X.sb-1],Ge=X.rb[X.sb+X.ja],me=X.ya[X.aa+X.ja],Fe=X.kc?me.Ad:0)Ie.la=Ge.la=0,me.Za||(Ie.Na=Ge.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var dn,Tt;if(Ie=Ge,Ge=Ee,Fe=X.Pa.Xc,at=X.ya[X.aa+X.ja],Be=X.pb[at.$b],Se=at.ad,Qt=0,an=X.rb[X.sb-1],qt=Xt=0,i(Se,Qt,0,384),at.Za)var nr=0,di=Fe[3];else{mn=o(16);var rr=Ie.Na+an.Na;if(rr=Nh(Ge,Fe[1],rr,Be.Eb,0,mn,0),Ie.Na=an.Na=(0<rr)+0,1<rr)hu(mn,0,Se,Qt);else{var hi=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)Se[Qt+mn]=hi}nr=1,di=Fe[0]}var ln=15&Ie.la,xi=15&an.la;for(mn=0;4>mn;++mn){var Si=1&xi;for(hi=Tt=0;4>hi;++hi)ln=ln>>1|(Si=(rr=Nh(Ge,di,rr=Si+(1&ln),Be.Sc,nr,Se,Qt))>nr)<<7,Tt=Tt<<2|(3<rr?3:1<rr?2:Se[Qt+0]!=0),Qt+=16;ln>>=4,xi=xi>>1|Si<<7,Xt=(Xt<<8|Tt)>>>0}for(di=ln,nr=xi>>4,dn=0;4>dn;dn+=2){for(Tt=0,ln=Ie.la>>4+dn,xi=an.la>>4+dn,mn=0;2>mn;++mn){for(Si=1&xi,hi=0;2>hi;++hi)rr=Si+(1&ln),ln=ln>>1|(Si=0<(rr=Nh(Ge,Fe[2],rr,Be.Qc,0,Se,Qt)))<<3,Tt=Tt<<2|(3<rr?3:1<rr?2:Se[Qt+0]!=0),Qt+=16;ln>>=2,xi=xi>>1|Si<<5}qt|=Tt<<4*dn,di|=ln<<4<<dn,nr|=(240&xi)<<dn}Ie.la=di,an.la=nr,at.Hc=Xt,at.Gc=qt,at.ia=43690&qt?0:Be.ia,Fe=!(Xt|qt)}if(0<X.L&&(X.wa[X.Y+X.ja]=X.gd[me.$b][me.Za],X.wa[X.Y+X.ja].La|=!Fe),Ee.Ka)return Hn(ee,7,"Premature end-of-file encountered.")}if(lh(ee),X=De,Ee=1,me=(K=ee).D,Ie=0<K.L&&K.M>=K.zb&&K.M<=K.Va,K.Aa==0)e:{if(me.M=K.M,me.uc=Ie,Ch(K,me),Ee=1,me=(Tt=K.D).Nb,Ie=(qt=kg[K.L])*K.R,Ge=qt/2*K.B,mn=16*me*K.R,hi=8*me*K.B,Fe=K.sa,at=K.ta-Ie+mn,Be=K.qa,Se=K.ra-Ge+hi,Qt=K.Ha,an=K.Ia-Ge+hi,xi=(ln=Tt.M)==0,Xt=ln>=K.Va-1,K.Aa==2&&Ch(K,Tt),Tt.uc)for(Si=(rr=K).D.M,e(rr.D.uc),Tt=rr.yb;Tt<rr.Hb;++Tt){nr=Tt,di=Si;var Cr=(Or=(Ln=rr).D).Nb;dn=Ln.R;var Or=Or.wa[Or.Y+nr],Zr=Ln.sa,qi=Ln.ta+16*Cr*dn+16*nr,Qo=Or.dd,Er=Or.tc;if(Er!=0)if(e(3<=Er),Ln.L==1)0<nr&&Oa(Zr,qi,dn,Er+4),Or.La&&Vi(Zr,qi,dn,Er),0<di&&Rl(Zr,qi,dn,Er+4),Or.La&&Mh(Zr,qi,dn,Er);else{var Hs=Ln.B,Ll=Ln.qa,mu=Ln.ra+8*Cr*Hs+8*nr,La=Ln.Ha,Ln=Ln.Ia+8*Cr*Hs+8*nr;Cr=Or.ld,0<nr&&(xg(Zr,qi,dn,Er+4,Qo,Cr),Pl(Ll,mu,La,Ln,Hs,Er+4,Qo,Cr)),Or.La&&(Pa(Zr,qi,dn,Er,Qo,Cr),pu(Ll,mu,La,Ln,Hs,Er,Qo,Cr)),0<di&&(fu(Zr,qi,dn,Er+4,Qo,Cr),Ah(Ll,mu,La,Ln,Hs,Er+4,Qo,Cr)),Or.La&&(Ol(Zr,qi,dn,Er,Qo,Cr),kl(Ll,mu,La,Ln,Hs,Er,Qo,Cr))}}if(K.ia&&alert("todo:DitherRow"),X.put!=null){if(Tt=16*ln,ln=16*(ln+1),xi?(X.y=K.sa,X.O=K.ta+mn,X.f=K.qa,X.N=K.ra+hi,X.ea=K.Ha,X.W=K.Ia+hi):(Tt-=qt,X.y=Fe,X.O=at,X.f=Be,X.N=Se,X.ea=Qt,X.W=an),Xt||(ln-=qt),ln>X.o&&(ln=X.o),X.F=null,X.J=null,K.Fa!=null&&0<K.Fa.length&&Tt<ln&&(X.J=_h(K,X,Tt,ln-Tt),X.F=K.mb,X.F==null&&X.F.length==0)){Ee=Hn(K,3,"Could not decode alpha data.");break e}Tt<X.j&&(qt=X.j-Tt,Tt=X.j,e(!(1&qt)),X.O+=K.R*qt,X.N+=K.B*(qt>>1),X.W+=K.B*(qt>>1),X.F!=null&&(X.J+=X.width*qt)),Tt<ln&&(X.O+=X.v,X.N+=X.v>>1,X.W+=X.v>>1,X.F!=null&&(X.J+=X.v),X.ka=Tt-X.j,X.U=X.va-X.v,X.T=ln-Tt,Ee=X.put(X))}me+1!=K.Ic||Xt||(r(K.sa,K.ta-Ie,Fe,at+16*K.R,Ie),r(K.qa,K.ra-Ge,Be,Se+8*K.B,Ge),r(K.Ha,K.Ia-Ge,Qt,an+8*K.B,Ge))}if(!Ee)return Hn(ee,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),v&=1}return v?(u.cb=0,v):0}function mo(u,h,v,b,E){E=u[h+v+32*b]+(E>>3),u[h+v+32*b]=-256&E?0>E?0:255:E}function Zc(u,h,v,b,E,D){mo(u,h,0,v,b+E),mo(u,h,1,v,b+D),mo(u,h,2,v,b-D),mo(u,h,3,v,b-E)}function li(u){return(20091*u>>16)+u}function ch(u,h,v,b){var E,D=0,A=o(16);for(E=0;4>E;++E){var M=u[h+0]+u[h+8],P=u[h+0]-u[h+8],R=(35468*u[h+4]>>16)-li(u[h+12]),Y=li(u[h+4])+(35468*u[h+12]>>16);A[D+0]=M+Y,A[D+1]=P+R,A[D+2]=P-R,A[D+3]=M-Y,D+=4,h++}for(E=D=0;4>E;++E)M=(u=A[D+0]+4)+A[D+8],P=u-A[D+8],R=(35468*A[D+4]>>16)-li(A[D+12]),mo(v,b,0,0,M+(Y=li(A[D+4])+(35468*A[D+12]>>16))),mo(v,b,1,0,P+R),mo(v,b,2,0,P-R),mo(v,b,3,0,M-Y),D++,b+=32}function ag(u,h,v,b){var E=u[h+0]+4,D=35468*u[h+4]>>16,A=li(u[h+4]),M=35468*u[h+1]>>16;Zc(v,b,0,E+A,u=li(u[h+1]),M),Zc(v,b,1,E+D,u,M),Zc(v,b,2,E-D,u,M),Zc(v,b,3,E-A,u,M)}function dy(u,h,v,b,E){ch(u,h,v,b),E&&ch(u,h+16,v,b+4)}function lg(u,h,v,b){Bs(u,h+0,v,b,1),Bs(u,h+32,v,b+128,1)}function hy(u,h,v,b){var E;for(u=u[h+0]+4,E=0;4>E;++E)for(h=0;4>h;++h)mo(v,b,h,E,u)}function cg(u,h,v,b){u[h+0]&&Jr(u,h+0,v,b),u[h+16]&&Jr(u,h+16,v,b+4),u[h+32]&&Jr(u,h+32,v,b+128),u[h+48]&&Jr(u,h+48,v,b+128+4)}function fy(u,h,v,b){var E,D=o(16);for(E=0;4>E;++E){var A=u[h+0+E]+u[h+12+E],M=u[h+4+E]+u[h+8+E],P=u[h+4+E]-u[h+8+E],R=u[h+0+E]-u[h+12+E];D[0+E]=A+M,D[8+E]=A-M,D[4+E]=R+P,D[12+E]=R-P}for(E=0;4>E;++E)A=(u=D[0+4*E]+3)+D[3+4*E],M=D[1+4*E]+D[2+4*E],P=D[1+4*E]-D[2+4*E],R=u-D[3+4*E],v[b+0]=A+M>>3,v[b+16]=R+P>>3,v[b+32]=A-M>>3,v[b+48]=R-P>>3,b+=64}function uh(u,h,v){var b,E=h-32,D=Ei,A=255-u[E-1];for(b=0;b<v;++b){var M,P=D,R=A+u[h-1];for(M=0;M<v;++M)u[h+M]=P[R+u[E+M]];h+=32}}function py(u,h){uh(u,h,4)}function gy(u,h){uh(u,h,8)}function my(u,h){uh(u,h,16)}function Rs(u,h){var v;for(v=0;16>v;++v)r(u,h+32*v,u,h-32,16)}function Qc(u,h){var v;for(v=16;0<v;--v)i(u,h,u[h-1],16),h+=32}function eu(u,h,v){var b;for(b=0;16>b;++b)i(h,v+32*b,u,16)}function ug(u,h){var v,b=16;for(v=0;16>v;++v)b+=u[h-1+32*v]+u[h+v-32];eu(b>>5,u,h)}function Br(u,h){var v,b=8;for(v=0;16>v;++v)b+=u[h-1+32*v];eu(b>>4,u,h)}function vy(u,h){var v,b=8;for(v=0;16>v;++v)b+=u[h+v-32];eu(b>>4,u,h)}function dg(u,h){eu(128,u,h)}function _t(u,h,v){return u+2*h+v+2>>2}function yy(u,h){var v,b=h-32;for(b=new Uint8Array([_t(u[b-1],u[b+0],u[b+1]),_t(u[b+0],u[b+1],u[b+2]),_t(u[b+1],u[b+2],u[b+3]),_t(u[b+2],u[b+3],u[b+4])]),v=0;4>v;++v)r(u,h+32*v,b,0,b.length)}function by(u,h){var v=u[h-1],b=u[h-1+32],E=u[h-1+64],D=u[h-1+96];Oe(u,h+0,16843009*_t(u[h-1-32],v,b)),Oe(u,h+32,16843009*_t(v,b,E)),Oe(u,h+64,16843009*_t(b,E,D)),Oe(u,h+96,16843009*_t(E,D,D))}function Xo(u,h){var v,b=4;for(v=0;4>v;++v)b+=u[h+v-32]+u[h-1+32*v];for(b>>=3,v=0;4>v;++v)i(u,h+32*v,b,4)}function hg(u,h){var v=u[h-1+0],b=u[h-1+32],E=u[h-1+64],D=u[h-1-32],A=u[h+0-32],M=u[h+1-32],P=u[h+2-32],R=u[h+3-32];u[h+0+96]=_t(b,E,u[h-1+96]),u[h+1+96]=u[h+0+64]=_t(v,b,E),u[h+2+96]=u[h+1+64]=u[h+0+32]=_t(D,v,b),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=_t(A,D,v),u[h+3+64]=u[h+2+32]=u[h+1+0]=_t(M,A,D),u[h+3+32]=u[h+2+0]=_t(P,M,A),u[h+3+0]=_t(R,P,M)}function fg(u,h){var v=u[h+1-32],b=u[h+2-32],E=u[h+3-32],D=u[h+4-32],A=u[h+5-32],M=u[h+6-32],P=u[h+7-32];u[h+0+0]=_t(u[h+0-32],v,b),u[h+1+0]=u[h+0+32]=_t(v,b,E),u[h+2+0]=u[h+1+32]=u[h+0+64]=_t(b,E,D),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=_t(E,D,A),u[h+3+32]=u[h+2+64]=u[h+1+96]=_t(D,A,M),u[h+3+64]=u[h+2+96]=_t(A,M,P),u[h+3+96]=_t(M,P,P)}function tu(u,h){var v=u[h-1+0],b=u[h-1+32],E=u[h-1+64],D=u[h-1-32],A=u[h+0-32],M=u[h+1-32],P=u[h+2-32],R=u[h+3-32];u[h+0+0]=u[h+1+64]=D+A+1>>1,u[h+1+0]=u[h+2+64]=A+M+1>>1,u[h+2+0]=u[h+3+64]=M+P+1>>1,u[h+3+0]=P+R+1>>1,u[h+0+96]=_t(E,b,v),u[h+0+64]=_t(b,v,D),u[h+0+32]=u[h+1+96]=_t(v,D,A),u[h+1+32]=u[h+2+96]=_t(D,A,M),u[h+2+32]=u[h+3+96]=_t(A,M,P),u[h+3+32]=_t(M,P,R)}function dh(u,h){var v=u[h+0-32],b=u[h+1-32],E=u[h+2-32],D=u[h+3-32],A=u[h+4-32],M=u[h+5-32],P=u[h+6-32],R=u[h+7-32];u[h+0+0]=v+b+1>>1,u[h+1+0]=u[h+0+64]=b+E+1>>1,u[h+2+0]=u[h+1+64]=E+D+1>>1,u[h+3+0]=u[h+2+64]=D+A+1>>1,u[h+0+32]=_t(v,b,E),u[h+1+32]=u[h+0+96]=_t(b,E,D),u[h+2+32]=u[h+1+96]=_t(E,D,A),u[h+3+32]=u[h+2+96]=_t(D,A,M),u[h+3+64]=_t(A,M,P),u[h+3+96]=_t(M,P,R)}function _y(u,h){var v=u[h-1+0],b=u[h-1+32],E=u[h-1+64],D=u[h-1+96];u[h+0+0]=v+b+1>>1,u[h+2+0]=u[h+0+32]=b+E+1>>1,u[h+2+32]=u[h+0+64]=E+D+1>>1,u[h+1+0]=_t(v,b,E),u[h+3+0]=u[h+1+32]=_t(b,E,D),u[h+3+32]=u[h+1+64]=_t(E,D,D),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=D}function wy(u,h){var v=u[h-1+0],b=u[h-1+32],E=u[h-1+64],D=u[h-1+96],A=u[h-1-32],M=u[h+0-32],P=u[h+1-32],R=u[h+2-32];u[h+0+0]=u[h+2+32]=v+A+1>>1,u[h+0+32]=u[h+2+64]=b+v+1>>1,u[h+0+64]=u[h+2+96]=E+b+1>>1,u[h+0+96]=D+E+1>>1,u[h+3+0]=_t(M,P,R),u[h+2+0]=_t(A,M,P),u[h+1+0]=u[h+3+32]=_t(v,A,M),u[h+1+32]=u[h+3+64]=_t(b,v,A),u[h+1+64]=u[h+3+96]=_t(E,b,v),u[h+1+96]=_t(D,E,b)}function Cy(u,h){var v;for(v=0;8>v;++v)r(u,h+32*v,u,h-32,8)}function hh(u,h){var v;for(v=0;8>v;++v)i(u,h,u[h-1],8),h+=32}function Il(u,h,v){var b;for(b=0;8>b;++b)i(h,v+32*b,u,8)}function Ia(u,h){var v,b=8;for(v=0;8>v;++v)b+=u[h+v-32]+u[h-1+32*v];Il(b>>4,u,h)}function Ey(u,h){var v,b=4;for(v=0;8>v;++v)b+=u[h+v-32];Il(b>>3,u,h)}function Al(u,h){var v,b=4;for(v=0;8>v;++v)b+=u[h-1+32*v];Il(b>>3,u,h)}function fh(u,h){Il(128,u,h)}function nu(u,h,v){var b=u[h-v],E=u[h+0],D=3*(E-b)+My[1020+u[h-2*v]-u[h+v]],A=Dg[112+(D+4>>3)];u[h-v]=Ei[255+b+Dg[112+(D+3>>3)]],u[h+0]=Ei[255+E-A]}function pg(u,h,v,b){var E=u[h+0],D=u[h+v];return Hi[255+u[h-2*v]-u[h-v]]>b||Hi[255+D-E]>b}function gg(u,h,v,b){return 4*Hi[255+u[h-v]-u[h+0]]+Hi[255+u[h-2*v]-u[h+v]]<=b}function mg(u,h,v,b,E){var D=u[h-3*v],A=u[h-2*v],M=u[h-v],P=u[h+0],R=u[h+v],Y=u[h+2*v],ae=u[h+3*v];return 4*Hi[255+M-P]+Hi[255+A-R]>b?0:Hi[255+u[h-4*v]-D]<=E&&Hi[255+D-A]<=E&&Hi[255+A-M]<=E&&Hi[255+ae-Y]<=E&&Hi[255+Y-R]<=E&&Hi[255+R-P]<=E}function vg(u,h,v,b){var E=2*b+1;for(b=0;16>b;++b)gg(u,h+b,v,E)&&nu(u,h+b,v)}function Jo(u,h,v,b){var E=2*b+1;for(b=0;16>b;++b)gg(u,h+b*v,1,E)&&nu(u,h+b*v,1)}function Ls(u,h,v,b){var E;for(E=3;0<E;--E)vg(u,h+=4*v,v,b)}function xy(u,h,v,b){var E;for(E=3;0<E;--E)Jo(u,h+=4,v,b)}function Aa(u,h,v,b,E,D,A,M){for(D=2*D+1;0<E--;){if(mg(u,h,v,D,A))if(pg(u,h,v,M))nu(u,h,v);else{var P=u,R=h,Y=v,ae=P[R-2*Y],le=P[R-Y],ee=P[R+0],De=P[R+Y],me=P[R+2*Y],K=27*(Ee=My[1020+3*(ee-le)+My[1020+ae-De]])+63>>7,X=18*Ee+63>>7,Ee=9*Ee+63>>7;P[R-3*Y]=Ei[255+P[R-3*Y]+Ee],P[R-2*Y]=Ei[255+ae+X],P[R-Y]=Ei[255+le+K],P[R+0]=Ei[255+ee-K],P[R+Y]=Ei[255+De-X],P[R+2*Y]=Ei[255+me-Ee]}h+=b}}function vo(u,h,v,b,E,D,A,M){for(D=2*D+1;0<E--;){if(mg(u,h,v,D,A))if(pg(u,h,v,M))nu(u,h,v);else{var P=u,R=h,Y=v,ae=P[R-Y],le=P[R+0],ee=P[R+Y],De=Dg[112+((me=3*(le-ae))+4>>3)],me=Dg[112+(me+3>>3)],K=De+1>>1;P[R-2*Y]=Ei[255+P[R-2*Y]+K],P[R-Y]=Ei[255+ae+me],P[R+0]=Ei[255+le-De],P[R+Y]=Ei[255+ee-K]}h+=b}}function ph(u,h,v,b,E,D){Aa(u,h,v,1,16,b,E,D)}function Ml(u,h,v,b,E,D){Aa(u,h,1,v,16,b,E,D)}function Sy(u,h,v,b,E,D){var A;for(A=3;0<A;--A)vo(u,h+=4*v,v,1,16,b,E,D)}function ru(u,h,v,b,E,D){var A;for(A=3;0<A;--A)vo(u,h+=4,1,v,16,b,E,D)}function Dy(u,h,v,b,E,D,A,M){Aa(u,h,E,1,8,D,A,M),Aa(v,b,E,1,8,D,A,M)}function gh(u,h,v,b,E,D,A,M){Aa(u,h,1,E,8,D,A,M),Aa(v,b,1,E,8,D,A,M)}function mh(u,h,v,b,E,D,A,M){vo(u,h+4*E,E,1,8,D,A,M),vo(v,b+4*E,E,1,8,D,A,M)}function yg(u,h,v,b,E,D,A,M){vo(u,h+4,1,E,8,D,A,M),vo(v,b+4,1,E,8,D,A,M)}function iu(){this.ba=new uo,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bg(){this.ua=0,this.Wa=new V,this.vb=new V,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new N}function Iy(){this.xb=this.a=0,this.l=new Jc,this.ca=new uo,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bg,this.ab=0,this.gc=s(4,yh),this.Oc=0}function ou(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Tl(u,h,v,b,E,D,A){for(u=u==null?0:u[h+0],h=0;h<A;++h)E[D+h]=u+v[b+h]&255,u=E[D+h]}function bh(u,h,v,b,E,D,A){var M;if(u==null)Tl(null,null,v,b,E,D,A);else for(M=0;M<A;++M)E[D+M]=u[h+M]+v[b+M]&255}function Ma(u,h,v,b,E,D,A){if(u==null)Tl(null,null,v,b,E,D,A);else{var M,P=u[h+0],R=P,Y=P;for(M=0;M<A;++M)R=Y+(P=u[h+M])-R,Y=v[b+M]+(-256&R?0>R?0:255:R)&255,R=P,E[D+M]=Y}}function _h(u,h,v,b){var E=h.width,D=h.o;if(e(u!=null&&h!=null),0>v||0>=b||v+b>D)return null;if(!u.Cc){if(u.ga==null){var A;if(u.ga=new ou,(A=u.ga==null)||(A=h.width*h.o,e(u.Gb.length==0),u.Gb=o(A),u.Uc=0,u.Gb==null?A=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,A=1),A=!A),!A){A=u.ga;var M=u.Fa,P=u.P,R=u.qc,Y=u.mb,ae=u.nb,le=P+1,ee=R-1,De=A.l;if(e(M!=null&&Y!=null&&h!=null),Ra[0]=null,Ra[1]=Tl,Ra[2]=bh,Ra[3]=Ma,A.ca=Y,A.tb=ae,A.c=h.width,A.i=h.height,e(0<A.c&&0<A.i),1>=R)h=0;else if(A.$a=M[P+0]>>0&3,A.Z=M[P+0]>>2&3,A.Lc=M[P+0]>>4&3,P=M[P+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||P)h=0;else if(De.put=Go,De.ac=Nr,De.bc=$o,De.ma=A,De.width=h.width,De.height=h.height,De.Da=h.Da,De.v=h.v,De.va=h.va,De.j=h.j,De.o=h.o,A.$a)e:{e(A.$a==1),h=Fi();t:for(;;){if(h==null){h=0;break e}if(e(A!=null),A.mc=h,h.c=A.c,h.i=A.i,h.l=A.l,h.l.ma=A,h.l.width=A.c,h.l.height=A.i,h.a=0,J(h.m,M,le,ee),!Ko(A.c,A.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&ks(h.s)?(A.ic=1,M=h.c*h.i,h.Ta=null,h.Ua=0,h.V=o(M),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(A.ic=0,h=Dl(h,A.c)),!h))break t;h=1;break e}A.mc=null,h=0}else h=ee>=A.c*A.i;A=!h}if(A)return null;u.ga.Lc!=1?u.Ga=0:b=D-v}e(u.ga!=null),e(v+b<=D);e:{if(h=(M=u.ga).c,D=M.l.o,M.$a==0){if(le=u.rc,ee=u.Vc,De=u.Fa,P=u.P+1+v*h,R=u.mb,Y=u.nb+v*h,e(P<=u.P+u.qc),M.Z!=0)for(e(Ra[M.Z]!=null),A=0;A<b;++A)Ra[M.Z](le,ee,De,P,R,Y,h),le=R,ee=Y,Y+=h,P+=h;else for(A=0;A<b;++A)r(R,Y,De,P,h),le=R,ee=Y,Y+=h,P+=h;u.rc=le,u.Vc=ee}else{if(e(M.mc!=null),h=v+b,e((A=M.mc)!=null),e(h<=A.i),A.C>=h)h=1;else if(M.ic||oe(),M.ic){M=A.V,le=A.Ba,ee=A.c;var me=A.i,K=(De=1,P=A.$/ee,R=A.$%ee,Y=A.m,ae=A.s,A.$),X=ee*me,Ee=ee*h,Ie=ae.wc,Se=K<Ee?er(ae,R,P):null;e(K<=X),e(h<=me),e(ks(ae));t:for(;;){for(;!Y.h&&K<Ee;){if(R&Ie||(Se=er(ae,R,P)),e(Se!=null),te(Y),256>(me=ai(Se.G[0],Se.H[0],Y)))M[le+K]=me,++K,++R>=ee&&(R=0,++P<=h&&!(P%16)&&po(A,P));else{if(!(280>me)){De=0;break t}me=ho(me-256,Y);var Ge,Fe=ai(Se.G[4],Se.H[4],Y);if(te(Y),!(K>=(Fe=Wo(ee,Fe=ho(Fe,Y)))&&X-K>=me)){De=0;break t}for(Ge=0;Ge<me;++Ge)M[le+K+Ge]=M[le+K+Ge-Fe];for(K+=me,R+=me;R>=ee;)R-=ee,++P<=h&&!(P%16)&&po(A,P);K<Ee&&R&Ie&&(Se=er(ae,R,P))}e(Y.h==B(Y))}po(A,P>h?h:P);break t}!De||Y.h&&K<X?(De=0,A.a=Y.h?5:3):A.$=K,h=De}else h=go(A,A.V,A.Ba,A.c,A.i,h,$c);if(!h){b=0;break e}}v+b>=D&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*E}function g(u,h,v,b,E,D){for(;0<E--;){var A,M=u,P=h+(v?1:0),R=u,Y=h+(v?0:3);for(A=0;A<b;++A){var ae=R[Y+4*A];ae!=255&&(ae*=32897,M[P+4*A+0]=M[P+4*A+0]*ae>>23,M[P+4*A+1]=M[P+4*A+1]*ae>>23,M[P+4*A+2]=M[P+4*A+2]*ae>>23)}h+=D}}function x(u,h,v,b,E){for(;0<b--;){var D;for(D=0;D<v;++D){var A=u[h+2*D+0],M=15&(R=u[h+2*D+1]),P=4369*M,R=(240&R|R>>4)*P>>16;u[h+2*D+0]=(240&A|A>>4)*P>>16&240|(15&A|A<<4)*P>>16>>4&15,u[h+2*D+1]=240&R|M}h+=E}}function F(u,h,v,b,E,D,A,M){var P,R,Y=255;for(R=0;R<E;++R){for(P=0;P<b;++P){var ae=u[h+P];D[A+4*P]=ae,Y&=ae}h+=v,A+=M}return Y!=255}function $(u,h,v,b,E){var D;for(D=0;D<E;++D)v[b+D]=u[h+D]>>8}function oe(){Ui=g,bn=x,_n=F,qn=$}function ye(u,h,v){j[u]=function(b,E,D,A,M,P,R,Y,ae,le,ee,De,me,K,X,Ee,Ie){var Se,Ge=Ie-1>>1,Fe=M[P+0]|R[Y+0]<<16,at=ae[le+0]|ee[De+0]<<16;e(b!=null);var Be=3*Fe+at+131074>>2;for(h(b[E+0],255&Be,Be>>16,me,K),D!=null&&(Be=3*at+Fe+131074>>2,h(D[A+0],255&Be,Be>>16,X,Ee)),Se=1;Se<=Ge;++Se){var Qt=M[P+Se]|R[Y+Se]<<16,an=ae[le+Se]|ee[De+Se]<<16,Xt=Fe+Qt+at+an+524296,qt=Xt+2*(Qt+at)>>3;Be=qt+Fe>>1,Fe=(Xt=Xt+2*(Fe+an)>>3)+Qt>>1,h(b[E+2*Se-1],255&Be,Be>>16,me,K+(2*Se-1)*v),h(b[E+2*Se-0],255&Fe,Fe>>16,me,K+(2*Se-0)*v),D!=null&&(Be=Xt+at>>1,Fe=qt+an>>1,h(D[A+2*Se-1],255&Be,Be>>16,X,Ee+(2*Se-1)*v),h(D[A+2*Se+0],255&Fe,Fe>>16,X,Ee+(2*Se+0)*v)),Fe=Qt,at=an}1&Ie||(Be=3*Fe+at+131074>>2,h(b[E+Ie-1],255&Be,Be>>16,me,K+(Ie-1)*v),D!=null&&(Be=3*at+Fe+131074>>2,h(D[A+Ie-1],255&Be,Be>>16,X,Ee+(Ie-1)*v)))}}function Ae(){zi[Ig]=uN,zi[Ag]=QE,zi[YE]=dN,zi[Mg]=e3,zi[Tg]=t3,zi[Ty]=n3,zi[KE]=hN,zi[Ny]=QE,zi[Py]=e3,zi[Ng]=t3,zi[Oy]=n3}function qe(u){return u&~fN?0>u?0:255:u>>r3}function ot(u,h){return qe((19077*u>>8)+(26149*h>>8)-14234)}function At(u,h,v){return qe((19077*u>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function xt(u,h){return qe((19077*u>>8)+(33050*h>>8)-17685)}function Wt(u,h,v,b,E){b[E+0]=ot(u,v),b[E+1]=At(u,h,v),b[E+2]=xt(u,h)}function An(u,h,v,b,E){b[E+0]=xt(u,h),b[E+1]=At(u,h,v),b[E+2]=ot(u,v)}function Rn(u,h,v,b,E){var D=At(u,h,v);h=D<<3&224|xt(u,h)>>3,b[E+0]=248&ot(u,v)|D>>5,b[E+1]=h}function tr(u,h,v,b,E){var D=240&xt(u,h)|15;b[E+0]=240&ot(u,v)|At(u,h,v)>>4,b[E+1]=D}function Vr(u,h,v,b,E){b[E+0]=255,Wt(u,h,v,b,E+1)}function wr(u,h,v,b,E){An(u,h,v,b,E),b[E+3]=255}function yo(u,h,v,b,E){Wt(u,h,v,b,E),b[E+3]=255}function Ci(u,h){return 0>u?0:u>h?h:u}function Zo(u,h,v){j[u]=function(b,E,D,A,M,P,R,Y,ae){for(var le=Y+(-2&ae)*v;Y!=le;)h(b[E+0],D[A+0],M[P+0],R,Y),h(b[E+1],D[A+0],M[P+0],R,Y+v),E+=2,++A,++P,Y+=2*v;1&ae&&h(b[E+0],D[A+0],M[P+0],R,Y)}}function _g(u,h,v){return v==0?u==0?h==0?6:5:h==0?4:0:v}function wh(u,h,v,b,E){switch(u>>>30){case 3:Bs(h,v,b,E,0);break;case 2:zn(h,v,b,E);break;case 1:Jr(h,v,b,E)}}function Ch(u,h){var v,b,E=h.M,D=h.Nb,A=u.oc,M=u.pc+40,P=u.oc,R=u.pc+584,Y=u.oc,ae=u.pc+600;for(v=0;16>v;++v)A[M+32*v-1]=129;for(v=0;8>v;++v)P[R+32*v-1]=129,Y[ae+32*v-1]=129;for(0<E?A[M-1-32]=P[R-1-32]=Y[ae-1-32]=129:(i(A,M-32-1,127,21),i(P,R-32-1,127,9),i(Y,ae-32-1,127,9)),b=0;b<u.za;++b){var le=h.ya[h.aa+b];if(0<b){for(v=-1;16>v;++v)r(A,M+32*v-4,A,M+32*v+12,4);for(v=-1;8>v;++v)r(P,R+32*v-4,P,R+32*v+4,4),r(Y,ae+32*v-4,Y,ae+32*v+4,4)}var ee=u.Gd,De=u.Hd+b,me=le.ad,K=le.Hc;if(0<E&&(r(A,M-32,ee[De].y,0,16),r(P,R-32,ee[De].f,0,8),r(Y,ae-32,ee[De].ea,0,8)),le.Za){var X=A,Ee=M-32+16;for(0<E&&(b>=u.za-1?i(X,Ee,ee[De].y[15],4):r(X,Ee,ee[De+1].y,0,4)),v=0;4>v;v++)X[Ee+128+v]=X[Ee+256+v]=X[Ee+384+v]=X[Ee+0+v];for(v=0;16>v;++v,K<<=2)X=A,Ee=M+o3[v],bo[le.Ob[v]](X,Ee),wh(K,me,16*+v,X,Ee)}else if(X=_g(b,E,le.Ob[0]),ka[X](A,M),K!=0)for(v=0;16>v;++v,K<<=2)wh(K,me,16*+v,A,M+o3[v]);for(v=le.Gc,X=_g(b,E,le.Dd),Us[X](P,R),Us[X](Y,ae),K=me,X=P,Ee=R,255&(le=v>>0)&&(170&le?Ih(K,256,X,Ee):Bi(K,256,X,Ee)),le=Y,K=ae,255&(v>>=8)&&(170&v?Ih(me,320,le,K):Bi(me,320,le,K)),E<u.Ub-1&&(r(ee[De].y,0,A,M+480,16),r(ee[De].f,0,P,R+224,8),r(ee[De].ea,0,Y,ae+224,8)),v=8*D*u.B,ee=u.sa,De=u.ta+16*b+16*D*u.R,me=u.qa,le=u.ra+8*b+v,K=u.Ha,X=u.Ia+8*b+v,v=0;16>v;++v)r(ee,De+v*u.R,A,M+32*v,16);for(v=0;8>v;++v)r(me,le+v*u.B,P,R+32*v,8),r(K,X+v*u.B,Y,ae+32*v,8)}}function su(u,h,v,b,E,D,A,M,P){var R=[0],Y=[0],ae=0,le=P!=null?P.kd:0,ee=P??new vh;if(u==null||12>v)return 7;ee.data=u,ee.w=h,ee.ha=v,h=[h],v=[v],ee.gb=[ee.gb];e:{var De=h,me=v,K=ee.gb;if(e(u!=null),e(me!=null),e(K!=null),K[0]=0,12<=me[0]&&!t(u,De[0],"RIFF")){if(t(u,De[0]+8,"WEBP")){K=3;break e}var X=je(u,De[0]+4);if(12>X||4294967286<X){K=3;break e}if(le&&X>me[0]-8){K=7;break e}K[0]=X,De[0]+=12,me[0]-=12}K=0}if(K!=0)return K;for(X=0<ee.gb[0],v=v[0];;){e:{var Ee=u;me=h,K=v;var Ie=R,Se=Y,Ge=De=[0];if((Be=ae=[ae])[0]=0,8>K[0])K=7;else{if(!t(Ee,me[0],"VP8X")){if(je(Ee,me[0]+4)!=10){K=3;break e}if(18>K[0]){K=7;break e}var Fe=je(Ee,me[0]+8),at=1+Ue(Ee,me[0]+12);if(2147483648<=at*(Ee=1+Ue(Ee,me[0]+15))){K=3;break e}Ge!=null&&(Ge[0]=Fe),Ie!=null&&(Ie[0]=at),Se!=null&&(Se[0]=Ee),me[0]+=18,K[0]-=18,Be[0]=1}K=0}}if(ae=ae[0],De=De[0],K!=0)return K;if(me=!!(2&De),!X&&ae)return 3;if(D!=null&&(D[0]=!!(16&De)),A!=null&&(A[0]=me),M!=null&&(M[0]=0),A=R[0],De=Y[0],ae&&me&&P==null){K=0;break}if(4>v){K=7;break}if(X&&ae||!X&&!ae&&!t(u,h[0],"ALPH")){v=[v],ee.na=[ee.na],ee.P=[ee.P],ee.Sa=[ee.Sa];e:{Fe=u,K=h,X=v;var Be=ee.gb;Ie=ee.na,Se=ee.P,Ge=ee.Sa,at=22,e(Fe!=null),e(X!=null),Ee=K[0];var Qt=X[0];for(e(Ie!=null),e(Ge!=null),Ie[0]=null,Se[0]=null,Ge[0]=0;;){if(K[0]=Ee,X[0]=Qt,8>Qt){K=7;break e}var an=je(Fe,Ee+4);if(4294967286<an){K=3;break e}var Xt=8+an+1&-2;if(at+=Xt,0<Be&&at>Be){K=3;break e}if(!t(Fe,Ee,"VP8 ")||!t(Fe,Ee,"VP8L")){K=0;break e}if(Qt[0]<Xt){K=7;break e}t(Fe,Ee,"ALPH")||(Ie[0]=Fe,Se[0]=Ee+8,Ge[0]=an),Ee+=Xt,Qt-=Xt}}if(v=v[0],ee.na=ee.na[0],ee.P=ee.P[0],ee.Sa=ee.Sa[0],K!=0)break}v=[v],ee.Ja=[ee.Ja],ee.xa=[ee.xa];e:if(Be=u,K=h,X=v,Ie=ee.gb[0],Se=ee.Ja,Ge=ee.xa,Fe=K[0],Ee=!t(Be,Fe,"VP8 "),at=!t(Be,Fe,"VP8L"),e(Be!=null),e(X!=null),e(Se!=null),e(Ge!=null),8>X[0])K=7;else{if(Ee||at){if(Be=je(Be,Fe+4),12<=Ie&&Be>Ie-12){K=3;break e}if(le&&Be>X[0]-8){K=7;break e}Se[0]=Be,K[0]+=8,X[0]-=8,Ge[0]=at}else Ge[0]=5<=X[0]&&Be[Fe+0]==47&&!(Be[Fe+4]>>5),Se[0]=X[0];K=0}if(v=v[0],ee.Ja=ee.Ja[0],ee.xa=ee.xa[0],h=h[0],K!=0)break;if(4294967286<ee.Ja)return 3;if(M==null||me||(M[0]=ee.xa?2:1),A=[A],De=[De],ee.xa){if(5>v){K=7;break}M=A,le=De,me=D,u==null||5>v?u=0:5<=v&&u[h+0]==47&&!(u[h+4]>>5)?(X=[0],Be=[0],Ie=[0],J(Se=new I,u,h,v),ct(Se,X,Be,Ie)?(M!=null&&(M[0]=X[0]),le!=null&&(le[0]=Be[0]),me!=null&&(me[0]=Ie[0]),u=1):u=0):u=0}else{if(10>v){K=7;break}M=De,u==null||10>v||!ig(u,h+3,v-3)?u=0:(le=u[h+0]|u[h+1]<<8|u[h+2]<<16,me=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=ee.Ja||!me||!u?u=0:(A&&(A[0]=me),M&&(M[0]=u),u=1))}if(!u||(A=A[0],De=De[0],ae&&(R[0]!=A||Y[0]!=De)))return 3;P!=null&&(P[0]=ee,P.offset=h-P.w,e(4294967286>h-P.w),e(P.offset==P.ha-v));break}return K==0||K==7&&ae&&P==null?(D!=null&&(D[0]|=ee.na!=null&&0<ee.na.length),b!=null&&(b[0]=A),E!=null&&(E[0]=De),0):K}function Eh(u,h,v){var b=h.width,E=h.height,D=0,A=0,M=b,P=E;if(h.Da=u!=null&&0<u.Da,h.Da&&(M=u.cd,P=u.bd,D=u.v,A=u.j,11>v||(D&=-2,A&=-2),0>D||0>A||0>=M||0>=P||D+M>b||A+P>E))return 0;if(h.v=D,h.j=A,h.va=D+M,h.o=A+P,h.U=M,h.T=P,h.da=u!=null&&0<u.da,h.da){if(!It(M,P,v=[u.ib],D=[u.hb]))return 0;h.ib=v[0],h.hb=D[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*b/4&&h.hb<3*E/4,h.Kb=0),1}function xh(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function au(u,h,v,b){if(b==null||0>=u||0>=h)return 2;if(v!=null){if(v.Da){var E=v.cd,D=v.bd,A=-2&v.v,M=-2&v.j;if(0>A||0>M||0>=E||0>=D||A+E>u||M+D>h)return 2;u=E,h=D}if(v.da){if(!It(u,h,E=[v.ib],D=[v.hb]))return 2;u=E[0],h=D[0]}}b.width=u,b.height=h;e:{var P=b.width,R=b.height;if(u=b.S,0>=P||0>=R||!(u>=Ig&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){A=D=E=h=0;var Y=(M=P*s3[u])*R;if(11>u||(D=(R+1)/2*(h=(P+1)/2),u==12&&(A=(E=P)*R)),(R=o(Y+2*D+A))==null){u=1;break e}b.sd=R,11>u?((P=b.f.RGBA).eb=R,P.fb=0,P.A=M,P.size=Y):((P=b.f.kb).y=R,P.O=0,P.fa=M,P.Fd=Y,P.f=R,P.N=0+Y,P.Ab=h,P.Cd=D,P.ea=R,P.W=0+Y+D,P.Db=h,P.Ed=D,u==12&&(P.F=R,P.J=0+Y+2*D),P.Tc=A,P.lb=E)}if(h=1,E=b.S,D=b.width,A=b.height,E>=Ig&&13>E)if(11>E)u=b.f.RGBA,h&=(M=Math.abs(u.A))*(A-1)+D<=u.size,h&=M>=D*s3[E],h&=u.eb!=null;else{u=b.f.kb,M=(D+1)/2,Y=(A+1)/2,P=Math.abs(u.fa),R=Math.abs(u.Ab);var ae=Math.abs(u.Db),le=Math.abs(u.lb),ee=le*(A-1)+D;h&=P*(A-1)+D<=u.Fd,h&=R*(Y-1)+M<=u.Cd,h=(h&=ae*(Y-1)+M<=u.Ed)&P>=D&R>=M&ae>=M,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,E==12&&(h&=le>=D,h&=ee<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||v!=null&&v.fd&&(u=xh(b)),u}var Pr=64,lu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],cu=24,uu=32,Sh=8,ci=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(u){return u},j.Predictor2=function(u,h,v){return h[v+0]},j.Predictor3=function(u,h,v){return h[v+1]},j.Predictor4=function(u,h,v){return h[v-1]},j.Predictor5=function(u,h,v){return Ve(Ve(u,h[v+1]),h[v+0])},j.Predictor6=function(u,h,v){return Ve(u,h[v-1])},j.Predictor7=function(u,h,v){return Ve(u,h[v+0])},j.Predictor8=function(u,h,v){return Ve(h[v-1],h[v+0])},j.Predictor9=function(u,h,v){return Ve(h[v+0],h[v+1])},j.Predictor10=function(u,h,v){return Ve(Ve(u,h[v-1]),Ve(h[v+0],h[v+1]))},j.Predictor11=function(u,h,v){var b=h[v+0];return 0>=Pt(b>>24&255,u>>24&255,(h=h[v-1])>>24&255)+Pt(b>>16&255,u>>16&255,h>>16&255)+Pt(b>>8&255,u>>8&255,h>>8&255)+Pt(255&b,255&u,255&h)?b:u},j.Predictor12=function(u,h,v){var b=h[v+0];return(it((u>>24&255)+(b>>24&255)-((h=h[v-1])>>24&255))<<24|it((u>>16&255)+(b>>16&255)-(h>>16&255))<<16|it((u>>8&255)+(b>>8&255)-(h>>8&255))<<8|it((255&u)+(255&b)-(255&h)))>>>0},j.Predictor13=function(u,h,v){var b=h[v-1];return(Ct((u=Ve(u,h[v+0]))>>24&255,b>>24&255)<<24|Ct(u>>16&255,b>>16&255)<<16|Ct(u>>8&255,b>>8&255)<<8|Ct(u>>0&255,b>>0&255))>>>0};var Ay=j.PredictorAdd0;j.PredictorAdd1=jt,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Dh=j.PredictorAdd2;Vt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var wg,ji=j.ColorIndexInverseTransform,du=j.MapARGB,Cg=j.VP8LColorIndexInverseTransformAlpha,Eg=j.MapAlpha,Ta=j.VP8LPredictorsAdd=[];Ta.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var Nl,ui,Xr,Na,Fs,js,hu,Bs,zn,Ih,Jr,Bi,fu,xg,Ah,Pl,Ol,Pa,kl,pu,Rl,Oa,Mh,Vi,Ui,bn,_n,qn,dr=o(511),Vs=o(2041),Th=o(225),gu=o(767),Sg=0,My=Vs,Dg=Th,Ei=gu,Hi=dr,Ig=0,Ag=1,YE=2,Mg=3,Tg=4,Ty=5,KE=6,Ny=7,Py=8,Ng=9,Oy=10,XT=[2,3,7],JT=[3,3,11],XE=[280,256,256,256,40],ZT=[0,1,1,1,0],QT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nN=8,ky=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ry=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nh=null,rN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],iN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],JE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],aN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ka=[],bo=[],Us=[],cN=1,ZE=2,Ra=[],zi=[];ye("UpsampleRgbLinePair",Wt,3),ye("UpsampleBgrLinePair",An,3),ye("UpsampleRgbaLinePair",yo,4),ye("UpsampleBgraLinePair",wr,4),ye("UpsampleArgbLinePair",Vr,4),ye("UpsampleRgba4444LinePair",tr,2),ye("UpsampleRgb565LinePair",Rn,2);var uN=j.UpsampleRgbLinePair,dN=j.UpsampleBgrLinePair,QE=j.UpsampleRgbaLinePair,e3=j.UpsampleBgraLinePair,t3=j.UpsampleArgbLinePair,n3=j.UpsampleRgba4444LinePair,hN=j.UpsampleRgb565LinePair,Pg=16,Og=1<<Pg-1,Ph=-227,Ly=482,r3=6,fN=(256<<r3)-1,i3=0,pN=o(256),gN=o(256),mN=o(256),vN=o(256),yN=o(Ly-Ph),bN=o(Ly-Ph);Zo("YuvToRgbRow",Wt,3),Zo("YuvToBgrRow",An,3),Zo("YuvToRgbaRow",yo,4),Zo("YuvToBgraRow",wr,4),Zo("YuvToArgbRow",Vr,4),Zo("YuvToRgba4444Row",tr,2),Zo("YuvToRgb565Row",Rn,2);var o3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kg=[0,2,8],_N=[8,7,6,4,4,2,2,2,1,1,1,1],wN=1;this.WebPDecodeRGBA=function(u,h,v,b,E){var D=Ag,A=new iu,M=new uo;A.ba=M,M.S=D,M.width=[M.width],M.height=[M.height];var P=M.width,R=M.height,Y=new Os;if(Y==null||u==null)var ae=2;else e(Y!=null),ae=su(u,h,v,Y.width,Y.height,Y.Pd,Y.Qd,Y.format,null);if(ae!=0?P=0:(P!=null&&(P[0]=Y.width[0]),R!=null&&(R[0]=Y.height[0]),P=1),P){M.width=M.width[0],M.height=M.height[0],b!=null&&(b[0]=M.width),E!=null&&(E[0]=M.height);e:{if(b=new Jc,(E=new vh).data=u,E.w=h,E.ha=v,E.kd=1,h=[0],e(E!=null),((u=su(E.data,E.w,E.ha,null,null,null,h,null,E))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(e(A!=null),b.data=E.data,b.w=E.w+E.offset,b.ha=E.ha-E.offset,b.put=Go,b.ac=Nr,b.bc=$o,b.ma=A,E.xa){if((u=Fi())==null){A=1;break e}if(function(le,ee){var De=[0],me=[0],K=[0];t:for(;;){if(le==null)return 0;if(ee==null)return le.a=2,0;if(le.l=ee,le.a=0,J(le.m,ee.data,ee.w,ee.ha),!ct(le.m,De,me,K)){le.a=3;break t}if(le.xb=ZE,ee.width=De[0],ee.height=me[0],!Ko(De[0],me[0],1,le,null))break t;return 1}return e(le.a!=0),0}(u,b)){if(b=(h=au(b.width,b.height,A.Oa,A.ba))==0){t:{b=u;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((E=v.ma)!=null),b.xb!=0){if(b.ca=E.ba,b.tb=E.tb,e(b.ca!=null),!Eh(E.Oa,v,Mg)){b.a=2;break n}if(!Dl(b,v.width)||v.da)break n;if((v.da||rn(b.ca.S))&&oe(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&oe()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!dt(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!go(b,b.V,b.Ba,b.c,b.i,v.o,Gc))break n;E.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(h=u.a)}else h=u.a}else{if((u=new cy)==null){A=1;break e}if(u.Fa=E.na,u.P=E.P,u.qc=E.Sa,og(u,b)){if((h=au(b.width,b.height,A.Oa,A.ba))==0){if(u.Aa=0,v=A.Oa,e((E=u)!=null),v!=null){if(0<(P=0>(P=v.Md)?0:100<P?255:255*P/100)){for(R=Y=0;4>R;++R)12>(ae=E.pb[R]).lc&&(ae.ia=P*_N[0>ae.lc?0:ae.lc]>>3),Y|=ae.ia;Y&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=v.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}uy(u,b)||(h=u.a)}}else h=u.a}h==0&&A.Oa!=null&&A.Oa.fd&&(h=xh(A.ba))}A=h}D=A!=0?null:11>D?M.f.RGBA.eb:M.f.kb.y}else D=null;return D};var s3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(j,ne){for(var se="",T=0;T<4;T++)se+=String.fromCharCode(j[ne++]);return se}function d(j,ne){return(j[ne+0]<<0|j[ne+1]<<8|j[ne+2]<<16)>>>0}function f(j,ne){return(j[ne+0]<<0|j[ne+1]<<8|j[ne+2]<<16|j[ne+3]<<24)>>>0}new l;var m=[0],p=[0],y=[],_=new l,C=n,w=function(j,ne){var se={},T=0,N=!1,q=0,U=0;if(se.frames=[],!function(L,B,W,te){for(var ue=0;ue<te;ue++)if(L[B+ue]!=W.charCodeAt(ue))return!0;return!1}(j,ne,"RIFF",4)){for(f(j,ne+=4),ne+=8;ne<j.length;){var de=c(j,ne),ce=f(j,ne+=4);ne+=4;var ve=ce+(1&ce);switch(de){case"VP8 ":case"VP8L":se.frames[T]===void 0&&(se.frames[T]={}),(ge=se.frames[T]).src_off=N?U:ne-8,ge.src_size=q+ce+8,T++,N&&(N=!1,q=0,U=0);break;case"VP8X":(ge=se.header={}).feature_flags=j[ne];var J=ne+4;ge.canvas_width=1+d(j,J),J+=3,ge.canvas_height=1+d(j,J),J+=3;break;case"ALPH":N=!0,q=ve+8,U=ne-8;break;case"ANIM":(ge=se.header).bgcolor=f(j,ne),J=ne+4,ge.loop_count=(ke=j)[(I=J)+0]<<0|ke[I+1]<<8,J+=2;break;case"ANMF":var he,ge;(ge=se.frames[T]={}).offset_x=2*d(j,ne),ne+=3,ge.offset_y=2*d(j,ne),ne+=3,ge.width=1+d(j,ne),ne+=3,ge.height=1+d(j,ne),ne+=3,ge.duration=d(j,ne),ne+=3,he=j[ne++],ge.dispose=1&he,ge.blend=he>>1&1}de!="ANMF"&&(ne+=ve)}var ke,I;return se}}(C,0);w.response=C,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,O=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,m=[S.canvas_height],p=[S.canvas_width];for(var k=0;k<O.length&&O[k].blend!=0;k++);}var z=O[0],Z=_.WebPDecodeRGBA(C,z.src_off,z.src_size,p,m);z.rgba=Z,z.imgwidth=p[0],z.imgheight=m[0];for(var H=0;H<p[0]*m[0]*4;H++)y[H]=Z[H];return this.width=p,this.height=m,this.data=y,this}(function(n){var e=function(){return typeof K1=="function"},t=function(m,p,y,_){var C=4,w=s;switch(_){case n.image_compression.FAST:C=1,w=o;break;case n.image_compression.MEDIUM:C=6,w=a;break;case n.image_compression.SLOW:C=9,w=l}m=r(m,p,y,w);var S=K1(m,{level:C});return n.__addimage__.arrayBufferToBinaryString(S)},r=function(m,p,y,_){for(var C,w,S,O=m.length/p,k=new Uint8Array(m.length+O),z=d(),Z=0;Z<O;Z+=1){if(S=Z*p,C=m.subarray(S,S+p),_)k.set(_(C,y,w),S+Z);else{for(var H,j=z.length,ne=[];H<j;H+=1)ne[H]=z[H](C,y,w);var se=f(ne.concat());k.set(ne[se],S+Z)}w=C}return k},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},o=function(m,p){var y,_=[],C=m.length;_[0]=1;for(var w=0;w<C;w+=1)y=m[w-p]||0,_[w+1]=m[w]-y+256&255;return _},s=function(m,p,y){var _,C=[],w=m.length;C[0]=2;for(var S=0;S<w;S+=1)_=y&&y[S]||0,C[S+1]=m[S]-_+256&255;return C},a=function(m,p,y){var _,C,w=[],S=m.length;w[0]=3;for(var O=0;O<S;O+=1)_=m[O-p]||0,C=y&&y[O]||0,w[O+1]=m[O]+256-(_+C>>>1)&255;return w},l=function(m,p,y){var _,C,w,S,O=[],k=m.length;O[0]=4;for(var z=0;z<k;z+=1)_=m[z-p]||0,C=y&&y[z]||0,w=y&&y[z-p]||0,S=c(_,C,w),O[z+1]=m[z]-S+256&255;return O},c=function(m,p,y){if(m===p&&p===y)return m;var _=Math.abs(p-y),C=Math.abs(m-y),w=Math.abs(m+p-y-y);return _<=C&&_<=w?m:C<=w?p:y},d=function(){return[i,o,s,a,l]},f=function(m){var p=m.map(function(y){return y.reduce(function(_,C){return _+Math.abs(C)},0)});return p.indexOf(Math.min.apply(null,p))};n.processPNG=function(m,p,y,_){var C,w,S,O,k,z,Z,H,j,ne,se,T,N,q,U,de=this.decode.FLATE_DECODE,ce="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(S=new Vj(m)).imgData,w=S.bits,C=S.colorSpace,k=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){j=(H=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,se=new Uint8Array(j*S.colors),ne=new Uint8Array(j);var ve,J=S.pixelBitlength-S.bits;for(q=0,U=0;q<j;q++){for(N=H[q],ve=0;ve<J;)se[U++]=N>>>ve&255,ve+=S.bits;ne[q]=N>>>ve&255}}if(S.bits===16){j=(H=new Uint32Array(S.decodePixels().buffer)).length,se=new Uint8Array(j*(32/S.pixelBitlength)*S.colors),ne=new Uint8Array(j*(32/S.pixelBitlength)),T=S.colors>1,q=0,U=0;for(var he=0;q<j;)N=H[q++],se[U++]=N>>>0&255,T&&(se[U++]=N>>>16&255,N=H[q++],se[U++]=N>>>0&255),ne[he++]=N>>>16&255;w=8}_!==n.image_compression.NONE&&e()?(m=t(se,S.width*S.colors,S.colors,_),Z=t(ne,S.width,1,_)):(m=se,Z=ne,de=void 0)}if(S.colorType===3&&(C=this.color_spaces.INDEXED,z=S.palette,S.transparency.indexed)){var ge=S.transparency.indexed,ke=0;for(q=0,j=ge.length;q<j;++q)ke+=ge[q];if((ke/=255)===j-1&&ge.indexOf(0)!==-1)O=[ge.indexOf(0)];else if(ke!==j){for(H=S.decodePixels(),ne=new Uint8Array(H.length),q=0,j=H.length;q<j;q++)ne[q]=ge[H[q]];Z=t(ne,S.width,1)}}var I=function(L){var B;switch(L){case n.image_compression.FAST:B=11;break;case n.image_compression.MEDIUM:B=13;break;case n.image_compression.SLOW:B=14;break;default:B=12}return B}(_);return de===this.decode.FLATE_DECODE&&(ce="/Predictor "+I+" "),ce+="/Colors "+k+" /BitsPerComponent "+w+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:y,data:m,index:p,filter:de,decodeParameters:ce,transparency:O,palette:z,sMask:Z,predictor:I,width:S.width,height:S.height,bitsPerComponent:w,colorSpace:C}}}})(lt.API),function(n){n.processGIF89A=function(e,t,r,i){var o=new Uj(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new gC(100).encode(c,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A}(lt.API),Lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){vn.log("bit decode error:"+t)}},Lo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Lo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Lo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Lo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=n}},Lo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,d=i*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=n}},Lo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Lo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Lo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var o=new Lo(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new gC(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(lt.API),QI.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var o=new QI(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new gC(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(lt.API),lt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c],f=r[c+1],m=r[c+2],p=r[c+3];o[a++]=d,o[a++]=f,o[a++]=m,s[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},lt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dd=lt.API,Q1=Dd.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=e.doKerning!==!1,m=0,p=n.length,y=0,_=a[0]||l,C=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(m=f&&hn(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/d:0,C.push((a[r]||_)/l+m)),y=r;return C},KI=Dd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Dd.processArabic&&(n=Dd.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Q1.apply(this,arguments).reduce(function(o,s){return o+s},0)},XI=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},JI=function(n,e,t){t||(t={});var r,i,o,s,a,l,c,d=[],f=[d],m=t.textIndent||0,p=0,y=0,_=n.split(" "),C=Q1.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var w=Array(l).join(" "),S=[];_.map(function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map(function(z,Z){return(Z&&z.length?`
`:"")+z})):S.push(k[0])}),_=S,l=KI.apply(this,[w,t])}for(o=0,s=_.length;o<s;o++){var O=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),O=1),m+p+(y=(i=Q1.apply(this,[r,t])).reduce(function(k,z){return k+z},0))>e||O){if(y>e){for(a=XI.apply(this,[r,i,e-(m+p),e]),d.push(a.shift()),d=[a.pop()];a.length;)f.push([a.shift()]);y=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(k,z){return k+z},0)}else d=[r];f.push(d),m=y+l,p=C}else d.push(r),m+=p+y,p=C}return c=l?function(k,z){return(z?w:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(c)},Dd.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(JI.apply(this,[r[a],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(f){return"0x"+parseInt(f,10).toString(16)},s=n.__fontmetrics__.compress=function(f){var m,p,y,_,C=["{"];for(var w in f){if(m=f[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=o(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(y=o(m).slice(3),_="-"):(y=o(m).slice(2),_=""),y=_+y.slice(0,-1)+r[y.slice(-1)];else{if(hn(m)!=="object")throw new Error("Don't know what to do with value type "+hn(m)+".");y=s(m)}C.push(p+y)}return C.push("}"),C.join("")},a=n.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,y,_,C={},w=1,S=C,O=[],k="",z="",Z=f.length-1,H=1;H<Z;H+=1)(_=f[H])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(O.push([S,y]),S={},y=void 0):_=="}"?((p=O.pop())[0][p[1]]=S,y=void 0,S=p[0]):_=="-"?w=-1:y===void 0?t.hasOwnProperty(_)?(k+=t[_],y=parseInt(k,16)*w,w=1,k=""):k+=_:t.hasOwnProperty(_)?(z+=t[_],S[y]=parseInt(z,16)*w,w=1,y=void 0,z=""):z+=_;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(f){var m=f.font,p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var y=c.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])}(lt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(lp(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(lt),function(n){function e(){return(ft.canvg?Promise.resolve(ft.canvg):import("./chunk-KBHBTWUQ.js")).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}lt.API.addSvgAsImage=function(t,r,i,o,s,a,l,c){if(isNaN(r)||isNaN(i))throw vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(y){return y.fromString(f,t,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(m)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),r,i,o,s,l,c)})}}(),lt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},lt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,f=0;function m(y,_){var C,w=!1;for(C=0;C<y.length;C+=1)y[C]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=a.length;for(f=0;f<p;f+=1)t[a[f]].value=t[a[f]].defaultValue,t[a[f]].explicitSet=!1}if(hn(n)==="object"){for(i in n)if(o=n[i],m(a,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&m(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,_=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?_.push("/"+y+" /"+t[y].value):_.push("/"+y+" "+t[y].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(lt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,m=o.length;f<m;++f){if(a=s.metadata.characterToGlyph(o.charCodeAt(f)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(o){var s,a,l,c,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(a=Object.keys(o).sort(function(p,y){return p-y})).length;f<m;f++)s=a[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);var _=c();d({data:p,addLength1:!0,objectId:_}),l("endobj");var C=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ad(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ad(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+Ad(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var y=c();d({data:m,addLength1:!0,objectId:y}),l("endobj");var _=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var C=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ad(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Ad(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},f=o.mutex||{},m=f.pdfEscape,p=f.activeFontKey,y=f.fonts,_=p,C="",w=0,S="",O=y[_].encoding;if(y[_].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:f};for(S=a,_=p,Array.isArray(a)&&(S=a[0]),w=0;w<S.length;w+=1)y[_].metadata.hasOwnProperty("cmap")&&(s=y[_].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),s||S[w].charCodeAt(0)<256&&y[_].metadata.hasOwnProperty("Unicode")?C+=S[w]:C+="";var k="";return parseInt(_.slice(1))<14||O==="WinAnsiEncoding"?k=m(C,_).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(k=t(C,y[_])),f.isHex=!0,{text:k,x:l,y:c,options:d,mutex:f}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(lt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(lt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,d,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,O=0;this.__bidiEngine__={};var k=function(T){var N=T.charCodeAt(),q=N>>8,U=_[q];return U!==void 0?f[256*U+(255&N)]:q===252||q===253?"AL":w.test(q)?"L":q===8?"R":"N"},z=function(T){for(var N,q=0;q<T.length;q++){if((N=k(T.charAt(q)))==="L")return!1;if(N==="R")return!0}return!1},Z=function(T,N,q,U){var de,ce,ve,J,he=N[U];switch(he){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(he="AN");break;case"AL":S=!0,he="R";break;case"WS":he="N";break;case"CS":U<1||U+1>=N.length||(de=q[U-1])!=="EN"&&de!=="AN"||(ce=N[U+1])!=="EN"&&ce!=="AN"?he="N":S&&(ce="AN"),he=ce===de?ce:"N";break;case"ES":he=(de=U>0?q[U-1]:"B")==="EN"&&U+1<N.length&&N[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&q[U-1]==="EN"){he="EN";break}if(S){he="N";break}for(ve=U+1,J=N.length;ve<J&&N[ve]==="ET";)ve++;he=ve<J&&N[ve]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(J=N.length,ve=U+1;ve<J&&N[ve]==="NSM";)ve++;if(ve<J){var ge=T[U],ke=ge>=1425&&ge<=2303||ge===64286;if(de=N[ve],ke&&(de==="R"||de==="AL")){he="R";break}}}he=U<1||(de=N[U-1])==="B"?"N":q[U-1];break;case"B":S=!1,i=!0,he=O;break;case"S":o=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":he="N"}return he},H=function(T,N,q){var U=T.split("");return q&&j(U,q,{hiLevel:O}),U.reverse(),N&&N.reverse(),U.join("")},j=function(T,N,q){var U,de,ce,ve,J,he=-1,ge=T.length,ke=0,I=[],L=O?p:m,B=[];for(S=!1,i=!1,o=!1,de=0;de<ge;de++)B[de]=k(T[de]);for(ce=0;ce<ge;ce++){if(J=ke,I[ce]=Z(T,B,I,ce),U=240&(ke=L[J][y[I[ce]]]),ke&=15,N[ce]=ve=L[ke][5],U>0)if(U===16){for(de=he;de<ce;de++)N[de]=1;he=-1}else he=-1;if(L[ke][6])he===-1&&(he=ce);else if(he>-1){for(de=he;de<ce;de++)N[de]=ve;he=-1}B[ce]==="B"&&(N[ce]=0),q.hiLevel|=ve}o&&function(W,te,ue){for(var fe=0;fe<ue;fe++)if(W[fe]==="S"){te[fe]=O;for(var pe=fe-1;pe>=0&&W[pe]==="WS";pe--)te[pe]=O}}(B,N,ge)},ne=function(T,N,q,U,de){if(!(de.hiLevel<T)){if(T===1&&O===1&&!i)return N.reverse(),void(q&&q.reverse());for(var ce,ve,J,he,ge=N.length,ke=0;ke<ge;){if(U[ke]>=T){for(J=ke+1;J<ge&&U[J]>=T;)J++;for(he=ke,ve=J-1;he<ve;he++,ve--)ce=N[he],N[he]=N[ve],N[ve]=ce,q&&(ce=q[he],q[he]=q[ve],q[ve]=ce);ke=J}ke++}}},se=function(T,N,q){var U=T.split(""),de={hiLevel:O};return q||(q=[]),j(U,q,de),function(ce,ve,J){if(J.hiLevel!==0&&d)for(var he,ge=0;ge<ce.length;ge++)ve[ge]===1&&(he=C.indexOf(ce[ge]))>=0&&(ce[ge]=C[he+1])}(U,q,de),ne(2,U,N,q,de),ne(1,U,N,q,de),U.join("")};return this.__bidiEngine__.doBidiReorder=function(T,N,q){if(function(de,ce){if(ce)for(var ve=0;ve<de.length;ve++)ce[ve]=ve;a===void 0&&(a=z(de)),c===void 0&&(c=z(de))}(T,N),s||!l||c)if(s&&l&&a^c)O=a?1:0,T=H(T,N,q);else if(!s&&l&&c)O=a?1:0,T=se(T,N,q),T=H(T,N);else if(!s||a||l||c){if(s&&!l&&a^c)T=H(T,N),a?(O=0,T=se(T,N,q)):(O=1,T=se(T,N,q),T=H(T,N));else if(s&&a&&!l&&c)O=1,T=se(T,N,q),T=H(T,N);else if(!s&&!l&&a^c){var U=d;a?(O=1,T=se(T,N,q),O=0,d=!1,T=se(T,N,q),d=U):(O=0,T=se(T,N,q),T=H(T,N),O=1,d=!1,T=se(T,N,q),d=U,T=H(T,N))}}else O=0,T=se(T,N,q);else O=a?1:0,T=se(T,N,q);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new fl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nB(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Hj(this.contents),this.head=new qj(this),this.name=new Kj(this),this.cmap=new dA(this),this.toUnicode={},this.hhea=new Gj(this),this.maxp=new Xj(this),this.hmtx=new Jj(this),this.post=new Wj(this),this.os2=new $j(this),this.loca=new tB(this),this.glyf=new Zj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var jo,fl=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),Hj=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,s,a,l,c,d,f,m,p,y,_;for(_ in p=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),d=16*p-f,(i=new fl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(s),i.writeShort(d),o=16*p,c=i.pos+o,a=null,y=[],t)for(m=t[_],i.writeString(_),i.writeInt(n(m)),i.writeInt(c),i.writeInt(m.length),y=y.concat(m),_==="head"&&(a=c),c+=m.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=hA.call(t);t.length%4;)t.push(0);for(o=new fl(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),zj={}.hasOwnProperty,ws=function(n,e){for(var t in e)zj.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};jo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var qj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new fl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),eA=function(){function n(e,t){var r,i,o,s,a,l,c,d,f,m,p,y,_,C,w,S,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,o=function(){var k,z;for(z=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)z.push(e.readUInt16());return z}(),e.pos+=2,_=function(){var k,z;for(z=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)z.push(e.readUInt16());return z}(),c=function(){var k,z;for(z=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)z.push(e.readUInt16());return z}(),d=function(){var k,z;for(z=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var k,z;for(z=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)z.push(e.readUInt16());return z}(),l=w=0,O=o.length;w<O;l=++w)for(C=o[l],r=S=y=_[l];y<=C?S<=C:S>=C;r=y<=C?++S:--S)d[l]===0?s=r+c[l]:(s=a[d[l]/2+(r-y)-(m-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=f}return n.encode=function(e,t){var r,i,o,s,a,l,c,d,f,m,p,y,_,C,w,S,O,k,z,Z,H,j,ne,se,T,N,q,U,de,ce,ve,J,he,ge,ke,I,L,B,W,te,ue,fe,pe,Oe,Pe,Ue;switch(U=new fl,s=Object.keys(e).sort(function(je,dt){return je-dt}),t){case"macroman":for(_=0,C=function(){var je=[];for(y=0;y<256;++y)je.push(0);return je}(),S={0:0},o={},de=0,he=s.length;de<he;de++)S[pe=e[i=s[de]]]==null&&(S[pe]=++_),o[i]={old:e[i],new:S[e[i]]},C[i]=S[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(C),{charMap:o,subtable:U.data,maxGlyphID:_+1};case"unicode":for(N=[],f=[],O=0,S={},r={},w=c=null,ce=0,ge=s.length;ce<ge;ce++)S[z=e[i=s[ce]]]==null&&(S[z]=++O),r[i]={old:z,new:S[z]},a=S[z]-i,w!=null&&a===c||(w&&f.push(w),N.push(i),c=a),w=i;for(w&&f.push(w),f.push(65535),N.push(65535),se=2*(ne=N.length),j=2*Math.pow(Math.log(ne)/Math.LN2,2),m=Math.log(j/2)/Math.LN2,H=2*ne-j,l=[],Z=[],p=[],y=ve=0,ke=N.length;ve<ke;y=++ve){if(T=N[y],d=f[y],T===65535){l.push(0),Z.push(0);break}if(T-(q=r[T].new)>=32768)for(l.push(0),Z.push(2*(p.length+ne-y)),i=J=T;T<=d?J<=d:J>=d;i=T<=d?++J:--J)p.push(r[i].new);else l.push(q-T),Z.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*ne+2*p.length),U.writeUInt16(0),U.writeUInt16(se),U.writeUInt16(j),U.writeUInt16(m),U.writeUInt16(H),ue=0,I=f.length;ue<I;ue++)i=f[ue],U.writeUInt16(i);for(U.writeUInt16(0),fe=0,L=N.length;fe<L;fe++)i=N[fe],U.writeUInt16(i);for(Oe=0,B=l.length;Oe<B;Oe++)a=l[Oe],U.writeUInt16(a);for(Pe=0,W=Z.length;Pe<W;Pe++)k=Z[Pe],U.writeUInt16(k);for(Ue=0,te=p.length;Ue<te;Ue++)_=p[Ue],U.writeUInt16(_);return{charMap:r,subtable:U.data,maxGlyphID:O+1}}},n}(),dA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new eA(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,o;return r==null&&(r="macroman"),i=eA.encode(t,r),(o=new fl).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),Gj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),$j=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Wj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),Yj=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Kj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,o,s,a,l,c,d,f,m,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=f=0,m=i.length;f<m;s=++f)o=i[s],t.pos=o.offset,d=t.readString(o.length),a=new Yj(d,o),c[p=o.nameID]==null&&(c[p]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Xj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Jj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,o,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)f.push(t.readInt16());return f}(),this.widths=(function(){var d,f,m,p;for(p=[],d=0,f=(m=this.metrics).length;d<f;d++)s=m[d],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),hA=[].slice,Zj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,o,s,a,l,c,d,f,m;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(o=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new fl(r.read(o))).readShort(),d=l.readShort(),m=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=a===-1?new eB(l,d,m,c,f):new Qj(l,a,d,m,c,f),this.cache[t]))},e.prototype.encode=function(t,r,i){var o,s,a,l,c;for(a=[],s=[],l=0,c=r.length;l<c;l++)o=t[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),Qj=function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),eB=function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new fl(hA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),tB=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ws(e,jo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var d=new Array(4*i.length),f=0;f<i.length;++f)d[4*f+3]=255&i[f],d[4*f+2]=(65280&i[f])>>8,d[4*f+1]=(16711680&i[f])>>16,d[4*f]=(4278190080&i[f])>>24;return d},e}(),nB=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))r=l[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,s,a,l,c,d,f,m,p,y,_,C,w;for(i in r=dA.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(y in m=r.maxGlyphID,s)y in p||(p[y]=m++);return d=function(S){var O,k;for(O in k={},S)k[S[O]]=O;return k}(p),f=Object.keys(d).sort(function(S,O){return S-O}),_=function(){var S,O,k;for(k=[],S=0,O=f.length;S<O;S++)a=f[S],k.push(d[a]);return k}(),o=this.font.glyf.encode(s,_,p),c=this.font.loca.encode(o.offsets,_),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();lt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)s=t[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e}();var xa=C3(kM());var nq=["konvaContainer"],rq=["imageInput"];function iq(n,e){if(n&1&&Me(0,"div",24),n&2){let t=st();ii("background-size",t.settings().gridSize*t.settings().zoom+"px "+t.settings().gridSize*t.settings().zoom+"px")}}var E2=class n{elements=Jt([]);settings=Jt({snapToGrid:!0,gridSize:20,showGrid:!0,showGuides:!1,zoom:1,canvasWidth:1400,canvasHeight:990});fontOptions=Jt([{name:"Arial",value:"Arial, sans-serif"},{name:"Times New Roman",value:"Times New Roman, serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Helvetica",value:"Helvetica, sans-serif"},{name:"Trebuchet MS",value:"Trebuchet MS, sans-serif"},{name:"Verdana",value:"Verdana, sans-serif"}]);elementsChange=new wn;selectedElementChange=new wn;exportRequest=new wn;konvaContainer;imageInput;stage;layer;backgroundLayer;transformer;selectedElement=Jt(null);history=[];historyIndex=0;maxHistory=50;dragThrottleMap=new Map;isDragging=!1;constructor(){G_(()=>{let e=this.elements();this.stage&&e.length>0&&!this.isDragging&&this.renderElements()})}ngAfterViewInit(){this.initializeKonva(),this.renderElements()}ngOnDestroy(){this.stage&&this.stage.destroy()}initializeKonva(){let e=this.konvaContainer.nativeElement;this.stage=new xa.default.Stage({container:e,width:this.settings().canvasWidth,height:this.settings().canvasHeight,draggable:!1,listening:!0}),this.backgroundLayer=new xa.default.Layer,this.layer=new xa.default.Layer({listening:!0,hitGraphEnabled:!0}),this.stage.add(this.backgroundLayer),this.stage.add(this.layer),this.transformer=new xa.default.Transformer({enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right"],borderStroke:"#007bff",borderStrokeWidth:2,anchorStroke:"#007bff",anchorFill:"white",anchorStrokeWidth:2,anchorSize:10,rotateAnchorOffset:40,keepRatio:!1,boundBoxFunc:(t,r)=>r.width<10||r.height<10?t:r}),this.layer.add(this.transformer),this.stage.on("click tap",t=>{t.target===this.stage&&this.deselectAll()}),this.stage.on("dragend",()=>{this.saveToHistory(),this.emitElementsChange()})}renderElements(){let e=this.layer.children;for(let t=e.length-1;t>=0;t--){let r=e[t];r!==this.transformer&&r.destroy()}this.elements().forEach(t=>{t.type==="background"?this.renderBackground(t):t.type==="text"?this.renderText(t):t.type==="image"&&this.renderImage(t)}),this.transformer.moveToTop(),this.layer.batchDraw()}renderBackground(e){if(e.type!=="background")return;let t=e,r=new Image;r.onload=()=>{this.backgroundLayer.destroyChildren();let i=new xa.default.Image({x:0,y:0,image:r,width:this.settings().canvasWidth,height:this.settings().canvasHeight,opacity:t.opacity||1,listening:!1});this.backgroundLayer.add(i),this.backgroundLayer.batchDraw()},r.src=t.src}renderText(e){let t=new xa.default.Text({id:e.id,x:e.x,y:e.y,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,fill:e.fill,rotation:e.rotation,fontStyle:e.fontStyle,align:e.align,width:e.width,height:e.height,draggable:!0,visible:e.visible,opacity:e.opacity,scaleX:e.scaleX,scaleY:e.scaleY,strokeWidth:e.strokeWidth,stroke:e.stroke,textDecoration:e.textDecoration,letterSpacing:e.letterSpacing,lineHeight:e.lineHeight,listening:!0,perfectDrawEnabled:!1});t.on("click tap",r=>{r.cancelBubble=!0,this.selectElement(e)}),t.on("dblclick dbltap",r=>{r.cancelBubble=!0,this.startTextEditing(t)}),t.on("dragstart",()=>{this.isDragging=!0,t.moveToTop(),t.cache()}),t.on("dragmove",()=>{this.updateElementPosition(e.id,t.x(),t.y())}),t.on("dragend",()=>{this.isDragging=!1,t.clearCache();let r=this.snapToGrid(t.x()),i=this.snapToGrid(t.y());(r!==t.x()||i!==t.y())&&(t.position({x:r,y:i}),this.layer.batchDraw()),this.updateElementPosition(e.id,r,i),this.saveToHistory(),this.emitElementsChange()}),t.on("transform",()=>{this.updateElementTransform(e.id,t)}),t.on("transformend",()=>{this.saveToHistory(),this.emitElementsChange()}),this.layer.add(t)}renderImage(e){let t=new Image;t.onload=()=>{let r=new xa.default.Image({id:e.id,x:e.x,y:e.y,image:t,width:e.width,height:e.height,rotation:e.rotation,draggable:e.draggable,visible:e.visible,opacity:e.opacity,scaleX:e.scaleX,scaleY:e.scaleY});r.on("click tap",()=>{this.selectElement(e)}),r.on("dragstart",()=>{this.isDragging=!0,r.moveToTop(),r.cache()}),r.on("dragmove",()=>{this.updateElementPosition(e.id,r.x(),r.y())}),r.on("dragend",()=>{this.isDragging=!1,r.clearCache();let i=this.snapToGrid(r.x()),o=this.snapToGrid(r.y());(i!==r.x()||o!==r.y())&&(r.position({x:i,y:o}),this.layer.batchDraw()),this.updateElementPosition(e.id,i,o),this.saveToHistory(),this.emitElementsChange()}),r.on("transform",()=>{this.updateElementTransform(e.id,r)}),this.layer.add(r),this.layer.batchDraw()},t.src=e.src}selectElement(e){this.selectedElement.set(e),this.selectedElementChange.emit(e);let t=this.stage.findOne(`#${e.id}`);t&&(this.transformer.nodes([]),this.transformer.nodes([t]),this.transformer.moveToTop(),this.layer.batchDraw())}deselectAll(){this.selectedElement.set(null),this.selectedElementChange.emit(null),this.transformer.nodes([]),this.layer.batchDraw()}startTextEditing(e){let t=e.absolutePosition(),r=this.stage.container().getBoundingClientRect(),i=document.createElement("textarea");document.body.appendChild(i),i.value=e.text(),i.style.position="absolute",i.style.top=r.top+t.y+"px",i.style.left=r.left+t.x+"px",i.style.width=e.width()*e.scaleX()+"px",i.style.height=e.height()*e.scaleY()+"px",i.style.fontSize=e.fontSize()*e.scaleY()+"px",i.style.border="2px solid #007bff",i.style.padding="4px",i.style.margin="0",i.style.overflow="hidden",i.style.background="white",i.style.outline="none",i.style.resize="none",i.style.fontFamily=e.fontFamily(),i.style.transform=`rotateZ(${e.rotation()}deg)`,i.style.transformOrigin="left top",i.style.lineHeight=e.lineHeight().toString(),i.style.fontStyle=e.fontStyle(),i.style.textAlign=e.align(),i.focus(),i.select();let o=()=>{i.parentNode?.removeChild(i),window.removeEventListener("click",s),e.show(),this.layer.batchDraw()},s=a=>{a.target!==i&&(e.text(i.value),this.updateTextContent(e.id(),i.value),o())};i.addEventListener("keydown",a=>{a.key==="Enter"&&!a.shiftKey&&(e.text(i.value),this.updateTextContent(e.id(),i.value),o()),a.key==="Escape"&&o()}),setTimeout(()=>{window.addEventListener("click",s)}),e.hide(),this.layer.batchDraw()}addText(){let e={id:`text-${Date.now()}`,type:"text",text:"Nuevo Texto",x:100,y:100,width:200,height:30,fontSize:24,fontFamily:"Arial, sans-serif",fill:"#000000",rotation:0,fontStyle:"normal",align:"left",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2},t=[...this.elements(),e];this.elements.set(t),this.saveToHistory(),this.renderElements(),this.selectElement(e),this.emitElementsChange()}addImage(){this.imageInput.nativeElement.click()}onImageSelect(e){let r=e.target.files?.[0];if(r){let i=new FileReader;i.onload=o=>{let s=o.target?.result,a={id:`image-${Date.now()}`,type:"image",src:s,x:100,y:100,width:200,height:150,rotation:0,draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1},l=[...this.elements(),a];this.elements.set(l),this.saveToHistory(),this.renderElements(),this.selectElement(a),this.emitElementsChange()},i.readAsDataURL(r)}}deleteSelected(){let e=this.selectedElement();if(e){let t=this.elements().filter(r=>r.id!==e.id);this.elements.set(t),this.deselectAll(),this.saveToHistory(),this.renderElements(),this.emitElementsChange()}}updateElementPosition(e,t,r){let i=this.elements().map(s=>s.id===e?Xe(Ce({},s),{x:t,y:r}):s);this.elements.set(i);let o=this.selectedElement();o&&o.id===e&&(o.type==="text"||o.type==="image")&&this.selectedElement.set(Xe(Ce({},o),{x:t,y:r}))}getSelectedTextElement(){let e=this.selectedElement();return e?.type==="text"?e:null}getSelectedImageElement(){let e=this.selectedElement();return e?.type==="image"?e:null}updateElementTransform(e,t){let r=this.elements().map(i=>{if(i.id===e){let o=Ce(Ce(Xe(Ce({},i),{x:t.x(),y:t.y(),rotation:t.rotation(),scaleX:t.scaleX(),scaleY:t.scaleY()}),i.type==="text"&&{width:t.width()*t.scaleX(),height:t.height()*t.scaleY()}),i.type==="image"&&{width:t.width()*t.scaleX(),height:t.height()*t.scaleY()});if(i.type==="text"){let s=t,a=s.width()*s.scaleX(),l=s.height()*s.scaleY();s.width(a),s.height(l),s.scaleX(1),s.scaleY(1)}return o}return i});this.elements.set(r),this.elements().find(i=>i.id===e)?.type==="image"&&(t.scaleX(1),t.scaleY(1))}updateTextContent(e,t){let r=this.elements().map(i=>i.id===e&&i.type==="text"?Xe(Ce({},i),{text:t}):i);this.elements.set(r),this.emitElementsChange()}updateTextProperty(e,t){let i=t.target.value;(e==="fontSize"||e==="rotation"||e==="opacity"||e==="strokeWidth"||e==="letterSpacing"||e==="lineHeight")&&(i=parseFloat(i));let o=this.selectedElement();if(o&&o.type==="text"){let s=Xe(Ce({},o),{[e]:i}),a=this.elements().map(l=>l.id===o.id?s:l);this.elements.set(a),this.selectedElement.set(s),this.renderElements(),this.selectElement(s),this.emitElementsChange()}}updateImageProperty(e,t){let r=t.target,i=parseFloat(r.value),o=this.selectedElement();if(o&&o.type==="image"){let s=Xe(Ce({},o),{[e]:i}),a=this.elements().map(l=>l.id===o.id?s:l);this.elements.set(a),this.selectedElement.set(s),this.renderElements(),this.selectElement(s),this.emitElementsChange()}}onZoomChange(e){let t=e.target,r=parseFloat(t.value),i=Xe(Ce({},this.settings()),{zoom:r});this.settings.set(i),this.stage.scale({x:r,y:r}),this.stage.batchDraw()}toggleGrid(){let e=this.settings(),t=Xe(Ce({},e),{showGrid:!e.showGrid});this.settings.set(t)}onGridSizeChange(e){let t=e.target,r=parseInt(t.value),i=Xe(Ce({},this.settings()),{gridSize:r});this.settings.set(i)}snapToGrid(e){let t=this.settings();if(!t.snapToGrid)return e;let r=t.gridSize;return Math.round(e/r)*r}saveToHistory(){let e=JSON.parse(JSON.stringify(this.elements()));this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.push(e),this.history.length>this.maxHistory&&(this.history=this.history.slice(-this.maxHistory)),this.historyIndex=this.history.length-1}undo(){if(this.canUndo()){this.historyIndex--;let e=this.history[this.historyIndex];this.elements.set([...e]),this.deselectAll(),this.renderElements(),this.emitElementsChange()}}redo(){if(this.canRedo()){this.historyIndex++;let e=this.history[this.historyIndex];this.elements.set([...e]),this.deselectAll(),this.renderElements(),this.emitElementsChange()}}canUndo(){return this.historyIndex>0}canRedo(){return this.historyIndex<this.history.length-1}setBackgroundImage(e){if(this.backgroundLayer.destroyChildren(),!e){this.backgroundLayer.batchDraw();return}let t=new Image;t.onload=()=>{let r=new xa.default.Image({x:0,y:0,image:t,width:this.settings().canvasWidth,height:this.settings().canvasHeight,opacity:1,listening:!1});this.backgroundLayer.add(r),this.backgroundLayer.batchDraw()},t.onerror=()=>{console.warn("Error loading background image:",e)},t.src=e}updateElements(e){this.elements.set([...e]),this.renderElements()}exportAsImage(e="png"){return this.stage.toDataURL({mimeType:e==="png"?"image/png":"image/jpeg",quality:1,pixelRatio:2})}emitElementsChange(){this.elementsChange.emit(this.elements())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-konva-editor"]],viewQuery:function(t,r){if(t&1&&(ed(nq,5),ed(rq,5)),t&2){let i;rl(i=il())&&(r.konvaContainer=i.first),rl(i=il())&&(r.imageInput=i.first)}},inputs:{elements:"elements",settings:"settings",fontOptions:"fontOptions"},outputs:{elementsChange:"elementsChange",selectedElementChange:"selectedElementChange",exportRequest:"exportRequest"},decls:37,vars:14,consts:[["imageInput",""],["konvaContainer",""],[1,"konva-editor"],[1,"editor-toolbar"],[1,"toolbar-section"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-type"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"bi","bi-image"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],[1,"bi","bi-arrow-counterclockwise"],[1,"bi","bi-arrow-clockwise"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"bi","bi-trash"],[1,"form-label"],["type","checkbox",1,"form-check-input","me-1",3,"change","checked"],["type","range","min","10","max","50","step","5",1,"form-range","grid-size-slider",3,"input","value","disabled"],[1,"text-muted"],["type","range","min","0.1","max","3","step","0.1",1,"form-range","zoom-slider",3,"input","value"],[1,"zoom-value"],[1,"canvas-container"],[1,"konva-container"],["class","grid-overlay",3,"background-size",4,"ngIf"],[1,"grid-overlay"]],template:function(t,r){if(t&1){let i=vr();re(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),We("click",function(){return yt(i),bt(r.addText())}),Me(4,"i",6),G(5," Agregar Texto "),Q(),re(6,"button",7),We("click",function(){return yt(i),bt(r.addImage())}),Me(7,"i",8),G(8," Agregar Imagen "),Q(),re(9,"input",9,0),We("change",function(s){return yt(i),bt(r.onImageSelect(s))}),Q()(),re(11,"div",4)(12,"button",10),We("click",function(){return yt(i),bt(r.undo())}),Me(13,"i",11),Q(),re(14,"button",10),We("click",function(){return yt(i),bt(r.redo())}),Me(15,"i",12),Q()(),re(16,"div",4)(17,"button",13),We("click",function(){return yt(i),bt(r.deleteSelected())}),Me(18,"i",14),G(19," Eliminar "),Q()(),re(20,"div",4)(21,"label",15)(22,"input",16),We("change",function(){return yt(i),bt(r.toggleGrid())}),Q(),G(23," Cuadr\xEDcula "),Q(),re(24,"input",17),We("input",function(s){return yt(i),bt(r.onGridSizeChange(s))}),Q(),re(25,"small",18),G(26),Q()(),re(27,"div",4)(28,"label",15),G(29,"Zoom:"),Q(),re(30,"input",19),We("input",function(s){return yt(i),bt(r.onZoomChange(s))}),Q(),re(31,"span",20),G(32),Q()()(),re(33,"div",21),Me(34,"div",22,1),Ni(36,iq,1,2,"div",23),Q()()}t&2&&(Te(12),pt("disabled",!r.canUndo()),Te(2),pt("disabled",!r.canRedo()),Te(3),pt("disabled",!r.selectedElement()),Te(5),pt("checked",r.settings().showGrid),Te(2),pt("value",r.settings().gridSize)("disabled",!r.settings().showGrid),Te(2),Hr("",r.settings().gridSize,"px"),Te(4),pt("value",r.settings().zoom),Te(2),Hr("",(r.settings().zoom*100).toFixed(0),"%"),Te(),ii("width",r.settings().canvasWidth*r.settings().zoom,"px")("height",r.settings().canvasHeight*r.settings().zoom,"px"),Te(3),pt("ngIf",r.settings().showGrid))},dependencies:[fs,aa,$1],styles:[".konva-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#f8f9fa}.editor-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#fff;border-bottom:1px solid #dee2e6;flex-wrap:wrap}.toolbar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.canvas-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:auto;background:#fff;margin:1rem;border:1px solid #dee2e6;border-radius:8px}.konva-container[_ngcontent-%COMP%]{position:relative;cursor:crosshair;z-index:2}.grid-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(to right,rgba(52,152,219,.4) 1px,transparent 1px),linear-gradient(to bottom,rgba(52,152,219,.4) 1px,transparent 1px);pointer-events:none;z-index:1}.properties-panel[_ngcontent-%COMP%]{width:300px;position:fixed;right:1rem;top:200px;background:#fff;border:1px solid #dee2e6;border-radius:8px;padding:1rem;max-height:500px;overflow-y:auto;box-shadow:0 4px 6px #0000001a}.property-group[_ngcontent-%COMP%]{margin-bottom:1rem}.property-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;margin-bottom:.25rem}.zoom-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;min-width:40px}.form-range[_ngcontent-%COMP%]{width:80px}.zoom-slider[_ngcontent-%COMP%]{width:150px!important}"]})};var RM=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var Np=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},x2=class extends Np{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Pp=class extends Np{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Op=class extends Np{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},xE=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(xE||{});var oq=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},kp=class{constructor(e,{headers:t={},customFetch:r,region:i=xE.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=RM(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return oq(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region);let c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(a["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(a["Content-Type"]="application/json",d=JSON.stringify(s)));let f=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(_=>{throw new x2(_)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Pp(f);if(!f.ok)throw new Op(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield f.json():p==="application/octet-stream"?y=yield f.blob():p==="text/event-stream"?y=f:p==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Op||i instanceof Pp?i.context:void 0}}})}};var YM=C3(WM(),1),{PostgrestClient:KM,PostgrestQueryBuilder:bde,PostgrestFilterBuilder:_de,PostgrestTransformBuilder:wde,PostgrestBuilder:Cde,PostgrestError:vq}=YM.default;function XM(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var JM=XM();var ZM="2.11.15";var QM=`realtime-js/${ZM}`,eT="1.0.0";var A2=1e4,tT=1e3,Up=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Up||{}),Kr=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Kr||{}),oo=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(oo||{}),LE=function(n){return n.websocket="websocket",n}(LE||{}),Nc=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Nc||{});var M2=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let l=r.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Jd=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Sn=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Sn||{}),jE=(n,e,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=yq(s,n,e,i),o),{})},yq=(n,e,t,r)=>{let i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?nT(o,s):FE(s)},nT=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return Cq(e,t)}switch(n){case Sn.bool:return bq(e);case Sn.float4:case Sn.float8:case Sn.int2:case Sn.int4:case Sn.int8:case Sn.numeric:case Sn.oid:return _q(e);case Sn.json:case Sn.jsonb:return wq(e);case Sn.timestamp:return Eq(e);case Sn.abstime:case Sn.date:case Sn.daterange:case Sn.int4range:case Sn.int8range:case Sn.money:case Sn.reltime:case Sn.text:case Sn.time:case Sn.timestamptz:case Sn.timetz:case Sn.tsrange:case Sn.tstzrange:return FE(e);default:return FE(e)}},FE=n=>n,bq=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},_q=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},wq=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Cq=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>nT(e,a))}return n},Eq=n=>typeof n=="string"?n.replace(" ","T"):n,T2=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};var Zd=class{constructor(e,t,r={},i=A2){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Hp=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{let f=o[c];if(f){let m=d.map(C=>C.presence_ref),p=f.map(C=>C.presence_ref),y=d.filter(C=>p.indexOf(C.presence_ref)<0),_=f.filter(C=>m.indexOf(C.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){let f=e[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...m)}r(a,d,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Sa=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Sa||{});var zp=class n{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Zd(this,oo.join,this.params,this.timeout),this.rejoinTimer=new Jd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Hp(this),this.broadcastEndpointURL=T2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(d=>e?.(Sa.CHANNEL_ERROR,d)),this._onClose(()=>e?.(Sa.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",f=>ie(this,[f],function*({postgres_changes:d}){var m;if(this.socket.setAuth(),d===void 0){e?.(Sa.SUBSCRIBED);return}else{let p=this.bindings.postgres_changes,y=(m=p?.length)!==null&&m!==void 0?m:0,_=[];for(let C=0;C<y;C++){let w=p[C],{filter:{event:S,schema:O,table:k,filter:z}}=w,Z=d&&d[C];if(Z&&Z.event===S&&Z.schema===O&&Z.table===k&&Z.filter===z)_.push(Object.assign(Object.assign({},w),{id:Z.id}));else{this.unsubscribe(),this.state=Kr.errored,e?.(Sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Sa.SUBSCRIBED);return}})).receive("error",d=>{this.state=Kr.errored,e?.(Sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(Sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return ie(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return ie(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(r){return ie(this,arguments,function*(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kr.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Zd(this,oo.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,t,r){return ie(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zd(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=oo;if(r&&[a,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,_,C;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(_=p.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(p=>p.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(p=>{var y,_,C,w,S,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){let k=p.id,z=(y=p.filter)===null||y===void 0?void 0:y.event;return k&&((_=t.ids)===null||_===void 0?void 0:_.includes(k))&&(z==="*"||z?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let k=(S=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return k==="*"||k===((O=t?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof m=="object"&&"ids"in m){let y=m.data,{schema:_,table:C,commit_timestamp:w,type:S,errors:O}=y;m=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:w,eventType:S,new:{},old:{},errors:O}),this._getPayloadRecords(y))}p.callback(m,r)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oo.close,{},e)}_onError(e){this._on(oo.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=jE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=jE(e.columns,e.old_record)),t}};var rT=()=>{},Sq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,qp=class{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=A2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rT,this.ref=0,this.logger=rT,this.conn=null,this.sendBuffer=[],this.serializer=new M2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${LE.websocket}`,this.httpEndpoint=T2(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jd(()=>ie(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=JM),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eT}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(e){return ie(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return ie(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Up.connecting:return Nc.Connecting;case Up.open:return Nc.Open;case Up.closing:return Nc.Closing;default:return Nc.Closed}}isConnected(){return this.connectionState()===Nc.Open}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new zp(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){let{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return ie(this,null,function*(){let t=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let i={access_token:t,version:QM};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(oo.access_token,{access_token:t})}))})}sendHeartbeat(){return ie(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(tT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(oo.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([Sq],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Qd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function cr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var N2=class extends Qd{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Pc=class extends Qd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var Dq=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},O2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},iT=()=>Dq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),P2=n=>{if(Array.isArray(n))return n.map(t=>P2(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=P2(r)}),e};var Oc=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},BE=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Iq=(n,e,t)=>Oc(void 0,void 0,void 0,function*(){let r=yield iT();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{e(new N2(BE(i),n.status||500))}).catch(i=>{e(new Pc(BE(i),i))}):e(new Pc(BE(n),n))}),Aq=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Gp(n,e,t,r,i,o){return Oc(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,Aq(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Iq(l,a,r))})})}function eh(n,e,t,r){return Oc(this,void 0,void 0,function*(){return Gp(n,"GET",e,t,r)})}function Ms(n,e,t,r,i){return Oc(this,void 0,void 0,function*(){return Gp(n,"POST",e,r,i,t)})}function oT(n,e,t,r,i){return Oc(this,void 0,void 0,function*(){return Gp(n,"PUT",e,r,i,t)})}function sT(n,e,t,r){return Oc(this,void 0,void 0,function*(){return Gp(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function k2(n,e,t,r,i){return Oc(this,void 0,void 0,function*(){return Gp(n,"DELETE",e,r,i,t)})}var _i=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},Mq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},R2=class{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=O2(i)}uploadOrUpdate(e,t,r,i){return _i(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},aT),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),m=yield f.json();return f.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(cr(o))return{data:null,error:o};throw o}})}upload(e,t,r){return _i(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return _i(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:aT.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);let f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),m=yield f.json();return f.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(cr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return _i(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield Ms(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Qd("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}update(e,t,r){return _i(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return _i(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}copy(e,t,r){return _i(this,void 0,void 0,function*(){try{return{data:{path:(yield Ms(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return _i(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Ms(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return _i(this,void 0,void 0,function*(){try{let i=yield Ms(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}download(e,t){return _i(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield eh(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}info(e){return _i(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield eh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:P2(r),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}exists(e){return _i(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield sT(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(cr(r)&&r instanceof Pc){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return _i(this,void 0,void 0,function*(){try{return{data:yield k2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}list(e,t,r){return _i(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},Mq),t),{prefix:e||""});return{data:yield Ms(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};var lT="2.7.1";var cT={"X-Client-Info":`storage-js/${lT}`};var th=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},L2=class{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},cT),t),this.fetch=O2(r)}listBuckets(){return th(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(cr(e))return{data:null,error:e};throw e}})}getBucket(e){return th(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return th(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return th(this,void 0,void 0,function*(){try{return{data:yield oT(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return th(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return th(this,void 0,void 0,function*(){try{return{data:yield k2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}};var $p=class extends L2{constructor(e,t={},r){super(e,t,r)}from(e){return new R2(this.url,this.headers,e,this.fetch)}};var uT="2.52.1";var Wp="";typeof Deno<"u"?Wp="deno":typeof document<"u"?Wp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wp="react-native":Wp="node";var Tq={"X-Client-Info":`supabase-js-${Wp}/${uT}`},dT={headers:Tq},hT={schema:"public"},fT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pT={};S3();var Nq=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},Pq=n=>{let e;return n?e=n:typeof fetch>"u"?e=E3:e=fetch,(...t)=>e(...t)},Oq=()=>typeof Headers>"u"?x3:Headers,gT=(n,e,t)=>{let r=Pq(t),i=Oq();return(o,s)=>Nq(void 0,void 0,void 0,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var kq=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function mT(n){return n.endsWith("/")?n:n+"/"}function vT(n,e){var t,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(t=f?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>kq(this,void 0,void 0,function*(){return""})};return n.accessToken?m.accessToken=n.accessToken:delete m.accessToken,m}var F2="2.71.1";var kc=30*1e3,j2=3,B2=j2*kc,yT="http://localhost:9999",bT="supabase.auth.token";var _T={"X-Client-Info":`gotrue-js/${F2}`};var Yp="X-Supabase-Api-Version",VE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CT=10*60*1e3;var Kp=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function Dt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var V2=class extends Kp{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function ET(n){return Dt(n)&&n.name==="AuthApiError"}var nh=class extends Kp{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Ts=class extends Kp{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}},so=class extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function xT(n){return Dt(n)&&n.name==="AuthSessionMissingError"}var Rc=class extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Lc=class extends Ts{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Fc=class extends Ts{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ST(n){return Dt(n)&&n.name==="AuthImplicitGrantRedirectError"}var Xp=class extends Ts{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},rh=class extends Ts{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function U2(n){return Dt(n)&&n.name==="AuthRetryableFetchError"}var Jp=class extends Ts{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var jc=class extends Ts{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var H2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),DT=` 	
\r=`.split(""),Rq=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<DT.length;e+=1)n[DT[e].charCodeAt(0)]=-2;for(let e=0;e<H2.length;e+=1)n[H2[e].charCodeAt(0)]=e;return n})();function IT(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(H2[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(H2[r]),e.queuedBits-=6}}function AT(n,e,t){let r=Rq[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function UE(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{jq(s,r,t)};for(let s=0;s<n.length;s+=1)AT(n.charCodeAt(s),i,o);return e.join("")}function Lq(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Fq(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Lq(r,e)}}function jq(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function MT(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)AT(n.charCodeAt(i),t,r);return new Uint8Array(e)}function TT(n){let e=[];return Fq(n,t=>e.push(t)),new Uint8Array(e)}function NT(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>IT(i,t,r)),IT(null,t,r),e.join("")}function PT(n){return Math.round(Date.now()/1e3)+n}function OT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var ao=()=>typeof window<"u"&&typeof document<"u",Bc={tested:!1,writable:!1},z2=()=>{if(!ao())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bc.tested)return Bc.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Bc.tested=!0,Bc.writable=!0}catch{Bc.tested=!0,Bc.writable=!1}return Bc.writable};function kT(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}var q2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},RT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Vc=(n,e,t)=>ie(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),El=(n,e)=>ie(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Da=(n,e)=>ie(null,null,function*(){yield n.removeItem(e)}),Zp=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Zp.promiseConstructor=Promise;function G2(n){let e=n.split(".");if(e.length!==3)throw new jc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!wT.test(e[r]))throw new jc("JWT not in base64url format");return{header:JSON.parse(UE(e[0])),payload:JSON.parse(UE(e[1])),signature:MT(e[2]),raw:{header:e[0],payload:e[1]}}}function LT(n){return ie(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function FT(n,e){return new Promise((r,i)=>{ie(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function Bq(n){return("0"+n.toString(16)).substr(-2)}function Vq(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Bq).join("")}function Uq(n){return ie(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function Hq(n){return ie(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield Uq(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Uc(n,e,t=!1){return ie(this,null,function*(){let r=Vq(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield Vc(n,`${e}-code-verifier`,i);let o=yield Hq(r);return[o,r===o?"plain":"s256"]})}var zq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jT(n){let e=n.headers.get(Yp);if(!e||!e.match(zq))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BT(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function VT(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var qq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hc(n){if(!qq.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $2(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HE(n){return JSON.parse(JSON.stringify(n))}var Gq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},zc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),$q=[502,503,504];function UT(n){return ie(this,null,function*(){var e;if(!RT(n))throw new rh(zc(n),0);if($q.includes(n.status))throw new rh(zc(n),n.status);let t;try{t=yield n.json()}catch(o){throw new nh(zc(o),o)}let r,i=jT(n);if(i&&i.getTime()>=VE["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Jp(zc(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new so}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Jp(zc(t),n.status,t.weak_password.reasons);throw new V2(zc(t),n.status||500,r)})}var Wq=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Ft(n,e,t,r){return ie(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Yp]||(o[Yp]=VE["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield Yq(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function Yq(n,e,t,r,i,o){return ie(this,null,function*(){let s=Wq(e,r,i,o),a;try{a=yield n(t,Object.assign({},s))}catch(l){throw console.error(l),new rh(zc(l),0)}if(a.ok||(yield UT(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield UT(l)}})}function Ns(n){var e;let t=null;Kq(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=PT(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function zE(n){let e=Ns(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Ps(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function HT(n){return{data:n,error:null}}function zT(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=Gq(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function qT(n){return n}function Kq(n){return n.access_token&&n.refresh_token&&n.expires_in}var W2=["global","local","others"];var Xq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},ih=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=q2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return ie(this,arguments,function*(e,t=W2[0]){if(W2.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${W2.join(", ")}`);try{return yield Ft(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return ie(this,arguments,function*(e,t={}){try{return yield Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ps})}catch(i){if(Dt(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return ie(this,null,function*(){try{let{options:t}=e,r=Xq(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zT,redirectTo:t?.redirectTo})}catch(t){if(Dt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return ie(this,null,function*(){try{return yield Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ps})}catch(t){if(Dt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return ie(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},d=yield Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:qT});if(d.error)throw d.error;let f=yield d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Dt(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return ie(this,null,function*(){Hc(e);try{return yield Ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ps})}catch(t){if(Dt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return ie(this,null,function*(){Hc(e);try{return yield Ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ps})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return ie(this,null,function*(){Hc(e);try{return yield Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ps})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return ie(this,null,function*(){Hc(e.userId);try{let{data:t,error:r}=yield Ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Dt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return ie(this,null,function*(){Hc(e.userId),Hc(e.id);try{return{data:yield Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Dt(t))return{data:null,error:t};throw t}})}};function qE(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function GT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var qc={debug:!!(globalThis&&z2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Qp=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Y2=class extends Qp{};function GE(n,e,t){return ie(this,null,function*(){qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),qc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>ie(null,null,function*(){if(i){qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield t()}finally{qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Y2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(qc.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}GT();var Jq={url:yT,storageKey:bT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_T,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function $T(n,e,t){return ie(this,null,function*(){return yield t()})}var oh={},$E=(()=>{class n{constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&ao()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},Jq),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ih({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=q2(o.fetch),this.lock=o.lock||$T,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ao()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=GE:this.lock=$T,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:z2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qE(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=qE(this.memoryStorage)),ao()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>ie(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=oh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){oh[this.storageKey]=Object.assign(Object.assign({},oh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=oh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oh[this.storageKey]=Object.assign(Object.assign({},oh[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${F2}) ${new Date().toISOString()}`,...t),this}initialize(){return ie(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=ie(this,null,function*(){return yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return ie(this,null,function*(){var t;try{let r=kT(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),ao()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ST(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>ie(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return Dt(r)?{error:r}:{error:new nh("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return ie(this,null,function*(){var r,i,o;try{let s=yield Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ns}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return ie(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:f,password:m,options:p}=t,y=null,_=null;this.flowType==="pkce"&&([y,_]=yield Uc(this.storage,this.storageKey)),s=yield Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:m,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:_},xform:Ns})}else if("phone"in t){let{phone:f,password:m,options:p}=t;s=yield Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(i=p?.data)!==null&&i!==void 0?i:{},channel:(o=p?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ns})}else throw new Lc("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return ie(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:zE})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:zE})}else throw new Lc("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Rc}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return ie(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return ie(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>ie(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return ie(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return ie(this,null,function*(){var r,i,o,s,a,l,c,d,f,m,p,y;let _,C;if("message"in t)_=t.message,C=t.signature;else{let{chain:w,wallet:S,statement:O,options:k}=t,z;if(ao())if(typeof S=="object")z=S;else{let H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))z=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=S}let Z=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){let H=yield z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),O?{statement:O}:null)),j;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")j=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)j=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)_=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),C=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Z.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(o=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=k?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(f=k?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);let H=yield z.signMessage(new TextEncoder().encode(_),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=H}}try{let{data:w,error:S}=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:NT(C)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ns});if(S)throw S;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Rc}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:S})}catch(w){if(Dt(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(t){return ie(this,null,function*(){let r=yield El(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Ns});if(yield Da(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Rc}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(Dt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return ie(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ns}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Rc}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return ie(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,d=null,f=null;this.flowType==="pkce"&&([d,f]=yield Uc(this.storage,this.storageKey));let{error:m}=yield Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){let{phone:l,options:c}=t,{data:d,error:f}=yield Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new Lc("You must provide either an email or phone number.")}catch(l){if(Dt(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return ie(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Ns});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,d=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Dt(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return ie(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Uc(this.storage,this.storageKey)),yield Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:HT})}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}reauthenticate(){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return ie(this,null,function*(){try{return yield this._useSession(t=>ie(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new so;let{error:o}=yield Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(Dt(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return ie(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield Ft(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield Ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Lc("You must provide either an email or phone number and a type")}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return this._useSession(r=>ie(this,null,function*(){return r}))}))})}_acquireLock(t,r){return ie(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=ie(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(ie(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>ie(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(ie(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return ie(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return ie(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield El(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<B2:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield El(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=$2()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,f)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return ie(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return ie(this,null,function*(){try{return t?yield Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ps}):yield this._useSession(r=>ie(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new so}:yield Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Ps})}))}catch(r){if(Dt(r))return xT(r)&&(yield this._removeSession(),yield Da(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return ie(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return ie(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>ie(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new so;let l=s.session,c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=yield Uc(this.storage,this.storageKey));let{data:f,error:m}=yield Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ps});if(m)throw m;return l.user=f.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(Dt(o))return{data:{user:null},error:o};throw o}})}setSession(t){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return ie(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new so;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=G2(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Dt(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new so;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return ie(this,null,function*(){try{if(!ao())throw new Fc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xp("No code detected.");let{data:O,error:k}=yield this._exchangeCodeForSession(t.code);if(k)throw k;let z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:O.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!s||!l||!a||!d)throw new Fc("No session defined in URL");let f=Math.round(Date.now()/1e3),m=parseInt(l),p=f+m;c&&(p=parseInt(c));let y=p-f;y*1e3<=kc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);let _=p-m;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,f);let{data:C,error:w}=yield this._getUser(s);if(w)throw w;let S={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:p,refresh_token:a,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(i){if(Dt(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return ie(this,null,function*(){let r=yield El(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return ie(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return ie(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>ie(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(ET(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield Da(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=OT(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),ie(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return ie(this,null,function*(){return yield this._useSession(r=>ie(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return ie(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Uc(this.storage,this.storageKey,!0));try{return yield Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Dt(a))return{data:null,error:a};throw a}})}getUserIdentities(){return ie(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}linkIdentity(t){return ie(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>ie(this,null,function*(){var a,l,c,d,f;let{data:m,error:p}=s;if(p)throw p;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Ft(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})}));if(o)throw o;return ao()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(Dt(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield Ft(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return ie(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield FT(o=>ie(this,null,function*(){return o>0&&(yield LT(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ns})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&U2(s)&&Date.now()+a-i<kc})}catch(i){if(this._debug(r,"error",i),Dt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return ie(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),ao()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return ie(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield El(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield El(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Vc(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:$2()}else if(o&&!o.user&&!o.user){let a=yield El(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Da(this.storage,this.storageKey+"-user"),yield Vc(this.storage,this.storageKey,o)):o.user=$2()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<B2;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${B2}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),U2(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return ie(this,null,function*(){var r,i;if(!t)throw new so;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Zp;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new so;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),Dt(s)){let a={session:null,error:s};return U2(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return ie(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>ie(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return ie(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Vc(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=HE(o);yield Vc(this.storage,this.storageKey,s)}else{let o=HE(r);yield Vc(this.storage,this.storageKey,o)}})}_removeSession(){return ie(this,null,function*(){this._debug("#_removeSession()"),yield Da(this.storage,this.storageKey),yield Da(this.storage,this.storageKey+"-code-verifier"),yield Da(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Da(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ao()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return ie(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),kc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>ie(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return ie(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return ie(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return ie(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return ie(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>ie(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>ie(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/kc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${kc}ms, refresh threshold is ${j2} ticks`),o<=j2&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Qp)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return ie(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ao()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>ie(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return ie(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return ie(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Uc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Ft(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}_enroll(t){return ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=yield Ft(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}_verify(t){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}}))})}_challenge(t){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){try{return yield this._useSession(r=>ie(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Dt(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return ie(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return ie(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._useSession(t=>ie(this,null,function*(){var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=G2(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}))})}fetchJwk(i){return ie(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+CT>s)return o;let{data:a,error:l}=yield Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return ie(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:_,error:C}=yield this.getSession();if(C||!_.session)return{data:null,error:C};o=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:d}}=G2(o);r?.allowExpired||BT(a.exp);let f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){let{error:_}=yield this.getUser(o);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let m=VT(s.alg),p=yield crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!(yield crypto.subtle.verify(m,p,l,TT(`${c}.${d}`))))throw new jc("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(Dt(o))return{data:null,error:o};throw o}})}}return n.nextInstanceID=0,n})();var Zq=$E,WE=Zq;var K2=class extends WE{constructor(e){super(e)}};var Qq=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},X2=class{constructor(e,t,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=mT(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:hT,realtime:pT,auth:Object.assign(Object.assign({},fT),{storageKey:c}),global:dT},f=vT(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=gT(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new KM(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new kp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $p(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Qq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,d){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K2({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new qp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var WT=(n,e,t)=>new X2(n,e,t);function eG(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;let n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}eG()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var sh=class n{supabase=null;_user=new fn(null);_session=new fn(null);_isLoggedIn=new fn(!1);_currentUser=new fn(null);constructor(){if(!Wn.supabase.url||!Wn.supabase.anonKey){console.warn("\u26A0\uFE0F Supabase no est\xE1 configurado. Verifica environment.supabase");return}this.supabase=WT(Wn.supabase.url,Wn.supabase.anonKey),this.supabase.auth.onAuthStateChange((e,t)=>{console.log("\u{1F510} Auth state changed:",e,t?.user?.email||"no user"),this._session.next(t),this._user.next(t?.user??null),this._isLoggedIn.next(!!t),t?.user?this.setCurrentUser(t.user):this._currentUser.next(null)}),this.getSession()}isConfigured(){return!!(Wn.supabase.url&&Wn.supabase.anonKey)}get user$(){return this._user.asObservable()}get session$(){return this._session.asObservable()}get isLoggedIn$(){return this._isLoggedIn.asObservable()}get currentUser$(){return this._currentUser.asObservable()}get user(){return this._user.value}get session(){return this._session.value}get isLoggedIn(){return this._isLoggedIn.value}get currentUser(){return this._currentUser.value}signInWithGitHub(){return ie(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{data:e,error:t}=yield this.supabase.auth.signInWithOAuth({provider:"github",options:{redirectTo:Wn.auth.supabase.redirectTo,scopes:"user:email"}});return t?(console.error("Error al iniciar sesi\xF3n con GitHub:",t),{error:t}):{error:null}}catch(e){return console.error("Error inesperado al iniciar sesi\xF3n:",e),{error:e}}})}signOut(){return ie(this,null,function*(){if(!this.supabase)return{error:"Supabase no est\xE1 configurado correctamente"};try{let{error:e}=yield this.supabase.auth.signOut();return e?(console.error("Error al cerrar sesi\xF3n:",e),{error:e}):(this._user.next(null),this._session.next(null),this._isLoggedIn.next(!1),this._currentUser.next(null),{error:null})}catch(e){return console.error("Error inesperado al cerrar sesi\xF3n:",e),{error:e}}})}getSession(){return ie(this,null,function*(){if(!this.supabase)return console.warn("Supabase no est\xE1 configurado para obtener sesi\xF3n"),null;try{let{data:{session:e},error:t}=yield this.supabase.auth.getSession();return t?(console.error("Error al obtener sesi\xF3n:",t),null):(this._session.next(e),this._user.next(e?.user??null),this._isLoggedIn.next(!!e),e?.user&&this.setCurrentUser(e.user),e)}catch(e){return console.error("Error inesperado al obtener sesi\xF3n:",e),null}})}refreshSession(){return ie(this,null,function*(){if(!this.supabase)return console.warn("Supabase no est\xE1 configurado para refrescar sesi\xF3n"),null;try{let{data:{session:e},error:t}=yield this.supabase.auth.refreshSession();return t?(console.error("Error al refrescar sesi\xF3n:",t),null):(this._session.next(e),this._user.next(e?.user??null),this._isLoggedIn.next(!!e),e)}catch(e){return console.error("Error inesperado al refrescar sesi\xF3n:",e),null}})}getUserProfile(){return ie(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)throw new Error("No hay token de proveedor disponible");let t=yield fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"}});if(!t.ok)throw new Error(`Error al obtener perfil: ${t.status}`);return yield t.json()}catch(e){return console.error("Error al obtener perfil de usuario:",e),null}})}getUserEmails(){return ie(this,null,function*(){try{let e=this._session.value;if(!e?.provider_token)throw new Error("No hay token de proveedor disponible");let t=yield fetch("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${e.provider_token}`,Accept:"application/vnd.github.v3+json"}});if(!t.ok)throw new Error(`Error al obtener emails: ${t.status}`);return(yield t.json()).map(i=>i.email)}catch(e){return console.error("Error al obtener emails de usuario:",e),[]}})}setCurrentUser(e){return ie(this,null,function*(){try{let t=yield this.getUserEmails(),r=e.email||t[0];if(!r){console.warn("No se pudo obtener el email del usuario"),this._currentUser.next(null);return}let i=Wn.auth.authorizedUsers.find(o=>o.email.toLowerCase()===r.toLowerCase());i?(console.log("Usuario autorizado encontrado:",i),this._currentUser.next(i)):(console.warn("Usuario no autorizado:",r),this._currentUser.next(null))}catch(t){console.error("Error al verificar usuario autorizado:",t),this._currentUser.next(null)}})}hasPermission(e){return this._currentUser.value?.permissions.includes(e)??!1}hasRole(e){return this._currentUser.value?.role===e}getAuthState(){return{user:this._user.value,session:this._session.value,isLoggedIn:this._isLoggedIn.value,currentUser:this._currentUser.value}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})};var lo=class n{constructor(e){this.supabaseService=e;this.initializeAuth()}_isLoggedIn=new fn(!1);_userEmail=new fn(null);_currentUser=new fn(null);_loginAttempts=new fn(0);_isLocked=new fn(!1);AUTHORIZED_USERS=Wn.auth.authorizedUsers;SESSION_CONFIG=Wn.auth.session;SECURITY_CONFIG=Wn.auth.security;initializeAuth(){this.supabaseService.isLoggedIn$.subscribe(e=>{this._isLoggedIn.next(e)}),this.supabaseService.currentUser$.subscribe(e=>{this._currentUser.next(e)}),this.supabaseService.user$.subscribe(e=>{this._userEmail.next(e?.email||null)}),this.checkLockoutStatus()}checkLockoutStatus(){let e=localStorage.getItem("lockout_until");if(e){let t=Date.now(),r=parseInt(e);t<r?(this._isLocked.next(!0),console.log("Cuenta bloqueada hasta:",new Date(r))):(localStorage.removeItem("lockout_until"),localStorage.removeItem("login_attempts"),this._isLocked.next(!1),this._loginAttempts.next(0))}}loginWithGitHub(){return ie(this,null,function*(){if(this._isLocked.value){let e=localStorage.getItem("lockout_until");if(e){let t=Math.ceil((parseInt(e)-Date.now())/6e4);alert(`\u274C Cuenta bloqueada

Intenta de nuevo en ${t} minutos.`);return}}if(!Wn.auth.supabase.enabled){alert("\u274C Autenticaci\xF3n no habilitada. Contacta al administrador.");return}try{console.log("Iniciando login con GitHub a trav\xE9s de Supabase...");let{error:e}=yield this.supabaseService.signInWithGitHub();if(e){console.error("Error en login:",e),this.handleFailedLogin(),alert("\u274C Error al iniciar sesi\xF3n con GitHub. Int\xE9ntalo de nuevo.");return}console.log("Login iniciado correctamente")}catch(e){console.error("Error inesperado en login:",e),this.handleFailedLogin(),alert("\u274C Error conectando con GitHub. Verifica tu conexi\xF3n a internet.")}})}logout(){return ie(this,null,function*(){try{let{error:e}=yield this.supabaseService.signOut();e&&console.error("Error al cerrar sesi\xF3n:",e),this._isLoggedIn.next(!1),this._userEmail.next(null),this._currentUser.next(null),console.log("Usuario deslogueado")}catch(e){console.error("Error inesperado en logout:",e)}})}handleFailedLogin(e){let t=this._loginAttempts.value+1;if(this._loginAttempts.next(t),localStorage.setItem("login_attempts",t.toString()),t>=this.SECURITY_CONFIG.maxLoginAttempts){let r=Date.now()+this.SECURITY_CONFIG.lockoutDuration;localStorage.setItem("lockout_until",r.toString()),this._isLocked.next(!0);let i=Math.ceil(this.SECURITY_CONFIG.lockoutDuration/6e4);alert(`\u274C Demasiados intentos fallidos

Cuenta bloqueada por ${i} minutos.`)}}resetLoginAttempts(){this._loginAttempts.next(0),localStorage.removeItem("login_attempts"),localStorage.removeItem("lockout_until"),this._isLocked.next(!1)}get isLoggedIn$(){return this._isLoggedIn.asObservable()}get userEmail$(){return this._userEmail.asObservable()}get currentUser$(){return this._currentUser.asObservable()}get isLocked$(){return this._isLocked.asObservable()}get loginAttempts$(){return this._loginAttempts.asObservable()}get isLoggedIn(){return this._isLoggedIn.value&&this._currentUser.value!==null}get userEmail(){return this._userEmail.value}get currentUser(){return this._currentUser.value}get isAuthorizedUser(){return this._currentUser.value!==null}get isLocked(){return this._isLocked.value}get loginAttempts(){return this._loginAttempts.value}hasPermission(e){let t=this._currentUser.value;return t?t.permissions.includes(e):!1}hasRole(e){let t=this._currentUser.value;return t?t.role===e:!1}isAdmin(){return this.hasRole("admin")}canAccessCertificate(){return this.hasPermission("certificate")}canManage(){return this.hasPermission("management")}getAuthState(){return{isLoggedIn:this._isLoggedIn.value,userEmail:this._userEmail.value,currentUser:this._currentUser.value,loginAttempts:this._loginAttempts.value,isLocked:this._isLocked.value,supabaseState:this.supabaseService.getAuthState()}}static \u0275fac=function(t){return new(t||n)(nt(sh))};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})};var nG=["konvaEditor"],rG=()=>({standalone:!0}),eg=(n,e)=>e.id,iG=(n,e)=>e.value;function oG(n,e){if(n&1){let t=vr();re(0,"button",80),We("click",function(){yt(t);let i=st();return bt(i.toggleFullPreview())}),Me(1,"i",81),G(2),Q()}if(n&2){let t=st();Te(2),Hr(" ",t.showFullPreview()?"Vista Editor":"Vista Completa"," ")}}function sG(n,e){if(n&1){let t=vr();re(0,"button",82),We("click",function(){yt(t);let i=st();return bt(i.logout())}),Me(1,"i",83),G(2," Cerrar Sesi\xF3n "),Q()}}function aG(n,e){n&1&&(re(0,"div",84),G(1," El nombre es requerido (m\xEDnimo 2 caracteres) "),Q())}function lG(n,e){if(n&1&&(re(0,"option",85),G(1),Q()),n&2){let t=st().$implicit;pt("value",t.title),Te(),oa(t.title)}}function cG(n,e){if(n&1&&gr(0,lG,2,2,"option",85),n&2){let t=e.$implicit,r=st().$implicit;mr(t.category===r?0:-1)}}function uG(n,e){if(n&1&&(re(0,"optgroup",32),ra(1,cG,1,1,null,null,eg),Q()),n&2){let t=e.$implicit,r=st();pt("label",t),Te(),ia(r.predefinedTitles)}}function dG(n,e){if(n&1){let t=vr();re(0,"div",36)(1,"input",86),F0("ngModelChange",function(i){yt(t);let o=st();return j_(o.customTitleInput,i)||(o.customTitleInput=i),bt(i)}),Q(),re(2,"button",87),We("click",function(){yt(t);let i=st();return bt(i.useCustomTitle())}),Me(3,"i",88),Q(),re(4,"button",89),We("click",function(){yt(t);let i=st();return bt(i.toggleCustomTitle())}),Me(5,"i",90),Q()()}if(n&2){let t=st();Te(),L0("ngModel",t.customTitleInput),pt("ngModelOptions",B_(2,rG))}}function hG(n,e){n&1&&(re(0,"div",84),G(1," El t\xEDtulo del taller es requerido "),Q())}function fG(n,e){if(n&1){let t=vr();re(0,"button",91),We("click",function(){yt(t);let i=st();return bt(i.removeSignature())}),Me(1,"i",92),Q()}}function pG(n,e){if(n&1&&(re(0,"div",68),Me(1,"img",93),re(2,"small",94),Me(3,"i",95),G(4," Firma cargada correctamente "),Q()()),n&2){let t=st();Te(),pt("src",t.signatureImage(),Qu)}}function gG(n,e){if(n&1){let t=vr();re(0,"div",39)(1,"div",96),We("click",function(){let i=yt(t).$implicit,o=st();return bt(o.selectTemplate(i))}),re(2,"div",97)(3,"div",98),Me(4,"div",99)(5,"div",99)(6,"div",99),Q(),re(7,"small"),G(8),Q()()()()}if(n&2){let t=e.$implicit,r=st();Te(),Ar("border-primary",r.selectedTemplate().id===t.id)("border-2",r.selectedTemplate().id===t.id),Te(3),ii("background-color",t.colors.primary),Te(),ii("background-color",t.colors.secondary),Te(),ii("background-color",t.colors.accent),Te(),Ar("text-primary",r.selectedTemplate().id===t.id)("fw-bold",r.selectedTemplate().id===t.id),Te(),oa(t.name)}}function mG(n,e){if(n&1){let t=vr();re(0,"button",91),We("click",function(){yt(t);let i=st();return bt(i.removeCustomTemplate())}),Me(1,"i",92),Q()}}function vG(n,e){if(n&1&&(re(0,"div",68),Me(1,"img",100),re(2,"small",94),Me(3,"i",95),G(4," Fondo personalizado cargado "),Q()()),n&2){let t=st();Te(),pt("src",t.customTemplate(),Qu)}}function yG(n,e){if(n&1){let t=vr();re(0,"button",91),We("click",function(){yt(t);let i=st();return bt(i.removeBackgroundImage())}),Me(1,"i",101),Q()}}function bG(n,e){if(n&1&&(re(0,"div",68),Me(1,"img",100),re(2,"small",94),Me(3,"i",95),G(4," Imagen de fondo personalizada cargada "),Q()()),n&2){let t=st();Te(),pt("src",t.backgroundImage(),Qu)}}function _G(n,e){if(n&1){let t=vr();re(0,"button",119),We("click",function(){yt(t);let i=st(2);return bt(i.removeBackgroundImage())}),Me(1,"i",101),Q()}}function wG(n,e){if(n&1&&(re(0,"option",85),G(1),Q()),n&2){let t=e.$implicit;pt("value",t.value),Te(),oa(t.name)}}function CG(n,e){if(n&1){let t=vr();re(0,"div",22)(1,"label",113),G(2,"Texto"),Q(),re(3,"textarea",120),We("input",function(i){yt(t);let o=st(2);return bt(o.updateSelectedElementProperty("content",i.target.value))}),G(4,"                      "),Q()(),re(5,"div",22)(6,"label",113),G(7,"Fuente"),Q(),re(8,"select",121),We("change",function(i){yt(t);let o=st(2);return bt(o.updateSelectedElementProperty("fontFamily",i.target.value))}),ra(9,wG,2,2,"option",85,iG),Q()(),re(11,"div",22)(12,"label",113),G(13,"Tama\xF1o"),Q(),re(14,"input",122),We("input",function(i){yt(t);let o=st(2);return bt(o.updateSelectedElementProperty("fontSize",i.target.value))}),Q(),re(15,"small",66),G(16),Q()(),re(17,"div",22)(18,"label",113),G(19,"Color"),Q(),re(20,"input",123),We("change",function(i){yt(t);let o=st(2);return bt(o.updateSelectedElementProperty("color",i.target.value))}),Q()(),re(21,"div",22)(22,"label",113),G(23,"Estilo"),Q(),re(24,"div",124)(25,"input",125),We("change",function(i){yt(t);let o=st(2);return bt(o.updateSelectedElementProperty("fontWeight",i.target.checked?"bold":"normal"))}),Q(),re(26,"label",126),Me(27,"i",127),Q(),re(28,"input",125),We("change",function(i){yt(t);let o=st(2);return bt(o.updateSelectedElementProperty("fontStyle",i.target.checked?"italic":"normal"))}),Q(),re(29,"label",126),Me(30,"i",128),Q()()(),re(31,"div",22)(32,"label",113),G(33,"Alineaci\xF3n"),Q(),re(34,"div",124)(35,"input",129),We("change",function(){yt(t);let i=st(2);return bt(i.updateSelectedElementProperty("textAlign","left"))}),Q(),re(36,"label",126),Me(37,"i",130),Q(),re(38,"input",129),We("change",function(){yt(t);let i=st(2);return bt(i.updateSelectedElementProperty("textAlign","center"))}),Q(),re(39,"label",126),Me(40,"i",131),Q(),re(41,"input",129),We("change",function(){yt(t);let i=st(2);return bt(i.updateSelectedElementProperty("textAlign","right"))}),Q(),re(42,"label",126),Me(43,"i",132),Q()()(),re(44,"div",22)(45,"label",113),G(46,"Rotaci\xF3n"),Q(),re(47,"input",133),We("input",function(i){yt(t);let o=st(2);return bt(o.updateSelectedElementProperty("rotation",i.target.value))}),Q(),re(48,"small",66),G(49),Q()()}if(n&2){let t=e,r=st(2);Te(3),pt("value",t.content),Te(5),pt("value",t.fontFamily),Te(),ia(r.fontOptionsArray()),Te(5),pt("value",t.fontSize),Te(2),Hr("",t.fontSize,"px"),Te(4),pt("value",t.color),Te(5),pt("id",us("bold-",t.id))("checked",t.fontWeight==="bold"),Te(),pt("for","bold-"+t.id),Te(2),pt("id",us("italic-",t.id))("checked",t.fontStyle==="italic"),Te(),pt("for","italic-"+t.id),Te(6),pt("name",us("align-",t.id))("id",us("left-",t.id))("checked",t.textAlign==="left"),Te(),pt("for","left-"+t.id),Te(2),pt("name",us("align-",t.id))("id",us("center-",t.id))("checked",t.textAlign==="center"),Te(),pt("for","center-"+t.id),Te(2),pt("name",us("align-",t.id))("id",us("right-",t.id))("checked",t.textAlign==="right"),Te(),pt("for","right-"+t.id),Te(5),pt("value",t.rotation),Te(2),Hr("",t.rotation,"\xB0")}}function EG(n,e){n&1&&(re(0,"div",116),Me(1,"i",134),re(2,"p",68),G(3,"Selecciona un elemento para editar sus propiedades"),Q()())}function xG(n,e){if(n&1){let t=vr();re(0,"div",16)(1,"div",102)(2,"div",4)(3,"h5",18),Me(4,"i",103),G(5," Editor Visual de Certificados "),Q(),re(6,"div",7)(7,"button",104),We("click",function(){yt(t);let i=st();return bt(i.addTextElement())}),Me(8,"i",105),G(9," Agregar Texto "),Q(),re(10,"button",106),We("click",function(){yt(t);let i=st();return bt(i.deleteSelectedElement())}),Me(11,"i",107),G(12," Eliminar "),Q(),re(13,"button",87),We("click",function(){yt(t);let i=st();return bt(i.exportAsPNG())}),Me(14,"i",73),G(15," PNG "),Q(),re(16,"button",87),We("click",function(){yt(t);let i=st();return bt(i.exportAsPDF())}),Me(17,"i",108),G(18," PDF "),Q()()()(),re(19,"div",109)(20,"div",14)(21,"div",110)(22,"div",111)(23,"h6",112),G(24,"Propiedades"),Q(),re(25,"div",22)(26,"label",113),Me(27,"i",73),G(28," Imagen de Fondo "),Q(),re(29,"div",114)(30,"input",63),We("change",function(i){yt(t);let o=st();return bt(o.onBackgroundImageChange(i))}),Q(),gr(31,_G,2,0,"button",115),Q()(),gr(32,CG,50,33)(33,EG,4,0,"div",116),Me(34,"hr"),re(35,"h6",112),G(36,"Fondo"),Q(),re(37,"div",22)(38,"label",113),G(39,"Imagen de Fondo"),Q(),re(40,"input",63),We("change",function(i){yt(t);let o=st();return bt(o.onBackgroundImageChange(i))}),Q()()()(),re(41,"div",117)(42,"app-konva-editor",118,0),We("elementsChange",function(i){yt(t);let o=st();return bt(o.onElementsChange(i))})("selectedElementChange",function(i){yt(t);let o=st();return bt(o.onSelectedElementChange(i))}),Q()()()()()}if(n&2){let t,r=st();Te(10),pt("disabled",!r.selectedElement()),Te(21),mr(r.backgroundImage()!=="/assets/certificate-template.svg"?31:-1),Te(),mr((t=r.getSelectedTextElement())?32:33,t),Te(10),pt("elements",r.konvaElements)("settings",r.editorSettings)("fontOptions",r.fontOptions)}}function SG(n,e){if(n&1&&(re(0,"div",140),G(1),Q()),n&2){let t=e.$implicit;ii("position","absolute")("left",t.x*.8,"px")("top",t.y*.8,"px")("font-size",t.fontSize*.8,"px")("font-family",t.fontFamily)("color",t.color)("font-weight",t.fontWeight)("font-style",t.fontStyle)("text-align",t.textAlign)("transform","rotate("+t.rotation+"deg)")("z-index",t.zIndex)("white-space","nowrap")("text-shadow","1px 1px 2px rgba(255, 255, 255, 0.8)")("user-select","none")("pointer-events","none"),Ar("preview-selected",t.isSelected),Te(),Hr(" ",t.content," ")}}function DG(n,e){if(n&1){let t=vr();re(0,"div",16)(1,"div",135)(2,"h5",18),Me(3,"i",136),G(4," Vista Previa del Certificado "),Q(),re(5,"div",7)(6,"button",104),We("click",function(){yt(t);let i=st();return bt(i.exportAsPDF())}),Me(7,"i",108),G(8," Descargar PDF "),Q()()(),re(9,"div",109)(10,"div",137)(11,"div",138),ra(12,SG,2,33,"div",139,eg),Q()()()()}if(n&2){let t=st();Te(11),ii("width",t.canvasWidth()*.8,"px")("height",t.canvasHeight()*.8,"px")("position","relative")("background","url("+t.backgroundImage()+") center/cover no-repeat")("border","2px solid #dee2e6")("border-radius","8px")("overflow","hidden")("box-shadow","0 4px 12px rgba(0, 0, 0, 0.15)"),Te(),ia(t.textElements())}}function IG(n,e){if(n&1&&(re(0,"div",150),G(1),Q()),n&2){let t=e.$implicit;ii("position","absolute")("left",t.x,"px")("top",t.y,"px")("font-size",t.fontSize,"px")("font-family",t.fontFamily)("color",t.color)("font-weight",t.fontWeight)("font-style",t.fontStyle)("text-align",t.textAlign)("transform","rotate("+t.rotation+"deg)")("z-index",t.zIndex)("white-space","nowrap")("text-shadow","1px 1px 2px rgba(255, 255, 255, 0.8)")("user-select","none")("pointer-events","none"),Ar("preview-selected",t.isSelected),Te(),Hr(" ",t.content," ")}}function AG(n,e){if(n&1){let t=vr();re(0,"div",78)(1,"div",141)(2,"div",142)(3,"h5",143),Me(4,"i",136),G(5," Vista Previa a Pantalla Completa (100%) "),Q(),re(6,"div",7)(7,"button",144),We("click",function(){yt(t);let i=st();return bt(i.exportAsPDF())}),Me(8,"i",108),G(9," Descargar PDF "),Q(),re(10,"button",145),We("click",function(){yt(t);let i=st();return bt(i.toggleFullPreview())}),Me(11,"i",146),G(12," Cerrar "),Q()()(),re(13,"div",147)(14,"div",148),ra(15,IG,2,33,"div",149,eg),Q()()()()}if(n&2){let t=st();Te(14),ii("width",t.canvasWidth(),"px")("height",t.canvasHeight(),"px")("position","relative")("background","url("+t.backgroundImage()+") center/cover no-repeat")("border","3px solid #fff")("border-radius","12px")("overflow","hidden")("box-shadow","0 20px 60px rgba(0, 0, 0, 0.5)")("background-color","white"),Te(),ia(t.textElements())}}function MG(n,e){if(n&1&&(re(0,"div",157),G(1),Q()),n&2){let t=e.$implicit;ii("position","absolute")("left",t.x*.6,"px")("top",t.y*.6,"px")("font-size",t.fontSize*.6,"px")("font-family",t.fontFamily)("color",t.color)("font-weight",t.fontWeight)("font-style",t.fontStyle)("text-align",t.textAlign)("transform","rotate("+t.rotation+"deg)")("z-index",t.zIndex)("white-space","nowrap")("text-shadow","1px 1px 1px rgba(255, 255, 255, 0.6)")("user-select","none")("pointer-events","none"),Ar("preview-selected",t.isSelected),Te(),Hr(" ",t.content," ")}}function TG(n,e){if(n&1){let t=vr();re(0,"div",79)(1,"div",151)(2,"h6",18),Me(3,"i",136),G(4," Vista Previa en Tiempo Real (Reducida) "),Q(),re(5,"div",7)(6,"button",152),We("click",function(){yt(t);let i=st();return bt(i.exportAsPDF())}),Me(7,"i",108),G(8," Descargar PDF "),Q()()(),re(9,"div",153)(10,"div",154)(11,"div",155),ra(12,MG,2,33,"div",156,eg),Q()()()()}if(n&2){let t=st();Te(11),ii("width",t.canvasWidth()*.6,"px")("height",t.canvasHeight()*.6,"px")("position","relative")("background","url("+t.backgroundImage()+") center/cover no-repeat")("border","1px solid #dee2e6")("border-radius","4px")("overflow","hidden")("box-shadow","0 2px 8px rgba(0, 0, 0, 0.1)"),Te(),ia(t.textElements())}}function NG(n,e){n&1&&(re(0,"div",16)(1,"div",158),Me(2,"i",159),re(3,"h4",160),G(4,"Complete el formulario para generar el certificado"),Q(),re(5,"p",66),G(6,'Configure todos los campos requeridos y use el "Editor Visual" para personalizar el certificado'),Q()()())}var Z2=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.certificateForm=this.fb.group({participantName:["",[si.required,si.minLength(2)]],workshopTitle:["",si.required],startDate:["",si.required],endDate:["",si.required],hours:["",[si.required,si.min(.5),si.max(100)]],modality:["presencial",si.required],instructor:["Psic. Abel Uriaz Navarro Carrasco",si.required],instructorTitle:["Capacitador en Potencial Humano 360",si.required],collegiateNumber:["C.Ps.P. N\xB0 64179",si.required]}),this.initializeDefaultElements(),this.certificateForm.valueChanges.subscribe(()=>{this.updateElementsFromForm()})}certificateForm;showCertificate=Jt(!1);customTemplate=Jt(null);signatureImage=Jt(null);authEnabled=Wn.auth.supabase.enabled;konvaEditor;showEditor=Jt(!1);showFullPreview=Jt(!1);selectedElement=Jt(null);konvaElements=Jt([]);editorSettings=Jt({snapToGrid:!1,gridSize:20,showGrid:!0,showGuides:!1,zoom:1,canvasWidth:1400,canvasHeight:990});canvasWidth=Jt(1400);canvasHeight=Jt(990);backgroundImage=Jt("/assets/certificate-template.svg");fontOptions=Jt([{name:"Arial",value:"Arial, sans-serif"},{name:"Times New Roman",value:"Times New Roman, serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Helvetica",value:"Helvetica, sans-serif"},{name:"Trebuchet MS",value:"Trebuchet MS, sans-serif"},{name:"Verdana",value:"Verdana, sans-serif"}]);colorPalette={primary:"#003366",secondary:"#5ca92c",accent:"#C9B179",text:"#000000",background:"#ffffff"};predefinedTemplates=[{id:"default",name:"Potencial Humano (Original)",colors:{primary:"#003366",secondary:"#5ca92c",accent:"#C9B179"}},{id:"elegant",name:"Elegante (Dorado/Negro)",colors:{primary:"#1f2937",secondary:"#fbbf24",accent:"#d97706"}},{id:"modern",name:"Moderno (P\xFArpura/Rosa)",colors:{primary:"#7c3aed",secondary:"#ec4899",accent:"#06b6d4"}},{id:"professional",name:"Profesional (Azul/Plata)",colors:{primary:"#1e40af",secondary:"#64748b",accent:"#0891b2"}}];predefinedTitles=[{id:"1",title:"Taller de habilidades blandas",category:"Desarrollo Personal"},{id:"2",title:"Liderazgo y gesti\xF3n de equipos",category:"Liderazgo"},{id:"3",title:"Comunicaci\xF3n efectiva",category:"Comunicaci\xF3n"},{id:"4",title:"Inteligencia emocional",category:"Desarrollo Personal"},{id:"5",title:"Resoluci\xF3n de conflictos",category:"Habilidades Sociales"},{id:"6",title:"Gesti\xF3n del tiempo y productividad",category:"Productividad"},{id:"7",title:"Trabajo en equipo",category:"Habilidades Sociales"},{id:"8",title:"Creatividad e innovaci\xF3n",category:"Creatividad"},{id:"9",title:"Coaching y mentoring",category:"Liderazgo"},{id:"10",title:"Mindfulness y bienestar",category:"Bienestar"}];selectedTemplate=Jt(this.predefinedTemplates[0]);customTitleInput=Jt("");showCustomTitleInput=Jt(!1);categories=ds(()=>[...new Set(this.predefinedTitles.map(e=>e.category))]);fontOptionsArray=ds(()=>this.fontOptions());getSelectedTextElement(){let e=this.selectedElement();if(e?.type==="text"){let t=e;return Xe(Ce({},t),{content:t.text,color:t.fill,fontWeight:t.fontStyle.includes("bold")?"bold":"normal",textAlign:t.align,zIndex:1,isSelected:!0,isEditing:!1})}return null}textElements=ds(()=>this.konvaElements().filter(e=>e.type==="text").map(e=>{let t=e;return{id:t.id,type:t.type,text:t.text,x:t.x,y:t.y,fontSize:t.fontSize,fontFamily:t.fontFamily,fill:t.fill,rotation:t.rotation,fontStyle:t.fontStyle,align:t.align,draggable:t.draggable,visible:t.visible,opacity:t.opacity,scaleX:t.scaleX,scaleY:t.scaleY,strokeWidth:t.strokeWidth,stroke:t.stroke,textDecoration:t.textDecoration,letterSpacing:t.letterSpacing,lineHeight:t.lineHeight,content:t.text,color:t.fill,fontWeight:t.fontStyle.includes("bold")?"bold":"normal",textAlign:t.align,zIndex:1,isSelected:this.selectedElement()?.id===t.id,isEditing:!1}}));addTextElement(){this.konvaEditor&&this.konvaEditor.addText()}deleteSelectedElement(){this.konvaEditor&&this.konvaEditor.deleteSelected()}updateSelectedElementProperty(e,t){let r=this.selectedElement();if(r&&r.type==="text"){let o=Ce({},r);switch(e){case"content":o.text=t;break;case"color":o.fill=t;break;case"fontWeight":t==="bold"?o.fontStyle=o.fontStyle.includes("italic")?"bold italic":"bold":o.fontStyle=o.fontStyle.includes("italic")?"italic":"normal";break;case"fontStyle":t==="italic"?o.fontStyle=o.fontStyle.includes("bold")?"bold italic":"italic":o.fontStyle=o.fontStyle.includes("bold")?"bold":"normal";break;case"textAlign":o.align=t;break;case"fontSize":o.fontSize=parseFloat(t);break;case"fontFamily":o.fontFamily=t;break;case"rotation":o.rotation=parseFloat(t);break;default:o[e]=t}let s=this.konvaElements().map(a=>a.id===r.id?o:a);this.konvaElements.set(s),this.selectedElement.set(o),this.updateFormFromElements(s)}}ngAfterViewInit(){this.konvaEditor&&this.konvaEditor.setBackgroundImage(this.backgroundImage())}initializeDefaultElements(){let e=this.canvasWidth()/2,t=this.canvasWidth()*.25,r=this.canvasWidth()*.75,i=[{id:"certificate-title",type:"text",text:"CERTIFICADO DE PARTICIPACI\xD3N",x:e-400,y:180,fontSize:40,fontFamily:"Georgia, serif",fill:this.colorPalette.primary,rotation:0,fontStyle:"bold",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:2,lineHeight:1.2,width:800},{id:"certification-text",type:"text",text:"CERTIFICA QUE",x:e-200,y:280,fontSize:24,fontFamily:"Arial, sans-serif",fill:this.colorPalette.text,rotation:0,fontStyle:"bold",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:1,lineHeight:1.2,width:400},{id:"participant-name",type:"text",text:"Nombre del Participante",x:e-450,y:360,fontSize:48,fontFamily:"Georgia, serif",fill:this.colorPalette.primary,rotation:0,fontStyle:"bold",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"underline",letterSpacing:1,lineHeight:1.2,width:900},{id:"participation-text",type:"text",text:"Particip\xF3 satisfactoriamente en el",x:e-350,y:450,fontSize:26,fontFamily:"Arial, sans-serif",fill:this.colorPalette.text,rotation:0,fontStyle:"normal",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:700},{id:"workshop-title",type:"text",text:"T\xEDtulo del Taller",x:e-500,y:520,fontSize:34,fontFamily:"Georgia, serif",fill:this.colorPalette.secondary,rotation:0,fontStyle:"bold italic",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:1,lineHeight:1.2,width:1e3},{id:"date-hours-info",type:"text",text:"Fechas y Horas",x:e-400,y:620,fontSize:20,fontFamily:"Arial, sans-serif",fill:this.colorPalette.text,rotation:0,fontStyle:"normal",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:800},{id:"completion-text",type:"text",text:"Con una duraci\xF3n total correspondiente seg\xFAn el programa acad\xE9mico establecido",x:e-450,y:680,fontSize:18,fontFamily:"Arial, sans-serif",fill:this.colorPalette.text,rotation:0,fontStyle:"normal",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:900},{id:"instructor-name",type:"text",text:"Instructor",x:t-150,y:800,fontSize:20,fontFamily:"Arial, sans-serif",fill:this.colorPalette.text,rotation:0,fontStyle:"bold",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:300},{id:"instructor-title",type:"text",text:"Cargo del Instructor",x:t-150,y:830,fontSize:16,fontFamily:"Arial, sans-serif",fill:this.colorPalette.text,rotation:0,fontStyle:"normal",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:300},{id:"collegiate-number",type:"text",text:"N\xFAmero Colegiado",x:r-150,y:800,fontSize:16,fontFamily:"Arial, sans-serif",fill:this.colorPalette.text,rotation:0,fontStyle:"normal",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:300},{id:"date-signature",type:"text",text:"Fecha del Certificado",x:r-150,y:830,fontSize:14,fontFamily:"Arial, sans-serif",fill:this.colorPalette.text,rotation:0,fontStyle:"normal",align:"center",draggable:!0,visible:!0,opacity:1,scaleX:1,scaleY:1,strokeWidth:0,stroke:"",textDecoration:"none",letterSpacing:0,lineHeight:1.2,width:300}];this.konvaElements.set(i)}toggleEditor(){let e=this.showEditor();this.showEditor.set(!e),this.showEditor()?(this.updateElementsFromForm(),this.showCertificate.set(!0),this.showFullPreview.set(!1),setTimeout(()=>{this.konvaEditor&&this.konvaEditor.setBackgroundImage(this.backgroundImage())},100)):(this.certificateForm.valid&&this.showCertificate.set(!0),this.showFullPreview.set(!1))}toggleFullPreview(){this.showFullPreview.set(!this.showFullPreview())}updateElementsFromForm(){let e=this.certificateForm.value,t=this.konvaElements(),r=()=>{if(!e.startDate||!e.endDate)return"Fechas por definir";let a=new Date(e.startDate),l=new Date(e.endDate);return a.getTime()===l.getTime()?a.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}):`Del ${a.toLocaleDateString("es-ES",{day:"numeric",month:"long"})} al ${l.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})}`},i=()=>{let a=r(),l=e.hours?`${e.hours} horas acad\xE9micas`:"",c=e.modality?`Modalidad: ${e.modality}`:"",d=a;return l&&(d+=` \u2022 ${l}`),c&&(d+=` \u2022 ${c}`),d},o=()=>{let a=e.hours?`${e.hours} horas acad\xE9micas`:"las horas acad\xE9micas correspondientes",l=e.modality?`en modalidad ${e.modality}`:"";return`Con una duraci\xF3n de ${a} ${l}, seg\xFAn el programa acad\xE9mico establecido`},s=t.map(a=>{if(a.type==="text"){let l=a;switch(l.id){case"participant-name":return Xe(Ce({},l),{text:e.participantName||"Nombre del Participante"});case"workshop-title":return Xe(Ce({},l),{text:e.workshopTitle||"T\xEDtulo del Taller"});case"instructor-name":return Xe(Ce({},l),{text:e.instructor||"Instructor"});case"instructor-title":return Xe(Ce({},l),{text:e.instructorTitle||"Cargo del Instructor"});case"collegiate-number":return Xe(Ce({},l),{text:e.collegiateNumber||"N\xFAmero Colegiado"});case"date-hours-info":return Xe(Ce({},l),{text:i()});case"completion-text":return Xe(Ce({},l),{text:o()});case"date-signature":return Xe(Ce({},l),{text:new Date().toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})});default:return l}}return a});this.konvaElements.set(s)}onElementsChange(e){this.konvaElements.set(e),this.updateFormFromElements(e)}updateFormFromElements(e){e.filter(r=>r.type==="text").forEach(r=>{switch(r.id){case"participant-name":r.text!=="Nombre del Participante"&&this.certificateForm.patchValue({participantName:r.text},{emitEvent:!1});break;case"workshop-title":r.text!=="T\xEDtulo del Taller"&&this.certificateForm.patchValue({workshopTitle:r.text},{emitEvent:!1});break;case"instructor-name":r.text!=="Instructor"&&this.certificateForm.patchValue({instructor:r.text},{emitEvent:!1});break;case"instructor-title":r.text!=="Cargo del Instructor"&&this.certificateForm.patchValue({instructorTitle:r.text},{emitEvent:!1});break;case"collegiate-number":r.text!=="N\xFAmero Colegiado"&&this.certificateForm.patchValue({collegiateNumber:r.text},{emitEvent:!1});break}})}onSelectedElementChange(e){this.selectedElement.set(e)}onBackgroundImageChange(e){let t=e.target.files[0];if(t&&t.type.startsWith("image/")){if(t.size>5*1024*1024){alert("La imagen es demasiado grande. El tama\xF1o m\xE1ximo permitido es 5MB.");return}let r=new FileReader;r.onload=i=>{let o=i.target?.result;this.backgroundImage.set(o),this.konvaEditor&&this.konvaEditor.setBackgroundImage(o)},r.readAsDataURL(t)}}removeBackgroundImage(){this.backgroundImage.set("/assets/certificate-template.svg"),this.konvaEditor&&this.konvaEditor.setBackgroundImage("/assets/certificate-template.svg")}exportAsPNG(){return ie(this,null,function*(){if(this.konvaEditor){let e=this.konvaEditor.exportAsImage("png"),t=document.createElement("a"),i=(this.certificateForm.get("participantName")?.value||"Certificado").replace(/[^a-zA-Z0-9]/g,"_");t.download=`Certificado_${i}_${new Date().toISOString().slice(0,10)}.png`,t.href=e,t.click()}})}exportAsPDF(){return ie(this,null,function*(){if(this.konvaEditor)try{let e=this.konvaEditor.exportAsImage("png"),t=new lt({orientation:"landscape",unit:"mm",format:"a4"}),r=t.internal.pageSize.getWidth(),i=t.internal.pageSize.getHeight(),o=r-20,s=this.canvasHeight()*o/this.canvasWidth(),a=10,l=(i-s)/2;t.addImage(e,"PNG",a,l,o,s);let f=`Certificado_${(this.certificateForm.get("participantName")?.value||"Certificado").replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().slice(0,10)}.pdf`;t.save(f)}catch(e){console.error("Error exporting PDF:",e),alert("Error al exportar PDF. Intente nuevamente.")}})}get formData(){return this.certificateForm.value}get formattedDateRange(){if(!this.formData.startDate||!this.formData.endDate)return"";let e=new Date(this.formData.startDate),t=new Date(this.formData.endDate);return e.getTime()===t.getTime()?e.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}):`Del ${e.toLocaleDateString("es-ES",{day:"numeric",month:"long"})} al ${t.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})}`}selectPredefinedTitle(e){this.certificateForm.patchValue({workshopTitle:e.title}),this.showCustomTitleInput.set(!1)}onTitleSelect(e){let t=e.target.value;t&&(this.certificateForm.patchValue({workshopTitle:t}),this.showCustomTitleInput.set(!1))}toggleCustomTitle(){this.showCustomTitleInput.set(!this.showCustomTitleInput()),this.showCustomTitleInput()&&this.customTitleInput.set("")}useCustomTitle(){this.customTitleInput().trim()&&(this.certificateForm.patchValue({workshopTitle:this.customTitleInput().trim()}),this.showCustomTitleInput.set(!1),this.customTitleInput.set(""))}selectTemplate(e){this.selectedTemplate.set(e)}onTemplateFileSelected(e){let t=e.target.files[0];if(t&&t.type.startsWith("image/")){if(t.size>5*1024*1024){alert("La imagen es demasiado grande. El tama\xF1o m\xE1ximo permitido es 5MB.");return}let r=new FileReader;r.onload=i=>{this.customTemplate.set(i.target?.result),this.konvaEditor&&this.konvaEditor.setBackgroundImage(i.target?.result)},r.readAsDataURL(t)}}onSignatureSelected(e){let t=e.target.files[0];if(t&&t.type.startsWith("image/")){if(t.size>2*1024*1024){alert("La imagen de la firma es demasiado grande. El tama\xF1o m\xE1ximo permitido es 2MB.");return}let r=new FileReader;r.onload=i=>{this.signatureImage.set(i.target?.result)},r.readAsDataURL(t)}}removeSignature(){this.signatureImage.set(null)}removeCustomTemplate(){this.customTemplate.set(null)}onSubmit(){this.certificateForm.valid?(this.showCertificate.set(!0),setTimeout(()=>{document.getElementById("certificate-preview")?.scrollIntoView({behavior:"smooth"})},100)):Object.keys(this.certificateForm.controls).forEach(e=>{this.certificateForm.get(e)?.markAsTouched()})}logout(){this.auth.logout(),this.router.navigate(["/"])}resetForm(){this.certificateForm.reset({modality:"presencial",instructor:"Psic. Abel Uriaz Navarro Carrasco",instructorTitle:"Capacitador en Potencial Humano 360",collegiateNumber:"C.Ps.P. N\xB0 64179"}),this.showCertificate.set(!1),this.showEditor.set(!1),this.showFullPreview.set(!1),this.customTemplate.set(null),this.signatureImage.set(null),this.backgroundImage.set("/assets/certificate-template.svg"),this.selectedTemplate.set(this.predefinedTemplates[0]),this.selectedElement.set(null),this.initializeDefaultElements(),this.konvaEditor&&this.konvaEditor.setBackgroundImage("/assets/certificate-template.svg")}static \u0275fac=function(t){return new(t||n)(rt(EI),rt(lo),rt(yi))};static \u0275cmp=xn({type:n,selectors:[["app-certificate-form"]],viewQuery:function(t,r){if(t&1&&ed(nG,5),t&2){let i;rl(i=il())&&(r.konvaEditor=i.first)}},decls:141,vars:28,consts:[["konvaEditor",""],[1,"container-fluid","py-4"],[1,"row","mb-4"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-primary","mb-0"],[1,"bi","bi-award","me-2"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-info",3,"click"],[1,"bi","bi-pencil-square","me-1"],["type","button",1,"btn","btn-outline-success"],["type","button",1,"btn","btn-outline-warning",3,"click"],[1,"bi","bi-arrow-clockwise","me-1"],["type","button",1,"btn","btn-outline-danger"],[1,"row"],[1,"col-lg-5","col-xl-4"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"card-title","mb-0"],[1,"bi","bi-form-check","me-2"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","participantName",1,"form-label","fw-bold"],[1,"bi","bi-person","me-1"],["id","participantName","type","text","formControlName","participantName","placeholder","Ej: Vicente Navarro Huerrera",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"form-label","fw-bold"],[1,"bi","bi-bookmark","me-1"],[1,"mb-2"],[1,"form-select","form-select-sm",3,"change"],["value",""],[3,"label"],[1,"d-flex","gap-2","mb-2"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"input-group","mb-2"],["id","workshopTitle","type","text","formControlName","workshopTitle","placeholder","T\xEDtulo del taller o ponencia",1,"form-control"],[1,"row","mb-3"],[1,"col-6"],["for","startDate",1,"form-label","fw-bold"],[1,"bi","bi-calendar-event","me-1"],["id","startDate","type","date","formControlName","startDate",1,"form-control"],["for","endDate",1,"form-label","fw-bold"],[1,"bi","bi-calendar-check","me-1"],["id","endDate","type","date","formControlName","endDate",1,"form-control"],["for","hours",1,"form-label","fw-bold"],[1,"bi","bi-clock","me-1"],["id","hours","type","number","min","0.5","max","100","step","0.5","formControlName","hours",1,"form-control"],["for","modality",1,"form-label","fw-bold"],[1,"bi","bi-geo-alt","me-1"],["id","modality","formControlName","modality",1,"form-select"],["value","presencial"],["value","virtual"],["value","h\xEDbrida"],["for","instructor",1,"form-label","fw-bold"],[1,"bi","bi-person-badge","me-1"],["id","instructor","type","text","formControlName","instructor",1,"form-control"],["for","instructorTitle",1,"form-label","fw-bold"],["id","instructorTitle","type","text","formControlName","instructorTitle",1,"form-control"],["for","collegiateNumber",1,"form-label","fw-bold"],["id","collegiateNumber","type","text","formControlName","collegiateNumber",1,"form-control"],[1,"bi","bi-pen","me-1"],["type","file","accept","image/*",1,"form-control","form-control-sm",3,"change"],["type","button",1,"btn","btn-outline-danger","btn-sm"],[1,"template-upload-info"],[1,"text-muted"],[1,"bi","bi-info-circle","me-1"],[1,"mt-2"],[1,"bi","bi-palette","me-1"],[1,"row","g-2","mb-2"],["type","file","accept","image/*","placeholder","Fondo personalizado",1,"form-control","form-control-sm",3,"change"],[1,"recommended-size"],[1,"bi","bi-image","me-1"],["type","file","accept","image/*","placeholder","Imagen de fondo",1,"form-control","form-control-sm",3,"change"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"col-lg-7","col-xl-8"],[1,"position-fixed","top-0","start-0","w-100","h-100","bg-dark","bg-opacity-75",2,"z-index","1050"],[1,"card","shadow-sm","mt-3"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-arrows-fullscreen","me-1"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-box-arrow-right","me-1"],[1,"invalid-feedback"],[3,"value"],["type","text","placeholder","Escriba el t\xEDtulo personalizado",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngModelOptions"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"bi","bi-check"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-x"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"img-thumbnail",2,"max-height","60px",3,"src"],[1,"text-success","d-block"],[1,"bi","bi-check-circle","me-1"],[1,"card","template-card",2,"cursor","pointer",3,"click"],[1,"card-body","p-2","text-center"],[1,"template-preview","d-flex","justify-content-center","gap-1","mb-1"],[1,"color-dot"],[1,"img-thumbnail",2,"max-height","80px",3,"src"],[1,"bi","bi-arrow-counterclockwise"],[1,"card-header","bg-info","text-white"],[1,"bi","bi-pencil-square","me-2"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],[1,"bi","bi-plus-lg","me-1"],["type","button",1,"btn","btn-warning","btn-sm",3,"click","disabled"],[1,"bi","bi-trash","me-1"],[1,"bi","bi-file-earmark-pdf","me-1"],[1,"card-body","p-3"],[1,"col-md-3"],[1,"editor-properties"],[1,"text-muted","mb-3"],[1,"form-label","text-sm"],[1,"d-flex","gap-1"],["type","button","title","Restaurar fondo por defecto",1,"btn","btn-outline-secondary","btn-sm"],[1,"text-center","text-muted"],[1,"col-md-9"],[3,"elementsChange","selectedElementChange","elements","settings","fontOptions"],["type","button","title","Restaurar fondo por defecto",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["rows","2",1,"form-control","form-control-sm",3,"input","value"],[1,"form-select","form-select-sm",3,"change","value"],["type","range","min","8","max","72",1,"form-range",3,"input","value"],["type","color",1,"form-control","form-control-color","form-control-sm",3,"change","value"],["role","group",1,"btn-group","w-100"],["type","checkbox",1,"btn-check",3,"change","id","checked"],[1,"btn","btn-outline-secondary","btn-sm",3,"for"],[1,"bi","bi-type-bold"],[1,"bi","bi-type-italic"],["type","radio",1,"btn-check",3,"change","name","id","checked"],[1,"bi","bi-text-left"],[1,"bi","bi-text-center"],[1,"bi","bi-text-right"],["type","range","min","-45","max","45",1,"form-range",3,"input","value"],[1,"bi","bi-cursor-text","fs-1"],[1,"card-header","bg-success","text-white","d-flex","justify-content-between","align-items-center"],[1,"bi","bi-eye","me-2"],[1,"preview-container","d-flex","justify-content-center","align-items-center"],[1,"certificate-preview","mx-auto"],[1,"preview-text-element",3,"preview-selected","position","left","top","fontSize","fontFamily","color","fontWeight","fontStyle","textAlign","transform","zIndex","whiteSpace","textShadow","userSelect","pointerEvents"],[1,"preview-text-element"],[1,"container-fluid","h-100","d-flex","flex-column"],[1,"d-flex","justify-content-between","align-items-center","p-3","bg-dark","text-white"],[1,"mb-0"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"bi","bi-x-lg"],[1,"flex-grow-1","d-flex","justify-content-center","align-items-center","p-4"],[1,"certificate-preview-fullscreen"],[1,"preview-text-element-fullscreen",3,"position","left","top","fontSize","fontFamily","color","fontWeight","fontStyle","textAlign","transform","zIndex","whiteSpace","textShadow","userSelect","pointerEvents","preview-selected"],[1,"preview-text-element-fullscreen"],[1,"card-header","bg-warning","text-dark","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-dark","btn-sm",3,"click"],[1,"card-body","p-2"],[1,"preview-container-small","d-flex","justify-content-center","align-items-center"],[1,"certificate-preview-small","mx-auto"],[1,"preview-text-element-small",3,"position","left","top","fontSize","fontFamily","color","fontWeight","fontStyle","textAlign","transform","zIndex","whiteSpace","textShadow","userSelect","pointerEvents","preview-selected"],[1,"preview-text-element-small"],[1,"card-body","text-center","py-5"],[1,"bi","bi-award","text-muted",2,"font-size","4rem"],[1,"text-muted","mt-3"]],template:function(t,r){if(t&1&&(re(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),Me(5,"i",6),G(6," Generador de Certificados "),Q(),re(7,"div",7)(8,"button",8),We("click",function(){return r.toggleEditor()}),Me(9,"i",9),G(10),Q(),gr(11,oG,3,1,"button",10),re(12,"button",11),We("click",function(){return r.resetForm()}),Me(13,"i",12),G(14," Nuevo "),Q(),gr(15,sG,3,0,"button",13),Q()()()(),re(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17)(20,"h5",18),Me(21,"i",19),G(22," Configuraci\xF3n del Certificado "),Q()(),re(23,"div",20)(24,"form",21),We("ngSubmit",function(){return r.onSubmit()}),re(25,"div",22)(26,"label",23),Me(27,"i",24),G(28," Nombre del Participante "),Q(),Me(29,"input",25),Ni(30,aG,2,0,"div",26),Q(),re(31,"div",22)(32,"label",27),Me(33,"i",28),G(34," T\xEDtulo del Taller/Ponencia "),Q(),re(35,"div",29)(36,"select",30),We("change",function(o){return r.onTitleSelect(o)}),re(37,"option",31),G(38,"Seleccione un t\xEDtulo predefinido"),Q(),ra(39,uG,3,1,"optgroup",32,L_),Q()(),re(41,"div",33)(42,"button",34),We("click",function(){return r.toggleCustomTitle()}),Me(43,"i",35),G(44," T\xEDtulo Personalizado "),Q()(),gr(45,dG,6,3,"div",36),Me(46,"input",37),Ni(47,hG,2,0,"div",26),Q(),re(48,"div",38)(49,"div",39)(50,"label",40),Me(51,"i",41),G(52," Fecha Inicio "),Q(),Me(53,"input",42),Q(),re(54,"div",39)(55,"label",43),Me(56,"i",44),G(57," Fecha Fin "),Q(),Me(58,"input",45),Q()(),re(59,"div",38)(60,"div",39)(61,"label",46),Me(62,"i",47),G(63," Horas Acad\xE9micas "),Q(),Me(64,"input",48),Q(),re(65,"div",39)(66,"label",49),Me(67,"i",50),G(68," Modalidad "),Q(),re(69,"select",51)(70,"option",52),G(71,"Presencial"),Q(),re(72,"option",53),G(73,"Virtual"),Q(),re(74,"option",54),G(75,"H\xEDbrida"),Q()()()(),re(76,"div",22)(77,"label",55),Me(78,"i",56),G(79," Instructor "),Q(),Me(80,"input",57),Q(),re(81,"div",22)(82,"label",58),G(83," T\xEDtulo del Instructor "),Q(),Me(84,"input",59),Q(),re(85,"div",22)(86,"label",60),G(87," N\xFAmero Colegiado "),Q(),Me(88,"input",61),Q(),re(89,"div",22)(90,"label",27),Me(91,"i",62),G(92," Firma Digital (Opcional) "),Q(),re(93,"div",7)(94,"input",63),We("change",function(o){return r.onSignatureSelected(o)}),Q(),gr(95,fG,2,0,"button",64),Q(),re(96,"div",65)(97,"small",66),Me(98,"i",67),G(99," Recomendado: M\xE1ximo 2MB, fondo transparente preferible "),Q()(),gr(100,pG,5,1,"div",68),Q(),re(101,"div",22)(102,"label",27),Me(103,"i",69),G(104," Tema del Certificado "),Q(),re(105,"div",70),ra(106,gG,9,15,"div",39,eg),Q(),re(108,"div",7)(109,"input",71),We("change",function(o){return r.onTemplateFileSelected(o)}),Q(),gr(110,mG,2,0,"button",64),Q(),re(111,"div",65)(112,"small",66),Me(113,"i",67),G(114," Recomendado: "),re(115,"span",72),G(116,"1100x850px o superior"),Q(),G(117,", formato apaisado (landscape) "),Q()(),gr(118,vG,5,1,"div",68),Q(),re(119,"div",22)(120,"label",27),Me(121,"i",73),G(122," Imagen de Fondo para Editor "),Q(),re(123,"div",7)(124,"input",74),We("change",function(o){return r.onBackgroundImageChange(o)}),Q(),gr(125,yG,2,0,"button",64),Q(),re(126,"div",65)(127,"small",66),Me(128,"i",67),G(129," Esta imagen se usar\xE1 como fondo en el editor visual. Recomendado: 1400x990px "),Q()(),gr(130,bG,5,1,"div",68),Q(),re(131,"div",75)(132,"button",76),Me(133,"i",6),G(134," Generar Certificado "),Q()()()()()(),re(135,"div",77),gr(136,xG,44,6,"div",16),gr(137,DG,14,16,"div",16),gr(138,AG,17,18,"div",78),gr(139,TG,14,16,"div",79),gr(140,NG,7,0,"div",16),Q()()()),t&2){let i,o,s,a,l,c,d;Te(10),Hr(" ",r.showEditor()?"Vista Formulario":"Editor Visual"," "),Te(),mr(r.showEditor()?11:-1),Te(4),mr(r.authEnabled?15:-1),Te(9),pt("formGroup",r.certificateForm),Te(5),Ar("is-invalid",((i=r.certificateForm.get("participantName"))==null?null:i.invalid)&&((i=r.certificateForm.get("participantName"))==null?null:i.touched)),Te(),pt("ngIf",((o=r.certificateForm.get("participantName"))==null?null:o.invalid)&&((o=r.certificateForm.get("participantName"))==null?null:o.touched)),Te(9),ia(r.categories()),Te(6),mr(r.showCustomTitleInput()?45:-1),Te(),Ar("is-invalid",((s=r.certificateForm.get("workshopTitle"))==null?null:s.invalid)&&((s=r.certificateForm.get("workshopTitle"))==null?null:s.touched)),Te(),pt("ngIf",((a=r.certificateForm.get("workshopTitle"))==null?null:a.invalid)&&((a=r.certificateForm.get("workshopTitle"))==null?null:a.touched)),Te(6),Ar("is-invalid",((l=r.certificateForm.get("startDate"))==null?null:l.invalid)&&((l=r.certificateForm.get("startDate"))==null?null:l.touched)),Te(5),Ar("is-invalid",((c=r.certificateForm.get("endDate"))==null?null:c.invalid)&&((c=r.certificateForm.get("endDate"))==null?null:c.touched)),Te(6),Ar("is-invalid",((d=r.certificateForm.get("hours"))==null?null:d.invalid)&&((d=r.certificateForm.get("hours"))==null?null:d.touched)),Te(31),mr(r.signatureImage()?95:-1),Te(5),mr(r.signatureImage()?100:-1),Te(6),ia(r.predefinedTemplates),Te(4),mr(r.customTemplate()?110:-1),Te(8),mr(r.customTemplate()?118:-1),Te(7),mr(r.backgroundImage()!=="/assets/certificate-template.svg"?125:-1),Te(5),mr(r.backgroundImage()!=="/assets/certificate-template.svg"?130:-1),Te(6),mr(r.showEditor()?136:-1),Te(),mr(r.showCertificate()&&!r.showEditor()?137:-1),Te(),mr(r.showEditor()&&r.showFullPreview()?138:-1),Te(),mr(r.showEditor()&&!r.showFullPreview()?139:-1),Te(),mr(!r.showCertificate()&&!r.showEditor()?140:-1)}},dependencies:[xI,pI,vI,bI,U1,Xw,G1,sI,aI,eC,Qw,Jw,Zw,fs,aa,$1,Kw,E2],styles:['@charset "UTF-8";.certificate-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem;background:#f8f9fa}.certificate-box[_ngcontent-%COMP%]{position:relative;width:792px;height:612px;background:#fff;border:5px solid black;padding:2.5rem 3rem;box-sizing:border-box;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:var(--primary-color, #003366);background-size:cover;background-position:center;background-repeat:no-repeat}.certificate-box.custom-template[_ngcontent-%COMP%]{border:none;background-color:transparent}.certificate-box.custom-template[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .participation-text[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]{text-shadow:1px 1px 2px rgba(255,255,255,.8)}.certificate-box.custom-template[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%], .certificate-box.custom-template[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);border-radius:8px;padding:.5rem 1rem;margin:1rem auto;display:inline-block}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]{width:50px;height:50px}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--accent-color, #C9B179)}.certificate-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .website[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#666}.certificate-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;color:#036;text-align:center;margin-bottom:.5rem}.certificate-box[_ngcontent-%COMP%]   .program-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.3rem;text-align:center;margin-bottom:1rem}.certificate-box[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-style:italic;font-size:1rem;text-align:center;margin-bottom:2rem}.certificate-box[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{font-family:Times New Roman,serif;font-style:italic;font-size:3rem;text-align:center;text-decoration:underline;margin-bottom:1rem}.certificate-box[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%], .certificate-box[_ngcontent-%COMP%]   .participation-text[_ngcontent-%COMP%]{text-align:center;font-size:1rem;margin-bottom:1rem}.certificate-box[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;margin-bottom:2rem}.certificate-box[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-bottom:.3rem}.certificate-box[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:600}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2rem}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .signature-image[_ngcontent-%COMP%]{margin-bottom:.5rem;text-align:center}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .signature-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:60px;max-width:180px;object-fit:contain}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .signature-line[_ngcontent-%COMP%]{width:250px;border-top:2px solid black;margin-bottom:.5rem}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]{text-align:center}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   .instructor-name[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;margin-bottom:.2rem}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   .instructor-title[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.2rem}.certificate-box[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   .collegiate-number[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600}.certificate-box[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.6rem;text-align:center;margin-bottom:1.5rem;color:var(--accent-color, #C9B179)}.certificate-box[_ngcontent-%COMP%]   .decoration[_ngcontent-%COMP%]{position:absolute;border-radius:100%/50%;opacity:.8;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.1))}.certificate-box[_ngcontent-%COMP%]   .decoration.decoration-left[_ngcontent-%COMP%]{width:150px;height:250px;background:var(--secondary-color, #5ca92c);top:-30px;left:-30px;transform:rotate(20deg);z-index:0}.certificate-box[_ngcontent-%COMP%]   .decoration.decoration-right[_ngcontent-%COMP%]{width:100px;height:200px;background:var(--primary-color, #003366);top:-15px;right:-20px;transform:rotate(-20deg);z-index:0}.template-card[_ngcontent-%COMP%]{transition:all .2s ease}.template-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.color-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid rgba(0,0,0,.1)}.signature-image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.signature-image-container[_ngcontent-%COMP%]   .signature-image[_ngcontent-%COMP%]{max-height:80px;max-width:200px;border:1px solid #ddd;border-radius:4px}#certificate-preview[_ngcontent-%COMP%]   .certificate-box[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact;print-color-adjust:exact;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:visible;opacity:1;visibility:visible;position:relative;z-index:1;min-width:792px;min-height:612px}#certificate-preview[_ngcontent-%COMP%]   .certificate-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}#certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{background:#ffffffe6!important;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:0 2px 8px #0000001a}#certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .participation-text[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   .certificate-box.custom-template[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]{text-shadow:1px 1px 3px rgba(255,255,255,.9),0 0 10px rgba(255,255,255,.8)}#certificate-preview[_ngcontent-%COMP%]   .certificate-box[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media (max-width: 992px){.certificate-box[_ngcontent-%COMP%]{width:100%;max-width:700px;height:auto;min-height:500px;padding:2rem}.certificate-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.8rem}.certificate-box[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{font-size:2.2rem}.certificate-box[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{font-size:1.4rem}}@media (max-width: 768px){.certificate-container[_ngcontent-%COMP%]{padding:1rem}.certificate-box[_ngcontent-%COMP%]{max-width:100%;padding:1.5rem;font-size:.9rem}.certificate-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.6rem}.certificate-box[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{font-size:1.8rem}.certificate-box[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{font-size:1.2rem}.certificate-box[_ngcontent-%COMP%]   .decoration[_ngcontent-%COMP%]{display:none}}.template-upload-info[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;margin-top:.25rem}.template-upload-info[_ngcontent-%COMP%]   .recommended-size[_ngcontent-%COMP%]{color:#28a745;font-weight:500}@media print{*[_ngcontent-%COMP%]{visibility:hidden}#certificate-preview[_ngcontent-%COMP%], #certificate-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible}#certificate-preview[_ngcontent-%COMP%]{position:absolute!important;left:0!important;top:0!important;width:100%!important;height:100%!important;background:#fff!important;padding:0!important;margin:0!important}.certificate-container[_ngcontent-%COMP%]{padding:0!important;background:#fff!important;display:flex!important;justify-content:center!important;align-items:center!important;width:100%!important;height:100vh!important}.certificate-box[_ngcontent-%COMP%]{width:11in!important;height:8.5in!important;border:3px solid black!important;box-shadow:none!important;padding:.8in 1in!important;margin:0!important;page-break-inside:avoid!important;background-size:cover!important;background-position:center!important}.certificate-box.custom-template[_ngcontent-%COMP%]{border:none!important;background-color:transparent!important}.certificate-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem!important}.certificate-box[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{font-size:2.5rem!important}.certificate-box[_ngcontent-%COMP%]   .workshop-title[_ngcontent-%COMP%]{font-size:1.4rem!important}.card-header[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{background:none!important;border:none!important;box-shadow:none!important}@page{size:landscape;margin:.5in}}.editor-canvas-container[_ngcontent-%COMP%]{background:#f8f9fa;border:2px dashed #dee2e6;border-radius:8px;padding:20px;overflow:auto;max-height:80vh;max-width:100%}.editor-canvas[_ngcontent-%COMP%]{position:relative;margin:0 auto;background:#fff;border:1px solid #dee2e6;border-radius:4px;box-shadow:0 4px 8px #0000001a;overflow:hidden;width:1122px;height:794px}@media (max-width: 1400px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.8);transform-origin:top center}}@media (max-width: 1200px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.7);transform-origin:top center}}@media (max-width: 992px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.6);transform-origin:top center}}@media (max-width: 768px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.5);transform-origin:top center}}@media (max-width: 576px){.editor-canvas[_ngcontent-%COMP%]{transform:scale(.4);transform-origin:top center}}.editor-canvas[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(to right,#e0e0e0 1px,transparent 1px),linear-gradient(to bottom,#e0e0e0 1px,transparent 1px);background-size:20px 20px;opacity:.3;pointer-events:none;z-index:0}.text-element[_ngcontent-%COMP%]{position:absolute;cursor:pointer;-webkit-user-select:none;user-select:none;white-space:nowrap;transition:all .2s ease;z-index:10}.text-element[_ngcontent-%COMP%]:hover{outline:1px dashed #007bff}.text-element.selected[_ngcontent-%COMP%]{outline:2px solid #007bff!important;background:#007bff1a}.text-element.selected[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;border:2px dashed #007bff;pointer-events:none}.text-element[_ngcontent-%COMP%]   .text-editor-input[_ngcontent-%COMP%]{border:none;background:transparent;outline:none;width:100%;font-family:inherit;font-size:inherit;color:inherit;font-weight:inherit;font-style:inherit;text-align:inherit}.selection-handle[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;background:#007bff;border:1px solid white;border-radius:50%;pointer-events:none}.selection-handle.handle-nw[_ngcontent-%COMP%]{top:-4px;left:-4px;cursor:nw-resize}.selection-handle.handle-ne[_ngcontent-%COMP%]{top:-4px;right:-4px;cursor:ne-resize}.selection-handle.handle-sw[_ngcontent-%COMP%]{bottom:-4px;left:-4px;cursor:sw-resize}.selection-handle.handle-se[_ngcontent-%COMP%]{bottom:-4px;right:-4px;cursor:se-resize}.editor-properties[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1rem;height:fit-content;position:sticky;top:20px}.editor-properties[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#495057;margin-bottom:.25rem}.editor-properties[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%], .editor-properties[_ngcontent-%COMP%]   .form-select-sm[_ngcontent-%COMP%]{font-size:.75rem}.editor-properties[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.grid-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(to right,rgba(0,0,0,.1) 1px,transparent 1px),linear-gradient(to bottom,rgba(0,0,0,.1) 1px,transparent 1px);background-size:20px 20px;pointer-events:none;z-index:1}@media (max-width: 768px){.editor-canvas-container[_ngcontent-%COMP%]{padding:10px}.editor-canvas[_ngcontent-%COMP%]{transform:scale(.7);transform-origin:top left}.editor-properties[_ngcontent-%COMP%]{position:static;margin-bottom:1rem}}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;opacity:.8}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.form-control-color[_ngcontent-%COMP%]{width:100%;height:38px;border:1px solid #ced4da;border-radius:.375rem}.form-control-color[_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:2px}.form-control-color[_ngcontent-%COMP%]::-webkit-color-swatch{border:none;border-radius:2px}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{background:#007bff}.form-range[_ngcontent-%COMP%]::-moz-range-thumb{background:#007bff;border:none}.preview-container[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;min-height:500px;display:flex;justify-content:center;align-items:center;overflow:auto}.certificate-preview[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026;border-radius:8px;overflow:hidden;position:relative;transition:all .3s ease;max-width:100%;max-height:70vh}.certificate-preview[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 6px 20px #0003}.preview-text-element[_ngcontent-%COMP%]{text-shadow:1px 1px 2px rgba(255,255,255,.8);line-height:1.2;transition:all .2s ease}.preview-text-element.preview-selected[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.preview-container-small[_ngcontent-%COMP%]{background:#f1f3f4;padding:15px;border-radius:6px;min-height:300px;display:flex;justify-content:center;align-items:center;overflow:auto}.certificate-preview-small[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a;border-radius:4px;transition:all .2s ease;position:relative;max-width:100%;max-height:50vh}.certificate-preview-small[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.preview-text-element-small[_ngcontent-%COMP%]{text-shadow:1px 1px 1px rgba(255,255,255,.6);line-height:1.1;transition:all .1s ease}.preview-text-element-small.preview-selected[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseSmall 1s infinite}@keyframes _ngcontent-%COMP%_pulseSmall{0%{opacity:1}50%{opacity:.8}to{opacity:1}}@media (max-width: 1400px){.certificate-preview[_ngcontent-%COMP%]{max-width:90%}.certificate-preview-small[_ngcontent-%COMP%]{max-width:95%}}@media (max-width: 1200px){.certificate-preview[_ngcontent-%COMP%]{max-width:85%}.certificate-preview-small[_ngcontent-%COMP%]{max-width:90%}}@media (max-width: 992px){.certificate-preview[_ngcontent-%COMP%]{max-width:80%}.certificate-preview-small[_ngcontent-%COMP%]{max-width:85%}}@media (max-width: 768px){.certificate-preview[_ngcontent-%COMP%]{max-width:75%}.certificate-preview-small[_ngcontent-%COMP%]{max-width:80%}.preview-container[_ngcontent-%COMP%]{padding:10px;min-height:300px}.preview-container-small[_ngcontent-%COMP%]{padding:10px;min-height:200px}.preview-container-fullscreen[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.preview-container-fullscreen[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transition:all .3s ease}.preview-container-fullscreen[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 12px 40px #0006!important}.preview-container-fullscreen[_ngcontent-%COMP%]   .preview-text-element-fullscreen[_ngcontent-%COMP%]{transition:all .2s ease;cursor:default}.preview-container-fullscreen[_ngcontent-%COMP%]   .preview-text-element-fullscreen.preview-selected[_ngcontent-%COMP%]{background:#007bff1a;border:1px dashed #007bff;border-radius:3px;padding:2px 4px}.preview-container-fullscreen[_ngcontent-%COMP%]   .preview-text-element-fullscreen[_ngcontent-%COMP%]:hover{background:#007bff0d;border-radius:3px}.position-fixed[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{max-width:90vw;max-height:80vh;object-fit:contain;box-shadow:0 20px 60px #00000080;border:3px solid white;border-radius:12px;background:#fff}}@media (max-width: 768px) and (min-width: 1920px){.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{max-width:1400px;max-height:990px}}@media (max-width: 768px) and (max-width: 1200px){.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transform:scale(.8);transform-origin:center}}@media (max-width: 768px) and (max-width: 768px){.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transform:scale(.6);transform-origin:center}}@media (max-width: 768px) and (max-width: 576px){.position-fixed[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transform:scale(.4);transform-origin:center}}@media (max-width: 768px){.position-fixed[_ngcontent-%COMP%]   .preview-text-element-fullscreen[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none}.position-fixed[_ngcontent-%COMP%]   .preview-text-element-fullscreen.preview-selected[_ngcontent-%COMP%]{background:#ffc10733;border:2px solid #ffc107;border-radius:4px;padding:2px 4px;box-shadow:0 0 10px #ffc1074d}}@media (max-width: 576px){.certificate-preview[_ngcontent-%COMP%]{max-width:95%;max-height:60vh}.certificate-preview-small[_ngcontent-%COMP%]{max-width:95%;max-height:40vh}.preview-container-fullscreen[_ngcontent-%COMP%]{min-height:80vh!important}.preview-container-fullscreen[_ngcontent-%COMP%]   .certificate-preview-fullscreen[_ngcontent-%COMP%]{transform:scale(.4);transform-origin:center}}']})};function PG(n,e){n&1&&(re(0,"div",11),Me(1,"i",12),re(2,"strong"),G(3,"Cuenta temporalmente bloqueada"),Q(),re(4,"p",13),G(5,"Demasiados intentos de acceso fallidos. Intenta m\xE1s tarde."),Q()())}function OG(n,e){n&1&&(re(0,"div",14),Me(1,"i",15),re(2,"strong"),G(3,"Autenticaci\xF3n no disponible"),Q(),re(4,"p",13),G(5,"El sistema de autenticaci\xF3n no est\xE1 configurado correctamente."),Q()())}function kG(n,e){n&1&&(re(0,"div",16),Gm(),re(1,"svg",17),Me(2,"path",18),Q(),G(3," Iniciar sesi\xF3n con GitHub "),Q())}function RG(n,e){n&1&&(re(0,"div",16),Me(1,"div",19),G(2," Conectando con GitHub... "),Q())}function LG(n,e){n&1&&(re(0,"div",16),Me(1,"i",12),G(2," Acceso bloqueado "),Q())}var Q2=class n{constructor(e,t){this.auth=e;this.router=t}isLoading=!1;isLocked=!1;authorizedUsers=Wn.auth.authorizedUsers;loginSubscription;lockedSubscription;ngOnInit(){if(this.lockedSubscription=this.auth.isLocked$.subscribe(e=>{this.isLocked=e}),this.auth.isLoggedIn&&this.auth.isAuthorizedUser){this.router.navigate(["/certificate"]);return}this.loginSubscription=this.auth.isLoggedIn$.subscribe(e=>{e&&this.auth.isAuthorizedUser&&(this.isLoading=!1,this.router.navigate(["/certificate"]))})}ngOnDestroy(){this.loginSubscription&&this.loginSubscription.unsubscribe(),this.lockedSubscription&&this.lockedSubscription.unsubscribe()}loginWithGitHub(){return ie(this,null,function*(){if(!this.isLocked){this.isLoading=!0;try{yield this.auth.loginWithGitHub()}catch(e){console.error("Error en login:",e),this.isLoading=!1}}})}get allowedEmails(){return this.authorizedUsers.map(e=>e.email)}get supabaseEnabled(){return Wn.auth.supabase.enabled}static \u0275fac=function(t){return new(t||n)(rt(lo),rt(yi))};static \u0275cmp=xn({type:n,selectors:[["app-login"]],decls:35,vars:10,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"login-info"],[1,"info-item"],[1,"icon"],[1,"login-btn",3,"click","disabled"],["class","btn-content",4,"ngIf"],[1,"security-notice"],[1,"alert","alert-danger"],[1,"bi","bi-shield-x","me-2"],[1,"mb-0","small"],[1,"alert","alert-warning"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"btn-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"],[1,"spinner"]],template:function(t,r){t&1&&(re(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),G(4,"\u{1F510} Acceso Restringido"),Q(),re(5,"p"),G(6,"Acceso exclusivo al formulario de certificados"),Q()(),Ni(7,PG,6,0,"div",3)(8,OG,6,0,"div",4),re(9,"div",5)(10,"div",6)(11,"span",7),G(12,"\uFFFD"),Q(),re(13,"div")(14,"span"),G(15,"Solo usuarios autorizados"),Q()()(),re(16,"div",6)(17,"span",7),G(18,"\u{1F6E1}\uFE0F"),Q(),re(19,"span"),G(20,"Autenticaci\xF3n segura con GitHub"),Q()(),re(21,"div",6)(22,"span",7),G(23,"\u{1F4CB}"),Q(),re(24,"span"),G(25,"Acceso controlado por permisos de usuario"),Q()()(),re(26,"button",8),We("click",function(){return r.loginWithGitHub()}),Ni(27,kG,4,0,"div",9)(28,RG,3,0,"div",9)(29,LG,3,0,"div",9),Q(),re(30,"div",10)(31,"small")(32,"span",7),G(33,"\u26A0\uFE0F"),Q(),G(34," Los usuarios autorizados tienen acceso controlado por permisos espec\xEDficos. Cualquier usuario no autorizado ser\xE1 rechazado autom\xE1ticamente. "),Q()()()()),t&2&&(Te(7),pt("ngIf",r.isLocked),Te(),pt("ngIf",!r.supabaseEnabled),Te(18),Ar("loading",r.isLoading)("locked",r.isLocked),pt("disabled",r.isLoading||r.isLocked||!r.supabaseEnabled),Te(),pt("ngIf",!r.isLoading&&!r.isLocked),Te(),pt("ngIf",r.isLoading),Te(),pt("ngIf",r.isLocked))},dependencies:[fs,aa],styles:['.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem;background:linear-gradient(135deg,#667eea,#764ba2)}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:3rem;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:450px;width:100%;position:relative;overflow:hidden}.login-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2)}.login-header[_ngcontent-%COMP%]{margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:.5rem;font-size:1.75rem;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1rem}.login-info[_ngcontent-%COMP%]{background:#f7fafc;border-radius:12px;padding:1.5rem;margin-bottom:2rem;border-left:4px solid #667eea}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;font-size:.875rem;color:#4a5568}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem;width:24px;text-align:center}.login-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-weight:600}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,#24292e,#1b1f23);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #24292e4d}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.login-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.login-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.login-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.security-notice[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#fff5f5;border:1px solid #fed7d7;border-radius:8px;color:#c53030}.security-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.875rem;display:flex;align-items:center;gap:.5rem;justify-content:center;line-height:1.4}.security-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.authorized-users-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:.5rem 0 0;text-align:left}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.5rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-size:.9rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;color:#718096}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .5rem;border-radius:12px;font-weight:500}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-admin[_ngcontent-%COMP%]{background-color:#48bb78;color:#fff}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-assistant[_ngcontent-%COMP%]{background-color:#4299e1;color:#fff}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .badge.badge-viewer[_ngcontent-%COMP%]{background-color:#a0aec0;color:#fff}.login-btn.locked[_ngcontent-%COMP%]{background:#a0aec0;cursor:not-allowed}.login-btn.locked[_ngcontent-%COMP%]:hover{background:#a0aec0;transform:none}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;margin-bottom:1.5rem}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#fed7d7;border:1px solid #feb2b2;color:#742a2a}.alert.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e53e3e}.alert.alert-info[_ngcontent-%COMP%]{background-color:#e6fffa;border:1px solid #81e6d9;color:#234e52}.alert.alert-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#319795}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]{padding:2rem}.authorized-users-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}']})};var ey=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(e,t){return ie(this,null,function*(){return Wn.auth.supabase.enabled?((window.location.hash.includes("access_token")||window.location.search.includes("code="))&&(console.log("Detectado callback OAuth, esperando procesamiento..."),yield new Promise(i=>setTimeout(i,2e3))),this.auth.isLocked?(console.log("Acceso denegado: Cuenta bloqueada"),this.router.navigate(["/login"]),!1):!this.auth.isLoggedIn||!this.auth.isAuthorizedUser?(console.log("Acceso denegado: Usuario no autorizado o no logueado"),this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1):(t.url==="/certificate"||t.url.startsWith("/certificate"))&&!this.auth.canAccessCertificate()?(console.log("Acceso denegado: Sin permisos para generar certificados"),this.router.navigate(["/"]),!1):(console.log("Acceso autorizado para:",{user:this.auth.currentUser?.displayName,role:this.auth.currentUser?.role,route:t.url}),!0)):(console.log("\u{1F513} Autenticaci\xF3n deshabilitada (Supabase disabled) - Acceso permitido"),!0)})}static \u0275fac=function(t){return new(t||n)(nt(lo),nt(yi))};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})};var YT=[{path:"",component:T1},{path:"certificate",component:Z2,canActivate:[ey]},{path:"login",component:Q2},{path:"**",redirectTo:""}];var KT={providers:[f5(),H_({eventCoalescing:!0}),kw(YT,Lw(),Rw({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"})),lw(),sh,lo]};function FG(n,e){n&1&&(re(0,"li")(1,"a",42),Me(2,"i",43),G(3,"Generar Certificado "),Q()())}function jG(n,e){if(n&1){let t=vr();re(0,"div",26)(1,"div",27)(2,"a",28)(3,"div",29),Me(4,"i",30),Q(),re(5,"div",31)(6,"div",32),G(7),Q(),re(8,"div",33)(9,"small",34),G(10),Q()()()(),re(11,"ul",35)(12,"li")(13,"h6",36),Me(14,"i",37),G(15),Q()(),re(16,"li"),Me(17,"hr",38),Q(),Ni(18,FG,4,0,"li",39),re(19,"li"),Me(20,"hr",38),Q(),re(21,"li")(22,"a",40),We("click",function(){yt(t);let i=st();return bt(i.logout())}),Me(23,"i",41),G(24,"Cerrar Sesi\xF3n "),Q()()()()()}if(n&2){let t=st();Te(7),oa(t.auth.currentUser.displayName),Te(3),oa(t.auth.currentUser.role),Te(5),Hr("",t.auth.currentUser.displayName," "),Te(3),pt("ngIf",t.auth.canAccessCertificate())}}var ty=class n{constructor(e,t){this.auth=e;this.router=t}logout(){this.auth.logout(),this.router.navigate(["/"])}accessCertificate(){this.auth.isLoggedIn&&this.auth.canAccessCertificate()?this.router.navigate(["/certificate"]):this.showLoginModal()}showLoginModal(){let e=document.getElementById("loginModal");e&&new bootstrap.Modal(e).show()}goToLogin(){let e=document.getElementById("loginModal");if(e){let t=bootstrap.Modal.getInstance(e);t&&t.hide()}this.router.navigate(["/login"])}scrollToSection(e){let t=document.getElementById("navbarNav");t&&t.classList.contains("show")&&new window.bootstrap.Collapse(t,{toggle:!1}).hide(),this.router.navigate(["/"],{fragment:e}).then(()=>{let r=document.getElementById(e);r&&r.scrollIntoView({behavior:"smooth",block:"start"})})}static \u0275fac=function(t){return new(t||n)(rt(lo),rt(yi))};static \u0275cmp=xn({type:n,selectors:[["app-app-header"]],decls:46,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"bi","bi-award","me-1"],["class","navbar-nav ms-3",4,"ngIf"],["id","loginModal","tabindex","-1","aria-labelledby","loginModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","border-0"],["id","loginModalLabel",1,"modal-title"],[1,"bi","bi-shield-lock","me-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"mb-4"],[1,"bi","bi-award","display-1","text-primary"],[1,"text-muted"],[1,"modal-footer","border-0","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-box-arrow-in-right","me-1"],[1,"navbar-nav","ms-3"],[1,"nav-item","dropdown"],["href","#","id","userDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center"],[1,"user-avatar","me-2"],[1,"bi","bi-person-circle","fs-5"],[1,"user-info","d-none","d-md-block"],[1,"user-name"],[1,"user-role"],[1,"badge","bg-light","text-dark"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-header"],[1,"bi","bi-person-check","me-1"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"bi","bi-box-arrow-right","me-2"],["routerLink","/certificate","routerLinkActive","active",1,"dropdown-item"],[1,"bi","bi-award","me-2"]],template:function(t,r){t&1&&(re(0,"nav",0)(1,"div",1)(2,"a",2),G(3,"Psicolog\xEDa Abel Navarro"),Q(),re(4,"button",3),Me(5,"span",4),Q(),re(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),We("click",function(){return r.scrollToSection("banner")}),G(10,"Inicio"),Q()(),re(11,"li",7)(12,"a",8),We("click",function(){return r.scrollToSection("workshops")}),G(13,"Talleres"),Q()(),re(14,"li",7)(15,"a",8),We("click",function(){return r.scrollToSection("about")}),G(16,"Sobre M\xED"),Q()(),re(17,"li",7)(18,"a",8),We("click",function(){return r.scrollToSection("contact")}),G(19,"Contacto"),Q()(),re(20,"li",7)(21,"a",8),We("click",function(){return r.accessCertificate()}),Me(22,"i",9),G(23,"Certificado "),Q()()(),Ni(24,jG,25,4,"div",10),Q()()(),re(25,"div",11)(26,"div",12)(27,"div",13)(28,"div",14)(29,"h5",15),Me(30,"i",16),G(31,"Acceso Requerido "),Q(),Me(32,"button",17),Q(),re(33,"div",18)(34,"div",19),Me(35,"i",20),Q(),re(36,"h6"),G(37,"Para acceder al certificado necesitas autenticarte"),Q(),re(38,"p",21),G(39,"Solo usuarios autorizados pueden generar certificados"),Q()(),re(40,"div",22)(41,"button",23),G(42,"Cancelar"),Q(),re(43,"button",24),We("click",function(){return r.goToLogin()}),Me(44,"i",25),G(45,"Iniciar Sesi\xF3n "),Q()()()()()),t&2&&(Te(24),pt("ngIf",r.auth.isLoggedIn&&r.auth.currentUser))},dependencies:[fs,aa,_d,Ow],styles:["nav[_ngcontent-%COMP%]{margin-bottom:1rem}.nav-link.active[_ngcontent-%COMP%]{font-weight:600;text-decoration:underline}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.375rem;transition:all .2s ease}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;line-height:1.2}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;line-height:1}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.25em .5em}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:1rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:2rem 2rem 1rem}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#495057;font-weight:600}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 2rem}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:.5rem}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.875rem}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem}@media (max-width: 768px){.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem}.navbar-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:none!important}}"]})};var ny=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-app-footer"]],decls:3,vars:0,consts:[[1,"bg-primary","text-white","text-center","py-3","mt-5"],[1,"container"]],template:function(t,r){t&1&&(be(0,"footer",0)(1,"div",1),G(2," \xA9 2025 Abel Uriaz Navarro Carrasco. Todos los derechos reservados. "),we()())},encapsulation:2})};var ry=class n{title=Jt("psic-abelnavarro");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xn({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&Me(0,"app-app-header")(1,"router-outlet")(2,"app-app-footer")},dependencies:[Xf,ty,ny],encapsulation:2})};ow(ry,KT).catch(n=>console.error(n));
