import{a as ae}from"./chunk-U3NQJ2F2.js";import{b as oe}from"./chunk-ZS5CCIUB.js";import{b as re}from"./chunk-663N75WB.js";import{c as z,d as w,e as W,f as J,j as K,l as X,m as Y,n as Z,v as ee,x as te}from"./chunk-XPHFKPJP.js";import{b as ie}from"./chunk-3AZUY6EQ.js";import{a as ne}from"./chunk-GY3IPELX.js";import"./chunk-MPC7SZEK.js";import{a as F}from"./chunk-TVASKIN6.js";import{k as O}from"./chunk-EDRQHDMA.js";import{f as L,h as H,i as Q,l as $}from"./chunk-PZ46FPEX.js";import{$a as M,Cb as q,Cc as j,Da as l,Fb as R,Gb as r,Hb as b,Ib as C,Jb as B,Na as k,P,_ as S,ac as v,bb as p,cb as u,da as f,ea as x,fb as A,gb as G,hb as y,ia as U,ib as i,jb as n,kb as s,ma as E,o as T,r as N,rb as _,sb as g,ub as m}from"./chunk-DCXCOY7M.js";import"./chunk-LJ5XHLMQ.js";import{h as V}from"./chunk-FK42CRUA.js";function se(o,t){o&1&&(i(0,"div",58),r(1,"Completado"),n())}function de(o,t){o&1&&(i(0,"div",59),r(1,"Actual"),n())}function me(o,t){o&1&&(i(0,"div",60),r(1,"Pendiente"),n())}function ce(o,t){if(o&1){let e=_();i(0,"div",53),g("click",function(){let d=f(e).$implicit,c=m();return x(d.id<c.currentStep()?c.goToStep(d.id):null)}),i(1,"div",54),s(2,"i",55),n(),i(3,"div",56)(4,"div",57),r(5),n(),p(6,se,2,0,"div",58)(7,de,2,0,"div",59)(8,me,2,0,"div",60),n()()}if(o&2){let e=t.$implicit,a=m();R(e.id<=a.currentStep()?"text-primary":"text-muted"),y("title",e.title),l(),R(a.getStepClass(e)),l(),R("bi-"+a.getStepIcon(e)),l(3),b(e.title),l(),u(e.completed?6:e.id===a.currentStep()?7:8)}}function pe(o,t){if(o&1){let e=_();i(0,"div",29),s(1,"i",61),i(2,"div",62)(3,"strong",41),r(4,"Error:"),n(),i(5,"span",41),r(6),n()(),i(7,"button",63),g("click",function(){f(e);let d=m();return x(d.clearError())}),n()()}if(o&2){let e=m();l(6),b(e.error())}}function ue(o,t){o&1&&(i(0,"div",34)(1,"div",64)(2,"span",65),r(3,"Cargando..."),n()(),i(4,"p",66),r(5,"Cargando formulario..."),n()())}function ve(o,t){if(o&1&&(i(0,"div",87),r(1),n()),o&2){let e=m(3);l(),C(" ",e.getFieldError("eventId")," ")}}function ge(o,t){if(o&1&&(i(0,"span"),s(1,"i",97),r(2),n()),o&2){let e,a=m(4);l(2),C(" ",a.formatCurrency(((e=a.selectedEvent())==null?null:e.cost)||0)," ")}}function be(o,t){if(o&1){let e=_();i(0,"div",88)(1,"div",89)(2,"div",62)(3,"h6",90),s(4,"i",91),r(5," Evento seleccionado "),n(),i(6,"h6",77),r(7),n(),i(8,"div",39)(9,"div",92)(10,"span"),s(11,"i",93),r(12),n(),i(13,"span"),s(14,"i",94),r(15),n(),p(16,ge,3,1,"span"),n()()(),i(17,"button",95),g("click",function(){f(e);let d=m(3);return x(d.clearSelectedEvent())}),s(18,"i",96),n()()()}if(o&2){let e,a,d,c=m(3);l(7),b((e=c.selectedEvent())==null?null:e.title),l(5),C(" ",c.formatDate((a=c.selectedEvent())==null?null:a.startDate)," "),l(3),C(" ",(d=c.selectedEvent())==null?null:d.location," "),l(),u(c.eventHasCost()?16:-1)}}function fe(o,t){if(o&1){let e=_();i(0,"div",68)(1,"div",74)(2,"div",75),s(3,"i",76),n(),i(4,"div")(5,"h6",77),r(6,"Paso 1: Seleccionar Evento"),n(),i(7,"p",78),r(8,"Busque y seleccione el evento para la inscripci\xF3n"),n()()(),i(9,"div",79)(10,"div",80)(11,"label",81),r(12," Buscar evento "),i(13,"span",82),r(14,"*"),n()(),i(15,"div",83)(16,"span",84),s(17,"i",85),n(),i(18,"app-autocomplete",86),g("valueChange",function(d){f(e);let c=m(2);return x(c.onEventSelected(d))}),n()(),p(19,ve,2,1,"div",87),p(20,be,19,4,"div",88),n()()()}if(o&2){let e=m(2);l(18),y("options",e.availableEvents())("displayFn",e.displayEvent)("placeholder","Escriba el nombre del evento...")("minChars",e.autocompleteConfig.minCharsLocal)("maxHeight",e.autocompleteConfig.maxHeight)("noResultsMessage","No se encontraron eventos")("inputClass",e.isFieldInvalid("eventId")?"form-control form-control-sm border-start-0 is-invalid":"form-control form-control-sm border-start-0 bg-light")("inInputGroup",!0),l(),u(e.isFieldInvalid("eventId")?19:-1),l(),u(e.selectedEvent()?20:-1)}}function xe(o,t){if(o&1&&(i(0,"div",87),r(1),n()),o&2){let e=m(3);l(),C(" ",e.getFieldError("userId")," ")}}function _e(o,t){if(o&1&&(i(0,"span"),s(1,"i",106),r(2),n()),o&2){let e,a=m(4);l(2),C(" ",(e=a.selectedUser())==null?null:e.institution," ")}}function Ce(o,t){if(o&1){let e=_();i(0,"div",88)(1,"div",89)(2,"div",100)(3,"div",101)(4,"div",102)(5,"span",103),r(6),n()()(),i(7,"div",62)(8,"h6",90),s(9,"i",91),r(10," Participante seleccionado "),n(),i(11,"h6",77),r(12),n(),i(13,"div",39)(14,"div",92)(15,"span"),s(16,"i",104),r(17),n(),p(18,_e,3,1,"span"),n()()()(),i(19,"button",105),g("click",function(){f(e);let d=m(3);return x(d.clearSelectedUser())}),s(20,"i",96),n()()()}if(o&2){let e,a,d,c,I=m(3);l(6),b(I.getUserInitials((e=I.selectedUser())==null?null:e.fullName)),l(6),b((a=I.selectedUser())==null?null:a.fullName),l(5),C(" ",(d=I.selectedUser())==null?null:d.email," "),l(),u((c=I.selectedUser())!=null&&c.institution?18:-1)}}function he(o,t){if(o&1){let e=_();i(0,"div",68)(1,"div",74)(2,"div",75),s(3,"i",98),n(),i(4,"div")(5,"h6",77),r(6,"Paso 2: Seleccionar Participante"),n(),i(7,"p",78),r(8,"Busque y seleccione el usuario que se inscribir\xE1"),n()()(),i(9,"div",79)(10,"div",80)(11,"label",81),r(12," Buscar participante "),i(13,"span",82),r(14,"*"),n()(),i(15,"div",83)(16,"span",84),s(17,"i",85),n(),i(18,"app-autocomplete",99),g("valueChange",function(d){f(e);let c=m(2);return x(c.onUserSelected(d))}),n()(),p(19,xe,2,1,"div",87),p(20,Ce,21,4,"div",88),n()()()}if(o&2){let e=m(2);l(18),y("searchFn",e.searchUsers)("preloadFn",e.preloadUsers)("displayFn",e.displayUser)("placeholder","Buscar por DNI, email o nombres...")("minChars",e.autocompleteConfig.minCharsRemote)("searchLimit",e.autocompleteConfig.searchLimit)("debounceMs",e.autocompleteConfig.debounceTime)("maxHeight",e.autocompleteConfig.maxHeight)("noResultsMessage","No se encontraron usuarios")("enablePreload",!0)("inputClass",e.isFieldInvalid("userId")?"form-control form-control-sm border-start-0 is-invalid":"form-control form-control-sm border-start-0 bg-light")("inInputGroup",!0)("autocomplete","off"),l(),u(e.isFieldInvalid("userId")?19:-1),l(),u(e.selectedUser()?20:-1)}}function Se(o,t){if(o&1&&(i(0,"div",80)(1,"div",121)(2,"div",126),s(3,"i",127),n(),i(4,"div")(5,"h6",124),r(6,"Rol"),n(),i(7,"p",128),r(8),n()()()()),o&2){let e=m(4);l(8),b(e.selectedRoleName())}}function Ee(o,t){if(o&1&&(i(0,"div",80)(1,"div",129),s(2,"i",97),i(3,"div")(4,"strong",41),r(5,"Costo del evento:"),n(),i(6,"span",130),r(7),n(),i(8,"div",131),r(9," El participante deber\xE1 realizar el pago para completar la inscripci\xF3n "),n()()()()),o&2){let e,a=m(4);l(7),b(a.formatCurrency(((e=a.selectedEvent())==null?null:e.cost)||0))}}function ye(o,t){if(o&1&&(i(0,"div",117)(1,"h6",118),s(2,"i",119),r(3," Resumen de la Inscripci\xF3n "),n(),i(4,"div",120)(5,"div",21)(6,"div",108)(7,"div",109)(8,"div",121)(9,"div",122),s(10,"i",123),n(),i(11,"div")(12,"h6",124),r(13,"Evento"),n(),i(14,"p",77),r(15),n(),i(16,"small",60),r(17),n()()()(),i(18,"div",109)(19,"div",121)(20,"div",125)(21,"span",103),r(22),n()(),i(23,"div")(24,"h6",124),r(25,"Participante"),n(),i(26,"p",77),r(27),n(),i(28,"small",60),r(29),n()()()(),p(30,Se,9,1,"div",80),p(31,Ee,10,1,"div",80),n()()()()),o&2){let e,a,d,c,I,D,h=m(3);l(15),b((e=h.selectedEvent())==null?null:e.title),l(2),C(" ",h.formatDate((a=h.selectedEvent())==null?null:a.startDate)," "),l(5),b(h.getUserInitials((d=h.selectedUser())==null?null:d.fullName)),l(5),b((c=h.selectedUser())==null?null:c.fullName),l(2),b((I=h.selectedUser())==null?null:I.email),l(),u((D=h.registrationForm.get("participantRoleId"))!=null&&D.value?30:-1),l(),u(h.eventHasCost()?31:-1)}}function Ie(o,t){if(o&1){let e=_();i(0,"div",68)(1,"div",74)(2,"div",75),s(3,"i",107),n(),i(4,"div")(5,"h6",77),r(6,"Paso 3: Informaci\xF3n Adicional"),n(),i(7,"p",78),r(8,"Complete los detalles opcionales de la inscripci\xF3n"),n()()(),i(9,"div",108)(10,"div",109)(11,"label",110),r(12," Rol del participante "),n(),i(13,"div",83)(14,"span",84),s(15,"i",111),n(),i(16,"app-autocomplete",112),g("valueChange",function(d){f(e);let c=m(2);return x(c.onRoleSelected(d))}),n()(),i(17,"div",113),s(18,"i",114),r(19," El rol espec\xEDfica la funci\xF3n del participante en el evento "),n()(),i(20,"div",80)(21,"label",115),r(22," Notas o comentarios "),n(),s(23,"textarea",116),i(24,"div",113),s(25,"i",114),r(26," Cualquier informaci\xF3n relevante para la inscripci\xF3n (opcional) "),n()()(),p(27,ye,32,7,"div",117),n()}if(o&2){let e=m(2);l(16),y("options",e.availableRoles())("displayFn",e.displayRole)("placeholder","Seleccione un rol (opcional)...")("minChars",e.autocompleteConfig.minCharsLocal)("maxHeight",e.autocompleteConfig.maxHeight)("noResultsMessage","No se encontraron roles")("formControl",e.roleAutocompleteControl)("inputClass","form-control border-start-0 bg-light form-control-sm")("inInputGroup",!0)("highlightSearch",!0),l(11),u(e.showSummary()?27:-1)}}function Fe(o,t){if(o&1){let e=_();i(0,"button",132),g("click",function(){f(e);let d=m(2);return x(d.nextStep())}),i(1,"span",41),r(2,"Siguiente"),n(),s(3,"i",133),n()}if(o&2){let e=m(2);y("disabled",!e.canProceedToNextStep())}}function Re(o,t){o&1&&(s(0,"span",137),i(1,"span",41),r(2,"Creando..."),n())}function we(o,t){o&1&&(s(0,"i",138),i(1,"span",41),r(2,"Crear Inscripci\xF3n"),n())}function De(o,t){if(o&1){let e=_();i(0,"button",134),g("click",function(){f(e);let d=m(2);return x(d.onCancel())}),s(1,"i",135),i(2,"span",41),r(3,"Cancelar"),n()(),i(4,"button",136),p(5,Re,3,0)(6,we,3,0),n()}if(o&2){let e=m(2);l(4),y("disabled",!e.isFormValid()||e.submitting()),l(),u(e.submitting()?5:6)}}function Ve(o,t){if(o&1){let e=_();i(0,"form",67),g("ngSubmit",function(){f(e);let d=m();return x(d.onSubmit())}),p(1,fe,21,10,"div",68),p(2,he,21,15,"div",68),p(3,Ie,28,11,"div",68),i(4,"div",69)(5,"button",70),g("click",function(){f(e);let d=m();return x(d.previousStep())}),s(6,"i",71),i(7,"span",41),r(8,"Anterior"),n()(),i(9,"div",72),p(10,Fe,4,1,"button",73)(11,De,7,2),n()()()}if(o&2){let e=m();y("formGroup",e.registrationForm),l(),u(e.currentStep()===1?1:-1),l(),u(e.currentStep()===2?2:-1),l(),u(e.currentStep()===3?3:-1),l(2),y("disabled",!e.canGoToPreviousStep()),l(5),u(e.currentStep()<e.totalSteps?10:11)}}function Te(o,t){o&1&&(i(0,"div",44)(1,"h6",139),s(2,"i",114),r(3," Evento con costo "),n(),i(4,"p",140),r(5," Este evento tiene un costo asociado. El participante recibir\xE1 instrucciones de pago despu\xE9s de completar la inscripci\xF3n. "),n()())}function Ne(o,t){o&1&&(i(0,"div",51),s(1,"i",91),r(2," Paso completado "),n())}function Pe(o,t){o&1&&(i(0,"div",51),s(1,"i",138),r(2," Informaci\xF3n v\xE1lida "),n())}function Ue(o,t){o&1&&(i(0,"div",52),s(1,"i",141),r(2," Complete la informaci\xF3n requerida "),n())}var le=class o{fb=S(ee);router=S(H);route=S(L);destroyRef=S(U);registrationService=S(oe);eventService=S(re);userService=S(ie);staticDataService=S(ne);autocompleteConfig=O.autocomplete;loadingState=E("idle");loading=v(()=>this.loadingState()==="loading");submissionState=E("idle");submitting=v(()=>this.submissionState()==="submitting");error=E(null);currentStep=E(1);totalSteps=3;selectedEvent=E(null);selectedUser=E(null);availableEvents=E([]);availableRoles=E([]);registrationForm=this.fb.group({eventId:this.fb.control(null,[w.required]),userId:this.fb.control(null,[w.required]),participantRoleId:this.fb.control(null),notes:this.fb.control("")});roleAutocompleteControl=this.fb.control(null);formSteps=v(()=>[{id:1,title:"Seleccionar Evento",icon:"calendar-event",completed:!!this.selectedEvent(),valid:this.registrationForm.get("eventId")?.valid??!1},{id:2,title:"Seleccionar Participante",icon:"person",completed:!!this.selectedUser(),valid:this.registrationForm.get("userId")?.valid??!1},{id:3,title:"Informaci\xF3n Adicional",icon:"info-circle",completed:this.currentStep()>3,valid:!0}]);currentStepData=v(()=>{let t=this.formSteps();return t.find(e=>e.id===this.currentStep())||t[0]});canProceedToNextStep=v(()=>{let t=this.currentStep();return this.formSteps().find(d=>d.id===t)?.valid??!1});canGoToPreviousStep=v(()=>this.currentStep()>1);isFormValid=v(()=>this.registrationForm.get("eventId")?.valid&&this.registrationForm.get("userId")?.valid);formProgress=v(()=>{let t=this.formSteps().filter(e=>e.completed).length;return Math.round(t/this.totalSteps*100)});showSummary=v(()=>this.selectedEvent()&&this.selectedUser());eventHasCost=v(()=>{let t=this.selectedEvent();return t&&t.cost&&t.cost>0});selectedRoleName=v(()=>{let t=this.registrationForm.get("participantRoleId")?.value;return t?this.availableRoles().find((d,c)=>c+1===t)?.name||"Rol desconocido":"Sin rol espec\xEDfico"});validationErrors=v(()=>{let t=[],e=this.registrationForm;return e.get("eventId")?.invalid&&e.get("eventId")?.touched&&t.push({field:"eventId",message:"Debe seleccionar un evento",type:"required"}),e.get("userId")?.invalid&&e.get("userId")?.touched&&t.push({field:"userId",message:"Debe seleccionar un participante",type:"required"}),t});hasValidationErrors=v(()=>this.validationErrors().length>0);trackByStepId=(t,e)=>e.id;trackByRoleIndex=(t,e)=>t;searchUsers=(t,e)=>{let a={query:t.trim(),limit:e};return this.userService.queryUsersForAutocomplete(a)};preloadUsers=()=>this.userService.preloadUsersForAutocomplete(15);displayEvent=t=>{if(!t)return"";let e=new Date(t.startDate).toLocaleDateString("es-PE"),a=t.location?` - ${t.location}`:"";return`${t.title} (${e})${a}`};displayUser=t=>t?`${t.fullName||"Sin nombre"} - ${t.email} - ${t.documentNumber||"Sin DNI"}`:"";displayRole=t=>t?`${t.name} - ${t.description}`:"";ngOnInit(){this.loadInitialData(),this.setupFormSubscriptions(),this.handleRouteParams()}loadInitialData(){this.loadingState.set("loading"),this.loadEvents(),this.staticDataService.getParticipantRolesList().pipe(F(this.destroyRef)).subscribe({next:t=>{this.availableRoles.set(t),this.loadingState.set("success")},error:t=>{console.error("Error loading participant roles:",t),this.error.set("Error al cargar los roles de participante"),this.loadingState.set("error")}})}loadEvents(){return V(this,null,function*(){try{let t=yield T(this.eventService.preloadEventsForAutocomplete(100));this.availableEvents.set(t)}catch(t){console.error("Error loading events:",t)}})}setupFormSubscriptions(){this.registrationForm.valueChanges.pipe(P(this.registrationForm.value),F(this.destroyRef)).subscribe(()=>{})}handleRouteParams(){N([this.route.queryParams,this.route.params]).pipe(F(this.destroyRef)).subscribe(([t,e])=>{let a=t.eventId,d=t.userId;a&&this.preSelectEvent(Number(a)),d&&this.preSelectUser(Number(d))})}preSelectEvent(t){this.registrationForm.patchValue({eventId:t})}preSelectUser(t){this.registrationForm.patchValue({userId:t})}goToStep(t){t>=1&&t<=this.totalSteps&&this.currentStep.set(t)}nextStep(){this.canProceedToNextStep()&&this.currentStep()<this.totalSteps&&this.currentStep.update(t=>t+1)}previousStep(){this.canGoToPreviousStep()&&this.currentStep.update(t=>t-1)}onEventSelected(t){this.selectedEvent.set(t),t?(this.registrationForm.patchValue({eventId:t.id}),this.currentStep()===1&&setTimeout(()=>this.nextStep(),300)):this.registrationForm.patchValue({eventId:null})}onUserSelected(t){this.selectedUser.set(t),t?(this.registrationForm.patchValue({userId:t.id}),this.currentStep()===2&&setTimeout(()=>this.nextStep(),300)):this.registrationForm.patchValue({userId:null})}onRoleSelected(t){if(t){let e=this.availableRoles().findIndex(d=>d.name===t.name),a=e>=0?e+1:null;this.registrationForm.patchValue({participantRoleId:a})}else this.registrationForm.patchValue({participantRoleId:null})}clearSelectedEvent(){this.selectedEvent.set(null),this.registrationForm.patchValue({eventId:null})}clearSelectedUser(){this.selectedUser.set(null),this.registrationForm.patchValue({userId:null})}formatDate(t){if(!t?.trim())return"Fecha no disponible";try{let e=new Date(t);return isNaN(e.getTime())?"Fecha inv\xE1lida":e.toLocaleDateString("es-PE",{day:"2-digit",month:"long",year:"numeric"})}catch(e){return console.error("Error formatting date:",t,e),"Fecha inv\xE1lida"}}formatCurrency(t){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(t)}getUserInitials(t){if(!t?.trim())return"U";try{return t.trim().split(" ").filter(a=>a.length>0).slice(0,2).map(a=>a.charAt(0).toUpperCase()).join("")}catch(e){return console.error("Error generating initials:",t,e),"U"}}getStepClass(t){return t.completed?"bg-success text-white":t.id===this.currentStep()?"bg-primary text-white":"bg-light text-muted"}getStepIcon(t){return t.completed?"check-circle-fill":t.icon}isFieldInvalid(t){let e=this.registrationForm.get(t);return!!(e?.invalid&&e?.touched)}getFieldError(t){return this.validationErrors().find(a=>a.field===t)?.message||""}onSubmit(){if(this.registrationForm.invalid){this.registrationForm.markAllAsTouched();return}let t=this.registrationForm.value,e={eventId:t.eventId,userId:t.userId,participantRoleId:t.participantRoleId||void 0,notes:t.notes?.trim()||void 0};this.submissionState.set("submitting"),this.error.set(null),this.registrationService.createRegistration(e).pipe(F(this.destroyRef)).subscribe({next:a=>{this.submissionState.set("success"),this.router.navigate(["/inscripciones",a.id],{queryParams:{created:"true"}})},error:a=>{console.error("Error creating registration:",a),this.submissionState.set("error"),this.error.set(a.error?.message||"Error al crear la inscripci\xF3n. Por favor, intente nuevamente.")}})}onCancel(){this.registrationForm.dirty?confirm("\xBFEst\xE1 seguro de cancelar? Se perder\xE1n los datos ingresados.")&&this.router.navigate(["/inscripciones"]):this.router.navigate(["/inscripciones"])}clearError(){this.error.set(null)}retry(){this.error.set(null),this.loadInitialData()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=k({type:o,selectors:[["app-registration-create"]],decls:102,vars:11,consts:[[1,"container-fluid","py-3"],["aria-label","breadcrumb",1,"mb-3"],[1,"breadcrumb","mb-0","fs-7"],[1,"breadcrumb-item"],["routerLink","/",1,"text-decoration-none","link-primary"],[1,"bi","bi-house-door","me-1"],[1,"d-none","d-sm-inline"],["routerLink","/inscripciones",1,"text-decoration-none","link-primary"],[1,"bi","bi-person-badge","me-1"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","flex-column","flex-sm-row","align-items-start","align-items-sm-center","justify-content-between","gap-2","mb-3"],[1,"order-1","order-sm-0"],[1,"fw-normal","small","mb-1","d-flex","align-items-center"],[1,"bg-primary","rounded-circle","p-1","me-2","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"bi","bi-plus-circle","text-white","fs-7"],[1,"text-muted","fs-8","mb-0","d-none","d-sm-block"],[1,"d-flex","gap-1","order-0","order-sm-1"],["type","button","title","Volver a la lista",1,"btn","btn-outline-secondary","btn-sm","px-2",3,"click"],[1,"bi","bi-arrow-left","me-1"],[1,"d-none","d-sm-inline","small"],[1,"card","border-0","shadow-sm","mb-3"],[1,"card-body","py-2"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"mb-0","fw-normal","small","text-muted"],[1,"badge","text-bg-primary","small"],[1,"progress","mb-2",2,"height","6px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary"],[1,"d-flex","flex-wrap","gap-1","gap-md-2"],[1,"d-flex","align-items-center","gap-1","flex-grow-1","cursor-pointer",3,"class","title"],["role","alert",1,"alert","alert-danger","alert-dismissible","d-flex","align-items-center","mb-3"],[1,"row","g-3"],[1,"col-12","col-xl-8"],[1,"card","border-0","shadow-sm"],[1,"card-body","py-3"],[1,"text-center","py-3"],["novalidate","",3,"formGroup"],[1,"col-12","col-xl-4"],[1,"card-title","d-flex","align-items-center","fw-normal","small"],[1,"bi","bi-lightbulb","me-1","text-warning"],[1,"fs-8","text-muted"],[1,"mb-2"],[1,"small"],[1,"mt-1","ps-3","mb-0"],[1,"mb-1"],[1,"alert","alert-info","border-0","py-2","mb-2"],[1,"mt-1","mb-0"],["href","#",1,"text-decoration-none","fs-8"],[1,"card","border-0","shadow-sm","mt-2"],[1,"bi","bi-clipboard-check","me-1","text-success"],[1,"fs-8"],[1,"d-flex","justify-content-between","align-items-center","mb-1"],[1,"text-success"],[1,"text-muted"],[1,"d-flex","align-items-center","gap-1","flex-grow-1","cursor-pointer",3,"click","title"],[1,"rounded-circle","d-flex","align-items-center","justify-content-center","flex-shrink-0",2,"width","28px","height","28px"],[1,"bi","fs-8"],[1,"d-none","d-md-block"],[1,"fs-8","fw-normal"],[1,"text-success","fs-8"],[1,"text-primary","fs-8"],[1,"text-muted","fs-8"],[1,"bi","bi-exclamation-triangle-fill","me-1"],[1,"flex-grow-1"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],["role","status",1,"spinner-border","text-primary","mb-2"],[1,"visually-hidden"],[1,"text-muted","small"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"d-flex","justify-content-between","align-items-center","pt-3","border-top"],["type","button",1,"btn","btn-outline-secondary","btn-sm","px-2",3,"click","disabled"],[1,"bi","bi-chevron-left","me-1"],[1,"d-flex","gap-1"],["type","button",1,"btn","btn-primary","btn-sm","px-2",3,"disabled"],[1,"d-flex","align-items-center","gap-2","mb-3"],[1,"bg-primary-subtle","rounded-circle","p-1","d-flex","align-items-center","justify-content-center",2,"width","36px","height","36px"],[1,"bi","bi-calendar-event","text-primary","fs-7"],[1,"mb-1","fw-normal","small"],[1,"text-muted","fs-8","mb-0"],[1,"row"],[1,"col-12"],[1,"form-label","fw-normal","small","mb-1"],[1,"text-danger"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-light","border-end-0"],[1,"bi","bi-search","text-muted"],[3,"valueChange","options","displayFn","placeholder","minChars","maxHeight","noResultsMessage","inputClass","inInputGroup"],[1,"invalid-feedback","d-block","fs-8"],[1,"alert","alert-success","border-0","shadow-sm","mt-2","py-2"],[1,"d-flex","justify-content-between","align-items-start"],[1,"alert-heading","mb-1","d-flex","align-items-center","fw-normal","small"],[1,"bi","bi-check-circle-fill","me-1"],[1,"d-flex","flex-wrap","gap-2"],[1,"bi","bi-calendar","me-1"],[1,"bi","bi-geo-alt","me-1"],["type","button","title","Cambiar evento",1,"btn","btn-sm","btn-outline-secondary","ms-2",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-credit-card","me-1"],[1,"bi","bi-person","text-primary","fs-7"],[3,"valueChange","searchFn","preloadFn","displayFn","placeholder","minChars","searchLimit","debounceMs","maxHeight","noResultsMessage","enablePreload","inputClass","inInputGroup","autocomplete"],[1,"d-flex","align-items-center","flex-grow-1"],[1,"me-2"],[1,"bg-primary","rounded-circle","d-flex","align-items-center","justify-content-center","text-white",2,"width","36px","height","36px"],[1,"fw-normal","fs-8"],[1,"bi","bi-envelope","me-1"],["type","button","title","Cambiar participante",1,"btn","btn-sm","btn-outline-secondary","ms-1","px-2",3,"click"],[1,"bi","bi-building","me-1"],[1,"bi","bi-info-circle","text-primary","fs-7"],[1,"row","g-2"],[1,"col-12","col-md-6"],["for","participantRoleId",1,"form-label","fw-normal","small","mb-1"],[1,"bi","bi-person-badge","text-muted"],[3,"valueChange","options","displayFn","placeholder","minChars","maxHeight","noResultsMessage","formControl","inputClass","inInputGroup","highlightSearch"],[1,"form-text","fs-8"],[1,"bi","bi-info-circle","me-1"],["for","notes",1,"form-label","fw-normal","small","mb-1"],["id","notes","formControlName","notes","rows","3","placeholder","Informaci\xF3n adicional, requerimientos especiales, comentarios, etc.",1,"form-control","form-control-sm","bg-light"],[1,"mt-3"],[1,"fw-normal","small","mb-2"],[1,"bi","bi-list-check","me-1"],[1,"card","bg-light","border-0"],[1,"d-flex","align-items-start","gap-2"],[1,"bg-primary","rounded-circle","p-1","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"bi","bi-calendar-event","text-white","fs-8"],[1,"mb-1","text-muted","fs-8"],[1,"bg-success","rounded-circle","d-flex","align-items-center","justify-content-center","text-white",2,"width","32px","height","32px"],[1,"bg-info","rounded-circle","p-1","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"bi","bi-person-badge","text-white","fs-8"],[1,"mb-0","fw-normal","small"],[1,"alert","alert-warning","mb-0","py-2","d-flex","align-items-center"],[1,"ms-1","small"],[1,"fs-8","mt-1"],["type","button",1,"btn","btn-primary","btn-sm","px-2",3,"click","disabled"],[1,"bi","bi-chevron-right","ms-1"],["type","button",1,"btn","btn-outline-secondary","btn-sm","px-2","me-1",3,"click"],[1,"bi","bi-x-circle","me-1"],["type","submit",1,"btn","btn-success","btn-sm","px-2",3,"disabled"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"bi","bi-check-circle","me-1"],[1,"alert-heading","fw-normal","small"],[1,"mb-0","fs-8"],[1,"bi","bi-circle","me-1"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),s(5,"i",5),i(6,"span",6),r(7,"Inicio"),n()()(),i(8,"li",3)(9,"a",7),s(10,"i",8),i(11,"span",6),r(12,"Inscripciones"),n()()(),i(13,"li",9),r(14,"Nueva Inscripci\xF3n"),n()()(),i(15,"div",10)(16,"div",11)(17,"h6",12)(18,"div",13),s(19,"i",14),n(),i(20,"div")(21,"span"),r(22,"Nueva Inscripci\xF3n"),n(),i(23,"p",15),r(24,"Complete la informaci\xF3n para registrar una nueva inscripci\xF3n"),n()()()(),i(25,"div",16)(26,"button",17),g("click",function(){return a.onCancel()}),s(27,"i",18),i(28,"span",19),r(29,"Volver"),n()()()(),i(30,"div",20)(31,"div",21)(32,"div",22)(33,"h6",23),r(34,"Progreso del formulario"),n(),i(35,"span",24),r(36),n()(),i(37,"div",25),s(38,"div",26),n(),i(39,"div",27),A(40,ce,9,9,"div",28,a.trackByStepId,!0),n()()(),p(42,pe,8,1,"div",29),i(43,"div",30)(44,"div",31)(45,"div",32)(46,"div",33),p(47,ue,6,0,"div",34)(48,Ve,12,6,"form",35),n()()(),i(49,"div",36)(50,"div",32)(51,"div",33)(52,"h6",37),s(53,"i",38),r(54," Gu\xEDa de Inscripci\xF3n "),n(),i(55,"div",39)(56,"div",40)(57,"strong",41),r(58,"Pasos para crear una inscripci\xF3n:"),n(),i(59,"ol",42)(60,"li",43),r(61,"Busque y seleccione el evento"),n(),i(62,"li",43),r(63,"Busque y seleccione el participante"),n(),i(64,"li",43),r(65,"Complete informaci\xF3n adicional (opcional)"),n(),i(66,"li"),r(67,"Revise el resumen y confirme"),n()()(),i(68,"div",40)(69,"strong",41),r(70,"Consejos \xFAtiles:"),n(),i(71,"ul",42)(72,"li",43),r(73,"Use al menos 2 caracteres para buscar"),n(),i(74,"li",43),r(75,"Los campos marcados con * son obligatorios"),n(),i(76,"li",43),r(77,"Puede navegar entre pasos usando los botones"),n()()(),p(78,Te,6,0,"div",44),i(79,"div")(80,"strong",41),r(81,"\xBFNecesita ayuda?"),n(),i(82,"p",45)(83,"a",46),r(84,"Ver documentaci\xF3n"),n(),r(85," \xB7 "),i(86,"a",46),r(87,"Contactar soporte"),n()()()()()(),i(88,"div",47)(89,"div",21)(90,"h6",37),s(91,"i",48),r(92," Progreso Actual "),n(),i(93,"div",49)(94,"div",50)(95,"span"),r(96),n(),i(97,"span",24),r(98),n()(),p(99,Ne,3,0,"div",51)(100,Pe,3,0,"div",51)(101,Ue,3,0,"div",52),n()()()()()()),e&2&&(l(36),C("",a.formProgress(),"%"),l(2),q("width",a.formProgress(),"%"),M("aria-valuenow",a.formProgress()),l(2),G(a.formSteps()),l(2),u(a.error()?42:-1),l(5),u(a.loading()?47:48),l(31),u(a.eventHasCost()?78:-1),l(18),b(a.currentStepData().title),l(2),B("Paso ",a.currentStep()," de ",a.totalSteps),l(),u(a.currentStepData().completed?99:a.currentStepData().valid?100:101))},dependencies:[j,$,Q,te,K,z,W,J,X,Y,Z,ae],encapsulation:2,changeDetection:0})};export{le as RegistrationCreateComponent};
